"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_widgets_BasemapLayerList_js"],{

/***/ "./node_modules/@arcgis/core/widgets/BasemapLayerList.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/BasemapLayerList.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_events_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/events.js */ "./node_modules/@arcgis/core/core/events.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Widget_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Widget.js */ "./node_modules/@arcgis/core/widgets/Widget.js");
/* harmony import */ var _BasemapLayerList_BasemapLayerListViewModel_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BasemapLayerList/BasemapLayerListViewModel.js */ "./node_modules/@arcgis/core/widgets/BasemapLayerList/BasemapLayerListViewModel.js");
/* harmony import */ var _LayerList_ListItem_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LayerList/ListItem.js */ "./node_modules/@arcgis/core/widgets/LayerList/ListItem.js");
/* harmony import */ var _LayerList_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LayerList/support/layerListUtils.js */ "./node_modules/@arcgis/core/widgets/LayerList/support/layerListUtils.js");
/* harmony import */ var _support_componentsUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/componentsUtils.js */ "./node_modules/@arcgis/core/widgets/support/componentsUtils.js");
/* harmony import */ var _support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./support/globalCss.js */ "./node_modules/@arcgis/core/widgets/support/globalCss.js");
/* harmony import */ var _support_Heading_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./support/Heading.js */ "./node_modules/@arcgis/core/widgets/support/Heading.js");
/* harmony import */ var _support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./support/legacyIcon.js */ "./node_modules/@arcgis/core/widgets/support/legacyIcon.js");
/* harmony import */ var _support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./support/decorators/accessibleHandler.js */ "./node_modules/@arcgis/core/widgets/support/decorators/accessibleHandler.js");
/* harmony import */ var _support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./support/decorators/messageBundle.js */ "./node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js");
/* harmony import */ var _support_decorators_vmEvent_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./support/decorators/vmEvent.js */ "./node_modules/@arcgis/core/widgets/support/decorators/vmEvent.js");
/* harmony import */ var _support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./support/jsxFactory.js */ "./node_modules/@arcgis/core/widgets/support/jsxFactory.js");
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./support/widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! sortablejs */ "./node_modules/sortablejs/modular/sortable.esm.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const T=_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(_LayerList_ListItem_js__WEBPACK_IMPORTED_MODULE_11__["default"]);function L(e,t,i){e.splice(i,0,e.splice(t,1)[0])}const A=".*\\S+.*",S="root-layers",$="data-layer-uid",E="layerUid",w="esri-basemap-layer-list",k=`${w}__item`,M=`${w}__list`,B={base:w,widgetIcon:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.layers,newUI:`${w}--new-ui`,titleContainer:`${w}__title-container`,mainHeading:`${w}__main-heading`,editingCard:`${w}__editing-card`,editingInput:`${w}__editing-input`,editingActions:`${w}__editing-actions`,editButton:`${w}__edit-button`,editButtonIcon:`${w}__edit-button-icon`,submitButton:`${w}__submit-button`,cancelButton:`${w}__cancel-button`,noItems:`${w}__no-items`,horizontalRule:`${w}__hr`,list:M,listHeading:`${M}-heading`,listRoot:`${M}--root`,listExclusive:`${M}--exclusive`,listEmpty:`${w}__list--empty`,listEmptyState:`${w}__list-empty-state`,listInherited:`${M}--inherited`,listIndependent:`${M}--independent`,item:k,itemOnlyChild:`${k}--only-child`,itemContent:`${k}-content`,itemMessage:`${k}--has-message`,itemInvisible:`${k}--invisible`,itemInvisibleAtScale:`${k}--invisible-at-scale`,itemChildren:`${k}--has-children`,itemSelectable:`${k}--selectable`,itemContainer:`${k}-container`,actionsMenu:`${k}-actions-menu`,actionsMenuItem:`${k}-actions-menu-item`,actionsMenuItemActive:`${k}-actions-menu-item--active`,actions:`${k}-actions`,actionsList:`${k}-actions-list`,action:`${k}-action`,actionIcon:`${k}-action-icon`,actionImage:`${k}-action-image`,actionTitle:`${k}-action-title`,actionToggle:`${w}__action-toggle`,actionToggleOn:`${w}__action-toggle--on`,label:`${k}-label`,message:`${k}-message`,title:`${k}-title`,statusIndicator:`${w}__status-indicator`,publishing:`${w}__publishing`,updating:`${w}__updating`,connectionStatus:`${w}__connection-status`,connectionStatusConnected:`${w}__connection-status--connected`,toggleVisible:`${k}-toggle`,toggleVisibleIcon:`${k}-toggle-icon`,toggleIcon:`${k}-toggle-icon`,radioIcon:`${k}-radio-icon`,childToggle:`${w}__child-toggle`,childToggleOpen:`${w}__child-toggle--open`,childOpened:`${w}__child-toggle-icon--opened`,childClosed:`${w}__child-toggle-icon--closed`,childClosed_RTL:`${w}__child-toggle-icon--closed-rtl`,sortableChosen:`${w}--chosen`},R={actions:"actions",actionSection:"action-section",baseItems:"base-items",referenceItems:"reference-items"},O={exclusive:"exclusive",inherited:"inherited",independent:"independent"};function x(e){const{actionsOpen:t,children:i}=e;t&&(e.actionsOpen=!1),i.forEach((e=>x(e)))}const j={baseLayers:!0,referenceLayers:!0,statusIndicators:!0,errors:!1};let N=class extends _Widget_js__WEBPACK_IMPORTED_MODULE_9__["default"]{constructor(e,t){super(e,t),this._tooltipReferenceMap=new Map,this._editingTitle=!1,this._editTitleInput=null,this._editTitleButton=null,this._focusOnElement=null,this._sortableBaseLayers=null,this._sortableReferenceLayers=null,this._sortableBaseLayersNode=null,this._sortableReferenceLayersNode=null,this._focusSortUid=null,this.visibleItems=null,this.editingEnabled=!1,this.headingLevel=2,this.iconClass=B.widgetIcon,this.messages=null,this.messagesCommon=null,this.multipleSelectionEnabled=!1,this.selectedItems=new T,this.style="classic",this.viewModel=new _BasemapLayerList_BasemapLayerListViewModel_js__WEBPACK_IMPORTED_MODULE_10__["default"],this.visibleElements={...j}}initialize(){const{baseItems:e,referenceItems:t}=this;this._setVisibleItems(),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.visibleElements),(()=>{this._itemsChanged(e,R.baseItems),this._itemsChanged(t,R.referenceItems)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.baseItems),"change",(()=>{this._itemsChanged(e,R.baseItems)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.referenceItems),"change",(()=>this._itemsChanged(t,R.referenceItems))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.editingEnabled),(()=>this._toggleSorting()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial)])}loadDependencies(){return (0,_support_componentsUtils_js__WEBPACK_IMPORTED_MODULE_13__.loadCalciteComponents)({icon:()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-icon_js").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-icon.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-icon.js")),tooltip:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_debounce_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_floatin-6ba6c0"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-7d86d6")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-tooltip.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-tooltip.js"))})}destroy(){this._destroyBaseSortable(),this._destroyReferenceSortable(),this._tooltipReferenceMap.clear()}get basemapTitle(){return this.viewModel.basemapTitle}set basemapTitle(e){this.viewModel.basemapTitle=e}get baseListItemCreatedFunction(){return this.viewModel.baseListItemCreatedFunction}set baseListItemCreatedFunction(e){this.viewModel.baseListItemCreatedFunction=e}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get referenceListItemCreatedFunction(){return this.viewModel.referenceListItemCreatedFunction}set referenceListItemCreatedFunction(e){this.viewModel.referenceListItemCreatedFunction=e}get baseItems(){return this.viewModel.baseItems}get referenceItems(){return this.viewModel.referenceItems}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...j,...e}}triggerAction(e,t){return this.viewModel.triggerAction(e,t)}render(){const{state:e}=this.viewModel,t={[B.newUI]:"modern"===this.style,[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.hidden]:"loading"===e,[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.disabled]:"disabled"===e},i=this._renderItemTooltips(),s=this._renderReferenceSection(),n=this._renderBaseSection(),r=s&&n?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("hr",{class:B.horizontalRule}):null,o=[this._renderTitleContainer(),s,r,n];return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:this.classes(B.base,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.widget,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.panel,t)},[i,o])}_renderItemTooltip(e){const{_tooltipReferenceMap:t,messages:i}=this;return e?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("calcite-tooltip",{referenceElement:t.get(e.uid)},i.layerIncompatibleTooltip):null}_renderItemTooltipNodes(e){const{incompatible:t,children:i}=e;return[t?this._renderItemTooltip(e):null,...!t&&i?i.toArray().map((e=>this._renderItemTooltipNodes(e))):[]]}_renderItemTooltips(){return this.visibleItems?.toArray().map((e=>this._renderItemTooltipNodes(e)))??[]}_renderEditingInput(){const{messages:e}=this,{basemapTitle:t}=this.viewModel;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("label",{class:B.editingInput},e.basemapTitle,(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("input",{afterCreate:this._storeEditTitleInput,afterUpdate:this._focusEditElement,"aria-label":e.basemapTitle,bind:this,class:_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.input,pattern:A,placeholder:e.basemapTitle,required:!0,role:"textbox",title:e.basemapTitle,type:"text",value:t??void 0}))}_renderCancelButton(){const{messagesCommon:e}=this;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("button",{"aria-label":e.cancel,bind:this,class:this.classes(_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.button,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.buttonTertiary),onclick:this._toggleEditingTitle,title:e.cancel,type:"button"},e.cancel)}_renderSubmitButton(){const{messagesCommon:e}=this;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("button",{"aria-label":e.form.submit,bind:this,class:_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.button,title:e.form.submit,type:"submit"},e.form.ok)}_renderEditingForm(){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:B.editingCard},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("form",{bind:this,onsubmit:this._formSubmit},this._renderEditingInput(),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:B.editingActions},this._renderCancelButton(),this._renderSubmitButton())))}_renderBasemapTitle(){const{basemapTitle:e}=this.viewModel;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)(_support_Heading_js__WEBPACK_IMPORTED_MODULE_15__.Heading,{class:this.classes(_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.heading,B.mainHeading),level:this.headingLevel},e)}_renderEditTitleButton(){const{_editingTitle:e,editingEnabled:t,messagesCommon:i}=this;return t&&!e?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("button",{afterCreate:this._storeEditTitleButton,afterUpdate:this._focusEditElement,"aria-label":i.edit,bind:this,class:B.editButton,"data-node-ref":"_editButtonNode",onclick:this._toggleEditingTitle,title:i.edit,type:"button"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{"aria-hidden":"true",class:this.classes(_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.edit,B.editButtonIcon)})):null}_renderTitleContainer(){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:B.titleContainer},this._editingTitle?this._renderEditingForm():this._renderBasemapTitle(),this._renderEditTitleButton())}_renderNoLayersInfo(e,t){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:B.noItems,key:t},e)}_renderList(e,t){const{messages:i}=this,s="reference"===t?this._destroyReferenceSortable:this._destroyBaseSortable;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("ul",{afterCreate:this._sortNodeCreated,afterRemoved:s,"aria-label":i.widgetLabel,bind:this,class:this.classes(B.list,B.listRoot,B.listIndependent),"data-node-ref":t,key:t,role:this.editingEnabled&&e.length?"listbox":void 0},e.map((i=>this._renderItem({item:i,parent:null,itemType:t,isOnlyChild:1===e.length}))))}_renderBaseHeader(){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)(_support_Heading_js__WEBPACK_IMPORTED_MODULE_15__.Heading,{class:this.classes(_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.heading,B.listHeading),key:"base-heading",level:(0,_support_Heading_js__WEBPACK_IMPORTED_MODULE_15__.incrementHeadingLevel)(this.headingLevel)},this.messages.baseHeading)}_renderBaseSection(){const{baseItems:e,messages:t,visibleElements:i}=this;if(!i.baseLayers)return null;const s=this._getItems(e),n="base";return[this._renderBaseHeader(),[0===s.length?this._renderNoLayersInfo(t.noBaseLayers,n):null,this._renderList(s,n)]]}_renderReferenceHeader(){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)(_support_Heading_js__WEBPACK_IMPORTED_MODULE_15__.Heading,{class:this.classes(_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.heading,B.listHeading),key:"reference-heading",level:(0,_support_Heading_js__WEBPACK_IMPORTED_MODULE_15__.incrementHeadingLevel)(this.headingLevel)},this.messages.referenceHeading)}_renderReferenceSection(){const{referenceItems:e,messages:t,visibleElements:i}=this;if(!i.referenceLayers)return null;const s=this._getItems(e),n="reference";return[this._renderReferenceHeader(),[0===s.length?this._renderNoLayersInfo(t.noReferenceLayers,n):null,this._renderList(s,n)]]}_renderChildrenToggle(e,t){const{messagesCommon:i}=this,{children:s}=e,n=!!e.error,r=!!s.length&&!n,o={[B.childToggleOpen]:e.open},l=e.open?i.collapse:i.expand;return r?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{"aria-controls":t,"aria-label":l,class:this.classes(B.childToggle,o),"data-item":e,key:"toggle-children",onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,role:"button",tabIndex:0,title:l},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{"aria-hidden":"true",class:this.classes(B.childClosed,_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.rightTriangleArrow)}),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{"aria-hidden":"true",class:this.classes(B.childOpened,_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.downArrow)}),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{"aria-hidden":"true",class:this.classes(B.childClosed_RTL,_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.leftTriangleArrow)})):null}_renderItemMessage(e){return e.error?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:B.message,key:"esri-basemap-layer-list__error",role:"alert"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{"aria-hidden":"true",class:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.noticeTriangle}),this.messages.layerError):e.incompatible?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:B.message,key:"esri-basemap-layer-list__incompatible",role:"alert"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{afterCreate:t=>this._setTooltipReference(t,e),"aria-hidden":"true",bind:this,class:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.noticeTriangle,tabIndex:0}),this.messages.layerIncompatible):null}_renderActionsMenuIcon(e,t){const{messagesCommon:i}=this,s={[B.actionsMenuItemActive]:e.actionsOpen};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{"aria-controls":t,"aria-label":i.options,bind:this,class:this.classes(B.actionsMenuItem,s),"data-item":e,key:"actions-menu-toggle",onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,role:"button",tabIndex:0,title:i.options},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{"aria-hidden":"true",class:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.handleHorizontal}))}_renderActionsMenu(e,t,i,s){const{panel:n}=e,r=n&&n.visible?this._renderPanelButton(n):null,o=1===i&&this._getSingleActionButton(t),l=o?this._renderAction({item:e,action:o,singleAction:!0}):null,a=!o&&i?this._renderActionsMenuIcon(e,s):null;return a||r||o?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:B.actionsMenu,key:"actions-menu"},r,l,a):null}_renderChildList(e,t){const{editingEnabled:i}=this,{visibilityMode:s,children:n}=e,r=this._hasChildren(e),o=!r&&i&&"group"===e.layer?.type,{exclusive:l,inherited:a}=O,d={[B.listEmpty]:!r,[B.listExclusive]:s===l,[B.listInherited]:s===a,[B.listIndependent]:s!==a&&s!==l};return r||o?r?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("ul",{afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,"aria-expanded":e.open?"true":"false",bind:this,class:this.classes(B.list,d),"data-group":e.uid,"data-item":e,hidden:!e.open||null,id:t,key:"list-items",role:i?"listbox":s===l?"radiogroup":"group"},n?.map((t=>this._renderItem({item:t,parent:e}))).toArray()):(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{bind:this,class:B.listEmptyState,id:t,key:"list-items"},this.messages.noItemsToDisplay):null}_renderItemContent(e,t,i){const{id:s}=this,n=`${s}_${e.uid}`,r=`${n}_actions`,o=`${n}__list`,{panel:l}=e,a=this._filterActions(e.actionsSections),d=this._countActions(a);return[(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:B.itemContainer,key:"list-item-container"},this._renderChildrenToggle(e,o),this._renderLabel(e,t,i),this._renderActionsMenu(e,a,d,r)),this._renderItemMessage(e),d?this._renderActionsSections(e,a,r):null,l&&l.open&&!l.disabled?l.render():null,this._renderChildList(e,o)]}_renderItem({item:e,parent:t,itemType:i,isOnlyChild:s}){const{style:n,id:r,editingEnabled:o,selectedItems:l}=this,a=`${`${r}_${e.uid}`}__title`,d=this._hasMessage(e),c=this._hasChildren(e),h={[B.itemChildren]:c,[B.itemMessage]:!!d,[B.itemInvisible]:"modern"===n&&!e.visible,[B.itemInvisibleAtScale]:!e.visibleAtCurrentScale,[B.itemSelectable]:o};if(o){const n={[$]:e.layer?.uid};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("li",{afterCreate:this._focusListItem,afterUpdate:this._focusListItem,"aria-labelledby":a,"aria-selected":(0,_LayerList_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_12__.findSelectedItem)(e,l)?"true":"false",bind:this,class:this.classes(B.item,h,{[B.itemOnlyChild]:!!s}),"data-item":e,"data-item-type":i,key:`item-with-selection-${e.uid}`,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,role:"option",tabIndex:0,...n},this._renderItemContent(e,t,a))}return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("li",{afterCreate:this._focusListItem,afterUpdate:this._focusListItem,"aria-labelledby":a,bind:this,class:this.classes(B.item,h),key:`item-no-selection-${e.uid}`},this._renderItemContent(e,t,a))}_renderConnectionIcon(e){const{connectionStatus:t}=e;return null!=t?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("calcite-icon",{icon:"connected"===t?"check-circle":"offline",scale:"s"}):null}_renderItemStatus(e,t){const{visibleElements:i}=this;if(!i.statusIndicators)return null;const{connectionStatus:s,publishing:n,updating:r}=e,o=r&&!t,l=!!s;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{class:this.classes({[B.statusIndicator]:!0,[B.publishing]:n,[B.updating]:o,[B.connectionStatus]:l,[B.connectionStatusConnected]:l&&"connected"===s}),key:"layer-item-status"},this._renderConnectionIcon(e))}_renderItemTitle(e,t){const{messages:i}=this,s=e.title||i.untitledLayer,n=e.visibleAtCurrentScale?s:`${s} (${i.layerInvisibleAtScale})`;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{"aria-label":n,class:B.title,id:t,key:"layer-title-container",title:n},s)}_renderItemToggleIcon({visible:e},t){const{style:i}=this,{exclusive:s}=O,n=t?.visibilityMode,r="modern"===i,o=n===s,l={[B.toggleIcon]:r&&!o,[B.radioIcon]:r&&o,[_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.radioChecked]:o&&e,[_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.radioUnchecked]:o&&!e,[_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.visible]:!o&&e,[_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.nonVisible]:!o&&!e};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{"aria-hidden":"true",class:this.classes(l),key:"item-toggle-icon"})}_renderItemToggle(e,t,i){const{editingEnabled:s,messages:n}=this,{exclusive:r}=O,o=t?.visibilityMode,l=o===r?"radio":"switch";return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",s?{"aria-checked":e.visible?"true":"false","aria-labelledby":i,bind:this,class:B.toggleVisible,"data-item":e,"data-parent-visibility":o,key:"item-toggle-selection-enabled",onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,role:l,tabIndex:0,title:n.layerVisibility}:{class:B.toggleVisible,key:"item-toggle"},this._renderItemToggleIcon(e,t))}_renderLabel(e,t,i){const{editingEnabled:s,style:n,messages:r}=this,{inherited:o,exclusive:l}=O,a=t?.visibilityMode,d=a===l?"radio":"switch",c=this._renderItemTitle(e,i),h=this._renderItemStatus(e,t),u=this._renderItemToggle(e,t,i),m="modern"===n?[c,h,u]:[u,c,h],g=(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",s?{class:B.label,key:`item-label-no-selection-${e.uid}`}:{"aria-checked":e.visible?"true":"false","aria-labelledby":i,bind:this,class:B.label,"data-item":e,"data-parent-visibility":a,key:`item-label-with-selection-${e.uid}`,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,role:d,tabIndex:0,title:r.layerVisibility},m);return a===o||e.error?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:B.label,key:`item-label-container-${e.uid}`},this._renderItemTitle(e,i),this._renderItemStatus(e,t)):g}_renderPanelButton(e){const{className:t,open:i,title:s,image:n,disabled:r}=e,o=n||t?t:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.defaultAction,l=this._getIconImageStyles(e),a={[B.actionsMenuItemActive]:i&&!r},d={[B.actionImage]:!!l["background-image"],[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.disabledElement]:e.disabled};return o&&(d[o]=!!o),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{"aria-disabled":e.disabled.toString(),"aria-label":s,bind:this,class:this.classes(B.actionsMenuItem,a),"data-panel":e,key:`panel-${e.uid}`,onclick:this._triggerPanel,onkeydown:this._triggerPanel,role:"button",tabIndex:e.disabled?void 0:0,title:s},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{class:this.classes(d),styles:l}))}_renderActionsSections(e,t,i){const s=t.toArray().map(((t,i)=>(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("ul",{class:B.actionsList,key:`${e}-action-section-${i}`},this._renderActionSection(e,t))));return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{"aria-expanded":e.actionsOpen?"true":"false",class:B.actions,hidden:!e.actionsOpen||null,id:i,key:"actions-section",role:"group"},s)}_renderActionSection(e,t){return(t&&t.toArray()).map((t=>this._renderAction({item:e,action:t})))}_renderActionIcon(e){const{active:t,className:i}=e,s=this._getIconImageStyles(e),n="button"!==e.type||e.image||i?i:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.defaultAction,r={[B.actionImage]:!t&&!!s["background-image"],[_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_16__.legacyIcon.loadingIndicator]:t,[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.rotating]:t};return n&&!t&&(r[n]=!0),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{"aria-hidden":"true",class:this.classes(B.actionIcon,r),key:"action-icon",styles:s})}_renderActionTitle(e,t){return t?null:(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",{class:B.actionTitle,key:"action-title"},e)}_renderAction(e){const{item:t,action:i,singleAction:s}=e,{active:n,disabled:r,title:o}=i,l={[B.actionsMenuItem]:s&&"button"===i.type,[B.action]:n||!s&&"toggle"!==i.type,[B.actionToggle]:!n&&"toggle"===i.type,[B.actionToggleOn]:!n&&"toggle"===i.type&&i.value,[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.disabledElement]:r},a=[this._renderActionIcon(i),this._renderActionTitle(o,s)];return s?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{"aria-label":o,bind:this,classes:l,"data-action":i,"data-item":t,key:`single-action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:0,title:o??void 0},a):(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("li",{"aria-label":o,bind:this,classes:l,"data-action":i,"data-item":t,key:`action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:0,title:o??void 0},a)}_setVisibleItems(){const{referenceItems:e,baseItems:t,visibleElements:i}=this,s=e.concat(t);this.visibleItems=s?.filter((e=>!e.hidden&&(i.errors||!e.error)))}_setTooltipReference(e,t){this._tooltipReferenceMap.set(t.uid,e),this.scheduleRender()}_hasMessage(e){return!!e.error||e.incompatible}_hasChildren(e){return!!e.children.length&&!this._hasMessage(e)}_filterActions(e){return e.map((e=>e.filter((e=>e.visible))))}_destroyReferenceSortable(){const{_sortableReferenceLayers:e}=this;e?.el&&e.destroy(),this._sortableReferenceLayersNode=null}_destroyBaseSortable(){const{_sortableBaseLayers:e}=this;e?.el&&e.destroy(),this._sortableBaseLayersNode=null}_toggleEditingTitle(){const{_editingTitle:e}=this,t=!e;this._editingTitle=t,this._focusOnElement=t?"edit-input":"edit-button",this.scheduleRender()}_storeEditTitleInput(e){this._editTitleInput=e,this._focusEditElement()}_focusEditElement(){this._editTitleInput&&"edit-input"===this._focusOnElement&&(this._focusOnElement=null,this._editTitleInput.focus()),this._editTitleButton&&"edit-button"===this._focusOnElement&&(this._focusOnElement=null,this._editTitleButton.focus())}_storeEditTitleButton(e){this._editTitleButton=e,this._focusEditElement()}_formSubmit(e){e.preventDefault();const t=this._editTitleInput?.value;t?.trim()&&(this.basemapTitle=t),this._toggleEditingTitle()}_itemMovedList(e){const t=V(e.item);if(!t)return;const i=e.to.dataset.nodeRef,s=e.from.dataset.nodeRef,n=e.newIndex;this.viewModel.transferListItem({listItem:t,from:s,to:i,newIndex:n})}_toggleSortingBaseLayers(){const{_sortableBaseLayers:e,_sortableBaseLayersNode:t,editingEnabled:i}=this;if(!t)return;const s=!i;if(e)e.option("disabled",s);else{const e=sortablejs__WEBPACK_IMPORTED_MODULE_22__["default"].create(t,{dataIdAttr:$,group:S,filter:`.${B.itemOnlyChild}`,fallbackTolerance:4,disabled:s,onSort:()=>this._sortLayersToItems({type:"base",itemIds:e.toArray()}),onAdd:e=>this._itemMovedList(e),chosenClass:B.sortableChosen});this._sortableBaseLayers=e}}_toggleSortingReferenceLayers(){const{_sortableReferenceLayers:e,_sortableReferenceLayersNode:t,editingEnabled:i}=this;if(!t)return;const s=!i;if(e)e.option("disabled",s);else{const e=sortablejs__WEBPACK_IMPORTED_MODULE_22__["default"].create(t,{dataIdAttr:$,group:S,disabled:s,fallbackTolerance:4,onSort:()=>this._sortLayersToItems({type:"reference",itemIds:e.toArray()}),onAdd:e=>this._itemMovedList(e),chosenClass:B.sortableChosen});this._sortableReferenceLayers=e}}_toggleSorting(){this._toggleSortingBaseLayers(),this._toggleSortingReferenceLayers()}_sortNodeCreated(e){const t=e.getAttribute("data-node-ref");"base"===t&&(this._sortableBaseLayersNode=e),"reference"===t&&(this._sortableReferenceLayersNode=e),this._toggleSorting()}_getItems(e){return e.toArray().filter((e=>!e.hidden&&(this.visibleElements.errors||!e.error)))}_getSingleActionButton(e){return e.reduce((e=>e)).filter((e=>e&&"button"===e.type)).at(0)}_sortLayersToItems({type:e,itemIds:t}){const i="base"===e?this.view?.map?.basemap?.baseLayers:"reference"===e?this.view?.map?.basemap?.referenceLayers:null;i&&i.sort(((e,i)=>{const s=t.indexOf(e.uid),n=t.indexOf(i.uid);return s>n?-1:s<n?1:0}))}_focusListItem(e){const{_focusSortUid:t}=this;if(!e||!t)return;const i=V(e);i?.layer?.uid===t&&(e.focus(),this._focusSortUid=null)}_selectionKeydown(e){const t=["ArrowDown","ArrowUp"],s=(0,_core_events_js__WEBPACK_IMPORTED_MODULE_2__.eventKey)(e);if(!t.includes(s))return void this._toggleSelection(e);e.stopPropagation();const n=e.currentTarget,r=V(n),o=n.dataset.itemType,{_sortableBaseLayers:l,_sortableReferenceLayers:a,selectedItems:d}=this,c="base"===o?l:"reference"===o?a:null;if(!c||!r)return;const h=(0,_LayerList_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_12__.findSelectedItem)(r,d),m=c.toArray(),g=e.target,p=m.indexOf(g.dataset[E]),{baseItems:_,referenceItems:b}=this.viewModel;if(-1!==p){if("ArrowDown"===s){const e=p+1,t=e>=m.length;if(t&&"reference"===o&&h){const e=_.length;return this.viewModel.transferListItem({listItem:r,from:"reference",to:"base",newIndex:e}),this._focusSortUid=r.layer?.uid,void this.scheduleRender()}if(t&&"reference"===o){const e=_.at(0);return this._focusSortUid=e?.layer?.uid,void this.scheduleRender()}if(t)return;return h&&(L(m,p,e),c.sort(m),this._sortLayersToItems({type:o,itemIds:c.toArray()})),this._focusSortUid=r.layer?.uid,void this.scheduleRender()}if("ArrowUp"===s){const e=p-1,t=e<0;if(t&&"base"===o&&h){if(1===_.length)return;const e=0;return this.viewModel.transferListItem({listItem:r,from:"base",to:"reference",newIndex:e}),this._focusSortUid=r.layer?.uid,void this.scheduleRender()}if(t&&"base"===o){const e=b.at(-1);return this._focusSortUid=e?.layer?.uid,void this.scheduleRender()}if(t)return;h&&(L(m,p,e),c.sort(m),this._sortLayersToItems({type:o,itemIds:c.toArray()})),this._focusSortUid=r.layer?.uid,this.scheduleRender()}}}_watchActionSectionChanges(e,t){this.addHandles(e.on("change",(()=>this.scheduleRender())),t),e.forEach((e=>this._renderOnActionChanges(e,t)))}_renderOnActionChanges(e,t){"toggle"!==e.type?"slider"!==e.type?this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[e.className,e.image,e.id,e.title,e.visible]),(()=>this.scheduleRender()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial)],t):this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[e.className,e.id,e.title,e.visible,e.value,e.displayValueEnabled,e.max,e.min,e.step]),(()=>this.scheduleRender()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial)],t):this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[e.className,e.image,e.id,e.title,e.visible,e.value]),(()=>this.scheduleRender()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial)],t)}_renderOnItemChanges(e,t){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[e.actionsOpen,e.visible,e.open,e.updating,e.connectionStatus,e.publishing,e.title,e.visibleAtCurrentScale,e.error,e.visibilityMode,e.panel,e.panel?.title,e.panel?.content,e.panel?.className]),(()=>this.scheduleRender()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[e.hidden,e.error]),(()=>this._setVisibleItems())),e.actionsSections.on("change",(()=>this.scheduleRender())),e.children.on("change",(()=>this.scheduleRender()))],t),e.children.forEach((e=>this._renderOnItemChanges(e,t))),e.actionsSections.forEach((e=>this._watchActionSectionChanges(e,t)))}_itemsChanged(e,t){this.removeHandles(t),this._tooltipReferenceMap.clear(),this._setVisibleItems(),e.forEach((e=>this._renderOnItemChanges(e,t))),this.scheduleRender()}_countActions(e){return e.reduce(((e,t)=>e+t.length),0)}_getIconImageStyles(e){const t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?`url("${t}")`:""}}_toggleActionsOpen(e){e.stopPropagation();const t=V(e.currentTarget);if(!t)return;const{actionsOpen:i}=t,s=!i,{baseItems:n,referenceItems:r}=this;s&&(n.forEach((e=>x(e))),r.forEach((e=>x(e)))),t.actionsOpen=s}_triggerPanel(e){e.stopPropagation();const t=H(e.currentTarget);t&&!t.disabled&&(t.open=!t.open)}_triggerAction(e){e.stopPropagation();const t=e.currentTarget,i=U(t),s=V(t);s&&i&&("toggle"===i.type&&(i.value=!i.value),this.triggerAction(i,s))}_toggleVisibility(e){e.stopPropagation();const t=e.currentTarget,i=t.getAttribute("data-parent-visibility"),s=V(t);s&&(i===O.exclusive&&s.visible||(s.visible=!s.visible))}_toggleChildrenClick(e){e.stopPropagation();const t=V(e.currentTarget);t&&(t.open=!t.open)}_toggleSelection(e){e.stopPropagation();const{multipleSelectionEnabled:t,selectedItems:i}=this,s=t&&(e.metaKey||e.ctrlKey),n=V(e.currentTarget);if(!n)return;const r=(0,_LayerList_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_12__.findSelectedItem)(n,i),{length:o}=i;if(!s)return o&&!(r&&1===o)?(i.removeAll(),void i.add(n)):void(r?i.remove(r):i.add(n));r?i.remove(r):i.add(n)}get test(){return{visibleItems:this.visibleItems}}};function U(e){return e["data-action"]}function H(e){return e["data-panel"]}function V(e){return e["data-item"]}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],N.prototype,"visibleItems",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],N.prototype,"basemapTitle",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],N.prototype,"baseListItemCreatedFunction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],N.prototype,"editingEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],N.prototype,"headingLevel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],N.prototype,"iconClass",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],N.prototype,"label",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_18__.messageBundle)("esri/widgets/BasemapLayerList/t9n/BasemapLayerList")],N.prototype,"messages",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_18__.messageBundle)("esri/t9n/common")],N.prototype,"messagesCommon",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],N.prototype,"multipleSelectionEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],N.prototype,"referenceListItemCreatedFunction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],N.prototype,"baseItems",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],N.prototype,"referenceItems",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],N.prototype,"selectedItems",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],N.prototype,"style",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],N.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_vmEvent_js__WEBPACK_IMPORTED_MODULE_19__.vmEvent)("trigger-action"),(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_BasemapLayerList_BasemapLayerListViewModel_js__WEBPACK_IMPORTED_MODULE_10__["default"]})],N.prototype,"viewModel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],N.prototype,"visibleElements",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_5__.cast)("visibleElements")],N.prototype,"castVisibleElements",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_17__.accessibleHandler)()],N.prototype,"_toggleActionsOpen",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_17__.accessibleHandler)()],N.prototype,"_triggerPanel",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_17__.accessibleHandler)()],N.prototype,"_triggerAction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_17__.accessibleHandler)()],N.prototype,"_toggleVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_17__.accessibleHandler)()],N.prototype,"_toggleChildrenClick",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_17__.accessibleHandler)()],N.prototype,"_toggleSelection",null),N=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.widgets.BasemapLayerList")],N);const P=N;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/BasemapLayerList/BasemapLayerListViewModel.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/BasemapLayerList/BasemapLayerListViewModel.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _LayerList_ListItem_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../LayerList/ListItem.js */ "./node_modules/@arcgis/core/widgets/LayerList/ListItem.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n={view:"view",basemap:"basemap",baseLayers:"base-layers",referenceLayers:"reference-layers",baseLayersListMode:"reference-layers-list-mode",referenceLayersListMode:"base-layers-list-mode",baseLayerViews:"base-layer-views",referenceLayerViews:"reference-layer-views",children:"children"},l=_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(_LayerList_ListItem_js__WEBPACK_IMPORTED_MODULE_9__["default"]);let m=class extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedAccessor{constructor(e){super(e),this.baseItems=new l,this.baseListItemCreatedFunction=null,this.checkPublishStatusEnabled=!1,this.referenceListItemCreatedFunction=null,this.referenceItems=new l,this.view=null,this._compileBaseList=this._compileBaseList.bind(this),this._compileReferenceList=this._compileReferenceList.bind(this)}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[this.view?.map?.basemap,this.view,this.view?.ready,this.view?.basemapView]),(()=>this._watchBasemapLayers()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[this.baseListItemCreatedFunction,this.checkPublishStatusEnabled]),(()=>this._baseListItemCreatedFunctionChanged())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[this.referenceListItemCreatedFunction,this.checkPublishStatusEnabled]),(()=>this._referenceListItemCreatedFunctionChanged()))],n.view)}destroy(){this.view=null,this.baseItems.removeAll(),this.referenceItems.removeAll()}get basemapTitle(){return this.view?.map?.basemap?.title??null}set basemapTitle(e){this._override("basemapTitle",e)}get state(){return this.view?.ready?"ready":this.view?"loading":"disabled"}triggerAction(e,s){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:s})}transferListItem({listItem:e,from:s,to:t,newIndex:i}){const{referenceItems:a,baseItems:r}=this,{layer:c}=e,o=this.view?.map?.basemap,n=o?.baseLayers,l=o?.referenceLayers;if(!n||!l||s===t)return;const m="reference"===t?a:r,h="reference"===s?l:n,d="reference"===t?l:n;("reference"===s?a:r).remove(e),h.remove(c),m.add(e,i),d.add(c,i)}_createItemChangeHandles({items:e,key:s,callback:t}){this.removeHandles(s),t(),e&&this.addHandles(e.on("change",(()=>t())),s)}_createListItem({layer:e,type:s}){const{view:t,baseListItemCreatedFunction:i,referenceListItemCreatedFunction:a,checkPublishStatusEnabled:r}=this;return new _LayerList_ListItem_js__WEBPACK_IMPORTED_MODULE_9__["default"]({layer:e,checkPublishStatusEnabled:r,listItemCreatedFunction:"base"===s?i:a,view:t})}_watchLayersListMode({layers:e,key:s,callback:t}){this.removeHandles(s),e&&e.forEach((e=>{this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>e.listMode),(()=>t())),s)}))}_compileListItems({layers:e,items:s,key:t,type:i,callback:a}){this._watchLayersListMode({layers:e,key:t,callback:a}),this._createNewItems({type:i,items:s,layers:e}),this._removeItems({items:s,layers:e}),this._sortItems(s,e)}_compileReferenceList(){const{referenceItems:e}=this,s=this.view?.map?.basemap?.referenceLayers;this._compileListItems({type:"reference",layers:s,items:e,key:n.referenceLayersListMode,callback:this._compileReferenceList})}_compileBaseList(){const{baseItems:e}=this,s=this.view?.map?.basemap?.baseLayers;this._compileListItems({type:"base",layers:s,items:e,key:n.baseLayersListMode,callback:this._compileBaseList})}_compileLists(){this._compileReferenceList(),this._compileBaseList()}_createNewItems({items:e,layers:s,type:t}){s&&s.forEach((s=>{e.find((e=>e.layer===s))||e.add(this._createListItem({type:t,layer:s}))}))}_removeItems({items:e,layers:s}){e&&e.forEach((t=>{if(!t)return;const i=s?.find((e=>t.layer===e));i||(this.removeHandles(`${n.children}-${t.uid}`),e.remove(t))}))}_sortItems(e,s){e&&s&&e.sort(((e,t)=>{const i=s.indexOf(e.layer),a=s.indexOf(t.layer);return i>a?-1:i<a?1:0}))}_removeAllBaseItems(){const{baseItems:e}=this;e.forEach((e=>{this.removeHandles(`${n.children}-${e.uid}`)})),e.removeAll()}_removeAllReferenceItems(){const{referenceItems:e}=this;e.forEach((e=>{this.removeHandles(`${n.children}-${e.uid}`)})),e.removeAll()}_baseListItemCreatedFunctionChanged(){this._removeAllBaseItems(),this._compileLists()}_referenceListItemCreatedFunctionChanged(){this._removeAllReferenceItems(),this._compileLists()}_watchBasemapLayers(){const{view:e}=this;this.removeHandles([n.baseLayers,n.referenceLayers,n.basemap,n.baseLayerViews,n.referenceLayerViews]),this._compileLists(),e&&e.ready&&this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.view?.map?.basemap?.baseLayers),(e=>this._createItemChangeHandles({items:e,key:n.baseLayers,callback:this._compileBaseList})),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.view?.map?.basemap?.referenceLayers),(e=>this._createItemChangeHandles({items:e,key:n.referenceLayers,callback:this._compileReferenceList})),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.view?.basemapView?.baseLayerViews),(e=>this._createItemChangeHandles({items:e,key:n.baseLayerViews,callback:this._compileBaseList})),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.view?.basemapView?.referenceLayerViews),(e=>this._createItemChangeHandles({items:e,key:n.referenceLayerViews,callback:this._compileReferenceList})),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial)],n.basemap)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:l,readOnly:!0})],m.prototype,"baseItems",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],m.prototype,"basemapTitle",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],m.prototype,"baseListItemCreatedFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],m.prototype,"checkPublishStatusEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],m.prototype,"referenceListItemCreatedFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:l,readOnly:!0})],m.prototype,"referenceItems",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],m.prototype,"state",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],m.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],m.prototype,"transferListItem",null),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.widgets.BasemapLayerList.BasemapLayerListViewModel")],m);const h=m;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/support/Heading.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/support/Heading.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Heading: () => (/* binding */ e),
/* harmony export */   incrementHeadingLevel: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _globalCss_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globalCss.js */ "./node_modules/@arcgis/core/widgets/support/globalCss.js");
/* harmony import */ var _widgetUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var _jsxFactory_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./jsxFactory.js */ "./node_modules/@arcgis/core/widgets/support/jsxFactory.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e({level:r,class:e,...n},l){const a=s(r);return (0,_jsxFactory_js__WEBPACK_IMPORTED_MODULE_3__.tsx)(`h${a}`,{...n,"aria-level":String(a),class:(0,_widgetUtils_js__WEBPACK_IMPORTED_MODULE_2__.classes)(_globalCss_js__WEBPACK_IMPORTED_MODULE_1__.globalCss.heading,e),role:"heading"},l)}function s(t){return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.ceil(t),1,6)}function n(r,t=1){return s(r+t)}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfd2lkZ2V0c19CYXNlbWFwTGF5ZXJMaXN0X2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNzc0MsUUFBUSwyREFBQyxRQUFRLCtEQUFDLEVBQUUsa0JBQWtCLCtCQUErQixvR0FBb0csRUFBRSxhQUFhLEVBQUUsV0FBVyxrQkFBa0IsK0RBQUMsaUJBQWlCLEVBQUUsNEJBQTRCLEVBQUUsa0NBQWtDLEVBQUUsK0JBQStCLEVBQUUsZ0NBQWdDLEVBQUUsbUNBQW1DLEVBQUUsaUNBQWlDLEVBQUUsaUNBQWlDLEVBQUUsb0NBQW9DLEVBQUUsaUNBQWlDLEVBQUUsNEJBQTRCLEVBQUUsOEJBQThCLEVBQUUsNEJBQTRCLEVBQUUsc0JBQXNCLEVBQUUseUJBQXlCLEVBQUUsMEJBQTBCLEVBQUUsaUNBQWlDLEVBQUUscUNBQXFDLEVBQUUsZ0NBQWdDLEVBQUUsdUNBQXVDLEVBQUUsNkJBQTZCLEVBQUUseUJBQXlCLEVBQUUsZ0NBQWdDLEVBQUUscUNBQXFDLEVBQUUsc0NBQXNDLEVBQUUsa0NBQWtDLEVBQUUsK0JBQStCLEVBQUUsMkJBQTJCLEVBQUUsa0NBQWtDLEVBQUUsNkNBQTZDLEVBQUUsdUNBQXVDLEVBQUUseUJBQXlCLEVBQUUseUJBQXlCLEVBQUUsdUJBQXVCLEVBQUUsNkJBQTZCLEVBQUUsOEJBQThCLEVBQUUsK0JBQStCLEVBQUUsbUNBQW1DLEVBQUUsOEJBQThCLEVBQUUsbUJBQW1CLEVBQUUsbUJBQW1CLEVBQUUsMkJBQTJCLEVBQUUsa0NBQWtDLEVBQUUsMEJBQTBCLEVBQUUsZ0NBQWdDLEVBQUUsa0RBQWtELEVBQUUsaURBQWlELEVBQUUsOEJBQThCLEVBQUUsNEJBQTRCLEVBQUUsMkJBQTJCLEVBQUUsNEJBQTRCLEVBQUUsbUNBQW1DLEVBQUUscUNBQXFDLEVBQUUsNENBQTRDLEVBQUUsZ0RBQWdELEVBQUUsbURBQW1ELEVBQUUsVUFBVSxJQUFJLHlHQUF5RyxJQUFJLHVFQUF1RSxjQUFjLE1BQU0seUJBQXlCLEdBQUcsMkNBQTJDLFNBQVMsZ0VBQWdFLG9CQUFvQixrREFBQyxDQUFDLGlCQUFpQixnaUJBQWdpQix1RkFBQyx1QkFBdUIsTUFBTSxhQUFhLE1BQU0sNkJBQTZCLE1BQU0seUNBQXlDLDZEQUFDLGtDQUFrQyx5RUFBeUUsR0FBRywwREFBQyxxQ0FBcUMsa0NBQWtDLEdBQUcsMERBQUMsa0ZBQWtGLDZEQUFDLHVEQUF1RCwyREFBQyxJQUFJLG1CQUFtQixPQUFPLG1GQUFDLEVBQUUsU0FBUywrVkFBa0UsYUFBYSxxbkJBQXFFLENBQUMsRUFBRSxVQUFVLCtGQUErRixtQkFBbUIsbUNBQW1DLG9CQUFvQiw4QkFBOEIsa0NBQWtDLGtEQUFrRCxtQ0FBbUMsNkNBQTZDLFlBQVksc0NBQXNDLGFBQWEsZ0NBQWdDLHVDQUF1Qyx1REFBdUQsd0NBQXdDLGtEQUFrRCxnQkFBZ0IsZ0NBQWdDLHFCQUFxQixxQ0FBcUMsV0FBVywyQkFBMkIsWUFBWSxzQkFBc0IsdUJBQXVCLE9BQU8sV0FBVyxtQkFBbUIseUNBQXlDLFNBQVMsTUFBTSxRQUFRLG1CQUFtQixpQ0FBaUMsNkRBQUMsd0JBQXdCLDZEQUFDLDBCQUEwQixrR0FBa0csNERBQUMsT0FBTyx1QkFBdUIsOENBQThDLE9BQU8sNERBQUMsUUFBUSwwQkFBMEIsNkRBQUMsUUFBUSw2REFBQyxVQUFVLFFBQVEsc0JBQXNCLE1BQU0sa0NBQWtDLE1BQU0sU0FBUyw0REFBQyxvQkFBb0IsOEJBQThCLGtDQUFrQywyQkFBMkIsTUFBTSwwQkFBMEIsR0FBRyw0R0FBNEcsc0JBQXNCLGtGQUFrRixzQkFBc0IsTUFBTSxXQUFXLE9BQU8sZUFBZSxnQkFBZ0IsT0FBTyw0REFBQyxVQUFVLHFCQUFxQixnQkFBZ0IsNERBQUMsVUFBVSxxSEFBcUgsNkRBQUMsd0hBQXdILEdBQUcsc0JBQXNCLE1BQU0saUJBQWlCLE1BQU0sT0FBTyw0REFBQyxXQUFXLG1EQUFtRCw2REFBQyxRQUFRLDZEQUFDLCtFQUErRSxXQUFXLHNCQUFzQixNQUFNLGlCQUFpQixNQUFNLE9BQU8sNERBQUMsV0FBVywyQ0FBMkMsNkRBQUMsMENBQTBDLFlBQVkscUJBQXFCLE9BQU8sNERBQUMsUUFBUSxvQkFBb0IsQ0FBQyw0REFBQyxTQUFTLG9DQUFvQyw0QkFBNEIsNERBQUMsUUFBUSx1QkFBdUIsMERBQTBELHNCQUFzQixNQUFNLGVBQWUsZ0JBQWdCLE9BQU8sNERBQUMsQ0FBQyx5REFBQyxFQUFFLG1CQUFtQiw2REFBQyxnREFBZ0QsSUFBSSx5QkFBeUIsTUFBTSxrREFBa0QsTUFBTSxhQUFhLDREQUFDLFdBQVcseU5BQXlOLENBQUMsNERBQUMsU0FBUyx3Q0FBd0MsK0RBQUMsd0JBQXdCLFFBQVEsd0JBQXdCLE9BQU8sNERBQUMsUUFBUSx1QkFBdUIsd0dBQXdHLHlCQUF5QixPQUFPLDREQUFDLFFBQVEsc0JBQXNCLElBQUksaUJBQWlCLE1BQU0sV0FBVyxpRkFBaUYsT0FBTyw0REFBQyxPQUFPLDBOQUEwTiw2QkFBNkIsdURBQXVELEtBQUssb0JBQW9CLE9BQU8sNERBQUMsQ0FBQyx5REFBQyxFQUFFLG1CQUFtQiw2REFBQyxpREFBaUQsMkVBQUMsb0JBQW9CLDRCQUE0QixxQkFBcUIsTUFBTSx5Q0FBeUMsTUFBTSw2QkFBNkIsbUNBQW1DLHNIQUFzSCx5QkFBeUIsT0FBTyw0REFBQyxDQUFDLHlEQUFDLEVBQUUsbUJBQW1CLDZEQUFDLHNEQUFzRCwyRUFBQyxvQkFBb0IsaUNBQWlDLDBCQUEwQixNQUFNLDhDQUE4QyxNQUFNLGtDQUFrQyx3Q0FBd0MsZ0lBQWdJLDJCQUEyQixNQUFNLGlCQUFpQixPQUFPLFdBQVcsbUNBQW1DLDJCQUEyQiw4QkFBOEIsU0FBUyw0REFBQyxTQUFTLGdOQUFnTixDQUFDLDREQUFDLFNBQVMsc0RBQXNELCtEQUFDLHFCQUFxQixFQUFFLDREQUFDLFNBQVMsc0RBQXNELCtEQUFDLFlBQVksRUFBRSw0REFBQyxTQUFTLDBEQUEwRCwrREFBQyxvQkFBb0IsUUFBUSxzQkFBc0IsZUFBZSw0REFBQyxRQUFRLGtFQUFrRSxDQUFDLDREQUFDLFNBQVMsMkJBQTJCLCtEQUFDLGdCQUFnQiwyQ0FBMkMsNERBQUMsUUFBUSx5RUFBeUUsQ0FBQyw0REFBQyxTQUFTLG1GQUFtRiwrREFBQywyQkFBMkIsd0NBQXdDLDRCQUE0QixNQUFNLGlCQUFpQixTQUFTLHlDQUF5QyxPQUFPLDREQUFDLFFBQVEsOE9BQThPLENBQUMsNERBQUMsU0FBUywyQkFBMkIsK0RBQUMsa0JBQWtCLEdBQUcsNEJBQTRCLE1BQU0sUUFBUSxrSEFBa0gsZ0NBQWdDLHFEQUFxRCxlQUFlLDREQUFDLFFBQVEsdUNBQXVDLGFBQWEsc0JBQXNCLE1BQU0saUJBQWlCLE9BQU8sNEJBQTRCLDREQUE0RCx3QkFBd0IsTUFBTSxtR0FBbUcsY0FBYyw0REFBQyxPQUFPLHlRQUF5USw4QkFBOEIsZ0JBQWdCLGVBQWUsNERBQUMsUUFBUSx1REFBdUQsc0NBQXNDLDBCQUEwQixNQUFNLEtBQUssV0FBVyxFQUFFLEdBQUcsTUFBTSxPQUFPLEVBQUUsZUFBZSxFQUFFLFNBQVMsUUFBUSxvRUFBb0UsT0FBTyw0REFBQyxRQUFRLGdEQUFnRCxvT0FBb08sYUFBYSx5Q0FBeUMsRUFBRSxNQUFNLDhDQUE4QyxXQUFXLEdBQUcsRUFBRSxHQUFHLE1BQU0sRUFBRSx5REFBeUQsMEpBQTBKLE1BQU0sU0FBUyxrQkFBa0IsT0FBTyw0REFBQyxPQUFPLG9HQUFvRyx1RkFBQyw0REFBNEQsc0JBQXNCLDhEQUE4RCxNQUFNLCtGQUErRixpQ0FBaUMsT0FBTyw0REFBQyxPQUFPLG9KQUFvSixNQUFNLEVBQUUsaUNBQWlDLHlCQUF5QixNQUFNLG1CQUFtQixHQUFHLGVBQWUsNERBQUMsaUJBQWlCLHdEQUF3RCxPQUFPLHVCQUF1QixNQUFNLGtCQUFrQixNQUFNLG1DQUFtQyxNQUFNLDJDQUEyQyxpQkFBaUIsT0FBTyw0REFBQyxTQUFTLG9CQUFvQiwrSEFBK0gsMEJBQTBCLGdDQUFnQyxzQkFBc0IsTUFBTSxXQUFXLGdFQUFnRSxHQUFHLEdBQUcsd0JBQXdCLEdBQUcsT0FBTyw0REFBQyxTQUFTLHNFQUFzRSxJQUFJLHVCQUF1QixVQUFVLElBQUksTUFBTSxRQUFRLE9BQU8sWUFBWSxpREFBaUQseUNBQXlDLCtEQUFDLHFCQUFxQiwrREFBQyx3QkFBd0IsK0RBQUMsaUJBQWlCLCtEQUFDLHFCQUFxQixPQUFPLDREQUFDLFNBQVMsa0VBQWtFLEVBQUUseUJBQXlCLE1BQU0sNEJBQTRCLE9BQU8sWUFBWSxnREFBZ0QsT0FBTyw0REFBQyxXQUFXLG1SQUFtUixFQUFFLHdDQUF3QyxrQ0FBa0Msb0JBQW9CLE1BQU0sb0NBQW9DLE9BQU8sd0JBQXdCLDRLQUE0Syw0REFBQyxVQUFVLDZDQUE2QyxNQUFNLEVBQUUsRUFBRSw4SkFBOEosTUFBTSw0R0FBNEcsSUFBSSxzQkFBc0IsNERBQUMsUUFBUSwwQ0FBMEMsTUFBTSxFQUFFLDJEQUEyRCxzQkFBc0IsTUFBTSw4Q0FBOEMsWUFBWSwrREFBQyxnREFBZ0QsZ0NBQWdDLElBQUkseUNBQXlDLDZEQUFDLDhCQUE4QixxQkFBcUIsNERBQUMsUUFBUSxtSUFBbUksTUFBTSw2R0FBNkcsQ0FBQyw0REFBQyxTQUFTLCtCQUErQixHQUFHLDhCQUE4QixnQ0FBZ0MsNERBQUMsT0FBTywyQkFBMkIsRUFBRSxrQkFBa0IsRUFBRSxFQUFFLG1DQUFtQyxPQUFPLDREQUFDLFFBQVEsaUlBQWlJLElBQUksMEJBQTBCLG1EQUFtRCxnQkFBZ0IsSUFBSSxxQkFBcUIsTUFBTSxxQkFBcUIsbUVBQW1FLCtEQUFDLGtCQUFrQiw2Q0FBNkMsK0RBQUMsc0JBQXNCLDZEQUFDLGNBQWMsd0JBQXdCLDREQUFDLFNBQVMsbUZBQW1GLEVBQUUsd0JBQXdCLGNBQWMsNERBQUMsU0FBUyx1Q0FBdUMsSUFBSSxpQkFBaUIsTUFBTSwrQkFBK0IsSUFBSSw0QkFBNEIsTUFBTSx1S0FBdUssNkRBQUMsb0JBQW9CLDREQUE0RCxTQUFTLDREQUFDLFFBQVEsc0ZBQXNGLE1BQU0scUdBQXFHLElBQUksNERBQUMsT0FBTywrRUFBK0UsTUFBTSxxR0FBcUcsSUFBSSxtQkFBbUIsTUFBTSwrQ0FBK0Msb0JBQW9CLGtFQUFrRSwwQkFBMEIsNkRBQTZELGVBQWUsZ0NBQWdDLGdCQUFnQixnREFBZ0Qsa0JBQWtCLDRDQUE0Qyw0QkFBNEIsTUFBTSwyQkFBMkIsTUFBTSwwREFBMEQsdUJBQXVCLE1BQU0sc0JBQXNCLE1BQU0scURBQXFELHNCQUFzQixNQUFNLGdCQUFnQixXQUFXLDZGQUE2Rix3QkFBd0IsZ0RBQWdELG9CQUFvQiwyT0FBMk8seUJBQXlCLGlEQUFpRCxlQUFlLG1CQUFtQixvQ0FBb0MsNERBQTRELGtCQUFrQixrQkFBa0IsYUFBYSxtRUFBbUUsaUNBQWlDLGtDQUFrQyxFQUFFLDJCQUEyQixNQUFNLGlFQUFpRSxNQUFNLGFBQWEsV0FBVyw0QkFBNEIsS0FBSyxRQUFRLG1EQUFDLFdBQVcsZ0NBQWdDLGdCQUFnQixxRUFBcUUsZ0NBQWdDLCtEQUErRCxFQUFFLDRCQUE0QixnQ0FBZ0MsTUFBTSwyRUFBMkUsTUFBTSxhQUFhLFdBQVcsNEJBQTRCLEtBQUssUUFBUSxtREFBQyxXQUFXLHdGQUF3RixxQ0FBcUMsK0RBQStELEVBQUUsaUNBQWlDLGlCQUFpQixxRUFBcUUsb0JBQW9CLHdDQUF3QywwSEFBMEgsYUFBYSxtRkFBbUYsMEJBQTBCLGdFQUFnRSxvQkFBb0IsaUJBQWlCLEVBQUUscUhBQXFILG1CQUFtQiw0Q0FBNEMsc0JBQXNCLEdBQUcsa0JBQWtCLE1BQU0sZ0JBQWdCLE1BQU0saUJBQWlCLGFBQWEsdURBQXVELHFCQUFxQixrQ0FBa0MseURBQUMsSUFBSSx1REFBdUQsb0JBQW9CLHFEQUFxRCxpRUFBaUUsNENBQTRDLGlCQUFpQixRQUFRLHVGQUFDLDBEQUEwRCw2QkFBNkIsZ0JBQWdCLFdBQVcsb0JBQW9CLDBCQUEwQiwwQkFBMEIsaUJBQWlCLHdDQUF3QyxpREFBaUQsNkRBQTZELHVCQUF1QixnQkFBZ0IsbUVBQW1FLFlBQVksdURBQXVELDJCQUEyQiw4REFBOEQsa0JBQWtCLGtCQUFrQixxQkFBcUIsdUJBQXVCLFVBQVUsd0NBQXdDLGlEQUFpRCw2REFBNkQsa0JBQWtCLGlCQUFpQixtRUFBbUUsWUFBWSxnREFBZ0QsMkJBQTJCLDJEQUEyRCxnQ0FBZ0MsK0dBQStHLDRCQUE0QixxREFBcUQsNkRBQUMsZ0ZBQWdGLDJEQUFDLHVCQUF1Qiw2REFBQyx5SEFBeUgsMkRBQUMsdUJBQXVCLDZEQUFDLHdGQUF3RiwyREFBQyxNQUFNLDBCQUEwQixpQkFBaUIsNkRBQUMsbU9BQW1PLDJEQUFDLEVBQUUsNkRBQUMseVNBQXlTLG1CQUFtQixxSkFBcUosaUJBQWlCLHVDQUF1Qyx1QkFBdUIsMExBQTBMLE9BQU8sNkJBQTZCLEVBQUUsUUFBUSxzQkFBc0Isb0JBQW9CLDJCQUEyQixhQUFhLE1BQU0sY0FBYyxTQUFTLDZCQUE2QixNQUFNLCtEQUErRCxpQkFBaUIsb0JBQW9CLDJCQUEyQixpQ0FBaUMsa0JBQWtCLG9CQUFvQixzQ0FBc0Msc0VBQXNFLHFCQUFxQixvQkFBb0IsMEVBQTBFLHdEQUF3RCx3QkFBd0Isb0JBQW9CLDJCQUEyQixvQkFBb0Isb0JBQW9CLG9CQUFvQixNQUFNLDJDQUEyQyx1REFBdUQsYUFBYSxRQUFRLHVGQUFDLE9BQU8sU0FBUyxHQUFHLHVGQUF1Rix1QkFBdUIsV0FBVyxPQUFPLGtDQUFrQyxjQUFjLHdCQUF3QixjQUFjLHVCQUF1QixjQUFjLHNCQUFzQix1REFBQyxFQUFFLHNGQUFDLHVDQUF1Qyx1REFBQyxFQUFFLHNGQUFDLHFDQUFxQyx1REFBQyxFQUFFLHNGQUFDLG9EQUFvRCx1REFBQyxFQUFFLHNGQUFDLHlDQUF5Qyx1REFBQyxFQUFFLHNGQUFDLHVDQUF1Qyx1REFBQyxFQUFFLHNGQUFDLG9DQUFvQyx1REFBQyxFQUFFLHNGQUFDLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLEdBQUcsb0ZBQUMsdUZBQXVGLHVEQUFDLEVBQUUsc0ZBQUMsR0FBRyxvRkFBQywwREFBMEQsdURBQUMsRUFBRSxzRkFBQyxtREFBbUQsdURBQUMsRUFBRSxzRkFBQyx5REFBeUQsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHNDQUFzQyx1REFBQyxFQUFFLHNGQUFDLHdDQUF3Qyx1REFBQyxFQUFFLHNGQUFDLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLDZCQUE2Qix1REFBQyxFQUFFLHdFQUFDLG1CQUFtQixzRkFBQyxFQUFFLEtBQUssdUZBQUMsQ0FBQyxtQ0FBbUMsdURBQUMsRUFBRSxzRkFBQywwQ0FBMEMsdURBQUMsRUFBRSw4RUFBQyw2REFBNkQsdURBQUMsRUFBRSw0RkFBQywyQ0FBMkMsdURBQUMsRUFBRSw0RkFBQyxzQ0FBc0MsdURBQUMsRUFBRSw0RkFBQyx1Q0FBdUMsdURBQUMsRUFBRSw0RkFBQywwQ0FBMEMsdURBQUMsRUFBRSw0RkFBQyw2Q0FBNkMsdURBQUMsRUFBRSw0RkFBQywyQ0FBMkMsdURBQUMsRUFBRSxzRkFBQyxzQ0FBc0MsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdDAwQjtBQUNBO0FBQ0E7QUFDQTtBQUMwZSxTQUFTLDRSQUE0UixHQUFHLDJEQUFDLFFBQVEsOERBQUMsRUFBRSxvQkFBb0Isd0RBQUMsaUJBQWlCLGVBQWUsa1RBQWtULGFBQWEsaUJBQWlCLDZEQUFDLG9IQUFvSCwyREFBQyxFQUFFLDZEQUFDLDJIQUEySCw2REFBQyw4SUFBOEksVUFBVSwwRUFBMEUsbUJBQW1CLDRDQUE0QyxvQkFBb0IsaUNBQWlDLFlBQVksK0RBQStELG1CQUFtQiw0Q0FBNEMsZ0JBQWdCLEVBQUUsa0JBQWtCLGtDQUFrQyxFQUFFLE1BQU0sNkJBQTZCLE9BQU8sUUFBUSxrRUFBa0Usd0JBQXdCLHdFQUF3RSxrRUFBa0UsMEJBQTBCLHlCQUF5QixFQUFFLHlFQUF5RSxpQkFBaUIsZUFBZSxFQUFFLE1BQU0sb0dBQW9HLE1BQU0sV0FBVyw4REFBQyxFQUFFLGtGQUFrRixFQUFFLHNCQUFzQiwwQkFBMEIsRUFBRSx3Q0FBd0MsZ0JBQWdCLDZEQUFDLGdDQUFnQyxHQUFHLG1CQUFtQix5Q0FBeUMsRUFBRSwyQkFBMkIsMEJBQTBCLHdCQUF3Qix3QkFBd0IscUJBQXFCLGlCQUFpQix1QkFBdUIsd0JBQXdCLE1BQU0saUJBQWlCLGlEQUFpRCx3QkFBd0Isb0dBQW9HLEVBQUUsbUJBQW1CLE1BQU0sWUFBWSw0Q0FBNEMsd0JBQXdCLHFGQUFxRixFQUFFLGdCQUFnQixxREFBcUQsaUJBQWlCLHdCQUF3QixFQUFFLGtCQUFrQixzREFBc0QsZUFBZSxHQUFHLEdBQUcsY0FBYyxpQkFBaUIsRUFBRSxrQkFBa0IsYUFBYSxrQ0FBa0MsMEJBQTBCLFdBQVcsR0FBRyxNQUFNLGdCQUFnQixHQUFHLGdCQUFnQixzQkFBc0IsZ0RBQWdELHNCQUFzQixHQUFHLHNCQUFzQixNQUFNLFlBQVksTUFBTSxlQUFlLHNCQUFzQixXQUFXLEdBQUcsTUFBTSxHQUFHLGlCQUFpQiwyQkFBMkIsTUFBTSxpQkFBaUIsTUFBTSxlQUFlLHNCQUFzQixXQUFXLEdBQUcsTUFBTSxHQUFHLGlCQUFpQixzQ0FBc0MsZ0RBQWdELDJDQUEyQyxxREFBcUQsc0JBQXNCLE1BQU0sT0FBTyxNQUFNLHdKQUF3Siw2REFBQyw4RUFBOEUsd0RBQXdELEdBQUcsMkRBQUMsRUFBRSw2REFBQyxtRkFBbUYsa0VBQWtFLEdBQUcsMkRBQUMsRUFBRSw2REFBQyxpRkFBaUYsNERBQTRELEdBQUcsMkRBQUMsRUFBRSw2REFBQyxzRkFBc0Ysc0VBQXNFLEdBQUcsMkRBQUMsZ0JBQWdCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxtQkFBbUIsbUNBQW1DLHVEQUFDLEVBQUUsc0ZBQUMscUNBQXFDLHVEQUFDLEVBQUUsc0ZBQUMsc0RBQXNELHVEQUFDLEVBQUUsc0ZBQUMsb0RBQW9ELHVEQUFDLEVBQUUsc0ZBQUMsMkRBQTJELHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxtQkFBbUIsd0NBQXdDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLDZCQUE2Qix1REFBQyxFQUFFLHNGQUFDLCtCQUErQix1REFBQyxFQUFFLHNGQUFDLDJDQUEyQyx1REFBQyxFQUFFLHNGQUFDLGdFQUFnRSxVQUErQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKbmxMO0FBQ0E7QUFDQTtBQUNBO0FBQzRLLFlBQVkscUJBQXFCLElBQUksYUFBYSxPQUFPLG1EQUFDLEtBQUssRUFBRSxHQUFHLGtDQUFrQyx3REFBQyxDQUFDLG9EQUFDLDJCQUEyQixJQUFJLGNBQWMsT0FBTyx5REFBQyxtQkFBbUIsa0JBQWtCLGNBQThEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9CYXNlbWFwTGF5ZXJMaXN0LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvQmFzZW1hcExheWVyTGlzdC9CYXNlbWFwTGF5ZXJMaXN0Vmlld01vZGVsLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvc3VwcG9ydC9IZWFkaW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnR7ZXZlbnRLZXkgYXMgaX1mcm9tXCIuLi9jb3JlL2V2ZW50cy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBzLG9uIGFzIG4saW5pdGlhbCBhcyByfWZyb21cIi4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBvfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7Y2FzdCBhcyBsfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvY2FzdC5qc1wiO2ltcG9ydFwiLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBhfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgZCBmcm9tXCIuL1dpZGdldC5qc1wiO2ltcG9ydCBjIGZyb21cIi4vQmFzZW1hcExheWVyTGlzdC9CYXNlbWFwTGF5ZXJMaXN0Vmlld01vZGVsLmpzXCI7aW1wb3J0IGggZnJvbVwiLi9MYXllckxpc3QvTGlzdEl0ZW0uanNcIjtpbXBvcnR7ZmluZFNlbGVjdGVkSXRlbSBhcyB1fWZyb21cIi4vTGF5ZXJMaXN0L3N1cHBvcnQvbGF5ZXJMaXN0VXRpbHMuanNcIjtpbXBvcnR7bG9hZENhbGNpdGVDb21wb25lbnRzIGFzIG19ZnJvbVwiLi9zdXBwb3J0L2NvbXBvbmVudHNVdGlscy5qc1wiO2ltcG9ydHtnbG9iYWxDc3MgYXMgZ31mcm9tXCIuL3N1cHBvcnQvZ2xvYmFsQ3NzLmpzXCI7aW1wb3J0e0hlYWRpbmcgYXMgcCxpbmNyZW1lbnRIZWFkaW5nTGV2ZWwgYXMgX31mcm9tXCIuL3N1cHBvcnQvSGVhZGluZy5qc1wiO2ltcG9ydHtsZWdhY3lJY29uIGFzIGJ9ZnJvbVwiLi9zdXBwb3J0L2xlZ2FjeUljb24uanNcIjtpbXBvcnR7YWNjZXNzaWJsZUhhbmRsZXIgYXMgeX1mcm9tXCIuL3N1cHBvcnQvZGVjb3JhdG9ycy9hY2Nlc3NpYmxlSGFuZGxlci5qc1wiO2ltcG9ydHttZXNzYWdlQnVuZGxlIGFzIGZ9ZnJvbVwiLi9zdXBwb3J0L2RlY29yYXRvcnMvbWVzc2FnZUJ1bmRsZS5qc1wiO2ltcG9ydHt2bUV2ZW50IGFzIEl9ZnJvbVwiLi9zdXBwb3J0L2RlY29yYXRvcnMvdm1FdmVudC5qc1wiO2ltcG9ydHt0c3ggYXMgdn1mcm9tXCIuL3N1cHBvcnQvanN4RmFjdG9yeS5qc1wiO2ltcG9ydFwiLi9zdXBwb3J0L3dpZGdldFV0aWxzLmpzXCI7aW1wb3J0IEMgZnJvbVwic29ydGFibGVqc1wiO2NvbnN0IFQ9dC5vZlR5cGUoaCk7ZnVuY3Rpb24gTChlLHQsaSl7ZS5zcGxpY2UoaSwwLGUuc3BsaWNlKHQsMSlbMF0pfWNvbnN0IEE9XCIuKlxcXFxTKy4qXCIsUz1cInJvb3QtbGF5ZXJzXCIsJD1cImRhdGEtbGF5ZXItdWlkXCIsRT1cImxheWVyVWlkXCIsdz1cImVzcmktYmFzZW1hcC1sYXllci1saXN0XCIsaz1gJHt3fV9faXRlbWAsTT1gJHt3fV9fbGlzdGAsQj17YmFzZTp3LHdpZGdldEljb246Yi5sYXllcnMsbmV3VUk6YCR7d30tLW5ldy11aWAsdGl0bGVDb250YWluZXI6YCR7d31fX3RpdGxlLWNvbnRhaW5lcmAsbWFpbkhlYWRpbmc6YCR7d31fX21haW4taGVhZGluZ2AsZWRpdGluZ0NhcmQ6YCR7d31fX2VkaXRpbmctY2FyZGAsZWRpdGluZ0lucHV0OmAke3d9X19lZGl0aW5nLWlucHV0YCxlZGl0aW5nQWN0aW9uczpgJHt3fV9fZWRpdGluZy1hY3Rpb25zYCxlZGl0QnV0dG9uOmAke3d9X19lZGl0LWJ1dHRvbmAsZWRpdEJ1dHRvbkljb246YCR7d31fX2VkaXQtYnV0dG9uLWljb25gLHN1Ym1pdEJ1dHRvbjpgJHt3fV9fc3VibWl0LWJ1dHRvbmAsY2FuY2VsQnV0dG9uOmAke3d9X19jYW5jZWwtYnV0dG9uYCxub0l0ZW1zOmAke3d9X19uby1pdGVtc2AsaG9yaXpvbnRhbFJ1bGU6YCR7d31fX2hyYCxsaXN0Ok0sbGlzdEhlYWRpbmc6YCR7TX0taGVhZGluZ2AsbGlzdFJvb3Q6YCR7TX0tLXJvb3RgLGxpc3RFeGNsdXNpdmU6YCR7TX0tLWV4Y2x1c2l2ZWAsbGlzdEVtcHR5OmAke3d9X19saXN0LS1lbXB0eWAsbGlzdEVtcHR5U3RhdGU6YCR7d31fX2xpc3QtZW1wdHktc3RhdGVgLGxpc3RJbmhlcml0ZWQ6YCR7TX0tLWluaGVyaXRlZGAsbGlzdEluZGVwZW5kZW50OmAke019LS1pbmRlcGVuZGVudGAsaXRlbTprLGl0ZW1Pbmx5Q2hpbGQ6YCR7a30tLW9ubHktY2hpbGRgLGl0ZW1Db250ZW50OmAke2t9LWNvbnRlbnRgLGl0ZW1NZXNzYWdlOmAke2t9LS1oYXMtbWVzc2FnZWAsaXRlbUludmlzaWJsZTpgJHtrfS0taW52aXNpYmxlYCxpdGVtSW52aXNpYmxlQXRTY2FsZTpgJHtrfS0taW52aXNpYmxlLWF0LXNjYWxlYCxpdGVtQ2hpbGRyZW46YCR7a30tLWhhcy1jaGlsZHJlbmAsaXRlbVNlbGVjdGFibGU6YCR7a30tLXNlbGVjdGFibGVgLGl0ZW1Db250YWluZXI6YCR7a30tY29udGFpbmVyYCxhY3Rpb25zTWVudTpgJHtrfS1hY3Rpb25zLW1lbnVgLGFjdGlvbnNNZW51SXRlbTpgJHtrfS1hY3Rpb25zLW1lbnUtaXRlbWAsYWN0aW9uc01lbnVJdGVtQWN0aXZlOmAke2t9LWFjdGlvbnMtbWVudS1pdGVtLS1hY3RpdmVgLGFjdGlvbnM6YCR7a30tYWN0aW9uc2AsYWN0aW9uc0xpc3Q6YCR7a30tYWN0aW9ucy1saXN0YCxhY3Rpb246YCR7a30tYWN0aW9uYCxhY3Rpb25JY29uOmAke2t9LWFjdGlvbi1pY29uYCxhY3Rpb25JbWFnZTpgJHtrfS1hY3Rpb24taW1hZ2VgLGFjdGlvblRpdGxlOmAke2t9LWFjdGlvbi10aXRsZWAsYWN0aW9uVG9nZ2xlOmAke3d9X19hY3Rpb24tdG9nZ2xlYCxhY3Rpb25Ub2dnbGVPbjpgJHt3fV9fYWN0aW9uLXRvZ2dsZS0tb25gLGxhYmVsOmAke2t9LWxhYmVsYCxtZXNzYWdlOmAke2t9LW1lc3NhZ2VgLHRpdGxlOmAke2t9LXRpdGxlYCxzdGF0dXNJbmRpY2F0b3I6YCR7d31fX3N0YXR1cy1pbmRpY2F0b3JgLHB1Ymxpc2hpbmc6YCR7d31fX3B1Ymxpc2hpbmdgLHVwZGF0aW5nOmAke3d9X191cGRhdGluZ2AsY29ubmVjdGlvblN0YXR1czpgJHt3fV9fY29ubmVjdGlvbi1zdGF0dXNgLGNvbm5lY3Rpb25TdGF0dXNDb25uZWN0ZWQ6YCR7d31fX2Nvbm5lY3Rpb24tc3RhdHVzLS1jb25uZWN0ZWRgLHRvZ2dsZVZpc2libGU6YCR7a30tdG9nZ2xlYCx0b2dnbGVWaXNpYmxlSWNvbjpgJHtrfS10b2dnbGUtaWNvbmAsdG9nZ2xlSWNvbjpgJHtrfS10b2dnbGUtaWNvbmAscmFkaW9JY29uOmAke2t9LXJhZGlvLWljb25gLGNoaWxkVG9nZ2xlOmAke3d9X19jaGlsZC10b2dnbGVgLGNoaWxkVG9nZ2xlT3BlbjpgJHt3fV9fY2hpbGQtdG9nZ2xlLS1vcGVuYCxjaGlsZE9wZW5lZDpgJHt3fV9fY2hpbGQtdG9nZ2xlLWljb24tLW9wZW5lZGAsY2hpbGRDbG9zZWQ6YCR7d31fX2NoaWxkLXRvZ2dsZS1pY29uLS1jbG9zZWRgLGNoaWxkQ2xvc2VkX1JUTDpgJHt3fV9fY2hpbGQtdG9nZ2xlLWljb24tLWNsb3NlZC1ydGxgLHNvcnRhYmxlQ2hvc2VuOmAke3d9LS1jaG9zZW5gfSxSPXthY3Rpb25zOlwiYWN0aW9uc1wiLGFjdGlvblNlY3Rpb246XCJhY3Rpb24tc2VjdGlvblwiLGJhc2VJdGVtczpcImJhc2UtaXRlbXNcIixyZWZlcmVuY2VJdGVtczpcInJlZmVyZW5jZS1pdGVtc1wifSxPPXtleGNsdXNpdmU6XCJleGNsdXNpdmVcIixpbmhlcml0ZWQ6XCJpbmhlcml0ZWRcIixpbmRlcGVuZGVudDpcImluZGVwZW5kZW50XCJ9O2Z1bmN0aW9uIHgoZSl7Y29uc3R7YWN0aW9uc09wZW46dCxjaGlsZHJlbjppfT1lO3QmJihlLmFjdGlvbnNPcGVuPSExKSxpLmZvckVhY2goKGU9PngoZSkpKX1jb25zdCBqPXtiYXNlTGF5ZXJzOiEwLHJlZmVyZW5jZUxheWVyczohMCxzdGF0dXNJbmRpY2F0b3JzOiEwLGVycm9yczohMX07bGV0IE49Y2xhc3MgZXh0ZW5kcyBke2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLl90b29sdGlwUmVmZXJlbmNlTWFwPW5ldyBNYXAsdGhpcy5fZWRpdGluZ1RpdGxlPSExLHRoaXMuX2VkaXRUaXRsZUlucHV0PW51bGwsdGhpcy5fZWRpdFRpdGxlQnV0dG9uPW51bGwsdGhpcy5fZm9jdXNPbkVsZW1lbnQ9bnVsbCx0aGlzLl9zb3J0YWJsZUJhc2VMYXllcnM9bnVsbCx0aGlzLl9zb3J0YWJsZVJlZmVyZW5jZUxheWVycz1udWxsLHRoaXMuX3NvcnRhYmxlQmFzZUxheWVyc05vZGU9bnVsbCx0aGlzLl9zb3J0YWJsZVJlZmVyZW5jZUxheWVyc05vZGU9bnVsbCx0aGlzLl9mb2N1c1NvcnRVaWQ9bnVsbCx0aGlzLnZpc2libGVJdGVtcz1udWxsLHRoaXMuZWRpdGluZ0VuYWJsZWQ9ITEsdGhpcy5oZWFkaW5nTGV2ZWw9Mix0aGlzLmljb25DbGFzcz1CLndpZGdldEljb24sdGhpcy5tZXNzYWdlcz1udWxsLHRoaXMubWVzc2FnZXNDb21tb249bnVsbCx0aGlzLm11bHRpcGxlU2VsZWN0aW9uRW5hYmxlZD0hMSx0aGlzLnNlbGVjdGVkSXRlbXM9bmV3IFQsdGhpcy5zdHlsZT1cImNsYXNzaWNcIix0aGlzLnZpZXdNb2RlbD1uZXcgYyx0aGlzLnZpc2libGVFbGVtZW50cz17Li4uan19aW5pdGlhbGl6ZSgpe2NvbnN0e2Jhc2VJdGVtczplLHJlZmVyZW5jZUl0ZW1zOnR9PXRoaXM7dGhpcy5fc2V0VmlzaWJsZUl0ZW1zKCksdGhpcy5hZGRIYW5kbGVzKFtzKCgoKT0+dGhpcy52aXNpYmxlRWxlbWVudHMpLCgoKT0+e3RoaXMuX2l0ZW1zQ2hhbmdlZChlLFIuYmFzZUl0ZW1zKSx0aGlzLl9pdGVtc0NoYW5nZWQodCxSLnJlZmVyZW5jZUl0ZW1zKX0pKSxuKCgoKT0+dGhpcy5iYXNlSXRlbXMpLFwiY2hhbmdlXCIsKCgpPT57dGhpcy5faXRlbXNDaGFuZ2VkKGUsUi5iYXNlSXRlbXMpfSkpLG4oKCgpPT50aGlzLnJlZmVyZW5jZUl0ZW1zKSxcImNoYW5nZVwiLCgoKT0+dGhpcy5faXRlbXNDaGFuZ2VkKHQsUi5yZWZlcmVuY2VJdGVtcykpKSxzKCgoKT0+dGhpcy5lZGl0aW5nRW5hYmxlZCksKCgpPT50aGlzLl90b2dnbGVTb3J0aW5nKCkpLHIpXSl9bG9hZERlcGVuZGVuY2llcygpe3JldHVybiBtKHtpY29uOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtaWNvbi5qc1wiKSx0b29sdGlwOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtdG9vbHRpcC5qc1wiKX0pfWRlc3Ryb3koKXt0aGlzLl9kZXN0cm95QmFzZVNvcnRhYmxlKCksdGhpcy5fZGVzdHJveVJlZmVyZW5jZVNvcnRhYmxlKCksdGhpcy5fdG9vbHRpcFJlZmVyZW5jZU1hcC5jbGVhcigpfWdldCBiYXNlbWFwVGl0bGUoKXtyZXR1cm4gdGhpcy52aWV3TW9kZWwuYmFzZW1hcFRpdGxlfXNldCBiYXNlbWFwVGl0bGUoZSl7dGhpcy52aWV3TW9kZWwuYmFzZW1hcFRpdGxlPWV9Z2V0IGJhc2VMaXN0SXRlbUNyZWF0ZWRGdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXdNb2RlbC5iYXNlTGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb259c2V0IGJhc2VMaXN0SXRlbUNyZWF0ZWRGdW5jdGlvbihlKXt0aGlzLnZpZXdNb2RlbC5iYXNlTGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb249ZX1nZXQgbGFiZWwoKXtyZXR1cm4gdGhpcy5tZXNzYWdlcz8ud2lkZ2V0TGFiZWw/P1wiXCJ9c2V0IGxhYmVsKGUpe3RoaXMuX292ZXJyaWRlSWZTb21lKFwibGFiZWxcIixlKX1nZXQgcmVmZXJlbmNlTGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3TW9kZWwucmVmZXJlbmNlTGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb259c2V0IHJlZmVyZW5jZUxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uKGUpe3RoaXMudmlld01vZGVsLnJlZmVyZW5jZUxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uPWV9Z2V0IGJhc2VJdGVtcygpe3JldHVybiB0aGlzLnZpZXdNb2RlbC5iYXNlSXRlbXN9Z2V0IHJlZmVyZW5jZUl0ZW1zKCl7cmV0dXJuIHRoaXMudmlld01vZGVsLnJlZmVyZW5jZUl0ZW1zfWdldCB2aWV3KCl7cmV0dXJuIHRoaXMudmlld01vZGVsLnZpZXd9c2V0IHZpZXcoZSl7dGhpcy52aWV3TW9kZWwudmlldz1lfWNhc3RWaXNpYmxlRWxlbWVudHMoZSl7cmV0dXJuey4uLmosLi4uZX19dHJpZ2dlckFjdGlvbihlLHQpe3JldHVybiB0aGlzLnZpZXdNb2RlbC50cmlnZ2VyQWN0aW9uKGUsdCl9cmVuZGVyKCl7Y29uc3R7c3RhdGU6ZX09dGhpcy52aWV3TW9kZWwsdD17W0IubmV3VUldOlwibW9kZXJuXCI9PT10aGlzLnN0eWxlLFtnLmhpZGRlbl06XCJsb2FkaW5nXCI9PT1lLFtnLmRpc2FibGVkXTpcImRpc2FibGVkXCI9PT1lfSxpPXRoaXMuX3JlbmRlckl0ZW1Ub29sdGlwcygpLHM9dGhpcy5fcmVuZGVyUmVmZXJlbmNlU2VjdGlvbigpLG49dGhpcy5fcmVuZGVyQmFzZVNlY3Rpb24oKSxyPXMmJm4/dihcImhyXCIse2NsYXNzOkIuaG9yaXpvbnRhbFJ1bGV9KTpudWxsLG89W3RoaXMuX3JlbmRlclRpdGxlQ29udGFpbmVyKCkscyxyLG5dO3JldHVybiB2KFwiZGl2XCIse2NsYXNzOnRoaXMuY2xhc3NlcyhCLmJhc2UsZy53aWRnZXQsZy5wYW5lbCx0KX0sW2ksb10pfV9yZW5kZXJJdGVtVG9vbHRpcChlKXtjb25zdHtfdG9vbHRpcFJlZmVyZW5jZU1hcDp0LG1lc3NhZ2VzOml9PXRoaXM7cmV0dXJuIGU/dihcImNhbGNpdGUtdG9vbHRpcFwiLHtyZWZlcmVuY2VFbGVtZW50OnQuZ2V0KGUudWlkKX0saS5sYXllckluY29tcGF0aWJsZVRvb2x0aXApOm51bGx9X3JlbmRlckl0ZW1Ub29sdGlwTm9kZXMoZSl7Y29uc3R7aW5jb21wYXRpYmxlOnQsY2hpbGRyZW46aX09ZTtyZXR1cm5bdD90aGlzLl9yZW5kZXJJdGVtVG9vbHRpcChlKTpudWxsLC4uLiF0JiZpP2kudG9BcnJheSgpLm1hcCgoZT0+dGhpcy5fcmVuZGVySXRlbVRvb2x0aXBOb2RlcyhlKSkpOltdXX1fcmVuZGVySXRlbVRvb2x0aXBzKCl7cmV0dXJuIHRoaXMudmlzaWJsZUl0ZW1zPy50b0FycmF5KCkubWFwKChlPT50aGlzLl9yZW5kZXJJdGVtVG9vbHRpcE5vZGVzKGUpKSk/P1tdfV9yZW5kZXJFZGl0aW5nSW5wdXQoKXtjb25zdHttZXNzYWdlczplfT10aGlzLHtiYXNlbWFwVGl0bGU6dH09dGhpcy52aWV3TW9kZWw7cmV0dXJuIHYoXCJsYWJlbFwiLHtjbGFzczpCLmVkaXRpbmdJbnB1dH0sZS5iYXNlbWFwVGl0bGUsdihcImlucHV0XCIse2FmdGVyQ3JlYXRlOnRoaXMuX3N0b3JlRWRpdFRpdGxlSW5wdXQsYWZ0ZXJVcGRhdGU6dGhpcy5fZm9jdXNFZGl0RWxlbWVudCxcImFyaWEtbGFiZWxcIjplLmJhc2VtYXBUaXRsZSxiaW5kOnRoaXMsY2xhc3M6Zy5pbnB1dCxwYXR0ZXJuOkEscGxhY2Vob2xkZXI6ZS5iYXNlbWFwVGl0bGUscmVxdWlyZWQ6ITAscm9sZTpcInRleHRib3hcIix0aXRsZTplLmJhc2VtYXBUaXRsZSx0eXBlOlwidGV4dFwiLHZhbHVlOnQ/P3ZvaWQgMH0pKX1fcmVuZGVyQ2FuY2VsQnV0dG9uKCl7Y29uc3R7bWVzc2FnZXNDb21tb246ZX09dGhpcztyZXR1cm4gdihcImJ1dHRvblwiLHtcImFyaWEtbGFiZWxcIjplLmNhbmNlbCxiaW5kOnRoaXMsY2xhc3M6dGhpcy5jbGFzc2VzKGcuYnV0dG9uLGcuYnV0dG9uVGVydGlhcnkpLG9uY2xpY2s6dGhpcy5fdG9nZ2xlRWRpdGluZ1RpdGxlLHRpdGxlOmUuY2FuY2VsLHR5cGU6XCJidXR0b25cIn0sZS5jYW5jZWwpfV9yZW5kZXJTdWJtaXRCdXR0b24oKXtjb25zdHttZXNzYWdlc0NvbW1vbjplfT10aGlzO3JldHVybiB2KFwiYnV0dG9uXCIse1wiYXJpYS1sYWJlbFwiOmUuZm9ybS5zdWJtaXQsYmluZDp0aGlzLGNsYXNzOmcuYnV0dG9uLHRpdGxlOmUuZm9ybS5zdWJtaXQsdHlwZTpcInN1Ym1pdFwifSxlLmZvcm0ub2spfV9yZW5kZXJFZGl0aW5nRm9ybSgpe3JldHVybiB2KFwiZGl2XCIse2NsYXNzOkIuZWRpdGluZ0NhcmR9LHYoXCJmb3JtXCIse2JpbmQ6dGhpcyxvbnN1Ym1pdDp0aGlzLl9mb3JtU3VibWl0fSx0aGlzLl9yZW5kZXJFZGl0aW5nSW5wdXQoKSx2KFwiZGl2XCIse2NsYXNzOkIuZWRpdGluZ0FjdGlvbnN9LHRoaXMuX3JlbmRlckNhbmNlbEJ1dHRvbigpLHRoaXMuX3JlbmRlclN1Ym1pdEJ1dHRvbigpKSkpfV9yZW5kZXJCYXNlbWFwVGl0bGUoKXtjb25zdHtiYXNlbWFwVGl0bGU6ZX09dGhpcy52aWV3TW9kZWw7cmV0dXJuIHYocCx7Y2xhc3M6dGhpcy5jbGFzc2VzKGcuaGVhZGluZyxCLm1haW5IZWFkaW5nKSxsZXZlbDp0aGlzLmhlYWRpbmdMZXZlbH0sZSl9X3JlbmRlckVkaXRUaXRsZUJ1dHRvbigpe2NvbnN0e19lZGl0aW5nVGl0bGU6ZSxlZGl0aW5nRW5hYmxlZDp0LG1lc3NhZ2VzQ29tbW9uOml9PXRoaXM7cmV0dXJuIHQmJiFlP3YoXCJidXR0b25cIix7YWZ0ZXJDcmVhdGU6dGhpcy5fc3RvcmVFZGl0VGl0bGVCdXR0b24sYWZ0ZXJVcGRhdGU6dGhpcy5fZm9jdXNFZGl0RWxlbWVudCxcImFyaWEtbGFiZWxcIjppLmVkaXQsYmluZDp0aGlzLGNsYXNzOkIuZWRpdEJ1dHRvbixcImRhdGEtbm9kZS1yZWZcIjpcIl9lZGl0QnV0dG9uTm9kZVwiLG9uY2xpY2s6dGhpcy5fdG9nZ2xlRWRpdGluZ1RpdGxlLHRpdGxlOmkuZWRpdCx0eXBlOlwiYnV0dG9uXCJ9LHYoXCJzcGFuXCIse1wiYXJpYS1oaWRkZW5cIjpcInRydWVcIixjbGFzczp0aGlzLmNsYXNzZXMoYi5lZGl0LEIuZWRpdEJ1dHRvbkljb24pfSkpOm51bGx9X3JlbmRlclRpdGxlQ29udGFpbmVyKCl7cmV0dXJuIHYoXCJkaXZcIix7Y2xhc3M6Qi50aXRsZUNvbnRhaW5lcn0sdGhpcy5fZWRpdGluZ1RpdGxlP3RoaXMuX3JlbmRlckVkaXRpbmdGb3JtKCk6dGhpcy5fcmVuZGVyQmFzZW1hcFRpdGxlKCksdGhpcy5fcmVuZGVyRWRpdFRpdGxlQnV0dG9uKCkpfV9yZW5kZXJOb0xheWVyc0luZm8oZSx0KXtyZXR1cm4gdihcImRpdlwiLHtjbGFzczpCLm5vSXRlbXMsa2V5OnR9LGUpfV9yZW5kZXJMaXN0KGUsdCl7Y29uc3R7bWVzc2FnZXM6aX09dGhpcyxzPVwicmVmZXJlbmNlXCI9PT10P3RoaXMuX2Rlc3Ryb3lSZWZlcmVuY2VTb3J0YWJsZTp0aGlzLl9kZXN0cm95QmFzZVNvcnRhYmxlO3JldHVybiB2KFwidWxcIix7YWZ0ZXJDcmVhdGU6dGhpcy5fc29ydE5vZGVDcmVhdGVkLGFmdGVyUmVtb3ZlZDpzLFwiYXJpYS1sYWJlbFwiOmkud2lkZ2V0TGFiZWwsYmluZDp0aGlzLGNsYXNzOnRoaXMuY2xhc3NlcyhCLmxpc3QsQi5saXN0Um9vdCxCLmxpc3RJbmRlcGVuZGVudCksXCJkYXRhLW5vZGUtcmVmXCI6dCxrZXk6dCxyb2xlOnRoaXMuZWRpdGluZ0VuYWJsZWQmJmUubGVuZ3RoP1wibGlzdGJveFwiOnZvaWQgMH0sZS5tYXAoKGk9PnRoaXMuX3JlbmRlckl0ZW0oe2l0ZW06aSxwYXJlbnQ6bnVsbCxpdGVtVHlwZTp0LGlzT25seUNoaWxkOjE9PT1lLmxlbmd0aH0pKSkpfV9yZW5kZXJCYXNlSGVhZGVyKCl7cmV0dXJuIHYocCx7Y2xhc3M6dGhpcy5jbGFzc2VzKGcuaGVhZGluZyxCLmxpc3RIZWFkaW5nKSxrZXk6XCJiYXNlLWhlYWRpbmdcIixsZXZlbDpfKHRoaXMuaGVhZGluZ0xldmVsKX0sdGhpcy5tZXNzYWdlcy5iYXNlSGVhZGluZyl9X3JlbmRlckJhc2VTZWN0aW9uKCl7Y29uc3R7YmFzZUl0ZW1zOmUsbWVzc2FnZXM6dCx2aXNpYmxlRWxlbWVudHM6aX09dGhpcztpZighaS5iYXNlTGF5ZXJzKXJldHVybiBudWxsO2NvbnN0IHM9dGhpcy5fZ2V0SXRlbXMoZSksbj1cImJhc2VcIjtyZXR1cm5bdGhpcy5fcmVuZGVyQmFzZUhlYWRlcigpLFswPT09cy5sZW5ndGg/dGhpcy5fcmVuZGVyTm9MYXllcnNJbmZvKHQubm9CYXNlTGF5ZXJzLG4pOm51bGwsdGhpcy5fcmVuZGVyTGlzdChzLG4pXV19X3JlbmRlclJlZmVyZW5jZUhlYWRlcigpe3JldHVybiB2KHAse2NsYXNzOnRoaXMuY2xhc3NlcyhnLmhlYWRpbmcsQi5saXN0SGVhZGluZyksa2V5OlwicmVmZXJlbmNlLWhlYWRpbmdcIixsZXZlbDpfKHRoaXMuaGVhZGluZ0xldmVsKX0sdGhpcy5tZXNzYWdlcy5yZWZlcmVuY2VIZWFkaW5nKX1fcmVuZGVyUmVmZXJlbmNlU2VjdGlvbigpe2NvbnN0e3JlZmVyZW5jZUl0ZW1zOmUsbWVzc2FnZXM6dCx2aXNpYmxlRWxlbWVudHM6aX09dGhpcztpZighaS5yZWZlcmVuY2VMYXllcnMpcmV0dXJuIG51bGw7Y29uc3Qgcz10aGlzLl9nZXRJdGVtcyhlKSxuPVwicmVmZXJlbmNlXCI7cmV0dXJuW3RoaXMuX3JlbmRlclJlZmVyZW5jZUhlYWRlcigpLFswPT09cy5sZW5ndGg/dGhpcy5fcmVuZGVyTm9MYXllcnNJbmZvKHQubm9SZWZlcmVuY2VMYXllcnMsbik6bnVsbCx0aGlzLl9yZW5kZXJMaXN0KHMsbildXX1fcmVuZGVyQ2hpbGRyZW5Ub2dnbGUoZSx0KXtjb25zdHttZXNzYWdlc0NvbW1vbjppfT10aGlzLHtjaGlsZHJlbjpzfT1lLG49ISFlLmVycm9yLHI9ISFzLmxlbmd0aCYmIW4sbz17W0IuY2hpbGRUb2dnbGVPcGVuXTplLm9wZW59LGw9ZS5vcGVuP2kuY29sbGFwc2U6aS5leHBhbmQ7cmV0dXJuIHI/dihcInNwYW5cIix7XCJhcmlhLWNvbnRyb2xzXCI6dCxcImFyaWEtbGFiZWxcIjpsLGNsYXNzOnRoaXMuY2xhc3NlcyhCLmNoaWxkVG9nZ2xlLG8pLFwiZGF0YS1pdGVtXCI6ZSxrZXk6XCJ0b2dnbGUtY2hpbGRyZW5cIixvbmNsaWNrOnRoaXMuX3RvZ2dsZUNoaWxkcmVuQ2xpY2ssb25rZXlkb3duOnRoaXMuX3RvZ2dsZUNoaWxkcmVuQ2xpY2sscm9sZTpcImJ1dHRvblwiLHRhYkluZGV4OjAsdGl0bGU6bH0sdihcInNwYW5cIix7XCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwiLGNsYXNzOnRoaXMuY2xhc3NlcyhCLmNoaWxkQ2xvc2VkLGIucmlnaHRUcmlhbmdsZUFycm93KX0pLHYoXCJzcGFuXCIse1wiYXJpYS1oaWRkZW5cIjpcInRydWVcIixjbGFzczp0aGlzLmNsYXNzZXMoQi5jaGlsZE9wZW5lZCxiLmRvd25BcnJvdyl9KSx2KFwic3BhblwiLHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsY2xhc3M6dGhpcy5jbGFzc2VzKEIuY2hpbGRDbG9zZWRfUlRMLGIubGVmdFRyaWFuZ2xlQXJyb3cpfSkpOm51bGx9X3JlbmRlckl0ZW1NZXNzYWdlKGUpe3JldHVybiBlLmVycm9yP3YoXCJkaXZcIix7Y2xhc3M6Qi5tZXNzYWdlLGtleTpcImVzcmktYmFzZW1hcC1sYXllci1saXN0X19lcnJvclwiLHJvbGU6XCJhbGVydFwifSx2KFwic3BhblwiLHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsY2xhc3M6Yi5ub3RpY2VUcmlhbmdsZX0pLHRoaXMubWVzc2FnZXMubGF5ZXJFcnJvcik6ZS5pbmNvbXBhdGlibGU/dihcImRpdlwiLHtjbGFzczpCLm1lc3NhZ2Usa2V5OlwiZXNyaS1iYXNlbWFwLWxheWVyLWxpc3RfX2luY29tcGF0aWJsZVwiLHJvbGU6XCJhbGVydFwifSx2KFwic3BhblwiLHthZnRlckNyZWF0ZTp0PT50aGlzLl9zZXRUb29sdGlwUmVmZXJlbmNlKHQsZSksXCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwiLGJpbmQ6dGhpcyxjbGFzczpiLm5vdGljZVRyaWFuZ2xlLHRhYkluZGV4OjB9KSx0aGlzLm1lc3NhZ2VzLmxheWVySW5jb21wYXRpYmxlKTpudWxsfV9yZW5kZXJBY3Rpb25zTWVudUljb24oZSx0KXtjb25zdHttZXNzYWdlc0NvbW1vbjppfT10aGlzLHM9e1tCLmFjdGlvbnNNZW51SXRlbUFjdGl2ZV06ZS5hY3Rpb25zT3Blbn07cmV0dXJuIHYoXCJkaXZcIix7XCJhcmlhLWNvbnRyb2xzXCI6dCxcImFyaWEtbGFiZWxcIjppLm9wdGlvbnMsYmluZDp0aGlzLGNsYXNzOnRoaXMuY2xhc3NlcyhCLmFjdGlvbnNNZW51SXRlbSxzKSxcImRhdGEtaXRlbVwiOmUsa2V5OlwiYWN0aW9ucy1tZW51LXRvZ2dsZVwiLG9uY2xpY2s6dGhpcy5fdG9nZ2xlQWN0aW9uc09wZW4sb25rZXlkb3duOnRoaXMuX3RvZ2dsZUFjdGlvbnNPcGVuLHJvbGU6XCJidXR0b25cIix0YWJJbmRleDowLHRpdGxlOmkub3B0aW9uc30sdihcInNwYW5cIix7XCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwiLGNsYXNzOmIuaGFuZGxlSG9yaXpvbnRhbH0pKX1fcmVuZGVyQWN0aW9uc01lbnUoZSx0LGkscyl7Y29uc3R7cGFuZWw6bn09ZSxyPW4mJm4udmlzaWJsZT90aGlzLl9yZW5kZXJQYW5lbEJ1dHRvbihuKTpudWxsLG89MT09PWkmJnRoaXMuX2dldFNpbmdsZUFjdGlvbkJ1dHRvbih0KSxsPW8/dGhpcy5fcmVuZGVyQWN0aW9uKHtpdGVtOmUsYWN0aW9uOm8sc2luZ2xlQWN0aW9uOiEwfSk6bnVsbCxhPSFvJiZpP3RoaXMuX3JlbmRlckFjdGlvbnNNZW51SWNvbihlLHMpOm51bGw7cmV0dXJuIGF8fHJ8fG8/dihcImRpdlwiLHtjbGFzczpCLmFjdGlvbnNNZW51LGtleTpcImFjdGlvbnMtbWVudVwifSxyLGwsYSk6bnVsbH1fcmVuZGVyQ2hpbGRMaXN0KGUsdCl7Y29uc3R7ZWRpdGluZ0VuYWJsZWQ6aX09dGhpcyx7dmlzaWJpbGl0eU1vZGU6cyxjaGlsZHJlbjpufT1lLHI9dGhpcy5faGFzQ2hpbGRyZW4oZSksbz0hciYmaSYmXCJncm91cFwiPT09ZS5sYXllcj8udHlwZSx7ZXhjbHVzaXZlOmwsaW5oZXJpdGVkOmF9PU8sZD17W0IubGlzdEVtcHR5XTohcixbQi5saXN0RXhjbHVzaXZlXTpzPT09bCxbQi5saXN0SW5oZXJpdGVkXTpzPT09YSxbQi5saXN0SW5kZXBlbmRlbnRdOnMhPT1hJiZzIT09bH07cmV0dXJuIHJ8fG8/cj92KFwidWxcIix7YWZ0ZXJDcmVhdGU6dGhpcy5fc29ydE5vZGVDcmVhdGVkLGFmdGVyVXBkYXRlOnRoaXMuX3NvcnROb2RlQ3JlYXRlZCxcImFyaWEtZXhwYW5kZWRcIjplLm9wZW4/XCJ0cnVlXCI6XCJmYWxzZVwiLGJpbmQ6dGhpcyxjbGFzczp0aGlzLmNsYXNzZXMoQi5saXN0LGQpLFwiZGF0YS1ncm91cFwiOmUudWlkLFwiZGF0YS1pdGVtXCI6ZSxoaWRkZW46IWUub3Blbnx8bnVsbCxpZDp0LGtleTpcImxpc3QtaXRlbXNcIixyb2xlOmk/XCJsaXN0Ym94XCI6cz09PWw/XCJyYWRpb2dyb3VwXCI6XCJncm91cFwifSxuPy5tYXAoKHQ9PnRoaXMuX3JlbmRlckl0ZW0oe2l0ZW06dCxwYXJlbnQ6ZX0pKSkudG9BcnJheSgpKTp2KFwiZGl2XCIse2JpbmQ6dGhpcyxjbGFzczpCLmxpc3RFbXB0eVN0YXRlLGlkOnQsa2V5OlwibGlzdC1pdGVtc1wifSx0aGlzLm1lc3NhZ2VzLm5vSXRlbXNUb0Rpc3BsYXkpOm51bGx9X3JlbmRlckl0ZW1Db250ZW50KGUsdCxpKXtjb25zdHtpZDpzfT10aGlzLG49YCR7c31fJHtlLnVpZH1gLHI9YCR7bn1fYWN0aW9uc2Asbz1gJHtufV9fbGlzdGAse3BhbmVsOmx9PWUsYT10aGlzLl9maWx0ZXJBY3Rpb25zKGUuYWN0aW9uc1NlY3Rpb25zKSxkPXRoaXMuX2NvdW50QWN0aW9ucyhhKTtyZXR1cm5bdihcImRpdlwiLHtjbGFzczpCLml0ZW1Db250YWluZXIsa2V5OlwibGlzdC1pdGVtLWNvbnRhaW5lclwifSx0aGlzLl9yZW5kZXJDaGlsZHJlblRvZ2dsZShlLG8pLHRoaXMuX3JlbmRlckxhYmVsKGUsdCxpKSx0aGlzLl9yZW5kZXJBY3Rpb25zTWVudShlLGEsZCxyKSksdGhpcy5fcmVuZGVySXRlbU1lc3NhZ2UoZSksZD90aGlzLl9yZW5kZXJBY3Rpb25zU2VjdGlvbnMoZSxhLHIpOm51bGwsbCYmbC5vcGVuJiYhbC5kaXNhYmxlZD9sLnJlbmRlcigpOm51bGwsdGhpcy5fcmVuZGVyQ2hpbGRMaXN0KGUsbyldfV9yZW5kZXJJdGVtKHtpdGVtOmUscGFyZW50OnQsaXRlbVR5cGU6aSxpc09ubHlDaGlsZDpzfSl7Y29uc3R7c3R5bGU6bixpZDpyLGVkaXRpbmdFbmFibGVkOm8sc2VsZWN0ZWRJdGVtczpsfT10aGlzLGE9YCR7YCR7cn1fJHtlLnVpZH1gfV9fdGl0bGVgLGQ9dGhpcy5faGFzTWVzc2FnZShlKSxjPXRoaXMuX2hhc0NoaWxkcmVuKGUpLGg9e1tCLml0ZW1DaGlsZHJlbl06YyxbQi5pdGVtTWVzc2FnZV06ISFkLFtCLml0ZW1JbnZpc2libGVdOlwibW9kZXJuXCI9PT1uJiYhZS52aXNpYmxlLFtCLml0ZW1JbnZpc2libGVBdFNjYWxlXTohZS52aXNpYmxlQXRDdXJyZW50U2NhbGUsW0IuaXRlbVNlbGVjdGFibGVdOm99O2lmKG8pe2NvbnN0IG49e1skXTplLmxheWVyPy51aWR9O3JldHVybiB2KFwibGlcIix7YWZ0ZXJDcmVhdGU6dGhpcy5fZm9jdXNMaXN0SXRlbSxhZnRlclVwZGF0ZTp0aGlzLl9mb2N1c0xpc3RJdGVtLFwiYXJpYS1sYWJlbGxlZGJ5XCI6YSxcImFyaWEtc2VsZWN0ZWRcIjp1KGUsbCk/XCJ0cnVlXCI6XCJmYWxzZVwiLGJpbmQ6dGhpcyxjbGFzczp0aGlzLmNsYXNzZXMoQi5pdGVtLGgse1tCLml0ZW1Pbmx5Q2hpbGRdOiEhc30pLFwiZGF0YS1pdGVtXCI6ZSxcImRhdGEtaXRlbS10eXBlXCI6aSxrZXk6YGl0ZW0td2l0aC1zZWxlY3Rpb24tJHtlLnVpZH1gLG9uY2xpY2s6dGhpcy5fdG9nZ2xlU2VsZWN0aW9uLG9ua2V5ZG93bjp0aGlzLl9zZWxlY3Rpb25LZXlkb3duLHJvbGU6XCJvcHRpb25cIix0YWJJbmRleDowLC4uLm59LHRoaXMuX3JlbmRlckl0ZW1Db250ZW50KGUsdCxhKSl9cmV0dXJuIHYoXCJsaVwiLHthZnRlckNyZWF0ZTp0aGlzLl9mb2N1c0xpc3RJdGVtLGFmdGVyVXBkYXRlOnRoaXMuX2ZvY3VzTGlzdEl0ZW0sXCJhcmlhLWxhYmVsbGVkYnlcIjphLGJpbmQ6dGhpcyxjbGFzczp0aGlzLmNsYXNzZXMoQi5pdGVtLGgpLGtleTpgaXRlbS1uby1zZWxlY3Rpb24tJHtlLnVpZH1gfSx0aGlzLl9yZW5kZXJJdGVtQ29udGVudChlLHQsYSkpfV9yZW5kZXJDb25uZWN0aW9uSWNvbihlKXtjb25zdHtjb25uZWN0aW9uU3RhdHVzOnR9PWU7cmV0dXJuIG51bGwhPXQ/dihcImNhbGNpdGUtaWNvblwiLHtpY29uOlwiY29ubmVjdGVkXCI9PT10P1wiY2hlY2stY2lyY2xlXCI6XCJvZmZsaW5lXCIsc2NhbGU6XCJzXCJ9KTpudWxsfV9yZW5kZXJJdGVtU3RhdHVzKGUsdCl7Y29uc3R7dmlzaWJsZUVsZW1lbnRzOml9PXRoaXM7aWYoIWkuc3RhdHVzSW5kaWNhdG9ycylyZXR1cm4gbnVsbDtjb25zdHtjb25uZWN0aW9uU3RhdHVzOnMscHVibGlzaGluZzpuLHVwZGF0aW5nOnJ9PWUsbz1yJiYhdCxsPSEhcztyZXR1cm4gdihcInNwYW5cIix7Y2xhc3M6dGhpcy5jbGFzc2VzKHtbQi5zdGF0dXNJbmRpY2F0b3JdOiEwLFtCLnB1Ymxpc2hpbmddOm4sW0IudXBkYXRpbmddOm8sW0IuY29ubmVjdGlvblN0YXR1c106bCxbQi5jb25uZWN0aW9uU3RhdHVzQ29ubmVjdGVkXTpsJiZcImNvbm5lY3RlZFwiPT09c30pLGtleTpcImxheWVyLWl0ZW0tc3RhdHVzXCJ9LHRoaXMuX3JlbmRlckNvbm5lY3Rpb25JY29uKGUpKX1fcmVuZGVySXRlbVRpdGxlKGUsdCl7Y29uc3R7bWVzc2FnZXM6aX09dGhpcyxzPWUudGl0bGV8fGkudW50aXRsZWRMYXllcixuPWUudmlzaWJsZUF0Q3VycmVudFNjYWxlP3M6YCR7c30gKCR7aS5sYXllckludmlzaWJsZUF0U2NhbGV9KWA7cmV0dXJuIHYoXCJzcGFuXCIse1wiYXJpYS1sYWJlbFwiOm4sY2xhc3M6Qi50aXRsZSxpZDp0LGtleTpcImxheWVyLXRpdGxlLWNvbnRhaW5lclwiLHRpdGxlOm59LHMpfV9yZW5kZXJJdGVtVG9nZ2xlSWNvbih7dmlzaWJsZTplfSx0KXtjb25zdHtzdHlsZTppfT10aGlzLHtleGNsdXNpdmU6c309TyxuPXQ/LnZpc2liaWxpdHlNb2RlLHI9XCJtb2Rlcm5cIj09PWksbz1uPT09cyxsPXtbQi50b2dnbGVJY29uXTpyJiYhbyxbQi5yYWRpb0ljb25dOnImJm8sW2IucmFkaW9DaGVja2VkXTpvJiZlLFtiLnJhZGlvVW5jaGVja2VkXTpvJiYhZSxbYi52aXNpYmxlXTohbyYmZSxbYi5ub25WaXNpYmxlXTohbyYmIWV9O3JldHVybiB2KFwic3BhblwiLHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsY2xhc3M6dGhpcy5jbGFzc2VzKGwpLGtleTpcIml0ZW0tdG9nZ2xlLWljb25cIn0pfV9yZW5kZXJJdGVtVG9nZ2xlKGUsdCxpKXtjb25zdHtlZGl0aW5nRW5hYmxlZDpzLG1lc3NhZ2VzOm59PXRoaXMse2V4Y2x1c2l2ZTpyfT1PLG89dD8udmlzaWJpbGl0eU1vZGUsbD1vPT09cj9cInJhZGlvXCI6XCJzd2l0Y2hcIjtyZXR1cm4gdihcInNwYW5cIixzP3tcImFyaWEtY2hlY2tlZFwiOmUudmlzaWJsZT9cInRydWVcIjpcImZhbHNlXCIsXCJhcmlhLWxhYmVsbGVkYnlcIjppLGJpbmQ6dGhpcyxjbGFzczpCLnRvZ2dsZVZpc2libGUsXCJkYXRhLWl0ZW1cIjplLFwiZGF0YS1wYXJlbnQtdmlzaWJpbGl0eVwiOm8sa2V5OlwiaXRlbS10b2dnbGUtc2VsZWN0aW9uLWVuYWJsZWRcIixvbmNsaWNrOnRoaXMuX3RvZ2dsZVZpc2liaWxpdHksb25rZXlkb3duOnRoaXMuX3RvZ2dsZVZpc2liaWxpdHkscm9sZTpsLHRhYkluZGV4OjAsdGl0bGU6bi5sYXllclZpc2liaWxpdHl9OntjbGFzczpCLnRvZ2dsZVZpc2libGUsa2V5OlwiaXRlbS10b2dnbGVcIn0sdGhpcy5fcmVuZGVySXRlbVRvZ2dsZUljb24oZSx0KSl9X3JlbmRlckxhYmVsKGUsdCxpKXtjb25zdHtlZGl0aW5nRW5hYmxlZDpzLHN0eWxlOm4sbWVzc2FnZXM6cn09dGhpcyx7aW5oZXJpdGVkOm8sZXhjbHVzaXZlOmx9PU8sYT10Py52aXNpYmlsaXR5TW9kZSxkPWE9PT1sP1wicmFkaW9cIjpcInN3aXRjaFwiLGM9dGhpcy5fcmVuZGVySXRlbVRpdGxlKGUsaSksaD10aGlzLl9yZW5kZXJJdGVtU3RhdHVzKGUsdCksdT10aGlzLl9yZW5kZXJJdGVtVG9nZ2xlKGUsdCxpKSxtPVwibW9kZXJuXCI9PT1uP1tjLGgsdV06W3UsYyxoXSxnPXYoXCJkaXZcIixzP3tjbGFzczpCLmxhYmVsLGtleTpgaXRlbS1sYWJlbC1uby1zZWxlY3Rpb24tJHtlLnVpZH1gfTp7XCJhcmlhLWNoZWNrZWRcIjplLnZpc2libGU/XCJ0cnVlXCI6XCJmYWxzZVwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6aSxiaW5kOnRoaXMsY2xhc3M6Qi5sYWJlbCxcImRhdGEtaXRlbVwiOmUsXCJkYXRhLXBhcmVudC12aXNpYmlsaXR5XCI6YSxrZXk6YGl0ZW0tbGFiZWwtd2l0aC1zZWxlY3Rpb24tJHtlLnVpZH1gLG9uY2xpY2s6dGhpcy5fdG9nZ2xlVmlzaWJpbGl0eSxvbmtleWRvd246dGhpcy5fdG9nZ2xlVmlzaWJpbGl0eSxyb2xlOmQsdGFiSW5kZXg6MCx0aXRsZTpyLmxheWVyVmlzaWJpbGl0eX0sbSk7cmV0dXJuIGE9PT1vfHxlLmVycm9yP3YoXCJkaXZcIix7Y2xhc3M6Qi5sYWJlbCxrZXk6YGl0ZW0tbGFiZWwtY29udGFpbmVyLSR7ZS51aWR9YH0sdGhpcy5fcmVuZGVySXRlbVRpdGxlKGUsaSksdGhpcy5fcmVuZGVySXRlbVN0YXR1cyhlLHQpKTpnfV9yZW5kZXJQYW5lbEJ1dHRvbihlKXtjb25zdHtjbGFzc05hbWU6dCxvcGVuOmksdGl0bGU6cyxpbWFnZTpuLGRpc2FibGVkOnJ9PWUsbz1ufHx0P3Q6Yi5kZWZhdWx0QWN0aW9uLGw9dGhpcy5fZ2V0SWNvbkltYWdlU3R5bGVzKGUpLGE9e1tCLmFjdGlvbnNNZW51SXRlbUFjdGl2ZV06aSYmIXJ9LGQ9e1tCLmFjdGlvbkltYWdlXTohIWxbXCJiYWNrZ3JvdW5kLWltYWdlXCJdLFtnLmRpc2FibGVkRWxlbWVudF06ZS5kaXNhYmxlZH07cmV0dXJuIG8mJihkW29dPSEhbyksdihcImRpdlwiLHtcImFyaWEtZGlzYWJsZWRcIjplLmRpc2FibGVkLnRvU3RyaW5nKCksXCJhcmlhLWxhYmVsXCI6cyxiaW5kOnRoaXMsY2xhc3M6dGhpcy5jbGFzc2VzKEIuYWN0aW9uc01lbnVJdGVtLGEpLFwiZGF0YS1wYW5lbFwiOmUsa2V5OmBwYW5lbC0ke2UudWlkfWAsb25jbGljazp0aGlzLl90cmlnZ2VyUGFuZWwsb25rZXlkb3duOnRoaXMuX3RyaWdnZXJQYW5lbCxyb2xlOlwiYnV0dG9uXCIsdGFiSW5kZXg6ZS5kaXNhYmxlZD92b2lkIDA6MCx0aXRsZTpzfSx2KFwic3BhblwiLHtjbGFzczp0aGlzLmNsYXNzZXMoZCksc3R5bGVzOmx9KSl9X3JlbmRlckFjdGlvbnNTZWN0aW9ucyhlLHQsaSl7Y29uc3Qgcz10LnRvQXJyYXkoKS5tYXAoKCh0LGkpPT52KFwidWxcIix7Y2xhc3M6Qi5hY3Rpb25zTGlzdCxrZXk6YCR7ZX0tYWN0aW9uLXNlY3Rpb24tJHtpfWB9LHRoaXMuX3JlbmRlckFjdGlvblNlY3Rpb24oZSx0KSkpKTtyZXR1cm4gdihcImRpdlwiLHtcImFyaWEtZXhwYW5kZWRcIjplLmFjdGlvbnNPcGVuP1widHJ1ZVwiOlwiZmFsc2VcIixjbGFzczpCLmFjdGlvbnMsaGlkZGVuOiFlLmFjdGlvbnNPcGVufHxudWxsLGlkOmksa2V5OlwiYWN0aW9ucy1zZWN0aW9uXCIscm9sZTpcImdyb3VwXCJ9LHMpfV9yZW5kZXJBY3Rpb25TZWN0aW9uKGUsdCl7cmV0dXJuKHQmJnQudG9BcnJheSgpKS5tYXAoKHQ9PnRoaXMuX3JlbmRlckFjdGlvbih7aXRlbTplLGFjdGlvbjp0fSkpKX1fcmVuZGVyQWN0aW9uSWNvbihlKXtjb25zdHthY3RpdmU6dCxjbGFzc05hbWU6aX09ZSxzPXRoaXMuX2dldEljb25JbWFnZVN0eWxlcyhlKSxuPVwiYnV0dG9uXCIhPT1lLnR5cGV8fGUuaW1hZ2V8fGk/aTpiLmRlZmF1bHRBY3Rpb24scj17W0IuYWN0aW9uSW1hZ2VdOiF0JiYhIXNbXCJiYWNrZ3JvdW5kLWltYWdlXCJdLFtiLmxvYWRpbmdJbmRpY2F0b3JdOnQsW2cucm90YXRpbmddOnR9O3JldHVybiBuJiYhdCYmKHJbbl09ITApLHYoXCJzcGFuXCIse1wiYXJpYS1oaWRkZW5cIjpcInRydWVcIixjbGFzczp0aGlzLmNsYXNzZXMoQi5hY3Rpb25JY29uLHIpLGtleTpcImFjdGlvbi1pY29uXCIsc3R5bGVzOnN9KX1fcmVuZGVyQWN0aW9uVGl0bGUoZSx0KXtyZXR1cm4gdD9udWxsOnYoXCJzcGFuXCIse2NsYXNzOkIuYWN0aW9uVGl0bGUsa2V5OlwiYWN0aW9uLXRpdGxlXCJ9LGUpfV9yZW5kZXJBY3Rpb24oZSl7Y29uc3R7aXRlbTp0LGFjdGlvbjppLHNpbmdsZUFjdGlvbjpzfT1lLHthY3RpdmU6bixkaXNhYmxlZDpyLHRpdGxlOm99PWksbD17W0IuYWN0aW9uc01lbnVJdGVtXTpzJiZcImJ1dHRvblwiPT09aS50eXBlLFtCLmFjdGlvbl06bnx8IXMmJlwidG9nZ2xlXCIhPT1pLnR5cGUsW0IuYWN0aW9uVG9nZ2xlXTohbiYmXCJ0b2dnbGVcIj09PWkudHlwZSxbQi5hY3Rpb25Ub2dnbGVPbl06IW4mJlwidG9nZ2xlXCI9PT1pLnR5cGUmJmkudmFsdWUsW2cuZGlzYWJsZWRFbGVtZW50XTpyfSxhPVt0aGlzLl9yZW5kZXJBY3Rpb25JY29uKGkpLHRoaXMuX3JlbmRlckFjdGlvblRpdGxlKG8scyldO3JldHVybiBzP3YoXCJkaXZcIix7XCJhcmlhLWxhYmVsXCI6byxiaW5kOnRoaXMsY2xhc3NlczpsLFwiZGF0YS1hY3Rpb25cIjppLFwiZGF0YS1pdGVtXCI6dCxrZXk6YHNpbmdsZS1hY3Rpb24tJHtpLnVpZH1gLG9uY2xpY2s6dGhpcy5fdHJpZ2dlckFjdGlvbixvbmtleWRvd246dGhpcy5fdHJpZ2dlckFjdGlvbixyb2xlOlwiYnV0dG9uXCIsdGFiSW5kZXg6MCx0aXRsZTpvPz92b2lkIDB9LGEpOnYoXCJsaVwiLHtcImFyaWEtbGFiZWxcIjpvLGJpbmQ6dGhpcyxjbGFzc2VzOmwsXCJkYXRhLWFjdGlvblwiOmksXCJkYXRhLWl0ZW1cIjp0LGtleTpgYWN0aW9uLSR7aS51aWR9YCxvbmNsaWNrOnRoaXMuX3RyaWdnZXJBY3Rpb24sb25rZXlkb3duOnRoaXMuX3RyaWdnZXJBY3Rpb24scm9sZTpcImJ1dHRvblwiLHRhYkluZGV4OjAsdGl0bGU6bz8/dm9pZCAwfSxhKX1fc2V0VmlzaWJsZUl0ZW1zKCl7Y29uc3R7cmVmZXJlbmNlSXRlbXM6ZSxiYXNlSXRlbXM6dCx2aXNpYmxlRWxlbWVudHM6aX09dGhpcyxzPWUuY29uY2F0KHQpO3RoaXMudmlzaWJsZUl0ZW1zPXM/LmZpbHRlcigoZT0+IWUuaGlkZGVuJiYoaS5lcnJvcnN8fCFlLmVycm9yKSkpfV9zZXRUb29sdGlwUmVmZXJlbmNlKGUsdCl7dGhpcy5fdG9vbHRpcFJlZmVyZW5jZU1hcC5zZXQodC51aWQsZSksdGhpcy5zY2hlZHVsZVJlbmRlcigpfV9oYXNNZXNzYWdlKGUpe3JldHVybiEhZS5lcnJvcnx8ZS5pbmNvbXBhdGlibGV9X2hhc0NoaWxkcmVuKGUpe3JldHVybiEhZS5jaGlsZHJlbi5sZW5ndGgmJiF0aGlzLl9oYXNNZXNzYWdlKGUpfV9maWx0ZXJBY3Rpb25zKGUpe3JldHVybiBlLm1hcCgoZT0+ZS5maWx0ZXIoKGU9PmUudmlzaWJsZSkpKSl9X2Rlc3Ryb3lSZWZlcmVuY2VTb3J0YWJsZSgpe2NvbnN0e19zb3J0YWJsZVJlZmVyZW5jZUxheWVyczplfT10aGlzO2U/LmVsJiZlLmRlc3Ryb3koKSx0aGlzLl9zb3J0YWJsZVJlZmVyZW5jZUxheWVyc05vZGU9bnVsbH1fZGVzdHJveUJhc2VTb3J0YWJsZSgpe2NvbnN0e19zb3J0YWJsZUJhc2VMYXllcnM6ZX09dGhpcztlPy5lbCYmZS5kZXN0cm95KCksdGhpcy5fc29ydGFibGVCYXNlTGF5ZXJzTm9kZT1udWxsfV90b2dnbGVFZGl0aW5nVGl0bGUoKXtjb25zdHtfZWRpdGluZ1RpdGxlOmV9PXRoaXMsdD0hZTt0aGlzLl9lZGl0aW5nVGl0bGU9dCx0aGlzLl9mb2N1c09uRWxlbWVudD10P1wiZWRpdC1pbnB1dFwiOlwiZWRpdC1idXR0b25cIix0aGlzLnNjaGVkdWxlUmVuZGVyKCl9X3N0b3JlRWRpdFRpdGxlSW5wdXQoZSl7dGhpcy5fZWRpdFRpdGxlSW5wdXQ9ZSx0aGlzLl9mb2N1c0VkaXRFbGVtZW50KCl9X2ZvY3VzRWRpdEVsZW1lbnQoKXt0aGlzLl9lZGl0VGl0bGVJbnB1dCYmXCJlZGl0LWlucHV0XCI9PT10aGlzLl9mb2N1c09uRWxlbWVudCYmKHRoaXMuX2ZvY3VzT25FbGVtZW50PW51bGwsdGhpcy5fZWRpdFRpdGxlSW5wdXQuZm9jdXMoKSksdGhpcy5fZWRpdFRpdGxlQnV0dG9uJiZcImVkaXQtYnV0dG9uXCI9PT10aGlzLl9mb2N1c09uRWxlbWVudCYmKHRoaXMuX2ZvY3VzT25FbGVtZW50PW51bGwsdGhpcy5fZWRpdFRpdGxlQnV0dG9uLmZvY3VzKCkpfV9zdG9yZUVkaXRUaXRsZUJ1dHRvbihlKXt0aGlzLl9lZGl0VGl0bGVCdXR0b249ZSx0aGlzLl9mb2N1c0VkaXRFbGVtZW50KCl9X2Zvcm1TdWJtaXQoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO2NvbnN0IHQ9dGhpcy5fZWRpdFRpdGxlSW5wdXQ/LnZhbHVlO3Q/LnRyaW0oKSYmKHRoaXMuYmFzZW1hcFRpdGxlPXQpLHRoaXMuX3RvZ2dsZUVkaXRpbmdUaXRsZSgpfV9pdGVtTW92ZWRMaXN0KGUpe2NvbnN0IHQ9VihlLml0ZW0pO2lmKCF0KXJldHVybjtjb25zdCBpPWUudG8uZGF0YXNldC5ub2RlUmVmLHM9ZS5mcm9tLmRhdGFzZXQubm9kZVJlZixuPWUubmV3SW5kZXg7dGhpcy52aWV3TW9kZWwudHJhbnNmZXJMaXN0SXRlbSh7bGlzdEl0ZW06dCxmcm9tOnMsdG86aSxuZXdJbmRleDpufSl9X3RvZ2dsZVNvcnRpbmdCYXNlTGF5ZXJzKCl7Y29uc3R7X3NvcnRhYmxlQmFzZUxheWVyczplLF9zb3J0YWJsZUJhc2VMYXllcnNOb2RlOnQsZWRpdGluZ0VuYWJsZWQ6aX09dGhpcztpZighdClyZXR1cm47Y29uc3Qgcz0haTtpZihlKWUub3B0aW9uKFwiZGlzYWJsZWRcIixzKTtlbHNle2NvbnN0IGU9Qy5jcmVhdGUodCx7ZGF0YUlkQXR0cjokLGdyb3VwOlMsZmlsdGVyOmAuJHtCLml0ZW1Pbmx5Q2hpbGR9YCxmYWxsYmFja1RvbGVyYW5jZTo0LGRpc2FibGVkOnMsb25Tb3J0OigpPT50aGlzLl9zb3J0TGF5ZXJzVG9JdGVtcyh7dHlwZTpcImJhc2VcIixpdGVtSWRzOmUudG9BcnJheSgpfSksb25BZGQ6ZT0+dGhpcy5faXRlbU1vdmVkTGlzdChlKSxjaG9zZW5DbGFzczpCLnNvcnRhYmxlQ2hvc2VufSk7dGhpcy5fc29ydGFibGVCYXNlTGF5ZXJzPWV9fV90b2dnbGVTb3J0aW5nUmVmZXJlbmNlTGF5ZXJzKCl7Y29uc3R7X3NvcnRhYmxlUmVmZXJlbmNlTGF5ZXJzOmUsX3NvcnRhYmxlUmVmZXJlbmNlTGF5ZXJzTm9kZTp0LGVkaXRpbmdFbmFibGVkOml9PXRoaXM7aWYoIXQpcmV0dXJuO2NvbnN0IHM9IWk7aWYoZSllLm9wdGlvbihcImRpc2FibGVkXCIscyk7ZWxzZXtjb25zdCBlPUMuY3JlYXRlKHQse2RhdGFJZEF0dHI6JCxncm91cDpTLGRpc2FibGVkOnMsZmFsbGJhY2tUb2xlcmFuY2U6NCxvblNvcnQ6KCk9PnRoaXMuX3NvcnRMYXllcnNUb0l0ZW1zKHt0eXBlOlwicmVmZXJlbmNlXCIsaXRlbUlkczplLnRvQXJyYXkoKX0pLG9uQWRkOmU9PnRoaXMuX2l0ZW1Nb3ZlZExpc3QoZSksY2hvc2VuQ2xhc3M6Qi5zb3J0YWJsZUNob3Nlbn0pO3RoaXMuX3NvcnRhYmxlUmVmZXJlbmNlTGF5ZXJzPWV9fV90b2dnbGVTb3J0aW5nKCl7dGhpcy5fdG9nZ2xlU29ydGluZ0Jhc2VMYXllcnMoKSx0aGlzLl90b2dnbGVTb3J0aW5nUmVmZXJlbmNlTGF5ZXJzKCl9X3NvcnROb2RlQ3JlYXRlZChlKXtjb25zdCB0PWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1ub2RlLXJlZlwiKTtcImJhc2VcIj09PXQmJih0aGlzLl9zb3J0YWJsZUJhc2VMYXllcnNOb2RlPWUpLFwicmVmZXJlbmNlXCI9PT10JiYodGhpcy5fc29ydGFibGVSZWZlcmVuY2VMYXllcnNOb2RlPWUpLHRoaXMuX3RvZ2dsZVNvcnRpbmcoKX1fZ2V0SXRlbXMoZSl7cmV0dXJuIGUudG9BcnJheSgpLmZpbHRlcigoZT0+IWUuaGlkZGVuJiYodGhpcy52aXNpYmxlRWxlbWVudHMuZXJyb3JzfHwhZS5lcnJvcikpKX1fZ2V0U2luZ2xlQWN0aW9uQnV0dG9uKGUpe3JldHVybiBlLnJlZHVjZSgoZT0+ZSkpLmZpbHRlcigoZT0+ZSYmXCJidXR0b25cIj09PWUudHlwZSkpLmF0KDApfV9zb3J0TGF5ZXJzVG9JdGVtcyh7dHlwZTplLGl0ZW1JZHM6dH0pe2NvbnN0IGk9XCJiYXNlXCI9PT1lP3RoaXMudmlldz8ubWFwPy5iYXNlbWFwPy5iYXNlTGF5ZXJzOlwicmVmZXJlbmNlXCI9PT1lP3RoaXMudmlldz8ubWFwPy5iYXNlbWFwPy5yZWZlcmVuY2VMYXllcnM6bnVsbDtpJiZpLnNvcnQoKChlLGkpPT57Y29uc3Qgcz10LmluZGV4T2YoZS51aWQpLG49dC5pbmRleE9mKGkudWlkKTtyZXR1cm4gcz5uPy0xOnM8bj8xOjB9KSl9X2ZvY3VzTGlzdEl0ZW0oZSl7Y29uc3R7X2ZvY3VzU29ydFVpZDp0fT10aGlzO2lmKCFlfHwhdClyZXR1cm47Y29uc3QgaT1WKGUpO2k/LmxheWVyPy51aWQ9PT10JiYoZS5mb2N1cygpLHRoaXMuX2ZvY3VzU29ydFVpZD1udWxsKX1fc2VsZWN0aW9uS2V5ZG93bihlKXtjb25zdCB0PVtcIkFycm93RG93blwiLFwiQXJyb3dVcFwiXSxzPWkoZSk7aWYoIXQuaW5jbHVkZXMocykpcmV0dXJuIHZvaWQgdGhpcy5fdG9nZ2xlU2VsZWN0aW9uKGUpO2Uuc3RvcFByb3BhZ2F0aW9uKCk7Y29uc3Qgbj1lLmN1cnJlbnRUYXJnZXQscj1WKG4pLG89bi5kYXRhc2V0Lml0ZW1UeXBlLHtfc29ydGFibGVCYXNlTGF5ZXJzOmwsX3NvcnRhYmxlUmVmZXJlbmNlTGF5ZXJzOmEsc2VsZWN0ZWRJdGVtczpkfT10aGlzLGM9XCJiYXNlXCI9PT1vP2w6XCJyZWZlcmVuY2VcIj09PW8/YTpudWxsO2lmKCFjfHwhcilyZXR1cm47Y29uc3QgaD11KHIsZCksbT1jLnRvQXJyYXkoKSxnPWUudGFyZ2V0LHA9bS5pbmRleE9mKGcuZGF0YXNldFtFXSkse2Jhc2VJdGVtczpfLHJlZmVyZW5jZUl0ZW1zOmJ9PXRoaXMudmlld01vZGVsO2lmKC0xIT09cCl7aWYoXCJBcnJvd0Rvd25cIj09PXMpe2NvbnN0IGU9cCsxLHQ9ZT49bS5sZW5ndGg7aWYodCYmXCJyZWZlcmVuY2VcIj09PW8mJmgpe2NvbnN0IGU9Xy5sZW5ndGg7cmV0dXJuIHRoaXMudmlld01vZGVsLnRyYW5zZmVyTGlzdEl0ZW0oe2xpc3RJdGVtOnIsZnJvbTpcInJlZmVyZW5jZVwiLHRvOlwiYmFzZVwiLG5ld0luZGV4OmV9KSx0aGlzLl9mb2N1c1NvcnRVaWQ9ci5sYXllcj8udWlkLHZvaWQgdGhpcy5zY2hlZHVsZVJlbmRlcigpfWlmKHQmJlwicmVmZXJlbmNlXCI9PT1vKXtjb25zdCBlPV8uYXQoMCk7cmV0dXJuIHRoaXMuX2ZvY3VzU29ydFVpZD1lPy5sYXllcj8udWlkLHZvaWQgdGhpcy5zY2hlZHVsZVJlbmRlcigpfWlmKHQpcmV0dXJuO3JldHVybiBoJiYoTChtLHAsZSksYy5zb3J0KG0pLHRoaXMuX3NvcnRMYXllcnNUb0l0ZW1zKHt0eXBlOm8saXRlbUlkczpjLnRvQXJyYXkoKX0pKSx0aGlzLl9mb2N1c1NvcnRVaWQ9ci5sYXllcj8udWlkLHZvaWQgdGhpcy5zY2hlZHVsZVJlbmRlcigpfWlmKFwiQXJyb3dVcFwiPT09cyl7Y29uc3QgZT1wLTEsdD1lPDA7aWYodCYmXCJiYXNlXCI9PT1vJiZoKXtpZigxPT09Xy5sZW5ndGgpcmV0dXJuO2NvbnN0IGU9MDtyZXR1cm4gdGhpcy52aWV3TW9kZWwudHJhbnNmZXJMaXN0SXRlbSh7bGlzdEl0ZW06cixmcm9tOlwiYmFzZVwiLHRvOlwicmVmZXJlbmNlXCIsbmV3SW5kZXg6ZX0pLHRoaXMuX2ZvY3VzU29ydFVpZD1yLmxheWVyPy51aWQsdm9pZCB0aGlzLnNjaGVkdWxlUmVuZGVyKCl9aWYodCYmXCJiYXNlXCI9PT1vKXtjb25zdCBlPWIuYXQoLTEpO3JldHVybiB0aGlzLl9mb2N1c1NvcnRVaWQ9ZT8ubGF5ZXI/LnVpZCx2b2lkIHRoaXMuc2NoZWR1bGVSZW5kZXIoKX1pZih0KXJldHVybjtoJiYoTChtLHAsZSksYy5zb3J0KG0pLHRoaXMuX3NvcnRMYXllcnNUb0l0ZW1zKHt0eXBlOm8saXRlbUlkczpjLnRvQXJyYXkoKX0pKSx0aGlzLl9mb2N1c1NvcnRVaWQ9ci5sYXllcj8udWlkLHRoaXMuc2NoZWR1bGVSZW5kZXIoKX19fV93YXRjaEFjdGlvblNlY3Rpb25DaGFuZ2VzKGUsdCl7dGhpcy5hZGRIYW5kbGVzKGUub24oXCJjaGFuZ2VcIiwoKCk9PnRoaXMuc2NoZWR1bGVSZW5kZXIoKSkpLHQpLGUuZm9yRWFjaCgoZT0+dGhpcy5fcmVuZGVyT25BY3Rpb25DaGFuZ2VzKGUsdCkpKX1fcmVuZGVyT25BY3Rpb25DaGFuZ2VzKGUsdCl7XCJ0b2dnbGVcIiE9PWUudHlwZT9cInNsaWRlclwiIT09ZS50eXBlP3RoaXMuYWRkSGFuZGxlcyhbcygoKCk9PltlLmNsYXNzTmFtZSxlLmltYWdlLGUuaWQsZS50aXRsZSxlLnZpc2libGVdKSwoKCk9PnRoaXMuc2NoZWR1bGVSZW5kZXIoKSkscildLHQpOnRoaXMuYWRkSGFuZGxlcyhbcygoKCk9PltlLmNsYXNzTmFtZSxlLmlkLGUudGl0bGUsZS52aXNpYmxlLGUudmFsdWUsZS5kaXNwbGF5VmFsdWVFbmFibGVkLGUubWF4LGUubWluLGUuc3RlcF0pLCgoKT0+dGhpcy5zY2hlZHVsZVJlbmRlcigpKSxyKV0sdCk6dGhpcy5hZGRIYW5kbGVzKFtzKCgoKT0+W2UuY2xhc3NOYW1lLGUuaW1hZ2UsZS5pZCxlLnRpdGxlLGUudmlzaWJsZSxlLnZhbHVlXSksKCgpPT50aGlzLnNjaGVkdWxlUmVuZGVyKCkpLHIpXSx0KX1fcmVuZGVyT25JdGVtQ2hhbmdlcyhlLHQpe3RoaXMuYWRkSGFuZGxlcyhbcygoKCk9PltlLmFjdGlvbnNPcGVuLGUudmlzaWJsZSxlLm9wZW4sZS51cGRhdGluZyxlLmNvbm5lY3Rpb25TdGF0dXMsZS5wdWJsaXNoaW5nLGUudGl0bGUsZS52aXNpYmxlQXRDdXJyZW50U2NhbGUsZS5lcnJvcixlLnZpc2liaWxpdHlNb2RlLGUucGFuZWwsZS5wYW5lbD8udGl0bGUsZS5wYW5lbD8uY29udGVudCxlLnBhbmVsPy5jbGFzc05hbWVdKSwoKCk9PnRoaXMuc2NoZWR1bGVSZW5kZXIoKSkscikscygoKCk9PltlLmhpZGRlbixlLmVycm9yXSksKCgpPT50aGlzLl9zZXRWaXNpYmxlSXRlbXMoKSkpLGUuYWN0aW9uc1NlY3Rpb25zLm9uKFwiY2hhbmdlXCIsKCgpPT50aGlzLnNjaGVkdWxlUmVuZGVyKCkpKSxlLmNoaWxkcmVuLm9uKFwiY2hhbmdlXCIsKCgpPT50aGlzLnNjaGVkdWxlUmVuZGVyKCkpKV0sdCksZS5jaGlsZHJlbi5mb3JFYWNoKChlPT50aGlzLl9yZW5kZXJPbkl0ZW1DaGFuZ2VzKGUsdCkpKSxlLmFjdGlvbnNTZWN0aW9ucy5mb3JFYWNoKChlPT50aGlzLl93YXRjaEFjdGlvblNlY3Rpb25DaGFuZ2VzKGUsdCkpKX1faXRlbXNDaGFuZ2VkKGUsdCl7dGhpcy5yZW1vdmVIYW5kbGVzKHQpLHRoaXMuX3Rvb2x0aXBSZWZlcmVuY2VNYXAuY2xlYXIoKSx0aGlzLl9zZXRWaXNpYmxlSXRlbXMoKSxlLmZvckVhY2goKGU9PnRoaXMuX3JlbmRlck9uSXRlbUNoYW5nZXMoZSx0KSkpLHRoaXMuc2NoZWR1bGVSZW5kZXIoKX1fY291bnRBY3Rpb25zKGUpe3JldHVybiBlLnJlZHVjZSgoKGUsdCk9PmUrdC5sZW5ndGgpLDApfV9nZXRJY29uSW1hZ2VTdHlsZXMoZSl7Y29uc3QgdD1cImVzcmkud2lkZ2V0cy5MYXllckxpc3QuTGlzdEl0ZW1QYW5lbFwiPT09ZS5kZWNsYXJlZENsYXNzfHxcImVzcmkuc3VwcG9ydC5BY3Rpb24uQWN0aW9uQnV0dG9uXCI9PT1lLmRlY2xhcmVkQ2xhc3N8fFwiZXNyaS5zdXBwb3J0LkFjdGlvbi5BY3Rpb25Ub2dnbGVcIj09PWUuZGVjbGFyZWRDbGFzcz9lLmltYWdlOm51bGw7cmV0dXJue1wiYmFja2dyb3VuZC1pbWFnZVwiOnQ/YHVybChcIiR7dH1cIilgOlwiXCJ9fV90b2dnbGVBY3Rpb25zT3BlbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpO2NvbnN0IHQ9VihlLmN1cnJlbnRUYXJnZXQpO2lmKCF0KXJldHVybjtjb25zdHthY3Rpb25zT3BlbjppfT10LHM9IWkse2Jhc2VJdGVtczpuLHJlZmVyZW5jZUl0ZW1zOnJ9PXRoaXM7cyYmKG4uZm9yRWFjaCgoZT0+eChlKSkpLHIuZm9yRWFjaCgoZT0+eChlKSkpKSx0LmFjdGlvbnNPcGVuPXN9X3RyaWdnZXJQYW5lbChlKXtlLnN0b3BQcm9wYWdhdGlvbigpO2NvbnN0IHQ9SChlLmN1cnJlbnRUYXJnZXQpO3QmJiF0LmRpc2FibGVkJiYodC5vcGVuPSF0Lm9wZW4pfV90cmlnZ2VyQWN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCk7Y29uc3QgdD1lLmN1cnJlbnRUYXJnZXQsaT1VKHQpLHM9Vih0KTtzJiZpJiYoXCJ0b2dnbGVcIj09PWkudHlwZSYmKGkudmFsdWU9IWkudmFsdWUpLHRoaXMudHJpZ2dlckFjdGlvbihpLHMpKX1fdG9nZ2xlVmlzaWJpbGl0eShlKXtlLnN0b3BQcm9wYWdhdGlvbigpO2NvbnN0IHQ9ZS5jdXJyZW50VGFyZ2V0LGk9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhcmVudC12aXNpYmlsaXR5XCIpLHM9Vih0KTtzJiYoaT09PU8uZXhjbHVzaXZlJiZzLnZpc2libGV8fChzLnZpc2libGU9IXMudmlzaWJsZSkpfV90b2dnbGVDaGlsZHJlbkNsaWNrKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCk7Y29uc3QgdD1WKGUuY3VycmVudFRhcmdldCk7dCYmKHQub3Blbj0hdC5vcGVuKX1fdG9nZ2xlU2VsZWN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCk7Y29uc3R7bXVsdGlwbGVTZWxlY3Rpb25FbmFibGVkOnQsc2VsZWN0ZWRJdGVtczppfT10aGlzLHM9dCYmKGUubWV0YUtleXx8ZS5jdHJsS2V5KSxuPVYoZS5jdXJyZW50VGFyZ2V0KTtpZighbilyZXR1cm47Y29uc3Qgcj11KG4saSkse2xlbmd0aDpvfT1pO2lmKCFzKXJldHVybiBvJiYhKHImJjE9PT1vKT8oaS5yZW1vdmVBbGwoKSx2b2lkIGkuYWRkKG4pKTp2b2lkKHI/aS5yZW1vdmUocik6aS5hZGQobikpO3I/aS5yZW1vdmUocik6aS5hZGQobil9Z2V0IHRlc3QoKXtyZXR1cm57dmlzaWJsZUl0ZW1zOnRoaXMudmlzaWJsZUl0ZW1zfX19O2Z1bmN0aW9uIFUoZSl7cmV0dXJuIGVbXCJkYXRhLWFjdGlvblwiXX1mdW5jdGlvbiBIKGUpe3JldHVybiBlW1wiZGF0YS1wYW5lbFwiXX1mdW5jdGlvbiBWKGUpe3JldHVybiBlW1wiZGF0YS1pdGVtXCJdfWUoW28oKV0sTi5wcm90b3R5cGUsXCJ2aXNpYmxlSXRlbXNcIix2b2lkIDApLGUoW28oKV0sTi5wcm90b3R5cGUsXCJiYXNlbWFwVGl0bGVcIixudWxsKSxlKFtvKCldLE4ucHJvdG90eXBlLFwiYmFzZUxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uXCIsbnVsbCksZShbbygpXSxOLnByb3RvdHlwZSxcImVkaXRpbmdFbmFibGVkXCIsdm9pZCAwKSxlKFtvKCldLE4ucHJvdG90eXBlLFwiaGVhZGluZ0xldmVsXCIsdm9pZCAwKSxlKFtvKCldLE4ucHJvdG90eXBlLFwiaWNvbkNsYXNzXCIsdm9pZCAwKSxlKFtvKCldLE4ucHJvdG90eXBlLFwibGFiZWxcIixudWxsKSxlKFtvKCksZihcImVzcmkvd2lkZ2V0cy9CYXNlbWFwTGF5ZXJMaXN0L3Q5bi9CYXNlbWFwTGF5ZXJMaXN0XCIpXSxOLnByb3RvdHlwZSxcIm1lc3NhZ2VzXCIsdm9pZCAwKSxlKFtvKCksZihcImVzcmkvdDluL2NvbW1vblwiKV0sTi5wcm90b3R5cGUsXCJtZXNzYWdlc0NvbW1vblwiLHZvaWQgMCksZShbbygpXSxOLnByb3RvdHlwZSxcIm11bHRpcGxlU2VsZWN0aW9uRW5hYmxlZFwiLHZvaWQgMCksZShbbygpXSxOLnByb3RvdHlwZSxcInJlZmVyZW5jZUxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uXCIsbnVsbCksZShbbyh7cmVhZE9ubHk6ITB9KV0sTi5wcm90b3R5cGUsXCJiYXNlSXRlbXNcIixudWxsKSxlKFtvKHtyZWFkT25seTohMH0pXSxOLnByb3RvdHlwZSxcInJlZmVyZW5jZUl0ZW1zXCIsbnVsbCksZShbbygpXSxOLnByb3RvdHlwZSxcInNlbGVjdGVkSXRlbXNcIix2b2lkIDApLGUoW28oKV0sTi5wcm90b3R5cGUsXCJzdHlsZVwiLHZvaWQgMCksZShbbygpXSxOLnByb3RvdHlwZSxcInZpZXdcIixudWxsKSxlKFtJKFwidHJpZ2dlci1hY3Rpb25cIiksbyh7dHlwZTpjfSldLE4ucHJvdG90eXBlLFwidmlld01vZGVsXCIsdm9pZCAwKSxlKFtvKCldLE4ucHJvdG90eXBlLFwidmlzaWJsZUVsZW1lbnRzXCIsdm9pZCAwKSxlKFtsKFwidmlzaWJsZUVsZW1lbnRzXCIpXSxOLnByb3RvdHlwZSxcImNhc3RWaXNpYmxlRWxlbWVudHNcIixudWxsKSxlKFt5KCldLE4ucHJvdG90eXBlLFwiX3RvZ2dsZUFjdGlvbnNPcGVuXCIsbnVsbCksZShbeSgpXSxOLnByb3RvdHlwZSxcIl90cmlnZ2VyUGFuZWxcIixudWxsKSxlKFt5KCldLE4ucHJvdG90eXBlLFwiX3RyaWdnZXJBY3Rpb25cIixudWxsKSxlKFt5KCldLE4ucHJvdG90eXBlLFwiX3RvZ2dsZVZpc2liaWxpdHlcIixudWxsKSxlKFt5KCldLE4ucHJvdG90eXBlLFwiX3RvZ2dsZUNoaWxkcmVuQ2xpY2tcIixudWxsKSxlKFt5KCldLE4ucHJvdG90eXBlLFwiX3RvZ2dsZVNlbGVjdGlvblwiLG51bGwpLE49ZShbYShcImVzcmkud2lkZ2V0cy5CYXNlbWFwTGF5ZXJMaXN0XCIpXSxOKTtjb25zdCBQPU47ZXhwb3J0e1AgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGksaW5pdGlhbCBhcyBhfWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgY31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vTGF5ZXJMaXN0L0xpc3RJdGVtLmpzXCI7Y29uc3Qgbj17dmlldzpcInZpZXdcIixiYXNlbWFwOlwiYmFzZW1hcFwiLGJhc2VMYXllcnM6XCJiYXNlLWxheWVyc1wiLHJlZmVyZW5jZUxheWVyczpcInJlZmVyZW5jZS1sYXllcnNcIixiYXNlTGF5ZXJzTGlzdE1vZGU6XCJyZWZlcmVuY2UtbGF5ZXJzLWxpc3QtbW9kZVwiLHJlZmVyZW5jZUxheWVyc0xpc3RNb2RlOlwiYmFzZS1sYXllcnMtbGlzdC1tb2RlXCIsYmFzZUxheWVyVmlld3M6XCJiYXNlLWxheWVyLXZpZXdzXCIscmVmZXJlbmNlTGF5ZXJWaWV3czpcInJlZmVyZW5jZS1sYXllci12aWV3c1wiLGNoaWxkcmVuOlwiY2hpbGRyZW5cIn0sbD1zLm9mVHlwZShvKTtsZXQgbT1jbGFzcyBleHRlbmRzIHQuRXZlbnRlZEFjY2Vzc29ye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuYmFzZUl0ZW1zPW5ldyBsLHRoaXMuYmFzZUxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uPW51bGwsdGhpcy5jaGVja1B1Ymxpc2hTdGF0dXNFbmFibGVkPSExLHRoaXMucmVmZXJlbmNlTGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb249bnVsbCx0aGlzLnJlZmVyZW5jZUl0ZW1zPW5ldyBsLHRoaXMudmlldz1udWxsLHRoaXMuX2NvbXBpbGVCYXNlTGlzdD10aGlzLl9jb21waWxlQmFzZUxpc3QuYmluZCh0aGlzKSx0aGlzLl9jb21waWxlUmVmZXJlbmNlTGlzdD10aGlzLl9jb21waWxlUmVmZXJlbmNlTGlzdC5iaW5kKHRoaXMpfWluaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXMoW2koKCgpPT5bdGhpcy52aWV3Py5tYXA/LmJhc2VtYXAsdGhpcy52aWV3LHRoaXMudmlldz8ucmVhZHksdGhpcy52aWV3Py5iYXNlbWFwVmlld10pLCgoKT0+dGhpcy5fd2F0Y2hCYXNlbWFwTGF5ZXJzKCkpLGEpLGkoKCgpPT5bdGhpcy5iYXNlTGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb24sdGhpcy5jaGVja1B1Ymxpc2hTdGF0dXNFbmFibGVkXSksKCgpPT50aGlzLl9iYXNlTGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb25DaGFuZ2VkKCkpKSxpKCgoKT0+W3RoaXMucmVmZXJlbmNlTGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb24sdGhpcy5jaGVja1B1Ymxpc2hTdGF0dXNFbmFibGVkXSksKCgpPT50aGlzLl9yZWZlcmVuY2VMaXN0SXRlbUNyZWF0ZWRGdW5jdGlvbkNoYW5nZWQoKSkpXSxuLnZpZXcpfWRlc3Ryb3koKXt0aGlzLnZpZXc9bnVsbCx0aGlzLmJhc2VJdGVtcy5yZW1vdmVBbGwoKSx0aGlzLnJlZmVyZW5jZUl0ZW1zLnJlbW92ZUFsbCgpfWdldCBiYXNlbWFwVGl0bGUoKXtyZXR1cm4gdGhpcy52aWV3Py5tYXA/LmJhc2VtYXA/LnRpdGxlPz9udWxsfXNldCBiYXNlbWFwVGl0bGUoZSl7dGhpcy5fb3ZlcnJpZGUoXCJiYXNlbWFwVGl0bGVcIixlKX1nZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy52aWV3Py5yZWFkeT9cInJlYWR5XCI6dGhpcy52aWV3P1wibG9hZGluZ1wiOlwiZGlzYWJsZWRcIn10cmlnZ2VyQWN0aW9uKGUscyl7ZSYmIWUuZGlzYWJsZWQmJnRoaXMuZW1pdChcInRyaWdnZXItYWN0aW9uXCIse2FjdGlvbjplLGl0ZW06c30pfXRyYW5zZmVyTGlzdEl0ZW0oe2xpc3RJdGVtOmUsZnJvbTpzLHRvOnQsbmV3SW5kZXg6aX0pe2NvbnN0e3JlZmVyZW5jZUl0ZW1zOmEsYmFzZUl0ZW1zOnJ9PXRoaXMse2xheWVyOmN9PWUsbz10aGlzLnZpZXc/Lm1hcD8uYmFzZW1hcCxuPW8/LmJhc2VMYXllcnMsbD1vPy5yZWZlcmVuY2VMYXllcnM7aWYoIW58fCFsfHxzPT09dClyZXR1cm47Y29uc3QgbT1cInJlZmVyZW5jZVwiPT09dD9hOnIsaD1cInJlZmVyZW5jZVwiPT09cz9sOm4sZD1cInJlZmVyZW5jZVwiPT09dD9sOm47KFwicmVmZXJlbmNlXCI9PT1zP2E6cikucmVtb3ZlKGUpLGgucmVtb3ZlKGMpLG0uYWRkKGUsaSksZC5hZGQoYyxpKX1fY3JlYXRlSXRlbUNoYW5nZUhhbmRsZXMoe2l0ZW1zOmUsa2V5OnMsY2FsbGJhY2s6dH0pe3RoaXMucmVtb3ZlSGFuZGxlcyhzKSx0KCksZSYmdGhpcy5hZGRIYW5kbGVzKGUub24oXCJjaGFuZ2VcIiwoKCk9PnQoKSkpLHMpfV9jcmVhdGVMaXN0SXRlbSh7bGF5ZXI6ZSx0eXBlOnN9KXtjb25zdHt2aWV3OnQsYmFzZUxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uOmkscmVmZXJlbmNlTGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb246YSxjaGVja1B1Ymxpc2hTdGF0dXNFbmFibGVkOnJ9PXRoaXM7cmV0dXJuIG5ldyBvKHtsYXllcjplLGNoZWNrUHVibGlzaFN0YXR1c0VuYWJsZWQ6cixsaXN0SXRlbUNyZWF0ZWRGdW5jdGlvbjpcImJhc2VcIj09PXM/aTphLHZpZXc6dH0pfV93YXRjaExheWVyc0xpc3RNb2RlKHtsYXllcnM6ZSxrZXk6cyxjYWxsYmFjazp0fSl7dGhpcy5yZW1vdmVIYW5kbGVzKHMpLGUmJmUuZm9yRWFjaCgoZT0+e3RoaXMuYWRkSGFuZGxlcyhpKCgoKT0+ZS5saXN0TW9kZSksKCgpPT50KCkpKSxzKX0pKX1fY29tcGlsZUxpc3RJdGVtcyh7bGF5ZXJzOmUsaXRlbXM6cyxrZXk6dCx0eXBlOmksY2FsbGJhY2s6YX0pe3RoaXMuX3dhdGNoTGF5ZXJzTGlzdE1vZGUoe2xheWVyczplLGtleTp0LGNhbGxiYWNrOmF9KSx0aGlzLl9jcmVhdGVOZXdJdGVtcyh7dHlwZTppLGl0ZW1zOnMsbGF5ZXJzOmV9KSx0aGlzLl9yZW1vdmVJdGVtcyh7aXRlbXM6cyxsYXllcnM6ZX0pLHRoaXMuX3NvcnRJdGVtcyhzLGUpfV9jb21waWxlUmVmZXJlbmNlTGlzdCgpe2NvbnN0e3JlZmVyZW5jZUl0ZW1zOmV9PXRoaXMscz10aGlzLnZpZXc/Lm1hcD8uYmFzZW1hcD8ucmVmZXJlbmNlTGF5ZXJzO3RoaXMuX2NvbXBpbGVMaXN0SXRlbXMoe3R5cGU6XCJyZWZlcmVuY2VcIixsYXllcnM6cyxpdGVtczplLGtleTpuLnJlZmVyZW5jZUxheWVyc0xpc3RNb2RlLGNhbGxiYWNrOnRoaXMuX2NvbXBpbGVSZWZlcmVuY2VMaXN0fSl9X2NvbXBpbGVCYXNlTGlzdCgpe2NvbnN0e2Jhc2VJdGVtczplfT10aGlzLHM9dGhpcy52aWV3Py5tYXA/LmJhc2VtYXA/LmJhc2VMYXllcnM7dGhpcy5fY29tcGlsZUxpc3RJdGVtcyh7dHlwZTpcImJhc2VcIixsYXllcnM6cyxpdGVtczplLGtleTpuLmJhc2VMYXllcnNMaXN0TW9kZSxjYWxsYmFjazp0aGlzLl9jb21waWxlQmFzZUxpc3R9KX1fY29tcGlsZUxpc3RzKCl7dGhpcy5fY29tcGlsZVJlZmVyZW5jZUxpc3QoKSx0aGlzLl9jb21waWxlQmFzZUxpc3QoKX1fY3JlYXRlTmV3SXRlbXMoe2l0ZW1zOmUsbGF5ZXJzOnMsdHlwZTp0fSl7cyYmcy5mb3JFYWNoKChzPT57ZS5maW5kKChlPT5lLmxheWVyPT09cykpfHxlLmFkZCh0aGlzLl9jcmVhdGVMaXN0SXRlbSh7dHlwZTp0LGxheWVyOnN9KSl9KSl9X3JlbW92ZUl0ZW1zKHtpdGVtczplLGxheWVyczpzfSl7ZSYmZS5mb3JFYWNoKCh0PT57aWYoIXQpcmV0dXJuO2NvbnN0IGk9cz8uZmluZCgoZT0+dC5sYXllcj09PWUpKTtpfHwodGhpcy5yZW1vdmVIYW5kbGVzKGAke24uY2hpbGRyZW59LSR7dC51aWR9YCksZS5yZW1vdmUodCkpfSkpfV9zb3J0SXRlbXMoZSxzKXtlJiZzJiZlLnNvcnQoKChlLHQpPT57Y29uc3QgaT1zLmluZGV4T2YoZS5sYXllciksYT1zLmluZGV4T2YodC5sYXllcik7cmV0dXJuIGk+YT8tMTppPGE/MTowfSkpfV9yZW1vdmVBbGxCYXNlSXRlbXMoKXtjb25zdHtiYXNlSXRlbXM6ZX09dGhpcztlLmZvckVhY2goKGU9Pnt0aGlzLnJlbW92ZUhhbmRsZXMoYCR7bi5jaGlsZHJlbn0tJHtlLnVpZH1gKX0pKSxlLnJlbW92ZUFsbCgpfV9yZW1vdmVBbGxSZWZlcmVuY2VJdGVtcygpe2NvbnN0e3JlZmVyZW5jZUl0ZW1zOmV9PXRoaXM7ZS5mb3JFYWNoKChlPT57dGhpcy5yZW1vdmVIYW5kbGVzKGAke24uY2hpbGRyZW59LSR7ZS51aWR9YCl9KSksZS5yZW1vdmVBbGwoKX1fYmFzZUxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uQ2hhbmdlZCgpe3RoaXMuX3JlbW92ZUFsbEJhc2VJdGVtcygpLHRoaXMuX2NvbXBpbGVMaXN0cygpfV9yZWZlcmVuY2VMaXN0SXRlbUNyZWF0ZWRGdW5jdGlvbkNoYW5nZWQoKXt0aGlzLl9yZW1vdmVBbGxSZWZlcmVuY2VJdGVtcygpLHRoaXMuX2NvbXBpbGVMaXN0cygpfV93YXRjaEJhc2VtYXBMYXllcnMoKXtjb25zdHt2aWV3OmV9PXRoaXM7dGhpcy5yZW1vdmVIYW5kbGVzKFtuLmJhc2VMYXllcnMsbi5yZWZlcmVuY2VMYXllcnMsbi5iYXNlbWFwLG4uYmFzZUxheWVyVmlld3Msbi5yZWZlcmVuY2VMYXllclZpZXdzXSksdGhpcy5fY29tcGlsZUxpc3RzKCksZSYmZS5yZWFkeSYmdGhpcy5hZGRIYW5kbGVzKFtpKCgoKT0+dGhpcy52aWV3Py5tYXA/LmJhc2VtYXA/LmJhc2VMYXllcnMpLChlPT50aGlzLl9jcmVhdGVJdGVtQ2hhbmdlSGFuZGxlcyh7aXRlbXM6ZSxrZXk6bi5iYXNlTGF5ZXJzLGNhbGxiYWNrOnRoaXMuX2NvbXBpbGVCYXNlTGlzdH0pKSxhKSxpKCgoKT0+dGhpcy52aWV3Py5tYXA/LmJhc2VtYXA/LnJlZmVyZW5jZUxheWVycyksKGU9PnRoaXMuX2NyZWF0ZUl0ZW1DaGFuZ2VIYW5kbGVzKHtpdGVtczplLGtleTpuLnJlZmVyZW5jZUxheWVycyxjYWxsYmFjazp0aGlzLl9jb21waWxlUmVmZXJlbmNlTGlzdH0pKSxhKSxpKCgoKT0+dGhpcy52aWV3Py5iYXNlbWFwVmlldz8uYmFzZUxheWVyVmlld3MpLChlPT50aGlzLl9jcmVhdGVJdGVtQ2hhbmdlSGFuZGxlcyh7aXRlbXM6ZSxrZXk6bi5iYXNlTGF5ZXJWaWV3cyxjYWxsYmFjazp0aGlzLl9jb21waWxlQmFzZUxpc3R9KSksYSksaSgoKCk9PnRoaXMudmlldz8uYmFzZW1hcFZpZXc/LnJlZmVyZW5jZUxheWVyVmlld3MpLChlPT50aGlzLl9jcmVhdGVJdGVtQ2hhbmdlSGFuZGxlcyh7aXRlbXM6ZSxrZXk6bi5yZWZlcmVuY2VMYXllclZpZXdzLGNhbGxiYWNrOnRoaXMuX2NvbXBpbGVSZWZlcmVuY2VMaXN0fSkpLGEpXSxuLmJhc2VtYXApfX07ZShbcih7dHlwZTpsLHJlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwiYmFzZUl0ZW1zXCIsdm9pZCAwKSxlKFtyKCldLG0ucHJvdG90eXBlLFwiYmFzZW1hcFRpdGxlXCIsbnVsbCksZShbcigpXSxtLnByb3RvdHlwZSxcImJhc2VMaXN0SXRlbUNyZWF0ZWRGdW5jdGlvblwiLHZvaWQgMCksZShbcigpXSxtLnByb3RvdHlwZSxcImNoZWNrUHVibGlzaFN0YXR1c0VuYWJsZWRcIix2b2lkIDApLGUoW3IoKV0sbS5wcm90b3R5cGUsXCJyZWZlcmVuY2VMaXN0SXRlbUNyZWF0ZWRGdW5jdGlvblwiLHZvaWQgMCksZShbcih7dHlwZTpsLHJlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwicmVmZXJlbmNlSXRlbXNcIix2b2lkIDApLGUoW3Ioe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwic3RhdGVcIixudWxsKSxlKFtyKCldLG0ucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbcigpXSxtLnByb3RvdHlwZSxcInRyYW5zZmVyTGlzdEl0ZW1cIixudWxsKSxtPWUoW2MoXCJlc3JpLndpZGdldHMuQmFzZW1hcExheWVyTGlzdC5CYXNlbWFwTGF5ZXJMaXN0Vmlld01vZGVsXCIpXSxtKTtjb25zdCBoPW07ZXhwb3J0e2ggYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NsYW1wIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7Z2xvYmFsQ3NzIGFzIHR9ZnJvbVwiLi9nbG9iYWxDc3MuanNcIjtpbXBvcnR7Y2xhc3NlcyBhcyBvfWZyb21cIi4vd2lkZ2V0VXRpbHMuanNcIjtpbXBvcnR7dHN4IGFzIGl9ZnJvbVwiLi9qc3hGYWN0b3J5LmpzXCI7ZnVuY3Rpb24gZSh7bGV2ZWw6cixjbGFzczplLC4uLm59LGwpe2NvbnN0IGE9cyhyKTtyZXR1cm4gaShgaCR7YX1gLHsuLi5uLFwiYXJpYS1sZXZlbFwiOlN0cmluZyhhKSxjbGFzczpvKHQuaGVhZGluZyxlKSxyb2xlOlwiaGVhZGluZ1wifSxsKX1mdW5jdGlvbiBzKHQpe3JldHVybiByKE1hdGguY2VpbCh0KSwxLDYpfWZ1bmN0aW9uIG4ocix0PTEpe3JldHVybiBzKHIrdCl9ZXhwb3J0e2UgYXMgSGVhZGluZyxuIGFzIGluY3JlbWVudEhlYWRpbmdMZXZlbH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=