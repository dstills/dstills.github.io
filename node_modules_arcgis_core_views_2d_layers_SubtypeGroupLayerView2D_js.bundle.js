"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["node_modules_arcgis_core_views_2d_layers_SubtypeGroupLayerView2D_js"],{

/***/ "./node_modules/@arcgis/core/views/2d/layers/SubtypeGroupLayerView2D.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/SubtypeGroupLayerView2D.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _FeatureLayerView2D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FeatureLayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(e,r){return!e.visible||0!==e.minScale&&r>e.minScale||0!==e.maxScale&&r<e.maxScale}let l=class extends _FeatureLayerView2D_js__WEBPACK_IMPORTED_MODULE_9__["default"]{initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>this.view.scale),(()=>this._update()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.initial)],"constructor")}isUpdating(){const e=this.layer.sublayers.some((e=>null!=e.renderer)),r=this._commandsQueue.updating,s=null!=this._updatingRequiredFieldsPromise,i=!this._proxy||!this._proxy.isReady,t=this._pipelineIsUpdating,a=null==this.tileRenderer||this.tileRenderer?.updating,n=e&&(r||s||i||t||a);return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-log-updating")&&console.log(`Updating FLV2D: ${n}\n  -> hasRenderer ${e}\n  -> hasPendingCommand ${r}\n  -> updatingRequiredFields ${s}\n  -> updatingProxy ${i}\n  -> updatingPipeline ${t}\n  -> updatingTileRenderer ${a}\n`),n}_injectOverrides(e){let r=super._injectOverrides(e);const s=this.view.scale,i=this.layer.sublayers.filter((e=>n(e,s))).map((e=>e.subtypeCode));if(!i.length)return r;r=null!=r?r:(new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_8__["default"]).toJSON();const a=`NOT ${this.layer.subtypeField} IN (${i.join(",")})`;return r.where=r.where?`(${r.where}) AND (${a})`:a,r}_setLayersForFeature(e){const r=this.layer.fieldsIndex.get(this.layer.subtypeField),s=e.attributes[r.name],i=this.layer.sublayers.find((e=>e.subtypeCode===s));e.layer=e.sourceLayer=i}_createSchemaConfig(){const e={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map((e=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:e.labelingInfo,labelsVisible:e.labelsVisible,renderer:e.renderer,subtypeCode:e.subtypeCode,orderBy:null})))},r=this.layer.sublayers.map((e=>e.subtypeCode)).join(","),s=this.layer.sublayers.length?`${this.layer.subtypeField} IN (${r})`:"1=2";let i=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return i+=s,{...super._createSchemaConfig(),...e,definitionExpression:i}}};l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.2d.layers.SubtypeGroupLayerView2D")],l);const o=l;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2xheWVyc19TdWJ0eXBlR3JvdXBMYXllclZpZXcyRF9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNpZSxnQkFBZ0IsNkVBQTZFLG9CQUFvQiw4REFBQyxDQUFDLGFBQWEsaUJBQWlCLDZEQUFDLDRDQUE0QywyREFBQyxrQkFBa0IsYUFBYSxnUkFBZ1IsT0FBTyx3REFBRyx5REFBeUQsRUFBRSxxQkFBcUIsRUFBRSwyQkFBMkIsRUFBRSxnQ0FBZ0MsRUFBRSx1QkFBdUIsRUFBRSwwQkFBMEIsRUFBRSw4QkFBOEIsRUFBRSxPQUFPLG9CQUFvQixnQ0FBZ0MsMkZBQTJGLHNCQUFzQixpQkFBaUIsd0VBQUMsV0FBVyxlQUFlLHlCQUF5QixNQUFNLFlBQVksR0FBRywyQkFBMkIsUUFBUSxTQUFTLEVBQUUsT0FBTyx3QkFBd0IsdUlBQXVJLHdCQUF3QixzQkFBc0IsU0FBUywwRkFBMEYsZ0xBQWdMLElBQUksMkZBQTJGLHlCQUF5QixNQUFNLEVBQUUsU0FBUyxpRkFBaUYsYUFBYSw4REFBOEQsRUFBRSx1REFBQyxFQUFFLHNGQUFDLHFEQUFxRCxVQUErQiIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9TdWJ0eXBlR3JvdXBMYXllclZpZXcyRC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHt3YXRjaCBhcyByLGluaXRpYWwgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZUZpbHRlci5qc1wiO2ltcG9ydCBhIGZyb21cIi4vRmVhdHVyZUxheWVyVmlldzJELmpzXCI7ZnVuY3Rpb24gbihlLHIpe3JldHVybiFlLnZpc2libGV8fDAhPT1lLm1pblNjYWxlJiZyPmUubWluU2NhbGV8fDAhPT1lLm1heFNjYWxlJiZyPGUubWF4U2NhbGV9bGV0IGw9Y2xhc3MgZXh0ZW5kcyBhe2luaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXMoW3IoKCgpPT50aGlzLnZpZXcuc2NhbGUpLCgoKT0+dGhpcy5fdXBkYXRlKCkpLHMpXSxcImNvbnN0cnVjdG9yXCIpfWlzVXBkYXRpbmcoKXtjb25zdCBlPXRoaXMubGF5ZXIuc3VibGF5ZXJzLnNvbWUoKGU9Pm51bGwhPWUucmVuZGVyZXIpKSxyPXRoaXMuX2NvbW1hbmRzUXVldWUudXBkYXRpbmcscz1udWxsIT10aGlzLl91cGRhdGluZ1JlcXVpcmVkRmllbGRzUHJvbWlzZSxpPSF0aGlzLl9wcm94eXx8IXRoaXMuX3Byb3h5LmlzUmVhZHksdD10aGlzLl9waXBlbGluZUlzVXBkYXRpbmcsYT1udWxsPT10aGlzLnRpbGVSZW5kZXJlcnx8dGhpcy50aWxlUmVuZGVyZXI/LnVwZGF0aW5nLG49ZSYmKHJ8fHN8fGl8fHR8fGEpO3JldHVybiBoYXMoXCJlc3JpLTJkLWxvZy11cGRhdGluZ1wiKSYmY29uc29sZS5sb2coYFVwZGF0aW5nIEZMVjJEOiAke259XFxuICAtPiBoYXNSZW5kZXJlciAke2V9XFxuICAtPiBoYXNQZW5kaW5nQ29tbWFuZCAke3J9XFxuICAtPiB1cGRhdGluZ1JlcXVpcmVkRmllbGRzICR7c31cXG4gIC0+IHVwZGF0aW5nUHJveHkgJHtpfVxcbiAgLT4gdXBkYXRpbmdQaXBlbGluZSAke3R9XFxuICAtPiB1cGRhdGluZ1RpbGVSZW5kZXJlciAke2F9XFxuYCksbn1faW5qZWN0T3ZlcnJpZGVzKGUpe2xldCByPXN1cGVyLl9pbmplY3RPdmVycmlkZXMoZSk7Y29uc3Qgcz10aGlzLnZpZXcuc2NhbGUsaT10aGlzLmxheWVyLnN1YmxheWVycy5maWx0ZXIoKGU9Pm4oZSxzKSkpLm1hcCgoZT0+ZS5zdWJ0eXBlQ29kZSkpO2lmKCFpLmxlbmd0aClyZXR1cm4gcjtyPW51bGwhPXI/cjoobmV3IHQpLnRvSlNPTigpO2NvbnN0IGE9YE5PVCAke3RoaXMubGF5ZXIuc3VidHlwZUZpZWxkfSBJTiAoJHtpLmpvaW4oXCIsXCIpfSlgO3JldHVybiByLndoZXJlPXIud2hlcmU/YCgke3Iud2hlcmV9KSBBTkQgKCR7YX0pYDphLHJ9X3NldExheWVyc0ZvckZlYXR1cmUoZSl7Y29uc3Qgcj10aGlzLmxheWVyLmZpZWxkc0luZGV4LmdldCh0aGlzLmxheWVyLnN1YnR5cGVGaWVsZCkscz1lLmF0dHJpYnV0ZXNbci5uYW1lXSxpPXRoaXMubGF5ZXIuc3VibGF5ZXJzLmZpbmQoKGU9PmUuc3VidHlwZUNvZGU9PT1zKSk7ZS5sYXllcj1lLnNvdXJjZUxheWVyPWl9X2NyZWF0ZVNjaGVtYUNvbmZpZygpe2NvbnN0IGU9e3N1YnR5cGVGaWVsZDp0aGlzLmxheWVyLnN1YnR5cGVGaWVsZCxzdWJsYXllcnM6QXJyYXkuZnJvbSh0aGlzLmxheWVyLnN1YmxheWVycykubWFwKChlPT4oe2ZlYXR1cmVSZWR1Y3Rpb246bnVsbCxnZW9tZXRyeVR5cGU6dGhpcy5sYXllci5nZW9tZXRyeVR5cGUsbGFiZWxpbmdJbmZvOmUubGFiZWxpbmdJbmZvLGxhYmVsc1Zpc2libGU6ZS5sYWJlbHNWaXNpYmxlLHJlbmRlcmVyOmUucmVuZGVyZXIsc3VidHlwZUNvZGU6ZS5zdWJ0eXBlQ29kZSxvcmRlckJ5Om51bGx9KSkpfSxyPXRoaXMubGF5ZXIuc3VibGF5ZXJzLm1hcCgoZT0+ZS5zdWJ0eXBlQ29kZSkpLmpvaW4oXCIsXCIpLHM9dGhpcy5sYXllci5zdWJsYXllcnMubGVuZ3RoP2Ake3RoaXMubGF5ZXIuc3VidHlwZUZpZWxkfSBJTiAoJHtyfSlgOlwiMT0yXCI7bGV0IGk9dGhpcy5sYXllci5kZWZpbml0aW9uRXhwcmVzc2lvbj90aGlzLmxheWVyLmRlZmluaXRpb25FeHByZXNzaW9uK1wiIEFORCBcIjpcIlwiO3JldHVybiBpKz1zLHsuLi5zdXBlci5fY3JlYXRlU2NoZW1hQ29uZmlnKCksLi4uZSxkZWZpbml0aW9uRXhwcmVzc2lvbjppfX19O2w9ZShbaShcImVzcmkudmlld3MuMmQubGF5ZXJzLlN1YnR5cGVHcm91cExheWVyVmlldzJEXCIpXSxsKTtjb25zdCBvPWw7ZXhwb3J0e28gYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=