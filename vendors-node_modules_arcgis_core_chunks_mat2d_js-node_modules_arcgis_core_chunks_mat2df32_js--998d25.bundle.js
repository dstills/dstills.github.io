"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_chunks_mat2d_js-node_modules_arcgis_core_chunks_mat2df32_js--998d25"],{

/***/ "./node_modules/@arcgis/core/chunks/mat2d.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/mat2d.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ f),
/* harmony export */   b: () => (/* binding */ h),
/* harmony export */   c: () => (/* binding */ n),
/* harmony export */   d: () => (/* binding */ s),
/* harmony export */   e: () => (/* binding */ q),
/* harmony export */   f: () => (/* binding */ M),
/* harmony export */   g: () => (/* binding */ a),
/* harmony export */   h: () => (/* binding */ u),
/* harmony export */   i: () => (/* binding */ r),
/* harmony export */   j: () => (/* binding */ b),
/* harmony export */   k: () => (/* binding */ l),
/* harmony export */   l: () => (/* binding */ m),
/* harmony export */   m: () => (/* binding */ o),
/* harmony export */   n: () => (/* binding */ d),
/* harmony export */   o: () => (/* binding */ p),
/* harmony export */   p: () => (/* binding */ x),
/* harmony export */   q: () => (/* binding */ y),
/* harmony export */   r: () => (/* binding */ e),
/* harmony export */   s: () => (/* binding */ c),
/* harmony export */   t: () => (/* binding */ i),
/* harmony export */   u: () => (/* binding */ g),
/* harmony export */   v: () => (/* binding */ S),
/* harmony export */   w: () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ "./node_modules/@arcgis/core/chunks/common.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function a(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t}function n(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function s(t,a,n,s,r,u,o){return t[0]=a,t[1]=n,t[2]=s,t[3]=r,t[4]=u,t[5]=o,t}function r(t,a){const n=a[0],s=a[1],r=a[2],u=a[3],o=a[4],e=a[5];let c=n*u-s*r;return c?(c=1/c,t[0]=u*c,t[1]=-s*c,t[2]=-r*c,t[3]=n*c,t[4]=(r*e-u*o)*c,t[5]=(s*o-n*e)*c,t):null}function u(t){return t[0]*t[3]-t[1]*t[2]}function o(t,a,n){const s=a[0],r=a[1],u=a[2],o=a[3],e=a[4],c=a[5],i=n[0],h=n[1],M=n[2],f=n[3],b=n[4],l=n[5];return t[0]=s*i+u*h,t[1]=r*i+o*h,t[2]=s*M+u*f,t[3]=r*M+o*f,t[4]=s*b+u*l+e,t[5]=r*b+o*l+c,t}function e(t,a,n){const s=a[0],r=a[1],u=a[2],o=a[3],e=a[4],c=a[5],i=Math.sin(n),h=Math.cos(n);return t[0]=s*h+u*i,t[1]=r*h+o*i,t[2]=s*-i+u*h,t[3]=r*-i+o*h,t[4]=e,t[5]=c,t}function c(t,a,n){const s=a[0],r=a[1],u=a[2],o=a[3],e=a[4],c=a[5],i=n[0],h=n[1];return t[0]=s*i,t[1]=r*i,t[2]=u*h,t[3]=o*h,t[4]=e,t[5]=c,t}function i(t,a,n){const s=a[0],r=a[1],u=a[2],o=a[3],e=a[4],c=a[5],i=n[0],h=n[1];return t[0]=s,t[1]=r,t[2]=u,t[3]=o,t[4]=s*i+u*h+e,t[5]=r*i+o*h+c,t}function h(t,a){const n=Math.sin(a),s=Math.cos(a);return t[0]=s,t[1]=n,t[2]=-n,t[3]=s,t[4]=0,t[5]=0,t}function M(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t[4]=0,t[5]=0,t}function f(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=a[0],t[5]=a[1],t}function b(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function l(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+1)}function m(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t}function d(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t}function p(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t}function x(t,a,n,s){return t[0]=a[0]+n[0]*s,t[1]=a[1]+n[1]*s,t[2]=a[2]+n[2]*s,t[3]=a[3]+n[3]*s,t[4]=a[4]+n[4]*s,t[5]=a[5]+n[5]*s,t}function y(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]}function g(a,n){const s=a[0],r=a[1],u=a[2],o=a[3],e=a[4],c=a[5],i=n[0],h=n[1],M=n[2],f=n[3],b=n[4],l=n[5],m=(0,_common_js__WEBPACK_IMPORTED_MODULE_0__.g)();return Math.abs(s-i)<=m*Math.max(1,Math.abs(s),Math.abs(i))&&Math.abs(r-h)<=m*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(u-M)<=m*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(o-f)<=m*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(e-b)<=m*Math.max(1,Math.abs(e),Math.abs(b))&&Math.abs(c-l)<=m*Math.max(1,Math.abs(c),Math.abs(l))}const S=o,j=d,q=Object.freeze(Object.defineProperty({__proto__:null,add:m,copy:a,determinant:u,equals:g,exactEquals:y,frob:l,fromRotation:h,fromScaling:M,fromTranslation:f,identity:n,invert:r,mul:S,multiply:o,multiplyScalar:p,multiplyScalarAndAdd:x,rotate:e,scale:c,set:s,str:b,sub:j,subtract:d,translate:i},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/mat2df32.js":
/*!******************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/mat2df32.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ t),
/* harmony export */   b: () => (/* binding */ e),
/* harmony export */   c: () => (/* binding */ n),
/* harmony export */   d: () => (/* binding */ o),
/* harmony export */   f: () => (/* binding */ r),
/* harmony export */   m: () => (/* binding */ c),
/* harmony export */   t: () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(){const n=new Float32Array(6);return n[0]=1,n[3]=1,n}function t(n){const t=new Float32Array(6);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function r(n,t,r,e,o,a){const c=new Float32Array(6);return c[0]=n,c[1]=t,c[2]=r,c[3]=e,c[4]=o,c[5]=a,c}function e(n,t){return new Float32Array(n,t,6)}function o(n,t,r,e){const o=t[e],a=t[e+1];n[e]=r[0]*o+r[2]*a+r[4],n[e+1]=r[1]*o+r[3]*a+r[5]}function a(n,t,r,e=0,a=0,c=2){const s=a||t.length/c;for(let u=e;u<s;u++){o(n,t,r,u*c)}}const c=Object.freeze(Object.defineProperty({__proto__:null,clone:t,create:n,createView:e,fromValues:r,transform:o,transformMany:a},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/scaleUtils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getExtentForScale: () => (/* binding */ f),
/* harmony export */   getResolutionForScale: () => (/* binding */ o),
/* harmony export */   getResolutionInMetersForScale: () => (/* binding */ u),
/* harmony export */   getScale: () => (/* binding */ i),
/* harmony export */   getScaleForResolution: () => (/* binding */ c),
/* harmony export */   isInScaleRange: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const r=96;function i(t,i){const o=i||t.extent,u=t.width,c=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(o?.spatialReference);return o&&u?o.width/u*c*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.inchesPerMeter*r:0}function o(t,i){return t/((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(i)*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.inchesPerMeter*r)}function u(t){return t/(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.inchesPerMeter*r)}function c(t,i){return t*((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(i)*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.inchesPerMeter*r)}function f(t,n){const e=t.extent,r=t.width-(t.padding?t.padding.left+t.padding.right:0),i=o(n,e.spatialReference);return e.clone().expand(i*r/e.width)}function d(t,n,e){return a(t,n)&&p(t,e)}function a(n,e){return 0===e||(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.floatEqualAbsolute)(n,e)||n<e}function p(n,e){return 0===e||(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.floatEqualAbsolute)(n,e)||n>e}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/effects/EffectView.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/effects/EffectView.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectView: () => (/* binding */ a),
/* harmony export */   canInterpolateEffectStops: () => (/* binding */ u),
/* harmony export */   convertEffectToStops: () => (/* binding */ h),
/* harmony export */   normalizeEffectStops: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _parser_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parser.js */ "./node_modules/@arcgis/core/layers/effects/parser.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/layers/effects/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const l=-1;let a=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("mapview-transitions-duration"),this.effects=[]}set effect(t){if(this._get("effect")!==(t=t||"")){this._set("effect",t);try{this._transitionTo(h(t))}catch(e){this._transitionTo([]),_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).warn("Invalid Effect",{effect:t,error:e})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&u(this._current,h(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}endTransitions(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&u(this._current,t,this.scale)?(this._final=t,this._to=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(t),_(this._current,this._to,this.scale),this._from=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set("effects",this._current[0]?(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let s=0;s<this._current.length;s++){const t=this._current[s],r=this._from[s],i=this._to[s];t.scale=p(r.scale,i.scale,e);for(let s=0;s<t.effects.length;s++){const n=t.effects[s],c=r.effects[s],o=i.effects[s];n.interpolate(c,o,e)}}1===e&&(this._current=this._final,this._set("effects",this._current[0]?(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set("scale",t),0===this._current.length)return;const e=this._current,s=this._current.length-1;let r,i,n=1;if(1===e.length||t>=e[0].scale)i=r=e[0].effects;else if(t<=e[s].scale)i=r=e[s].effects;else for(let c=0;c<s;c++){const s=e[c],o=e[c+1];if(s.scale>=t&&o.scale<=t){n=(t-s.scale)/(o.scale-s.scale),r=s.effects,i=o.effects;break}}for(let c=0;c<this.effects.length;c++){this.effects[c].interpolate(r[c],i[c],n)}}};function h(t){const e=(0,_parser_js__WEBPACK_IMPORTED_MODULE_8__.parse)(t)||[];return m(e)?[{scale:l,effects:e}]:e}function u(t,e,s){if(!t[0]?.effects||!e[0]?.effects)return!0;return!((t[0]?.scale===l||e[0]?.scale===l)&&(t.length>1||e.length>1)&&s<=0)&&(0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.canInterpolateEffects)(t[0].effects,e[0].effects)}function _(t,e,s){const r=t.length>e.length?t:e,i=t.length>e.length?e:t,n=i[i.length-1],c=n?.scale??s,o=n?.effects??[];for(let f=i.length;f<r.length;f++)i.push({scale:c,effects:[...o]});for(let a=0;a<r.length;a++)i[a].scale=i[a].scale===l?s:i[a].scale,r[a].scale=r[a].scale===l?s:r[a].scale,(0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.normalizeEffects)(i[a].effects,r[a].effects)}function p(t,e,s){return t+(e-t)*s}function m(t){const e=t[0];return!!e&&"type"in e}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],a.prototype,"_to",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],a.prototype,"duration",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({value:""})],a.prototype,"effect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],a.prototype,"effects",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],a.prototype,"hasEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({value:0})],a.prototype,"scale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],a.prototype,"transitioning",null),a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.effects.EffectView")],a);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/ExportImageParameters.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ExportImageParameters.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExportImageParameters: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/support/scaleUtils.js */ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js");
/* harmony import */ var _commonProperties_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./floorFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js");
/* harmony import */ var _sublayerUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./sublayerUtils.js */ "./node_modules/@arcgis/core/layers/support/sublayerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const y={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let m=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const r=(0,_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_10__.getLayerFloorFilterClause)(this.floors,e);return e.toExportImageJSON(r)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&(0,_sublayerUtils_js__WEBPACK_IMPORTED_MODULE_11__.isExportDynamic)(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.removeHandles("layer"),e&&this.addHandles([e.allSublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("sublayer-update",(e=>this.notifyChange(y[e.propertyName])))],"layer"))}get layers(){const e=this.visibleSublayers;return e?e.length?"show:"+e.map((e=>e.id)).join(","):"show:-1":null}get layerDefs(){const e=!!this.floors?.length,r=this.visibleSublayers.filter((r=>null!=r.definitionExpression||e&&null!=r.floorInfo));return r.length?JSON.stringify(r.reduce(((e,r)=>{const t=(0,_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_10__.getLayerFloorFilterClause)(this.floors,r),i=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_2__.sqlAnd)(t,r.definitionExpression);return null!=i&&(e[r.id]=i),e}),{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");const e=this.layer;return e&&(e.commitProperty("dpi"),e.commitProperty("imageFormat"),e.commitProperty("imageTransparency"),e.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=this.scale,t=r=>{r.visible&&(0===s||(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_8__.isInScaleRange)(s,r.minScale,r.maxScale))&&(r.sublayers?r.sublayers.forEach(t):e.unshift(r))};r&&r.forEach(t);const i=this._get("visibleSublayers");return!i||i.length!==e.length||i.some(((r,s)=>e[s]!==r))?e:i}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"dynamicLayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"floors",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"hasDynamicLayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"layers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"layerDefs",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:Number})],m.prototype,"scale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_9__.combinedViewLayerTimeExtentProperty)],m.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"version",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"visibleSublayers",null),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.mixins.ExportImageParameters")],m);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/floorFilterUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFloorFilterClause: () => (/* binding */ o),
/* harmony export */   getLayerFloorFilterClause: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o){const n=o.layer;if("floorInfo"in n&&n.floorInfo?.floorField&&"floors"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return"floorInfo"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>""!==o)).map((o=>`'${o}'`));return l.push("''"),`${n} IN (${l.join(",")}) OR ${n} IS NULL`}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/sublayerUtils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/sublayerUtils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isExportDynamic: () => (/* binding */ n),
/* harmony export */   isSublayerOverhaul: () => (/* binding */ o),
/* harmony export */   shouldWriteSublayerStructure: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(r,e,n){const o=e.flatten((({sublayers:r})=>r)).length;if(o!==r.length)return!0;return!!r.some((r=>r.originIdOf("minScale")>n||r.originIdOf("maxScale")>n||r.originIdOf("renderer")>n||r.originIdOf("labelingInfo")>n||r.originIdOf("opacity")>n||r.originIdOf("labelsVisible")>n||r.originIdOf("source")>n))||!i(r,e)}function n(e,n,o){return!!e.some((e=>{const n=e.source;return!(!n||"map-layer"===n.type&&n.mapLayerId===e.id&&(null==n.gdbVersion||n.gdbVersion===o))||e.originIdOf("renderer")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("labelingInfo")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("opacity")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE||e.originIdOf("labelsVisible")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_0__.OriginId.SERVICE}))||!i(e,n)}function i(r,e){if(!r?.length||null==e)return!0;const n=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>n.length)return!1;let i=0;const o=n.length;for(const{id:t}of r){for(;i<o&&n[i]!==t;)i++;if(i>=o)return!1}return!0}function o(r){return!!r&&r.some((r=>null!=r.minScale||null!=r.layerDefinition?.minScale))}


/***/ }),

/***/ "./node_modules/@arcgis/core/renderers/support/rendererConversion.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/renderers/support/rendererConversion.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isSupportedRenderer3D: () => (/* binding */ t),
/* harmony export */   validateTo3D: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../symbols/support/symbolConversion.js */ "./node_modules/@arcgis/core/symbols/support/symbolConversion.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(r){return null==r||"simple"===r.type||"unique-value"===r.type||"class-breaks"===r.type||"dictionary"===r.type||"heatmap"===r.type}function s(r,n){if(null==r)return null;if(!t(r))return new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("renderer-conversion-3d:unsupported-renderer",`Unsupported renderer of type '${r.type||r.declaredClass}'`,{renderer:r});switch(r.type){case"simple":return u(r);case"unique-value":return i(r,n);case"class-breaks":return a(r);case"dictionary":case"heatmap":return null}return null}function l(r,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const t=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||t.push(r)})),new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("renderer-conversion-3d:unsupported-symbols",`Renderer contains symbols (${t.join(", ")}) which are not supported in 3D`,{renderer:r,symbolErrors:o})}return null}function u(r){return l(r,(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(r.symbol).error)}function i(e,t){const s={..._symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.defaultTo3DOptions,...t},u=e.uniqueValueInfos?.map((r=>(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(r.symbol,s).error)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome),i=(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(e.defaultSymbol,s);return i.error&&u?.unshift(i.error),l(e,u)}function a(e){const o=e.classBreakInfos.map((r=>(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(r.symbol).error)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome),t=(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(e.defaultSymbol);return t.error&&o.unshift(t.error),l(e,o)}


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Legend.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Legend.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ L)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Widget_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Widget.js */ "./node_modules/@arcgis/core/widgets/Widget.js");
/* harmony import */ var _Legend_LegendViewModel_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Legend/LegendViewModel.js */ "./node_modules/@arcgis/core/widgets/Legend/LegendViewModel.js");
/* harmony import */ var _Legend_styles_Card_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Legend/styles/Card.js */ "./node_modules/@arcgis/core/widgets/Legend/styles/Card.js");
/* harmony import */ var _Legend_styles_Classic_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Legend/styles/Classic.js */ "./node_modules/@arcgis/core/widgets/Legend/styles/Classic.js");
/* harmony import */ var _support_globalCss_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./support/globalCss.js */ "./node_modules/@arcgis/core/widgets/support/globalCss.js");
/* harmony import */ var _support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/legacyIcon.js */ "./node_modules/@arcgis/core/widgets/support/legacyIcon.js");
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var _support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./support/decorators/messageBundle.js */ "./node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js");
/* harmony import */ var _support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./support/jsxFactory.js */ "./node_modules/@arcgis/core/widgets/support/jsxFactory.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const g={base:"esri-legend",widgetIcon:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_12__.legacyIcon.layerList};let u=class extends _Widget_js__WEBPACK_IMPORTED_MODULE_7__["default"]{constructor(e,t){super(e,t),this.headingLevel=3,this.iconClass=g.widgetIcon,this.icon=null,this.messages=null,this.style=new _Legend_styles_Classic_js__WEBPACK_IMPORTED_MODULE_10__["default"],this.viewModel=new _Legend_LegendViewModel_js__WEBPACK_IMPORTED_MODULE_8__["default"]}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.on)((()=>this.view),"resize",(()=>this.scheduleRender())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.on)((()=>this.activeLayerInfos),"change",(()=>this._refreshActiveLayerInfos(this.activeLayerInfos))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.watch)((()=>this.headingLevel),(e=>{const{style:t}=this;t&&(t.headingLevel=e)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.watch)((()=>this.style),((e,t)=>{t&&e!==t&&t.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,"card"===e.type&&(e.view=this.view),e.headingLevel=this.headingLevel)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.initial)])}get activeLayerInfos(){return this.viewModel.activeLayerInfos}set activeLayerInfos(e){this.viewModel.activeLayerInfos=e}get basemapLegendVisible(){return this.viewModel.basemapLegendVisible}set basemapLegendVisible(e){this.viewModel.basemapLegendVisible=e}get groundLegendVisible(){return this.viewModel.groundLegendVisible}set groundLegendVisible(e){this.viewModel.groundLegendVisible=e}get hideLayersNotInCurrentView(){return this.viewModel.hideLayersNotInCurrentView}set hideLayersNotInCurrentView(e){this.viewModel.hideLayersNotInCurrentView=e}get keepCacheOnDestroy(){return this.viewModel.keepCacheOnDestroy}set keepCacheOnDestroy(e){this.viewModel.keepCacheOnDestroy=e}get respectLayerVisibility(){return this.viewModel.respectLayerVisibility}set respectLayerVisibility(e){this.viewModel.respectLayerVisibility=e}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get layerInfos(){return this.viewModel.layerInfos}set layerInfos(e){this.viewModel.layerInfos=e}castStyle(e){if(e instanceof _Legend_styles_Card_js__WEBPACK_IMPORTED_MODULE_9__["default"]||e instanceof _Legend_styles_Classic_js__WEBPACK_IMPORTED_MODULE_10__["default"])return e;if("string"==typeof e)return"card"===e?new _Legend_styles_Card_js__WEBPACK_IMPORTED_MODULE_9__["default"]:new _Legend_styles_Classic_js__WEBPACK_IMPORTED_MODULE_10__["default"];if(e&&"string"==typeof e.type){const t={...e};delete t.type;return new("card"===e.type?_Legend_styles_Card_js__WEBPACK_IMPORTED_MODULE_9__["default"]:_Legend_styles_Classic_js__WEBPACK_IMPORTED_MODULE_10__["default"])(t)}return new _Legend_styles_Classic_js__WEBPACK_IMPORTED_MODULE_10__["default"]}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:this.classes(g.base,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_11__.globalCss.widget,this.style instanceof _Legend_styles_Classic_js__WEBPACK_IMPORTED_MODULE_10__["default"]?_support_globalCss_js__WEBPACK_IMPORTED_MODULE_11__.globalCss.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){e.forEach((e=>{this.removeHandles(`version_${e.layer.uid}`),this._renderOnActiveLayerInfoChange(e)})),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const r=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.watch)((()=>e.version),(()=>this.scheduleRender()));this.addHandles(r,`version_${e.layer.uid}`);const o=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.on)((()=>e.children),"change",(()=>e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.initial);this.addHandles(o,`version_${e.layer.uid}`),e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"activeLayerInfos",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"basemapLegendVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"groundLegendVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"headingLevel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"hideLayersNotInCurrentView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"keepCacheOnDestroy",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"respectLayerVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"iconClass",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"icon",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"label",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"layerInfos",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_14__.messageBundle)("esri/widgets/Legend/t9n/Legend")],u.prototype,"messages",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"style",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_3__.cast)("style")],u.prototype,"castStyle",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],u.prototype,"viewModel",void 0),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.widgets.Legend")],u);const L=u;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Legend/LegendViewModel.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Legend/LegendViewModel.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _intl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../intl.js */ "./node_modules/@arcgis/core/intl.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_get_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/get.js */ "./node_modules/@arcgis/core/core/accessorSupport/get.js");
/* harmony import */ var _support_ActiveLayerInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./support/ActiveLayerInfo.js */ "./node_modules/@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js");
/* harmony import */ var _intl_locale_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../intl/locale.js */ "./node_modules/@arcgis/core/intl/locale.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const h={state:"state",view:"view",allLayerViews:"all-layer-views",legendProperties:"legend-properties"},c=_core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"].ofType(_support_ActiveLayerInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]),L=new Set(["esri.layers.BuildingSceneLayer","esri.layers.CSVLayer","esri.layers.FeatureLayer","esri.layers.GeoJSONLayer","esri.layers.GeoRSSLayer","esri.layers.GroupLayer","esri.layers.HeatmapLayer","esri.layers.ImageryLayer","esri.layers.ImageryTileLayer","esri.layers.MapImageLayer","esri.layers.OGCFeatureLayer","esri.layers.PointCloudLayer","esri.layers.StreamLayer","esri.layers.SceneLayer","esri.layers.SubtypeGroupLayer","esri.layers.TileLayer","esri.layers.VoxelLayer","esri.layers.WFSLayer","esri.layers.WMSLayer","esri.layers.WMTSLayer","esri.layers.WCSLayer","esri.layers.LinkChartLayer","esri.layers.knowledgeGraph.KnowledgeGraphSublayer"]),u="view.basemapView.baseLayerViews",f="view.groundView.layerViews",p="view.basemapView.referenceLayerViews",_=[u,f,"view.layerViews",p];let v=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(e),this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"],this.activeLayerInfos=new c,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.view),(()=>this._viewHandles()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.initial),h.view),this.addHandles((0,_intl_locale_js__WEBPACK_IMPORTED_MODULE_12__.onLocaleChange)((()=>this._refresh())))}destroy(){this._destroyViewActiveLayerInfos(),this.view=null}get state(){return this.view?.ready?"ready":"disabled"}_viewHandles(){this.removeHandles(h.state),this.view&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.state),(()=>this._stateHandles()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.initial),h.state)}_stateHandles(){this._resetAll(),"ready"===this.state&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this.removeHandles([h.allLayerViews,h.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this.removeHandles(e);const r=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],r?.parent&&r.parent.children.remove(r)}_watchPropertiesAndAllLayerViews(){const{view:e}=this;if(!e)return;const{allLayerViews:r}=e;r.length&&this._refresh(),this.addHandles(r.on("change",(e=>this._allLayerViewsChangeHandle(e))),h.allLayerViews),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>[this.layerInfos,this.basemapLegendVisible,this.groundLegendVisible]),(()=>this._propertiesChangeHandle())),h.legendProperties)}_allLayerViewsChangeHandle(e){e.removed.forEach((e=>this._destroyViewActiveLayerInfo(e.uid))),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){const r=this.view;if(e.length<2||!r)return;const i=[];e.forEach((r=>{if(!r.parent){const t=r.layer.parent,s=t&&"uid"in t&&this._layerViewByLayerId[t.uid],a=s&&this._activeLayerInfosByLayerViewId[s.uid];a&&e.includes(a)&&(i.push(r),r.parent=a,a.children.add(r),this._sortActiveLayerInfos(a.children))}})),e.removeMany(i);const t={};r.allLayerViews.forEach(((e,r)=>t[e.layer.uid]=r)),e.sort(((e,r)=>{const i=t[e.layer.uid]||0;return(t[r.layer.uid]||0)-i}))}_generateLayerViews(){const e=[];return _.filter(this._filterLayerViews,this).map((e=>(0,_core_accessorSupport_get_js__WEBPACK_IMPORTED_MODULE_10__.get)(this,e))).filter((e=>null!=e)).forEach(this._collectLayerViews("layerViews",e)),e}_filterLayerViews(e){const r=!this.basemapLegendVisible&&(e===u||e===p),i=!this.groundLegendVisible&&e===f;return!r&&!i}_collectLayerViews(e,r){const i=t=>(t&&t.forEach((t=>{r.push(t),i(t[e])})),r);return i}_filterLayerViewsByLayerInfos(e){const r=this.layerInfos;return!r||!r.length||r.some((r=>this._hasLayerInfo(r,e)))}_hasLayerInfo(e,r){const i=this._isLayerUIDMatching(e.layer,r.layer.uid);return i&&(this._layerInfosByLayerViewId[r.uid]=e),i}_isLayerUIDMatching(e,r){return e&&(e.uid===r||this._hasLayerUID(e.layers,r))}_hasLayerUID(e,r){return e&&e.some((e=>this._isLayerUIDMatching(e,r)))}_isLayerViewSupported(e){return!!L.has(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this.removeHandles(e.uid),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>[e.legendEnabled,e.layer?.legendEnabled]),(()=>this._layerActiveHandle(e))),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this.removeHandles(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.layer?.legendEnabled}_buildActiveLayerInfo(e){const r=e.layer,i=e.uid,n=this._layerInfosByLayerViewId[i];let o=this._activeLayerInfosByLayerViewId[i];if(!o){const t=void 0!==n?.title&&n.layer.uid===r.uid;o=new _support_ActiveLayerInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]({layer:r,layerView:e,title:t?n.title:r.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:n?.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[i]=o}const l=r.parent&&"uid"in r.parent?this._layerViewByLayerId[r.parent?.uid]:null;if(o.parent=this._activeLayerInfosByLayerViewId[l?.uid],!this.hasHandles(i)){const n=[(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>r.title),(e=>this._titleHandle(e,o))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>[r.opacity,"renderer"in r&&r.renderer,"pointSymbol"in r&&r.pointSymbol,"lineSymbol"in r&&r.lineSymbol,"polygonSymbol"in r&&r.polygonSymbol]),(()=>this._constructLegendElements(o))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.when)((()=>!0===this.view?.stationary),(()=>this._scaleHandle(o)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>e._effectiveRenderer),(()=>this._constructLegendElements(o))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>"effect"in r&&r.effect),(()=>this._constructLegendElements(o))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.when)((()=>this.view?.timeZone),(()=>this._constructLegendElements(o)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.initial)];if(this.respectLayerVisibility){const i=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>e.legendEnabled),(e=>this._legendEnabledHandle(e,o))),s=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>r.legendEnabled),(e=>this._legendEnabledHandle(e,o)));n.push(i,s)}this.addHandles(n,i)}o.isScaleDriven||this._constructLegendElements(o),this._addActiveLayerInfo(o)}_titleHandle(e,r){r.title=e,this._constructLegendElements(r)}_legendEnabledHandle(e,r){e?this._addActiveLayerInfo(r):this._removeActiveLayerInfo(r)}_scaleHandle(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}_addActiveLayerInfo(e){const{layerView:r,layer:i}=e;if(this._isLayerActive(r)&&!this.activeLayerInfos.includes(e)){const r=e.parent;if(r)r.children.includes(e)||r.children.push(e),this._sortActiveLayerInfos(r.children);else{const r=this.layerInfos?.some((e=>e.layer.uid===i.uid));i.parent&&"uid"in i.parent&&!r?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const e=[];this._activeLayerInfosWithNoParent.forEach((r=>{const i=r.layer.parent,t=i&&"uid"in i?this._layerViewByLayerId[i?.uid]:null,s=this._activeLayerInfosByLayerViewId[t?.uid];s&&(e.push(r),r.parent=s)})),e.length&&(this._activeLayerInfosWithNoParent.removeMany(e),e.forEach((e=>this._addActiveLayerInfo(e))))}}}_removeActiveLayerInfo(e){const r=e.parent;r?r.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){const r=e.layer;"featureCollections"in r&&r.featureCollections?e.buildLegendElementsForFeatureCollections(r.featureCollections):"featureReduction"in r&&r.featureReduction&&"renderer"in r.featureReduction&&("binning"===r.featureReduction.type||"cluster"===r.featureReduction.type)?e.buildLegendElementsForFeatureReduction(r.featureReduction):"renderer"in r&&r.renderer&&!("sublayers"in r)?e.buildLegendElementsForRenderer(r.renderer):"url"in r&&r.url?e.buildLegendElementsForTools():e.children.forEach((e=>this._constructLegendElements(e)))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:c})],v.prototype,"activeLayerInfos",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"basemapLegendVisible",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"groundLegendVisible",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"hideLayersNotInCurrentView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"keepCacheOnDestroy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"respectLayerVisibility",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"layerInfos",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],v.prototype,"state",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"view",void 0),v=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.widgets.Legend.LegendViewModel")],v);const I=v;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Legend/styles/Card.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Legend/styles/Card.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ U)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _intl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../intl.js */ "./node_modules/@arcgis/core/intl.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _symbols_support_svgUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../symbols/support/svgUtils.js */ "./node_modules/@arcgis/core/symbols/support/svgUtils.js");
/* harmony import */ var _symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../symbols/support/utils.js */ "./node_modules/@arcgis/core/symbols/support/utils.js");
/* harmony import */ var _Widget_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../Widget.js */ "./node_modules/@arcgis/core/widgets/Widget.js");
/* harmony import */ var _CardCSS_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./CardCSS.js */ "./node_modules/@arcgis/core/widgets/Legend/styles/CardCSS.js");
/* harmony import */ var _support_relationshipUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/relationshipUtils.js */ "./node_modules/@arcgis/core/widgets/Legend/styles/support/relationshipUtils.js");
/* harmony import */ var _support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./support/univariateUtils.js */ "./node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js");
/* harmony import */ var _support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../support/styleUtils.js */ "./node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js");
/* harmony import */ var _support_Heading_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../support/Heading.js */ "./node_modules/@arcgis/core/widgets/support/Heading.js");
/* harmony import */ var _support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../support/decorators/accessibleHandler.js */ "./node_modules/@arcgis/core/widgets/support/decorators/accessibleHandler.js");
/* harmony import */ var _support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../support/decorators/messageBundle.js */ "./node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js");
/* harmony import */ var _support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../support/jsxFactory.js */ "./node_modules/@arcgis/core/widgets/support/jsxFactory.js");
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../support/widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var _intl_substitute_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../intl/substitute.js */ "./node_modules/@arcgis/core/intl/substitute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const $=25,k=25,z=768,I=100;var N;!function(e){e.Auto="auto",e.Stack="stack",e.SideBySide="side-by-side"}(N||(N={}));const A="#ddd",j=window.devicePixelRatio;function E(e){if(e){if(e.type.includes("3d")){const t=e.symbolLayers?.length;if(!t)return;const s=e.symbolLayers.at(t-1),i=s.resource?.primitive;return"circle"===i||"cross"===i||"kite"===i||"sphere"===i||"cube"===i||"diamond"===i}{const t=e.style;return"circle"===t||"diamond"===t||"cross"===t}}}function F(e){if(e){if(e.type.includes("3d")){const t=e.symbolLayers?.length;if(!t)return;const s=e.symbolLayers.at(t-1).get("resource.primitive");return"triangle"===s||"cone"===s||"tetrahedron"===s}return"triangle"===e.style}}let T=class extends _Widget_js__WEBPACK_IMPORTED_MODULE_11__["default"]{constructor(e,t){super(e,t),this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=N.Stack,this.messages=null,this.messagesCommon=null,this.type="card",this.view=null}initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>this.activeLayerInfos),(e=>{this.removeAllHandles(),this._watchForSectionChanges(e)})))}render(){const{view:e}=this;this._hasIndicators=this.layout===N.Auto&&e&&e.container.clientWidth<=z||this.layout===N.Stack;const t=this.activeLayerInfos,s=t&&t.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));this._hasIndicators?this._selectedSectionName&&this._sectionNames.includes(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const i=this._sectionNames.length,a=this._sectionNames.map(((e,t)=>{const s=(0,_intl_substitute_js__WEBPACK_IMPORTED_MODULE_21__.substitute)(this.messagesCommon.pagination.pageText,{index:t+1,total:i});return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{"aria-controls":`${e}-panel`,"aria-label":s,"aria-selected":(this._selectedSectionName===e).toString(),bind:this,class:this.classes(_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.indicator,{[_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.activated]:this._selectedSectionName===e}),"data-section-name":e,id:e,key:e,onclick:this._selectSection,onkeydown:this._focusSection,role:"tab",tabIndex:this._selectedSectionName===e?0:-1,title:s})})),r=this._hasIndicators&&i>1?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.indicatorContainer,key:"carousel-navigation",role:"tablist"},a):null,o=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):s&&s.length?s:null,l={[_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.stacked]:this._hasIndicators};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:this.classes(_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.base,l)},o||(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.message},this.messages.noLegend),r)}_selectSection(e){const t=e.target.getAttribute("data-section-name");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case"ArrowLeft":case"ArrowRight":this._switchSectionOnArrowPress(e);break;case"Enter":case" ":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,s="ArrowLeft"===t?-1:1,i=e.target.getAttribute("data-section-name"),a=this._sectionNames.indexOf(i),r=this._sectionNames;let o=null;-1!==a&&(r[a+s]?o=document.getElementById(r[a+s]):"ArrowLeft"===t?o=document.getElementById(r[r.length-1]):"ArrowRight"===t&&(o=document.getElementById(r[0])),o?.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach((e=>{const s=`activeLayerInfo-${e.layer.uid}-version-change`;this.removeHandles(s),this._watchForSectionChanges(e.children),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>e.version),(()=>this._generateSectionNames())),s)}));const s="activeLayerInfos-collection-change";this.removeHandles(s),this.addHandles(e.on("change",(()=>this._watchForSectionChanges(e))),s)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,s){return`${this.id}${e.uid}-type-${t.type}-${s}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach(((t,s)=>{this._sectionNames.push(this._getSectionName(e.layer,t,s))}))}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:this.classes(_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.service,_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.groupLayer),key:e.layer.uid},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const s=t.some((e=>"relationship-ramp"===e.type)),i=t.map(((t,i)=>this._renderLegendForElement(t,e,i,s))).filter((e=>!!e));if(!i.length)return null;const a={[_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.groupLayerChild]:!!e.parent};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:this.classes(_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.service,a),key:e.layer.uid},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.serviceCaptionContainer},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.serviceCaptionText},e.title)),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.serviceContent},i))}}_renderLegendForElement(e,t,s,i=!1,a=!1){const r="color-ramp"===e.type,o="opacity-ramp"===e.type,l=t.layer;let p=null;if("string"==typeof e.title)p=e.title;else if(e.title){const t=e.title,s=(0,_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.getTitle)(this.messages,t,r||o);p=t.title?`${t.title} (${s})`:s}const d=this._getSectionName(l,e,s),m=this._hasIndicators&&!a?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",null,(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)(_support_Heading_js__WEBPACK_IMPORTED_MODULE_16__.Heading,{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.carouselTitle,level:this.headingLevel},t.title),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)(_support_Heading_js__WEBPACK_IMPORTED_MODULE_16__.Heading,{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.layerCaption,level:(0,_support_Heading_js__WEBPACK_IMPORTED_MODULE_16__.incrementHeadingLevel)(this.headingLevel)},p)):p?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)(_support_Heading_js__WEBPACK_IMPORTED_MODULE_16__.Heading,{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.layerCaption,level:this.headingLevel},p):null,h=t.effectList;let y=null;switch(e.type){case"symbol-table":{const s=e.infos.map(((s,i)=>this._renderLegendForElementInfo(s,t,e.legendType,i))).filter((e=>!!e));if(s.length){const e=s[0].properties.classes?.[_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.symbolRow],t={[_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.labelContainer]:!e&&!i,[_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.relationshipLabelContainer]:i};y=(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:this.classes(t)},s)}break}case"color-ramp":case"opacity-ramp":case"heatmap-ramp":case"stretch-ramp":y=this._renderLegendForRamp(e,l.opacity,h);break;case"size-ramp":y=this._renderSizeRamp(e,l.opacity);break;case"pie-chart-ramp":y=this._renderPieChartRamp(e);break;case"relationship-ramp":y=(0,_support_relationshipUtils_js__WEBPACK_IMPORTED_MODULE_13__.renderRelationshipRamp)(e,this.id,{opacity:l.opacity,effectList:h,ariaLabel:this.messages.previewRelationshipRampAriaLabel});break;case"univariate-above-and-below-ramp":y=this._renderUnivariateAboveAndBelowRamp(e,l.opacity,h);break;case"univariate-color-size-ramp":y=this._renderUnivariateColorSizeRamp(e,l.opacity,h)}if(!y)return null;const g=(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{"aria-labelledby":d,class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.section,id:`${d}-panel`,key:d,role:"tabpanel",tabIndex:0},[m,y]);return a||this._sectionMap.set(d,g),g}_renderPieChartRamp(e){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.attachToNode,bind:e.preview,class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.pieChartRampPreview})}_renderUnivariateAboveAndBelowRamp(e,t,s){const{sizeRampElement:i,colorRampElement:a}=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_14__.getUnivariateAboveAndBelowRampElements)(e,t,"horizontal");if(!i)return null;const r=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_14__.getUnivariateSizeRampSize)(i,"full",!0,"horizontal"),o=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_14__.getUnivariateColorRampSize)(i,"above",!0,"horizontal"),l=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_14__.getUnivariateColorRampSize)(i,"below",!0,"horizontal"),c=12,g=this.messages?.previewColorRampAriaLabel,v=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_14__.getUnivariateColorRampPreview)(a,{width:o,height:c,rampAlignment:"horizontal",opacity:t,type:"above",effectList:s,ariaLabel:g}),u=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_14__.getUnivariateColorRampPreview)(a,{width:l,height:c,rampAlignment:"horizontal",opacity:t,type:"below",effectList:s,ariaLabel:g}),b=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_14__.getUnivariateColorRampMargin)(i,"card"),_=i.infos.map((e=>e.label)),w=_.length-1,L=_.map(((e,t)=>0===t||t===w?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{key:t},e):null)),S={display:"flex",flexDirection:"column"},R={display:"flex",flexDirection:"row"},$={marginTop:"3px",display:"flex"};(0,_support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_20__.isRTL)(this.container)?$.marginRight=`${b}px`:$.marginLeft=`${b}px`;const k={width:`${r}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.layerRow,key:"size-ramp-preview",styles:S},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:this.classes(_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.symbolContainer,_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.sizeRampHorizontal),styles:R},i.infos.map(((e,t)=>(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.attachToNode,bind:e.preview,class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.symbol,key:t})))),v?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:$},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.attachToNode,bind:v}),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.attachToNode,bind:u})):null,(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.layerInfo},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.rampLabelsContainer,styles:k},L)))}_renderUnivariateColorSizeRamp(e,t,s){const{sizeRampElement:i,colorRampElement:a}=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_14__.getUnivariateColorSizeRampElements)(e,"horizontal");if(!i)return null;const r=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_14__.getUnivariateSizeRampSize)(i,"full",!1,"horizontal"),o=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_14__.getUnivariateColorRampSize)(i,"full",!1,"horizontal"),l=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_14__.getUnivariateColorRampPreview)(a,{width:o,height:12,rampAlignment:"horizontal",opacity:t,type:"full",effectList:s,ariaLabel:this.messages?.previewColorRampAriaLabel}),c=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_14__.getUnivariateColorRampMargin)(i,"card"),p=i.infos.length-1,v=i.infos.map(((e,t)=>0===t||t===p?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{key:t},e.label):null)),u={display:"flex",flexDirection:"column"},b={display:"flex",flexDirection:"row"},_={marginTop:"3px",display:"flex"};(0,_support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_20__.isRTL)(this.container)?_.marginRight=`${c}px`:_.marginLeft=`${c}px`;const w={width:`${r}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.layerRow,key:"size-ramp-preview",styles:u},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:this.classes(_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.symbolContainer,_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.sizeRampHorizontal),styles:b},i.infos.map(((e,t)=>(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.attachToNode,bind:e.preview,class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.symbol,key:t})))),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:_},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.attachToNode,bind:l})),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.layerInfo},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.rampLabelsContainer,styles:w},v)))}_renderLegendForElementInfo(e,t,s,i){const a=t.layer;if(e.type)return this._renderLegendForElement(e,t,i,!1,!0);const r=(0,_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.isImageryStretchedLegend)(a,s),l=(0,_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.getTitle)(this.messages,e.label,!1)??"";if(e.preview){if(!e.symbol?.type.includes("simple-fill")){if(!e.label)return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.attachToNode,bind:e.preview,key:i});const t={[_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.symbolCell]:this._hasIndicators};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:this.classes(_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.layerRow,{[_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.symbolRow]:this._hasIndicators}),key:i},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.attachToNode,bind:e.preview,class:this.classes(t)}),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:this.classes(_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.imageLabel,{[_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.labelCell]:this._hasIndicators})},l))}let s=255,r=255,c=255,p=0,d=255,m=255,h=255,y=0;const g=e.symbol.color?.a,v=e.symbol.outline?.color?.a;g&&(s=e.symbol.color.r,r=e.symbol.color.g,c=e.symbol.color.b,p=e.symbol.color.a*a.opacity),v&&(d=e.symbol.outline.color.r,m=e.symbol.outline.color.g,h=e.symbol.outline.color.b,y=e.symbol.outline.color.a*a.opacity);const u=e.symbol.color?.isBright??!0,b=u?"rgba(255, 255, 255, .6)":"rgba(0, 0, 0, .6)",_={background:g?`rgba(${s}, ${r}, ${c}, ${p})`:"none",color:u?"black":"white",textShadow:`-1px -1px 0 ${b},\n                                              1px -1px 0 ${b},\n                                              -1px 1px 0 ${b},\n                                              1px 1px 0 ${b}`,border:v?`1px solid rgba(${d}, ${m}, ${h}, ${y})`:"none",filter:(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_10__.getCSSFilterFromEffectList)(t.effectList)??void 0};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.layerRow,key:i},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.labelElement,styles:_},l))}if(e.src){const t=this._renderImage(e,a,r);return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.layerRow,key:i},t,(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.imageLabel},l))}}_renderImage(e,t,s){const{label:i,src:a,opacity:r}=e,o={[_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.imageryLayerStretchedImage]:s,[_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.symbol]:!s},l={opacity:`${null!=r?r:t.opacity}`};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("img",{alt:(0,_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.getTitle)(this.messages,i,!1),"aria-label":(0,_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.getTitle)(this.messages,i,!1),border:0,class:this.classes(o),height:e.height,src:a,styles:l,width:e.width})}_renderSizeRampLines(e){const t=e.infos,i=t[0],a=t[t.length-1],r=i.symbol,o=this._hasIndicators,l=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__.pt2px)(i.size+i.outlineSize)*j,n=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__.pt2px)(a.size+a.outlineSize)*j,c=o?l:l+50*j,p=o?l/2+50*j:l,d=F(r),m=E(r),h=document.createElement("canvas");h.width=c,h.height=p,h.style.width=h.width/j+"px",h.style.height=h.height/j+"px";const y=h.getContext("2d");if(o){y.beginPath();const e=0,t=0,s=c/2-n/2,i=p;y.moveTo(e,t),y.lineTo(s,i);const a=c,r=0,o=c/2+n/2,l=p;y.moveTo(a,r),y.lineTo(o,l)}else{y.beginPath();const e=0,t=p/2-n/2,s=c,i=0;y.moveTo(e,t),y.lineTo(s,i);const a=0,r=p/2+n/2,o=c,l=p;y.moveTo(a,r),y.lineTo(o,l)}return y.strokeStyle=A,y.stroke(),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.attachToNode,bind:h,styles:o?{display:"flex",marginTop:`-${d?0:m?l/2:0}px`,marginBottom:`-${d?n:m?n/2:0}px`}:{display:"flex",marginRight:`-${d?0:m?l/2:0}px`,marginLeft:`-${d?0:m?n/2:0}px`}})}_renderSizeRamp(e,t){const s=e.infos,i=s[0].label,a=s[s.length-1].label;let r=s[0].preview,o=s[s.length-1].preview;const l=this._hasIndicators,c={"flex-direction":l?"column":"row-reverse"};r&&(r=r.cloneNode(!0),r.style.display="flex"),o&&(o=o.cloneNode(!0),o.style.display="flex");const p={opacity:null!=t?`${t}`:""};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:this.classes(_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.layerRow,{[_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.sizeRampRow]:l})},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.rampLabel},l?i:a),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.sizeRampContainer,styles:c},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.attachToNode,bind:r,class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.sizeRampPreview,styles:p}),this._renderSizeRampLines(e),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.attachToNode,bind:o,class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.sizeRampContainer,styles:p})),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.rampLabel},l?a:i))}_getRampStopLabel(e,t){switch(t){case"heatmap-ramp":return this.messages[e.label];case"stretch-ramp":return (0,_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_15__.getStretchStopLabel)(e,this.messages);default:return e.label}}_renderLegendForRamp(e,t,s){const i=e.infos,a=e.type,l="heatmap-ramp"===a,c=i.length-1,p=k,d=c>2&&!l?$*c:I,m=d+20,h=10,y=i.slice(0).reverse(),g=y.length-1,v=y.length%2!=0?y[y.length/2|0]:null,f=v&&(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.intervalSeparatorsContainer},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.intervalSeparator},"|"),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.rampLabel},this._getRampStopLabel(v,a))),u=[[{shape:{type:"path",path:`M0 ${p/2} L${h} 0 L${h} ${p} Z`},fill:y[0].color,stroke:{width:0}},{shape:{type:"rect",x:h,y:0,width:d,height:p},fill:{type:"linear",x1:h,y1:0,x2:d+h,y2:0,colors:y.map(((e,t)=>({color:e.color,offset:l&&"ratio"in e?e.ratio:t/c})))},stroke:{width:0}},{shape:{type:"path",path:`M${d+h} 0 L${m} ${p/2} L${d+h} ${p} Z`},fill:y[g].color,stroke:{width:0}}]],b=(0,_symbols_support_svgUtils_js__WEBPACK_IMPORTED_MODULE_9__.renderSVG)(u,m,p),_={filter:(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_10__.getCSSFilterFromEffectList)(s)??void 0,opacity:null==t?void 0:`${t}`},w={justifyContent:"center"};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.layerRow,styles:w},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.rampLabel},this._getRampStopLabel(y[0],a)),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.symbolContainer},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{styles:_},b),f),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:_CardCSS_js__WEBPACK_IMPORTED_MODULE_12__.css.rampLabel},this._getRampStopLabel(y[g],a)))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],T.prototype,"activeLayerInfos",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],T.prototype,"headingLevel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],T.prototype,"layout",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_18__.messageBundle)("esri/widgets/Legend/t9n/Legend")],T.prototype,"messages",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_18__.messageBundle)("esri/t9n/common")],T.prototype,"messagesCommon",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],T.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],T.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_17__.accessibleHandler)()],T.prototype,"_selectSection",null),T=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.widgets.Legend.styles.Card")],T);const U=T;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Legend/styles/CardCSS.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Legend/styles/CardCSS.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const e="esri-legend--card",a="esri-legend",r={activated:`${e}__carousel-indicator--activated`,base:e,stacked:`${a}--stacked`,carouselTitle:`${e}__carousel-title`,indicator:`${e}__carousel-indicator`,intervalSeparator:`${e}__interval-separator`,imageryLayerStretchedImage:`${e}__imagery-layer-image--stretched`,imageLabel:`${e}__image-label`,layerCaption:`${e}__layer-caption`,labelElement:`${e}__label-element`,layerRow:`${e}__layer-row`,labelCell:`${e}__label-cell`,message:`${e}__message`,rampLabel:`${e}__ramp-label`,section:`${e}__section`,relationshipSection:`${e}__relationship-section`,serviceCaptionText:`${e}__service-caption-text`,serviceContent:`${e}__service-content`,service:`${e}__service`,groupLayer:`${e}__group-layer`,groupLayerChild:`${e}__group-layer-child`,symbol:`${e}__symbol`,sizeRampRow:`${e}__size-ramp-row`,symbolRow:`${e}__symbol-row`,symbolCell:`${e}__symbol-cell`,indicatorContainer:`${e}__carousel-indicator-container`,intervalSeparatorsContainer:`${e}__interval-separators-container`,relationshipLabelContainer:`${e}__relationship-label-container`,labelContainer:`${e}__label-container`,serviceCaptionContainer:`${e}__service-caption-container`,symbolContainer:`${e}__symbol-container`,sizeRampContainer:`${e}__size-ramp-container`,sizeRampPreview:`${e}__size-ramp-preview`,pieChartRampPreview:`${e}__pie-chart-ramp-preview`,rampContainer:`${a}__ramps`,sizeRampHorizontal:`${a}__size-ramp--horizontal`,rampLabelsContainer:`${a}__ramp-labels`,layerInfo:`${a}__layer-cell ${a}__layer-cell--info`,univariateAboveAndBelowColorRamp:"esri-univariate-above-and-below-ramp__color--card"};


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Legend/styles/Classic.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Legend/styles/Classic.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ $)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Widget_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Widget.js */ "./node_modules/@arcgis/core/widgets/Widget.js");
/* harmony import */ var _ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ClassicCSS.js */ "./node_modules/@arcgis/core/widgets/Legend/styles/ClassicCSS.js");
/* harmony import */ var _support_relationshipUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./support/relationshipUtils.js */ "./node_modules/@arcgis/core/widgets/Legend/styles/support/relationshipUtils.js");
/* harmony import */ var _support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./support/univariateUtils.js */ "./node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js");
/* harmony import */ var _support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../support/styleUtils.js */ "./node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js");
/* harmony import */ var _support_globalCss_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../support/globalCss.js */ "./node_modules/@arcgis/core/widgets/support/globalCss.js");
/* harmony import */ var _support_Heading_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../support/Heading.js */ "./node_modules/@arcgis/core/widgets/support/Heading.js");
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../support/widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var _support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../support/decorators/messageBundle.js */ "./node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js");
/* harmony import */ var _support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../support/jsxFactory.js */ "./node_modules/@arcgis/core/widgets/support/jsxFactory.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const w=`${_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.legend}__`,C=24,R={display:"flex",alignItems:"flex-start"},A={marginLeft:"3px"},_={display:"table-cell",verticalAlign:"middle"};let j=class extends _Widget_js__WEBPACK_IMPORTED_MODULE_6__["default"]{constructor(e,s){super(e,s),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type="classic"}render(){const e=this.activeLayerInfos,s=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",null,s&&s.length?s:(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const s=!!e.children.length,t=`${w}${e.layer.uid}-version-${e.version}`,a=e.title?(0,_support_Heading_js__WEBPACK_IMPORTED_MODULE_12__.Heading)({level:this.headingLevel,class:this.classes(_support_globalCss_js__WEBPACK_IMPORTED_MODULE_11__.globalCss.heading,_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.label)},e.title):null;if(s){const s=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:this.classes(_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.service,_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.groupLayer),key:t},a,s)}{const s=e.legendElements;if(s&&!s.length)return null;const i=s.map((s=>this._renderLegendForElement(s,e.layer,e.effectList))).filter((e=>!!e));if(!i.length)return null;const l={[_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.groupLayerChild]:!!e.parent};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:this.classes(_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.service,l),key:t},a,(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layer},i))}}_renderLegendForElement(e,s,t,a){const i="color-ramp"===e.type,o="opacity-ramp"===e.type,n="size-ramp"===e.type;let p=null;if("symbol-table"===e.type||n){const a=e.infos.map((a=>this._renderLegendForElementInfo(a,s,t,n,e.legendType))).filter((e=>!!e));a.length&&(p=(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerBody},a))}else"color-ramp"===e.type||"opacity-ramp"===e.type||"heatmap-ramp"===e.type||"stretch-ramp"===e.type?p=this._renderLegendForRamp(e,s.opacity):"relationship-ramp"===e.type?p=(0,_support_relationshipUtils_js__WEBPACK_IMPORTED_MODULE_8__.renderRelationshipRamp)(e,this.id,{opacity:s.opacity,effectList:t,ariaLabel:this.messages.previewRelationshipRampAriaLabel}):"pie-chart-ramp"===e.type?p=this._renderPieChartRamp(e):"univariate-above-and-below-ramp"===e.type?p=this._renderUnivariateAboveAndBelowRamp(e,s.opacity,t):"univariate-color-size-ramp"===e.type&&(p=this._renderUnivariateColorSizeRamp(e,s.opacity,t));if(!p)return null;const d=e.title;let c=null;if("string"==typeof d)c=d;else if(d){const e=(0,_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.getTitle)(this.messages,d,i||o);c=(0,_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.isRendererTitle)(d,i||o)&&d.title?`${d.title} (${e})`:e}const v=a?_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerChildTable:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerTable,h=c?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerCaption},c):null,g={[_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerTableSizeRamp]:n||!a};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:this.classes(v,g)},h,p)}_renderPieChartRamp(e){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.attachToNode,bind:e.preview})}_renderUnivariateAboveAndBelowRamp(e,s,t){const{sizeRampElement:a,colorRampElement:i}=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_9__.getUnivariateAboveAndBelowRampElements)(e,s);if(!a)return null;const l=this.messages?.previewColorRampAriaLabel,c=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_9__.getUnivariateColorRampSize)(a,"above",!0),m=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_9__.getUnivariateColorRampSize)(a,"below",!0),y=12,h=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_9__.getUnivariateColorRampPreview)(i,{width:y,height:c,rampAlignment:"vertical",opacity:s,type:"above",effectList:t,ariaLabel:l}),g=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_9__.getUnivariateColorRampPreview)(i,{width:y,height:m,rampAlignment:"vertical",opacity:s,type:"below",effectList:t,ariaLabel:l}),u=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_9__.getUnivariateColorRampMargin)(a),b=a.infos.map((e=>e.label)),f=b.map(((e,s)=>{const t=2===s;return 0===s?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:e?h?_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.univariateAboveAndBelowLabel:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.rampLabel:void 0,key:s},e):t?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",null):null})),w=b.length-1,C=Math.floor(b.length/2),j=b.map(((e,s)=>s===C||s===w?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:e?h?_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.univariateAboveAndBelowLabel:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.rampLabel:void 0,key:s},e):null)),$={display:"table-cell",verticalAlign:"middle"},I={marginTop:`${u}px`},x={height:`${c}px`},S={height:`${m}px`};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{key:"univariate-above-and-below-ramp-preview",styles:R},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerBody},a.infos.map(((e,s)=>(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:this.classes(_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerRow,_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.sizeRamp)},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.attachToNode,bind:e.preview,class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.symbol,styles:$}),h||s%2!=0?null:(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerInfo},b[s]))))),h?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{key:"color-ramp-preview",styles:I},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{styles:A},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{styles:_},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.attachToNode,bind:h,class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.rampContainer})),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{styles:_},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.rampLabelsContainer,styles:x},f))),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{styles:A},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{styles:_},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.attachToNode,bind:g,class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.rampContainer})),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{styles:_},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.rampLabelsContainer,styles:S},j)))):null)}_renderUnivariateColorSizeRamp(e,s,t){const{sizeRampElement:a,colorRampElement:i}=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_9__.getUnivariateColorSizeRampElements)(e);if(!a)return null;const l=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_9__.getUnivariateColorRampMargin)(a),o=12,m=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_9__.getUnivariateColorRampSize)(a,"full",!1),y=(0,_support_univariateUtils_js__WEBPACK_IMPORTED_MODULE_9__.getUnivariateColorRampPreview)(i,{width:o,height:m,rampAlignment:"vertical",opacity:s,type:"full",effectList:t,ariaLabel:this.messages?.previewColorRampAriaLabel}),h=a.infos.length-1,g=a.infos.map(((e,s)=>0===s||s===h?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:e.label?i?_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.univariateAboveAndBelowLabel:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.rampLabel:void 0,key:s},e.label):null)),u={display:"table-cell",verticalAlign:"middle"},b={marginTop:`${l}px`},f={height:`${m}px`};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{key:"univariate-above-and-below-ramp-preview",styles:R},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerBody},a.infos.map((e=>(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:this.classes(_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerRow,_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.sizeRamp)},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.attachToNode,bind:e.preview,class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.symbol,styles:u}))))),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{key:"color-ramp-preview",styles:b},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{styles:A},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{styles:_},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.attachToNode,bind:y,class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.rampContainer})),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{styles:_},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.rampLabelsContainer,styles:f},g)))))}_renderLegendForRamp(e,s){const t=e.infos,a="opacity-ramp"===e.type,i="heatmap-ramp"===e.type,l="stretch-ramp"===e.type,o=e.preview,n=a?_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.opacityRamp:"";o.className=`${_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.colorRamp} ${n}`,null!=s&&(o.style.opacity=s.toString());const p=t.map((e=>(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:e.label?_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.rampLabel:void 0},i?this.messages[e.label]||e.label:l?(0,_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.getStretchStopLabel)(e,this.messages):e.label))),d={width:`${C}px`},c={height:o.style.height};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerRow},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.symbolContainer,styles:d},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.attachToNode,bind:o,class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.rampContainer})),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerInfo},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.rampLabelsContainer,styles:c},p)))}_renderLegendForElementInfo(e,s,t,a,i){if(e.type)return this._renderLegendForElement(e,s,t,!0);let l=null;const o=(0,_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.isImageryStretchedLegend)(s,i);if(e.preview?l=(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{afterCreate:_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.attachToNode,bind:e.preview,class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.symbol}):e.src&&(l=this._renderImage(e,s,o)),!l)return null;const n={[_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.imageryLayerInfoStretched]:o},p={[_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.imageryLayerInfoStretched]:o,[_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.sizeRamp]:!o&&a};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerRow},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:this.classes(_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.symbolContainer,p)},l),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:this.classes(_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.layerInfo,n)},(0,_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.getTitle)(this.messages,e.label,!1)||""))}_renderImage(e,s,t){const{label:a,src:i,opacity:l}=e,o={[_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.imageryLayerStretchedImage]:t,[_ClassicCSS_js__WEBPACK_IMPORTED_MODULE_7__.css.symbol]:!t},n={opacity:`${null!=l?l:s.opacity}`};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("img",{alt:(0,_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.getTitle)(this.messages,a,!1),"aria-label":(0,_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_10__.getTitle)(this.messages,a,!1),border:0,class:this.classes(o),height:e.height,src:i,styles:n,width:e.width})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],j.prototype,"activeLayerInfos",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],j.prototype,"headingLevel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_14__.messageBundle)("esri/widgets/Legend/t9n/Legend")],j.prototype,"messages",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],j.prototype,"type",void 0),j=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.widgets.Legend.styles.Classic")],j);const $=j;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Legend/styles/ClassicCSS.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Legend/styles/ClassicCSS.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ a),
/* harmony export */   legend: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const e="esri-legend",a={service:`${e}__service`,label:`${e}__service-label`,layer:`${e}__layer`,groupLayer:`${e}__group-layer`,groupLayerChild:`${e}__group-layer-child`,layerTable:`${e}__layer-table`,layerTableSizeRamp:`${e}__layer-table--size-ramp`,layerChildTable:`${e}__layer-child-table`,layerCaption:`${e}__layer-caption`,layerBody:`${e}__layer-body`,layerRow:`${e}__layer-row`,layerCell:`${e}__layer-cell`,layerInfo:`${e}__layer-cell ${e}__layer-cell--info`,imageryLayerStretchedImage:`${e}__imagery-layer-image--stretched`,imageryLayerCellStretched:`${e}__imagery-layer-cell--stretched`,imageryLayerInfoStretched:`${e}__imagery-layer-info--stretched`,symbolContainer:`${e}__layer-cell ${e}__layer-cell--symbols`,symbol:`${e}__symbol`,rampContainer:`${e}__ramps`,sizeRamp:`${e}__size-ramp`,colorRamp:`${e}__color-ramp`,opacityRamp:`${e}__opacity-ramp`,borderlessRamp:`${e}__borderless-ramp`,rampTick:`${e}__ramp-tick`,rampFirstTick:`${e}__ramp-tick-first`,rampLastTick:`${e}__ramp-tick-last`,rampLabelsContainer:`${e}__ramp-labels`,rampLabel:`${e}__ramp-label`,message:`${e}__message`,univariateAboveAndBelowLabel:"esri-univariate-above-and-below-ramp__label"};


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getUnivariateAboveAndBelowRampElements: () => (/* binding */ d),
/* harmony export */   getUnivariateColorRampMargin: () => (/* binding */ u),
/* harmony export */   getUnivariateColorRampPreview: () => (/* binding */ h),
/* harmony export */   getUnivariateColorRampSize: () => (/* binding */ y),
/* harmony export */   getUnivariateColorSizeRampElements: () => (/* binding */ b),
/* harmony export */   getUnivariateSizeRampSize: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _libs_maquette_projection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../libs/maquette/projection.js */ "./node_modules/@arcgis/core/libs/maquette/projection.js");
/* harmony import */ var _libs_maquette_projector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../libs/maquette/projector.js */ "./node_modules/@arcgis/core/libs/maquette/projector.js");
/* harmony import */ var _symbols_support_symbolUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../symbols/support/symbolUtils.js */ "./node_modules/@arcgis/core/symbols/support/symbolUtils.js");
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../support/widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var _support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../support/jsxFactory.js */ "./node_modules/@arcgis/core/widgets/support/jsxFactory.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const l=(0,_libs_maquette_projector_js__WEBPACK_IMPORTED_MODULE_2__.createProjector)(),n=10,r=20,s=10,a=20,c={univariateAboveAndBelowSymbol:"esri-univariate-above-and-below-ramp__symbol",colorRamp:"esri-legend__color-ramp"};function f(e="vertical"){const t="stroke:rgb(200, 200, 200);stroke-width:1";return"vertical"===e?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_5__.tsx)("svg",{height:"4",width:"10"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_5__.tsx)("line",{style:t,x1:"0",x2:"10",y1:"2",y2:"2"})):(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_5__.tsx)("svg",{height:"10",width:"10"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_5__.tsx)("line",{style:t,x1:"5",x2:"5",y1:"0",y2:"10"}))}function p(e,t="vertical"){const o=document.createElement("div");return o.style.height=`${r}px`,o.className=c.univariateAboveAndBelowSymbol,null!=e&&(o.style.opacity=e.toString()),l.append(o,f.bind(null,t)),o}function m(t,o,i="vertical",l){t.infos.forEach(((t,n)=>{if(l&&2===n)t.preview=p(o,i);else{const o=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(t.size)+("horizontal"===i?a:s),l=t.preview,n="div"===l?.tagName.toLowerCase(),r=n?l:document.createElement("div");r.className=c.univariateAboveAndBelowSymbol,"horizontal"===i?r.style.width=`${o}px`:r.style.height=`${o}px`,!n&&l&&r.appendChild(l),t.preview=r}}))}function u(t,o="classic"){const i=t.infos;return"classic"===o?((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(i[0].size)+s)/2:((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(i[0].size)-(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(i[i.length-1].size))/2}function h(e,t){if(!e)return null;const i=e.infos.map((e=>e.color)),l=(0,_symbols_support_symbolUtils_js__WEBPACK_IMPORTED_MODULE_3__.renderColorRampPreviewHTML)("full"===t.type?i:"above"===t.type?i.slice(0,3):i.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList,ariaLabel:t.ariaLabel});return l.className=c.colorRamp,null!=t.opacity&&(l.style.opacity=t.opacity.toString()),l}function v(t,o,i,l="vertical"){let c=0;const f=t.infos,p=Math.floor(f.length/2),m="full"===o||"above"===o?0:p,u="full"===o||"below"===o?f.length-1:p;for(let h=m;h<=u;h++)if(i&&h===p)c+="horizontal"===l?n:r;else{c+=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(f[h].size)+("horizontal"===l?a:s)}return Math.round(c)}function y(t,o,i,l="vertical"){const c=v(t,o,i,l),f=t.infos,p=Math.floor(f.length/2),m="full"===o||"above"===o?0:p,u="full"===o||"below"===o?f.length-1:p,h="full"===o?f[m].size+f[u].size:"above"===o?f[m].size:f[u].size,y=i?"vertical"===l?r:n:0,d="vertical"===l?s*("full"===o?2:1):a*("full"===o?2:1);return Math.round(c-((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(h)/2+y/2+d/2))}function d(e,t,o="vertical"){const i=e.infos;let l=i.find((({type:e})=>"size-ramp"===e)),n=i.find((({type:e})=>"color-ramp"===e));return l&&(l={...l},l.infos=[...l.infos],m(l,t,o,!0)),n&&(n={...n},n.infos=[...n.infos]),"horizontal"===o&&(l?.infos.reverse(),n?.infos.reverse()),{sizeRampElement:l,colorRampElement:n}}function b(e,t="vertical"){const o=e.infos;let i=o.find((({type:e})=>"size-ramp"===e)),l=o.find((({type:e})=>"color-ramp"===e));return i&&(i={...i},i.infos=[...i.infos],m(i,null,t,!1)),l&&(l={...l},l.infos=[...l.infos]),"horizontal"===t&&(i?.infos.reverse(),l?.infos.reverse()),{sizeRampElement:i,colorRampElement:l}}


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Qe)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _intl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../intl.js */ "./node_modules/@arcgis/core/intl.js");
/* harmony import */ var _kernel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../kernel.js */ "./node_modules/@arcgis/core/kernel.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../symbols.js */ "./node_modules/@arcgis/core/symbols.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/jsonMap.js */ "./node_modules/@arcgis/core/core/jsonMap.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_timeUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/timeUtils.js */ "./node_modules/@arcgis/core/core/timeUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _layers_effects_EffectView_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../layers/effects/EffectView.js */ "./node_modules/@arcgis/core/layers/effects/EffectView.js");
/* harmony import */ var _layers_effects_jsonUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../layers/effects/jsonUtils.js */ "./node_modules/@arcgis/core/layers/effects/jsonUtils.js");
/* harmony import */ var _layers_support_ExportImageParameters_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../layers/support/ExportImageParameters.js */ "./node_modules/@arcgis/core/layers/support/ExportImageParameters.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../layers/support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _layers_support_rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../layers/support/rasterFormats/pixelRangeUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/pixelRangeUtils.js");
/* harmony import */ var _renderers_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../renderers/support/jsonUtils.js */ "./node_modules/@arcgis/core/renderers/support/jsonUtils.js");
/* harmony import */ var _renderers_support_rendererConversion_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../renderers/support/rendererConversion.js */ "./node_modules/@arcgis/core/renderers/support/rendererConversion.js");
/* harmony import */ var _renderers_visualVariables_support_SizeVariableLegendOptions_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../renderers/visualVariables/support/SizeVariableLegendOptions.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/SizeVariableLegendOptions.js");
/* harmony import */ var _smartMapping_support_utils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../smartMapping/support/utils.js */ "./node_modules/@arcgis/core/smartMapping/support/utils.js");
/* harmony import */ var _symbols_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../symbols/support/cimSymbolUtils.js */ "./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js");
/* harmony import */ var _symbols_support_previewUtils_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../symbols/support/previewUtils.js */ "./node_modules/@arcgis/core/symbols/support/previewUtils.js");
/* harmony import */ var _symbols_support_renderUtils_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../symbols/support/renderUtils.js */ "./node_modules/@arcgis/core/symbols/support/renderUtils.js");
/* harmony import */ var _symbols_support_symbolUtils_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../symbols/support/symbolUtils.js */ "./node_modules/@arcgis/core/symbols/support/symbolUtils.js");
/* harmony import */ var _symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../symbols/support/utils.js */ "./node_modules/@arcgis/core/symbols/support/utils.js");
/* harmony import */ var _clusterUtils_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./clusterUtils.js */ "./node_modules/@arcgis/core/widgets/Legend/support/clusterUtils.js");
/* harmony import */ var _colorRampUtils_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./colorRampUtils.js */ "./node_modules/@arcgis/core/widgets/Legend/support/colorRampUtils.js");
/* harmony import */ var _heatmapRampUtils_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./heatmapRampUtils.js */ "./node_modules/@arcgis/core/widgets/Legend/support/heatmapRampUtils.js");
/* harmony import */ var _relationshipRampUtils_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./relationshipRampUtils.js */ "./node_modules/@arcgis/core/widgets/Legend/support/relationshipRampUtils.js");
/* harmony import */ var _sizeRampUtils_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./sizeRampUtils.js */ "./node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/widgets/Legend/support/utils.js");
/* harmony import */ var _smartMapping_support_utils_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../smartMapping/support/utils.js */ "./node_modules/@arcgis/core/widgets/smartMapping/support/utils.js");
/* harmony import */ var _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../../symbols/SimpleMarkerSymbol.js */ "./node_modules/@arcgis/core/symbols/SimpleMarkerSymbol.js");
/* harmony import */ var _symbols_SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../../symbols/SimpleFillSymbol.js */ "./node_modules/@arcgis/core/symbols/SimpleFillSymbol.js");
/* harmony import */ var _intl_messages_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../../intl/messages.js */ "./node_modules/@arcgis/core/intl/messages.js");
/* harmony import */ var _intl_substitute_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../../intl/substitute.js */ "./node_modules/@arcgis/core/intl/substitute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const ne="https://utility.arcgis.com/sharing/tools/legend",ae="esri.layers.ImageryLayer",oe="esri.layers.ImageryTileLayer",ue="esri.layers.WCSLayer",ce=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,de=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_9__.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),ye=new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_43__["default"]({size:6,outline:{color:[128,128,128,.5],width:.5}}),he=new _symbols_SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_44__["default"]({style:"solid"});function me(e){return"flow"===e.type}function fe(e){return"vector-field"===e.type}function pe(e){return"raster-colormap"===e.type}function ge(e){return"raster-stretch"===e.type}function be(e){return"raster-shaded-relief"===e.type}function Se(e){return"esri.renderers.SimpleRenderer"===e.declaredClass}function _e(e){return"esri.renderers.ClassBreaksRenderer"===e.declaredClass}function we(e){return"esri.renderers.UniqueValueRenderer"===e.declaredClass}function ve(e){return"esri.renderers.HeatmapRenderer"===e.declaredClass}function Le(e){return Ce(e)||Ie(e)||Re(e)||Ee(e)}function Ee(e){return"esri.renderers.PointCloudRGBRenderer"===e.declaredClass}function Ce(e){return"esri.renderers.PointCloudClassBreaksRenderer"===e.declaredClass}function Ie(e){return"esri.renderers.PointCloudStretchRenderer"===e.declaredClass}function Re(e){return"esri.renderers.PointCloudUniqueValueRenderer"===e.declaredClass}function Fe(e){return"esri.renderers.DotDensityRenderer"===e.declaredClass}function Ve(e){return"esri.renderers.PieChartRenderer"===e.declaredClass}function Te(e,t){return Se(e)||_e(e)||we(e)||ve(e)||Fe(e)||Ve(e)?"2d"===t.type||(0,_renderers_support_rendererConversion_js__WEBPACK_IMPORTED_MODULE_28__.isSupportedRenderer3D)(e):ge(e)||pe(e)||be(e)||Ce(e)||Ie(e)||Re(e)||fe(e)||me(e)}function ze(e){return"esri.layers.BuildingSceneLayer"===e.declaredClass}function De(e){return"esri.layers.SubtypeGroupLayer"===e.declaredClass}function xe(e){return"esri.layers.VoxelLayer"===e.declaredClass}function je(e){return"esri.layers.WMSLayer"===e.declaredClass}function Oe(e){return"esri.layers.WMTSLayer"===e.declaredClass}function Pe(e){return"esri.layers.MapImageLayer"===e.declaredClass}function Ae(e){return"esri.layers.TileLayer"===e.declaredClass}function Me(e){return e.declaredClass===ae}function Ue(e){return e.declaredClass===oe}function ke(e){return e.declaredClass===ue}function Be(e){return"stretch-ramp"===e.type}function Ne(e){const t="authoringInfo"in e?e?.authoringInfo:null;return"univariate-color-size"===t?.type}function qe(e){const t="authoringInfo"in e?e?.authoringInfo:null;return"univariate-color-size"===t?.type&&"above-and-below"===t?.univariateTheme}function He(e){return"sublayers"in e}async function $e(e,t){const s=await (0,_intl_messages_js__WEBPACK_IMPORTED_MODULE_45__.fetchMessageBundle)("esri/widgets/Legend/t9n/Legend");return"previewTemplateAriaLabel"!==e||t||(e="previewAriaLabel"),(0,_intl_substitute_js__WEBPACK_IMPORTED_MODULE_46__.substitute)(s[e],{label:t})}const We=new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_43__["default"]({style:"path",path:"M10,5 L5,0 0,5 M5,0 L5,15",size:15,outline:{width:1,color:[85,85,85,1]}});let Ge={},Je=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_6__["default"]{constructor(e){super(e),this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_8__["default"],this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange("ready");this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.on)((()=>this.children),"change",(t=>{const{added:s,removed:l}=t;s.forEach((t=>{const s=`activeLayerInfo-ready-watcher-${t.layer.uid}`;this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>t.ready),e,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.initial),s)})),l.forEach((e=>this.removeHandles(e.layer.uid))),e()}))]),this.keepCacheOnDestroy||(Ge={})}destroy(){this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(Ge=null)}get effectList(){const e=this.layer;let t=null;return"effect"in e&&e.effect&&(t=new _layers_effects_EffectView_js__WEBPACK_IMPORTED_MODULE_21__.EffectView,t.effect=e.effect,t.endTransitions(),t.scale=this.scale),t}get opacity(){const e=this.layer.opacity,t=this.parent?.opacity,s=this.layer.parent,l=s&&"uid"in s?this._getParentLayerOpacity(s):null;return null!=t?t*e:null!=l?l*e:e}get ready(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view?.scale??0}get isScaleDriven(){const e=this.layer;if(null===e)return!1;if("effect"in e&&e.effect&&Array.isArray(e.effect))return!0;if("featureReduction"in e&&e.featureReduction){if("cluster"===e.featureReduction.type)return!0;if("binning"===e.featureReduction.type&&"renderer"in e.featureReduction&&e.featureReduction.renderer)return this._isRendererScaleDriven(e.featureReduction.renderer)}return"renderer"in e&&e.renderer?this._isRendererScaleDriven(e.renderer):this._isLayerScaleDriven(this.layer)}get version(){return this._get("version")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange("ready");const t=Array.from(e,(e=>{if((0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_25__.isFeatureLayer)(e))return this._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet?.features.length){const t=e.layerDefinition,s=t?.drawingInfo,l=s&&(0,_renderers_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_27__.fromJSON)(s.renderer),i=de.read(t.geometryType);return l?this._getRendererLegendElements(l,{title:e.name,geometryType:i}):(_core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).warn("drawingInfo not available!"),null)}return null}));try{const e=[],s=await Promise.allSettled(t);for(const t of s)if("fulfilled"===t.status)for(const s of t.value??[])e.push(s);this.legendElements=e,this.notifyChange("ready")}catch(s){_core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).warn("error while building legend for layer!",s)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange("ready")}catch(t){_core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).warn("error while building legend for layer!",t)}}async buildLegendElementsForFeatureReduction(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getLegendElementsForFeatureReduction(e):[],this.notifyChange("ready")}catch(t){_core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).warn("error while building legend for layer!",t)}}async buildLegendElementsForTools(){const e=this.layer;if(xe(e))this._constructLegendElementsForVoxellayer();else if(Oe(e))this._constructLegendElementsForWMTSlayer();else if(je(e))await this._constructLegendElementsForWMSSublayers();else if(ze(e))await this._constructLegendElementsForBuildingSceneLayer();else if(Pe(e)||Ae(e)||De(e))await this._constructLegendElementsForSublayers();else{this.removeHandles("imageryLayers-watcher");let t="default";if(Me(e)){const s=e;t=(s?.rasterFunction?.functionName||"default")+"_"+(e.bandIds?.length?e.bandIds.join(""):"###")}await this._getLegendLayers(`${e.uid}-${t}`).then((async t=>{this.legendElements=[],this.notifyChange("ready");const s=t.map((async t=>{if(Me(e)||Ue(e)){const t=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>["renderingRule"in e&&e.rasterFunction,e.bandIds]),(()=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_11__.debounce)((async()=>{Ge.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()}))()));this.addHandles(t,"imageryLayers-watcher")}const s=this._generateSymbolTableElementForLegendLayer(t);s&&s.infos.length&&(Me(e)&&(s.title=e.title),this.legendElements.push(s)),this.notifyChange("ready")}));await Promise.allSettled(s)})).catch((e=>{_core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).warn("Request to server for legend has failed!",e)}))}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,s=t&&"createQuery"in t&&"queryFeatureCount"in t;if(!s&&!(t&&"createQuery"in e&&"queryFeatureCount"in e))return!0;await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.whenOnce)((()=>!t.updating));const l=s?"createQuery"in t&&t.createQuery():"createQuery"in e&&e.createQuery();if(!l)return!0;l.geometry=this.view.extent;return 0!==(s?"queryFeatureCount"in t&&await t.queryFeatureCount(l):"queryFeatureCount"in e&&await e.queryFeatureCount(l))}_getParentLayerOpacity(e){let t=1;const s=e.parent;return s&&"uid"in s&&(t=this._getParentLayerOpacity(s)),e.opacity*t}_isGroupActive(){const e=this.children;return!!e.length&&e.some((e=>e.ready))}_isRendererScaleDriven(e){if("dot-density"===e.type)return!0;const t="valueExpression"in e?e.valueExpression:null;if(ce.test(t))return!0;const s="visualVariables"in e?e.visualVariables:null;return!!s?.some((e=>this._isScaleDrivenSizeVariable(e)))||this._hasScaleDrivenSymbols(e)}_hasScaleDrivenSymbols(e){switch(e.type){case"simple":return this._isScaleDrivenSymbol(e.symbol);case"class-breaks":return this._isScaleDrivenSymbol(e.defaultSymbol)||e.classBreakInfos.some((e=>this._isScaleDrivenSymbol(e.symbol)));case"unique-value":return this._isScaleDrivenSymbol(e.defaultSymbol)||!!e.uniqueValueInfos?.some((e=>this._isScaleDrivenSymbol(e.symbol)))}return!1}_isScaleDrivenSymbol(e){if("cim"===e?.type){const{primitiveOverrides:t,minScale:s,maxScale:l}=e.data,i=t?.some((e=>/\$view\.scale/.test(e.valueExpressionInfo?.expression||"")))??!1;return null!=s||null!=l||i}return!1}_isScaleDrivenSizeVariable(e){if(e&&"size"!==e.type)return!1;const t=e,s=t.minSize,l=t.maxSize;return!("object"!=typeof s||!s||!this._isScaleDrivenSizeVariable(s))||(!("object"!=typeof l||!l||!this._isScaleDrivenSizeVariable(l))||(!!t.expression||ce.test(t.valueExpression)))}_isLayerScaleDriven(e){if("minScale"in e&&e.minScale>0||"maxScale"in e&&e.maxScale>0)return!0;if("sublayers"in e&&e.sublayers)return e.sublayers.some((e=>this._isLayerScaleDriven(e)));const t=e.parent;if(!1===e.loaded&&t&&Pe(t)&&"source"in e&&e.source&&"map-layer"===e.source.type)for(const s of t.sourceJSON.layers??[])if(s.id===e.source.mapLayerId&&(s.minScale>0||s.maxScale>0))return!0;return!1}async _constructLegendElementsForVoxellayer(){this.legendElements=[],this.removeHandles("voxel-style-watcher"),this.removeHandles("voxel-current-variable");const e=this.layer;this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>e.currentVariableId),(()=>this._constructLegendElementsForVoxellayer())),"voxel-current-variable"),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>e.getVariableStyles()),(()=>this._constructLegendElementsForVoxellayer())),"voxel-style-watcher");const t=e.getVariableStyle(null),s=[];if(t)if(t.uniqueValues?.length){const e=[];t.uniqueValues.forEach((t=>{t.enabled&&e.push({label:t.label||`${t.value}`,value:t.value,symbol:new _symbols_SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_44__["default"]({color:t.color,outline:null})})})),e.length&&s.push({type:"symbol-table",title:t.label,infos:e})}else if(t.transferFunction){const{colorStops:e,stretchRange:l}=t.transferFunction,i=e.toArray().reverse(),r=l.map(((e,t)=>`${0===t?_utils_js__WEBPACK_IMPORTED_MODULE_41__.specialCharsLessThan:_utils_js__WEBPACK_IMPORTED_MODULE_41__.specialCharsGreaterThan} ${(0,_smartMapping_support_utils_js__WEBPACK_IMPORTED_MODULE_42__.formatNumberLabel)(e)}`)).reverse(),n=i.map((e=>({color:e.color,value:null,label:null})));n[0].label=r[0],n[n.length-1].label=r[1],s.push({type:"color-ramp",title:t.label,infos:n,preview:(0,_symbols_support_symbolUtils_js__WEBPACK_IMPORTED_MODULE_34__.renderColorRampPreviewHTML)(i.map((e=>e.color)),{ariaLabel:await $e("previewColorRampAriaLabel")})})}const l=e.opacity,i=s.reduce(((e,t)=>[...e,...this._getAllInfos(t)]),[]).filter((e=>!!e?.symbol)).map((e=>this._getSymbolPreview(e,l)));await Promise.allSettled(i),this.legendElements=s,this.notifyChange("ready")}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this.removeHandles("wmts-activeLayer-watcher");const e=this.layer.activeLayer;if(this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>{const{layer:e}=this;return e&&"activeLayer"in e&&e.activeLayer}),(()=>this._constructLegendElementsForWMTSlayer())),"wmts-activeLayer-watcher"),e.styleId&&e.styles){let t=null;e.styles.some((s=>e.styleId===s.id&&(t=s.legendUrl,!0))),t&&(this.legendElements=[{type:"symbol-table",title:e.title,infos:[{src:t,opacity:this.opacity}]}])}this.notifyChange("ready")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this.removeHandles("wms-sublayers-watcher");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>{const{layer:e}=this;return e&&"sublayers"in e&&e.sublayers}),(()=>this._constructLegendElementsForWMSSublayers())),"wms-sublayers-watcher"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange("ready")}async _generateLegendElementsForWMSSublayers(e,t){const s=[];this.addHandles(e.on("change",(()=>this._constructLegendElementsForWMSSublayers())),"wms-sublayers-watcher");const l=e.toArray();for(const i of l){const e=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>[i.title,i.visible,i.legendEnabled]),(()=>this._constructLegendElementsForWMSSublayers()));if(this.addHandles(e,"wms-sublayers-watcher"),!this.respectLayerVisibility||i.visible&&i.legendEnabled){const e=await this._generateSymbolTableElementForWMSSublayer(i,t);e?.infos.length&&s.unshift(e)}}return s}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const s=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter((e=>e));return{type:"symbol-table",title:e.title,infos:s}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){let s=e.legendUrl;if(!s)return;const i={type:"symbol-table",title:e.title||e.name||String(e.id??""),infos:[]};t&&(s=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_15__.addQueryParameters)(s,t));let r=null;const n=e.layer?.opacity;try{r=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(s,{responseType:"image"})).data,r&&(r.style.opacity=n)}catch{}return i.infos.push({src:s,preview:r,opacity:n}),i}_getLegendLayers(e,t){const s=Ge&&Ge[e];return s?Promise.resolve(s):this._legendRequest(t).then((t=>{const s=t.layers;return Ge[e]=s,s}))}_legendRequest(e){const t=this.layer;let s={f:"json",dynamicLayers:e};if(Me(t)){const e=t.exportImageServiceParameters.rasterFunction;if(e&&(s.renderingRule=JSON.stringify(e.functionDefinition?.toJSON()||e.toJSON())),t.bandIds&&(s.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){const{raster:e,viewId:l,customParameters:i}=t;s={raster:e,viewId:l,...s,...i}}}let i=t.url.replace(/(\/)+$/,"");if("version"in t&&+t.version>=10.01){const e=i.indexOf("?");e>-1?i=i.substring(0,e)+"/legend"+i.substring(e):i+="/legend"}else{const e=i.toLowerCase().indexOf("/rest/"),t=i.substring(0,e)+i.substring(e+5,i.length);i=ne+"?soapUrl="+encodeURI(t)+"&returnbytes=true"}return (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(i,{query:s}).then((e=>e.data))}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this.removeHandles("sublayers-watcher");const e=this.layer;this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>e.sublayers),(()=>this._constructLegendElementsForBuildingSceneLayer())),"sublayers-watcher");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange("ready")}catch(t){_core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).warn("Request to server for legend has failed!",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let s=[];this.addHandles(e.on("change",(()=>this._constructLegendElementsForBuildingSceneLayer())),"sublayers-watcher");const l=e.toArray();for(const i of l){const e=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>["renderer"in i&&i.renderer,i.opacity,i.title,i.visible]),(()=>this._constructLegendElementsForBuildingSceneLayer()));if(this.addHandles(e,"sublayers-watcher"),!this.respectLayerVisibility||i.visible){const e=null!=i?.opacity?i.opacity:null,l=null!=e?e*t:t;if("building-group"===i.type){const e={type:"symbol-table",title:i.title,infos:[]},t=await this._generateLegendElementsForBuildingSublayers(i.sublayers,l);e.infos.push(...t),s=[e,...s]}else if(i.renderer){s=[...await this._getRendererLegendElements(i.renderer,{title:i.title,opacity:l,sublayer:i}),...s]}}}return s.filter((e=>!!e&&(!("infos"in e)||!e.infos||e.infos.length>0)))}async _constructLegendElementsForSublayers(){this.legendElements=[],this.removeHandles("sublayers-watcher");const e=this.layer;if(Pe(e)||Ae(e)||De(e)){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>e.sublayers),(()=>this._constructLegendElementsForSublayers)),"sublayers-watcher");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange("ready")}catch(t){_core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).warn("Request to server for legend has failed!",t)}}}async _generateLegendElementsForSublayers(e,t,s){const l=this.layer;let i=[];this.addHandles(e.on("change",(()=>this._constructLegendElementsForSublayers())),"sublayers-watcher");let n=e.toArray();!s&&this.sublayerIds&&this.sublayerIds.length&&(n=De(l)?this.sublayerIds.map((e=>l.findSublayerForSubtypeCode(e))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__.isSome):this.sublayerIds.map((e=>l.findSublayerById(e))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__.isSome));for(const r of n){const e=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_12__.watch)((()=>[r.renderer,r.opacity,r.title,r.visible,r.legendEnabled]),(()=>this._constructLegendElementsForSublayers()));if(this.addHandles(e,"sublayers-watcher"),!this.respectLayerVisibility||r.visible&&r.legendEnabled&&this._isSublayerInScale(r)){const e=null!=r?.opacity?r.opacity:null,l=null!=e?e*t:t,n=!He(r)||r.originIdOf("renderer")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_20__.OriginId.SERVICE&&!r.sublayers;if(r.renderer&&n){await r.load();i=[...await this._getRendererLegendElements(r.renderer,{title:r.title,opacity:l,sublayer:r}),...i]}else if(He(r)){const e=await this._generateSymbolTableElementForSublayer(r,l,s);e&&i.unshift(e)}}}return i.filter((e=>!!e&&(!("infos"in e)||!e.infos||e.infos.length>0)))}async _generateSymbolTableElementForSublayer(e,t,s){if(!s){s=new Map;const t=this.layer,l=e.source;let i=null;if(!(!l||"map-layer"===l.type&&l.mapLayerId===e.id&&(!l.gdbVersion||l.gdbVersion===("gdbVersion"in t&&t.gdbVersion)))||e.originIdOf("renderer")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_20__.OriginId.SERVICE||e.originIdOf("labelingInfo")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_20__.OriginId.SERVICE||e.originIdOf("labelsVisible")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_20__.OriginId.SERVICE){const e=new _layers_support_ExportImageParameters_js__WEBPACK_IMPORTED_MODULE_23__.ExportImageParameters({layer:this.layer});i=e.hasDynamicLayers?e.dynamicLayers:null,e.destroy()}const r=i||`${t.uid}-default`;(await this._getLegendLayers(r,i)).forEach((e=>s.set(e.layerId,e)))}const l=s.get(e.id);if((!l||l?.subLayerIds&&l.defaultVisibility)&&e.sublayers){const l=await this._generateLegendElementsForSublayers(e.sublayers,t,s);return{type:"symbol-table",title:e.title,infos:l}}return this._generateSymbolTableElementForLegendLayer(l,e,t)}_generateSymbolTableElementForLegendLayer(e,t,s){if(!e?.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const l=t?.renderer;let i=t?.title||e.layerName;if(l&&(!t||t?.originIdOf("renderer")>_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_20__.OriginId.SERVICE)){const e=t?.title||this._getRendererTitle(l,t);e&&(i&&"string"!=typeof e&&"title"in e&&(e.title=i),i=e)}const r={type:"symbol-table",title:i,legendType:e.legendType||null,infos:[]},n=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return e.legendGroups&&e.legendGroups.length>0?e.legendGroups.forEach((t=>{const l={type:"symbol-table",title:t.heading,legendType:e.legendType||null,infos:this._generateSymbolTableElementInfosForLegendLayer(n.filter((e=>e.groupId===t.id)),e.layerId,s)};l.infos?.length>0&&r.infos.push(l)})):r.infos=this._generateSymbolTableElementInfosForLegendLayer(n,e.layerId,s),r.infos.length>0?r:null}_generateSymbolTableElementInfosForLegendLayer(e,t,l){return e.map((e=>{let i=e.url;if(e.imageData&&e.imageData.length>0)i=`data:image/png;base64,${e.imageData}`;else{if(0===i.indexOf("http"))return null;i=(0,_kernel_js__WEBPACK_IMPORTED_MODULE_3__.addTokenParameter)(`${this.layer.url}/${t}/images/${i}`)}return{label:e.label,src:i,opacity:l??this.opacity,width:e.width,height:e.height}})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__.isSome)}_isSublayerInScale(e){const t=e.minScale||0,s=e.maxScale||0;return!(t>0&&t<this.scale||s>this.scale)}_isLegendLayerInScale(e,t){const s=t||this.layer;let l=null,i=null,r=!0;return!s.minScale&&0!==s.minScale||!s.maxScale&&0!==s.maxScale?(0===e.minScale&&s.tileInfo&&(l=s.tileInfo.lods[0].scale),0===e.maxScale&&s.tileInfo&&(i=s.tileInfo.lods[s.tileInfo.lods.length-1].scale)):(l=Math.min(s.minScale,e.minScale)||s.minScale||e.minScale,i=Math.max(s.maxScale,e.maxScale)),(l>0&&l<this.scale||i>this.scale)&&(r=!1),r}_sanitizeLegendForSublayer(e,t){if("version"in this.layer&&+this.layer.version<10.1||0===e.length)return e;const s=t.renderer,l=e.some((e=>e.values));let i=0,r=null;return l&&e.some(((e,t)=>(e.values||(i=t,r=e,r.label||(r.label="others")),null!=r))),s?"unique-value"===s.type?r&&(e.splice(i,1),e.push(r)):"class-breaks"===s.type&&(r&&e.splice(i,1),e.reverse(),r&&e.push(r)):r&&(e.splice(i,1),e.push(r)),e}async _getRendererLegendElements(e,t={}){if(!Te(e,this.view))return _core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).warn(`Renderer of type '${e.type}' not supported!`),[];if(Le(e))return this._constructPointCloudRendererLegendElements(e,t);if(Fe(e))return this._constructDotDensityRendererLegendElements(e);const s=await this._loadRenderer(e);return Ve(s)?this._constructPieChartRendererLegendElements(s):this._constructRendererLegendElements(s,t)}async _getLegendElementsForFeatureReduction(e){let t=null;return"binning"===e.type?t=e.renderer:"cluster"===e.type&&(t=this._getClusterRenderer(e)),t?this._getRendererLegendElements(t):[]}_getPointCloudRendererTitle(e){return(e.legendOptions?.title||e.field)??""}async _constructPointCloudRendererLegendElements(e,t={}){const s=t.title,l=[];let i=null,r=null;if(Ce(e))i={type:"symbol-table",title:s||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((e=>{i.infos.unshift({label:e.label||e.minValue+" - "+e.maxValue,value:[e.minValue,e.maxValue],symbol:this._getAppliedCloneSymbol(ye,e.color)})}));else if(Ie(e)){const t=e.stops;let l=null;if(t?.length&&(1===t.length&&(l=t[0].color),!l)){const e=t[0].value,s=t[t.length-1].value;if(null!=e&&null!=s){l=(0,_colorRampUtils_js__WEBPACK_IMPORTED_MODULE_37__.getColorFromPointCloudStops)(e+(s-e)/2,t)}}i={type:"symbol-table",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(ye,l||ye.color)}]};const n=(0,_colorRampUtils_js__WEBPACK_IMPORTED_MODULE_37__.getRampStopsForPointCloud)(e.stops??[])??[];r={type:"color-ramp",title:s||this._getPointCloudRendererTitle(e),infos:n,preview:(0,_symbols_support_symbolUtils_js__WEBPACK_IMPORTED_MODULE_34__.renderColorRampPreviewHTML)(n.map((e=>e.color)),{ariaLabel:await $e("previewColorRampAriaLabel")})}}else Re(e)&&(i={type:"symbol-table",title:s||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos?.forEach((e=>{i.infos.push({label:e.label||e.values.join(", "),value:e.values.join(", "),symbol:this._getAppliedCloneSymbol(ye,e.color)})})));i&&i.infos.length&&l.push(i),r&&r.infos.length&&l.push(r);const n=l.reduce(((e,t)=>[...e,...t.infos??[]]),[]).filter((e=>!!e.symbol)).map((t=>this._getSymbolPreview(t,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})));return await Promise.allSettled(n),l}async _getElementInfoForDotDensity(e,t){const{color:s,label:l,valueExpressionTitle:i}=t,{backgroundColor:r,outline:n,dotSize:a}=e,o=this.effectList,u=o?.effects.map((e=>e.toJSON())),c=(0,_layers_effects_jsonUtils_js__WEBPACK_IMPORTED_MODULE_22__.effectFunctionsFromJSON)(u),d=await $e("previewTemplateAriaLabel",l||i),y=a+"-"+s+"-"+r+"-"+(n&&JSON.stringify(n.toJSON()))+"-"+c,h=this._dotDensityUrlCache,m=h.has(y)?h.get(y):(0,_symbols_support_symbolUtils_js__WEBPACK_IMPORTED_MODULE_34__.renderDotDensityPreviewHTML)(e,s,{ariaLabel:d});h.set(y,m);const f={shape:{type:"image",x:0,y:0,width:m.width,height:m.height,src:m.src},fill:null,stroke:null,offset:[0,0]},p=(0,_symbols_support_renderUtils_js__WEBPACK_IMPORTED_MODULE_33__.renderSymbol)([[f]],[m.width,m.height],{effectView:this.effectList,ariaLabel:d});return{opacity:1,src:m.src,preview:p,width:m.width,height:m.height}}async _constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),s=e.legendOptions?.unit,l={type:"symbol-table",title:{value:t&&Math.round(t),unit:s||""},infos:[]};for(const i of e.attributes){const t=await this._getElementInfoForDotDensity(e,i);t.label=i.label||i.valueExpressionTitle||i.field,l.infos.push(t)}return[l]}async _constructPieChartRendererLegendElements(e){const t=this.layer.opacity,s=[];let l=null;const i=e.outline;e.attributes.forEach((e=>{const t=new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_43__["default"]({color:e.color,outline:i}),l=e.label||e.valueExpressionTitle||e.field;s.push({label:l,symbol:t})}));const r=s.length?[...s]:[];if(e.othersCategory?.color&&0!==e.othersCategory?.threshold){const t=new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_43__["default"]({color:e.othersCategory.color,outline:i});l=e.othersCategory.label||"Other",s.push({label:l,symbol:t})}if(e.defaultColor?.a){const t=new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_43__["default"]({color:e.defaultColor,outline:i});s.push({label:e.defaultLabel,symbol:t})}const n=await this._getVisualVariableLegendElements(e,this.layer)||[];if(s.length){n.unshift({type:"symbol-table",title:null,infos:s});const t=r.filter((e=>e.label!==l)).map((e=>e.symbol.color)).filter(Boolean),a=(0,_symbols_support_symbolUtils_js__WEBPACK_IMPORTED_MODULE_34__.renderPieChartPreviewHTML)(t,{holePercentage:e.holePercentage,backgroundColor:e.backgroundFillSymbol?.color,effectList:this.effectList,outline:i,ariaLabel:await $e("previewPieChartAriaLabel")});n.unshift({type:"pie-chart-ramp",title:this._getRendererTitle(e,this.layer),infos:s,preview:a})}const a=n.reduce(((e,t)=>[...e,...this._getAllInfos(t)]),[]).filter((e=>!!e?.symbol&&!e?.preview)).map((e=>this._getSymbolPreview(e,t,{effectList:this.effectList})));return await Promise.allSettled(a),n}async _constructRendererLegendElements(e,t={}){const{title:s,sublayer:l}=t,i=l||this.layer;this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const r=await this._getVisualVariableLegendElements(e,i)||[],n={type:"symbol-table",title:s||this._getRendererTitle(e,i),infos:[]};let a=null,o=!1;const u=new Set;if(me(e)&&!this._hasSizeRamp){const t=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_41__.getSymbolForFlowRenderer)(e);n.infos.push({label:null,symbol:t})}else if(Ne(e)){let t=s;const l=qe(e)?"univariate-above-and-below-ramp":"univariate-color-size-ramp",i=r.findIndex((e=>"color-ramp"===e.type)),n=-1!==i?r.splice(i,1)[0]:null,a=r.findIndex((e=>"size-ramp"===e.type)),o=-1!==a?r.splice(a,1)[0]:null,u=[];n&&(t=n.title,u.push(n)),o&&(t=o.title,u.push(o)),u.length>0&&r.push({type:l,title:t,infos:u})}else if(ve(e)){const t=(0,_heatmapRampUtils_js__WEBPACK_IMPORTED_MODULE_38__.getHeatmapRampStops)(e);r.push({type:"heatmap-ramp",title:s||this._getRendererTitle(e,i),infos:t,preview:(0,_symbols_support_symbolUtils_js__WEBPACK_IMPORTED_MODULE_34__.renderColorRampPreviewHTML)(t.map((e=>e.color)),{effectList:this.effectList,ariaLabel:await $e("previewColorRampAriaLabel")})})}else if(we(e)){const t=e&&e.authoringInfo;if(t&&"relationship"===t.type){const{numClasses:s,field1:l,field2:a}=t,o=t.focus;if(s&&l&&a){const t=[l,a];let c=(0,_relationshipRampUtils_js__WEBPACK_IMPORTED_MODULE_39__.getRotationAngleForFocus)(o)||0;for(const e of t){const{field:t,normalizationField:s,label:l}=e,r=l||{field:this._getFieldAlias(t,i),normField:s&&this._getFieldAlias(s,i)},a=We.clone();a.angle=c,n.infos.push({label:r,symbol:a}),u.add(a),c+=90}const d=(0,_relationshipRampUtils_js__WEBPACK_IMPORTED_MODULE_39__.getRelationshipRampElement)({focus:o,numClasses:s,infos:e.uniqueValueInfos??[]});r.unshift(d)}}else if(Me(this.layer)||Ue(this.layer))e.uniqueValueInfos?.forEach((e=>{e.symbol&&n.infos.push({label:e.label||e.value,value:e.value,symbol:e.symbol})}));else{const{field:t,field2:l,field3:r,fieldDelimiter:a,valueExpression:u,defaultSymbol:c}=e,d=!(!t&&!u||!l&&!r),y=[];if(e.uniqueValueGroups?.forEach((e=>{const s={type:"symbol-table",title:e.heading,infos:[]};e.classes?.forEach((e=>{const{symbol:n,values:o}=e;if(n){const c=[],y=[];for(const e of o??[]){const{value:s,value2:n,value3:o}=e,h=[],m=[];(t||u)&&(h.push(s),m.push(this._getDomainName(t,s,i))),l&&(h.push(n),m.push(this._getDomainName(l,n,i))),r&&(h.push(o),m.push(this._getDomainName(r,o,i))),c.push(d?h.join(a||""):h[0]),y.push(m.join(" - "))}const h=c.join(", ");let m=e.label;if(!m){const e=y.filter(Boolean);m=e.length?e.join(", "):h}s.infos.push({label:m,value:h,symbol:n})}})),s.infos.length&&y.push(s)})),y.length){const t=y[0];1===y.length&&"title"in t&&!t.title?n.infos.push(...t.infos??[]):(c&&(y.push({type:"symbol-table",infos:[{label:e.defaultLabel||"others",symbol:c}]}),o=!0),n.infos.push(...y)),s||e.legendOptions?.title||e.valueExpressionTitle||(n.title=null)}}e.defaultSymbol&&!o&&(n.infos.push({label:e.defaultLabel||"others",symbol:e.defaultSymbol}),o=!0)}else if(_e(e)){a=this._isUnclassedRenderer(e);(!a||!this._hasSizeRamp)&&(e.classBreakInfos.forEach((e=>{e.symbol&&n.infos.unshift({label:e.label||(a?null:e.minValue+" - "+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),a&&(n.title=null),this._updateInfosforClassedSizeRenderer(e,n.infos)),e.defaultSymbol&&!a&&(n.infos.push({label:e.defaultLabel||"others",symbol:e.defaultSymbol}),o=!0)}else if(ge(e))if(Ue(this.layer)||ke(this.layer)){const t=await this._constructTileImageryStretchRendererElements(e);Be(t)?r.push(t):n.infos=t}else{const t=this.layer;let s,l;if(e.statistics?.length){const t=e.statistics[0];(0,_utils_js__WEBPACK_IMPORTED_MODULE_41__.isRasterBandStatistics)(t)?(s=t.min,l=t.max):[s,l]=t}let i=[],a=t.serviceRasterInfo;if(t.rasterFunction)try{a=await t.generateRasterInfo(t.rasterFunction)}catch{}const o=(0,_layers_support_rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_26__.getPixelValueRange)(a.pixelType);if(1===a.bandCount){const i=t.bandIds?.[0]||0;s=null!=s?s:a.statistics?a.statistics[i].min:o[0],l=null!=l?l:a.statistics?a.statistics[i].max:o[1],s||l?r.push(await this._getStretchLegendElements(e,{min:s,max:l})):this._getServerSideLegend()}else if(t.bandIds&&1===t.bandIds.length)s=null!=s?s:a.statistics?a.statistics[t.bandIds[0]].min:o[0],l=null!=l?l:a.statistics?a.statistics[t.bandIds[0]].max:o[1],s||l?r.push(await this._getStretchLegendElements(e,{min:s,max:l})):this._getServerSideLegend();else if(a.bandCount>=3){const{bandInfos:e}=a,{bandIds:s}=t;e.length>=a.bandCount?3===s?.length?(i=s.map((t=>e[t].name)),n.infos=this._createSymbolTableElementMultiBand(i)):"lerc"===t.format?(i=[0,1,2].map((t=>e[t].name)),n.infos=this._createSymbolTableElementMultiBand(i)):this._getServerSideLegend():"lerc"===t.format?(i=["band1","band2","band3"],n.infos=this._createSymbolTableElementMultiBand(i)):this._getServerSideLegend()}else this._getServerSideLegend()}else if(pe(e))e.colormapInfos.forEach((e=>{n.infos.push({label:e.label,value:e.value,symbol:this._getAppliedCloneSymbol(he,e.color)})}));else if(Se(e)){let s=e.symbol;switch(t.geometryType){case"point":s="pointSymbol"in i?i.pointSymbol:null;break;case"polyline":s="lineSymbol"in i?i.lineSymbol:null;break;case"polygon":s="polygonSymbol"in i?i.polygonSymbol:null}const l=this._hasClusterSizeVariable&&this._getClusterSymbol()||!this._hasSizeRamp;e.symbol&&l&&n.infos.push({label:e.label,symbol:s})}else if(fe(e)){e.outputUnit&&(this.title="("+e.toJSON().outputUnit+")"),n.title=e.attributeField;const t=e.getClassBreakInfos();t?.length?t.forEach((e=>{n.infos.push({label:e.minValue+" - "+e.maxValue,symbol:e.symbol})})):n.infos.push({label:e.attributeField,symbol:e.getDefaultSymbol()})}else be(e)&&r.push(await this._getStretchLegendElements(e,{min:0,max:255}));const c=e.defaultSymbol;!c||o||Se(e)||a&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||r.push({type:"symbol-table",infos:[{label:e.defaultLabel||"others",symbol:c}]}),n.infos.length&&r.unshift(n);const d=null==t.opacity?this.opacity:t.opacity,y=this._isTallSymbol("visualVariables"in e?e.visualVariables:null),h=Me(this.layer)||Ue(this.layer),m=r.reduce(((e,t)=>[...e,...this._getAllInfos(t)]),[]).filter((e=>!!e?.symbol)).filter((e=>{if("cim"===e.symbol.type){const{minScale:t,maxScale:s}=e.symbol.data;if(t&&t<this.scale||s&&s>this.scale)return!1}return!0})).map((e=>this._getSymbolPreview(e,d,{isDefault:e.symbol===c,applyScaleDrivenSize:!u.has(e.symbol),symbolConfig:{isTall:y,isSquareFill:h},effectList:u.has(e.symbol)?null:this.effectList})));return e=null,await Promise.allSettled(m),r}_getServerSideLegend(){setTimeout((()=>this.buildLegendElementsForTools()),0)}_getAllInfos(e){const t=e?.infos;return t?t.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]):[e]}async _constructTileImageryStretchRendererElements(e){const t=this.layer,s=t.symbolizer.rasterInfo??t.raster.rasterInfo;let l,i;const r=e?.statistics?.length?e.statistics:s?.statistics;if(r){const e=r[0];(0,_utils_js__WEBPACK_IMPORTED_MODULE_41__.isRasterBandStatistics)(e)?(l=e.min,i=e.max):[l,i]=e}else{const e=(0,_layers_support_rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_26__.getPixelValueRange)(s.pixelType);l=e[0],i=e[1]}if(t.hasStandardTime()&&(l=t.getStandardTimeValue(l),i=t.getStandardTimeValue(i)),1===s.bandCount||1===t.bandIds?.length)return this._getStretchLegendElements(e,{min:l,max:i});const n=(t?.bandIds?.length?t.bandIds:Array.from(Array(Math.min(s.bandCount,3)).keys())).map((e=>s.bandInfos[e].name));return n.length<3?n.push(n[1]):n.length>3&&n.splice(3),this._createSymbolTableElementMultiBand(n)}async _getStretchLegendElements(e,t){const s=e.colorRamp,l=(0,_colorRampUtils_js__WEBPACK_IMPORTED_MODULE_37__.getStrectchRampStops)(s,t);return{type:"stretch-ramp",title:"",infos:l,preview:(0,_symbols_support_symbolUtils_js__WEBPACK_IMPORTED_MODULE_34__.renderColorRampPreviewHTML)(l.map((e=>e.color)),{ariaLabel:await $e("previewColorRampAriaLabel")})}}_getClusterSymbol(){const e=this.layer,t="featureReduction"in e&&e.featureReduction,s=t&&"symbol"in t&&t.renderer;return s&&!0!==s?.authoringInfo?.isAutoGenerated?null:t&&"symbol"in t?t.symbol:null}async _getSizeLegendElement(e,t,s,l){return{type:"size-ramp",title:this._hasClusterSizeVariable?this._getClusterTitle(t):e,infos:await (0,_sizeRampUtils_js__WEBPACK_IMPORTED_MODULE_40__.getRampStops)(s,t,await (0,_utils_js__WEBPACK_IMPORTED_MODULE_41__.getMedianColor)(s),this.scale,this.view,l,this._hasClusterSizeVariable?this._getClusterSymbol():null)}}_createSymbolTableElementMultiBand(e){const t=[],s=["red","green","blue"];return e.forEach(((e,l)=>{t.push({label:{colorName:s[l],bandName:e},src:_utils_js__WEBPACK_IMPORTED_MODULE_41__.rgbImgSource[l],opacity:this.opacity??1})})),t}_updateInfosforClassedSizeRenderer(e,t){const s=e.authoringInfo&&"class-breaks-size"===e.authoringInfo.type,l=e.classBreakInfos.some((e=>(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_35__.isVolumetricSymbol)(e.symbol)));if(s&&l){const s=_sizeRampUtils_js__WEBPACK_IMPORTED_MODULE_40__.realWorldMaxSize,l=_sizeRampUtils_js__WEBPACK_IMPORTED_MODULE_40__.realWorldMinSize,i=e.classBreakInfos.length,r=(s-l)/(i>1?i-1:i);t.forEach(((e,t)=>{e.size=s-r*t}))}}_isTallSymbol(e){let t=!1,s=!1;if(e)for(let l=0;l<e.length&&(!t||!s);l++){const i=e[l];"size"===i.type&&("height"===i.axis&&(t=!0),"width-and-depth"===i.axis&&(s=!0))}return t&&s}async _getSymbolPreview(e,t,s){let l=!s?.isDefault&&null==e.size&&this._hasSizeRamp?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__.px2pt)(_symbols_support_previewUtils_js__WEBPACK_IMPORTED_MODULE_32__.SymbolSizeDefaults.size):e.size;if(this._scaleDrivenSizeVariable&&s?.applyScaleDrivenSize){const{getSize:t}=await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../renderers/visualVariables/support/visualVariableUtils.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"));l=t(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:"simple-marker"===e.symbol.type?e.symbol.style:null})}const i=!s?.isDefault&&this._hasSizeRamp||!(!this._scaleDrivenSizeVariable||!s?.applyScaleDrivenSize);return (0,_symbols_support_symbolUtils_js__WEBPACK_IMPORTED_MODULE_34__.renderPreviewHTML)(e.symbol,{size:l,opacity:t,scale:!1,symbolConfig:s?.symbolConfig,effectView:s?.effectList,style:"legend",cimOptions:{allowScalingUp:i,viewParams:this.isScaleDriven?{viewingMode:"2d"===this.view?.type?"map":this.view?.viewingMode,scale:this.view?.scale}:null},ariaLabel:e.label&&"string"!=typeof e.label?null:await $e("previewTemplateAriaLabel",e.label)}).then((t=>(e.preview=t,e))).catch((()=>(e.preview=null,e)))}_getClusterRenderer(e){this._hasClusterSizeVariable=!1;const t="renderer"in this.layer?this.layer.renderer:null,s=e.renderer?.clone()||t?.clone(),l=(0,_clusterUtils_js__WEBPACK_IMPORTED_MODULE_36__.getClusterSizeVariable)(this.layerView._effectiveRenderer,this.view);if(l&&null!=s&&"visualVariables"in s){const t=s.visualVariables?.some((e=>"size"===e.type&&"outline"!==e.target&&!ce.test(e.valueExpression)));if(!t){if("clusterMinSize"in e&&"clusterMaxSize"in e){const{clusterMinSize:t,clusterMaxSize:s}=e;l.legendOptions=new _renderers_visualVariables_support_SizeVariableLegendOptions_js__WEBPACK_IMPORTED_MODULE_29__["default"]({showLegend:t!==s})}const t=s.visualVariables||[];s.visualVariables=t.concat([l]),this._hasClusterSizeVariable=!0}}return s}async _loadRenderer(e){const t=[],s=e.clone(),l=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_41__.getMedianColor)(s);if(_e(s)||we(s)){const e=(s.classBreakInfos||s.uniqueValueInfos).map((e=>this._fetchSymbol(e.symbol,l).then((t=>{e.symbol=t})).catch((()=>{e.symbol=null}))));Array.prototype.push.apply(t,e)}return t.push(this._fetchSymbol(s.symbol||s.defaultSymbol,s.defaultSymbol?null:l).then((e=>{this._applySymbolToRenderer(s,e,Se(s))})).catch((()=>{this._applySymbolToRenderer(s,null,Se(s))}))),await Promise.allSettled(t),s}_applySymbolToRenderer(e,t,s){s?e.symbol=t:e.defaultSymbol=t}async _fetchSymbol(e,t){if(!e)throw new Error;if("web-style"===e.type){const s=this._webStyleSymbolCache;try{const l=await("2d"===this.view.type?e.fetchCIMSymbol({cache:s}):e.fetchSymbol({cache:s}));return this._getAppliedCloneSymbol(l,t)}catch{throw _core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).warn("Fetching web-style failed!"),new Error}}return this._getAppliedCloneSymbol(e,t)}_getAppliedCloneSymbol(e,s){if(!e||!s)return e;const l=e.clone(),i=s&&s.toRgba();return l.type.includes("3d")?this._applyColorTo3dSymbol(l,i):"cim"===l.type?(0,_symbols_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_31__.applyCIMSymbolColor)(l,s):l.color&&(l.color=new _Color_js__WEBPACK_IMPORTED_MODULE_1__["default"](i||l.color)),l}_applyColorTo3dSymbol(e,s){s&&e.symbolLayers.forEach((e=>{e&&(e.material||(e.material={}),e.material.color=new _Color_js__WEBPACK_IMPORTED_MODULE_1__["default"](s))}))}async _getVisualVariableLegendElements(e,t){if(!("visualVariables"in e)||!e.visualVariables||"vector-field"===e.type)return null;const s=e.visualVariables,l=[],i=[],n=[];for(const r of s)"color"===r.type?l.push(r):"size"===r.type?i.push(r):"opacity"===r.type&&n.push(r);const a=[...l,...i,...n];let o,u;if(0===l.length&&_e(e)&&e.classBreakInfos&&1===e.classBreakInfos.length){const t=e.classBreakInfos[0];o=t&&t.symbol}if(0===l.length&&Se(e)&&(o=e.symbol),o)if(o.type.includes("3d")){const e=o.symbolLayers.at(0);"water"===e.type?null!=e.color&&(u=e.color):null!=e.material?.color&&(u=e.material.color)}else o.url||(u=o.color);const c=this.effectList;return(await Promise.all(a.map((async s=>{if(!s.legendOptions||!1!==s.legendOptions.showLegend){const l=me(e)?s.field:this._getRampTitle(s,t);let i=null;const r=this._getDateFormatOptions(t,s);if("color"===s.type){const e=await (0,_colorRampUtils_js__WEBPACK_IMPORTED_MODULE_37__.getRampStops)(s,null,r)??[];i={type:"color-ramp",title:l,infos:e,preview:(0,_symbols_support_symbolUtils_js__WEBPACK_IMPORTED_MODULE_34__.renderColorRampPreviewHTML)(e.map((e=>e.color)),{effectList:c,ariaLabel:await $e("previewColorRampAriaLabel")})},this._hasColorRamp||(this._hasColorRamp=e.length>0)}else if("size"===s.type&&"outline"!==s.target)ce.test(s.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=s):(i=await this._getSizeLegendElement(l,s,e,r),this._hasSizeRamp||(this._hasSizeRamp=!(null==i.infos||!i.infos.length)));else if("opacity"===s.type){const e=await (0,_colorRampUtils_js__WEBPACK_IMPORTED_MODULE_37__.getRampStops)(s,u,r)??[];i={type:"opacity-ramp",title:l,infos:e,preview:(0,_symbols_support_symbolUtils_js__WEBPACK_IMPORTED_MODULE_34__.renderColorRampPreviewHTML)(e.map((e=>e.color)),{effectList:c,ariaLabel:await $e("previewColorRampAriaLabel")})},this._hasOpacityRamp||(this._hasOpacityRamp=e.length>0)}return i&&i.infos?i:null}})))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__.isSome)}_getFieldInfo(e,t){if(!t.field)return null;if("featureReduction"in e)switch(e.featureReduction?.type){case"cluster":case"binning":{const s=e.featureReduction.fields.find((({name:e})=>e.toLowerCase()===t.field.toLowerCase()));return s&&"getField"in e?e.getField(s.onStatisticField):null}}return"getField"in e?e.getField?.(t.field):null}_getDateFormat(e,t){const s="popupTemplate"in e?e.popupTemplate?.fieldInfos:null;if(s?.length&&t)return s.find((e=>e.fieldName?.toLowerCase()===t.toLowerCase()))?.format?.dateFormat}_getDateFormatOptions(e,t){const s=this._getFieldInfo(e,t);if(!s||!(0,_smartMapping_support_utils_js__WEBPACK_IMPORTED_MODULE_30__.isAnyDateField)(s)&&!(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_24__.isTimeOnlyField)(s))return null;let l=this._getDateFormat(e,s.name);if(!l&&"date"===s.type){let e=0,s=0;t.stops?(e=t.stops?.at(0)?.value??e,s=t.stops?.at(-1)?.value??s):"minDataValue"in t&&"maxDataValue"in t&&(e=t.minDataValue??e,s=t.maxDataValue??s),l=s-e>2*_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_14__.millisecondsPerTimeUnit.days?"short-date":"short-date-short-time"}return{fieldType:s.type,format:l,timeZoneOptions:{layerTimeZone:"preferredTimeZone"in e?e.preferredTimeZone:null,viewTimeZone:this.view.timeZone,datesInUnknownTimezone:"datesInUnknownTimezone"in e&&e.datesInUnknownTimezone}}}_getDomainName(e,t,s){if(e&&"function"!=typeof e){const l="getField"in s&&s.getField?.(e),i=l&&"getFieldDomain"in s&&s.getFieldDomain?s.getFieldDomain(l.name):null;return"coded-value"===i?.type?i.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,s=e.field;if("featureReduction"in t&&t.featureReduction&&"cluster"===t.featureReduction.type){const e=t.featureReduction,l="popupTemplate"in e&&e.popupTemplate,i=l&&l.fieldInfos;if(i)for(const t of i)if(t.fieldName===s)return"cluster_count"===s?t.label||{showCount:!0}:t.label}return{showCount:!0}}_getRampTitle(e,t){let s=e.field,l=e.normalizationField,i=!1,r=!1,n=!1,a=null;s="function"==typeof s?null:s,l="function"==typeof l?null:l;const o=e.legendOptions?.title;if(null!=o)a=o;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if("renderer"in t&&t.renderer&&"authoringInfo"in t.renderer&&t.renderer.authoringInfo?.visualVariables){const e=t.renderer.authoringInfo.visualVariables;for(let t=0;t<e.length;t++){const s=e[t];if("color"===s.type){if("ratio"===s.style){i=!0;break}if("percent"===s.style){r=!0;break}if("percent-of-total"===s.style){n=!0;break}}}}a={field:s&&this._getFieldAlias(s,t),normField:l&&this._getFieldAlias(l,t),ratio:i,ratioPercent:r,ratioPercentTotal:n}}return a}_getRendererTitle(e,t){const s=e;if(s.legendOptions?.title)return s.legendOptions.title;if(s.valueExpressionTitle)return s.valueExpressionTitle;let l=s.field,i=null,r=null;if(_e(s)&&(i=s.normalizationField,r="percent-of-total"===s.normalizationType),l="function"==typeof l?null:l,i="function"==typeof i?null:i,we(s)){const{field2:e,field3:i,fieldDelimiter:r}=s;let n=l&&this._getFieldAlias(l,t);return e&&(n=`<${n}>${r}<${this._getFieldAlias(e,t)}>`,i&&(n=`${n}${r}<${this._getFieldAlias(i,t)}>`)),n}let n=null;return(l||i)&&(n={field:l&&this._getFieldAlias(l,t),normField:i&&this._getFieldAlias(i,t),normByPct:r}),n}_getFieldAlias(e,t){const s="popupTemplate"in t?t.popupTemplate:null,l=s?.fieldInfos;let i;l&&l.some((t=>e===t.fieldName&&(i=t,!0)));let r=null;"getField"in t&&t.getField?r=t.getField(e):"fieldsIndex"in t&&t.fieldsIndex&&(r=t.fieldsIndex.get(e));let n=null;const a="featureReduction"in t&&t.featureReduction;a&&(!i&&"popupTemplate"in a&&a.popupTemplate?.fieldInfos&&a.popupTemplate.fieldInfos.some((t=>e?.toLowerCase()===t.fieldName?.toLowerCase()&&(i=t,!0))),"fields"in a&&a.fields&&(n=a.fields.find((t=>t.name?.toLowerCase()===e?.toLowerCase()))));const o=i||r||n;let u=null;return o&&(u=i?.label||r?.alias||n?.alias||"name"in o&&o.name||"fieldName"in o&&o.fieldName||null),u}_isUnclassedRenderer(e){const t=e.visualVariables;let s=!1;return _e(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(s=e.field?t.some((t=>!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField))):!!t.length),s}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)()],Je.prototype,"children",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)({readOnly:!0})],Je.prototype,"effectList",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)()],Je.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)()],Je.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)()],Je.prototype,"legendElements",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)({readOnly:!0})],Je.prototype,"opacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)()],Je.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)({readOnly:!0,dependsOn:[]})],Je.prototype,"ready",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)()],Je.prototype,"hideLayersNotInCurrentView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)()],Je.prototype,"keepCacheOnDestroy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)()],Je.prototype,"respectLayerVisibility",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)({readOnly:!0})],Je.prototype,"scale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)()],Je.prototype,"sublayerIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)({readOnly:!0})],Je.prototype,"isScaleDriven",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)()],Je.prototype,"title",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)({readOnly:!0,dependsOn:["ready"],value:0})],Je.prototype,"version",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_16__.property)()],Je.prototype,"view",void 0),Je=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_19__.subclass)("esri.widgets.Legend.support.ActiveLayerInfo")],Je);const Qe=Je;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Legend/support/clusterUtils.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Legend/support/clusterUtils.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getClusterSizeVariable: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _renderers_visualVariables_SizeVariable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../renderers/visualVariables/SizeVariable.js */ "./node_modules/@arcgis/core/renderers/visualVariables/SizeVariable.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const l=(e,l)=>{const a=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return l?.levels?l.levels[a]:null};function a(a,i){if(!a||!("visualVariables"in a)||!a.visualVariables)return null;const s=a.visualVariables.find((e=>"size"===e.type)),n=l(i,s);return n?new _renderers_visualVariables_SizeVariable_js__WEBPACK_IMPORTED_MODULE_0__["default"]({field:s.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getRampStops: () => (/* binding */ k),
/* harmony export */   realWorldMaxSize: () => (/* binding */ p),
/* harmony export */   realWorldMinSize: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../symbols.js */ "./node_modules/@arcgis/core/symbols.js");
/* harmony import */ var _renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../renderers/support/numberUtils.js */ "./node_modules/@arcgis/core/renderers/support/numberUtils.js");
/* harmony import */ var _symbols_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../symbols/support/cimSymbolUtils.js */ "./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js");
/* harmony import */ var _symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../symbols/support/utils.js */ "./node_modules/@arcgis/core/symbols/support/utils.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/widgets/Legend/support/utils.js");
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../support/widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var _support_themeUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../support/themeUtils.js */ "./node_modules/@arcgis/core/support/themeUtils.js");
/* harmony import */ var _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../symbols/SimpleMarkerSymbol.js */ "./node_modules/@arcgis/core/symbols/SimpleMarkerSymbol.js");
/* harmony import */ var _symbols_SimpleLineSymbol_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../symbols/SimpleLineSymbol.js */ "./node_modules/@arcgis/core/symbols/SimpleLineSymbol.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const p=30,y=12,b=[255,255,255],h=[200,200,200],d=[128,128,128],w=20,g=5;function S(e){return"esri.symbols.SimpleMarkerSymbol"===e.declaredClass}function v(e){return"esri.symbols.PictureMarkerSymbol"===e.declaredClass}function z(e){return"esri.symbols.SimpleLineSymbol"===e.declaredClass}function j(e){return"esri.symbols.TextSymbol"===e.declaredClass}function V(e,l){const t=e.length-1;return e.map(((e,n)=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.createStopLabel)(e,n,t,l)))}async function k(e,l,n,i,o,a,u){const c=l.legendOptions,m=c?.customValues,f=u||await U(e,n),p=l.stops,y=!!f,b=!!m,h=null!=l.minSize&&null!=l.maxSize,d=p&&p.length>1,w=!!l.target;if(!y||!b&&!(h||d&&!w))return;const g=(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_4__.isVolumetricSymbol)(f);let S=!1,v=null,z=null;v=g&&!d?(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.round)([l.minDataValue,l.maxDataValue]):m??await D(l,f,i,o?.type);const j=e?.authoringInfo,k="univariate-color-size"===j?.type,C=k&&"above-and-below"===j?.univariateTheme;if(!v&&d&&(v=p.map((e=>e.value)),S=p.some((e=>!!e.label)),"flow"===e.type&&(v=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.round)(v)),S&&(z=p.map((e=>e.label)))),g&&null!=v&&v?.length>2&&!C&&(v=[v[0],v[v.length-1]]),!v)return null;k&&5!==v?.length&&(v=E({minSize:v[0],maxSize:v[v.length-1]}));const I=g?x(e,v):null,M=(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_4__.getSymbolOutlineSize)(f),T=S?null:V(v,a);return(await Promise.all(v.map((async(t,n)=>{const s=g?I[n]:await B(l,f,t,i,o?.type);return{value:t,symbol:P(C&&"class-breaks"===e.type?L(e,n):f,s),label:S?z[n]:T[n],size:s,outlineSize:M}})))).reverse()}function x(e,l){const t=e?.authoringInfo,n="univariate-color-size"===t?.type;let i=[y,p];if(n){const e=l[0],t=l[l.length-1],n=y,o=p;i=l.map((l=>n+(l-e)/(t-e)*(o-n)))}return n&&"below"===t?.univariateTheme&&i.reverse(),i}function L(e,l){const t=e.classBreakInfos,n=t.length,i=n<2||!(l>=2)?t[0].symbol.clone():t[n-1].symbol.clone();return e.visualVariables.some((e=>"color"===e.type))&&(i.type.includes("3d")?I(i):M(i)),i}async function U(e,l){if("flow"===e.type)return (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.getSymbolForFlowRenderer)(e,l);if("pie-chart"===e.type)return new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_8__["default"]({color:null,outline:e.outline?.width?e.outline:new _symbols_SimpleLineSymbol_js__WEBPACK_IMPORTED_MODULE_9__["default"]});let t=null,n=null;if("simple"===e.type)t=e.symbol;else if("class-breaks"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}else if("unique-value"===e.type){const l=e.uniqueValueInfos;t=l?.[0]?.symbol,n=null!=l&&l.length>1}return!t||C(t)?null:(t=t.clone(),(l||n)&&(t.type.includes("3d")?I(t):M(t)),t)}function C(e){if(e){if((0,_symbols_js__WEBPACK_IMPORTED_MODULE_1__.isSymbol3D)(e)){return!!e.symbolLayers&&e.symbolLayers.some((e=>e&&"fill"===e.type))}return e.type.includes("fill")}return!1}function I(e){"line-3d"===e.type?e.symbolLayers.forEach((e=>{e.material={color:d}})):e.symbolLayers.forEach((e=>{"icon"!==e.type||e.resource?.href?e.material={color:h}:(e.material={color:b},e.outline={color:d,size:1.5})}))}function M(l){const t=(0,_support_themeUtils_js__WEBPACK_IMPORTED_MODULE_7__.isDarkTheme)();if("cim"===l.type)(0,_symbols_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_3__.applyCIMSymbolColor)(l,new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](h));else if(l.type.includes("line"))l.color=d;else if(l.color=t?d:b,"simple-marker"===l.type)if(l.outline){const e=l.outline?.color?.toHex();"#ffffff"===e&&(l.outline.color=d)}else l.outline={color:d,width:1.5}}async function D(e,l,n,i){const o=(await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../renderers/visualVariables/support/visualVariableUtils.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"))).getSizeRangeAtScale(e,n,i),s=o&&E(o);if(!o||!s)return;let r=s.map((l=>T(l,e,o)));r=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.round)(r);for(let t=1;t<r.length-1;t++){const o=await q(e,l,r[t],r[t-1],n,i);o&&(r[t]=o[0],s[t]=o[1])}return r}function E(e){const l=e.minSize,t=e.maxSize,n=g,i=(t-l)/(n-1),o=[];for(let s=0;s<n;s++)o.push(l+i*s);return o}function T(e,l,t){const n=t.minSize,i=t.maxSize,o=l.minDataValue,s=l.maxDataValue;let r;if(e<=n)r=o;else if(e>=i)r=s;else{r=(e-n)/(i-n)*(s-o)+o}return r}async function q(e,l,o,s,r,a){const u=await B(e,l,o,r,a),c=await B(e,l,s,r,a),m=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.numDigits)(o),f=m.fractional,p=w;let y=m.integer,b=null,h=null;o>0&&o<1&&(b=10**f,y=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.numDigits)(o*=b).integer);for(let n=y-1;n>=0;n--){const s=10**n;let m=Math.floor(o/s)*s,f=Math.ceil(o/s)*s;null!=b&&(m/=b,f/=b);let y=(m+f)/2;[,y]=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.round)([m,y,f],{indexes:[1]});const d=await B(e,l,m,r,a),w=await B(e,l,f,r,a),g=await B(e,l,y,r,a),S=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.percentChange)(u,d,c,null),v=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.percentChange)(u,w,c,null),z=(0,_renderers_support_numberUtils_js__WEBPACK_IMPORTED_MODULE_2__.percentChange)(u,g,c,null);let j=S.previous<=p,V=v.previous<=p;if(j&&V&&(S.previous<=v.previous?(j=!0,V=!1):(V=!0,j=!1)),j?h=[m,d]:V?h=[f,w]:z.previous<=p&&(h=[y,g]),h)break}return h}async function B(e,l,t,n,i){const{getSize:o}=await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../renderers/visualVariables/support/visualVariableUtils.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"));return o(e,t,{scale:n,view:i,shape:"simple-marker"===l.type?l.style:null})}function P(e,t){const n=e.clone();if((0,_symbols_js__WEBPACK_IMPORTED_MODULE_1__.isSymbol3D)(n))(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_4__.isVolumetricSymbol)(n)||n.symbolLayers.forEach((e=>{"fill"!==e.type&&(e.size=t)}));else if(S(n))n.size=t;else if(v(n)){const e=n.width,l=n.height;n.height=t,n.width=t*(e/l)}else z(n)?n.width=t:j(n)&&n.font&&(n.font.size=t);return n}


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   attachToNode: () => (/* binding */ i),
/* harmony export */   getStretchStopLabel: () => (/* binding */ a),
/* harmony export */   getTitle: () => (/* binding */ o),
/* harmony export */   isImageryStretchedLegend: () => (/* binding */ u),
/* harmony export */   isRendererTitle: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _intl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../intl.js */ "./node_modules/@arcgis/core/intl.js");
/* harmony import */ var _core_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/string.js */ "./node_modules/@arcgis/core/core/string.js");
/* harmony import */ var _intl_substitute_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../intl/substitute.js */ "./node_modules/@arcgis/core/intl/substitute.js");
/* harmony import */ var _intl_number_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../intl/number.js */ "./node_modules/@arcgis/core/intl/number.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(e,t){return t}function i(e){const t=this;e.appendChild(t)}function o(n,i,o){if(!i)return;if("number"==typeof i)return i;if("string"==typeof i)return (0,_core_string_js__WEBPACK_IMPORTED_MODULE_1__.stripHTML)(i);if("value"in i||"unit"in i)return (0,_intl_substitute_js__WEBPACK_IMPORTED_MODULE_2__.substitute)(n.dotValue,i);if("colorName"in i&&"bandName"in i)return n[i.colorName]+": "+(n[i.bandName]||i.bandName);if("showCount"in i)return i.showCount?n.clusterCountTitle:void 0;let u=null;return r(i,o)?u=i.ratioPercentTotal?"showRatioPercentTotal":i.ratioPercent?"showRatioPercent":i.ratio?"showRatio":i.normField?"showNormField":i.field?"showField":null:l(i,o)&&(u=i.normField?"showNormField":i.normByPct?"showNormPct":i.field?"showField":null),u?(0,_intl_substitute_js__WEBPACK_IMPORTED_MODULE_2__.substitute)("showField"===u?"{field}":n[u],{field:i.field,normField:i.normField}):void 0}function l(e,t){return!t}function u(e,t){return!!(t&&"Stretched"===t&&e.version>=10.3&&"esri.layers.ImageryLayer"===e.declaredClass)}function a(e,t){return e.label?t[e.label]+": "+("string"==typeof e.value?e.value:(0,_intl_number_js__WEBPACK_IMPORTED_MODULE_3__.formatNumber)(e.value??0,{style:"decimal",notation:e.value?.toString().toLowerCase().includes("e")?"scientific":"standard"})):""}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfY2h1bmtzX21hdDJkX2pzLW5vZGVfbW9kdWxlc19hcmNnaXNfY29yZV9jaHVua3NfbWF0MmRmMzJfanMtLTk5OGQyNS5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDZ0MsZ0JBQWdCLHFFQUFxRSxjQUFjLG1EQUFtRCwwQkFBMEIsbURBQW1ELGdCQUFnQixnREFBZ0QsY0FBYyxnR0FBZ0csY0FBYywyQkFBMkIsa0JBQWtCLDBGQUEwRiwyRkFBMkYsa0JBQWtCLDRFQUE0RSw2RUFBNkUsa0JBQWtCLDhEQUE4RCwyREFBMkQsa0JBQWtCLDhEQUE4RCxtRUFBbUUsZ0JBQWdCLGtDQUFrQyxvREFBb0QsZ0JBQWdCLHlEQUF5RCxnQkFBZ0IseURBQXlELGNBQWMsMEVBQTBFLGNBQWMsb0VBQW9FLGtCQUFrQixtR0FBbUcsa0JBQWtCLG1HQUFtRyxrQkFBa0IsaUZBQWlGLG9CQUFvQiwrR0FBK0csZ0JBQWdCLG9GQUFvRixnQkFBZ0IsNEZBQTRGLDZDQUFDLEdBQUcsMFVBQTBVLHFEQUFxRCw4UEFBOFAscUJBQXFCLGVBQWUsR0FBNEs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o3L0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRCQUE0Qix1QkFBdUIsY0FBYyw0QkFBNEIscUVBQXFFLHdCQUF3Qiw0QkFBNEIsbURBQW1ELGdCQUFnQiwrQkFBK0Isb0JBQW9CLHNCQUFzQixrREFBa0QsOEJBQThCLHNCQUFzQixZQUFZLElBQUksS0FBSyxjQUFjLDZDQUE2QyxzRkFBc0YscUJBQXFCLGVBQWUsR0FBNEQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKM3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ2lKLFdBQVcsZ0JBQWdCLGdDQUFnQyx5RUFBQyxzQkFBc0Isd0JBQXdCLDhEQUFDLEtBQUssZ0JBQWdCLFVBQVUseUVBQUMs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QWUsZ0ZBQUMsZUFBZSxnRkFBQyxhQUFhLG9DQUFvQywrR0FBK0csU0FBUyw0QkFBNEIsTUFBTSxVQUFVLE9BQU8scVBBQTJFLENBQUMsY0FBYywyREFBMkQsRUFBRSxnQkFBZ0Isa0JBQWtCLEdBQUcsdURBQUMsSUFBSSw2RUFBQyxpQ0FBaUMsNEJBQTRCLEdBQUcsc0JBQXNCLGNBQWMsMkJBQTJCLDJCQUEyQixrREFBa0QsU0FBK0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnJqSztBQUNBO0FBQ0E7QUFDQTtBQUM2TCxnQkFBZ0IsU0FBUyxjQUFjLGFBQWEsaUJBQWlCLGtCQUFrQixhQUFhLCtCQUErQiw2QkFBNkIsMERBQUMsSUFBSSxrQ0FBa0MsK0RBQUMsZUFBZSwwRkFBMEYsaUVBQWlFLFdBQVcsb1FBQW9RLCtEQUFDLG1CQUFtQixNQUFNLFFBQVEsb0NBQW9DLFNBQVMsZ0JBQWdCLFNBQVMsZ0JBQWdCLDRGQUE0RixnQkFBZ0IsaUVBQWlFLDZEQUFDLGFBQWEsaUdBQWlHLE1BQTBIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL21hdDJkLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9tYXQyZGYzMi5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L3NjYWxlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2VmZmVjdHMvRWZmZWN0Vmlldy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9FeHBvcnRJbWFnZVBhcmFtZXRlcnMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvZmxvb3JGaWx0ZXJVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9zdWJsYXllclV0aWxzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3JlbmRlcmVycy9zdXBwb3J0L3JlbmRlcmVyQ29udmVyc2lvbi5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93aWRnZXRzL0xlZ2VuZC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93aWRnZXRzL0xlZ2VuZC9MZWdlbmRWaWV3TW9kZWwuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9MZWdlbmQvc3R5bGVzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9MZWdlbmQvc3R5bGVzL0NhcmRDU1MuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9MZWdlbmQvc3R5bGVzL0NsYXNzaWMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9MZWdlbmQvc3R5bGVzL0NsYXNzaWNDU1MuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9MZWdlbmQvc3R5bGVzL3N1cHBvcnQvdW5pdmFyaWF0ZVV0aWxzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvTGVnZW5kL3N1cHBvcnQvQWN0aXZlTGF5ZXJJbmZvLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvTGVnZW5kL3N1cHBvcnQvY2x1c3RlclV0aWxzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvTGVnZW5kL3N1cHBvcnQvc2l6ZVJhbXBVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93aWRnZXRzL0xlZ2VuZC9zdXBwb3J0L3N0eWxlVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnIGFzIHR9ZnJvbVwiLi9jb21tb24uanNcIjtmdW5jdGlvbiBhKHQsYSl7cmV0dXJuIHRbMF09YVswXSx0WzFdPWFbMV0sdFsyXT1hWzJdLHRbM109YVszXSx0WzRdPWFbNF0sdFs1XT1hWzVdLHR9ZnVuY3Rpb24gbih0KXtyZXR1cm4gdFswXT0xLHRbMV09MCx0WzJdPTAsdFszXT0xLHRbNF09MCx0WzVdPTAsdH1mdW5jdGlvbiBzKHQsYSxuLHMscix1LG8pe3JldHVybiB0WzBdPWEsdFsxXT1uLHRbMl09cyx0WzNdPXIsdFs0XT11LHRbNV09byx0fWZ1bmN0aW9uIHIodCxhKXtjb25zdCBuPWFbMF0scz1hWzFdLHI9YVsyXSx1PWFbM10sbz1hWzRdLGU9YVs1XTtsZXQgYz1uKnUtcypyO3JldHVybiBjPyhjPTEvYyx0WzBdPXUqYyx0WzFdPS1zKmMsdFsyXT0tcipjLHRbM109bipjLHRbNF09KHIqZS11Km8pKmMsdFs1XT0ocypvLW4qZSkqYyx0KTpudWxsfWZ1bmN0aW9uIHUodCl7cmV0dXJuIHRbMF0qdFszXS10WzFdKnRbMl19ZnVuY3Rpb24gbyh0LGEsbil7Y29uc3Qgcz1hWzBdLHI9YVsxXSx1PWFbMl0sbz1hWzNdLGU9YVs0XSxjPWFbNV0saT1uWzBdLGg9blsxXSxNPW5bMl0sZj1uWzNdLGI9bls0XSxsPW5bNV07cmV0dXJuIHRbMF09cyppK3UqaCx0WzFdPXIqaStvKmgsdFsyXT1zKk0rdSpmLHRbM109cipNK28qZix0WzRdPXMqYit1KmwrZSx0WzVdPXIqYitvKmwrYyx0fWZ1bmN0aW9uIGUodCxhLG4pe2NvbnN0IHM9YVswXSxyPWFbMV0sdT1hWzJdLG89YVszXSxlPWFbNF0sYz1hWzVdLGk9TWF0aC5zaW4obiksaD1NYXRoLmNvcyhuKTtyZXR1cm4gdFswXT1zKmgrdSppLHRbMV09cipoK28qaSx0WzJdPXMqLWkrdSpoLHRbM109ciotaStvKmgsdFs0XT1lLHRbNV09Yyx0fWZ1bmN0aW9uIGModCxhLG4pe2NvbnN0IHM9YVswXSxyPWFbMV0sdT1hWzJdLG89YVszXSxlPWFbNF0sYz1hWzVdLGk9blswXSxoPW5bMV07cmV0dXJuIHRbMF09cyppLHRbMV09cippLHRbMl09dSpoLHRbM109bypoLHRbNF09ZSx0WzVdPWMsdH1mdW5jdGlvbiBpKHQsYSxuKXtjb25zdCBzPWFbMF0scj1hWzFdLHU9YVsyXSxvPWFbM10sZT1hWzRdLGM9YVs1XSxpPW5bMF0saD1uWzFdO3JldHVybiB0WzBdPXMsdFsxXT1yLHRbMl09dSx0WzNdPW8sdFs0XT1zKmkrdSpoK2UsdFs1XT1yKmkrbypoK2MsdH1mdW5jdGlvbiBoKHQsYSl7Y29uc3Qgbj1NYXRoLnNpbihhKSxzPU1hdGguY29zKGEpO3JldHVybiB0WzBdPXMsdFsxXT1uLHRbMl09LW4sdFszXT1zLHRbNF09MCx0WzVdPTAsdH1mdW5jdGlvbiBNKHQsYSl7cmV0dXJuIHRbMF09YVswXSx0WzFdPTAsdFsyXT0wLHRbM109YVsxXSx0WzRdPTAsdFs1XT0wLHR9ZnVuY3Rpb24gZih0LGEpe3JldHVybiB0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTEsdFs0XT1hWzBdLHRbNV09YVsxXSx0fWZ1bmN0aW9uIGIodCl7cmV0dXJuXCJtYXQyZChcIit0WzBdK1wiLCBcIit0WzFdK1wiLCBcIit0WzJdK1wiLCBcIit0WzNdK1wiLCBcIit0WzRdK1wiLCBcIit0WzVdK1wiKVwifWZ1bmN0aW9uIGwodCl7cmV0dXJuIE1hdGguc3FydCh0WzBdKioyK3RbMV0qKjIrdFsyXSoqMit0WzNdKioyK3RbNF0qKjIrdFs1XSoqMisxKX1mdW5jdGlvbiBtKHQsYSxuKXtyZXR1cm4gdFswXT1hWzBdK25bMF0sdFsxXT1hWzFdK25bMV0sdFsyXT1hWzJdK25bMl0sdFszXT1hWzNdK25bM10sdFs0XT1hWzRdK25bNF0sdFs1XT1hWzVdK25bNV0sdH1mdW5jdGlvbiBkKHQsYSxuKXtyZXR1cm4gdFswXT1hWzBdLW5bMF0sdFsxXT1hWzFdLW5bMV0sdFsyXT1hWzJdLW5bMl0sdFszXT1hWzNdLW5bM10sdFs0XT1hWzRdLW5bNF0sdFs1XT1hWzVdLW5bNV0sdH1mdW5jdGlvbiBwKHQsYSxuKXtyZXR1cm4gdFswXT1hWzBdKm4sdFsxXT1hWzFdKm4sdFsyXT1hWzJdKm4sdFszXT1hWzNdKm4sdFs0XT1hWzRdKm4sdFs1XT1hWzVdKm4sdH1mdW5jdGlvbiB4KHQsYSxuLHMpe3JldHVybiB0WzBdPWFbMF0rblswXSpzLHRbMV09YVsxXStuWzFdKnMsdFsyXT1hWzJdK25bMl0qcyx0WzNdPWFbM10rblszXSpzLHRbNF09YVs0XStuWzRdKnMsdFs1XT1hWzVdK25bNV0qcyx0fWZ1bmN0aW9uIHkodCxhKXtyZXR1cm4gdFswXT09PWFbMF0mJnRbMV09PT1hWzFdJiZ0WzJdPT09YVsyXSYmdFszXT09PWFbM10mJnRbNF09PT1hWzRdJiZ0WzVdPT09YVs1XX1mdW5jdGlvbiBnKGEsbil7Y29uc3Qgcz1hWzBdLHI9YVsxXSx1PWFbMl0sbz1hWzNdLGU9YVs0XSxjPWFbNV0saT1uWzBdLGg9blsxXSxNPW5bMl0sZj1uWzNdLGI9bls0XSxsPW5bNV0sbT10KCk7cmV0dXJuIE1hdGguYWJzKHMtaSk8PW0qTWF0aC5tYXgoMSxNYXRoLmFicyhzKSxNYXRoLmFicyhpKSkmJk1hdGguYWJzKHItaCk8PW0qTWF0aC5tYXgoMSxNYXRoLmFicyhyKSxNYXRoLmFicyhoKSkmJk1hdGguYWJzKHUtTSk8PW0qTWF0aC5tYXgoMSxNYXRoLmFicyh1KSxNYXRoLmFicyhNKSkmJk1hdGguYWJzKG8tZik8PW0qTWF0aC5tYXgoMSxNYXRoLmFicyhvKSxNYXRoLmFicyhmKSkmJk1hdGguYWJzKGUtYik8PW0qTWF0aC5tYXgoMSxNYXRoLmFicyhlKSxNYXRoLmFicyhiKSkmJk1hdGguYWJzKGMtbCk8PW0qTWF0aC5tYXgoMSxNYXRoLmFicyhjKSxNYXRoLmFicyhsKSl9Y29uc3QgUz1vLGo9ZCxxPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxhZGQ6bSxjb3B5OmEsZGV0ZXJtaW5hbnQ6dSxlcXVhbHM6ZyxleGFjdEVxdWFsczp5LGZyb2I6bCxmcm9tUm90YXRpb246aCxmcm9tU2NhbGluZzpNLGZyb21UcmFuc2xhdGlvbjpmLGlkZW50aXR5Om4saW52ZXJ0OnIsbXVsOlMsbXVsdGlwbHk6byxtdWx0aXBseVNjYWxhcjpwLG11bHRpcGx5U2NhbGFyQW5kQWRkOngscm90YXRlOmUsc2NhbGU6YyxzZXQ6cyxzdHI6YixzdWI6aixzdWJ0cmFjdDpkLHRyYW5zbGF0ZTppfSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e2YgYXMgYSxoIGFzIGIsbiBhcyBjLHMgYXMgZCxxIGFzIGUsTSBhcyBmLGEgYXMgZyx1IGFzIGgsciBhcyBpLGIgYXMgaixsIGFzIGssbSBhcyBsLG8gYXMgbSxkIGFzIG4scCBhcyBvLHggYXMgcCx5IGFzIHEsZSBhcyByLGMgYXMgcyxpIGFzIHQsZyBhcyB1LFMgYXMgdixqIGFzIHd9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG4oKXtjb25zdCBuPW5ldyBGbG9hdDMyQXJyYXkoNik7cmV0dXJuIG5bMF09MSxuWzNdPTEsbn1mdW5jdGlvbiB0KG4pe2NvbnN0IHQ9bmV3IEZsb2F0MzJBcnJheSg2KTtyZXR1cm4gdFswXT1uWzBdLHRbMV09blsxXSx0WzJdPW5bMl0sdFszXT1uWzNdLHRbNF09bls0XSx0WzVdPW5bNV0sdH1mdW5jdGlvbiByKG4sdCxyLGUsbyxhKXtjb25zdCBjPW5ldyBGbG9hdDMyQXJyYXkoNik7cmV0dXJuIGNbMF09bixjWzFdPXQsY1syXT1yLGNbM109ZSxjWzRdPW8sY1s1XT1hLGN9ZnVuY3Rpb24gZShuLHQpe3JldHVybiBuZXcgRmxvYXQzMkFycmF5KG4sdCw2KX1mdW5jdGlvbiBvKG4sdCxyLGUpe2NvbnN0IG89dFtlXSxhPXRbZSsxXTtuW2VdPXJbMF0qbytyWzJdKmErcls0XSxuW2UrMV09clsxXSpvK3JbM10qYStyWzVdfWZ1bmN0aW9uIGEobix0LHIsZT0wLGE9MCxjPTIpe2NvbnN0IHM9YXx8dC5sZW5ndGgvYztmb3IobGV0IHU9ZTt1PHM7dSsrKXtvKG4sdCxyLHUqYyl9fWNvbnN0IGM9T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLGNsb25lOnQsY3JlYXRlOm4sY3JlYXRlVmlldzplLGZyb21WYWx1ZXM6cix0cmFuc2Zvcm06byx0cmFuc2Zvcm1NYW55OmF9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKTtleHBvcnR7dCBhcyBhLGUgYXMgYixuIGFzIGMsbyBhcyBkLHIgYXMgZixjIGFzIG0sYSBhcyB0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZmxvYXRFcXVhbEFic29sdXRlIGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7Z2V0TWV0ZXJzUGVyVW5pdEZvclNSIGFzIG4saW5jaGVzUGVyTWV0ZXIgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2NvbnN0IHI9OTY7ZnVuY3Rpb24gaSh0LGkpe2NvbnN0IG89aXx8dC5leHRlbnQsdT10LndpZHRoLGM9bihvPy5zcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm4gbyYmdT9vLndpZHRoL3UqYyplKnI6MH1mdW5jdGlvbiBvKHQsaSl7cmV0dXJuIHQvKG4oaSkqZSpyKX1mdW5jdGlvbiB1KHQpe3JldHVybiB0LyhlKnIpfWZ1bmN0aW9uIGModCxpKXtyZXR1cm4gdCoobihpKSplKnIpfWZ1bmN0aW9uIGYodCxuKXtjb25zdCBlPXQuZXh0ZW50LHI9dC53aWR0aC0odC5wYWRkaW5nP3QucGFkZGluZy5sZWZ0K3QucGFkZGluZy5yaWdodDowKSxpPW8obixlLnNwYXRpYWxSZWZlcmVuY2UpO3JldHVybiBlLmNsb25lKCkuZXhwYW5kKGkqci9lLndpZHRoKX1mdW5jdGlvbiBkKHQsbixlKXtyZXR1cm4gYSh0LG4pJiZwKHQsZSl9ZnVuY3Rpb24gYShuLGUpe3JldHVybiAwPT09ZXx8dChuLGUpfHxuPGV9ZnVuY3Rpb24gcChuLGUpe3JldHVybiAwPT09ZXx8dChuLGUpfHxuPmV9ZXhwb3J0e2YgYXMgZ2V0RXh0ZW50Rm9yU2NhbGUsbyBhcyBnZXRSZXNvbHV0aW9uRm9yU2NhbGUsdSBhcyBnZXRSZXNvbHV0aW9uSW5NZXRlcnNGb3JTY2FsZSxpIGFzIGdldFNjYWxlLGMgYXMgZ2V0U2NhbGVGb3JSZXNvbHV0aW9uLGQgYXMgaXNJblNjYWxlUmFuZ2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2Nsb25lIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtwYXJzZSBhcyBjfWZyb21cIi4vcGFyc2VyLmpzXCI7aW1wb3J0e2NhbkludGVycG9sYXRlRWZmZWN0cyBhcyBvLG5vcm1hbGl6ZUVmZmVjdHMgYXMgZn1mcm9tXCIuL3V0aWxzLmpzXCI7Y29uc3QgbD0tMTtsZXQgYT1jbGFzcyBleHRlbmRzIGV7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fZnJvbT1udWxsLHRoaXMuX3RvPW51bGwsdGhpcy5fZmluYWw9bnVsbCx0aGlzLl9jdXJyZW50PVtdLHRoaXMuX3RpbWU9MCx0aGlzLmR1cmF0aW9uPWhhcyhcIm1hcHZpZXctdHJhbnNpdGlvbnMtZHVyYXRpb25cIiksdGhpcy5lZmZlY3RzPVtdfXNldCBlZmZlY3QodCl7aWYodGhpcy5fZ2V0KFwiZWZmZWN0XCIpIT09KHQ9dHx8XCJcIikpe3RoaXMuX3NldChcImVmZmVjdFwiLHQpO3RyeXt0aGlzLl90cmFuc2l0aW9uVG8oaCh0KSl9Y2F0Y2goZSl7dGhpcy5fdHJhbnNpdGlvblRvKFtdKSxyLmdldExvZ2dlcih0aGlzKS53YXJuKFwiSW52YWxpZCBFZmZlY3RcIix7ZWZmZWN0OnQsZXJyb3I6ZX0pfX19Z2V0IGhhc0VmZmVjdHMoKXtyZXR1cm4gdGhpcy50cmFuc2l0aW9uaW5nfHwhIXRoaXMuZWZmZWN0cy5sZW5ndGh9c2V0IHNjYWxlKHQpe3RoaXMuX3VwZGF0ZUZvclNjYWxlKHQpfWdldCB0cmFuc2l0aW9uaW5nKCl7cmV0dXJuIG51bGwhPT10aGlzLl90b31jYW5UcmFuc2l0aW9uVG8odCl7dHJ5e3JldHVybiB0aGlzLnNjYWxlPjAmJnUodGhpcy5fY3VycmVudCxoKHQpLHRoaXMuc2NhbGUpfWNhdGNoe3JldHVybiExfX10cmFuc2l0aW9uU3RlcCh0LGUpe3RoaXMuX2FwcGx5VGltZVRyYW5zaXRpb24odCksdGhpcy5fdXBkYXRlRm9yU2NhbGUoZSl9ZW5kVHJhbnNpdGlvbnMoKXt0aGlzLl9hcHBseVRpbWVUcmFuc2l0aW9uKHRoaXMuZHVyYXRpb24pfV90cmFuc2l0aW9uVG8odCl7dGhpcy5zY2FsZT4wJiZ1KHRoaXMuX2N1cnJlbnQsdCx0aGlzLnNjYWxlKT8odGhpcy5fZmluYWw9dCx0aGlzLl90bz1zKHQpLF8odGhpcy5fY3VycmVudCx0aGlzLl90byx0aGlzLnNjYWxlKSx0aGlzLl9mcm9tPXModGhpcy5fY3VycmVudCksdGhpcy5fdGltZT0wKToodGhpcy5fZnJvbT10aGlzLl90bz10aGlzLl9maW5hbD1udWxsLHRoaXMuX2N1cnJlbnQ9dCksdGhpcy5fc2V0KFwiZWZmZWN0c1wiLHRoaXMuX2N1cnJlbnRbMF0/cyh0aGlzLl9jdXJyZW50WzBdLmVmZmVjdHMpOltdKX1fYXBwbHlUaW1lVHJhbnNpdGlvbih0KXtpZighKHRoaXMuX3RvJiZ0aGlzLl9mcm9tJiZ0aGlzLl9jdXJyZW50JiZ0aGlzLl9maW5hbCkpcmV0dXJuO3RoaXMuX3RpbWUrPXQ7Y29uc3QgZT1NYXRoLm1pbigxLHRoaXMuX3RpbWUvdGhpcy5kdXJhdGlvbik7Zm9yKGxldCBzPTA7czx0aGlzLl9jdXJyZW50Lmxlbmd0aDtzKyspe2NvbnN0IHQ9dGhpcy5fY3VycmVudFtzXSxyPXRoaXMuX2Zyb21bc10saT10aGlzLl90b1tzXTt0LnNjYWxlPXAoci5zY2FsZSxpLnNjYWxlLGUpO2ZvcihsZXQgcz0wO3M8dC5lZmZlY3RzLmxlbmd0aDtzKyspe2NvbnN0IG49dC5lZmZlY3RzW3NdLGM9ci5lZmZlY3RzW3NdLG89aS5lZmZlY3RzW3NdO24uaW50ZXJwb2xhdGUoYyxvLGUpfX0xPT09ZSYmKHRoaXMuX2N1cnJlbnQ9dGhpcy5fZmluYWwsdGhpcy5fc2V0KFwiZWZmZWN0c1wiLHRoaXMuX2N1cnJlbnRbMF0/cyh0aGlzLl9jdXJyZW50WzBdLmVmZmVjdHMpOltdKSx0aGlzLl9mcm9tPXRoaXMuX3RvPXRoaXMuX2ZpbmFsPW51bGwpfV91cGRhdGVGb3JTY2FsZSh0KXtpZih0aGlzLl9zZXQoXCJzY2FsZVwiLHQpLDA9PT10aGlzLl9jdXJyZW50Lmxlbmd0aClyZXR1cm47Y29uc3QgZT10aGlzLl9jdXJyZW50LHM9dGhpcy5fY3VycmVudC5sZW5ndGgtMTtsZXQgcixpLG49MTtpZigxPT09ZS5sZW5ndGh8fHQ+PWVbMF0uc2NhbGUpaT1yPWVbMF0uZWZmZWN0cztlbHNlIGlmKHQ8PWVbc10uc2NhbGUpaT1yPWVbc10uZWZmZWN0cztlbHNlIGZvcihsZXQgYz0wO2M8cztjKyspe2NvbnN0IHM9ZVtjXSxvPWVbYysxXTtpZihzLnNjYWxlPj10JiZvLnNjYWxlPD10KXtuPSh0LXMuc2NhbGUpLyhvLnNjYWxlLXMuc2NhbGUpLHI9cy5lZmZlY3RzLGk9by5lZmZlY3RzO2JyZWFrfX1mb3IobGV0IGM9MDtjPHRoaXMuZWZmZWN0cy5sZW5ndGg7YysrKXt0aGlzLmVmZmVjdHNbY10uaW50ZXJwb2xhdGUocltjXSxpW2NdLG4pfX19O2Z1bmN0aW9uIGgodCl7Y29uc3QgZT1jKHQpfHxbXTtyZXR1cm4gbShlKT9be3NjYWxlOmwsZWZmZWN0czplfV06ZX1mdW5jdGlvbiB1KHQsZSxzKXtpZighdFswXT8uZWZmZWN0c3x8IWVbMF0/LmVmZmVjdHMpcmV0dXJuITA7cmV0dXJuISgodFswXT8uc2NhbGU9PT1sfHxlWzBdPy5zY2FsZT09PWwpJiYodC5sZW5ndGg+MXx8ZS5sZW5ndGg+MSkmJnM8PTApJiZvKHRbMF0uZWZmZWN0cyxlWzBdLmVmZmVjdHMpfWZ1bmN0aW9uIF8odCxlLHMpe2NvbnN0IHI9dC5sZW5ndGg+ZS5sZW5ndGg/dDplLGk9dC5sZW5ndGg+ZS5sZW5ndGg/ZTp0LG49aVtpLmxlbmd0aC0xXSxjPW4/LnNjYWxlPz9zLG89bj8uZWZmZWN0cz8/W107Zm9yKGxldCBmPWkubGVuZ3RoO2Y8ci5sZW5ndGg7ZisrKWkucHVzaCh7c2NhbGU6YyxlZmZlY3RzOlsuLi5vXX0pO2ZvcihsZXQgYT0wO2E8ci5sZW5ndGg7YSsrKWlbYV0uc2NhbGU9aVthXS5zY2FsZT09PWw/czppW2FdLnNjYWxlLHJbYV0uc2NhbGU9clthXS5zY2FsZT09PWw/czpyW2FdLnNjYWxlLGYoaVthXS5lZmZlY3RzLHJbYV0uZWZmZWN0cyl9ZnVuY3Rpb24gcCh0LGUscyl7cmV0dXJuIHQrKGUtdCkqc31mdW5jdGlvbiBtKHQpe2NvbnN0IGU9dFswXTtyZXR1cm4hIWUmJlwidHlwZVwiaW4gZX10KFtpKCldLGEucHJvdG90eXBlLFwiX3RvXCIsdm9pZCAwKSx0KFtpKCldLGEucHJvdG90eXBlLFwiZHVyYXRpb25cIix2b2lkIDApLHQoW2koe3ZhbHVlOlwiXCJ9KV0sYS5wcm90b3R5cGUsXCJlZmZlY3RcIixudWxsKSx0KFtpKHtyZWFkT25seTohMH0pXSxhLnByb3RvdHlwZSxcImVmZmVjdHNcIix2b2lkIDApLHQoW2koe3JlYWRPbmx5OiEwfSldLGEucHJvdG90eXBlLFwiaGFzRWZmZWN0c1wiLG51bGwpLHQoW2koe3ZhbHVlOjB9KV0sYS5wcm90b3R5cGUsXCJzY2FsZVwiLG51bGwpLHQoW2koe3JlYWRPbmx5OiEwfSldLGEucHJvdG90eXBlLFwidHJhbnNpdGlvbmluZ1wiLG51bGwpLGE9dChbbihcImVzcmkubGF5ZXJzLmVmZmVjdHMuRWZmZWN0Vmlld1wiKV0sYSk7ZXhwb3J0e2EgYXMgRWZmZWN0Vmlldyx1IGFzIGNhbkludGVycG9sYXRlRWZmZWN0U3RvcHMsaCBhcyBjb252ZXJ0RWZmZWN0VG9TdG9wcyxfIGFzIG5vcm1hbGl6ZUVmZmVjdFN0b3BzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e3NxbEFuZCBhcyBzfWZyb21cIi4uLy4uL2NvcmUvc3FsLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7aXNJblNjYWxlUmFuZ2UgYXMgb31mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NjYWxlVXRpbHMuanNcIjtpbXBvcnR7Y29tYmluZWRWaWV3TGF5ZXJUaW1lRXh0ZW50UHJvcGVydHkgYXMgYX1mcm9tXCIuL2NvbW1vblByb3BlcnRpZXMuanNcIjtpbXBvcnR7Z2V0TGF5ZXJGbG9vckZpbHRlckNsYXVzZSBhcyBsfWZyb21cIi4vZmxvb3JGaWx0ZXJVdGlscy5qc1wiO2ltcG9ydHtpc0V4cG9ydER5bmFtaWMgYXMgbn1mcm9tXCIuL3N1YmxheWVyVXRpbHMuanNcIjtjb25zdCB5PXt2aXNpYmxlOlwidmlzaWJsZVN1YmxheWVyc1wiLGRlZmluaXRpb25FeHByZXNzaW9uOlwibGF5ZXJEZWZzXCIsbGFiZWxpbmdJbmZvOlwiaGFzRHluYW1pY0xheWVyc1wiLGxhYmVsc1Zpc2libGU6XCJoYXNEeW5hbWljTGF5ZXJzXCIsb3BhY2l0eTpcImhhc0R5bmFtaWNMYXllcnNcIixtaW5TY2FsZTpcInZpc2libGVTdWJsYXllcnNcIixtYXhTY2FsZTpcInZpc2libGVTdWJsYXllcnNcIixyZW5kZXJlcjpcImhhc0R5bmFtaWNMYXllcnNcIixzb3VyY2U6XCJoYXNEeW5hbWljTGF5ZXJzXCJ9O2xldCBtPWNsYXNzIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmZsb29ycz1udWxsLHRoaXMuc2NhbGU9MH1kZXN0cm95KCl7dGhpcy5sYXllcj1udWxsfWdldCBkeW5hbWljTGF5ZXJzKCl7aWYoIXRoaXMuaGFzRHluYW1pY0xheWVycylyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMudmlzaWJsZVN1YmxheWVycy5tYXAoKGU9Pntjb25zdCByPWwodGhpcy5mbG9vcnMsZSk7cmV0dXJuIGUudG9FeHBvcnRJbWFnZUpTT04ocil9KSk7cmV0dXJuIGUubGVuZ3RoP0pTT04uc3RyaW5naWZ5KGUpOm51bGx9Z2V0IGhhc0R5bmFtaWNMYXllcnMoKXtyZXR1cm4gdGhpcy5sYXllciYmbih0aGlzLnZpc2libGVTdWJsYXllcnMsdGhpcy5sYXllci5zZXJ2aWNlU3VibGF5ZXJzLHRoaXMubGF5ZXIuZ2RiVmVyc2lvbil9c2V0IGxheWVyKGUpe3RoaXMuX2dldChcImxheWVyXCIpIT09ZSYmKHRoaXMuX3NldChcImxheWVyXCIsZSksdGhpcy5yZW1vdmVIYW5kbGVzKFwibGF5ZXJcIiksZSYmdGhpcy5hZGRIYW5kbGVzKFtlLmFsbFN1YmxheWVycy5vbihcImNoYW5nZVwiLCgoKT0+dGhpcy5ub3RpZnlDaGFuZ2UoXCJ2aXNpYmxlU3VibGF5ZXJzXCIpKSksZS5vbihcInN1YmxheWVyLXVwZGF0ZVwiLChlPT50aGlzLm5vdGlmeUNoYW5nZSh5W2UucHJvcGVydHlOYW1lXSkpKV0sXCJsYXllclwiKSl9Z2V0IGxheWVycygpe2NvbnN0IGU9dGhpcy52aXNpYmxlU3VibGF5ZXJzO3JldHVybiBlP2UubGVuZ3RoP1wic2hvdzpcIitlLm1hcCgoZT0+ZS5pZCkpLmpvaW4oXCIsXCIpOlwic2hvdzotMVwiOm51bGx9Z2V0IGxheWVyRGVmcygpe2NvbnN0IGU9ISF0aGlzLmZsb29ycz8ubGVuZ3RoLHI9dGhpcy52aXNpYmxlU3VibGF5ZXJzLmZpbHRlcigocj0+bnVsbCE9ci5kZWZpbml0aW9uRXhwcmVzc2lvbnx8ZSYmbnVsbCE9ci5mbG9vckluZm8pKTtyZXR1cm4gci5sZW5ndGg/SlNPTi5zdHJpbmdpZnkoci5yZWR1Y2UoKChlLHIpPT57Y29uc3QgdD1sKHRoaXMuZmxvb3JzLHIpLGk9cyh0LHIuZGVmaW5pdGlvbkV4cHJlc3Npb24pO3JldHVybiBudWxsIT1pJiYoZVtyLmlkXT1pKSxlfSkse30pKTpudWxsfWdldCB2ZXJzaW9uKCl7dGhpcy5jb21taXRQcm9wZXJ0eShcImxheWVyc1wiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwibGF5ZXJEZWZzXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJkeW5hbWljTGF5ZXJzXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJ0aW1lRXh0ZW50XCIpO2NvbnN0IGU9dGhpcy5sYXllcjtyZXR1cm4gZSYmKGUuY29tbWl0UHJvcGVydHkoXCJkcGlcIiksZS5jb21taXRQcm9wZXJ0eShcImltYWdlRm9ybWF0XCIpLGUuY29tbWl0UHJvcGVydHkoXCJpbWFnZVRyYW5zcGFyZW5jeVwiKSxlLmNvbW1pdFByb3BlcnR5KFwiZ2RiVmVyc2lvblwiKSksKHRoaXMuX2dldChcInZlcnNpb25cIil8fDApKzF9Z2V0IHZpc2libGVTdWJsYXllcnMoKXtjb25zdCBlPVtdO2lmKCF0aGlzLmxheWVyKXJldHVybiBlO2NvbnN0IHI9dGhpcy5sYXllci5zdWJsYXllcnMscz10aGlzLnNjYWxlLHQ9cj0+e3IudmlzaWJsZSYmKDA9PT1zfHxvKHMsci5taW5TY2FsZSxyLm1heFNjYWxlKSkmJihyLnN1YmxheWVycz9yLnN1YmxheWVycy5mb3JFYWNoKHQpOmUudW5zaGlmdChyKSl9O3ImJnIuZm9yRWFjaCh0KTtjb25zdCBpPXRoaXMuX2dldChcInZpc2libGVTdWJsYXllcnNcIik7cmV0dXJuIWl8fGkubGVuZ3RoIT09ZS5sZW5ndGh8fGkuc29tZSgoKHIscyk9PmVbc10hPT1yKSk/ZTppfXRvSlNPTigpe2NvbnN0IGU9dGhpcy5sYXllcjtsZXQgcj17ZHBpOmUuZHBpLGZvcm1hdDplLmltYWdlRm9ybWF0LHRyYW5zcGFyZW50OmUuaW1hZ2VUcmFuc3BhcmVuY3ksZ2RiVmVyc2lvbjplLmdkYlZlcnNpb258fG51bGx9O3JldHVybiB0aGlzLmhhc0R5bmFtaWNMYXllcnMmJnRoaXMuZHluYW1pY0xheWVycz9yLmR5bmFtaWNMYXllcnM9dGhpcy5keW5hbWljTGF5ZXJzOnI9ey4uLnIsbGF5ZXJzOnRoaXMubGF5ZXJzLGxheWVyRGVmczp0aGlzLmxheWVyRGVmc30scn19O2UoW3Qoe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwiZHluYW1pY0xheWVyc1wiLG51bGwpLGUoW3QoKV0sbS5wcm90b3R5cGUsXCJmbG9vcnNcIix2b2lkIDApLGUoW3Qoe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwiaGFzRHluYW1pY0xheWVyc1wiLG51bGwpLGUoW3QoKV0sbS5wcm90b3R5cGUsXCJsYXllclwiLG51bGwpLGUoW3Qoe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwibGF5ZXJzXCIsbnVsbCksZShbdCh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJsYXllckRlZnNcIixudWxsKSxlKFt0KHt0eXBlOk51bWJlcn0pXSxtLnByb3RvdHlwZSxcInNjYWxlXCIsdm9pZCAwKSxlKFt0KGEpXSxtLnByb3RvdHlwZSxcInRpbWVFeHRlbnRcIix2b2lkIDApLGUoW3Qoe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwidmVyc2lvblwiLG51bGwpLGUoW3Qoe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwidmlzaWJsZVN1YmxheWVyc1wiLG51bGwpLG09ZShbaShcImVzcmkubGF5ZXJzLm1peGlucy5FeHBvcnRJbWFnZVBhcmFtZXRlcnNcIildLG0pO2V4cG9ydHttIGFzIEV4cG9ydEltYWdlUGFyYW1ldGVyc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbyhvKXtjb25zdCBuPW8ubGF5ZXI7aWYoXCJmbG9vckluZm9cImluIG4mJm4uZmxvb3JJbmZvPy5mbG9vckZpZWxkJiZcImZsb29yc1wiaW4gby52aWV3KXtyZXR1cm4gbChvLnZpZXcuZmxvb3JzLG4uZmxvb3JJbmZvLmZsb29yRmllbGQpfXJldHVybiBudWxsfWZ1bmN0aW9uIG4obyxuKXtyZXR1cm5cImZsb29ySW5mb1wiaW4gbiYmbi5mbG9vckluZm8/LmZsb29yRmllbGQ/bChvLG4uZmxvb3JJbmZvLmZsb29yRmllbGQpOm51bGx9ZnVuY3Rpb24gbChvLG4pe2lmKCFvPy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgbD1vLmZpbHRlcigobz0+XCJcIiE9PW8pKS5tYXAoKG89PmAnJHtvfSdgKSk7cmV0dXJuIGwucHVzaChcIicnXCIpLGAke259IElOICgke2wuam9pbihcIixcIil9KSBPUiAke259IElTIE5VTExgfWV4cG9ydHtvIGFzIGdldEZsb29yRmlsdGVyQ2xhdXNlLG4gYXMgZ2V0TGF5ZXJGbG9vckZpbHRlckNsYXVzZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e09yaWdpbklkIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvUHJvcGVydHlPcmlnaW4uanNcIjtmdW5jdGlvbiBlKHIsZSxuKXtjb25zdCBvPWUuZmxhdHRlbigoKHtzdWJsYXllcnM6cn0pPT5yKSkubGVuZ3RoO2lmKG8hPT1yLmxlbmd0aClyZXR1cm4hMDtyZXR1cm4hIXIuc29tZSgocj0+ci5vcmlnaW5JZE9mKFwibWluU2NhbGVcIik+bnx8ci5vcmlnaW5JZE9mKFwibWF4U2NhbGVcIik+bnx8ci5vcmlnaW5JZE9mKFwicmVuZGVyZXJcIik+bnx8ci5vcmlnaW5JZE9mKFwibGFiZWxpbmdJbmZvXCIpPm58fHIub3JpZ2luSWRPZihcIm9wYWNpdHlcIik+bnx8ci5vcmlnaW5JZE9mKFwibGFiZWxzVmlzaWJsZVwiKT5ufHxyLm9yaWdpbklkT2YoXCJzb3VyY2VcIik+bikpfHwhaShyLGUpfWZ1bmN0aW9uIG4oZSxuLG8pe3JldHVybiEhZS5zb21lKChlPT57Y29uc3Qgbj1lLnNvdXJjZTtyZXR1cm4hKCFufHxcIm1hcC1sYXllclwiPT09bi50eXBlJiZuLm1hcExheWVySWQ9PT1lLmlkJiYobnVsbD09bi5nZGJWZXJzaW9ufHxuLmdkYlZlcnNpb249PT1vKSl8fGUub3JpZ2luSWRPZihcInJlbmRlcmVyXCIpPnIuU0VSVklDRXx8ZS5vcmlnaW5JZE9mKFwibGFiZWxpbmdJbmZvXCIpPnIuU0VSVklDRXx8ZS5vcmlnaW5JZE9mKFwib3BhY2l0eVwiKT5yLlNFUlZJQ0V8fGUub3JpZ2luSWRPZihcImxhYmVsc1Zpc2libGVcIik+ci5TRVJWSUNFfSkpfHwhaShlLG4pfWZ1bmN0aW9uIGkocixlKXtpZighcj8ubGVuZ3RofHxudWxsPT1lKXJldHVybiEwO2NvbnN0IG49ZS5zbGljZSgpLnJldmVyc2UoKS5mbGF0dGVuKCgoe3N1YmxheWVyczpyfSk9PnImJnIudG9BcnJheSgpLnJldmVyc2UoKSkpLm1hcCgocj0+ci5pZCkpLnRvQXJyYXkoKTtpZihyLmxlbmd0aD5uLmxlbmd0aClyZXR1cm4hMTtsZXQgaT0wO2NvbnN0IG89bi5sZW5ndGg7Zm9yKGNvbnN0e2lkOnR9b2Ygcil7Zm9yKDtpPG8mJm5baV0hPT10OylpKys7aWYoaT49bylyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBvKHIpe3JldHVybiEhciYmci5zb21lKChyPT5udWxsIT1yLm1pblNjYWxlfHxudWxsIT1yLmxheWVyRGVmaW5pdGlvbj8ubWluU2NhbGUpKX1leHBvcnR7biBhcyBpc0V4cG9ydER5bmFtaWMsbyBhcyBpc1N1YmxheWVyT3ZlcmhhdWwsZSBhcyBzaG91bGRXcml0ZVN1YmxheWVyU3RydWN0dXJlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNTb21lIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7dG8zRCBhcyBuLGRlZmF1bHRUbzNET3B0aW9ucyBhcyBvfWZyb21cIi4uLy4uL3N5bWJvbHMvc3VwcG9ydC9zeW1ib2xDb252ZXJzaW9uLmpzXCI7ZnVuY3Rpb24gdChyKXtyZXR1cm4gbnVsbD09cnx8XCJzaW1wbGVcIj09PXIudHlwZXx8XCJ1bmlxdWUtdmFsdWVcIj09PXIudHlwZXx8XCJjbGFzcy1icmVha3NcIj09PXIudHlwZXx8XCJkaWN0aW9uYXJ5XCI9PT1yLnR5cGV8fFwiaGVhdG1hcFwiPT09ci50eXBlfWZ1bmN0aW9uIHMocixuKXtpZihudWxsPT1yKXJldHVybiBudWxsO2lmKCF0KHIpKXJldHVybiBuZXcgZShcInJlbmRlcmVyLWNvbnZlcnNpb24tM2Q6dW5zdXBwb3J0ZWQtcmVuZGVyZXJcIixgVW5zdXBwb3J0ZWQgcmVuZGVyZXIgb2YgdHlwZSAnJHtyLnR5cGV8fHIuZGVjbGFyZWRDbGFzc30nYCx7cmVuZGVyZXI6cn0pO3N3aXRjaChyLnR5cGUpe2Nhc2VcInNpbXBsZVwiOnJldHVybiB1KHIpO2Nhc2VcInVuaXF1ZS12YWx1ZVwiOnJldHVybiBpKHIsbik7Y2FzZVwiY2xhc3MtYnJlYWtzXCI6cmV0dXJuIGEocik7Y2FzZVwiZGljdGlvbmFyeVwiOmNhc2VcImhlYXRtYXBcIjpyZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBsKHIsbil7aWYoIW4pcmV0dXJuIG51bGw7bGV0IG87aWYobz1BcnJheS5pc0FycmF5KG4pP246W25dLG8ubGVuZ3RoPjApe2NvbnN0IG49by5tYXAoKHI9PnIuZGV0YWlscy5zeW1ib2wudHlwZXx8ci5kZXRhaWxzLnN5bWJvbC5kZWNsYXJlZENsYXNzKSkuZmlsdGVyKChyPT4hIXIpKTtuLnNvcnQoKTtjb25zdCB0PVtdO3JldHVybiBuLmZvckVhY2goKChyLGUpPT57MCE9PWUmJnI9PT1uW2UtMV18fHQucHVzaChyKX0pKSxuZXcgZShcInJlbmRlcmVyLWNvbnZlcnNpb24tM2Q6dW5zdXBwb3J0ZWQtc3ltYm9sc1wiLGBSZW5kZXJlciBjb250YWlucyBzeW1ib2xzICgke3Quam9pbihcIiwgXCIpfSkgd2hpY2ggYXJlIG5vdCBzdXBwb3J0ZWQgaW4gM0RgLHtyZW5kZXJlcjpyLHN5bWJvbEVycm9yczpvfSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gdShyKXtyZXR1cm4gbChyLG4oci5zeW1ib2wpLmVycm9yKX1mdW5jdGlvbiBpKGUsdCl7Y29uc3Qgcz17Li4ubywuLi50fSx1PWUudW5pcXVlVmFsdWVJbmZvcz8ubWFwKChyPT5uKHIuc3ltYm9sLHMpLmVycm9yKSkuZmlsdGVyKHIpLGk9bihlLmRlZmF1bHRTeW1ib2wscyk7cmV0dXJuIGkuZXJyb3ImJnU/LnVuc2hpZnQoaS5lcnJvciksbChlLHUpfWZ1bmN0aW9uIGEoZSl7Y29uc3Qgbz1lLmNsYXNzQnJlYWtJbmZvcy5tYXAoKHI9Pm4oci5zeW1ib2wpLmVycm9yKSkuZmlsdGVyKHIpLHQ9bihlLmRlZmF1bHRTeW1ib2wpO3JldHVybiB0LmVycm9yJiZvLnVuc2hpZnQodC5lcnJvciksbChlLG8pfWV4cG9ydHt0IGFzIGlzU3VwcG9ydGVkUmVuZGVyZXIzRCxzIGFzIHZhbGlkYXRlVG8zRH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e29uIGFzIHQsd2F0Y2ggYXMgcyxpbml0aWFsIGFzIGl9ZnJvbVwiLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtjYXN0IGFzIG99ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9jYXN0LmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG59ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBhIGZyb21cIi4vV2lkZ2V0LmpzXCI7aW1wb3J0IGwgZnJvbVwiLi9MZWdlbmQvTGVnZW5kVmlld01vZGVsLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi9MZWdlbmQvc3R5bGVzL0NhcmQuanNcIjtpbXBvcnQgcCBmcm9tXCIuL0xlZ2VuZC9zdHlsZXMvQ2xhc3NpYy5qc1wiO2ltcG9ydHtnbG9iYWxDc3MgYXMgY31mcm9tXCIuL3N1cHBvcnQvZ2xvYmFsQ3NzLmpzXCI7aW1wb3J0e2xlZ2FjeUljb24gYXMgaH1mcm9tXCIuL3N1cHBvcnQvbGVnYWN5SWNvbi5qc1wiO2ltcG9ydFwiLi9zdXBwb3J0L3dpZGdldFV0aWxzLmpzXCI7aW1wb3J0e21lc3NhZ2VCdW5kbGUgYXMgeX1mcm9tXCIuL3N1cHBvcnQvZGVjb3JhdG9ycy9tZXNzYWdlQnVuZGxlLmpzXCI7aW1wb3J0e3RzeCBhcyB2fWZyb21cIi4vc3VwcG9ydC9qc3hGYWN0b3J5LmpzXCI7Y29uc3QgZz17YmFzZTpcImVzcmktbGVnZW5kXCIsd2lkZ2V0SWNvbjpoLmxheWVyTGlzdH07bGV0IHU9Y2xhc3MgZXh0ZW5kcyBhe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmhlYWRpbmdMZXZlbD0zLHRoaXMuaWNvbkNsYXNzPWcud2lkZ2V0SWNvbix0aGlzLmljb249bnVsbCx0aGlzLm1lc3NhZ2VzPW51bGwsdGhpcy5zdHlsZT1uZXcgcCx0aGlzLnZpZXdNb2RlbD1uZXcgbH1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKFt0KCgoKT0+dGhpcy52aWV3KSxcInJlc2l6ZVwiLCgoKT0+dGhpcy5zY2hlZHVsZVJlbmRlcigpKSksdCgoKCk9PnRoaXMuYWN0aXZlTGF5ZXJJbmZvcyksXCJjaGFuZ2VcIiwoKCk9PnRoaXMuX3JlZnJlc2hBY3RpdmVMYXllckluZm9zKHRoaXMuYWN0aXZlTGF5ZXJJbmZvcykpKSxzKCgoKT0+dGhpcy5oZWFkaW5nTGV2ZWwpLChlPT57Y29uc3R7c3R5bGU6dH09dGhpczt0JiYodC5oZWFkaW5nTGV2ZWw9ZSl9KSkscygoKCk9PnRoaXMuc3R5bGUpLCgoZSx0KT0+e3QmJmUhPT10JiZ0LmRlc3Ryb3koKSxlJiYoZS5hY3RpdmVMYXllckluZm9zPXRoaXMuYWN0aXZlTGF5ZXJJbmZvcyxcImNhcmRcIj09PWUudHlwZSYmKGUudmlldz10aGlzLnZpZXcpLGUuaGVhZGluZ0xldmVsPXRoaXMuaGVhZGluZ0xldmVsKX0pLGkpXSl9Z2V0IGFjdGl2ZUxheWVySW5mb3MoKXtyZXR1cm4gdGhpcy52aWV3TW9kZWwuYWN0aXZlTGF5ZXJJbmZvc31zZXQgYWN0aXZlTGF5ZXJJbmZvcyhlKXt0aGlzLnZpZXdNb2RlbC5hY3RpdmVMYXllckluZm9zPWV9Z2V0IGJhc2VtYXBMZWdlbmRWaXNpYmxlKCl7cmV0dXJuIHRoaXMudmlld01vZGVsLmJhc2VtYXBMZWdlbmRWaXNpYmxlfXNldCBiYXNlbWFwTGVnZW5kVmlzaWJsZShlKXt0aGlzLnZpZXdNb2RlbC5iYXNlbWFwTGVnZW5kVmlzaWJsZT1lfWdldCBncm91bmRMZWdlbmRWaXNpYmxlKCl7cmV0dXJuIHRoaXMudmlld01vZGVsLmdyb3VuZExlZ2VuZFZpc2libGV9c2V0IGdyb3VuZExlZ2VuZFZpc2libGUoZSl7dGhpcy52aWV3TW9kZWwuZ3JvdW5kTGVnZW5kVmlzaWJsZT1lfWdldCBoaWRlTGF5ZXJzTm90SW5DdXJyZW50Vmlldygpe3JldHVybiB0aGlzLnZpZXdNb2RlbC5oaWRlTGF5ZXJzTm90SW5DdXJyZW50Vmlld31zZXQgaGlkZUxheWVyc05vdEluQ3VycmVudFZpZXcoZSl7dGhpcy52aWV3TW9kZWwuaGlkZUxheWVyc05vdEluQ3VycmVudFZpZXc9ZX1nZXQga2VlcENhY2hlT25EZXN0cm95KCl7cmV0dXJuIHRoaXMudmlld01vZGVsLmtlZXBDYWNoZU9uRGVzdHJveX1zZXQga2VlcENhY2hlT25EZXN0cm95KGUpe3RoaXMudmlld01vZGVsLmtlZXBDYWNoZU9uRGVzdHJveT1lfWdldCByZXNwZWN0TGF5ZXJWaXNpYmlsaXR5KCl7cmV0dXJuIHRoaXMudmlld01vZGVsLnJlc3BlY3RMYXllclZpc2liaWxpdHl9c2V0IHJlc3BlY3RMYXllclZpc2liaWxpdHkoZSl7dGhpcy52aWV3TW9kZWwucmVzcGVjdExheWVyVmlzaWJpbGl0eT1lfWdldCBsYWJlbCgpe3JldHVybiB0aGlzLm1lc3NhZ2VzPy53aWRnZXRMYWJlbD8/XCJcIn1zZXQgbGFiZWwoZSl7dGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJsYWJlbFwiLGUpfWdldCBsYXllckluZm9zKCl7cmV0dXJuIHRoaXMudmlld01vZGVsLmxheWVySW5mb3N9c2V0IGxheWVySW5mb3MoZSl7dGhpcy52aWV3TW9kZWwubGF5ZXJJbmZvcz1lfWNhc3RTdHlsZShlKXtpZihlIGluc3RhbmNlb2YgZHx8ZSBpbnN0YW5jZW9mIHApcmV0dXJuIGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuXCJjYXJkXCI9PT1lP25ldyBkOm5ldyBwO2lmKGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnR5cGUpe2NvbnN0IHQ9ey4uLmV9O2RlbGV0ZSB0LnR5cGU7cmV0dXJuIG5ldyhcImNhcmRcIj09PWUudHlwZT9kOnApKHQpfXJldHVybiBuZXcgcH1nZXQgdmlldygpe3JldHVybiB0aGlzLnZpZXdNb2RlbC52aWV3fXNldCB2aWV3KGUpe3RoaXMudmlld01vZGVsLnZpZXc9ZX1yZW5kZXIoKXtyZXR1cm4gdihcImRpdlwiLHtjbGFzczp0aGlzLmNsYXNzZXMoZy5iYXNlLGMud2lkZ2V0LHRoaXMuc3R5bGUgaW5zdGFuY2VvZiBwP2MucGFuZWw6bnVsbCl9LHRoaXMuc3R5bGUucmVuZGVyKCkpfV9yZWZyZXNoQWN0aXZlTGF5ZXJJbmZvcyhlKXtlLmZvckVhY2goKGU9Pnt0aGlzLnJlbW92ZUhhbmRsZXMoYHZlcnNpb25fJHtlLmxheWVyLnVpZH1gKSx0aGlzLl9yZW5kZXJPbkFjdGl2ZUxheWVySW5mb0NoYW5nZShlKX0pKSx0aGlzLnNjaGVkdWxlUmVuZGVyKCl9X3JlbmRlck9uQWN0aXZlTGF5ZXJJbmZvQ2hhbmdlKGUpe2NvbnN0IHI9cygoKCk9PmUudmVyc2lvbiksKCgpPT50aGlzLnNjaGVkdWxlUmVuZGVyKCkpKTt0aGlzLmFkZEhhbmRsZXMocixgdmVyc2lvbl8ke2UubGF5ZXIudWlkfWApO2NvbnN0IG89dCgoKCk9PmUuY2hpbGRyZW4pLFwiY2hhbmdlXCIsKCgpPT5lLmNoaWxkcmVuLmZvckVhY2goKGU9PnRoaXMuX3JlbmRlck9uQWN0aXZlTGF5ZXJJbmZvQ2hhbmdlKGUpKSkpLGkpO3RoaXMuYWRkSGFuZGxlcyhvLGB2ZXJzaW9uXyR7ZS5sYXllci51aWR9YCksZS5jaGlsZHJlbi5mb3JFYWNoKChlPT50aGlzLl9yZW5kZXJPbkFjdGl2ZUxheWVySW5mb0NoYW5nZShlKSkpfX07ZShbcigpXSx1LnByb3RvdHlwZSxcImFjdGl2ZUxheWVySW5mb3NcIixudWxsKSxlKFtyKCldLHUucHJvdG90eXBlLFwiYmFzZW1hcExlZ2VuZFZpc2libGVcIixudWxsKSxlKFtyKCldLHUucHJvdG90eXBlLFwiZ3JvdW5kTGVnZW5kVmlzaWJsZVwiLG51bGwpLGUoW3IoKV0sdS5wcm90b3R5cGUsXCJoZWFkaW5nTGV2ZWxcIix2b2lkIDApLGUoW3IoKV0sdS5wcm90b3R5cGUsXCJoaWRlTGF5ZXJzTm90SW5DdXJyZW50Vmlld1wiLG51bGwpLGUoW3IoKV0sdS5wcm90b3R5cGUsXCJrZWVwQ2FjaGVPbkRlc3Ryb3lcIixudWxsKSxlKFtyKCldLHUucHJvdG90eXBlLFwicmVzcGVjdExheWVyVmlzaWJpbGl0eVwiLG51bGwpLGUoW3IoKV0sdS5wcm90b3R5cGUsXCJpY29uQ2xhc3NcIix2b2lkIDApLGUoW3IoKV0sdS5wcm90b3R5cGUsXCJpY29uXCIsdm9pZCAwKSxlKFtyKCldLHUucHJvdG90eXBlLFwibGFiZWxcIixudWxsKSxlKFtyKCldLHUucHJvdG90eXBlLFwibGF5ZXJJbmZvc1wiLG51bGwpLGUoW3IoKSx5KFwiZXNyaS93aWRnZXRzL0xlZ2VuZC90OW4vTGVnZW5kXCIpXSx1LnByb3RvdHlwZSxcIm1lc3NhZ2VzXCIsdm9pZCAwKSxlKFtyKCldLHUucHJvdG90eXBlLFwic3R5bGVcIix2b2lkIDApLGUoW28oXCJzdHlsZVwiKV0sdS5wcm90b3R5cGUsXCJjYXN0U3R5bGVcIixudWxsKSxlKFtyKCldLHUucHJvdG90eXBlLFwidmlld1wiLG51bGwpLGUoW3IoKV0sdS5wcm90b3R5cGUsXCJ2aWV3TW9kZWxcIix2b2lkIDApLHU9ZShbbihcImVzcmkud2lkZ2V0cy5MZWdlbmRcIildLHUpO2NvbnN0IEw9dTtleHBvcnR7TCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uL2ludGwuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0e3dhdGNoIGFzIHQsaW5pdGlhbCBhcyBzLHdoZW4gYXMgYX1mcm9tXCIuLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtnZXQgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9nZXQuanNcIjtpbXBvcnQgeSBmcm9tXCIuL3N1cHBvcnQvQWN0aXZlTGF5ZXJJbmZvLmpzXCI7aW1wb3J0e29uTG9jYWxlQ2hhbmdlIGFzIGR9ZnJvbVwiLi4vLi4vaW50bC9sb2NhbGUuanNcIjtjb25zdCBoPXtzdGF0ZTpcInN0YXRlXCIsdmlldzpcInZpZXdcIixhbGxMYXllclZpZXdzOlwiYWxsLWxheWVyLXZpZXdzXCIsbGVnZW5kUHJvcGVydGllczpcImxlZ2VuZC1wcm9wZXJ0aWVzXCJ9LGM9aS5vZlR5cGUoeSksTD1uZXcgU2V0KFtcImVzcmkubGF5ZXJzLkJ1aWxkaW5nU2NlbmVMYXllclwiLFwiZXNyaS5sYXllcnMuQ1NWTGF5ZXJcIixcImVzcmkubGF5ZXJzLkZlYXR1cmVMYXllclwiLFwiZXNyaS5sYXllcnMuR2VvSlNPTkxheWVyXCIsXCJlc3JpLmxheWVycy5HZW9SU1NMYXllclwiLFwiZXNyaS5sYXllcnMuR3JvdXBMYXllclwiLFwiZXNyaS5sYXllcnMuSGVhdG1hcExheWVyXCIsXCJlc3JpLmxheWVycy5JbWFnZXJ5TGF5ZXJcIixcImVzcmkubGF5ZXJzLkltYWdlcnlUaWxlTGF5ZXJcIixcImVzcmkubGF5ZXJzLk1hcEltYWdlTGF5ZXJcIixcImVzcmkubGF5ZXJzLk9HQ0ZlYXR1cmVMYXllclwiLFwiZXNyaS5sYXllcnMuUG9pbnRDbG91ZExheWVyXCIsXCJlc3JpLmxheWVycy5TdHJlYW1MYXllclwiLFwiZXNyaS5sYXllcnMuU2NlbmVMYXllclwiLFwiZXNyaS5sYXllcnMuU3VidHlwZUdyb3VwTGF5ZXJcIixcImVzcmkubGF5ZXJzLlRpbGVMYXllclwiLFwiZXNyaS5sYXllcnMuVm94ZWxMYXllclwiLFwiZXNyaS5sYXllcnMuV0ZTTGF5ZXJcIixcImVzcmkubGF5ZXJzLldNU0xheWVyXCIsXCJlc3JpLmxheWVycy5XTVRTTGF5ZXJcIixcImVzcmkubGF5ZXJzLldDU0xheWVyXCIsXCJlc3JpLmxheWVycy5MaW5rQ2hhcnRMYXllclwiLFwiZXNyaS5sYXllcnMua25vd2xlZGdlR3JhcGguS25vd2xlZGdlR3JhcGhTdWJsYXllclwiXSksdT1cInZpZXcuYmFzZW1hcFZpZXcuYmFzZUxheWVyVmlld3NcIixmPVwidmlldy5ncm91bmRWaWV3LmxheWVyVmlld3NcIixwPVwidmlldy5iYXNlbWFwVmlldy5yZWZlcmVuY2VMYXllclZpZXdzXCIsXz1bdSxmLFwidmlldy5sYXllclZpZXdzXCIscF07bGV0IHY9Y2xhc3MgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX2xheWVyVmlld0J5TGF5ZXJJZD17fSx0aGlzLl9sYXllckluZm9zQnlMYXllclZpZXdJZD17fSx0aGlzLl9hY3RpdmVMYXllckluZm9zQnlMYXllclZpZXdJZD17fSx0aGlzLl9hY3RpdmVMYXllckluZm9zV2l0aE5vUGFyZW50PW5ldyBpLHRoaXMuYWN0aXZlTGF5ZXJJbmZvcz1uZXcgYyx0aGlzLmJhc2VtYXBMZWdlbmRWaXNpYmxlPSExLHRoaXMuZ3JvdW5kTGVnZW5kVmlzaWJsZT0hMSx0aGlzLmhpZGVMYXllcnNOb3RJbkN1cnJlbnRWaWV3PSExLHRoaXMua2VlcENhY2hlT25EZXN0cm95PSExLHRoaXMucmVzcGVjdExheWVyVmlzaWJpbGl0eT0hMCx0aGlzLmxheWVySW5mb3M9W10sdGhpcy52aWV3PW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyh0KCgoKT0+dGhpcy52aWV3KSwoKCk9PnRoaXMuX3ZpZXdIYW5kbGVzKCkpLHMpLGgudmlldyksdGhpcy5hZGRIYW5kbGVzKGQoKCgpPT50aGlzLl9yZWZyZXNoKCkpKSl9ZGVzdHJveSgpe3RoaXMuX2Rlc3Ryb3lWaWV3QWN0aXZlTGF5ZXJJbmZvcygpLHRoaXMudmlldz1udWxsfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLnZpZXc/LnJlYWR5P1wicmVhZHlcIjpcImRpc2FibGVkXCJ9X3ZpZXdIYW5kbGVzKCl7dGhpcy5yZW1vdmVIYW5kbGVzKGguc3RhdGUpLHRoaXMudmlldyYmdGhpcy5hZGRIYW5kbGVzKHQoKCgpPT50aGlzLnN0YXRlKSwoKCk9PnRoaXMuX3N0YXRlSGFuZGxlcygpKSxzKSxoLnN0YXRlKX1fc3RhdGVIYW5kbGVzKCl7dGhpcy5fcmVzZXRBbGwoKSxcInJlYWR5XCI9PT10aGlzLnN0YXRlJiZ0aGlzLl93YXRjaFByb3BlcnRpZXNBbmRBbGxMYXllclZpZXdzKCl9X3Jlc2V0QWxsKCl7dGhpcy5yZW1vdmVIYW5kbGVzKFtoLmFsbExheWVyVmlld3MsaC5sZWdlbmRQcm9wZXJ0aWVzXSksdGhpcy5fZGVzdHJveVZpZXdBY3RpdmVMYXllckluZm9zKCksdGhpcy5hY3RpdmVMYXllckluZm9zLnJlbW92ZUFsbCgpfV9kZXN0cm95Vmlld0FjdGl2ZUxheWVySW5mb3MoKXtPYmplY3Qua2V5cyh0aGlzLl9hY3RpdmVMYXllckluZm9zQnlMYXllclZpZXdJZCkuZm9yRWFjaCh0aGlzLl9kZXN0cm95Vmlld0FjdGl2ZUxheWVySW5mbyx0aGlzKX1fZGVzdHJveVZpZXdBY3RpdmVMYXllckluZm8oZSl7dGhpcy5yZW1vdmVIYW5kbGVzKGUpO2NvbnN0IHI9dGhpcy5fYWN0aXZlTGF5ZXJJbmZvc0J5TGF5ZXJWaWV3SWRbZV07ZGVsZXRlIHRoaXMuX2FjdGl2ZUxheWVySW5mb3NCeUxheWVyVmlld0lkW2VdLHI/LnBhcmVudCYmci5wYXJlbnQuY2hpbGRyZW4ucmVtb3ZlKHIpfV93YXRjaFByb3BlcnRpZXNBbmRBbGxMYXllclZpZXdzKCl7Y29uc3R7dmlldzplfT10aGlzO2lmKCFlKXJldHVybjtjb25zdHthbGxMYXllclZpZXdzOnJ9PWU7ci5sZW5ndGgmJnRoaXMuX3JlZnJlc2goKSx0aGlzLmFkZEhhbmRsZXMoci5vbihcImNoYW5nZVwiLChlPT50aGlzLl9hbGxMYXllclZpZXdzQ2hhbmdlSGFuZGxlKGUpKSksaC5hbGxMYXllclZpZXdzKSx0aGlzLmFkZEhhbmRsZXModCgoKCk9Plt0aGlzLmxheWVySW5mb3MsdGhpcy5iYXNlbWFwTGVnZW5kVmlzaWJsZSx0aGlzLmdyb3VuZExlZ2VuZFZpc2libGVdKSwoKCk9PnRoaXMuX3Byb3BlcnRpZXNDaGFuZ2VIYW5kbGUoKSkpLGgubGVnZW5kUHJvcGVydGllcyl9X2FsbExheWVyVmlld3NDaGFuZ2VIYW5kbGUoZSl7ZS5yZW1vdmVkLmZvckVhY2goKGU9PnRoaXMuX2Rlc3Ryb3lWaWV3QWN0aXZlTGF5ZXJJbmZvKGUudWlkKSkpLHRoaXMuX3JlZnJlc2goKX1fcHJvcGVydGllc0NoYW5nZUhhbmRsZSgpe3RoaXMuX2Rlc3Ryb3lWaWV3QWN0aXZlTGF5ZXJJbmZvcygpLHRoaXMuX3JlZnJlc2goKX1fcmVmcmVzaCgpe3RoaXMuX2xheWVySW5mb3NCeUxheWVyVmlld0lkPXt9LHRoaXMuYWN0aXZlTGF5ZXJJbmZvcy5yZW1vdmVBbGwoKSx0aGlzLl9nZW5lcmF0ZUxheWVyVmlld3MoKS5maWx0ZXIodGhpcy5fZmlsdGVyTGF5ZXJWaWV3c0J5TGF5ZXJJbmZvcyx0aGlzKS5maWx0ZXIodGhpcy5faXNMYXllclZpZXdTdXBwb3J0ZWQsdGhpcykuZm9yRWFjaCh0aGlzLl9nZW5lcmF0ZUFjdGl2ZUxheWVySW5mbyx0aGlzKSx0aGlzLl9zb3J0QWN0aXZlTGF5ZXJJbmZvcyh0aGlzLmFjdGl2ZUxheWVySW5mb3MpfV9zb3J0QWN0aXZlTGF5ZXJJbmZvcyhlKXtjb25zdCByPXRoaXMudmlldztpZihlLmxlbmd0aDwyfHwhcilyZXR1cm47Y29uc3QgaT1bXTtlLmZvckVhY2goKHI9PntpZighci5wYXJlbnQpe2NvbnN0IHQ9ci5sYXllci5wYXJlbnQscz10JiZcInVpZFwiaW4gdCYmdGhpcy5fbGF5ZXJWaWV3QnlMYXllcklkW3QudWlkXSxhPXMmJnRoaXMuX2FjdGl2ZUxheWVySW5mb3NCeUxheWVyVmlld0lkW3MudWlkXTthJiZlLmluY2x1ZGVzKGEpJiYoaS5wdXNoKHIpLHIucGFyZW50PWEsYS5jaGlsZHJlbi5hZGQociksdGhpcy5fc29ydEFjdGl2ZUxheWVySW5mb3MoYS5jaGlsZHJlbikpfX0pKSxlLnJlbW92ZU1hbnkoaSk7Y29uc3QgdD17fTtyLmFsbExheWVyVmlld3MuZm9yRWFjaCgoKGUscik9PnRbZS5sYXllci51aWRdPXIpKSxlLnNvcnQoKChlLHIpPT57Y29uc3QgaT10W2UubGF5ZXIudWlkXXx8MDtyZXR1cm4odFtyLmxheWVyLnVpZF18fDApLWl9KSl9X2dlbmVyYXRlTGF5ZXJWaWV3cygpe2NvbnN0IGU9W107cmV0dXJuIF8uZmlsdGVyKHRoaXMuX2ZpbHRlckxheWVyVmlld3MsdGhpcykubWFwKChlPT5sKHRoaXMsZSkpKS5maWx0ZXIoKGU9Pm51bGwhPWUpKS5mb3JFYWNoKHRoaXMuX2NvbGxlY3RMYXllclZpZXdzKFwibGF5ZXJWaWV3c1wiLGUpKSxlfV9maWx0ZXJMYXllclZpZXdzKGUpe2NvbnN0IHI9IXRoaXMuYmFzZW1hcExlZ2VuZFZpc2libGUmJihlPT09dXx8ZT09PXApLGk9IXRoaXMuZ3JvdW5kTGVnZW5kVmlzaWJsZSYmZT09PWY7cmV0dXJuIXImJiFpfV9jb2xsZWN0TGF5ZXJWaWV3cyhlLHIpe2NvbnN0IGk9dD0+KHQmJnQuZm9yRWFjaCgodD0+e3IucHVzaCh0KSxpKHRbZV0pfSkpLHIpO3JldHVybiBpfV9maWx0ZXJMYXllclZpZXdzQnlMYXllckluZm9zKGUpe2NvbnN0IHI9dGhpcy5sYXllckluZm9zO3JldHVybiFyfHwhci5sZW5ndGh8fHIuc29tZSgocj0+dGhpcy5faGFzTGF5ZXJJbmZvKHIsZSkpKX1faGFzTGF5ZXJJbmZvKGUscil7Y29uc3QgaT10aGlzLl9pc0xheWVyVUlETWF0Y2hpbmcoZS5sYXllcixyLmxheWVyLnVpZCk7cmV0dXJuIGkmJih0aGlzLl9sYXllckluZm9zQnlMYXllclZpZXdJZFtyLnVpZF09ZSksaX1faXNMYXllclVJRE1hdGNoaW5nKGUscil7cmV0dXJuIGUmJihlLnVpZD09PXJ8fHRoaXMuX2hhc0xheWVyVUlEKGUubGF5ZXJzLHIpKX1faGFzTGF5ZXJVSUQoZSxyKXtyZXR1cm4gZSYmZS5zb21lKChlPT50aGlzLl9pc0xheWVyVUlETWF0Y2hpbmcoZSxyKSkpfV9pc0xheWVyVmlld1N1cHBvcnRlZChlKXtyZXR1cm4hIUwuaGFzKGUubGF5ZXIuZGVjbGFyZWRDbGFzcykmJih0aGlzLl9sYXllclZpZXdCeUxheWVySWRbZS5sYXllci51aWRdPWUsITApfV9nZW5lcmF0ZUFjdGl2ZUxheWVySW5mbyhlKXt0aGlzLl9pc0xheWVyQWN0aXZlKGUpP3RoaXMuX2J1aWxkQWN0aXZlTGF5ZXJJbmZvKGUpOih0aGlzLnJlbW92ZUhhbmRsZXMoZS51aWQpLHRoaXMuYWRkSGFuZGxlcyh0KCgoKT0+W2UubGVnZW5kRW5hYmxlZCxlLmxheWVyPy5sZWdlbmRFbmFibGVkXSksKCgpPT50aGlzLl9sYXllckFjdGl2ZUhhbmRsZShlKSkpLGUudWlkKSl9X2xheWVyQWN0aXZlSGFuZGxlKGUpe3RoaXMuX2lzTGF5ZXJBY3RpdmUoZSkmJih0aGlzLnJlbW92ZUhhbmRsZXMoZS51aWQpLHRoaXMuX2J1aWxkQWN0aXZlTGF5ZXJJbmZvKGUpKX1faXNMYXllckFjdGl2ZShlKXtyZXR1cm4hdGhpcy5yZXNwZWN0TGF5ZXJWaXNpYmlsaXR5fHxlLmxlZ2VuZEVuYWJsZWQmJmUubGF5ZXI/LmxlZ2VuZEVuYWJsZWR9X2J1aWxkQWN0aXZlTGF5ZXJJbmZvKGUpe2NvbnN0IHI9ZS5sYXllcixpPWUudWlkLG49dGhpcy5fbGF5ZXJJbmZvc0J5TGF5ZXJWaWV3SWRbaV07bGV0IG89dGhpcy5fYWN0aXZlTGF5ZXJJbmZvc0J5TGF5ZXJWaWV3SWRbaV07aWYoIW8pe2NvbnN0IHQ9dm9pZCAwIT09bj8udGl0bGUmJm4ubGF5ZXIudWlkPT09ci51aWQ7bz1uZXcgeSh7bGF5ZXI6cixsYXllclZpZXc6ZSx0aXRsZTp0P24udGl0bGU6ci50aXRsZSx2aWV3OnRoaXMudmlldyxyZXNwZWN0TGF5ZXJWaXNpYmlsaXR5OnRoaXMucmVzcGVjdExheWVyVmlzaWJpbGl0eSxoaWRlTGF5ZXJzTm90SW5DdXJyZW50Vmlldzp0aGlzLmhpZGVMYXllcnNOb3RJbkN1cnJlbnRWaWV3LGtlZXBDYWNoZU9uRGVzdHJveTp0aGlzLmtlZXBDYWNoZU9uRGVzdHJveSxzdWJsYXllcklkczpuPy5zdWJsYXllcklkc3x8W119KSx0aGlzLl9hY3RpdmVMYXllckluZm9zQnlMYXllclZpZXdJZFtpXT1vfWNvbnN0IGw9ci5wYXJlbnQmJlwidWlkXCJpbiByLnBhcmVudD90aGlzLl9sYXllclZpZXdCeUxheWVySWRbci5wYXJlbnQ/LnVpZF06bnVsbDtpZihvLnBhcmVudD10aGlzLl9hY3RpdmVMYXllckluZm9zQnlMYXllclZpZXdJZFtsPy51aWRdLCF0aGlzLmhhc0hhbmRsZXMoaSkpe2NvbnN0IG49W3QoKCgpPT5yLnRpdGxlKSwoZT0+dGhpcy5fdGl0bGVIYW5kbGUoZSxvKSkpLHQoKCgpPT5bci5vcGFjaXR5LFwicmVuZGVyZXJcImluIHImJnIucmVuZGVyZXIsXCJwb2ludFN5bWJvbFwiaW4gciYmci5wb2ludFN5bWJvbCxcImxpbmVTeW1ib2xcImluIHImJnIubGluZVN5bWJvbCxcInBvbHlnb25TeW1ib2xcImluIHImJnIucG9seWdvblN5bWJvbF0pLCgoKT0+dGhpcy5fY29uc3RydWN0TGVnZW5kRWxlbWVudHMobykpKSxhKCgoKT0+ITA9PT10aGlzLnZpZXc/LnN0YXRpb25hcnkpLCgoKT0+dGhpcy5fc2NhbGVIYW5kbGUobykpLHMpLHQoKCgpPT5lLl9lZmZlY3RpdmVSZW5kZXJlciksKCgpPT50aGlzLl9jb25zdHJ1Y3RMZWdlbmRFbGVtZW50cyhvKSkpLHQoKCgpPT5cImVmZmVjdFwiaW4gciYmci5lZmZlY3QpLCgoKT0+dGhpcy5fY29uc3RydWN0TGVnZW5kRWxlbWVudHMobykpKSxhKCgoKT0+dGhpcy52aWV3Py50aW1lWm9uZSksKCgpPT50aGlzLl9jb25zdHJ1Y3RMZWdlbmRFbGVtZW50cyhvKSkscyldO2lmKHRoaXMucmVzcGVjdExheWVyVmlzaWJpbGl0eSl7Y29uc3QgaT10KCgoKT0+ZS5sZWdlbmRFbmFibGVkKSwoZT0+dGhpcy5fbGVnZW5kRW5hYmxlZEhhbmRsZShlLG8pKSkscz10KCgoKT0+ci5sZWdlbmRFbmFibGVkKSwoZT0+dGhpcy5fbGVnZW5kRW5hYmxlZEhhbmRsZShlLG8pKSk7bi5wdXNoKGkscyl9dGhpcy5hZGRIYW5kbGVzKG4saSl9by5pc1NjYWxlRHJpdmVufHx0aGlzLl9jb25zdHJ1Y3RMZWdlbmRFbGVtZW50cyhvKSx0aGlzLl9hZGRBY3RpdmVMYXllckluZm8obyl9X3RpdGxlSGFuZGxlKGUscil7ci50aXRsZT1lLHRoaXMuX2NvbnN0cnVjdExlZ2VuZEVsZW1lbnRzKHIpfV9sZWdlbmRFbmFibGVkSGFuZGxlKGUscil7ZT90aGlzLl9hZGRBY3RpdmVMYXllckluZm8ocik6dGhpcy5fcmVtb3ZlQWN0aXZlTGF5ZXJJbmZvKHIpfV9zY2FsZUhhbmRsZShlKXsoZS5pc1NjYWxlRHJpdmVufHxlLmhpZGVMYXllcnNOb3RJbkN1cnJlbnRWaWV3KSYmdGhpcy5fY29uc3RydWN0TGVnZW5kRWxlbWVudHMoZSl9X2FkZEFjdGl2ZUxheWVySW5mbyhlKXtjb25zdHtsYXllclZpZXc6cixsYXllcjppfT1lO2lmKHRoaXMuX2lzTGF5ZXJBY3RpdmUocikmJiF0aGlzLmFjdGl2ZUxheWVySW5mb3MuaW5jbHVkZXMoZSkpe2NvbnN0IHI9ZS5wYXJlbnQ7aWYocilyLmNoaWxkcmVuLmluY2x1ZGVzKGUpfHxyLmNoaWxkcmVuLnB1c2goZSksdGhpcy5fc29ydEFjdGl2ZUxheWVySW5mb3Moci5jaGlsZHJlbik7ZWxzZXtjb25zdCByPXRoaXMubGF5ZXJJbmZvcz8uc29tZSgoZT0+ZS5sYXllci51aWQ9PT1pLnVpZCkpO2kucGFyZW50JiZcInVpZFwiaW4gaS5wYXJlbnQmJiFyP3RoaXMuX2FjdGl2ZUxheWVySW5mb3NXaXRoTm9QYXJlbnQuYWRkKGUpOih0aGlzLmFjdGl2ZUxheWVySW5mb3MuYWRkKGUpLHRoaXMuX3NvcnRBY3RpdmVMYXllckluZm9zKHRoaXMuYWN0aXZlTGF5ZXJJbmZvcykpfWlmKHRoaXMuX2FjdGl2ZUxheWVySW5mb3NXaXRoTm9QYXJlbnQubGVuZ3RoKXtjb25zdCBlPVtdO3RoaXMuX2FjdGl2ZUxheWVySW5mb3NXaXRoTm9QYXJlbnQuZm9yRWFjaCgocj0+e2NvbnN0IGk9ci5sYXllci5wYXJlbnQsdD1pJiZcInVpZFwiaW4gaT90aGlzLl9sYXllclZpZXdCeUxheWVySWRbaT8udWlkXTpudWxsLHM9dGhpcy5fYWN0aXZlTGF5ZXJJbmZvc0J5TGF5ZXJWaWV3SWRbdD8udWlkXTtzJiYoZS5wdXNoKHIpLHIucGFyZW50PXMpfSkpLGUubGVuZ3RoJiYodGhpcy5fYWN0aXZlTGF5ZXJJbmZvc1dpdGhOb1BhcmVudC5yZW1vdmVNYW55KGUpLGUuZm9yRWFjaCgoZT0+dGhpcy5fYWRkQWN0aXZlTGF5ZXJJbmZvKGUpKSkpfX19X3JlbW92ZUFjdGl2ZUxheWVySW5mbyhlKXtjb25zdCByPWUucGFyZW50O3I/ci5jaGlsZHJlbi5yZW1vdmUoZSk6dGhpcy5hY3RpdmVMYXllckluZm9zLnJlbW92ZShlKX1fY29uc3RydWN0TGVnZW5kRWxlbWVudHMoZSl7Y29uc3Qgcj1lLmxheWVyO1wiZmVhdHVyZUNvbGxlY3Rpb25zXCJpbiByJiZyLmZlYXR1cmVDb2xsZWN0aW9ucz9lLmJ1aWxkTGVnZW5kRWxlbWVudHNGb3JGZWF0dXJlQ29sbGVjdGlvbnMoci5mZWF0dXJlQ29sbGVjdGlvbnMpOlwiZmVhdHVyZVJlZHVjdGlvblwiaW4gciYmci5mZWF0dXJlUmVkdWN0aW9uJiZcInJlbmRlcmVyXCJpbiByLmZlYXR1cmVSZWR1Y3Rpb24mJihcImJpbm5pbmdcIj09PXIuZmVhdHVyZVJlZHVjdGlvbi50eXBlfHxcImNsdXN0ZXJcIj09PXIuZmVhdHVyZVJlZHVjdGlvbi50eXBlKT9lLmJ1aWxkTGVnZW5kRWxlbWVudHNGb3JGZWF0dXJlUmVkdWN0aW9uKHIuZmVhdHVyZVJlZHVjdGlvbik6XCJyZW5kZXJlclwiaW4gciYmci5yZW5kZXJlciYmIShcInN1YmxheWVyc1wiaW4gcik/ZS5idWlsZExlZ2VuZEVsZW1lbnRzRm9yUmVuZGVyZXIoci5yZW5kZXJlcik6XCJ1cmxcImluIHImJnIudXJsP2UuYnVpbGRMZWdlbmRFbGVtZW50c0ZvclRvb2xzKCk6ZS5jaGlsZHJlbi5mb3JFYWNoKChlPT50aGlzLl9jb25zdHJ1Y3RMZWdlbmRFbGVtZW50cyhlKSkpfX07ZShbbih7dHlwZTpjfSldLHYucHJvdG90eXBlLFwiYWN0aXZlTGF5ZXJJbmZvc1wiLHZvaWQgMCksZShbbigpXSx2LnByb3RvdHlwZSxcImJhc2VtYXBMZWdlbmRWaXNpYmxlXCIsdm9pZCAwKSxlKFtuKCldLHYucHJvdG90eXBlLFwiZ3JvdW5kTGVnZW5kVmlzaWJsZVwiLHZvaWQgMCksZShbbigpXSx2LnByb3RvdHlwZSxcImhpZGVMYXllcnNOb3RJbkN1cnJlbnRWaWV3XCIsdm9pZCAwKSxlKFtuKCldLHYucHJvdG90eXBlLFwia2VlcENhY2hlT25EZXN0cm95XCIsdm9pZCAwKSxlKFtuKCldLHYucHJvdG90eXBlLFwicmVzcGVjdExheWVyVmlzaWJpbGl0eVwiLHZvaWQgMCksZShbbigpXSx2LnByb3RvdHlwZSxcImxheWVySW5mb3NcIix2b2lkIDApLGUoW24oe3JlYWRPbmx5OiEwfSldLHYucHJvdG90eXBlLFwic3RhdGVcIixudWxsKSxlKFtuKCldLHYucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksdj1lKFtvKFwiZXNyaS53aWRnZXRzLkxlZ2VuZC5MZWdlbmRWaWV3TW9kZWxcIildLHYpO2NvbnN0IEk9djtleHBvcnR7SSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2ludGwuanNcIjtpbXBvcnR7d2F0Y2ggYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHQycHggYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL3NjcmVlblV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBhfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7cmVuZGVyU1ZHIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9zdXBwb3J0L3N2Z1V0aWxzLmpzXCI7aW1wb3J0e2dldENTU0ZpbHRlckZyb21FZmZlY3RMaXN0IGFzIG99ZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9zdXBwb3J0L3V0aWxzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vV2lkZ2V0LmpzXCI7aW1wb3J0e2NzcyBhcyBufWZyb21cIi4vQ2FyZENTUy5qc1wiO2ltcG9ydHtyZW5kZXJSZWxhdGlvbnNoaXBSYW1wIGFzIGN9ZnJvbVwiLi9zdXBwb3J0L3JlbGF0aW9uc2hpcFV0aWxzLmpzXCI7aW1wb3J0e2dldFVuaXZhcmlhdGVBYm92ZUFuZEJlbG93UmFtcEVsZW1lbnRzIGFzIHAsZ2V0VW5pdmFyaWF0ZVNpemVSYW1wU2l6ZSBhcyBkLGdldFVuaXZhcmlhdGVDb2xvclJhbXBTaXplIGFzIG0sZ2V0VW5pdmFyaWF0ZUNvbG9yUmFtcFByZXZpZXcgYXMgaCxnZXRVbml2YXJpYXRlQ29sb3JSYW1wTWFyZ2luIGFzIHksZ2V0VW5pdmFyaWF0ZUNvbG9yU2l6ZVJhbXBFbGVtZW50cyBhcyBnfWZyb21cIi4vc3VwcG9ydC91bml2YXJpYXRlVXRpbHMuanNcIjtpbXBvcnR7Z2V0VGl0bGUgYXMgdixhdHRhY2hUb05vZGUgYXMgZixpc0ltYWdlcnlTdHJldGNoZWRMZWdlbmQgYXMgdSxnZXRTdHJldGNoU3RvcExhYmVsIGFzIGJ9ZnJvbVwiLi4vc3VwcG9ydC9zdHlsZVV0aWxzLmpzXCI7aW1wb3J0e0hlYWRpbmcgYXMgXyxpbmNyZW1lbnRIZWFkaW5nTGV2ZWwgYXMgd31mcm9tXCIuLi8uLi9zdXBwb3J0L0hlYWRpbmcuanNcIjtpbXBvcnR7YWNjZXNzaWJsZUhhbmRsZXIgYXMgTH1mcm9tXCIuLi8uLi9zdXBwb3J0L2RlY29yYXRvcnMvYWNjZXNzaWJsZUhhbmRsZXIuanNcIjtpbXBvcnR7bWVzc2FnZUJ1bmRsZSBhcyBTfWZyb21cIi4uLy4uL3N1cHBvcnQvZGVjb3JhdG9ycy9tZXNzYWdlQnVuZGxlLmpzXCI7aW1wb3J0e3RzeCBhcyB4fWZyb21cIi4uLy4uL3N1cHBvcnQvanN4RmFjdG9yeS5qc1wiO2ltcG9ydHtpc1JUTCBhcyBDfWZyb21cIi4uLy4uL3N1cHBvcnQvd2lkZ2V0VXRpbHMuanNcIjtpbXBvcnR7c3Vic3RpdHV0ZSBhcyBSfWZyb21cIi4uLy4uLy4uL2ludGwvc3Vic3RpdHV0ZS5qc1wiO2NvbnN0ICQ9MjUsaz0yNSx6PTc2OCxJPTEwMDt2YXIgTjshZnVuY3Rpb24oZSl7ZS5BdXRvPVwiYXV0b1wiLGUuU3RhY2s9XCJzdGFja1wiLGUuU2lkZUJ5U2lkZT1cInNpZGUtYnktc2lkZVwifShOfHwoTj17fSkpO2NvbnN0IEE9XCIjZGRkXCIsaj13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztmdW5jdGlvbiBFKGUpe2lmKGUpe2lmKGUudHlwZS5pbmNsdWRlcyhcIjNkXCIpKXtjb25zdCB0PWUuc3ltYm9sTGF5ZXJzPy5sZW5ndGg7aWYoIXQpcmV0dXJuO2NvbnN0IHM9ZS5zeW1ib2xMYXllcnMuYXQodC0xKSxpPXMucmVzb3VyY2U/LnByaW1pdGl2ZTtyZXR1cm5cImNpcmNsZVwiPT09aXx8XCJjcm9zc1wiPT09aXx8XCJraXRlXCI9PT1pfHxcInNwaGVyZVwiPT09aXx8XCJjdWJlXCI9PT1pfHxcImRpYW1vbmRcIj09PWl9e2NvbnN0IHQ9ZS5zdHlsZTtyZXR1cm5cImNpcmNsZVwiPT09dHx8XCJkaWFtb25kXCI9PT10fHxcImNyb3NzXCI9PT10fX19ZnVuY3Rpb24gRihlKXtpZihlKXtpZihlLnR5cGUuaW5jbHVkZXMoXCIzZFwiKSl7Y29uc3QgdD1lLnN5bWJvbExheWVycz8ubGVuZ3RoO2lmKCF0KXJldHVybjtjb25zdCBzPWUuc3ltYm9sTGF5ZXJzLmF0KHQtMSkuZ2V0KFwicmVzb3VyY2UucHJpbWl0aXZlXCIpO3JldHVyblwidHJpYW5nbGVcIj09PXN8fFwiY29uZVwiPT09c3x8XCJ0ZXRyYWhlZHJvblwiPT09c31yZXR1cm5cInRyaWFuZ2xlXCI9PT1lLnN0eWxlfX1sZXQgVD1jbGFzcyBleHRlbmRzIGx7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuX2hhc0luZGljYXRvcnM9ITEsdGhpcy5fc2VsZWN0ZWRTZWN0aW9uTmFtZT1udWxsLHRoaXMuX3NlY3Rpb25OYW1lcz1bXSx0aGlzLl9zZWN0aW9uTWFwPW5ldyBNYXAsdGhpcy5hY3RpdmVMYXllckluZm9zPW51bGwsdGhpcy5oZWFkaW5nTGV2ZWw9Myx0aGlzLmxheW91dD1OLlN0YWNrLHRoaXMubWVzc2FnZXM9bnVsbCx0aGlzLm1lc3NhZ2VzQ29tbW9uPW51bGwsdGhpcy50eXBlPVwiY2FyZFwiLHRoaXMudmlldz1udWxsfWluaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXModCgoKCk9PnRoaXMuYWN0aXZlTGF5ZXJJbmZvcyksKGU9Pnt0aGlzLnJlbW92ZUFsbEhhbmRsZXMoKSx0aGlzLl93YXRjaEZvclNlY3Rpb25DaGFuZ2VzKGUpfSkpKX1yZW5kZXIoKXtjb25zdHt2aWV3OmV9PXRoaXM7dGhpcy5faGFzSW5kaWNhdG9ycz10aGlzLmxheW91dD09PU4uQXV0byYmZSYmZS5jb250YWluZXIuY2xpZW50V2lkdGg8PXp8fHRoaXMubGF5b3V0PT09Ti5TdGFjaztjb25zdCB0PXRoaXMuYWN0aXZlTGF5ZXJJbmZvcyxzPXQmJnQudG9BcnJheSgpLm1hcCgoZT0+dGhpcy5fcmVuZGVyTGVnZW5kRm9yTGF5ZXIoZSkpKS5maWx0ZXIoKGU9PiEhZSkpO3RoaXMuX2hhc0luZGljYXRvcnM/dGhpcy5fc2VsZWN0ZWRTZWN0aW9uTmFtZSYmdGhpcy5fc2VjdGlvbk5hbWVzLmluY2x1ZGVzKHRoaXMuX3NlbGVjdGVkU2VjdGlvbk5hbWUpfHwodGhpcy5fc2VsZWN0ZWRTZWN0aW9uTmFtZT10aGlzLl9zZWN0aW9uTmFtZXMmJnRoaXMuX3NlY3Rpb25OYW1lc1swXSk6dGhpcy5fc2VsZWN0ZWRTZWN0aW9uTmFtZT1udWxsO2NvbnN0IGk9dGhpcy5fc2VjdGlvbk5hbWVzLmxlbmd0aCxhPXRoaXMuX3NlY3Rpb25OYW1lcy5tYXAoKChlLHQpPT57Y29uc3Qgcz1SKHRoaXMubWVzc2FnZXNDb21tb24ucGFnaW5hdGlvbi5wYWdlVGV4dCx7aW5kZXg6dCsxLHRvdGFsOml9KTtyZXR1cm4geChcImRpdlwiLHtcImFyaWEtY29udHJvbHNcIjpgJHtlfS1wYW5lbGAsXCJhcmlhLWxhYmVsXCI6cyxcImFyaWEtc2VsZWN0ZWRcIjoodGhpcy5fc2VsZWN0ZWRTZWN0aW9uTmFtZT09PWUpLnRvU3RyaW5nKCksYmluZDp0aGlzLGNsYXNzOnRoaXMuY2xhc3NlcyhuLmluZGljYXRvcix7W24uYWN0aXZhdGVkXTp0aGlzLl9zZWxlY3RlZFNlY3Rpb25OYW1lPT09ZX0pLFwiZGF0YS1zZWN0aW9uLW5hbWVcIjplLGlkOmUsa2V5OmUsb25jbGljazp0aGlzLl9zZWxlY3RTZWN0aW9uLG9ua2V5ZG93bjp0aGlzLl9mb2N1c1NlY3Rpb24scm9sZTpcInRhYlwiLHRhYkluZGV4OnRoaXMuX3NlbGVjdGVkU2VjdGlvbk5hbWU9PT1lPzA6LTEsdGl0bGU6c30pfSkpLHI9dGhpcy5faGFzSW5kaWNhdG9ycyYmaT4xP3goXCJkaXZcIix7Y2xhc3M6bi5pbmRpY2F0b3JDb250YWluZXIsa2V5OlwiY2Fyb3VzZWwtbmF2aWdhdGlvblwiLHJvbGU6XCJ0YWJsaXN0XCJ9LGEpOm51bGwsbz10aGlzLl9oYXNJbmRpY2F0b3JzP3RoaXMuX3NlY3Rpb25NYXAuZ2V0KHRoaXMuX3NlbGVjdGVkU2VjdGlvbk5hbWUpOnMmJnMubGVuZ3RoP3M6bnVsbCxsPXtbbi5zdGFja2VkXTp0aGlzLl9oYXNJbmRpY2F0b3JzfTtyZXR1cm4geChcImRpdlwiLHtjbGFzczp0aGlzLmNsYXNzZXMobi5iYXNlLGwpfSxvfHx4KFwiZGl2XCIse2NsYXNzOm4ubWVzc2FnZX0sdGhpcy5tZXNzYWdlcy5ub0xlZ2VuZCkscil9X3NlbGVjdFNlY3Rpb24oZSl7Y29uc3QgdD1lLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNlY3Rpb24tbmFtZVwiKTt0JiYodGhpcy5fc2VsZWN0ZWRTZWN0aW9uTmFtZT10KX1fZm9jdXNTZWN0aW9uKGUpe3N3aXRjaChlLmtleSl7Y2FzZVwiQXJyb3dMZWZ0XCI6Y2FzZVwiQXJyb3dSaWdodFwiOnRoaXMuX3N3aXRjaFNlY3Rpb25PbkFycm93UHJlc3MoZSk7YnJlYWs7Y2FzZVwiRW50ZXJcIjpjYXNlXCIgXCI6dGhpcy5fc2VsZWN0U2VjdGlvbihlKX19X3N3aXRjaFNlY3Rpb25PbkFycm93UHJlc3MoZSl7Y29uc3QgdD1lLmtleSxzPVwiQXJyb3dMZWZ0XCI9PT10Py0xOjEsaT1lLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNlY3Rpb24tbmFtZVwiKSxhPXRoaXMuX3NlY3Rpb25OYW1lcy5pbmRleE9mKGkpLHI9dGhpcy5fc2VjdGlvbk5hbWVzO2xldCBvPW51bGw7LTEhPT1hJiYoclthK3NdP289ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoclthK3NdKTpcIkFycm93TGVmdFwiPT09dD9vPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJbci5sZW5ndGgtMV0pOlwiQXJyb3dSaWdodFwiPT09dCYmKG89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoclswXSkpLG8/LmZvY3VzKCkpfV93YXRjaEZvclNlY3Rpb25DaGFuZ2VzKGUpe2lmKHRoaXMuX2dlbmVyYXRlU2VjdGlvbk5hbWVzKCksZSl7ZS5mb3JFYWNoKChlPT57Y29uc3Qgcz1gYWN0aXZlTGF5ZXJJbmZvLSR7ZS5sYXllci51aWR9LXZlcnNpb24tY2hhbmdlYDt0aGlzLnJlbW92ZUhhbmRsZXMocyksdGhpcy5fd2F0Y2hGb3JTZWN0aW9uQ2hhbmdlcyhlLmNoaWxkcmVuKSx0aGlzLmFkZEhhbmRsZXModCgoKCk9PmUudmVyc2lvbiksKCgpPT50aGlzLl9nZW5lcmF0ZVNlY3Rpb25OYW1lcygpKSkscyl9KSk7Y29uc3Qgcz1cImFjdGl2ZUxheWVySW5mb3MtY29sbGVjdGlvbi1jaGFuZ2VcIjt0aGlzLnJlbW92ZUhhbmRsZXMocyksdGhpcy5hZGRIYW5kbGVzKGUub24oXCJjaGFuZ2VcIiwoKCk9PnRoaXMuX3dhdGNoRm9yU2VjdGlvbkNoYW5nZXMoZSkpKSxzKX19X2dlbmVyYXRlU2VjdGlvbk5hbWVzKCl7dGhpcy5fc2VjdGlvbk5hbWVzLmxlbmd0aD0wLHRoaXMuX3NlbGVjdGVkU2VjdGlvbk5hbWU9bnVsbCx0aGlzLmFjdGl2ZUxheWVySW5mb3MmJnRoaXMuYWN0aXZlTGF5ZXJJbmZvcy5mb3JFYWNoKHRoaXMuX2dlbmVyYXRlU2VjdGlvbk5hbWVzRm9yQWN0aXZlTGF5ZXJJbmZvLHRoaXMpfV9nZXRTZWN0aW9uTmFtZShlLHQscyl7cmV0dXJuYCR7dGhpcy5pZH0ke2UudWlkfS10eXBlLSR7dC50eXBlfS0ke3N9YH1fZ2VuZXJhdGVTZWN0aW9uTmFtZXNGb3JBY3RpdmVMYXllckluZm8oZSl7ZS5jaGlsZHJlbi5mb3JFYWNoKHRoaXMuX2dlbmVyYXRlU2VjdGlvbk5hbWVzRm9yQWN0aXZlTGF5ZXJJbmZvLHRoaXMpLGUubGVnZW5kRWxlbWVudHMmJmUubGVnZW5kRWxlbWVudHMuZm9yRWFjaCgoKHQscyk9Pnt0aGlzLl9zZWN0aW9uTmFtZXMucHVzaCh0aGlzLl9nZXRTZWN0aW9uTmFtZShlLmxheWVyLHQscykpfSkpfV9yZW5kZXJMZWdlbmRGb3JMYXllcihlKXtpZighZS5yZWFkeSlyZXR1cm4gbnVsbDtpZihlLmNoaWxkcmVuLmxlbmd0aCl7Y29uc3QgdD1lLmNoaWxkcmVuLm1hcCgoZT0+dGhpcy5fcmVuZGVyTGVnZW5kRm9yTGF5ZXIoZSkpKS50b0FycmF5KCk7cmV0dXJuIHgoXCJkaXZcIix7Y2xhc3M6dGhpcy5jbGFzc2VzKG4uc2VydmljZSxuLmdyb3VwTGF5ZXIpLGtleTplLmxheWVyLnVpZH0seChcImRpdlwiLHtjbGFzczpuLnNlcnZpY2VDYXB0aW9uQ29udGFpbmVyfSxlLnRpdGxlKSx0KX17Y29uc3QgdD1lLmxlZ2VuZEVsZW1lbnRzO2lmKHQmJiF0Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBzPXQuc29tZSgoZT0+XCJyZWxhdGlvbnNoaXAtcmFtcFwiPT09ZS50eXBlKSksaT10Lm1hcCgoKHQsaSk9PnRoaXMuX3JlbmRlckxlZ2VuZEZvckVsZW1lbnQodCxlLGkscykpKS5maWx0ZXIoKGU9PiEhZSkpO2lmKCFpLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBhPXtbbi5ncm91cExheWVyQ2hpbGRdOiEhZS5wYXJlbnR9O3JldHVybiB4KFwiZGl2XCIse2NsYXNzOnRoaXMuY2xhc3NlcyhuLnNlcnZpY2UsYSksa2V5OmUubGF5ZXIudWlkfSx4KFwiZGl2XCIse2NsYXNzOm4uc2VydmljZUNhcHRpb25Db250YWluZXJ9LHgoXCJkaXZcIix7Y2xhc3M6bi5zZXJ2aWNlQ2FwdGlvblRleHR9LGUudGl0bGUpKSx4KFwiZGl2XCIse2NsYXNzOm4uc2VydmljZUNvbnRlbnR9LGkpKX19X3JlbmRlckxlZ2VuZEZvckVsZW1lbnQoZSx0LHMsaT0hMSxhPSExKXtjb25zdCByPVwiY29sb3ItcmFtcFwiPT09ZS50eXBlLG89XCJvcGFjaXR5LXJhbXBcIj09PWUudHlwZSxsPXQubGF5ZXI7bGV0IHA9bnVsbDtpZihcInN0cmluZ1wiPT10eXBlb2YgZS50aXRsZSlwPWUudGl0bGU7ZWxzZSBpZihlLnRpdGxlKXtjb25zdCB0PWUudGl0bGUscz12KHRoaXMubWVzc2FnZXMsdCxyfHxvKTtwPXQudGl0bGU/YCR7dC50aXRsZX0gKCR7c30pYDpzfWNvbnN0IGQ9dGhpcy5fZ2V0U2VjdGlvbk5hbWUobCxlLHMpLG09dGhpcy5faGFzSW5kaWNhdG9ycyYmIWE/eChcImRpdlwiLG51bGwseChfLHtjbGFzczpuLmNhcm91c2VsVGl0bGUsbGV2ZWw6dGhpcy5oZWFkaW5nTGV2ZWx9LHQudGl0bGUpLHgoXyx7Y2xhc3M6bi5sYXllckNhcHRpb24sbGV2ZWw6dyh0aGlzLmhlYWRpbmdMZXZlbCl9LHApKTpwP3goXyx7Y2xhc3M6bi5sYXllckNhcHRpb24sbGV2ZWw6dGhpcy5oZWFkaW5nTGV2ZWx9LHApOm51bGwsaD10LmVmZmVjdExpc3Q7bGV0IHk9bnVsbDtzd2l0Y2goZS50eXBlKXtjYXNlXCJzeW1ib2wtdGFibGVcIjp7Y29uc3Qgcz1lLmluZm9zLm1hcCgoKHMsaSk9PnRoaXMuX3JlbmRlckxlZ2VuZEZvckVsZW1lbnRJbmZvKHMsdCxlLmxlZ2VuZFR5cGUsaSkpKS5maWx0ZXIoKGU9PiEhZSkpO2lmKHMubGVuZ3RoKXtjb25zdCBlPXNbMF0ucHJvcGVydGllcy5jbGFzc2VzPy5bbi5zeW1ib2xSb3ddLHQ9e1tuLmxhYmVsQ29udGFpbmVyXTohZSYmIWksW24ucmVsYXRpb25zaGlwTGFiZWxDb250YWluZXJdOml9O3k9eChcImRpdlwiLHtjbGFzczp0aGlzLmNsYXNzZXModCl9LHMpfWJyZWFrfWNhc2VcImNvbG9yLXJhbXBcIjpjYXNlXCJvcGFjaXR5LXJhbXBcIjpjYXNlXCJoZWF0bWFwLXJhbXBcIjpjYXNlXCJzdHJldGNoLXJhbXBcIjp5PXRoaXMuX3JlbmRlckxlZ2VuZEZvclJhbXAoZSxsLm9wYWNpdHksaCk7YnJlYWs7Y2FzZVwic2l6ZS1yYW1wXCI6eT10aGlzLl9yZW5kZXJTaXplUmFtcChlLGwub3BhY2l0eSk7YnJlYWs7Y2FzZVwicGllLWNoYXJ0LXJhbXBcIjp5PXRoaXMuX3JlbmRlclBpZUNoYXJ0UmFtcChlKTticmVhaztjYXNlXCJyZWxhdGlvbnNoaXAtcmFtcFwiOnk9YyhlLHRoaXMuaWQse29wYWNpdHk6bC5vcGFjaXR5LGVmZmVjdExpc3Q6aCxhcmlhTGFiZWw6dGhpcy5tZXNzYWdlcy5wcmV2aWV3UmVsYXRpb25zaGlwUmFtcEFyaWFMYWJlbH0pO2JyZWFrO2Nhc2VcInVuaXZhcmlhdGUtYWJvdmUtYW5kLWJlbG93LXJhbXBcIjp5PXRoaXMuX3JlbmRlclVuaXZhcmlhdGVBYm92ZUFuZEJlbG93UmFtcChlLGwub3BhY2l0eSxoKTticmVhaztjYXNlXCJ1bml2YXJpYXRlLWNvbG9yLXNpemUtcmFtcFwiOnk9dGhpcy5fcmVuZGVyVW5pdmFyaWF0ZUNvbG9yU2l6ZVJhbXAoZSxsLm9wYWNpdHksaCl9aWYoIXkpcmV0dXJuIG51bGw7Y29uc3QgZz14KFwiZGl2XCIse1wiYXJpYS1sYWJlbGxlZGJ5XCI6ZCxjbGFzczpuLnNlY3Rpb24saWQ6YCR7ZH0tcGFuZWxgLGtleTpkLHJvbGU6XCJ0YWJwYW5lbFwiLHRhYkluZGV4OjB9LFttLHldKTtyZXR1cm4gYXx8dGhpcy5fc2VjdGlvbk1hcC5zZXQoZCxnKSxnfV9yZW5kZXJQaWVDaGFydFJhbXAoZSl7cmV0dXJuIHgoXCJkaXZcIix7YWZ0ZXJDcmVhdGU6ZixiaW5kOmUucHJldmlldyxjbGFzczpuLnBpZUNoYXJ0UmFtcFByZXZpZXd9KX1fcmVuZGVyVW5pdmFyaWF0ZUFib3ZlQW5kQmVsb3dSYW1wKGUsdCxzKXtjb25zdHtzaXplUmFtcEVsZW1lbnQ6aSxjb2xvclJhbXBFbGVtZW50OmF9PXAoZSx0LFwiaG9yaXpvbnRhbFwiKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCByPWQoaSxcImZ1bGxcIiwhMCxcImhvcml6b250YWxcIiksbz1tKGksXCJhYm92ZVwiLCEwLFwiaG9yaXpvbnRhbFwiKSxsPW0oaSxcImJlbG93XCIsITAsXCJob3Jpem9udGFsXCIpLGM9MTIsZz10aGlzLm1lc3NhZ2VzPy5wcmV2aWV3Q29sb3JSYW1wQXJpYUxhYmVsLHY9aChhLHt3aWR0aDpvLGhlaWdodDpjLHJhbXBBbGlnbm1lbnQ6XCJob3Jpem9udGFsXCIsb3BhY2l0eTp0LHR5cGU6XCJhYm92ZVwiLGVmZmVjdExpc3Q6cyxhcmlhTGFiZWw6Z30pLHU9aChhLHt3aWR0aDpsLGhlaWdodDpjLHJhbXBBbGlnbm1lbnQ6XCJob3Jpem9udGFsXCIsb3BhY2l0eTp0LHR5cGU6XCJiZWxvd1wiLGVmZmVjdExpc3Q6cyxhcmlhTGFiZWw6Z30pLGI9eShpLFwiY2FyZFwiKSxfPWkuaW5mb3MubWFwKChlPT5lLmxhYmVsKSksdz1fLmxlbmd0aC0xLEw9Xy5tYXAoKChlLHQpPT4wPT09dHx8dD09PXc/eChcImRpdlwiLHtrZXk6dH0sZSk6bnVsbCkpLFM9e2Rpc3BsYXk6XCJmbGV4XCIsZmxleERpcmVjdGlvbjpcImNvbHVtblwifSxSPXtkaXNwbGF5OlwiZmxleFwiLGZsZXhEaXJlY3Rpb246XCJyb3dcIn0sJD17bWFyZ2luVG9wOlwiM3B4XCIsZGlzcGxheTpcImZsZXhcIn07Qyh0aGlzLmNvbnRhaW5lcik/JC5tYXJnaW5SaWdodD1gJHtifXB4YDokLm1hcmdpbkxlZnQ9YCR7Yn1weGA7Y29uc3Qgaz17d2lkdGg6YCR7cn1weGAsZGlzcGxheTpcImZsZXhcIixmbGV4RGlyZWN0aW9uOlwicm93XCIsanVzdGlmeUNvbnRlbnQ6XCJzcGFjZS1iZXR3ZWVuXCJ9O3JldHVybiB4KFwiZGl2XCIse2NsYXNzOm4ubGF5ZXJSb3csa2V5Olwic2l6ZS1yYW1wLXByZXZpZXdcIixzdHlsZXM6U30seChcImRpdlwiLHtjbGFzczp0aGlzLmNsYXNzZXMobi5zeW1ib2xDb250YWluZXIsbi5zaXplUmFtcEhvcml6b250YWwpLHN0eWxlczpSfSxpLmluZm9zLm1hcCgoKGUsdCk9PngoXCJkaXZcIix7YWZ0ZXJDcmVhdGU6ZixiaW5kOmUucHJldmlldyxjbGFzczpuLnN5bWJvbCxrZXk6dH0pKSkpLHY/eChcImRpdlwiLHtjbGFzczpuLnVuaXZhcmlhdGVBYm92ZUFuZEJlbG93Q29sb3JSYW1wLGtleTpcImNvbG9yLXJhbXAtcHJldmlld1wiLHN0eWxlczokfSx4KFwiZGl2XCIse2FmdGVyQ3JlYXRlOmYsYmluZDp2fSkseChcImRpdlwiLHthZnRlckNyZWF0ZTpmLGJpbmQ6dX0pKTpudWxsLHgoXCJkaXZcIix7Y2xhc3M6bi5sYXllckluZm99LHgoXCJkaXZcIix7Y2xhc3M6bi5yYW1wTGFiZWxzQ29udGFpbmVyLHN0eWxlczprfSxMKSkpfV9yZW5kZXJVbml2YXJpYXRlQ29sb3JTaXplUmFtcChlLHQscyl7Y29uc3R7c2l6ZVJhbXBFbGVtZW50OmksY29sb3JSYW1wRWxlbWVudDphfT1nKGUsXCJob3Jpem9udGFsXCIpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHI9ZChpLFwiZnVsbFwiLCExLFwiaG9yaXpvbnRhbFwiKSxvPW0oaSxcImZ1bGxcIiwhMSxcImhvcml6b250YWxcIiksbD1oKGEse3dpZHRoOm8saGVpZ2h0OjEyLHJhbXBBbGlnbm1lbnQ6XCJob3Jpem9udGFsXCIsb3BhY2l0eTp0LHR5cGU6XCJmdWxsXCIsZWZmZWN0TGlzdDpzLGFyaWFMYWJlbDp0aGlzLm1lc3NhZ2VzPy5wcmV2aWV3Q29sb3JSYW1wQXJpYUxhYmVsfSksYz15KGksXCJjYXJkXCIpLHA9aS5pbmZvcy5sZW5ndGgtMSx2PWkuaW5mb3MubWFwKCgoZSx0KT0+MD09PXR8fHQ9PT1wP3goXCJkaXZcIix7a2V5OnR9LGUubGFiZWwpOm51bGwpKSx1PXtkaXNwbGF5OlwiZmxleFwiLGZsZXhEaXJlY3Rpb246XCJjb2x1bW5cIn0sYj17ZGlzcGxheTpcImZsZXhcIixmbGV4RGlyZWN0aW9uOlwicm93XCJ9LF89e21hcmdpblRvcDpcIjNweFwiLGRpc3BsYXk6XCJmbGV4XCJ9O0ModGhpcy5jb250YWluZXIpP18ubWFyZ2luUmlnaHQ9YCR7Y31weGA6Xy5tYXJnaW5MZWZ0PWAke2N9cHhgO2NvbnN0IHc9e3dpZHRoOmAke3J9cHhgLGRpc3BsYXk6XCJmbGV4XCIsZmxleERpcmVjdGlvbjpcInJvd1wiLGp1c3RpZnlDb250ZW50Olwic3BhY2UtYmV0d2VlblwifTtyZXR1cm4geChcImRpdlwiLHtjbGFzczpuLmxheWVyUm93LGtleTpcInNpemUtcmFtcC1wcmV2aWV3XCIsc3R5bGVzOnV9LHgoXCJkaXZcIix7Y2xhc3M6dGhpcy5jbGFzc2VzKG4uc3ltYm9sQ29udGFpbmVyLG4uc2l6ZVJhbXBIb3Jpem9udGFsKSxzdHlsZXM6Yn0saS5pbmZvcy5tYXAoKChlLHQpPT54KFwiZGl2XCIse2FmdGVyQ3JlYXRlOmYsYmluZDplLnByZXZpZXcsY2xhc3M6bi5zeW1ib2wsa2V5OnR9KSkpKSx4KFwiZGl2XCIse2NsYXNzOm4udW5pdmFyaWF0ZUFib3ZlQW5kQmVsb3dDb2xvclJhbXAsa2V5OlwiY29sb3ItcmFtcC1wcmV2aWV3XCIsc3R5bGVzOl99LHgoXCJkaXZcIix7YWZ0ZXJDcmVhdGU6ZixiaW5kOmx9KSkseChcImRpdlwiLHtjbGFzczpuLmxheWVySW5mb30seChcImRpdlwiLHtjbGFzczpuLnJhbXBMYWJlbHNDb250YWluZXIsc3R5bGVzOnd9LHYpKSl9X3JlbmRlckxlZ2VuZEZvckVsZW1lbnRJbmZvKGUsdCxzLGkpe2NvbnN0IGE9dC5sYXllcjtpZihlLnR5cGUpcmV0dXJuIHRoaXMuX3JlbmRlckxlZ2VuZEZvckVsZW1lbnQoZSx0LGksITEsITApO2NvbnN0IHI9dShhLHMpLGw9dih0aGlzLm1lc3NhZ2VzLGUubGFiZWwsITEpPz9cIlwiO2lmKGUucHJldmlldyl7aWYoIWUuc3ltYm9sPy50eXBlLmluY2x1ZGVzKFwic2ltcGxlLWZpbGxcIikpe2lmKCFlLmxhYmVsKXJldHVybiB4KFwiZGl2XCIse2FmdGVyQ3JlYXRlOmYsYmluZDplLnByZXZpZXcsa2V5Oml9KTtjb25zdCB0PXtbbi5zeW1ib2xDZWxsXTp0aGlzLl9oYXNJbmRpY2F0b3JzfTtyZXR1cm4geChcImRpdlwiLHtjbGFzczp0aGlzLmNsYXNzZXMobi5sYXllclJvdyx7W24uc3ltYm9sUm93XTp0aGlzLl9oYXNJbmRpY2F0b3JzfSksa2V5Oml9LHgoXCJkaXZcIix7YWZ0ZXJDcmVhdGU6ZixiaW5kOmUucHJldmlldyxjbGFzczp0aGlzLmNsYXNzZXModCl9KSx4KFwiZGl2XCIse2NsYXNzOnRoaXMuY2xhc3NlcyhuLmltYWdlTGFiZWwse1tuLmxhYmVsQ2VsbF06dGhpcy5faGFzSW5kaWNhdG9yc30pfSxsKSl9bGV0IHM9MjU1LHI9MjU1LGM9MjU1LHA9MCxkPTI1NSxtPTI1NSxoPTI1NSx5PTA7Y29uc3QgZz1lLnN5bWJvbC5jb2xvcj8uYSx2PWUuc3ltYm9sLm91dGxpbmU/LmNvbG9yPy5hO2cmJihzPWUuc3ltYm9sLmNvbG9yLnIscj1lLnN5bWJvbC5jb2xvci5nLGM9ZS5zeW1ib2wuY29sb3IuYixwPWUuc3ltYm9sLmNvbG9yLmEqYS5vcGFjaXR5KSx2JiYoZD1lLnN5bWJvbC5vdXRsaW5lLmNvbG9yLnIsbT1lLnN5bWJvbC5vdXRsaW5lLmNvbG9yLmcsaD1lLnN5bWJvbC5vdXRsaW5lLmNvbG9yLmIseT1lLnN5bWJvbC5vdXRsaW5lLmNvbG9yLmEqYS5vcGFjaXR5KTtjb25zdCB1PWUuc3ltYm9sLmNvbG9yPy5pc0JyaWdodD8/ITAsYj11P1wicmdiYSgyNTUsIDI1NSwgMjU1LCAuNilcIjpcInJnYmEoMCwgMCwgMCwgLjYpXCIsXz17YmFja2dyb3VuZDpnP2ByZ2JhKCR7c30sICR7cn0sICR7Y30sICR7cH0pYDpcIm5vbmVcIixjb2xvcjp1P1wiYmxhY2tcIjpcIndoaXRlXCIsdGV4dFNoYWRvdzpgLTFweCAtMXB4IDAgJHtifSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMXB4IC0xcHggMCAke2J9LFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMXB4IDFweCAwICR7Yn0sXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFweCAxcHggMCAke2J9YCxib3JkZXI6dj9gMXB4IHNvbGlkIHJnYmEoJHtkfSwgJHttfSwgJHtofSwgJHt5fSlgOlwibm9uZVwiLGZpbHRlcjpvKHQuZWZmZWN0TGlzdCk/P3ZvaWQgMH07cmV0dXJuIHgoXCJkaXZcIix7Y2xhc3M6bi5sYXllclJvdyxrZXk6aX0seChcImRpdlwiLHtjbGFzczpuLmxhYmVsRWxlbWVudCxzdHlsZXM6X30sbCkpfWlmKGUuc3JjKXtjb25zdCB0PXRoaXMuX3JlbmRlckltYWdlKGUsYSxyKTtyZXR1cm4geChcImRpdlwiLHtjbGFzczpuLmxheWVyUm93LGtleTppfSx0LHgoXCJkaXZcIix7Y2xhc3M6bi5pbWFnZUxhYmVsfSxsKSl9fV9yZW5kZXJJbWFnZShlLHQscyl7Y29uc3R7bGFiZWw6aSxzcmM6YSxvcGFjaXR5OnJ9PWUsbz17W24uaW1hZ2VyeUxheWVyU3RyZXRjaGVkSW1hZ2VdOnMsW24uc3ltYm9sXTohc30sbD17b3BhY2l0eTpgJHtudWxsIT1yP3I6dC5vcGFjaXR5fWB9O3JldHVybiB4KFwiaW1nXCIse2FsdDp2KHRoaXMubWVzc2FnZXMsaSwhMSksXCJhcmlhLWxhYmVsXCI6dih0aGlzLm1lc3NhZ2VzLGksITEpLGJvcmRlcjowLGNsYXNzOnRoaXMuY2xhc3NlcyhvKSxoZWlnaHQ6ZS5oZWlnaHQsc3JjOmEsc3R5bGVzOmwsd2lkdGg6ZS53aWR0aH0pfV9yZW5kZXJTaXplUmFtcExpbmVzKGUpe2NvbnN0IHQ9ZS5pbmZvcyxpPXRbMF0sYT10W3QubGVuZ3RoLTFdLHI9aS5zeW1ib2wsbz10aGlzLl9oYXNJbmRpY2F0b3JzLGw9cyhpLnNpemUraS5vdXRsaW5lU2l6ZSkqaixuPXMoYS5zaXplK2Eub3V0bGluZVNpemUpKmosYz1vP2w6bCs1MCpqLHA9bz9sLzIrNTAqajpsLGQ9RihyKSxtPUUociksaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2gud2lkdGg9YyxoLmhlaWdodD1wLGguc3R5bGUud2lkdGg9aC53aWR0aC9qK1wicHhcIixoLnN0eWxlLmhlaWdodD1oLmhlaWdodC9qK1wicHhcIjtjb25zdCB5PWguZ2V0Q29udGV4dChcIjJkXCIpO2lmKG8pe3kuYmVnaW5QYXRoKCk7Y29uc3QgZT0wLHQ9MCxzPWMvMi1uLzIsaT1wO3kubW92ZVRvKGUsdCkseS5saW5lVG8ocyxpKTtjb25zdCBhPWMscj0wLG89Yy8yK24vMixsPXA7eS5tb3ZlVG8oYSxyKSx5LmxpbmVUbyhvLGwpfWVsc2V7eS5iZWdpblBhdGgoKTtjb25zdCBlPTAsdD1wLzItbi8yLHM9YyxpPTA7eS5tb3ZlVG8oZSx0KSx5LmxpbmVUbyhzLGkpO2NvbnN0IGE9MCxyPXAvMituLzIsbz1jLGw9cDt5Lm1vdmVUbyhhLHIpLHkubGluZVRvKG8sbCl9cmV0dXJuIHkuc3Ryb2tlU3R5bGU9QSx5LnN0cm9rZSgpLHgoXCJkaXZcIix7YWZ0ZXJDcmVhdGU6ZixiaW5kOmgsc3R5bGVzOm8/e2Rpc3BsYXk6XCJmbGV4XCIsbWFyZ2luVG9wOmAtJHtkPzA6bT9sLzI6MH1weGAsbWFyZ2luQm90dG9tOmAtJHtkP246bT9uLzI6MH1weGB9OntkaXNwbGF5OlwiZmxleFwiLG1hcmdpblJpZ2h0OmAtJHtkPzA6bT9sLzI6MH1weGAsbWFyZ2luTGVmdDpgLSR7ZD8wOm0/bi8yOjB9cHhgfX0pfV9yZW5kZXJTaXplUmFtcChlLHQpe2NvbnN0IHM9ZS5pbmZvcyxpPXNbMF0ubGFiZWwsYT1zW3MubGVuZ3RoLTFdLmxhYmVsO2xldCByPXNbMF0ucHJldmlldyxvPXNbcy5sZW5ndGgtMV0ucHJldmlldztjb25zdCBsPXRoaXMuX2hhc0luZGljYXRvcnMsYz17XCJmbGV4LWRpcmVjdGlvblwiOmw/XCJjb2x1bW5cIjpcInJvdy1yZXZlcnNlXCJ9O3ImJihyPXIuY2xvbmVOb2RlKCEwKSxyLnN0eWxlLmRpc3BsYXk9XCJmbGV4XCIpLG8mJihvPW8uY2xvbmVOb2RlKCEwKSxvLnN0eWxlLmRpc3BsYXk9XCJmbGV4XCIpO2NvbnN0IHA9e29wYWNpdHk6bnVsbCE9dD9gJHt0fWA6XCJcIn07cmV0dXJuIHgoXCJkaXZcIix7Y2xhc3M6dGhpcy5jbGFzc2VzKG4ubGF5ZXJSb3cse1tuLnNpemVSYW1wUm93XTpsfSl9LHgoXCJkaXZcIix7Y2xhc3M6bi5yYW1wTGFiZWx9LGw/aTphKSx4KFwiZGl2XCIse2NsYXNzOm4uc2l6ZVJhbXBDb250YWluZXIsc3R5bGVzOmN9LHgoXCJkaXZcIix7YWZ0ZXJDcmVhdGU6ZixiaW5kOnIsY2xhc3M6bi5zaXplUmFtcFByZXZpZXcsc3R5bGVzOnB9KSx0aGlzLl9yZW5kZXJTaXplUmFtcExpbmVzKGUpLHgoXCJkaXZcIix7YWZ0ZXJDcmVhdGU6ZixiaW5kOm8sY2xhc3M6bi5zaXplUmFtcENvbnRhaW5lcixzdHlsZXM6cH0pKSx4KFwiZGl2XCIse2NsYXNzOm4ucmFtcExhYmVsfSxsP2E6aSkpfV9nZXRSYW1wU3RvcExhYmVsKGUsdCl7c3dpdGNoKHQpe2Nhc2VcImhlYXRtYXAtcmFtcFwiOnJldHVybiB0aGlzLm1lc3NhZ2VzW2UubGFiZWxdO2Nhc2VcInN0cmV0Y2gtcmFtcFwiOnJldHVybiBiKGUsdGhpcy5tZXNzYWdlcyk7ZGVmYXVsdDpyZXR1cm4gZS5sYWJlbH19X3JlbmRlckxlZ2VuZEZvclJhbXAoZSx0LHMpe2NvbnN0IGk9ZS5pbmZvcyxhPWUudHlwZSxsPVwiaGVhdG1hcC1yYW1wXCI9PT1hLGM9aS5sZW5ndGgtMSxwPWssZD1jPjImJiFsPyQqYzpJLG09ZCsyMCxoPTEwLHk9aS5zbGljZSgwKS5yZXZlcnNlKCksZz15Lmxlbmd0aC0xLHY9eS5sZW5ndGglMiE9MD95W3kubGVuZ3RoLzJ8MF06bnVsbCxmPXYmJngoXCJkaXZcIix7Y2xhc3M6bi5pbnRlcnZhbFNlcGFyYXRvcnNDb250YWluZXJ9LHgoXCJkaXZcIix7Y2xhc3M6bi5pbnRlcnZhbFNlcGFyYXRvcn0sXCJ8XCIpLHgoXCJkaXZcIix7Y2xhc3M6bi5yYW1wTGFiZWx9LHRoaXMuX2dldFJhbXBTdG9wTGFiZWwodixhKSkpLHU9W1t7c2hhcGU6e3R5cGU6XCJwYXRoXCIscGF0aDpgTTAgJHtwLzJ9IEwke2h9IDAgTCR7aH0gJHtwfSBaYH0sZmlsbDp5WzBdLmNvbG9yLHN0cm9rZTp7d2lkdGg6MH19LHtzaGFwZTp7dHlwZTpcInJlY3RcIix4OmgseTowLHdpZHRoOmQsaGVpZ2h0OnB9LGZpbGw6e3R5cGU6XCJsaW5lYXJcIix4MTpoLHkxOjAseDI6ZCtoLHkyOjAsY29sb3JzOnkubWFwKCgoZSx0KT0+KHtjb2xvcjplLmNvbG9yLG9mZnNldDpsJiZcInJhdGlvXCJpbiBlP2UucmF0aW86dC9jfSkpKX0sc3Ryb2tlOnt3aWR0aDowfX0se3NoYXBlOnt0eXBlOlwicGF0aFwiLHBhdGg6YE0ke2QraH0gMCBMJHttfSAke3AvMn0gTCR7ZCtofSAke3B9IFpgfSxmaWxsOnlbZ10uY29sb3Isc3Ryb2tlOnt3aWR0aDowfX1dXSxiPXIodSxtLHApLF89e2ZpbHRlcjpvKHMpPz92b2lkIDAsb3BhY2l0eTpudWxsPT10P3ZvaWQgMDpgJHt0fWB9LHc9e2p1c3RpZnlDb250ZW50OlwiY2VudGVyXCJ9O3JldHVybiB4KFwiZGl2XCIse2NsYXNzOm4ubGF5ZXJSb3csc3R5bGVzOnd9LHgoXCJkaXZcIix7Y2xhc3M6bi5yYW1wTGFiZWx9LHRoaXMuX2dldFJhbXBTdG9wTGFiZWwoeVswXSxhKSkseChcImRpdlwiLHtjbGFzczpuLnN5bWJvbENvbnRhaW5lcn0seChcImRpdlwiLHtzdHlsZXM6X30sYiksZikseChcImRpdlwiLHtjbGFzczpuLnJhbXBMYWJlbH0sdGhpcy5fZ2V0UmFtcFN0b3BMYWJlbCh5W2ddLGEpKSl9fTtlKFtpKCldLFQucHJvdG90eXBlLFwiYWN0aXZlTGF5ZXJJbmZvc1wiLHZvaWQgMCksZShbaSgpXSxULnByb3RvdHlwZSxcImhlYWRpbmdMZXZlbFwiLHZvaWQgMCksZShbaSgpXSxULnByb3RvdHlwZSxcImxheW91dFwiLHZvaWQgMCksZShbaSgpLFMoXCJlc3JpL3dpZGdldHMvTGVnZW5kL3Q5bi9MZWdlbmRcIildLFQucHJvdG90eXBlLFwibWVzc2FnZXNcIix2b2lkIDApLGUoW2koKSxTKFwiZXNyaS90OW4vY29tbW9uXCIpXSxULnByb3RvdHlwZSxcIm1lc3NhZ2VzQ29tbW9uXCIsdm9pZCAwKSxlKFtpKHtyZWFkT25seTohMH0pXSxULnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW2koKV0sVC5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtMKCldLFQucHJvdG90eXBlLFwiX3NlbGVjdFNlY3Rpb25cIixudWxsKSxUPWUoW2EoXCJlc3JpLndpZGdldHMuTGVnZW5kLnN0eWxlcy5DYXJkXCIpXSxUKTtjb25zdCBVPVQ7ZXhwb3J0e1UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgZT1cImVzcmktbGVnZW5kLS1jYXJkXCIsYT1cImVzcmktbGVnZW5kXCIscj17YWN0aXZhdGVkOmAke2V9X19jYXJvdXNlbC1pbmRpY2F0b3ItLWFjdGl2YXRlZGAsYmFzZTplLHN0YWNrZWQ6YCR7YX0tLXN0YWNrZWRgLGNhcm91c2VsVGl0bGU6YCR7ZX1fX2Nhcm91c2VsLXRpdGxlYCxpbmRpY2F0b3I6YCR7ZX1fX2Nhcm91c2VsLWluZGljYXRvcmAsaW50ZXJ2YWxTZXBhcmF0b3I6YCR7ZX1fX2ludGVydmFsLXNlcGFyYXRvcmAsaW1hZ2VyeUxheWVyU3RyZXRjaGVkSW1hZ2U6YCR7ZX1fX2ltYWdlcnktbGF5ZXItaW1hZ2UtLXN0cmV0Y2hlZGAsaW1hZ2VMYWJlbDpgJHtlfV9faW1hZ2UtbGFiZWxgLGxheWVyQ2FwdGlvbjpgJHtlfV9fbGF5ZXItY2FwdGlvbmAsbGFiZWxFbGVtZW50OmAke2V9X19sYWJlbC1lbGVtZW50YCxsYXllclJvdzpgJHtlfV9fbGF5ZXItcm93YCxsYWJlbENlbGw6YCR7ZX1fX2xhYmVsLWNlbGxgLG1lc3NhZ2U6YCR7ZX1fX21lc3NhZ2VgLHJhbXBMYWJlbDpgJHtlfV9fcmFtcC1sYWJlbGAsc2VjdGlvbjpgJHtlfV9fc2VjdGlvbmAscmVsYXRpb25zaGlwU2VjdGlvbjpgJHtlfV9fcmVsYXRpb25zaGlwLXNlY3Rpb25gLHNlcnZpY2VDYXB0aW9uVGV4dDpgJHtlfV9fc2VydmljZS1jYXB0aW9uLXRleHRgLHNlcnZpY2VDb250ZW50OmAke2V9X19zZXJ2aWNlLWNvbnRlbnRgLHNlcnZpY2U6YCR7ZX1fX3NlcnZpY2VgLGdyb3VwTGF5ZXI6YCR7ZX1fX2dyb3VwLWxheWVyYCxncm91cExheWVyQ2hpbGQ6YCR7ZX1fX2dyb3VwLWxheWVyLWNoaWxkYCxzeW1ib2w6YCR7ZX1fX3N5bWJvbGAsc2l6ZVJhbXBSb3c6YCR7ZX1fX3NpemUtcmFtcC1yb3dgLHN5bWJvbFJvdzpgJHtlfV9fc3ltYm9sLXJvd2Asc3ltYm9sQ2VsbDpgJHtlfV9fc3ltYm9sLWNlbGxgLGluZGljYXRvckNvbnRhaW5lcjpgJHtlfV9fY2Fyb3VzZWwtaW5kaWNhdG9yLWNvbnRhaW5lcmAsaW50ZXJ2YWxTZXBhcmF0b3JzQ29udGFpbmVyOmAke2V9X19pbnRlcnZhbC1zZXBhcmF0b3JzLWNvbnRhaW5lcmAscmVsYXRpb25zaGlwTGFiZWxDb250YWluZXI6YCR7ZX1fX3JlbGF0aW9uc2hpcC1sYWJlbC1jb250YWluZXJgLGxhYmVsQ29udGFpbmVyOmAke2V9X19sYWJlbC1jb250YWluZXJgLHNlcnZpY2VDYXB0aW9uQ29udGFpbmVyOmAke2V9X19zZXJ2aWNlLWNhcHRpb24tY29udGFpbmVyYCxzeW1ib2xDb250YWluZXI6YCR7ZX1fX3N5bWJvbC1jb250YWluZXJgLHNpemVSYW1wQ29udGFpbmVyOmAke2V9X19zaXplLXJhbXAtY29udGFpbmVyYCxzaXplUmFtcFByZXZpZXc6YCR7ZX1fX3NpemUtcmFtcC1wcmV2aWV3YCxwaWVDaGFydFJhbXBQcmV2aWV3OmAke2V9X19waWUtY2hhcnQtcmFtcC1wcmV2aWV3YCxyYW1wQ29udGFpbmVyOmAke2F9X19yYW1wc2Asc2l6ZVJhbXBIb3Jpem9udGFsOmAke2F9X19zaXplLXJhbXAtLWhvcml6b250YWxgLHJhbXBMYWJlbHNDb250YWluZXI6YCR7YX1fX3JhbXAtbGFiZWxzYCxsYXllckluZm86YCR7YX1fX2xheWVyLWNlbGwgJHthfV9fbGF5ZXItY2VsbC0taW5mb2AsdW5pdmFyaWF0ZUFib3ZlQW5kQmVsb3dDb2xvclJhbXA6XCJlc3JpLXVuaXZhcmlhdGUtYWJvdmUtYW5kLWJlbG93LXJhbXBfX2NvbG9yLS1jYXJkXCJ9O2V4cG9ydHtyIGFzIGNzc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi9XaWRnZXQuanNcIjtpbXBvcnR7Y3NzIGFzIHIsbGVnZW5kIGFzIGl9ZnJvbVwiLi9DbGFzc2ljQ1NTLmpzXCI7aW1wb3J0e3JlbmRlclJlbGF0aW9uc2hpcFJhbXAgYXMgbH1mcm9tXCIuL3N1cHBvcnQvcmVsYXRpb25zaGlwVXRpbHMuanNcIjtpbXBvcnR7Z2V0VW5pdmFyaWF0ZUFib3ZlQW5kQmVsb3dSYW1wRWxlbWVudHMgYXMgbyxnZXRVbml2YXJpYXRlQ29sb3JSYW1wU2l6ZSBhcyBuLGdldFVuaXZhcmlhdGVDb2xvclJhbXBQcmV2aWV3IGFzIHAsZ2V0VW5pdmFyaWF0ZUNvbG9yUmFtcE1hcmdpbiBhcyBkLGdldFVuaXZhcmlhdGVDb2xvclNpemVSYW1wRWxlbWVudHMgYXMgY31mcm9tXCIuL3N1cHBvcnQvdW5pdmFyaWF0ZVV0aWxzLmpzXCI7aW1wb3J0e2dldFRpdGxlIGFzIG0saXNSZW5kZXJlclRpdGxlIGFzIHksYXR0YWNoVG9Ob2RlIGFzIHYsZ2V0U3RyZXRjaFN0b3BMYWJlbCBhcyBoLGlzSW1hZ2VyeVN0cmV0Y2hlZExlZ2VuZCBhcyBnfWZyb21cIi4uL3N1cHBvcnQvc3R5bGVVdGlscy5qc1wiO2ltcG9ydHtnbG9iYWxDc3MgYXMgdX1mcm9tXCIuLi8uLi9zdXBwb3J0L2dsb2JhbENzcy5qc1wiO2ltcG9ydHtIZWFkaW5nIGFzIGJ9ZnJvbVwiLi4vLi4vc3VwcG9ydC9IZWFkaW5nLmpzXCI7aW1wb3J0XCIuLi8uLi9zdXBwb3J0L3dpZGdldFV0aWxzLmpzXCI7aW1wb3J0e21lc3NhZ2VCdW5kbGUgYXMgZn1mcm9tXCIuLi8uLi9zdXBwb3J0L2RlY29yYXRvcnMvbWVzc2FnZUJ1bmRsZS5qc1wiO2ltcG9ydHt0c3ggYXMgTH1mcm9tXCIuLi8uLi9zdXBwb3J0L2pzeEZhY3RvcnkuanNcIjtjb25zdCB3PWAke2l9X19gLEM9MjQsUj17ZGlzcGxheTpcImZsZXhcIixhbGlnbkl0ZW1zOlwiZmxleC1zdGFydFwifSxBPXttYXJnaW5MZWZ0OlwiM3B4XCJ9LF89e2Rpc3BsYXk6XCJ0YWJsZS1jZWxsXCIsdmVydGljYWxBbGlnbjpcIm1pZGRsZVwifTtsZXQgaj1jbGFzcyBleHRlbmRzIGF7Y29uc3RydWN0b3IoZSxzKXtzdXBlcihlLHMpLHRoaXMuYWN0aXZlTGF5ZXJJbmZvcz1udWxsLHRoaXMuaGVhZGluZ0xldmVsPTMsdGhpcy5tZXNzYWdlcz1udWxsLHRoaXMudHlwZT1cImNsYXNzaWNcIn1yZW5kZXIoKXtjb25zdCBlPXRoaXMuYWN0aXZlTGF5ZXJJbmZvcyxzPWUmJmUudG9BcnJheSgpLm1hcCgoZT0+dGhpcy5fcmVuZGVyTGVnZW5kRm9yTGF5ZXIoZSkpKS5maWx0ZXIoKGU9PiEhZSkpO3JldHVybiBMKFwiZGl2XCIsbnVsbCxzJiZzLmxlbmd0aD9zOkwoXCJkaXZcIix7Y2xhc3M6ci5tZXNzYWdlfSx0aGlzLm1lc3NhZ2VzLm5vTGVnZW5kKSl9X3JlbmRlckxlZ2VuZEZvckxheWVyKGUpe2lmKCFlLnJlYWR5KXJldHVybiBudWxsO2NvbnN0IHM9ISFlLmNoaWxkcmVuLmxlbmd0aCx0PWAke3d9JHtlLmxheWVyLnVpZH0tdmVyc2lvbi0ke2UudmVyc2lvbn1gLGE9ZS50aXRsZT9iKHtsZXZlbDp0aGlzLmhlYWRpbmdMZXZlbCxjbGFzczp0aGlzLmNsYXNzZXModS5oZWFkaW5nLHIubGFiZWwpfSxlLnRpdGxlKTpudWxsO2lmKHMpe2NvbnN0IHM9ZS5jaGlsZHJlbi5tYXAoKGU9PnRoaXMuX3JlbmRlckxlZ2VuZEZvckxheWVyKGUpKSkudG9BcnJheSgpO3JldHVybiBMKFwiZGl2XCIse2NsYXNzOnRoaXMuY2xhc3NlcyhyLnNlcnZpY2Usci5ncm91cExheWVyKSxrZXk6dH0sYSxzKX17Y29uc3Qgcz1lLmxlZ2VuZEVsZW1lbnRzO2lmKHMmJiFzLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBpPXMubWFwKChzPT50aGlzLl9yZW5kZXJMZWdlbmRGb3JFbGVtZW50KHMsZS5sYXllcixlLmVmZmVjdExpc3QpKSkuZmlsdGVyKChlPT4hIWUpKTtpZighaS5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgbD17W3IuZ3JvdXBMYXllckNoaWxkXTohIWUucGFyZW50fTtyZXR1cm4gTChcImRpdlwiLHtjbGFzczp0aGlzLmNsYXNzZXMoci5zZXJ2aWNlLGwpLGtleTp0fSxhLEwoXCJkaXZcIix7Y2xhc3M6ci5sYXllcn0saSkpfX1fcmVuZGVyTGVnZW5kRm9yRWxlbWVudChlLHMsdCxhKXtjb25zdCBpPVwiY29sb3ItcmFtcFwiPT09ZS50eXBlLG89XCJvcGFjaXR5LXJhbXBcIj09PWUudHlwZSxuPVwic2l6ZS1yYW1wXCI9PT1lLnR5cGU7bGV0IHA9bnVsbDtpZihcInN5bWJvbC10YWJsZVwiPT09ZS50eXBlfHxuKXtjb25zdCBhPWUuaW5mb3MubWFwKChhPT50aGlzLl9yZW5kZXJMZWdlbmRGb3JFbGVtZW50SW5mbyhhLHMsdCxuLGUubGVnZW5kVHlwZSkpKS5maWx0ZXIoKGU9PiEhZSkpO2EubGVuZ3RoJiYocD1MKFwiZGl2XCIse2NsYXNzOnIubGF5ZXJCb2R5fSxhKSl9ZWxzZVwiY29sb3ItcmFtcFwiPT09ZS50eXBlfHxcIm9wYWNpdHktcmFtcFwiPT09ZS50eXBlfHxcImhlYXRtYXAtcmFtcFwiPT09ZS50eXBlfHxcInN0cmV0Y2gtcmFtcFwiPT09ZS50eXBlP3A9dGhpcy5fcmVuZGVyTGVnZW5kRm9yUmFtcChlLHMub3BhY2l0eSk6XCJyZWxhdGlvbnNoaXAtcmFtcFwiPT09ZS50eXBlP3A9bChlLHRoaXMuaWQse29wYWNpdHk6cy5vcGFjaXR5LGVmZmVjdExpc3Q6dCxhcmlhTGFiZWw6dGhpcy5tZXNzYWdlcy5wcmV2aWV3UmVsYXRpb25zaGlwUmFtcEFyaWFMYWJlbH0pOlwicGllLWNoYXJ0LXJhbXBcIj09PWUudHlwZT9wPXRoaXMuX3JlbmRlclBpZUNoYXJ0UmFtcChlKTpcInVuaXZhcmlhdGUtYWJvdmUtYW5kLWJlbG93LXJhbXBcIj09PWUudHlwZT9wPXRoaXMuX3JlbmRlclVuaXZhcmlhdGVBYm92ZUFuZEJlbG93UmFtcChlLHMub3BhY2l0eSx0KTpcInVuaXZhcmlhdGUtY29sb3Itc2l6ZS1yYW1wXCI9PT1lLnR5cGUmJihwPXRoaXMuX3JlbmRlclVuaXZhcmlhdGVDb2xvclNpemVSYW1wKGUscy5vcGFjaXR5LHQpKTtpZighcClyZXR1cm4gbnVsbDtjb25zdCBkPWUudGl0bGU7bGV0IGM9bnVsbDtpZihcInN0cmluZ1wiPT10eXBlb2YgZCljPWQ7ZWxzZSBpZihkKXtjb25zdCBlPW0odGhpcy5tZXNzYWdlcyxkLGl8fG8pO2M9eShkLGl8fG8pJiZkLnRpdGxlP2Ake2QudGl0bGV9ICgke2V9KWA6ZX1jb25zdCB2PWE/ci5sYXllckNoaWxkVGFibGU6ci5sYXllclRhYmxlLGg9Yz9MKFwiZGl2XCIse2NsYXNzOnIubGF5ZXJDYXB0aW9ufSxjKTpudWxsLGc9e1tyLmxheWVyVGFibGVTaXplUmFtcF06bnx8IWF9O3JldHVybiBMKFwiZGl2XCIse2NsYXNzOnRoaXMuY2xhc3Nlcyh2LGcpfSxoLHApfV9yZW5kZXJQaWVDaGFydFJhbXAoZSl7cmV0dXJuIEwoXCJkaXZcIix7YWZ0ZXJDcmVhdGU6dixiaW5kOmUucHJldmlld30pfV9yZW5kZXJVbml2YXJpYXRlQWJvdmVBbmRCZWxvd1JhbXAoZSxzLHQpe2NvbnN0e3NpemVSYW1wRWxlbWVudDphLGNvbG9yUmFtcEVsZW1lbnQ6aX09byhlLHMpO2lmKCFhKXJldHVybiBudWxsO2NvbnN0IGw9dGhpcy5tZXNzYWdlcz8ucHJldmlld0NvbG9yUmFtcEFyaWFMYWJlbCxjPW4oYSxcImFib3ZlXCIsITApLG09bihhLFwiYmVsb3dcIiwhMCkseT0xMixoPXAoaSx7d2lkdGg6eSxoZWlnaHQ6YyxyYW1wQWxpZ25tZW50OlwidmVydGljYWxcIixvcGFjaXR5OnMsdHlwZTpcImFib3ZlXCIsZWZmZWN0TGlzdDp0LGFyaWFMYWJlbDpsfSksZz1wKGkse3dpZHRoOnksaGVpZ2h0Om0scmFtcEFsaWdubWVudDpcInZlcnRpY2FsXCIsb3BhY2l0eTpzLHR5cGU6XCJiZWxvd1wiLGVmZmVjdExpc3Q6dCxhcmlhTGFiZWw6bH0pLHU9ZChhKSxiPWEuaW5mb3MubWFwKChlPT5lLmxhYmVsKSksZj1iLm1hcCgoKGUscyk9Pntjb25zdCB0PTI9PT1zO3JldHVybiAwPT09cz9MKFwiZGl2XCIse2NsYXNzOmU/aD9yLnVuaXZhcmlhdGVBYm92ZUFuZEJlbG93TGFiZWw6ci5yYW1wTGFiZWw6dm9pZCAwLGtleTpzfSxlKTp0P0woXCJkaXZcIixudWxsKTpudWxsfSkpLHc9Yi5sZW5ndGgtMSxDPU1hdGguZmxvb3IoYi5sZW5ndGgvMiksaj1iLm1hcCgoKGUscyk9PnM9PT1DfHxzPT09dz9MKFwiZGl2XCIse2NsYXNzOmU/aD9yLnVuaXZhcmlhdGVBYm92ZUFuZEJlbG93TGFiZWw6ci5yYW1wTGFiZWw6dm9pZCAwLGtleTpzfSxlKTpudWxsKSksJD17ZGlzcGxheTpcInRhYmxlLWNlbGxcIix2ZXJ0aWNhbEFsaWduOlwibWlkZGxlXCJ9LEk9e21hcmdpblRvcDpgJHt1fXB4YH0seD17aGVpZ2h0OmAke2N9cHhgfSxTPXtoZWlnaHQ6YCR7bX1weGB9O3JldHVybiBMKFwiZGl2XCIse2tleTpcInVuaXZhcmlhdGUtYWJvdmUtYW5kLWJlbG93LXJhbXAtcHJldmlld1wiLHN0eWxlczpSfSxMKFwiZGl2XCIse2NsYXNzOnIubGF5ZXJCb2R5fSxhLmluZm9zLm1hcCgoKGUscyk9PkwoXCJkaXZcIix7Y2xhc3M6dGhpcy5jbGFzc2VzKHIubGF5ZXJSb3csci5zaXplUmFtcCl9LEwoXCJkaXZcIix7YWZ0ZXJDcmVhdGU6dixiaW5kOmUucHJldmlldyxjbGFzczpyLnN5bWJvbCxzdHlsZXM6JH0pLGh8fHMlMiE9MD9udWxsOkwoXCJkaXZcIix7Y2xhc3M6ci5sYXllckluZm99LGJbc10pKSkpKSxoP0woXCJkaXZcIix7a2V5OlwiY29sb3ItcmFtcC1wcmV2aWV3XCIsc3R5bGVzOkl9LEwoXCJkaXZcIix7c3R5bGVzOkF9LEwoXCJkaXZcIix7c3R5bGVzOl99LEwoXCJkaXZcIix7YWZ0ZXJDcmVhdGU6dixiaW5kOmgsY2xhc3M6ci5yYW1wQ29udGFpbmVyfSkpLEwoXCJkaXZcIix7c3R5bGVzOl99LEwoXCJkaXZcIix7Y2xhc3M6ci5yYW1wTGFiZWxzQ29udGFpbmVyLHN0eWxlczp4fSxmKSkpLEwoXCJkaXZcIix7c3R5bGVzOkF9LEwoXCJkaXZcIix7c3R5bGVzOl99LEwoXCJkaXZcIix7YWZ0ZXJDcmVhdGU6dixiaW5kOmcsY2xhc3M6ci5yYW1wQ29udGFpbmVyfSkpLEwoXCJkaXZcIix7c3R5bGVzOl99LEwoXCJkaXZcIix7Y2xhc3M6ci5yYW1wTGFiZWxzQ29udGFpbmVyLHN0eWxlczpTfSxqKSkpKTpudWxsKX1fcmVuZGVyVW5pdmFyaWF0ZUNvbG9yU2l6ZVJhbXAoZSxzLHQpe2NvbnN0e3NpemVSYW1wRWxlbWVudDphLGNvbG9yUmFtcEVsZW1lbnQ6aX09YyhlKTtpZighYSlyZXR1cm4gbnVsbDtjb25zdCBsPWQoYSksbz0xMixtPW4oYSxcImZ1bGxcIiwhMSkseT1wKGkse3dpZHRoOm8saGVpZ2h0Om0scmFtcEFsaWdubWVudDpcInZlcnRpY2FsXCIsb3BhY2l0eTpzLHR5cGU6XCJmdWxsXCIsZWZmZWN0TGlzdDp0LGFyaWFMYWJlbDp0aGlzLm1lc3NhZ2VzPy5wcmV2aWV3Q29sb3JSYW1wQXJpYUxhYmVsfSksaD1hLmluZm9zLmxlbmd0aC0xLGc9YS5pbmZvcy5tYXAoKChlLHMpPT4wPT09c3x8cz09PWg/TChcImRpdlwiLHtjbGFzczplLmxhYmVsP2k/ci51bml2YXJpYXRlQWJvdmVBbmRCZWxvd0xhYmVsOnIucmFtcExhYmVsOnZvaWQgMCxrZXk6c30sZS5sYWJlbCk6bnVsbCkpLHU9e2Rpc3BsYXk6XCJ0YWJsZS1jZWxsXCIsdmVydGljYWxBbGlnbjpcIm1pZGRsZVwifSxiPXttYXJnaW5Ub3A6YCR7bH1weGB9LGY9e2hlaWdodDpgJHttfXB4YH07cmV0dXJuIEwoXCJkaXZcIix7a2V5OlwidW5pdmFyaWF0ZS1hYm92ZS1hbmQtYmVsb3ctcmFtcC1wcmV2aWV3XCIsc3R5bGVzOlJ9LEwoXCJkaXZcIix7Y2xhc3M6ci5sYXllckJvZHl9LGEuaW5mb3MubWFwKChlPT5MKFwiZGl2XCIse2NsYXNzOnRoaXMuY2xhc3NlcyhyLmxheWVyUm93LHIuc2l6ZVJhbXApfSxMKFwiZGl2XCIse2FmdGVyQ3JlYXRlOnYsYmluZDplLnByZXZpZXcsY2xhc3M6ci5zeW1ib2wsc3R5bGVzOnV9KSkpKSksTChcImRpdlwiLHtrZXk6XCJjb2xvci1yYW1wLXByZXZpZXdcIixzdHlsZXM6Yn0sTChcImRpdlwiLHtzdHlsZXM6QX0sTChcImRpdlwiLHtzdHlsZXM6X30sTChcImRpdlwiLHthZnRlckNyZWF0ZTp2LGJpbmQ6eSxjbGFzczpyLnJhbXBDb250YWluZXJ9KSksTChcImRpdlwiLHtzdHlsZXM6X30sTChcImRpdlwiLHtjbGFzczpyLnJhbXBMYWJlbHNDb250YWluZXIsc3R5bGVzOmZ9LGcpKSkpKX1fcmVuZGVyTGVnZW5kRm9yUmFtcChlLHMpe2NvbnN0IHQ9ZS5pbmZvcyxhPVwib3BhY2l0eS1yYW1wXCI9PT1lLnR5cGUsaT1cImhlYXRtYXAtcmFtcFwiPT09ZS50eXBlLGw9XCJzdHJldGNoLXJhbXBcIj09PWUudHlwZSxvPWUucHJldmlldyxuPWE/ci5vcGFjaXR5UmFtcDpcIlwiO28uY2xhc3NOYW1lPWAke3IuY29sb3JSYW1wfSAke259YCxudWxsIT1zJiYoby5zdHlsZS5vcGFjaXR5PXMudG9TdHJpbmcoKSk7Y29uc3QgcD10Lm1hcCgoZT0+TChcImRpdlwiLHtjbGFzczplLmxhYmVsP3IucmFtcExhYmVsOnZvaWQgMH0saT90aGlzLm1lc3NhZ2VzW2UubGFiZWxdfHxlLmxhYmVsOmw/aChlLHRoaXMubWVzc2FnZXMpOmUubGFiZWwpKSksZD17d2lkdGg6YCR7Q31weGB9LGM9e2hlaWdodDpvLnN0eWxlLmhlaWdodH07cmV0dXJuIEwoXCJkaXZcIix7Y2xhc3M6ci5sYXllclJvd30sTChcImRpdlwiLHtjbGFzczpyLnN5bWJvbENvbnRhaW5lcixzdHlsZXM6ZH0sTChcImRpdlwiLHthZnRlckNyZWF0ZTp2LGJpbmQ6byxjbGFzczpyLnJhbXBDb250YWluZXJ9KSksTChcImRpdlwiLHtjbGFzczpyLmxheWVySW5mb30sTChcImRpdlwiLHtjbGFzczpyLnJhbXBMYWJlbHNDb250YWluZXIsc3R5bGVzOmN9LHApKSl9X3JlbmRlckxlZ2VuZEZvckVsZW1lbnRJbmZvKGUscyx0LGEsaSl7aWYoZS50eXBlKXJldHVybiB0aGlzLl9yZW5kZXJMZWdlbmRGb3JFbGVtZW50KGUscyx0LCEwKTtsZXQgbD1udWxsO2NvbnN0IG89ZyhzLGkpO2lmKGUucHJldmlldz9sPUwoXCJkaXZcIix7YWZ0ZXJDcmVhdGU6dixiaW5kOmUucHJldmlldyxjbGFzczpyLnN5bWJvbH0pOmUuc3JjJiYobD10aGlzLl9yZW5kZXJJbWFnZShlLHMsbykpLCFsKXJldHVybiBudWxsO2NvbnN0IG49e1tyLmltYWdlcnlMYXllckluZm9TdHJldGNoZWRdOm99LHA9e1tyLmltYWdlcnlMYXllckluZm9TdHJldGNoZWRdOm8sW3Iuc2l6ZVJhbXBdOiFvJiZhfTtyZXR1cm4gTChcImRpdlwiLHtjbGFzczpyLmxheWVyUm93fSxMKFwiZGl2XCIse2NsYXNzOnRoaXMuY2xhc3NlcyhyLnN5bWJvbENvbnRhaW5lcixwKX0sbCksTChcImRpdlwiLHtjbGFzczp0aGlzLmNsYXNzZXMoci5sYXllckluZm8sbil9LG0odGhpcy5tZXNzYWdlcyxlLmxhYmVsLCExKXx8XCJcIikpfV9yZW5kZXJJbWFnZShlLHMsdCl7Y29uc3R7bGFiZWw6YSxzcmM6aSxvcGFjaXR5Omx9PWUsbz17W3IuaW1hZ2VyeUxheWVyU3RyZXRjaGVkSW1hZ2VdOnQsW3Iuc3ltYm9sXTohdH0sbj17b3BhY2l0eTpgJHtudWxsIT1sP2w6cy5vcGFjaXR5fWB9O3JldHVybiBMKFwiaW1nXCIse2FsdDptKHRoaXMubWVzc2FnZXMsYSwhMSksXCJhcmlhLWxhYmVsXCI6bSh0aGlzLm1lc3NhZ2VzLGEsITEpLGJvcmRlcjowLGNsYXNzOnRoaXMuY2xhc3NlcyhvKSxoZWlnaHQ6ZS5oZWlnaHQsc3JjOmksc3R5bGVzOm4sd2lkdGg6ZS53aWR0aH0pfX07ZShbcygpXSxqLnByb3RvdHlwZSxcImFjdGl2ZUxheWVySW5mb3NcIix2b2lkIDApLGUoW3MoKV0sai5wcm90b3R5cGUsXCJoZWFkaW5nTGV2ZWxcIix2b2lkIDApLGUoW3MoKSxmKFwiZXNyaS93aWRnZXRzL0xlZ2VuZC90OW4vTGVnZW5kXCIpXSxqLnByb3RvdHlwZSxcIm1lc3NhZ2VzXCIsdm9pZCAwKSxlKFtzKHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGo9ZShbdChcImVzcmkud2lkZ2V0cy5MZWdlbmQuc3R5bGVzLkNsYXNzaWNcIildLGopO2NvbnN0ICQ9ajtleHBvcnR7JCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBlPVwiZXNyaS1sZWdlbmRcIixhPXtzZXJ2aWNlOmAke2V9X19zZXJ2aWNlYCxsYWJlbDpgJHtlfV9fc2VydmljZS1sYWJlbGAsbGF5ZXI6YCR7ZX1fX2xheWVyYCxncm91cExheWVyOmAke2V9X19ncm91cC1sYXllcmAsZ3JvdXBMYXllckNoaWxkOmAke2V9X19ncm91cC1sYXllci1jaGlsZGAsbGF5ZXJUYWJsZTpgJHtlfV9fbGF5ZXItdGFibGVgLGxheWVyVGFibGVTaXplUmFtcDpgJHtlfV9fbGF5ZXItdGFibGUtLXNpemUtcmFtcGAsbGF5ZXJDaGlsZFRhYmxlOmAke2V9X19sYXllci1jaGlsZC10YWJsZWAsbGF5ZXJDYXB0aW9uOmAke2V9X19sYXllci1jYXB0aW9uYCxsYXllckJvZHk6YCR7ZX1fX2xheWVyLWJvZHlgLGxheWVyUm93OmAke2V9X19sYXllci1yb3dgLGxheWVyQ2VsbDpgJHtlfV9fbGF5ZXItY2VsbGAsbGF5ZXJJbmZvOmAke2V9X19sYXllci1jZWxsICR7ZX1fX2xheWVyLWNlbGwtLWluZm9gLGltYWdlcnlMYXllclN0cmV0Y2hlZEltYWdlOmAke2V9X19pbWFnZXJ5LWxheWVyLWltYWdlLS1zdHJldGNoZWRgLGltYWdlcnlMYXllckNlbGxTdHJldGNoZWQ6YCR7ZX1fX2ltYWdlcnktbGF5ZXItY2VsbC0tc3RyZXRjaGVkYCxpbWFnZXJ5TGF5ZXJJbmZvU3RyZXRjaGVkOmAke2V9X19pbWFnZXJ5LWxheWVyLWluZm8tLXN0cmV0Y2hlZGAsc3ltYm9sQ29udGFpbmVyOmAke2V9X19sYXllci1jZWxsICR7ZX1fX2xheWVyLWNlbGwtLXN5bWJvbHNgLHN5bWJvbDpgJHtlfV9fc3ltYm9sYCxyYW1wQ29udGFpbmVyOmAke2V9X19yYW1wc2Asc2l6ZVJhbXA6YCR7ZX1fX3NpemUtcmFtcGAsY29sb3JSYW1wOmAke2V9X19jb2xvci1yYW1wYCxvcGFjaXR5UmFtcDpgJHtlfV9fb3BhY2l0eS1yYW1wYCxib3JkZXJsZXNzUmFtcDpgJHtlfV9fYm9yZGVybGVzcy1yYW1wYCxyYW1wVGljazpgJHtlfV9fcmFtcC10aWNrYCxyYW1wRmlyc3RUaWNrOmAke2V9X19yYW1wLXRpY2stZmlyc3RgLHJhbXBMYXN0VGljazpgJHtlfV9fcmFtcC10aWNrLWxhc3RgLHJhbXBMYWJlbHNDb250YWluZXI6YCR7ZX1fX3JhbXAtbGFiZWxzYCxyYW1wTGFiZWw6YCR7ZX1fX3JhbXAtbGFiZWxgLG1lc3NhZ2U6YCR7ZX1fX21lc3NhZ2VgLHVuaXZhcmlhdGVBYm92ZUFuZEJlbG93TGFiZWw6XCJlc3JpLXVuaXZhcmlhdGUtYWJvdmUtYW5kLWJlbG93LXJhbXBfX2xhYmVsXCJ9O2V4cG9ydHthIGFzIGNzcyxlIGFzIGxlZ2VuZH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3B0MnB4IGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zY3JlZW5VdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vbGlicy9tYXF1ZXR0ZS9wcm9qZWN0aW9uLmpzXCI7aW1wb3J0e2NyZWF0ZVByb2plY3RvciBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2xpYnMvbWFxdWV0dGUvcHJvamVjdG9yLmpzXCI7aW1wb3J0e3JlbmRlckNvbG9yUmFtcFByZXZpZXdIVE1MIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vc3ltYm9scy9zdXBwb3J0L3N5bWJvbFV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9zdXBwb3J0L3dpZGdldFV0aWxzLmpzXCI7aW1wb3J0e3RzeCBhcyBpfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvanN4RmFjdG9yeS5qc1wiO2NvbnN0IGw9dCgpLG49MTAscj0yMCxzPTEwLGE9MjAsYz17dW5pdmFyaWF0ZUFib3ZlQW5kQmVsb3dTeW1ib2w6XCJlc3JpLXVuaXZhcmlhdGUtYWJvdmUtYW5kLWJlbG93LXJhbXBfX3N5bWJvbFwiLGNvbG9yUmFtcDpcImVzcmktbGVnZW5kX19jb2xvci1yYW1wXCJ9O2Z1bmN0aW9uIGYoZT1cInZlcnRpY2FsXCIpe2NvbnN0IHQ9XCJzdHJva2U6cmdiKDIwMCwgMjAwLCAyMDApO3N0cm9rZS13aWR0aDoxXCI7cmV0dXJuXCJ2ZXJ0aWNhbFwiPT09ZT9pKFwic3ZnXCIse2hlaWdodDpcIjRcIix3aWR0aDpcIjEwXCJ9LGkoXCJsaW5lXCIse3N0eWxlOnQseDE6XCIwXCIseDI6XCIxMFwiLHkxOlwiMlwiLHkyOlwiMlwifSkpOmkoXCJzdmdcIix7aGVpZ2h0OlwiMTBcIix3aWR0aDpcIjEwXCJ9LGkoXCJsaW5lXCIse3N0eWxlOnQseDE6XCI1XCIseDI6XCI1XCIseTE6XCIwXCIseTI6XCIxMFwifSkpfWZ1bmN0aW9uIHAoZSx0PVwidmVydGljYWxcIil7Y29uc3Qgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBvLnN0eWxlLmhlaWdodD1gJHtyfXB4YCxvLmNsYXNzTmFtZT1jLnVuaXZhcmlhdGVBYm92ZUFuZEJlbG93U3ltYm9sLG51bGwhPWUmJihvLnN0eWxlLm9wYWNpdHk9ZS50b1N0cmluZygpKSxsLmFwcGVuZChvLGYuYmluZChudWxsLHQpKSxvfWZ1bmN0aW9uIG0odCxvLGk9XCJ2ZXJ0aWNhbFwiLGwpe3QuaW5mb3MuZm9yRWFjaCgoKHQsbik9PntpZihsJiYyPT09bil0LnByZXZpZXc9cChvLGkpO2Vsc2V7Y29uc3Qgbz1lKHQuc2l6ZSkrKFwiaG9yaXpvbnRhbFwiPT09aT9hOnMpLGw9dC5wcmV2aWV3LG49XCJkaXZcIj09PWw/LnRhZ05hbWUudG9Mb3dlckNhc2UoKSxyPW4/bDpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3IuY2xhc3NOYW1lPWMudW5pdmFyaWF0ZUFib3ZlQW5kQmVsb3dTeW1ib2wsXCJob3Jpem9udGFsXCI9PT1pP3Iuc3R5bGUud2lkdGg9YCR7b31weGA6ci5zdHlsZS5oZWlnaHQ9YCR7b31weGAsIW4mJmwmJnIuYXBwZW5kQ2hpbGQobCksdC5wcmV2aWV3PXJ9fSkpfWZ1bmN0aW9uIHUodCxvPVwiY2xhc3NpY1wiKXtjb25zdCBpPXQuaW5mb3M7cmV0dXJuXCJjbGFzc2ljXCI9PT1vPyhlKGlbMF0uc2l6ZSkrcykvMjooZShpWzBdLnNpemUpLWUoaVtpLmxlbmd0aC0xXS5zaXplKSkvMn1mdW5jdGlvbiBoKGUsdCl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3QgaT1lLmluZm9zLm1hcCgoZT0+ZS5jb2xvcikpLGw9byhcImZ1bGxcIj09PXQudHlwZT9pOlwiYWJvdmVcIj09PXQudHlwZT9pLnNsaWNlKDAsMyk6aS5zbGljZSgyLDUpLHt3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxhbGlnbjp0LnJhbXBBbGlnbm1lbnQsZWZmZWN0TGlzdDp0LmVmZmVjdExpc3QsYXJpYUxhYmVsOnQuYXJpYUxhYmVsfSk7cmV0dXJuIGwuY2xhc3NOYW1lPWMuY29sb3JSYW1wLG51bGwhPXQub3BhY2l0eSYmKGwuc3R5bGUub3BhY2l0eT10Lm9wYWNpdHkudG9TdHJpbmcoKSksbH1mdW5jdGlvbiB2KHQsbyxpLGw9XCJ2ZXJ0aWNhbFwiKXtsZXQgYz0wO2NvbnN0IGY9dC5pbmZvcyxwPU1hdGguZmxvb3IoZi5sZW5ndGgvMiksbT1cImZ1bGxcIj09PW98fFwiYWJvdmVcIj09PW8/MDpwLHU9XCJmdWxsXCI9PT1vfHxcImJlbG93XCI9PT1vP2YubGVuZ3RoLTE6cDtmb3IobGV0IGg9bTtoPD11O2grKylpZihpJiZoPT09cCljKz1cImhvcml6b250YWxcIj09PWw/bjpyO2Vsc2V7Yys9ZShmW2hdLnNpemUpKyhcImhvcml6b250YWxcIj09PWw/YTpzKX1yZXR1cm4gTWF0aC5yb3VuZChjKX1mdW5jdGlvbiB5KHQsbyxpLGw9XCJ2ZXJ0aWNhbFwiKXtjb25zdCBjPXYodCxvLGksbCksZj10LmluZm9zLHA9TWF0aC5mbG9vcihmLmxlbmd0aC8yKSxtPVwiZnVsbFwiPT09b3x8XCJhYm92ZVwiPT09bz8wOnAsdT1cImZ1bGxcIj09PW98fFwiYmVsb3dcIj09PW8/Zi5sZW5ndGgtMTpwLGg9XCJmdWxsXCI9PT1vP2ZbbV0uc2l6ZStmW3VdLnNpemU6XCJhYm92ZVwiPT09bz9mW21dLnNpemU6Zlt1XS5zaXplLHk9aT9cInZlcnRpY2FsXCI9PT1sP3I6bjowLGQ9XCJ2ZXJ0aWNhbFwiPT09bD9zKihcImZ1bGxcIj09PW8/MjoxKTphKihcImZ1bGxcIj09PW8/MjoxKTtyZXR1cm4gTWF0aC5yb3VuZChjLShlKGgpLzIreS8yK2QvMikpfWZ1bmN0aW9uIGQoZSx0LG89XCJ2ZXJ0aWNhbFwiKXtjb25zdCBpPWUuaW5mb3M7bGV0IGw9aS5maW5kKCgoe3R5cGU6ZX0pPT5cInNpemUtcmFtcFwiPT09ZSkpLG49aS5maW5kKCgoe3R5cGU6ZX0pPT5cImNvbG9yLXJhbXBcIj09PWUpKTtyZXR1cm4gbCYmKGw9ey4uLmx9LGwuaW5mb3M9Wy4uLmwuaW5mb3NdLG0obCx0LG8sITApKSxuJiYobj17Li4ubn0sbi5pbmZvcz1bLi4ubi5pbmZvc10pLFwiaG9yaXpvbnRhbFwiPT09byYmKGw/LmluZm9zLnJldmVyc2UoKSxuPy5pbmZvcy5yZXZlcnNlKCkpLHtzaXplUmFtcEVsZW1lbnQ6bCxjb2xvclJhbXBFbGVtZW50Om59fWZ1bmN0aW9uIGIoZSx0PVwidmVydGljYWxcIil7Y29uc3Qgbz1lLmluZm9zO2xldCBpPW8uZmluZCgoKHt0eXBlOmV9KT0+XCJzaXplLXJhbXBcIj09PWUpKSxsPW8uZmluZCgoKHt0eXBlOmV9KT0+XCJjb2xvci1yYW1wXCI9PT1lKSk7cmV0dXJuIGkmJihpPXsuLi5pfSxpLmluZm9zPVsuLi5pLmluZm9zXSxtKGksbnVsbCx0LCExKSksbCYmKGw9ey4uLmx9LGwuaW5mb3M9Wy4uLmwuaW5mb3NdKSxcImhvcml6b250YWxcIj09PXQmJihpPy5pbmZvcy5yZXZlcnNlKCksbD8uaW5mb3MucmV2ZXJzZSgpKSx7c2l6ZVJhbXBFbGVtZW50OmksY29sb3JSYW1wRWxlbWVudDpsfX1leHBvcnR7ZCBhcyBnZXRVbml2YXJpYXRlQWJvdmVBbmRCZWxvd1JhbXBFbGVtZW50cyx1IGFzIGdldFVuaXZhcmlhdGVDb2xvclJhbXBNYXJnaW4saCBhcyBnZXRVbml2YXJpYXRlQ29sb3JSYW1wUHJldmlldyx5IGFzIGdldFVuaXZhcmlhdGVDb2xvclJhbXBTaXplLGIgYXMgZ2V0VW5pdmFyaWF0ZUNvbG9yU2l6ZVJhbXBFbGVtZW50cyx2IGFzIGdldFVuaXZhcmlhdGVTaXplUmFtcFNpemV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL0NvbG9yLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9pbnRsLmpzXCI7aW1wb3J0e2FkZFRva2VuUGFyYW1ldGVyIGFzIHN9ZnJvbVwiLi4vLi4vLi4va2VybmVsLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vc3ltYm9scy5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7aXNTb21lIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0e0pTT05NYXAgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL2pzb25NYXAuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkZWJvdW5jZSBhcyB1fWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e29uIGFzIGMsd2F0Y2ggYXMgZCx3aGVuT25jZSBhcyB5LGluaXRpYWwgYXMgaH1mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHgycHQgYXMgbX1mcm9tXCIuLi8uLi8uLi9jb3JlL3NjcmVlblV0aWxzLmpzXCI7aW1wb3J0e21pbGxpc2Vjb25kc1BlclRpbWVVbml0IGFzIGZ9ZnJvbVwiLi4vLi4vLi4vY29yZS90aW1lVXRpbHMuanNcIjtpbXBvcnR7YWRkUXVlcnlQYXJhbWV0ZXJzIGFzIHB9ZnJvbVwiLi4vLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBnfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtPcmlnaW5JZCBhcyBTfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L1Byb3BlcnR5T3JpZ2luLmpzXCI7aW1wb3J0e0VmZmVjdFZpZXcgYXMgX31mcm9tXCIuLi8uLi8uLi9sYXllcnMvZWZmZWN0cy9FZmZlY3RWaWV3LmpzXCI7aW1wb3J0e2VmZmVjdEZ1bmN0aW9uc0Zyb21KU09OIGFzIHd9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL2VmZmVjdHMvanNvblV0aWxzLmpzXCI7aW1wb3J0e0V4cG9ydEltYWdlUGFyYW1ldGVycyBhcyB2fWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0V4cG9ydEltYWdlUGFyYW1ldGVycy5qc1wiO2ltcG9ydHtpc1RpbWVPbmx5RmllbGQgYXMgTH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7aW1wb3J0e2lzRmVhdHVyZUxheWVyIGFzIEV9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvbGF5ZXJVdGlscy5qc1wiO2ltcG9ydHtnZXRQaXhlbFZhbHVlUmFuZ2UgYXMgQ31mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9yYXN0ZXJGb3JtYXRzL3BpeGVsUmFuZ2VVdGlscy5qc1wiO2ltcG9ydHtmcm9tSlNPTiBhcyBJfWZyb21cIi4uLy4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L2pzb25VdGlscy5qc1wiO2ltcG9ydHtpc1N1cHBvcnRlZFJlbmRlcmVyM0QgYXMgUn1mcm9tXCIuLi8uLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9yZW5kZXJlckNvbnZlcnNpb24uanNcIjtpbXBvcnQgRiBmcm9tXCIuLi8uLi8uLi9yZW5kZXJlcnMvdmlzdWFsVmFyaWFibGVzL3N1cHBvcnQvU2l6ZVZhcmlhYmxlTGVnZW5kT3B0aW9ucy5qc1wiO2ltcG9ydHtpc0FueURhdGVGaWVsZCBhcyBWfWZyb21cIi4uLy4uLy4uL3NtYXJ0TWFwcGluZy9zdXBwb3J0L3V0aWxzLmpzXCI7aW1wb3J0e2FwcGx5Q0lNU3ltYm9sQ29sb3IgYXMgVH1mcm9tXCIuLi8uLi8uLi9zeW1ib2xzL3N1cHBvcnQvY2ltU3ltYm9sVXRpbHMuanNcIjtpbXBvcnR7U3ltYm9sU2l6ZURlZmF1bHRzIGFzIHp9ZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9zdXBwb3J0L3ByZXZpZXdVdGlscy5qc1wiO2ltcG9ydHtyZW5kZXJTeW1ib2wgYXMgRH1mcm9tXCIuLi8uLi8uLi9zeW1ib2xzL3N1cHBvcnQvcmVuZGVyVXRpbHMuanNcIjtpbXBvcnR7cmVuZGVyQ29sb3JSYW1wUHJldmlld0hUTUwgYXMgeCxyZW5kZXJEb3REZW5zaXR5UHJldmlld0hUTUwgYXMgaixyZW5kZXJQaWVDaGFydFByZXZpZXdIVE1MIGFzIE8scmVuZGVyUHJldmlld0hUTUwgYXMgUH1mcm9tXCIuLi8uLi8uLi9zeW1ib2xzL3N1cHBvcnQvc3ltYm9sVXRpbHMuanNcIjtpbXBvcnR7aXNWb2x1bWV0cmljU3ltYm9sIGFzIEF9ZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9zdXBwb3J0L3V0aWxzLmpzXCI7aW1wb3J0e2dldENsdXN0ZXJTaXplVmFyaWFibGUgYXMgTX1mcm9tXCIuL2NsdXN0ZXJVdGlscy5qc1wiO2ltcG9ydHtnZXRDb2xvckZyb21Qb2ludENsb3VkU3RvcHMgYXMgVSxnZXRSYW1wU3RvcHNGb3JQb2ludENsb3VkIGFzIGssZ2V0U3RyZWN0Y2hSYW1wU3RvcHMgYXMgQixnZXRSYW1wU3RvcHMgYXMgTn1mcm9tXCIuL2NvbG9yUmFtcFV0aWxzLmpzXCI7aW1wb3J0e2dldEhlYXRtYXBSYW1wU3RvcHMgYXMgcX1mcm9tXCIuL2hlYXRtYXBSYW1wVXRpbHMuanNcIjtpbXBvcnR7Z2V0Um90YXRpb25BbmdsZUZvckZvY3VzIGFzIEgsZ2V0UmVsYXRpb25zaGlwUmFtcEVsZW1lbnQgYXMgJH1mcm9tXCIuL3JlbGF0aW9uc2hpcFJhbXBVdGlscy5qc1wiO2ltcG9ydHtnZXRSYW1wU3RvcHMgYXMgVyxyZWFsV29ybGRNYXhTaXplIGFzIEcscmVhbFdvcmxkTWluU2l6ZSBhcyBKfWZyb21cIi4vc2l6ZVJhbXBVdGlscy5qc1wiO2ltcG9ydHtzcGVjaWFsQ2hhcnNMZXNzVGhhbiBhcyBRLHNwZWNpYWxDaGFyc0dyZWF0ZXJUaGFuIGFzIFosZ2V0U3ltYm9sRm9yRmxvd1JlbmRlcmVyIGFzIEssaXNSYXN0ZXJCYW5kU3RhdGlzdGljcyBhcyBYLGdldE1lZGlhbkNvbG9yIGFzIFkscmdiSW1nU291cmNlIGFzIGVlfWZyb21cIi4vdXRpbHMuanNcIjtpbXBvcnR7Zm9ybWF0TnVtYmVyTGFiZWwgYXMgdGV9ZnJvbVwiLi4vLi4vc21hcnRNYXBwaW5nL3N1cHBvcnQvdXRpbHMuanNcIjtpbXBvcnQgc2UgZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9TaW1wbGVNYXJrZXJTeW1ib2wuanNcIjtpbXBvcnQgbGUgZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9TaW1wbGVGaWxsU3ltYm9sLmpzXCI7aW1wb3J0e2ZldGNoTWVzc2FnZUJ1bmRsZSBhcyBpZX1mcm9tXCIuLi8uLi8uLi9pbnRsL21lc3NhZ2VzLmpzXCI7aW1wb3J0e3N1YnN0aXR1dGUgYXMgcmV9ZnJvbVwiLi4vLi4vLi4vaW50bC9zdWJzdGl0dXRlLmpzXCI7Y29uc3QgbmU9XCJodHRwczovL3V0aWxpdHkuYXJjZ2lzLmNvbS9zaGFyaW5nL3Rvb2xzL2xlZ2VuZFwiLGFlPVwiZXNyaS5sYXllcnMuSW1hZ2VyeUxheWVyXCIsb2U9XCJlc3JpLmxheWVycy5JbWFnZXJ5VGlsZUxheWVyXCIsdWU9XCJlc3JpLmxheWVycy5XQ1NMYXllclwiLGNlPS9eXFxzKihyZXR1cm5cXHMrKT9cXCR2aWV3XFwuc2NhbGVcXHMqKDspP1xccyokL2ksZGU9bmV3IGEoe2VzcmlHZW9tZXRyeVBvaW50OlwicG9pbnRcIixlc3JpR2VvbWV0cnlNdWx0aXBvaW50OlwibXVsdGlwb2ludFwiLGVzcmlHZW9tZXRyeVBvbHlsaW5lOlwicG9seWxpbmVcIixlc3JpR2VvbWV0cnlQb2x5Z29uOlwicG9seWdvblwiLGVzcmlHZW9tZXRyeU11bHRpUGF0Y2g6XCJtdWx0aXBhdGNoXCJ9KSx5ZT1uZXcgc2Uoe3NpemU6NixvdXRsaW5lOntjb2xvcjpbMTI4LDEyOCwxMjgsLjVdLHdpZHRoOi41fX0pLGhlPW5ldyBsZSh7c3R5bGU6XCJzb2xpZFwifSk7ZnVuY3Rpb24gbWUoZSl7cmV0dXJuXCJmbG93XCI9PT1lLnR5cGV9ZnVuY3Rpb24gZmUoZSl7cmV0dXJuXCJ2ZWN0b3ItZmllbGRcIj09PWUudHlwZX1mdW5jdGlvbiBwZShlKXtyZXR1cm5cInJhc3Rlci1jb2xvcm1hcFwiPT09ZS50eXBlfWZ1bmN0aW9uIGdlKGUpe3JldHVyblwicmFzdGVyLXN0cmV0Y2hcIj09PWUudHlwZX1mdW5jdGlvbiBiZShlKXtyZXR1cm5cInJhc3Rlci1zaGFkZWQtcmVsaWVmXCI9PT1lLnR5cGV9ZnVuY3Rpb24gU2UoZSl7cmV0dXJuXCJlc3JpLnJlbmRlcmVycy5TaW1wbGVSZW5kZXJlclwiPT09ZS5kZWNsYXJlZENsYXNzfWZ1bmN0aW9uIF9lKGUpe3JldHVyblwiZXNyaS5yZW5kZXJlcnMuQ2xhc3NCcmVha3NSZW5kZXJlclwiPT09ZS5kZWNsYXJlZENsYXNzfWZ1bmN0aW9uIHdlKGUpe3JldHVyblwiZXNyaS5yZW5kZXJlcnMuVW5pcXVlVmFsdWVSZW5kZXJlclwiPT09ZS5kZWNsYXJlZENsYXNzfWZ1bmN0aW9uIHZlKGUpe3JldHVyblwiZXNyaS5yZW5kZXJlcnMuSGVhdG1hcFJlbmRlcmVyXCI9PT1lLmRlY2xhcmVkQ2xhc3N9ZnVuY3Rpb24gTGUoZSl7cmV0dXJuIENlKGUpfHxJZShlKXx8UmUoZSl8fEVlKGUpfWZ1bmN0aW9uIEVlKGUpe3JldHVyblwiZXNyaS5yZW5kZXJlcnMuUG9pbnRDbG91ZFJHQlJlbmRlcmVyXCI9PT1lLmRlY2xhcmVkQ2xhc3N9ZnVuY3Rpb24gQ2UoZSl7cmV0dXJuXCJlc3JpLnJlbmRlcmVycy5Qb2ludENsb3VkQ2xhc3NCcmVha3NSZW5kZXJlclwiPT09ZS5kZWNsYXJlZENsYXNzfWZ1bmN0aW9uIEllKGUpe3JldHVyblwiZXNyaS5yZW5kZXJlcnMuUG9pbnRDbG91ZFN0cmV0Y2hSZW5kZXJlclwiPT09ZS5kZWNsYXJlZENsYXNzfWZ1bmN0aW9uIFJlKGUpe3JldHVyblwiZXNyaS5yZW5kZXJlcnMuUG9pbnRDbG91ZFVuaXF1ZVZhbHVlUmVuZGVyZXJcIj09PWUuZGVjbGFyZWRDbGFzc31mdW5jdGlvbiBGZShlKXtyZXR1cm5cImVzcmkucmVuZGVyZXJzLkRvdERlbnNpdHlSZW5kZXJlclwiPT09ZS5kZWNsYXJlZENsYXNzfWZ1bmN0aW9uIFZlKGUpe3JldHVyblwiZXNyaS5yZW5kZXJlcnMuUGllQ2hhcnRSZW5kZXJlclwiPT09ZS5kZWNsYXJlZENsYXNzfWZ1bmN0aW9uIFRlKGUsdCl7cmV0dXJuIFNlKGUpfHxfZShlKXx8d2UoZSl8fHZlKGUpfHxGZShlKXx8VmUoZSk/XCIyZFwiPT09dC50eXBlfHxSKGUpOmdlKGUpfHxwZShlKXx8YmUoZSl8fENlKGUpfHxJZShlKXx8UmUoZSl8fGZlKGUpfHxtZShlKX1mdW5jdGlvbiB6ZShlKXtyZXR1cm5cImVzcmkubGF5ZXJzLkJ1aWxkaW5nU2NlbmVMYXllclwiPT09ZS5kZWNsYXJlZENsYXNzfWZ1bmN0aW9uIERlKGUpe3JldHVyblwiZXNyaS5sYXllcnMuU3VidHlwZUdyb3VwTGF5ZXJcIj09PWUuZGVjbGFyZWRDbGFzc31mdW5jdGlvbiB4ZShlKXtyZXR1cm5cImVzcmkubGF5ZXJzLlZveGVsTGF5ZXJcIj09PWUuZGVjbGFyZWRDbGFzc31mdW5jdGlvbiBqZShlKXtyZXR1cm5cImVzcmkubGF5ZXJzLldNU0xheWVyXCI9PT1lLmRlY2xhcmVkQ2xhc3N9ZnVuY3Rpb24gT2UoZSl7cmV0dXJuXCJlc3JpLmxheWVycy5XTVRTTGF5ZXJcIj09PWUuZGVjbGFyZWRDbGFzc31mdW5jdGlvbiBQZShlKXtyZXR1cm5cImVzcmkubGF5ZXJzLk1hcEltYWdlTGF5ZXJcIj09PWUuZGVjbGFyZWRDbGFzc31mdW5jdGlvbiBBZShlKXtyZXR1cm5cImVzcmkubGF5ZXJzLlRpbGVMYXllclwiPT09ZS5kZWNsYXJlZENsYXNzfWZ1bmN0aW9uIE1lKGUpe3JldHVybiBlLmRlY2xhcmVkQ2xhc3M9PT1hZX1mdW5jdGlvbiBVZShlKXtyZXR1cm4gZS5kZWNsYXJlZENsYXNzPT09b2V9ZnVuY3Rpb24ga2UoZSl7cmV0dXJuIGUuZGVjbGFyZWRDbGFzcz09PXVlfWZ1bmN0aW9uIEJlKGUpe3JldHVyblwic3RyZXRjaC1yYW1wXCI9PT1lLnR5cGV9ZnVuY3Rpb24gTmUoZSl7Y29uc3QgdD1cImF1dGhvcmluZ0luZm9cImluIGU/ZT8uYXV0aG9yaW5nSW5mbzpudWxsO3JldHVyblwidW5pdmFyaWF0ZS1jb2xvci1zaXplXCI9PT10Py50eXBlfWZ1bmN0aW9uIHFlKGUpe2NvbnN0IHQ9XCJhdXRob3JpbmdJbmZvXCJpbiBlP2U/LmF1dGhvcmluZ0luZm86bnVsbDtyZXR1cm5cInVuaXZhcmlhdGUtY29sb3Itc2l6ZVwiPT09dD8udHlwZSYmXCJhYm92ZS1hbmQtYmVsb3dcIj09PXQ/LnVuaXZhcmlhdGVUaGVtZX1mdW5jdGlvbiBIZShlKXtyZXR1cm5cInN1YmxheWVyc1wiaW4gZX1hc3luYyBmdW5jdGlvbiAkZShlLHQpe2NvbnN0IHM9YXdhaXQgaWUoXCJlc3JpL3dpZGdldHMvTGVnZW5kL3Q5bi9MZWdlbmRcIik7cmV0dXJuXCJwcmV2aWV3VGVtcGxhdGVBcmlhTGFiZWxcIiE9PWV8fHR8fChlPVwicHJldmlld0FyaWFMYWJlbFwiKSxyZShzW2VdLHtsYWJlbDp0fSl9Y29uc3QgV2U9bmV3IHNlKHtzdHlsZTpcInBhdGhcIixwYXRoOlwiTTEwLDUgTDUsMCAwLDUgTTUsMCBMNSwxNVwiLHNpemU6MTUsb3V0bGluZTp7d2lkdGg6MSxjb2xvcjpbODUsODUsODUsMV19fSk7bGV0IEdlPXt9LEplPWNsYXNzIGV4dGVuZHMgaXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9oYXNDb2xvclJhbXA9ITEsdGhpcy5faGFzT3BhY2l0eVJhbXA9ITEsdGhpcy5faGFzU2l6ZVJhbXA9ITEsdGhpcy5fd2ViU3R5bGVTeW1ib2xDYWNoZT1uZXcgTWFwLHRoaXMuX2RvdERlbnNpdHlVcmxDYWNoZT1uZXcgTWFwLHRoaXMuX3NjYWxlRHJpdmVuU2l6ZVZhcmlhYmxlPW51bGwsdGhpcy5faGFzQ2x1c3RlclNpemVWYXJpYWJsZT0hMSx0aGlzLmNoaWxkcmVuPW5ldyBuLHRoaXMubGF5ZXJWaWV3PW51bGwsdGhpcy5sYXllcj1udWxsLHRoaXMubGVnZW5kRWxlbWVudHM9W10sdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmhpZGVMYXllcnNOb3RJbkN1cnJlbnRWaWV3PSExLHRoaXMua2VlcENhY2hlT25EZXN0cm95PSExLHRoaXMucmVzcGVjdExheWVyVmlzaWJpbGl0eT0hMCx0aGlzLnN1YmxheWVySWRzPVtdLHRoaXMudGl0bGU9bnVsbCx0aGlzLnZpZXc9bnVsbH1pbml0aWFsaXplKCl7Y29uc3QgZT0oKT0+dGhpcy5ub3RpZnlDaGFuZ2UoXCJyZWFkeVwiKTt0aGlzLmFkZEhhbmRsZXMoW2MoKCgpPT50aGlzLmNoaWxkcmVuKSxcImNoYW5nZVwiLCh0PT57Y29uc3R7YWRkZWQ6cyxyZW1vdmVkOmx9PXQ7cy5mb3JFYWNoKCh0PT57Y29uc3Qgcz1gYWN0aXZlTGF5ZXJJbmZvLXJlYWR5LXdhdGNoZXItJHt0LmxheWVyLnVpZH1gO3RoaXMuYWRkSGFuZGxlcyhkKCgoKT0+dC5yZWFkeSksZSxoKSxzKX0pKSxsLmZvckVhY2goKGU9PnRoaXMucmVtb3ZlSGFuZGxlcyhlLmxheWVyLnVpZCkpKSxlKCl9KSldKSx0aGlzLmtlZXBDYWNoZU9uRGVzdHJveXx8KEdlPXt9KX1kZXN0cm95KCl7dGhpcy5fd2ViU3R5bGVTeW1ib2xDYWNoZT1udWxsLHRoaXMuX2RvdERlbnNpdHlVcmxDYWNoZT1udWxsLHRoaXMuX3NjYWxlRHJpdmVuU2l6ZVZhcmlhYmxlPW51bGwsdGhpcy5rZWVwQ2FjaGVPbkRlc3Ryb3l8fChHZT1udWxsKX1nZXQgZWZmZWN0TGlzdCgpe2NvbnN0IGU9dGhpcy5sYXllcjtsZXQgdD1udWxsO3JldHVyblwiZWZmZWN0XCJpbiBlJiZlLmVmZmVjdCYmKHQ9bmV3IF8sdC5lZmZlY3Q9ZS5lZmZlY3QsdC5lbmRUcmFuc2l0aW9ucygpLHQuc2NhbGU9dGhpcy5zY2FsZSksdH1nZXQgb3BhY2l0eSgpe2NvbnN0IGU9dGhpcy5sYXllci5vcGFjaXR5LHQ9dGhpcy5wYXJlbnQ/Lm9wYWNpdHkscz10aGlzLmxheWVyLnBhcmVudCxsPXMmJlwidWlkXCJpbiBzP3RoaXMuX2dldFBhcmVudExheWVyT3BhY2l0eShzKTpudWxsO3JldHVybiBudWxsIT10P3QqZTpudWxsIT1sP2wqZTplfWdldCByZWFkeSgpe3JldHVybiBudWxsPT09dGhpcy5sYXllcnx8KHRoaXMuY2hpbGRyZW4ubGVuZ3RoPjA/dGhpcy5faXNHcm91cEFjdGl2ZSgpOnRoaXMubGVnZW5kRWxlbWVudHMubGVuZ3RoPjApfWdldCBzY2FsZSgpe3JldHVybiB0aGlzLnZpZXc/LnNjYWxlPz8wfWdldCBpc1NjYWxlRHJpdmVuKCl7Y29uc3QgZT10aGlzLmxheWVyO2lmKG51bGw9PT1lKXJldHVybiExO2lmKFwiZWZmZWN0XCJpbiBlJiZlLmVmZmVjdCYmQXJyYXkuaXNBcnJheShlLmVmZmVjdCkpcmV0dXJuITA7aWYoXCJmZWF0dXJlUmVkdWN0aW9uXCJpbiBlJiZlLmZlYXR1cmVSZWR1Y3Rpb24pe2lmKFwiY2x1c3RlclwiPT09ZS5mZWF0dXJlUmVkdWN0aW9uLnR5cGUpcmV0dXJuITA7aWYoXCJiaW5uaW5nXCI9PT1lLmZlYXR1cmVSZWR1Y3Rpb24udHlwZSYmXCJyZW5kZXJlclwiaW4gZS5mZWF0dXJlUmVkdWN0aW9uJiZlLmZlYXR1cmVSZWR1Y3Rpb24ucmVuZGVyZXIpcmV0dXJuIHRoaXMuX2lzUmVuZGVyZXJTY2FsZURyaXZlbihlLmZlYXR1cmVSZWR1Y3Rpb24ucmVuZGVyZXIpfXJldHVyblwicmVuZGVyZXJcImluIGUmJmUucmVuZGVyZXI/dGhpcy5faXNSZW5kZXJlclNjYWxlRHJpdmVuKGUucmVuZGVyZXIpOnRoaXMuX2lzTGF5ZXJTY2FsZURyaXZlbih0aGlzLmxheWVyKX1nZXQgdmVyc2lvbigpe3JldHVybiB0aGlzLl9nZXQoXCJ2ZXJzaW9uXCIpKzF9YXN5bmMgYnVpbGRMZWdlbmRFbGVtZW50c0ZvckZlYXR1cmVDb2xsZWN0aW9ucyhlKXtpZighKCF0aGlzLmhpZGVMYXllcnNOb3RJbkN1cnJlbnRWaWV3fHxhd2FpdCB0aGlzLl9pc0xheWVySW5DdXJyZW50VmlldygpKSlyZXR1cm4gdGhpcy5sZWdlbmRFbGVtZW50cz1bXSx2b2lkIHRoaXMubm90aWZ5Q2hhbmdlKFwicmVhZHlcIik7Y29uc3QgdD1BcnJheS5mcm9tKGUsKGU9PntpZihFKGUpKXJldHVybiB0aGlzLl9nZXRSZW5kZXJlckxlZ2VuZEVsZW1lbnRzKGUucmVuZGVyZXIse3RpdGxlOmUudGl0bGV9KTtpZihlLmZlYXR1cmVTZXQ/LmZlYXR1cmVzLmxlbmd0aCl7Y29uc3QgdD1lLmxheWVyRGVmaW5pdGlvbixzPXQ/LmRyYXdpbmdJbmZvLGw9cyYmSShzLnJlbmRlcmVyKSxpPWRlLnJlYWQodC5nZW9tZXRyeVR5cGUpO3JldHVybiBsP3RoaXMuX2dldFJlbmRlcmVyTGVnZW5kRWxlbWVudHMobCx7dGl0bGU6ZS5uYW1lLGdlb21ldHJ5VHlwZTppfSk6KG8uZ2V0TG9nZ2VyKHRoaXMpLndhcm4oXCJkcmF3aW5nSW5mbyBub3QgYXZhaWxhYmxlIVwiKSxudWxsKX1yZXR1cm4gbnVsbH0pKTt0cnl7Y29uc3QgZT1bXSxzPWF3YWl0IFByb21pc2UuYWxsU2V0dGxlZCh0KTtmb3IoY29uc3QgdCBvZiBzKWlmKFwiZnVsZmlsbGVkXCI9PT10LnN0YXR1cylmb3IoY29uc3QgcyBvZiB0LnZhbHVlPz9bXSllLnB1c2gocyk7dGhpcy5sZWdlbmRFbGVtZW50cz1lLHRoaXMubm90aWZ5Q2hhbmdlKFwicmVhZHlcIil9Y2F0Y2gocyl7by5nZXRMb2dnZXIodGhpcykud2FybihcImVycm9yIHdoaWxlIGJ1aWxkaW5nIGxlZ2VuZCBmb3IgbGF5ZXIhXCIscyl9fWFzeW5jIGJ1aWxkTGVnZW5kRWxlbWVudHNGb3JSZW5kZXJlcihlKXt0cnl7Y29uc3QgdD0hdGhpcy5oaWRlTGF5ZXJzTm90SW5DdXJyZW50Vmlld3x8YXdhaXQgdGhpcy5faXNMYXllckluQ3VycmVudFZpZXcoKTt0aGlzLmxlZ2VuZEVsZW1lbnRzPXQ/YXdhaXQgdGhpcy5fZ2V0UmVuZGVyZXJMZWdlbmRFbGVtZW50cyhlKTpbXSx0aGlzLm5vdGlmeUNoYW5nZShcInJlYWR5XCIpfWNhdGNoKHQpe28uZ2V0TG9nZ2VyKHRoaXMpLndhcm4oXCJlcnJvciB3aGlsZSBidWlsZGluZyBsZWdlbmQgZm9yIGxheWVyIVwiLHQpfX1hc3luYyBidWlsZExlZ2VuZEVsZW1lbnRzRm9yRmVhdHVyZVJlZHVjdGlvbihlKXt0cnl7Y29uc3QgdD0hdGhpcy5oaWRlTGF5ZXJzTm90SW5DdXJyZW50Vmlld3x8YXdhaXQgdGhpcy5faXNMYXllckluQ3VycmVudFZpZXcoKTt0aGlzLmxlZ2VuZEVsZW1lbnRzPXQ/YXdhaXQgdGhpcy5fZ2V0TGVnZW5kRWxlbWVudHNGb3JGZWF0dXJlUmVkdWN0aW9uKGUpOltdLHRoaXMubm90aWZ5Q2hhbmdlKFwicmVhZHlcIil9Y2F0Y2godCl7by5nZXRMb2dnZXIodGhpcykud2FybihcImVycm9yIHdoaWxlIGJ1aWxkaW5nIGxlZ2VuZCBmb3IgbGF5ZXIhXCIsdCl9fWFzeW5jIGJ1aWxkTGVnZW5kRWxlbWVudHNGb3JUb29scygpe2NvbnN0IGU9dGhpcy5sYXllcjtpZih4ZShlKSl0aGlzLl9jb25zdHJ1Y3RMZWdlbmRFbGVtZW50c0ZvclZveGVsbGF5ZXIoKTtlbHNlIGlmKE9lKGUpKXRoaXMuX2NvbnN0cnVjdExlZ2VuZEVsZW1lbnRzRm9yV01UU2xheWVyKCk7ZWxzZSBpZihqZShlKSlhd2FpdCB0aGlzLl9jb25zdHJ1Y3RMZWdlbmRFbGVtZW50c0ZvcldNU1N1YmxheWVycygpO2Vsc2UgaWYoemUoZSkpYXdhaXQgdGhpcy5fY29uc3RydWN0TGVnZW5kRWxlbWVudHNGb3JCdWlsZGluZ1NjZW5lTGF5ZXIoKTtlbHNlIGlmKFBlKGUpfHxBZShlKXx8RGUoZSkpYXdhaXQgdGhpcy5fY29uc3RydWN0TGVnZW5kRWxlbWVudHNGb3JTdWJsYXllcnMoKTtlbHNle3RoaXMucmVtb3ZlSGFuZGxlcyhcImltYWdlcnlMYXllcnMtd2F0Y2hlclwiKTtsZXQgdD1cImRlZmF1bHRcIjtpZihNZShlKSl7Y29uc3Qgcz1lO3Q9KHM/LnJhc3RlckZ1bmN0aW9uPy5mdW5jdGlvbk5hbWV8fFwiZGVmYXVsdFwiKStcIl9cIisoZS5iYW5kSWRzPy5sZW5ndGg/ZS5iYW5kSWRzLmpvaW4oXCJcIik6XCIjIyNcIil9YXdhaXQgdGhpcy5fZ2V0TGVnZW5kTGF5ZXJzKGAke2UudWlkfS0ke3R9YCkudGhlbigoYXN5bmMgdD0+e3RoaXMubGVnZW5kRWxlbWVudHM9W10sdGhpcy5ub3RpZnlDaGFuZ2UoXCJyZWFkeVwiKTtjb25zdCBzPXQubWFwKChhc3luYyB0PT57aWYoTWUoZSl8fFVlKGUpKXtjb25zdCB0PWQoKCgpPT5bXCJyZW5kZXJpbmdSdWxlXCJpbiBlJiZlLnJhc3RlckZ1bmN0aW9uLGUuYmFuZElkc10pLCgoKT0+dSgoYXN5bmMoKT0+e0dlLmRlZmF1bHQ9bnVsbCxlLnJlbmRlcmVyP2F3YWl0IHRoaXMuYnVpbGRMZWdlbmRFbGVtZW50c0ZvclJlbmRlcmVyKGUucmVuZGVyZXIpOmF3YWl0IHRoaXMuYnVpbGRMZWdlbmRFbGVtZW50c0ZvclRvb2xzKCl9KSkoKSkpO3RoaXMuYWRkSGFuZGxlcyh0LFwiaW1hZ2VyeUxheWVycy13YXRjaGVyXCIpfWNvbnN0IHM9dGhpcy5fZ2VuZXJhdGVTeW1ib2xUYWJsZUVsZW1lbnRGb3JMZWdlbmRMYXllcih0KTtzJiZzLmluZm9zLmxlbmd0aCYmKE1lKGUpJiYocy50aXRsZT1lLnRpdGxlKSx0aGlzLmxlZ2VuZEVsZW1lbnRzLnB1c2gocykpLHRoaXMubm90aWZ5Q2hhbmdlKFwicmVhZHlcIil9KSk7YXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHMpfSkpLmNhdGNoKChlPT57by5nZXRMb2dnZXIodGhpcykud2FybihcIlJlcXVlc3QgdG8gc2VydmVyIGZvciBsZWdlbmQgaGFzIGZhaWxlZCFcIixlKX0pKX19YXN5bmMgX2lzTGF5ZXJJbkN1cnJlbnRWaWV3KCl7Y29uc3QgZT10aGlzLmxheWVyLHQ9dGhpcy5sYXllclZpZXcscz10JiZcImNyZWF0ZVF1ZXJ5XCJpbiB0JiZcInF1ZXJ5RmVhdHVyZUNvdW50XCJpbiB0O2lmKCFzJiYhKHQmJlwiY3JlYXRlUXVlcnlcImluIGUmJlwicXVlcnlGZWF0dXJlQ291bnRcImluIGUpKXJldHVybiEwO2F3YWl0IHkoKCgpPT4hdC51cGRhdGluZykpO2NvbnN0IGw9cz9cImNyZWF0ZVF1ZXJ5XCJpbiB0JiZ0LmNyZWF0ZVF1ZXJ5KCk6XCJjcmVhdGVRdWVyeVwiaW4gZSYmZS5jcmVhdGVRdWVyeSgpO2lmKCFsKXJldHVybiEwO2wuZ2VvbWV0cnk9dGhpcy52aWV3LmV4dGVudDtyZXR1cm4gMCE9PShzP1wicXVlcnlGZWF0dXJlQ291bnRcImluIHQmJmF3YWl0IHQucXVlcnlGZWF0dXJlQ291bnQobCk6XCJxdWVyeUZlYXR1cmVDb3VudFwiaW4gZSYmYXdhaXQgZS5xdWVyeUZlYXR1cmVDb3VudChsKSl9X2dldFBhcmVudExheWVyT3BhY2l0eShlKXtsZXQgdD0xO2NvbnN0IHM9ZS5wYXJlbnQ7cmV0dXJuIHMmJlwidWlkXCJpbiBzJiYodD10aGlzLl9nZXRQYXJlbnRMYXllck9wYWNpdHkocykpLGUub3BhY2l0eSp0fV9pc0dyb3VwQWN0aXZlKCl7Y29uc3QgZT10aGlzLmNoaWxkcmVuO3JldHVybiEhZS5sZW5ndGgmJmUuc29tZSgoZT0+ZS5yZWFkeSkpfV9pc1JlbmRlcmVyU2NhbGVEcml2ZW4oZSl7aWYoXCJkb3QtZGVuc2l0eVwiPT09ZS50eXBlKXJldHVybiEwO2NvbnN0IHQ9XCJ2YWx1ZUV4cHJlc3Npb25cImluIGU/ZS52YWx1ZUV4cHJlc3Npb246bnVsbDtpZihjZS50ZXN0KHQpKXJldHVybiEwO2NvbnN0IHM9XCJ2aXN1YWxWYXJpYWJsZXNcImluIGU/ZS52aXN1YWxWYXJpYWJsZXM6bnVsbDtyZXR1cm4hIXM/LnNvbWUoKGU9PnRoaXMuX2lzU2NhbGVEcml2ZW5TaXplVmFyaWFibGUoZSkpKXx8dGhpcy5faGFzU2NhbGVEcml2ZW5TeW1ib2xzKGUpfV9oYXNTY2FsZURyaXZlblN5bWJvbHMoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwic2ltcGxlXCI6cmV0dXJuIHRoaXMuX2lzU2NhbGVEcml2ZW5TeW1ib2woZS5zeW1ib2wpO2Nhc2VcImNsYXNzLWJyZWFrc1wiOnJldHVybiB0aGlzLl9pc1NjYWxlRHJpdmVuU3ltYm9sKGUuZGVmYXVsdFN5bWJvbCl8fGUuY2xhc3NCcmVha0luZm9zLnNvbWUoKGU9PnRoaXMuX2lzU2NhbGVEcml2ZW5TeW1ib2woZS5zeW1ib2wpKSk7Y2FzZVwidW5pcXVlLXZhbHVlXCI6cmV0dXJuIHRoaXMuX2lzU2NhbGVEcml2ZW5TeW1ib2woZS5kZWZhdWx0U3ltYm9sKXx8ISFlLnVuaXF1ZVZhbHVlSW5mb3M/LnNvbWUoKGU9PnRoaXMuX2lzU2NhbGVEcml2ZW5TeW1ib2woZS5zeW1ib2wpKSl9cmV0dXJuITF9X2lzU2NhbGVEcml2ZW5TeW1ib2woZSl7aWYoXCJjaW1cIj09PWU/LnR5cGUpe2NvbnN0e3ByaW1pdGl2ZU92ZXJyaWRlczp0LG1pblNjYWxlOnMsbWF4U2NhbGU6bH09ZS5kYXRhLGk9dD8uc29tZSgoZT0+L1xcJHZpZXdcXC5zY2FsZS8udGVzdChlLnZhbHVlRXhwcmVzc2lvbkluZm8/LmV4cHJlc3Npb258fFwiXCIpKSk/PyExO3JldHVybiBudWxsIT1zfHxudWxsIT1sfHxpfXJldHVybiExfV9pc1NjYWxlRHJpdmVuU2l6ZVZhcmlhYmxlKGUpe2lmKGUmJlwic2l6ZVwiIT09ZS50eXBlKXJldHVybiExO2NvbnN0IHQ9ZSxzPXQubWluU2l6ZSxsPXQubWF4U2l6ZTtyZXR1cm4hKFwib2JqZWN0XCIhPXR5cGVvZiBzfHwhc3x8IXRoaXMuX2lzU2NhbGVEcml2ZW5TaXplVmFyaWFibGUocykpfHwoIShcIm9iamVjdFwiIT10eXBlb2YgbHx8IWx8fCF0aGlzLl9pc1NjYWxlRHJpdmVuU2l6ZVZhcmlhYmxlKGwpKXx8KCEhdC5leHByZXNzaW9ufHxjZS50ZXN0KHQudmFsdWVFeHByZXNzaW9uKSkpfV9pc0xheWVyU2NhbGVEcml2ZW4oZSl7aWYoXCJtaW5TY2FsZVwiaW4gZSYmZS5taW5TY2FsZT4wfHxcIm1heFNjYWxlXCJpbiBlJiZlLm1heFNjYWxlPjApcmV0dXJuITA7aWYoXCJzdWJsYXllcnNcImluIGUmJmUuc3VibGF5ZXJzKXJldHVybiBlLnN1YmxheWVycy5zb21lKChlPT50aGlzLl9pc0xheWVyU2NhbGVEcml2ZW4oZSkpKTtjb25zdCB0PWUucGFyZW50O2lmKCExPT09ZS5sb2FkZWQmJnQmJlBlKHQpJiZcInNvdXJjZVwiaW4gZSYmZS5zb3VyY2UmJlwibWFwLWxheWVyXCI9PT1lLnNvdXJjZS50eXBlKWZvcihjb25zdCBzIG9mIHQuc291cmNlSlNPTi5sYXllcnM/P1tdKWlmKHMuaWQ9PT1lLnNvdXJjZS5tYXBMYXllcklkJiYocy5taW5TY2FsZT4wfHxzLm1heFNjYWxlPjApKXJldHVybiEwO3JldHVybiExfWFzeW5jIF9jb25zdHJ1Y3RMZWdlbmRFbGVtZW50c0ZvclZveGVsbGF5ZXIoKXt0aGlzLmxlZ2VuZEVsZW1lbnRzPVtdLHRoaXMucmVtb3ZlSGFuZGxlcyhcInZveGVsLXN0eWxlLXdhdGNoZXJcIiksdGhpcy5yZW1vdmVIYW5kbGVzKFwidm94ZWwtY3VycmVudC12YXJpYWJsZVwiKTtjb25zdCBlPXRoaXMubGF5ZXI7dGhpcy5hZGRIYW5kbGVzKGQoKCgpPT5lLmN1cnJlbnRWYXJpYWJsZUlkKSwoKCk9PnRoaXMuX2NvbnN0cnVjdExlZ2VuZEVsZW1lbnRzRm9yVm94ZWxsYXllcigpKSksXCJ2b3hlbC1jdXJyZW50LXZhcmlhYmxlXCIpLHRoaXMuYWRkSGFuZGxlcyhkKCgoKT0+ZS5nZXRWYXJpYWJsZVN0eWxlcygpKSwoKCk9PnRoaXMuX2NvbnN0cnVjdExlZ2VuZEVsZW1lbnRzRm9yVm94ZWxsYXllcigpKSksXCJ2b3hlbC1zdHlsZS13YXRjaGVyXCIpO2NvbnN0IHQ9ZS5nZXRWYXJpYWJsZVN0eWxlKG51bGwpLHM9W107aWYodClpZih0LnVuaXF1ZVZhbHVlcz8ubGVuZ3RoKXtjb25zdCBlPVtdO3QudW5pcXVlVmFsdWVzLmZvckVhY2goKHQ9Pnt0LmVuYWJsZWQmJmUucHVzaCh7bGFiZWw6dC5sYWJlbHx8YCR7dC52YWx1ZX1gLHZhbHVlOnQudmFsdWUsc3ltYm9sOm5ldyBsZSh7Y29sb3I6dC5jb2xvcixvdXRsaW5lOm51bGx9KX0pfSkpLGUubGVuZ3RoJiZzLnB1c2goe3R5cGU6XCJzeW1ib2wtdGFibGVcIix0aXRsZTp0LmxhYmVsLGluZm9zOmV9KX1lbHNlIGlmKHQudHJhbnNmZXJGdW5jdGlvbil7Y29uc3R7Y29sb3JTdG9wczplLHN0cmV0Y2hSYW5nZTpsfT10LnRyYW5zZmVyRnVuY3Rpb24saT1lLnRvQXJyYXkoKS5yZXZlcnNlKCkscj1sLm1hcCgoKGUsdCk9PmAkezA9PT10P1E6Wn0gJHt0ZShlKX1gKSkucmV2ZXJzZSgpLG49aS5tYXAoKGU9Pih7Y29sb3I6ZS5jb2xvcix2YWx1ZTpudWxsLGxhYmVsOm51bGx9KSkpO25bMF0ubGFiZWw9clswXSxuW24ubGVuZ3RoLTFdLmxhYmVsPXJbMV0scy5wdXNoKHt0eXBlOlwiY29sb3ItcmFtcFwiLHRpdGxlOnQubGFiZWwsaW5mb3M6bixwcmV2aWV3OngoaS5tYXAoKGU9PmUuY29sb3IpKSx7YXJpYUxhYmVsOmF3YWl0ICRlKFwicHJldmlld0NvbG9yUmFtcEFyaWFMYWJlbFwiKX0pfSl9Y29uc3QgbD1lLm9wYWNpdHksaT1zLnJlZHVjZSgoKGUsdCk9PlsuLi5lLC4uLnRoaXMuX2dldEFsbEluZm9zKHQpXSksW10pLmZpbHRlcigoZT0+ISFlPy5zeW1ib2wpKS5tYXAoKGU9PnRoaXMuX2dldFN5bWJvbFByZXZpZXcoZSxsKSkpO2F3YWl0IFByb21pc2UuYWxsU2V0dGxlZChpKSx0aGlzLmxlZ2VuZEVsZW1lbnRzPXMsdGhpcy5ub3RpZnlDaGFuZ2UoXCJyZWFkeVwiKX1fY29uc3RydWN0TGVnZW5kRWxlbWVudHNGb3JXTVRTbGF5ZXIoKXt0aGlzLmxlZ2VuZEVsZW1lbnRzPVtdLHRoaXMucmVtb3ZlSGFuZGxlcyhcIndtdHMtYWN0aXZlTGF5ZXItd2F0Y2hlclwiKTtjb25zdCBlPXRoaXMubGF5ZXIuYWN0aXZlTGF5ZXI7aWYodGhpcy5hZGRIYW5kbGVzKGQoKCgpPT57Y29uc3R7bGF5ZXI6ZX09dGhpcztyZXR1cm4gZSYmXCJhY3RpdmVMYXllclwiaW4gZSYmZS5hY3RpdmVMYXllcn0pLCgoKT0+dGhpcy5fY29uc3RydWN0TGVnZW5kRWxlbWVudHNGb3JXTVRTbGF5ZXIoKSkpLFwid210cy1hY3RpdmVMYXllci13YXRjaGVyXCIpLGUuc3R5bGVJZCYmZS5zdHlsZXMpe2xldCB0PW51bGw7ZS5zdHlsZXMuc29tZSgocz0+ZS5zdHlsZUlkPT09cy5pZCYmKHQ9cy5sZWdlbmRVcmwsITApKSksdCYmKHRoaXMubGVnZW5kRWxlbWVudHM9W3t0eXBlOlwic3ltYm9sLXRhYmxlXCIsdGl0bGU6ZS50aXRsZSxpbmZvczpbe3NyYzp0LG9wYWNpdHk6dGhpcy5vcGFjaXR5fV19XSl9dGhpcy5ub3RpZnlDaGFuZ2UoXCJyZWFkeVwiKX1hc3luYyBfY29uc3RydWN0TGVnZW5kRWxlbWVudHNGb3JXTVNTdWJsYXllcnMoKXt0aGlzLmxlZ2VuZEVsZW1lbnRzPVtdLHRoaXMucmVtb3ZlSGFuZGxlcyhcIndtcy1zdWJsYXllcnMtd2F0Y2hlclwiKTtjb25zdCBlPXRoaXMubGF5ZXI7bGV0IHQ9bnVsbDsoZS5jdXN0b21QYXJhbWV0ZXJzfHxlLmN1c3RvbUxheWVyUGFyYW1ldGVycykmJih0PXsuLi5lLmN1c3RvbVBhcmFtZXRlcnMsLi4uZS5jdXN0b21MYXllclBhcmFtZXRlcnN9KSx0aGlzLmFkZEhhbmRsZXMoZCgoKCk9Pntjb25zdHtsYXllcjplfT10aGlzO3JldHVybiBlJiZcInN1YmxheWVyc1wiaW4gZSYmZS5zdWJsYXllcnN9KSwoKCk9PnRoaXMuX2NvbnN0cnVjdExlZ2VuZEVsZW1lbnRzRm9yV01TU3VibGF5ZXJzKCkpKSxcIndtcy1zdWJsYXllcnMtd2F0Y2hlclwiKSx0aGlzLmxlZ2VuZEVsZW1lbnRzPWF3YWl0IHRoaXMuX2dlbmVyYXRlTGVnZW5kRWxlbWVudHNGb3JXTVNTdWJsYXllcnMoZS5zdWJsYXllcnMsdCksdGhpcy5ub3RpZnlDaGFuZ2UoXCJyZWFkeVwiKX1hc3luYyBfZ2VuZXJhdGVMZWdlbmRFbGVtZW50c0ZvcldNU1N1YmxheWVycyhlLHQpe2NvbnN0IHM9W107dGhpcy5hZGRIYW5kbGVzKGUub24oXCJjaGFuZ2VcIiwoKCk9PnRoaXMuX2NvbnN0cnVjdExlZ2VuZEVsZW1lbnRzRm9yV01TU3VibGF5ZXJzKCkpKSxcIndtcy1zdWJsYXllcnMtd2F0Y2hlclwiKTtjb25zdCBsPWUudG9BcnJheSgpO2Zvcihjb25zdCBpIG9mIGwpe2NvbnN0IGU9ZCgoKCk9PltpLnRpdGxlLGkudmlzaWJsZSxpLmxlZ2VuZEVuYWJsZWRdKSwoKCk9PnRoaXMuX2NvbnN0cnVjdExlZ2VuZEVsZW1lbnRzRm9yV01TU3VibGF5ZXJzKCkpKTtpZih0aGlzLmFkZEhhbmRsZXMoZSxcIndtcy1zdWJsYXllcnMtd2F0Y2hlclwiKSwhdGhpcy5yZXNwZWN0TGF5ZXJWaXNpYmlsaXR5fHxpLnZpc2libGUmJmkubGVnZW5kRW5hYmxlZCl7Y29uc3QgZT1hd2FpdCB0aGlzLl9nZW5lcmF0ZVN5bWJvbFRhYmxlRWxlbWVudEZvcldNU1N1YmxheWVyKGksdCk7ZT8uaW5mb3MubGVuZ3RoJiZzLnVuc2hpZnQoZSl9fXJldHVybiBzfWFzeW5jIF9nZW5lcmF0ZVN5bWJvbFRhYmxlRWxlbWVudEZvcldNU1N1YmxheWVyKGUsdCl7aWYoIWUubGVnZW5kVXJsJiZlLnN1YmxheWVycyl7Y29uc3Qgcz0oYXdhaXQgdGhpcy5fZ2VuZXJhdGVMZWdlbmRFbGVtZW50c0ZvcldNU1N1YmxheWVycyhlLnN1YmxheWVycyx0KSkuZmlsdGVyKChlPT5lKSk7cmV0dXJue3R5cGU6XCJzeW1ib2wtdGFibGVcIix0aXRsZTplLnRpdGxlLGluZm9zOnN9fXJldHVybiB0aGlzLl9nZW5lcmF0ZVN5bWJvbFRhYmxlRWxlbWVudEZvckxlZ2VuZFVybChlLHQpfWFzeW5jIF9nZW5lcmF0ZVN5bWJvbFRhYmxlRWxlbWVudEZvckxlZ2VuZFVybChlLHQpe2xldCBzPWUubGVnZW5kVXJsO2lmKCFzKXJldHVybjtjb25zdCBpPXt0eXBlOlwic3ltYm9sLXRhYmxlXCIsdGl0bGU6ZS50aXRsZXx8ZS5uYW1lfHxTdHJpbmcoZS5pZD8/XCJcIiksaW5mb3M6W119O3QmJihzPXAocyx0KSk7bGV0IHI9bnVsbDtjb25zdCBuPWUubGF5ZXI/Lm9wYWNpdHk7dHJ5e3I9KGF3YWl0IGwocyx7cmVzcG9uc2VUeXBlOlwiaW1hZ2VcIn0pKS5kYXRhLHImJihyLnN0eWxlLm9wYWNpdHk9bil9Y2F0Y2h7fXJldHVybiBpLmluZm9zLnB1c2goe3NyYzpzLHByZXZpZXc6cixvcGFjaXR5Om59KSxpfV9nZXRMZWdlbmRMYXllcnMoZSx0KXtjb25zdCBzPUdlJiZHZVtlXTtyZXR1cm4gcz9Qcm9taXNlLnJlc29sdmUocyk6dGhpcy5fbGVnZW5kUmVxdWVzdCh0KS50aGVuKCh0PT57Y29uc3Qgcz10LmxheWVycztyZXR1cm4gR2VbZV09cyxzfSkpfV9sZWdlbmRSZXF1ZXN0KGUpe2NvbnN0IHQ9dGhpcy5sYXllcjtsZXQgcz17ZjpcImpzb25cIixkeW5hbWljTGF5ZXJzOmV9O2lmKE1lKHQpKXtjb25zdCBlPXQuZXhwb3J0SW1hZ2VTZXJ2aWNlUGFyYW1ldGVycy5yYXN0ZXJGdW5jdGlvbjtpZihlJiYocy5yZW5kZXJpbmdSdWxlPUpTT04uc3RyaW5naWZ5KGUuZnVuY3Rpb25EZWZpbml0aW9uPy50b0pTT04oKXx8ZS50b0pTT04oKSkpLHQuYmFuZElkcyYmKHMuYmFuZElkcz10LmJhbmRJZHMuam9pbigpKSx0LnJhc3Rlcnx8dC52aWV3SWR8fHQuY3VzdG9tUGFyYW1ldGVycyl7Y29uc3R7cmFzdGVyOmUsdmlld0lkOmwsY3VzdG9tUGFyYW1ldGVyczppfT10O3M9e3Jhc3RlcjplLHZpZXdJZDpsLC4uLnMsLi4uaX19fWxldCBpPXQudXJsLnJlcGxhY2UoLyhcXC8pKyQvLFwiXCIpO2lmKFwidmVyc2lvblwiaW4gdCYmK3QudmVyc2lvbj49MTAuMDEpe2NvbnN0IGU9aS5pbmRleE9mKFwiP1wiKTtlPi0xP2k9aS5zdWJzdHJpbmcoMCxlKStcIi9sZWdlbmRcIitpLnN1YnN0cmluZyhlKTppKz1cIi9sZWdlbmRcIn1lbHNle2NvbnN0IGU9aS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCIvcmVzdC9cIiksdD1pLnN1YnN0cmluZygwLGUpK2kuc3Vic3RyaW5nKGUrNSxpLmxlbmd0aCk7aT1uZStcIj9zb2FwVXJsPVwiK2VuY29kZVVSSSh0KStcIiZyZXR1cm5ieXRlcz10cnVlXCJ9cmV0dXJuIGwoaSx7cXVlcnk6c30pLnRoZW4oKGU9PmUuZGF0YSkpfWFzeW5jIF9jb25zdHJ1Y3RMZWdlbmRFbGVtZW50c0ZvckJ1aWxkaW5nU2NlbmVMYXllcigpe3RoaXMubGVnZW5kRWxlbWVudHM9W10sdGhpcy5yZW1vdmVIYW5kbGVzKFwic3VibGF5ZXJzLXdhdGNoZXJcIik7Y29uc3QgZT10aGlzLmxheWVyO3RoaXMuYWRkSGFuZGxlcyhkKCgoKT0+ZS5zdWJsYXllcnMpLCgoKT0+dGhpcy5fY29uc3RydWN0TGVnZW5kRWxlbWVudHNGb3JCdWlsZGluZ1NjZW5lTGF5ZXIoKSkpLFwic3VibGF5ZXJzLXdhdGNoZXJcIik7dHJ5e3RoaXMubGVnZW5kRWxlbWVudHM9YXdhaXQgdGhpcy5fZ2VuZXJhdGVMZWdlbmRFbGVtZW50c0ZvckJ1aWxkaW5nU3VibGF5ZXJzKGUuc3VibGF5ZXJzLHRoaXMub3BhY2l0eSksdGhpcy5ub3RpZnlDaGFuZ2UoXCJyZWFkeVwiKX1jYXRjaCh0KXtvLmdldExvZ2dlcih0aGlzKS53YXJuKFwiUmVxdWVzdCB0byBzZXJ2ZXIgZm9yIGxlZ2VuZCBoYXMgZmFpbGVkIVwiLHQpfX1hc3luYyBfZ2VuZXJhdGVMZWdlbmRFbGVtZW50c0ZvckJ1aWxkaW5nU3VibGF5ZXJzKGUsdCl7bGV0IHM9W107dGhpcy5hZGRIYW5kbGVzKGUub24oXCJjaGFuZ2VcIiwoKCk9PnRoaXMuX2NvbnN0cnVjdExlZ2VuZEVsZW1lbnRzRm9yQnVpbGRpbmdTY2VuZUxheWVyKCkpKSxcInN1YmxheWVycy13YXRjaGVyXCIpO2NvbnN0IGw9ZS50b0FycmF5KCk7Zm9yKGNvbnN0IGkgb2YgbCl7Y29uc3QgZT1kKCgoKT0+W1wicmVuZGVyZXJcImluIGkmJmkucmVuZGVyZXIsaS5vcGFjaXR5LGkudGl0bGUsaS52aXNpYmxlXSksKCgpPT50aGlzLl9jb25zdHJ1Y3RMZWdlbmRFbGVtZW50c0ZvckJ1aWxkaW5nU2NlbmVMYXllcigpKSk7aWYodGhpcy5hZGRIYW5kbGVzKGUsXCJzdWJsYXllcnMtd2F0Y2hlclwiKSwhdGhpcy5yZXNwZWN0TGF5ZXJWaXNpYmlsaXR5fHxpLnZpc2libGUpe2NvbnN0IGU9bnVsbCE9aT8ub3BhY2l0eT9pLm9wYWNpdHk6bnVsbCxsPW51bGwhPWU/ZSp0OnQ7aWYoXCJidWlsZGluZy1ncm91cFwiPT09aS50eXBlKXtjb25zdCBlPXt0eXBlOlwic3ltYm9sLXRhYmxlXCIsdGl0bGU6aS50aXRsZSxpbmZvczpbXX0sdD1hd2FpdCB0aGlzLl9nZW5lcmF0ZUxlZ2VuZEVsZW1lbnRzRm9yQnVpbGRpbmdTdWJsYXllcnMoaS5zdWJsYXllcnMsbCk7ZS5pbmZvcy5wdXNoKC4uLnQpLHM9W2UsLi4uc119ZWxzZSBpZihpLnJlbmRlcmVyKXtzPVsuLi5hd2FpdCB0aGlzLl9nZXRSZW5kZXJlckxlZ2VuZEVsZW1lbnRzKGkucmVuZGVyZXIse3RpdGxlOmkudGl0bGUsb3BhY2l0eTpsLHN1YmxheWVyOml9KSwuLi5zXX19fXJldHVybiBzLmZpbHRlcigoZT0+ISFlJiYoIShcImluZm9zXCJpbiBlKXx8IWUuaW5mb3N8fGUuaW5mb3MubGVuZ3RoPjApKSl9YXN5bmMgX2NvbnN0cnVjdExlZ2VuZEVsZW1lbnRzRm9yU3VibGF5ZXJzKCl7dGhpcy5sZWdlbmRFbGVtZW50cz1bXSx0aGlzLnJlbW92ZUhhbmRsZXMoXCJzdWJsYXllcnMtd2F0Y2hlclwiKTtjb25zdCBlPXRoaXMubGF5ZXI7aWYoUGUoZSl8fEFlKGUpfHxEZShlKSl7dGhpcy5hZGRIYW5kbGVzKGQoKCgpPT5lLnN1YmxheWVycyksKCgpPT50aGlzLl9jb25zdHJ1Y3RMZWdlbmRFbGVtZW50c0ZvclN1YmxheWVycykpLFwic3VibGF5ZXJzLXdhdGNoZXJcIik7dHJ5e3RoaXMubGVnZW5kRWxlbWVudHM9YXdhaXQgdGhpcy5fZ2VuZXJhdGVMZWdlbmRFbGVtZW50c0ZvclN1YmxheWVycyhlLnN1YmxheWVycyx0aGlzLm9wYWNpdHkpLHRoaXMubm90aWZ5Q2hhbmdlKFwicmVhZHlcIil9Y2F0Y2godCl7by5nZXRMb2dnZXIodGhpcykud2FybihcIlJlcXVlc3QgdG8gc2VydmVyIGZvciBsZWdlbmQgaGFzIGZhaWxlZCFcIix0KX19fWFzeW5jIF9nZW5lcmF0ZUxlZ2VuZEVsZW1lbnRzRm9yU3VibGF5ZXJzKGUsdCxzKXtjb25zdCBsPXRoaXMubGF5ZXI7bGV0IGk9W107dGhpcy5hZGRIYW5kbGVzKGUub24oXCJjaGFuZ2VcIiwoKCk9PnRoaXMuX2NvbnN0cnVjdExlZ2VuZEVsZW1lbnRzRm9yU3VibGF5ZXJzKCkpKSxcInN1YmxheWVycy13YXRjaGVyXCIpO2xldCBuPWUudG9BcnJheSgpOyFzJiZ0aGlzLnN1YmxheWVySWRzJiZ0aGlzLnN1YmxheWVySWRzLmxlbmd0aCYmKG49RGUobCk/dGhpcy5zdWJsYXllcklkcy5tYXAoKGU9PmwuZmluZFN1YmxheWVyRm9yU3VidHlwZUNvZGUoZSkpKS5maWx0ZXIocik6dGhpcy5zdWJsYXllcklkcy5tYXAoKGU9PmwuZmluZFN1YmxheWVyQnlJZChlKSkpLmZpbHRlcihyKSk7Zm9yKGNvbnN0IHIgb2Ygbil7Y29uc3QgZT1kKCgoKT0+W3IucmVuZGVyZXIsci5vcGFjaXR5LHIudGl0bGUsci52aXNpYmxlLHIubGVnZW5kRW5hYmxlZF0pLCgoKT0+dGhpcy5fY29uc3RydWN0TGVnZW5kRWxlbWVudHNGb3JTdWJsYXllcnMoKSkpO2lmKHRoaXMuYWRkSGFuZGxlcyhlLFwic3VibGF5ZXJzLXdhdGNoZXJcIiksIXRoaXMucmVzcGVjdExheWVyVmlzaWJpbGl0eXx8ci52aXNpYmxlJiZyLmxlZ2VuZEVuYWJsZWQmJnRoaXMuX2lzU3VibGF5ZXJJblNjYWxlKHIpKXtjb25zdCBlPW51bGwhPXI/Lm9wYWNpdHk/ci5vcGFjaXR5Om51bGwsbD1udWxsIT1lP2UqdDp0LG49IUhlKHIpfHxyLm9yaWdpbklkT2YoXCJyZW5kZXJlclwiKT5TLlNFUlZJQ0UmJiFyLnN1YmxheWVycztpZihyLnJlbmRlcmVyJiZuKXthd2FpdCByLmxvYWQoKTtpPVsuLi5hd2FpdCB0aGlzLl9nZXRSZW5kZXJlckxlZ2VuZEVsZW1lbnRzKHIucmVuZGVyZXIse3RpdGxlOnIudGl0bGUsb3BhY2l0eTpsLHN1YmxheWVyOnJ9KSwuLi5pXX1lbHNlIGlmKEhlKHIpKXtjb25zdCBlPWF3YWl0IHRoaXMuX2dlbmVyYXRlU3ltYm9sVGFibGVFbGVtZW50Rm9yU3VibGF5ZXIocixsLHMpO2UmJmkudW5zaGlmdChlKX19fXJldHVybiBpLmZpbHRlcigoZT0+ISFlJiYoIShcImluZm9zXCJpbiBlKXx8IWUuaW5mb3N8fGUuaW5mb3MubGVuZ3RoPjApKSl9YXN5bmMgX2dlbmVyYXRlU3ltYm9sVGFibGVFbGVtZW50Rm9yU3VibGF5ZXIoZSx0LHMpe2lmKCFzKXtzPW5ldyBNYXA7Y29uc3QgdD10aGlzLmxheWVyLGw9ZS5zb3VyY2U7bGV0IGk9bnVsbDtpZighKCFsfHxcIm1hcC1sYXllclwiPT09bC50eXBlJiZsLm1hcExheWVySWQ9PT1lLmlkJiYoIWwuZ2RiVmVyc2lvbnx8bC5nZGJWZXJzaW9uPT09KFwiZ2RiVmVyc2lvblwiaW4gdCYmdC5nZGJWZXJzaW9uKSkpfHxlLm9yaWdpbklkT2YoXCJyZW5kZXJlclwiKT5TLlNFUlZJQ0V8fGUub3JpZ2luSWRPZihcImxhYmVsaW5nSW5mb1wiKT5TLlNFUlZJQ0V8fGUub3JpZ2luSWRPZihcImxhYmVsc1Zpc2libGVcIik+Uy5TRVJWSUNFKXtjb25zdCBlPW5ldyB2KHtsYXllcjp0aGlzLmxheWVyfSk7aT1lLmhhc0R5bmFtaWNMYXllcnM/ZS5keW5hbWljTGF5ZXJzOm51bGwsZS5kZXN0cm95KCl9Y29uc3Qgcj1pfHxgJHt0LnVpZH0tZGVmYXVsdGA7KGF3YWl0IHRoaXMuX2dldExlZ2VuZExheWVycyhyLGkpKS5mb3JFYWNoKChlPT5zLnNldChlLmxheWVySWQsZSkpKX1jb25zdCBsPXMuZ2V0KGUuaWQpO2lmKCghbHx8bD8uc3ViTGF5ZXJJZHMmJmwuZGVmYXVsdFZpc2liaWxpdHkpJiZlLnN1YmxheWVycyl7Y29uc3QgbD1hd2FpdCB0aGlzLl9nZW5lcmF0ZUxlZ2VuZEVsZW1lbnRzRm9yU3VibGF5ZXJzKGUuc3VibGF5ZXJzLHQscyk7cmV0dXJue3R5cGU6XCJzeW1ib2wtdGFibGVcIix0aXRsZTplLnRpdGxlLGluZm9zOmx9fXJldHVybiB0aGlzLl9nZW5lcmF0ZVN5bWJvbFRhYmxlRWxlbWVudEZvckxlZ2VuZExheWVyKGwsZSx0KX1fZ2VuZXJhdGVTeW1ib2xUYWJsZUVsZW1lbnRGb3JMZWdlbmRMYXllcihlLHQscyl7aWYoIWU/LmxlZ2VuZHx8dGhpcy5yZXNwZWN0TGF5ZXJWaXNpYmlsaXR5JiYhdGhpcy5faXNMZWdlbmRMYXllckluU2NhbGUoZSx0KSlyZXR1cm4gbnVsbDtjb25zdCBsPXQ/LnJlbmRlcmVyO2xldCBpPXQ/LnRpdGxlfHxlLmxheWVyTmFtZTtpZihsJiYoIXR8fHQ/Lm9yaWdpbklkT2YoXCJyZW5kZXJlclwiKT5TLlNFUlZJQ0UpKXtjb25zdCBlPXQ/LnRpdGxlfHx0aGlzLl9nZXRSZW5kZXJlclRpdGxlKGwsdCk7ZSYmKGkmJlwic3RyaW5nXCIhPXR5cGVvZiBlJiZcInRpdGxlXCJpbiBlJiYoZS50aXRsZT1pKSxpPWUpfWNvbnN0IHI9e3R5cGU6XCJzeW1ib2wtdGFibGVcIix0aXRsZTppLGxlZ2VuZFR5cGU6ZS5sZWdlbmRUeXBlfHxudWxsLGluZm9zOltdfSxuPXQ/dGhpcy5fc2FuaXRpemVMZWdlbmRGb3JTdWJsYXllcihlLmxlZ2VuZC5zbGljZSgpLHQpOmUubGVnZW5kO3JldHVybiBlLmxlZ2VuZEdyb3VwcyYmZS5sZWdlbmRHcm91cHMubGVuZ3RoPjA/ZS5sZWdlbmRHcm91cHMuZm9yRWFjaCgodD0+e2NvbnN0IGw9e3R5cGU6XCJzeW1ib2wtdGFibGVcIix0aXRsZTp0LmhlYWRpbmcsbGVnZW5kVHlwZTplLmxlZ2VuZFR5cGV8fG51bGwsaW5mb3M6dGhpcy5fZ2VuZXJhdGVTeW1ib2xUYWJsZUVsZW1lbnRJbmZvc0ZvckxlZ2VuZExheWVyKG4uZmlsdGVyKChlPT5lLmdyb3VwSWQ9PT10LmlkKSksZS5sYXllcklkLHMpfTtsLmluZm9zPy5sZW5ndGg+MCYmci5pbmZvcy5wdXNoKGwpfSkpOnIuaW5mb3M9dGhpcy5fZ2VuZXJhdGVTeW1ib2xUYWJsZUVsZW1lbnRJbmZvc0ZvckxlZ2VuZExheWVyKG4sZS5sYXllcklkLHMpLHIuaW5mb3MubGVuZ3RoPjA/cjpudWxsfV9nZW5lcmF0ZVN5bWJvbFRhYmxlRWxlbWVudEluZm9zRm9yTGVnZW5kTGF5ZXIoZSx0LGwpe3JldHVybiBlLm1hcCgoZT0+e2xldCBpPWUudXJsO2lmKGUuaW1hZ2VEYXRhJiZlLmltYWdlRGF0YS5sZW5ndGg+MClpPWBkYXRhOmltYWdlL3BuZztiYXNlNjQsJHtlLmltYWdlRGF0YX1gO2Vsc2V7aWYoMD09PWkuaW5kZXhPZihcImh0dHBcIikpcmV0dXJuIG51bGw7aT1zKGAke3RoaXMubGF5ZXIudXJsfS8ke3R9L2ltYWdlcy8ke2l9YCl9cmV0dXJue2xhYmVsOmUubGFiZWwsc3JjOmksb3BhY2l0eTpsPz90aGlzLm9wYWNpdHksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9fSkpLmZpbHRlcihyKX1faXNTdWJsYXllckluU2NhbGUoZSl7Y29uc3QgdD1lLm1pblNjYWxlfHwwLHM9ZS5tYXhTY2FsZXx8MDtyZXR1cm4hKHQ+MCYmdDx0aGlzLnNjYWxlfHxzPnRoaXMuc2NhbGUpfV9pc0xlZ2VuZExheWVySW5TY2FsZShlLHQpe2NvbnN0IHM9dHx8dGhpcy5sYXllcjtsZXQgbD1udWxsLGk9bnVsbCxyPSEwO3JldHVybiFzLm1pblNjYWxlJiYwIT09cy5taW5TY2FsZXx8IXMubWF4U2NhbGUmJjAhPT1zLm1heFNjYWxlPygwPT09ZS5taW5TY2FsZSYmcy50aWxlSW5mbyYmKGw9cy50aWxlSW5mby5sb2RzWzBdLnNjYWxlKSwwPT09ZS5tYXhTY2FsZSYmcy50aWxlSW5mbyYmKGk9cy50aWxlSW5mby5sb2RzW3MudGlsZUluZm8ubG9kcy5sZW5ndGgtMV0uc2NhbGUpKToobD1NYXRoLm1pbihzLm1pblNjYWxlLGUubWluU2NhbGUpfHxzLm1pblNjYWxlfHxlLm1pblNjYWxlLGk9TWF0aC5tYXgocy5tYXhTY2FsZSxlLm1heFNjYWxlKSksKGw+MCYmbDx0aGlzLnNjYWxlfHxpPnRoaXMuc2NhbGUpJiYocj0hMSkscn1fc2FuaXRpemVMZWdlbmRGb3JTdWJsYXllcihlLHQpe2lmKFwidmVyc2lvblwiaW4gdGhpcy5sYXllciYmK3RoaXMubGF5ZXIudmVyc2lvbjwxMC4xfHwwPT09ZS5sZW5ndGgpcmV0dXJuIGU7Y29uc3Qgcz10LnJlbmRlcmVyLGw9ZS5zb21lKChlPT5lLnZhbHVlcykpO2xldCBpPTAscj1udWxsO3JldHVybiBsJiZlLnNvbWUoKChlLHQpPT4oZS52YWx1ZXN8fChpPXQscj1lLHIubGFiZWx8fChyLmxhYmVsPVwib3RoZXJzXCIpKSxudWxsIT1yKSkpLHM/XCJ1bmlxdWUtdmFsdWVcIj09PXMudHlwZT9yJiYoZS5zcGxpY2UoaSwxKSxlLnB1c2gocikpOlwiY2xhc3MtYnJlYWtzXCI9PT1zLnR5cGUmJihyJiZlLnNwbGljZShpLDEpLGUucmV2ZXJzZSgpLHImJmUucHVzaChyKSk6ciYmKGUuc3BsaWNlKGksMSksZS5wdXNoKHIpKSxlfWFzeW5jIF9nZXRSZW5kZXJlckxlZ2VuZEVsZW1lbnRzKGUsdD17fSl7aWYoIVRlKGUsdGhpcy52aWV3KSlyZXR1cm4gby5nZXRMb2dnZXIodGhpcykud2FybihgUmVuZGVyZXIgb2YgdHlwZSAnJHtlLnR5cGV9JyBub3Qgc3VwcG9ydGVkIWApLFtdO2lmKExlKGUpKXJldHVybiB0aGlzLl9jb25zdHJ1Y3RQb2ludENsb3VkUmVuZGVyZXJMZWdlbmRFbGVtZW50cyhlLHQpO2lmKEZlKGUpKXJldHVybiB0aGlzLl9jb25zdHJ1Y3REb3REZW5zaXR5UmVuZGVyZXJMZWdlbmRFbGVtZW50cyhlKTtjb25zdCBzPWF3YWl0IHRoaXMuX2xvYWRSZW5kZXJlcihlKTtyZXR1cm4gVmUocyk/dGhpcy5fY29uc3RydWN0UGllQ2hhcnRSZW5kZXJlckxlZ2VuZEVsZW1lbnRzKHMpOnRoaXMuX2NvbnN0cnVjdFJlbmRlcmVyTGVnZW5kRWxlbWVudHMocyx0KX1hc3luYyBfZ2V0TGVnZW5kRWxlbWVudHNGb3JGZWF0dXJlUmVkdWN0aW9uKGUpe2xldCB0PW51bGw7cmV0dXJuXCJiaW5uaW5nXCI9PT1lLnR5cGU/dD1lLnJlbmRlcmVyOlwiY2x1c3RlclwiPT09ZS50eXBlJiYodD10aGlzLl9nZXRDbHVzdGVyUmVuZGVyZXIoZSkpLHQ/dGhpcy5fZ2V0UmVuZGVyZXJMZWdlbmRFbGVtZW50cyh0KTpbXX1fZ2V0UG9pbnRDbG91ZFJlbmRlcmVyVGl0bGUoZSl7cmV0dXJuKGUubGVnZW5kT3B0aW9ucz8udGl0bGV8fGUuZmllbGQpPz9cIlwifWFzeW5jIF9jb25zdHJ1Y3RQb2ludENsb3VkUmVuZGVyZXJMZWdlbmRFbGVtZW50cyhlLHQ9e30pe2NvbnN0IHM9dC50aXRsZSxsPVtdO2xldCBpPW51bGwscj1udWxsO2lmKENlKGUpKWk9e3R5cGU6XCJzeW1ib2wtdGFibGVcIix0aXRsZTpzfHx0aGlzLl9nZXRQb2ludENsb3VkUmVuZGVyZXJUaXRsZShlKSxpbmZvczpbXX0sZS5jb2xvckNsYXNzQnJlYWtJbmZvcy5mb3JFYWNoKChlPT57aS5pbmZvcy51bnNoaWZ0KHtsYWJlbDplLmxhYmVsfHxlLm1pblZhbHVlK1wiIC0gXCIrZS5tYXhWYWx1ZSx2YWx1ZTpbZS5taW5WYWx1ZSxlLm1heFZhbHVlXSxzeW1ib2w6dGhpcy5fZ2V0QXBwbGllZENsb25lU3ltYm9sKHllLGUuY29sb3IpfSl9KSk7ZWxzZSBpZihJZShlKSl7Y29uc3QgdD1lLnN0b3BzO2xldCBsPW51bGw7aWYodD8ubGVuZ3RoJiYoMT09PXQubGVuZ3RoJiYobD10WzBdLmNvbG9yKSwhbCkpe2NvbnN0IGU9dFswXS52YWx1ZSxzPXRbdC5sZW5ndGgtMV0udmFsdWU7aWYobnVsbCE9ZSYmbnVsbCE9cyl7bD1VKGUrKHMtZSkvMix0KX19aT17dHlwZTpcInN5bWJvbC10YWJsZVwiLHRpdGxlOm51bGwsaW5mb3M6W3tsYWJlbDpudWxsLHZhbHVlOm51bGwsc3ltYm9sOnRoaXMuX2dldEFwcGxpZWRDbG9uZVN5bWJvbCh5ZSxsfHx5ZS5jb2xvcil9XX07Y29uc3Qgbj1rKGUuc3RvcHM/P1tdKT8/W107cj17dHlwZTpcImNvbG9yLXJhbXBcIix0aXRsZTpzfHx0aGlzLl9nZXRQb2ludENsb3VkUmVuZGVyZXJUaXRsZShlKSxpbmZvczpuLHByZXZpZXc6eChuLm1hcCgoZT0+ZS5jb2xvcikpLHthcmlhTGFiZWw6YXdhaXQgJGUoXCJwcmV2aWV3Q29sb3JSYW1wQXJpYUxhYmVsXCIpfSl9fWVsc2UgUmUoZSkmJihpPXt0eXBlOlwic3ltYm9sLXRhYmxlXCIsdGl0bGU6c3x8dGhpcy5fZ2V0UG9pbnRDbG91ZFJlbmRlcmVyVGl0bGUoZSksaW5mb3M6W119LGUuY29sb3JVbmlxdWVWYWx1ZUluZm9zPy5mb3JFYWNoKChlPT57aS5pbmZvcy5wdXNoKHtsYWJlbDplLmxhYmVsfHxlLnZhbHVlcy5qb2luKFwiLCBcIiksdmFsdWU6ZS52YWx1ZXMuam9pbihcIiwgXCIpLHN5bWJvbDp0aGlzLl9nZXRBcHBsaWVkQ2xvbmVTeW1ib2woeWUsZS5jb2xvcil9KX0pKSk7aSYmaS5pbmZvcy5sZW5ndGgmJmwucHVzaChpKSxyJiZyLmluZm9zLmxlbmd0aCYmbC5wdXNoKHIpO2NvbnN0IG49bC5yZWR1Y2UoKChlLHQpPT5bLi4uZSwuLi50LmluZm9zPz9bXV0pLFtdKS5maWx0ZXIoKGU9PiEhZS5zeW1ib2wpKS5tYXAoKHQ9PnRoaXMuX2dldFN5bWJvbFByZXZpZXcodCx0aGlzLm9wYWNpdHkse3N5bWJvbENvbmZpZzp7YXBwbHlDb2xvck1vZHVsYXRpb246ISFlLmNvbG9yTW9kdWxhdGlvbn19KSkpO3JldHVybiBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQobiksbH1hc3luYyBfZ2V0RWxlbWVudEluZm9Gb3JEb3REZW5zaXR5KGUsdCl7Y29uc3R7Y29sb3I6cyxsYWJlbDpsLHZhbHVlRXhwcmVzc2lvblRpdGxlOml9PXQse2JhY2tncm91bmRDb2xvcjpyLG91dGxpbmU6bixkb3RTaXplOmF9PWUsbz10aGlzLmVmZmVjdExpc3QsdT1vPy5lZmZlY3RzLm1hcCgoZT0+ZS50b0pTT04oKSkpLGM9dyh1KSxkPWF3YWl0ICRlKFwicHJldmlld1RlbXBsYXRlQXJpYUxhYmVsXCIsbHx8aSkseT1hK1wiLVwiK3MrXCItXCIrcitcIi1cIisobiYmSlNPTi5zdHJpbmdpZnkobi50b0pTT04oKSkpK1wiLVwiK2MsaD10aGlzLl9kb3REZW5zaXR5VXJsQ2FjaGUsbT1oLmhhcyh5KT9oLmdldCh5KTpqKGUscyx7YXJpYUxhYmVsOmR9KTtoLnNldCh5LG0pO2NvbnN0IGY9e3NoYXBlOnt0eXBlOlwiaW1hZ2VcIix4OjAseTowLHdpZHRoOm0ud2lkdGgsaGVpZ2h0Om0uaGVpZ2h0LHNyYzptLnNyY30sZmlsbDpudWxsLHN0cm9rZTpudWxsLG9mZnNldDpbMCwwXX0scD1EKFtbZl1dLFttLndpZHRoLG0uaGVpZ2h0XSx7ZWZmZWN0Vmlldzp0aGlzLmVmZmVjdExpc3QsYXJpYUxhYmVsOmR9KTtyZXR1cm57b3BhY2l0eToxLHNyYzptLnNyYyxwcmV2aWV3OnAsd2lkdGg6bS53aWR0aCxoZWlnaHQ6bS5oZWlnaHR9fWFzeW5jIF9jb25zdHJ1Y3REb3REZW5zaXR5UmVuZGVyZXJMZWdlbmRFbGVtZW50cyhlKXtjb25zdCB0PWUuY2FsY3VsYXRlRG90VmFsdWUodGhpcy52aWV3LnNjYWxlKSxzPWUubGVnZW5kT3B0aW9ucz8udW5pdCxsPXt0eXBlOlwic3ltYm9sLXRhYmxlXCIsdGl0bGU6e3ZhbHVlOnQmJk1hdGgucm91bmQodCksdW5pdDpzfHxcIlwifSxpbmZvczpbXX07Zm9yKGNvbnN0IGkgb2YgZS5hdHRyaWJ1dGVzKXtjb25zdCB0PWF3YWl0IHRoaXMuX2dldEVsZW1lbnRJbmZvRm9yRG90RGVuc2l0eShlLGkpO3QubGFiZWw9aS5sYWJlbHx8aS52YWx1ZUV4cHJlc3Npb25UaXRsZXx8aS5maWVsZCxsLmluZm9zLnB1c2godCl9cmV0dXJuW2xdfWFzeW5jIF9jb25zdHJ1Y3RQaWVDaGFydFJlbmRlcmVyTGVnZW5kRWxlbWVudHMoZSl7Y29uc3QgdD10aGlzLmxheWVyLm9wYWNpdHkscz1bXTtsZXQgbD1udWxsO2NvbnN0IGk9ZS5vdXRsaW5lO2UuYXR0cmlidXRlcy5mb3JFYWNoKChlPT57Y29uc3QgdD1uZXcgc2Uoe2NvbG9yOmUuY29sb3Isb3V0bGluZTppfSksbD1lLmxhYmVsfHxlLnZhbHVlRXhwcmVzc2lvblRpdGxlfHxlLmZpZWxkO3MucHVzaCh7bGFiZWw6bCxzeW1ib2w6dH0pfSkpO2NvbnN0IHI9cy5sZW5ndGg/Wy4uLnNdOltdO2lmKGUub3RoZXJzQ2F0ZWdvcnk/LmNvbG9yJiYwIT09ZS5vdGhlcnNDYXRlZ29yeT8udGhyZXNob2xkKXtjb25zdCB0PW5ldyBzZSh7Y29sb3I6ZS5vdGhlcnNDYXRlZ29yeS5jb2xvcixvdXRsaW5lOml9KTtsPWUub3RoZXJzQ2F0ZWdvcnkubGFiZWx8fFwiT3RoZXJcIixzLnB1c2goe2xhYmVsOmwsc3ltYm9sOnR9KX1pZihlLmRlZmF1bHRDb2xvcj8uYSl7Y29uc3QgdD1uZXcgc2Uoe2NvbG9yOmUuZGVmYXVsdENvbG9yLG91dGxpbmU6aX0pO3MucHVzaCh7bGFiZWw6ZS5kZWZhdWx0TGFiZWwsc3ltYm9sOnR9KX1jb25zdCBuPWF3YWl0IHRoaXMuX2dldFZpc3VhbFZhcmlhYmxlTGVnZW5kRWxlbWVudHMoZSx0aGlzLmxheWVyKXx8W107aWYocy5sZW5ndGgpe24udW5zaGlmdCh7dHlwZTpcInN5bWJvbC10YWJsZVwiLHRpdGxlOm51bGwsaW5mb3M6c30pO2NvbnN0IHQ9ci5maWx0ZXIoKGU9PmUubGFiZWwhPT1sKSkubWFwKChlPT5lLnN5bWJvbC5jb2xvcikpLmZpbHRlcihCb29sZWFuKSxhPU8odCx7aG9sZVBlcmNlbnRhZ2U6ZS5ob2xlUGVyY2VudGFnZSxiYWNrZ3JvdW5kQ29sb3I6ZS5iYWNrZ3JvdW5kRmlsbFN5bWJvbD8uY29sb3IsZWZmZWN0TGlzdDp0aGlzLmVmZmVjdExpc3Qsb3V0bGluZTppLGFyaWFMYWJlbDphd2FpdCAkZShcInByZXZpZXdQaWVDaGFydEFyaWFMYWJlbFwiKX0pO24udW5zaGlmdCh7dHlwZTpcInBpZS1jaGFydC1yYW1wXCIsdGl0bGU6dGhpcy5fZ2V0UmVuZGVyZXJUaXRsZShlLHRoaXMubGF5ZXIpLGluZm9zOnMscHJldmlldzphfSl9Y29uc3QgYT1uLnJlZHVjZSgoKGUsdCk9PlsuLi5lLC4uLnRoaXMuX2dldEFsbEluZm9zKHQpXSksW10pLmZpbHRlcigoZT0+ISFlPy5zeW1ib2wmJiFlPy5wcmV2aWV3KSkubWFwKChlPT50aGlzLl9nZXRTeW1ib2xQcmV2aWV3KGUsdCx7ZWZmZWN0TGlzdDp0aGlzLmVmZmVjdExpc3R9KSkpO3JldHVybiBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoYSksbn1hc3luYyBfY29uc3RydWN0UmVuZGVyZXJMZWdlbmRFbGVtZW50cyhlLHQ9e30pe2NvbnN0e3RpdGxlOnMsc3VibGF5ZXI6bH09dCxpPWx8fHRoaXMubGF5ZXI7dGhpcy5faGFzQ29sb3JSYW1wPSExLHRoaXMuX2hhc09wYWNpdHlSYW1wPSExLHRoaXMuX2hhc1NpemVSYW1wPSExLHRoaXMuX3NjYWxlRHJpdmVuU2l6ZVZhcmlhYmxlPW51bGw7Y29uc3Qgcj1hd2FpdCB0aGlzLl9nZXRWaXN1YWxWYXJpYWJsZUxlZ2VuZEVsZW1lbnRzKGUsaSl8fFtdLG49e3R5cGU6XCJzeW1ib2wtdGFibGVcIix0aXRsZTpzfHx0aGlzLl9nZXRSZW5kZXJlclRpdGxlKGUsaSksaW5mb3M6W119O2xldCBhPW51bGwsbz0hMTtjb25zdCB1PW5ldyBTZXQ7aWYobWUoZSkmJiF0aGlzLl9oYXNTaXplUmFtcCl7Y29uc3QgdD1hd2FpdCBLKGUpO24uaW5mb3MucHVzaCh7bGFiZWw6bnVsbCxzeW1ib2w6dH0pfWVsc2UgaWYoTmUoZSkpe2xldCB0PXM7Y29uc3QgbD1xZShlKT9cInVuaXZhcmlhdGUtYWJvdmUtYW5kLWJlbG93LXJhbXBcIjpcInVuaXZhcmlhdGUtY29sb3Itc2l6ZS1yYW1wXCIsaT1yLmZpbmRJbmRleCgoZT0+XCJjb2xvci1yYW1wXCI9PT1lLnR5cGUpKSxuPS0xIT09aT9yLnNwbGljZShpLDEpWzBdOm51bGwsYT1yLmZpbmRJbmRleCgoZT0+XCJzaXplLXJhbXBcIj09PWUudHlwZSkpLG89LTEhPT1hP3Iuc3BsaWNlKGEsMSlbMF06bnVsbCx1PVtdO24mJih0PW4udGl0bGUsdS5wdXNoKG4pKSxvJiYodD1vLnRpdGxlLHUucHVzaChvKSksdS5sZW5ndGg+MCYmci5wdXNoKHt0eXBlOmwsdGl0bGU6dCxpbmZvczp1fSl9ZWxzZSBpZih2ZShlKSl7Y29uc3QgdD1xKGUpO3IucHVzaCh7dHlwZTpcImhlYXRtYXAtcmFtcFwiLHRpdGxlOnN8fHRoaXMuX2dldFJlbmRlcmVyVGl0bGUoZSxpKSxpbmZvczp0LHByZXZpZXc6eCh0Lm1hcCgoZT0+ZS5jb2xvcikpLHtlZmZlY3RMaXN0OnRoaXMuZWZmZWN0TGlzdCxhcmlhTGFiZWw6YXdhaXQgJGUoXCJwcmV2aWV3Q29sb3JSYW1wQXJpYUxhYmVsXCIpfSl9KX1lbHNlIGlmKHdlKGUpKXtjb25zdCB0PWUmJmUuYXV0aG9yaW5nSW5mbztpZih0JiZcInJlbGF0aW9uc2hpcFwiPT09dC50eXBlKXtjb25zdHtudW1DbGFzc2VzOnMsZmllbGQxOmwsZmllbGQyOmF9PXQsbz10LmZvY3VzO2lmKHMmJmwmJmEpe2NvbnN0IHQ9W2wsYV07bGV0IGM9SChvKXx8MDtmb3IoY29uc3QgZSBvZiB0KXtjb25zdHtmaWVsZDp0LG5vcm1hbGl6YXRpb25GaWVsZDpzLGxhYmVsOmx9PWUscj1sfHx7ZmllbGQ6dGhpcy5fZ2V0RmllbGRBbGlhcyh0LGkpLG5vcm1GaWVsZDpzJiZ0aGlzLl9nZXRGaWVsZEFsaWFzKHMsaSl9LGE9V2UuY2xvbmUoKTthLmFuZ2xlPWMsbi5pbmZvcy5wdXNoKHtsYWJlbDpyLHN5bWJvbDphfSksdS5hZGQoYSksYys9OTB9Y29uc3QgZD0kKHtmb2N1czpvLG51bUNsYXNzZXM6cyxpbmZvczplLnVuaXF1ZVZhbHVlSW5mb3M/P1tdfSk7ci51bnNoaWZ0KGQpfX1lbHNlIGlmKE1lKHRoaXMubGF5ZXIpfHxVZSh0aGlzLmxheWVyKSllLnVuaXF1ZVZhbHVlSW5mb3M/LmZvckVhY2goKGU9PntlLnN5bWJvbCYmbi5pbmZvcy5wdXNoKHtsYWJlbDplLmxhYmVsfHxlLnZhbHVlLHZhbHVlOmUudmFsdWUsc3ltYm9sOmUuc3ltYm9sfSl9KSk7ZWxzZXtjb25zdHtmaWVsZDp0LGZpZWxkMjpsLGZpZWxkMzpyLGZpZWxkRGVsaW1pdGVyOmEsdmFsdWVFeHByZXNzaW9uOnUsZGVmYXVsdFN5bWJvbDpjfT1lLGQ9ISghdCYmIXV8fCFsJiYhcikseT1bXTtpZihlLnVuaXF1ZVZhbHVlR3JvdXBzPy5mb3JFYWNoKChlPT57Y29uc3Qgcz17dHlwZTpcInN5bWJvbC10YWJsZVwiLHRpdGxlOmUuaGVhZGluZyxpbmZvczpbXX07ZS5jbGFzc2VzPy5mb3JFYWNoKChlPT57Y29uc3R7c3ltYm9sOm4sdmFsdWVzOm99PWU7aWYobil7Y29uc3QgYz1bXSx5PVtdO2Zvcihjb25zdCBlIG9mIG8/P1tdKXtjb25zdHt2YWx1ZTpzLHZhbHVlMjpuLHZhbHVlMzpvfT1lLGg9W10sbT1bXTsodHx8dSkmJihoLnB1c2gocyksbS5wdXNoKHRoaXMuX2dldERvbWFpbk5hbWUodCxzLGkpKSksbCYmKGgucHVzaChuKSxtLnB1c2godGhpcy5fZ2V0RG9tYWluTmFtZShsLG4saSkpKSxyJiYoaC5wdXNoKG8pLG0ucHVzaCh0aGlzLl9nZXREb21haW5OYW1lKHIsbyxpKSkpLGMucHVzaChkP2guam9pbihhfHxcIlwiKTpoWzBdKSx5LnB1c2gobS5qb2luKFwiIC0gXCIpKX1jb25zdCBoPWMuam9pbihcIiwgXCIpO2xldCBtPWUubGFiZWw7aWYoIW0pe2NvbnN0IGU9eS5maWx0ZXIoQm9vbGVhbik7bT1lLmxlbmd0aD9lLmpvaW4oXCIsIFwiKTpofXMuaW5mb3MucHVzaCh7bGFiZWw6bSx2YWx1ZTpoLHN5bWJvbDpufSl9fSkpLHMuaW5mb3MubGVuZ3RoJiZ5LnB1c2gocyl9KSkseS5sZW5ndGgpe2NvbnN0IHQ9eVswXTsxPT09eS5sZW5ndGgmJlwidGl0bGVcImluIHQmJiF0LnRpdGxlP24uaW5mb3MucHVzaCguLi50LmluZm9zPz9bXSk6KGMmJih5LnB1c2goe3R5cGU6XCJzeW1ib2wtdGFibGVcIixpbmZvczpbe2xhYmVsOmUuZGVmYXVsdExhYmVsfHxcIm90aGVyc1wiLHN5bWJvbDpjfV19KSxvPSEwKSxuLmluZm9zLnB1c2goLi4ueSkpLHN8fGUubGVnZW5kT3B0aW9ucz8udGl0bGV8fGUudmFsdWVFeHByZXNzaW9uVGl0bGV8fChuLnRpdGxlPW51bGwpfX1lLmRlZmF1bHRTeW1ib2wmJiFvJiYobi5pbmZvcy5wdXNoKHtsYWJlbDplLmRlZmF1bHRMYWJlbHx8XCJvdGhlcnNcIixzeW1ib2w6ZS5kZWZhdWx0U3ltYm9sfSksbz0hMCl9ZWxzZSBpZihfZShlKSl7YT10aGlzLl9pc1VuY2xhc3NlZFJlbmRlcmVyKGUpOyghYXx8IXRoaXMuX2hhc1NpemVSYW1wKSYmKGUuY2xhc3NCcmVha0luZm9zLmZvckVhY2goKGU9PntlLnN5bWJvbCYmbi5pbmZvcy51bnNoaWZ0KHtsYWJlbDplLmxhYmVsfHwoYT9udWxsOmUubWluVmFsdWUrXCIgLSBcIitlLm1heFZhbHVlKSx2YWx1ZTpbZS5taW5WYWx1ZSxlLm1heFZhbHVlXSxzeW1ib2w6ZS5zeW1ib2x9KX0pKSxhJiYobi50aXRsZT1udWxsKSx0aGlzLl91cGRhdGVJbmZvc2ZvckNsYXNzZWRTaXplUmVuZGVyZXIoZSxuLmluZm9zKSksZS5kZWZhdWx0U3ltYm9sJiYhYSYmKG4uaW5mb3MucHVzaCh7bGFiZWw6ZS5kZWZhdWx0TGFiZWx8fFwib3RoZXJzXCIsc3ltYm9sOmUuZGVmYXVsdFN5bWJvbH0pLG89ITApfWVsc2UgaWYoZ2UoZSkpaWYoVWUodGhpcy5sYXllcil8fGtlKHRoaXMubGF5ZXIpKXtjb25zdCB0PWF3YWl0IHRoaXMuX2NvbnN0cnVjdFRpbGVJbWFnZXJ5U3RyZXRjaFJlbmRlcmVyRWxlbWVudHMoZSk7QmUodCk/ci5wdXNoKHQpOm4uaW5mb3M9dH1lbHNle2NvbnN0IHQ9dGhpcy5sYXllcjtsZXQgcyxsO2lmKGUuc3RhdGlzdGljcz8ubGVuZ3RoKXtjb25zdCB0PWUuc3RhdGlzdGljc1swXTtYKHQpPyhzPXQubWluLGw9dC5tYXgpOltzLGxdPXR9bGV0IGk9W10sYT10LnNlcnZpY2VSYXN0ZXJJbmZvO2lmKHQucmFzdGVyRnVuY3Rpb24pdHJ5e2E9YXdhaXQgdC5nZW5lcmF0ZVJhc3RlckluZm8odC5yYXN0ZXJGdW5jdGlvbil9Y2F0Y2h7fWNvbnN0IG89QyhhLnBpeGVsVHlwZSk7aWYoMT09PWEuYmFuZENvdW50KXtjb25zdCBpPXQuYmFuZElkcz8uWzBdfHwwO3M9bnVsbCE9cz9zOmEuc3RhdGlzdGljcz9hLnN0YXRpc3RpY3NbaV0ubWluOm9bMF0sbD1udWxsIT1sP2w6YS5zdGF0aXN0aWNzP2Euc3RhdGlzdGljc1tpXS5tYXg6b1sxXSxzfHxsP3IucHVzaChhd2FpdCB0aGlzLl9nZXRTdHJldGNoTGVnZW5kRWxlbWVudHMoZSx7bWluOnMsbWF4Omx9KSk6dGhpcy5fZ2V0U2VydmVyU2lkZUxlZ2VuZCgpfWVsc2UgaWYodC5iYW5kSWRzJiYxPT09dC5iYW5kSWRzLmxlbmd0aClzPW51bGwhPXM/czphLnN0YXRpc3RpY3M/YS5zdGF0aXN0aWNzW3QuYmFuZElkc1swXV0ubWluOm9bMF0sbD1udWxsIT1sP2w6YS5zdGF0aXN0aWNzP2Euc3RhdGlzdGljc1t0LmJhbmRJZHNbMF1dLm1heDpvWzFdLHN8fGw/ci5wdXNoKGF3YWl0IHRoaXMuX2dldFN0cmV0Y2hMZWdlbmRFbGVtZW50cyhlLHttaW46cyxtYXg6bH0pKTp0aGlzLl9nZXRTZXJ2ZXJTaWRlTGVnZW5kKCk7ZWxzZSBpZihhLmJhbmRDb3VudD49Myl7Y29uc3R7YmFuZEluZm9zOmV9PWEse2JhbmRJZHM6c309dDtlLmxlbmd0aD49YS5iYW5kQ291bnQ/Mz09PXM/Lmxlbmd0aD8oaT1zLm1hcCgodD0+ZVt0XS5uYW1lKSksbi5pbmZvcz10aGlzLl9jcmVhdGVTeW1ib2xUYWJsZUVsZW1lbnRNdWx0aUJhbmQoaSkpOlwibGVyY1wiPT09dC5mb3JtYXQ/KGk9WzAsMSwyXS5tYXAoKHQ9PmVbdF0ubmFtZSkpLG4uaW5mb3M9dGhpcy5fY3JlYXRlU3ltYm9sVGFibGVFbGVtZW50TXVsdGlCYW5kKGkpKTp0aGlzLl9nZXRTZXJ2ZXJTaWRlTGVnZW5kKCk6XCJsZXJjXCI9PT10LmZvcm1hdD8oaT1bXCJiYW5kMVwiLFwiYmFuZDJcIixcImJhbmQzXCJdLG4uaW5mb3M9dGhpcy5fY3JlYXRlU3ltYm9sVGFibGVFbGVtZW50TXVsdGlCYW5kKGkpKTp0aGlzLl9nZXRTZXJ2ZXJTaWRlTGVnZW5kKCl9ZWxzZSB0aGlzLl9nZXRTZXJ2ZXJTaWRlTGVnZW5kKCl9ZWxzZSBpZihwZShlKSllLmNvbG9ybWFwSW5mb3MuZm9yRWFjaCgoZT0+e24uaW5mb3MucHVzaCh7bGFiZWw6ZS5sYWJlbCx2YWx1ZTplLnZhbHVlLHN5bWJvbDp0aGlzLl9nZXRBcHBsaWVkQ2xvbmVTeW1ib2woaGUsZS5jb2xvcil9KX0pKTtlbHNlIGlmKFNlKGUpKXtsZXQgcz1lLnN5bWJvbDtzd2l0Y2godC5nZW9tZXRyeVR5cGUpe2Nhc2VcInBvaW50XCI6cz1cInBvaW50U3ltYm9sXCJpbiBpP2kucG9pbnRTeW1ib2w6bnVsbDticmVhaztjYXNlXCJwb2x5bGluZVwiOnM9XCJsaW5lU3ltYm9sXCJpbiBpP2kubGluZVN5bWJvbDpudWxsO2JyZWFrO2Nhc2VcInBvbHlnb25cIjpzPVwicG9seWdvblN5bWJvbFwiaW4gaT9pLnBvbHlnb25TeW1ib2w6bnVsbH1jb25zdCBsPXRoaXMuX2hhc0NsdXN0ZXJTaXplVmFyaWFibGUmJnRoaXMuX2dldENsdXN0ZXJTeW1ib2woKXx8IXRoaXMuX2hhc1NpemVSYW1wO2Uuc3ltYm9sJiZsJiZuLmluZm9zLnB1c2goe2xhYmVsOmUubGFiZWwsc3ltYm9sOnN9KX1lbHNlIGlmKGZlKGUpKXtlLm91dHB1dFVuaXQmJih0aGlzLnRpdGxlPVwiKFwiK2UudG9KU09OKCkub3V0cHV0VW5pdCtcIilcIiksbi50aXRsZT1lLmF0dHJpYnV0ZUZpZWxkO2NvbnN0IHQ9ZS5nZXRDbGFzc0JyZWFrSW5mb3MoKTt0Py5sZW5ndGg/dC5mb3JFYWNoKChlPT57bi5pbmZvcy5wdXNoKHtsYWJlbDplLm1pblZhbHVlK1wiIC0gXCIrZS5tYXhWYWx1ZSxzeW1ib2w6ZS5zeW1ib2x9KX0pKTpuLmluZm9zLnB1c2goe2xhYmVsOmUuYXR0cmlidXRlRmllbGQsc3ltYm9sOmUuZ2V0RGVmYXVsdFN5bWJvbCgpfSl9ZWxzZSBiZShlKSYmci5wdXNoKGF3YWl0IHRoaXMuX2dldFN0cmV0Y2hMZWdlbmRFbGVtZW50cyhlLHttaW46MCxtYXg6MjU1fSkpO2NvbnN0IGM9ZS5kZWZhdWx0U3ltYm9sOyFjfHxvfHxTZShlKXx8YSYmIXRoaXMuX2hhc0NvbG9yUmFtcCYmIXRoaXMuX2hhc1NpemVSYW1wJiYhdGhpcy5faGFzT3BhY2l0eVJhbXB8fHIucHVzaCh7dHlwZTpcInN5bWJvbC10YWJsZVwiLGluZm9zOlt7bGFiZWw6ZS5kZWZhdWx0TGFiZWx8fFwib3RoZXJzXCIsc3ltYm9sOmN9XX0pLG4uaW5mb3MubGVuZ3RoJiZyLnVuc2hpZnQobik7Y29uc3QgZD1udWxsPT10Lm9wYWNpdHk/dGhpcy5vcGFjaXR5OnQub3BhY2l0eSx5PXRoaXMuX2lzVGFsbFN5bWJvbChcInZpc3VhbFZhcmlhYmxlc1wiaW4gZT9lLnZpc3VhbFZhcmlhYmxlczpudWxsKSxoPU1lKHRoaXMubGF5ZXIpfHxVZSh0aGlzLmxheWVyKSxtPXIucmVkdWNlKCgoZSx0KT0+Wy4uLmUsLi4udGhpcy5fZ2V0QWxsSW5mb3ModCldKSxbXSkuZmlsdGVyKChlPT4hIWU/LnN5bWJvbCkpLmZpbHRlcigoZT0+e2lmKFwiY2ltXCI9PT1lLnN5bWJvbC50eXBlKXtjb25zdHttaW5TY2FsZTp0LG1heFNjYWxlOnN9PWUuc3ltYm9sLmRhdGE7aWYodCYmdDx0aGlzLnNjYWxlfHxzJiZzPnRoaXMuc2NhbGUpcmV0dXJuITF9cmV0dXJuITB9KSkubWFwKChlPT50aGlzLl9nZXRTeW1ib2xQcmV2aWV3KGUsZCx7aXNEZWZhdWx0OmUuc3ltYm9sPT09YyxhcHBseVNjYWxlRHJpdmVuU2l6ZTohdS5oYXMoZS5zeW1ib2wpLHN5bWJvbENvbmZpZzp7aXNUYWxsOnksaXNTcXVhcmVGaWxsOmh9LGVmZmVjdExpc3Q6dS5oYXMoZS5zeW1ib2wpP251bGw6dGhpcy5lZmZlY3RMaXN0fSkpKTtyZXR1cm4gZT1udWxsLGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChtKSxyfV9nZXRTZXJ2ZXJTaWRlTGVnZW5kKCl7c2V0VGltZW91dCgoKCk9PnRoaXMuYnVpbGRMZWdlbmRFbGVtZW50c0ZvclRvb2xzKCkpLDApfV9nZXRBbGxJbmZvcyhlKXtjb25zdCB0PWU/LmluZm9zO3JldHVybiB0P3QucmVkdWNlKCgoZSx0KT0+ZS5jb25jYXQodGhpcy5fZ2V0QWxsSW5mb3ModCkpKSxbXSk6W2VdfWFzeW5jIF9jb25zdHJ1Y3RUaWxlSW1hZ2VyeVN0cmV0Y2hSZW5kZXJlckVsZW1lbnRzKGUpe2NvbnN0IHQ9dGhpcy5sYXllcixzPXQuc3ltYm9saXplci5yYXN0ZXJJbmZvPz90LnJhc3Rlci5yYXN0ZXJJbmZvO2xldCBsLGk7Y29uc3Qgcj1lPy5zdGF0aXN0aWNzPy5sZW5ndGg/ZS5zdGF0aXN0aWNzOnM/LnN0YXRpc3RpY3M7aWYocil7Y29uc3QgZT1yWzBdO1goZSk/KGw9ZS5taW4saT1lLm1heCk6W2wsaV09ZX1lbHNle2NvbnN0IGU9QyhzLnBpeGVsVHlwZSk7bD1lWzBdLGk9ZVsxXX1pZih0Lmhhc1N0YW5kYXJkVGltZSgpJiYobD10LmdldFN0YW5kYXJkVGltZVZhbHVlKGwpLGk9dC5nZXRTdGFuZGFyZFRpbWVWYWx1ZShpKSksMT09PXMuYmFuZENvdW50fHwxPT09dC5iYW5kSWRzPy5sZW5ndGgpcmV0dXJuIHRoaXMuX2dldFN0cmV0Y2hMZWdlbmRFbGVtZW50cyhlLHttaW46bCxtYXg6aX0pO2NvbnN0IG49KHQ/LmJhbmRJZHM/Lmxlbmd0aD90LmJhbmRJZHM6QXJyYXkuZnJvbShBcnJheShNYXRoLm1pbihzLmJhbmRDb3VudCwzKSkua2V5cygpKSkubWFwKChlPT5zLmJhbmRJbmZvc1tlXS5uYW1lKSk7cmV0dXJuIG4ubGVuZ3RoPDM/bi5wdXNoKG5bMV0pOm4ubGVuZ3RoPjMmJm4uc3BsaWNlKDMpLHRoaXMuX2NyZWF0ZVN5bWJvbFRhYmxlRWxlbWVudE11bHRpQmFuZChuKX1hc3luYyBfZ2V0U3RyZXRjaExlZ2VuZEVsZW1lbnRzKGUsdCl7Y29uc3Qgcz1lLmNvbG9yUmFtcCxsPUIocyx0KTtyZXR1cm57dHlwZTpcInN0cmV0Y2gtcmFtcFwiLHRpdGxlOlwiXCIsaW5mb3M6bCxwcmV2aWV3OngobC5tYXAoKGU9PmUuY29sb3IpKSx7YXJpYUxhYmVsOmF3YWl0ICRlKFwicHJldmlld0NvbG9yUmFtcEFyaWFMYWJlbFwiKX0pfX1fZ2V0Q2x1c3RlclN5bWJvbCgpe2NvbnN0IGU9dGhpcy5sYXllcix0PVwiZmVhdHVyZVJlZHVjdGlvblwiaW4gZSYmZS5mZWF0dXJlUmVkdWN0aW9uLHM9dCYmXCJzeW1ib2xcImluIHQmJnQucmVuZGVyZXI7cmV0dXJuIHMmJiEwIT09cz8uYXV0aG9yaW5nSW5mbz8uaXNBdXRvR2VuZXJhdGVkP251bGw6dCYmXCJzeW1ib2xcImluIHQ/dC5zeW1ib2w6bnVsbH1hc3luYyBfZ2V0U2l6ZUxlZ2VuZEVsZW1lbnQoZSx0LHMsbCl7cmV0dXJue3R5cGU6XCJzaXplLXJhbXBcIix0aXRsZTp0aGlzLl9oYXNDbHVzdGVyU2l6ZVZhcmlhYmxlP3RoaXMuX2dldENsdXN0ZXJUaXRsZSh0KTplLGluZm9zOmF3YWl0IFcocyx0LGF3YWl0IFkocyksdGhpcy5zY2FsZSx0aGlzLnZpZXcsbCx0aGlzLl9oYXNDbHVzdGVyU2l6ZVZhcmlhYmxlP3RoaXMuX2dldENsdXN0ZXJTeW1ib2woKTpudWxsKX19X2NyZWF0ZVN5bWJvbFRhYmxlRWxlbWVudE11bHRpQmFuZChlKXtjb25zdCB0PVtdLHM9W1wicmVkXCIsXCJncmVlblwiLFwiYmx1ZVwiXTtyZXR1cm4gZS5mb3JFYWNoKCgoZSxsKT0+e3QucHVzaCh7bGFiZWw6e2NvbG9yTmFtZTpzW2xdLGJhbmROYW1lOmV9LHNyYzplZVtsXSxvcGFjaXR5OnRoaXMub3BhY2l0eT8/MX0pfSkpLHR9X3VwZGF0ZUluZm9zZm9yQ2xhc3NlZFNpemVSZW5kZXJlcihlLHQpe2NvbnN0IHM9ZS5hdXRob3JpbmdJbmZvJiZcImNsYXNzLWJyZWFrcy1zaXplXCI9PT1lLmF1dGhvcmluZ0luZm8udHlwZSxsPWUuY2xhc3NCcmVha0luZm9zLnNvbWUoKGU9PkEoZS5zeW1ib2wpKSk7aWYocyYmbCl7Y29uc3Qgcz1HLGw9SixpPWUuY2xhc3NCcmVha0luZm9zLmxlbmd0aCxyPShzLWwpLyhpPjE/aS0xOmkpO3QuZm9yRWFjaCgoKGUsdCk9PntlLnNpemU9cy1yKnR9KSl9fV9pc1RhbGxTeW1ib2woZSl7bGV0IHQ9ITEscz0hMTtpZihlKWZvcihsZXQgbD0wO2w8ZS5sZW5ndGgmJighdHx8IXMpO2wrKyl7Y29uc3QgaT1lW2xdO1wic2l6ZVwiPT09aS50eXBlJiYoXCJoZWlnaHRcIj09PWkuYXhpcyYmKHQ9ITApLFwid2lkdGgtYW5kLWRlcHRoXCI9PT1pLmF4aXMmJihzPSEwKSl9cmV0dXJuIHQmJnN9YXN5bmMgX2dldFN5bWJvbFByZXZpZXcoZSx0LHMpe2xldCBsPSFzPy5pc0RlZmF1bHQmJm51bGw9PWUuc2l6ZSYmdGhpcy5faGFzU2l6ZVJhbXA/bSh6LnNpemUpOmUuc2l6ZTtpZih0aGlzLl9zY2FsZURyaXZlblNpemVWYXJpYWJsZSYmcz8uYXBwbHlTY2FsZURyaXZlblNpemUpe2NvbnN0e2dldFNpemU6dH09YXdhaXQgaW1wb3J0KFwiLi4vLi4vLi4vcmVuZGVyZXJzL3Zpc3VhbFZhcmlhYmxlcy9zdXBwb3J0L3Zpc3VhbFZhcmlhYmxlVXRpbHMuanNcIik7bD10KHRoaXMuX3NjYWxlRHJpdmVuU2l6ZVZhcmlhYmxlLG51bGwse3ZpZXc6dGhpcy52aWV3LnR5cGUsc2NhbGU6dGhpcy5zY2FsZSxzaGFwZTpcInNpbXBsZS1tYXJrZXJcIj09PWUuc3ltYm9sLnR5cGU/ZS5zeW1ib2wuc3R5bGU6bnVsbH0pfWNvbnN0IGk9IXM/LmlzRGVmYXVsdCYmdGhpcy5faGFzU2l6ZVJhbXB8fCEoIXRoaXMuX3NjYWxlRHJpdmVuU2l6ZVZhcmlhYmxlfHwhcz8uYXBwbHlTY2FsZURyaXZlblNpemUpO3JldHVybiBQKGUuc3ltYm9sLHtzaXplOmwsb3BhY2l0eTp0LHNjYWxlOiExLHN5bWJvbENvbmZpZzpzPy5zeW1ib2xDb25maWcsZWZmZWN0VmlldzpzPy5lZmZlY3RMaXN0LHN0eWxlOlwibGVnZW5kXCIsY2ltT3B0aW9uczp7YWxsb3dTY2FsaW5nVXA6aSx2aWV3UGFyYW1zOnRoaXMuaXNTY2FsZURyaXZlbj97dmlld2luZ01vZGU6XCIyZFwiPT09dGhpcy52aWV3Py50eXBlP1wibWFwXCI6dGhpcy52aWV3Py52aWV3aW5nTW9kZSxzY2FsZTp0aGlzLnZpZXc/LnNjYWxlfTpudWxsfSxhcmlhTGFiZWw6ZS5sYWJlbCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUubGFiZWw/bnVsbDphd2FpdCAkZShcInByZXZpZXdUZW1wbGF0ZUFyaWFMYWJlbFwiLGUubGFiZWwpfSkudGhlbigodD0+KGUucHJldmlldz10LGUpKSkuY2F0Y2goKCgpPT4oZS5wcmV2aWV3PW51bGwsZSkpKX1fZ2V0Q2x1c3RlclJlbmRlcmVyKGUpe3RoaXMuX2hhc0NsdXN0ZXJTaXplVmFyaWFibGU9ITE7Y29uc3QgdD1cInJlbmRlcmVyXCJpbiB0aGlzLmxheWVyP3RoaXMubGF5ZXIucmVuZGVyZXI6bnVsbCxzPWUucmVuZGVyZXI/LmNsb25lKCl8fHQ/LmNsb25lKCksbD1NKHRoaXMubGF5ZXJWaWV3Ll9lZmZlY3RpdmVSZW5kZXJlcix0aGlzLnZpZXcpO2lmKGwmJm51bGwhPXMmJlwidmlzdWFsVmFyaWFibGVzXCJpbiBzKXtjb25zdCB0PXMudmlzdWFsVmFyaWFibGVzPy5zb21lKChlPT5cInNpemVcIj09PWUudHlwZSYmXCJvdXRsaW5lXCIhPT1lLnRhcmdldCYmIWNlLnRlc3QoZS52YWx1ZUV4cHJlc3Npb24pKSk7aWYoIXQpe2lmKFwiY2x1c3Rlck1pblNpemVcImluIGUmJlwiY2x1c3Rlck1heFNpemVcImluIGUpe2NvbnN0e2NsdXN0ZXJNaW5TaXplOnQsY2x1c3Rlck1heFNpemU6c309ZTtsLmxlZ2VuZE9wdGlvbnM9bmV3IEYoe3Nob3dMZWdlbmQ6dCE9PXN9KX1jb25zdCB0PXMudmlzdWFsVmFyaWFibGVzfHxbXTtzLnZpc3VhbFZhcmlhYmxlcz10LmNvbmNhdChbbF0pLHRoaXMuX2hhc0NsdXN0ZXJTaXplVmFyaWFibGU9ITB9fXJldHVybiBzfWFzeW5jIF9sb2FkUmVuZGVyZXIoZSl7Y29uc3QgdD1bXSxzPWUuY2xvbmUoKSxsPWF3YWl0IFkocyk7aWYoX2Uocyl8fHdlKHMpKXtjb25zdCBlPShzLmNsYXNzQnJlYWtJbmZvc3x8cy51bmlxdWVWYWx1ZUluZm9zKS5tYXAoKGU9PnRoaXMuX2ZldGNoU3ltYm9sKGUuc3ltYm9sLGwpLnRoZW4oKHQ9PntlLnN5bWJvbD10fSkpLmNhdGNoKCgoKT0+e2Uuc3ltYm9sPW51bGx9KSkpKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0LGUpfXJldHVybiB0LnB1c2godGhpcy5fZmV0Y2hTeW1ib2wocy5zeW1ib2x8fHMuZGVmYXVsdFN5bWJvbCxzLmRlZmF1bHRTeW1ib2w/bnVsbDpsKS50aGVuKChlPT57dGhpcy5fYXBwbHlTeW1ib2xUb1JlbmRlcmVyKHMsZSxTZShzKSl9KSkuY2F0Y2goKCgpPT57dGhpcy5fYXBwbHlTeW1ib2xUb1JlbmRlcmVyKHMsbnVsbCxTZShzKSl9KSkpLGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZCh0KSxzfV9hcHBseVN5bWJvbFRvUmVuZGVyZXIoZSx0LHMpe3M/ZS5zeW1ib2w9dDplLmRlZmF1bHRTeW1ib2w9dH1hc3luYyBfZmV0Y2hTeW1ib2woZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3I7aWYoXCJ3ZWItc3R5bGVcIj09PWUudHlwZSl7Y29uc3Qgcz10aGlzLl93ZWJTdHlsZVN5bWJvbENhY2hlO3RyeXtjb25zdCBsPWF3YWl0KFwiMmRcIj09PXRoaXMudmlldy50eXBlP2UuZmV0Y2hDSU1TeW1ib2woe2NhY2hlOnN9KTplLmZldGNoU3ltYm9sKHtjYWNoZTpzfSkpO3JldHVybiB0aGlzLl9nZXRBcHBsaWVkQ2xvbmVTeW1ib2wobCx0KX1jYXRjaHt0aHJvdyBvLmdldExvZ2dlcih0aGlzKS53YXJuKFwiRmV0Y2hpbmcgd2ViLXN0eWxlIGZhaWxlZCFcIiksbmV3IEVycm9yfX1yZXR1cm4gdGhpcy5fZ2V0QXBwbGllZENsb25lU3ltYm9sKGUsdCl9X2dldEFwcGxpZWRDbG9uZVN5bWJvbChlLHMpe2lmKCFlfHwhcylyZXR1cm4gZTtjb25zdCBsPWUuY2xvbmUoKSxpPXMmJnMudG9SZ2JhKCk7cmV0dXJuIGwudHlwZS5pbmNsdWRlcyhcIjNkXCIpP3RoaXMuX2FwcGx5Q29sb3JUbzNkU3ltYm9sKGwsaSk6XCJjaW1cIj09PWwudHlwZT9UKGwscyk6bC5jb2xvciYmKGwuY29sb3I9bmV3IHQoaXx8bC5jb2xvcikpLGx9X2FwcGx5Q29sb3JUbzNkU3ltYm9sKGUscyl7cyYmZS5zeW1ib2xMYXllcnMuZm9yRWFjaCgoZT0+e2UmJihlLm1hdGVyaWFsfHwoZS5tYXRlcmlhbD17fSksZS5tYXRlcmlhbC5jb2xvcj1uZXcgdChzKSl9KSl9YXN5bmMgX2dldFZpc3VhbFZhcmlhYmxlTGVnZW5kRWxlbWVudHMoZSx0KXtpZighKFwidmlzdWFsVmFyaWFibGVzXCJpbiBlKXx8IWUudmlzdWFsVmFyaWFibGVzfHxcInZlY3Rvci1maWVsZFwiPT09ZS50eXBlKXJldHVybiBudWxsO2NvbnN0IHM9ZS52aXN1YWxWYXJpYWJsZXMsbD1bXSxpPVtdLG49W107Zm9yKGNvbnN0IHIgb2YgcylcImNvbG9yXCI9PT1yLnR5cGU/bC5wdXNoKHIpOlwic2l6ZVwiPT09ci50eXBlP2kucHVzaChyKTpcIm9wYWNpdHlcIj09PXIudHlwZSYmbi5wdXNoKHIpO2NvbnN0IGE9Wy4uLmwsLi4uaSwuLi5uXTtsZXQgbyx1O2lmKDA9PT1sLmxlbmd0aCYmX2UoZSkmJmUuY2xhc3NCcmVha0luZm9zJiYxPT09ZS5jbGFzc0JyZWFrSW5mb3MubGVuZ3RoKXtjb25zdCB0PWUuY2xhc3NCcmVha0luZm9zWzBdO289dCYmdC5zeW1ib2x9aWYoMD09PWwubGVuZ3RoJiZTZShlKSYmKG89ZS5zeW1ib2wpLG8paWYoby50eXBlLmluY2x1ZGVzKFwiM2RcIikpe2NvbnN0IGU9by5zeW1ib2xMYXllcnMuYXQoMCk7XCJ3YXRlclwiPT09ZS50eXBlP251bGwhPWUuY29sb3ImJih1PWUuY29sb3IpOm51bGwhPWUubWF0ZXJpYWw/LmNvbG9yJiYodT1lLm1hdGVyaWFsLmNvbG9yKX1lbHNlIG8udXJsfHwodT1vLmNvbG9yKTtjb25zdCBjPXRoaXMuZWZmZWN0TGlzdDtyZXR1cm4oYXdhaXQgUHJvbWlzZS5hbGwoYS5tYXAoKGFzeW5jIHM9PntpZighcy5sZWdlbmRPcHRpb25zfHwhMSE9PXMubGVnZW5kT3B0aW9ucy5zaG93TGVnZW5kKXtjb25zdCBsPW1lKGUpP3MuZmllbGQ6dGhpcy5fZ2V0UmFtcFRpdGxlKHMsdCk7bGV0IGk9bnVsbDtjb25zdCByPXRoaXMuX2dldERhdGVGb3JtYXRPcHRpb25zKHQscyk7aWYoXCJjb2xvclwiPT09cy50eXBlKXtjb25zdCBlPWF3YWl0IE4ocyxudWxsLHIpPz9bXTtpPXt0eXBlOlwiY29sb3ItcmFtcFwiLHRpdGxlOmwsaW5mb3M6ZSxwcmV2aWV3OngoZS5tYXAoKGU9PmUuY29sb3IpKSx7ZWZmZWN0TGlzdDpjLGFyaWFMYWJlbDphd2FpdCAkZShcInByZXZpZXdDb2xvclJhbXBBcmlhTGFiZWxcIil9KX0sdGhpcy5faGFzQ29sb3JSYW1wfHwodGhpcy5faGFzQ29sb3JSYW1wPWUubGVuZ3RoPjApfWVsc2UgaWYoXCJzaXplXCI9PT1zLnR5cGUmJlwib3V0bGluZVwiIT09cy50YXJnZXQpY2UudGVzdChzLnZhbHVlRXhwcmVzc2lvbik/dGhpcy5faGFzQ2x1c3RlclNpemVWYXJpYWJsZXx8KHRoaXMuX3NjYWxlRHJpdmVuU2l6ZVZhcmlhYmxlPXMpOihpPWF3YWl0IHRoaXMuX2dldFNpemVMZWdlbmRFbGVtZW50KGwscyxlLHIpLHRoaXMuX2hhc1NpemVSYW1wfHwodGhpcy5faGFzU2l6ZVJhbXA9IShudWxsPT1pLmluZm9zfHwhaS5pbmZvcy5sZW5ndGgpKSk7ZWxzZSBpZihcIm9wYWNpdHlcIj09PXMudHlwZSl7Y29uc3QgZT1hd2FpdCBOKHMsdSxyKT8/W107aT17dHlwZTpcIm9wYWNpdHktcmFtcFwiLHRpdGxlOmwsaW5mb3M6ZSxwcmV2aWV3OngoZS5tYXAoKGU9PmUuY29sb3IpKSx7ZWZmZWN0TGlzdDpjLGFyaWFMYWJlbDphd2FpdCAkZShcInByZXZpZXdDb2xvclJhbXBBcmlhTGFiZWxcIil9KX0sdGhpcy5faGFzT3BhY2l0eVJhbXB8fCh0aGlzLl9oYXNPcGFjaXR5UmFtcD1lLmxlbmd0aD4wKX1yZXR1cm4gaSYmaS5pbmZvcz9pOm51bGx9fSkpKSkuZmlsdGVyKHIpfV9nZXRGaWVsZEluZm8oZSx0KXtpZighdC5maWVsZClyZXR1cm4gbnVsbDtpZihcImZlYXR1cmVSZWR1Y3Rpb25cImluIGUpc3dpdGNoKGUuZmVhdHVyZVJlZHVjdGlvbj8udHlwZSl7Y2FzZVwiY2x1c3RlclwiOmNhc2VcImJpbm5pbmdcIjp7Y29uc3Qgcz1lLmZlYXR1cmVSZWR1Y3Rpb24uZmllbGRzLmZpbmQoKCh7bmFtZTplfSk9PmUudG9Mb3dlckNhc2UoKT09PXQuZmllbGQudG9Mb3dlckNhc2UoKSkpO3JldHVybiBzJiZcImdldEZpZWxkXCJpbiBlP2UuZ2V0RmllbGQocy5vblN0YXRpc3RpY0ZpZWxkKTpudWxsfX1yZXR1cm5cImdldEZpZWxkXCJpbiBlP2UuZ2V0RmllbGQ/Lih0LmZpZWxkKTpudWxsfV9nZXREYXRlRm9ybWF0KGUsdCl7Y29uc3Qgcz1cInBvcHVwVGVtcGxhdGVcImluIGU/ZS5wb3B1cFRlbXBsYXRlPy5maWVsZEluZm9zOm51bGw7aWYocz8ubGVuZ3RoJiZ0KXJldHVybiBzLmZpbmQoKGU9PmUuZmllbGROYW1lPy50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpKSk/LmZvcm1hdD8uZGF0ZUZvcm1hdH1fZ2V0RGF0ZUZvcm1hdE9wdGlvbnMoZSx0KXtjb25zdCBzPXRoaXMuX2dldEZpZWxkSW5mbyhlLHQpO2lmKCFzfHwhVihzKSYmIUwocykpcmV0dXJuIG51bGw7bGV0IGw9dGhpcy5fZ2V0RGF0ZUZvcm1hdChlLHMubmFtZSk7aWYoIWwmJlwiZGF0ZVwiPT09cy50eXBlKXtsZXQgZT0wLHM9MDt0LnN0b3BzPyhlPXQuc3RvcHM/LmF0KDApPy52YWx1ZT8/ZSxzPXQuc3RvcHM/LmF0KC0xKT8udmFsdWU/P3MpOlwibWluRGF0YVZhbHVlXCJpbiB0JiZcIm1heERhdGFWYWx1ZVwiaW4gdCYmKGU9dC5taW5EYXRhVmFsdWU/P2Uscz10Lm1heERhdGFWYWx1ZT8/cyksbD1zLWU+MipmLmRheXM/XCJzaG9ydC1kYXRlXCI6XCJzaG9ydC1kYXRlLXNob3J0LXRpbWVcIn1yZXR1cm57ZmllbGRUeXBlOnMudHlwZSxmb3JtYXQ6bCx0aW1lWm9uZU9wdGlvbnM6e2xheWVyVGltZVpvbmU6XCJwcmVmZXJyZWRUaW1lWm9uZVwiaW4gZT9lLnByZWZlcnJlZFRpbWVab25lOm51bGwsdmlld1RpbWVab25lOnRoaXMudmlldy50aW1lWm9uZSxkYXRlc0luVW5rbm93blRpbWV6b25lOlwiZGF0ZXNJblVua25vd25UaW1lem9uZVwiaW4gZSYmZS5kYXRlc0luVW5rbm93blRpbWV6b25lfX19X2dldERvbWFpbk5hbWUoZSx0LHMpe2lmKGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpe2NvbnN0IGw9XCJnZXRGaWVsZFwiaW4gcyYmcy5nZXRGaWVsZD8uKGUpLGk9bCYmXCJnZXRGaWVsZERvbWFpblwiaW4gcyYmcy5nZXRGaWVsZERvbWFpbj9zLmdldEZpZWxkRG9tYWluKGwubmFtZSk6bnVsbDtyZXR1cm5cImNvZGVkLXZhbHVlXCI9PT1pPy50eXBlP2kuZ2V0TmFtZSh0KTpudWxsfXJldHVybiBudWxsfV9nZXRDbHVzdGVyVGl0bGUoZSl7Y29uc3QgdD10aGlzLmxheWVyLHM9ZS5maWVsZDtpZihcImZlYXR1cmVSZWR1Y3Rpb25cImluIHQmJnQuZmVhdHVyZVJlZHVjdGlvbiYmXCJjbHVzdGVyXCI9PT10LmZlYXR1cmVSZWR1Y3Rpb24udHlwZSl7Y29uc3QgZT10LmZlYXR1cmVSZWR1Y3Rpb24sbD1cInBvcHVwVGVtcGxhdGVcImluIGUmJmUucG9wdXBUZW1wbGF0ZSxpPWwmJmwuZmllbGRJbmZvcztpZihpKWZvcihjb25zdCB0IG9mIGkpaWYodC5maWVsZE5hbWU9PT1zKXJldHVyblwiY2x1c3Rlcl9jb3VudFwiPT09cz90LmxhYmVsfHx7c2hvd0NvdW50OiEwfTp0LmxhYmVsfXJldHVybntzaG93Q291bnQ6ITB9fV9nZXRSYW1wVGl0bGUoZSx0KXtsZXQgcz1lLmZpZWxkLGw9ZS5ub3JtYWxpemF0aW9uRmllbGQsaT0hMSxyPSExLG49ITEsYT1udWxsO3M9XCJmdW5jdGlvblwiPT10eXBlb2Ygcz9udWxsOnMsbD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBsP251bGw6bDtjb25zdCBvPWUubGVnZW5kT3B0aW9ucz8udGl0bGU7aWYobnVsbCE9bylhPW87ZWxzZSBpZihlLnZhbHVlRXhwcmVzc2lvblRpdGxlKWE9ZS52YWx1ZUV4cHJlc3Npb25UaXRsZTtlbHNle2lmKFwicmVuZGVyZXJcImluIHQmJnQucmVuZGVyZXImJlwiYXV0aG9yaW5nSW5mb1wiaW4gdC5yZW5kZXJlciYmdC5yZW5kZXJlci5hdXRob3JpbmdJbmZvPy52aXN1YWxWYXJpYWJsZXMpe2NvbnN0IGU9dC5yZW5kZXJlci5hdXRob3JpbmdJbmZvLnZpc3VhbFZhcmlhYmxlcztmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgcz1lW3RdO2lmKFwiY29sb3JcIj09PXMudHlwZSl7aWYoXCJyYXRpb1wiPT09cy5zdHlsZSl7aT0hMDticmVha31pZihcInBlcmNlbnRcIj09PXMuc3R5bGUpe3I9ITA7YnJlYWt9aWYoXCJwZXJjZW50LW9mLXRvdGFsXCI9PT1zLnN0eWxlKXtuPSEwO2JyZWFrfX19fWE9e2ZpZWxkOnMmJnRoaXMuX2dldEZpZWxkQWxpYXMocyx0KSxub3JtRmllbGQ6bCYmdGhpcy5fZ2V0RmllbGRBbGlhcyhsLHQpLHJhdGlvOmkscmF0aW9QZXJjZW50OnIscmF0aW9QZXJjZW50VG90YWw6bn19cmV0dXJuIGF9X2dldFJlbmRlcmVyVGl0bGUoZSx0KXtjb25zdCBzPWU7aWYocy5sZWdlbmRPcHRpb25zPy50aXRsZSlyZXR1cm4gcy5sZWdlbmRPcHRpb25zLnRpdGxlO2lmKHMudmFsdWVFeHByZXNzaW9uVGl0bGUpcmV0dXJuIHMudmFsdWVFeHByZXNzaW9uVGl0bGU7bGV0IGw9cy5maWVsZCxpPW51bGwscj1udWxsO2lmKF9lKHMpJiYoaT1zLm5vcm1hbGl6YXRpb25GaWVsZCxyPVwicGVyY2VudC1vZi10b3RhbFwiPT09cy5ub3JtYWxpemF0aW9uVHlwZSksbD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBsP251bGw6bCxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIGk/bnVsbDppLHdlKHMpKXtjb25zdHtmaWVsZDI6ZSxmaWVsZDM6aSxmaWVsZERlbGltaXRlcjpyfT1zO2xldCBuPWwmJnRoaXMuX2dldEZpZWxkQWxpYXMobCx0KTtyZXR1cm4gZSYmKG49YDwke259PiR7cn08JHt0aGlzLl9nZXRGaWVsZEFsaWFzKGUsdCl9PmAsaSYmKG49YCR7bn0ke3J9PCR7dGhpcy5fZ2V0RmllbGRBbGlhcyhpLHQpfT5gKSksbn1sZXQgbj1udWxsO3JldHVybihsfHxpKSYmKG49e2ZpZWxkOmwmJnRoaXMuX2dldEZpZWxkQWxpYXMobCx0KSxub3JtRmllbGQ6aSYmdGhpcy5fZ2V0RmllbGRBbGlhcyhpLHQpLG5vcm1CeVBjdDpyfSksbn1fZ2V0RmllbGRBbGlhcyhlLHQpe2NvbnN0IHM9XCJwb3B1cFRlbXBsYXRlXCJpbiB0P3QucG9wdXBUZW1wbGF0ZTpudWxsLGw9cz8uZmllbGRJbmZvcztsZXQgaTtsJiZsLnNvbWUoKHQ9PmU9PT10LmZpZWxkTmFtZSYmKGk9dCwhMCkpKTtsZXQgcj1udWxsO1wiZ2V0RmllbGRcImluIHQmJnQuZ2V0RmllbGQ/cj10LmdldEZpZWxkKGUpOlwiZmllbGRzSW5kZXhcImluIHQmJnQuZmllbGRzSW5kZXgmJihyPXQuZmllbGRzSW5kZXguZ2V0KGUpKTtsZXQgbj1udWxsO2NvbnN0IGE9XCJmZWF0dXJlUmVkdWN0aW9uXCJpbiB0JiZ0LmZlYXR1cmVSZWR1Y3Rpb247YSYmKCFpJiZcInBvcHVwVGVtcGxhdGVcImluIGEmJmEucG9wdXBUZW1wbGF0ZT8uZmllbGRJbmZvcyYmYS5wb3B1cFRlbXBsYXRlLmZpZWxkSW5mb3Muc29tZSgodD0+ZT8udG9Mb3dlckNhc2UoKT09PXQuZmllbGROYW1lPy50b0xvd2VyQ2FzZSgpJiYoaT10LCEwKSkpLFwiZmllbGRzXCJpbiBhJiZhLmZpZWxkcyYmKG49YS5maWVsZHMuZmluZCgodD0+dC5uYW1lPy50b0xvd2VyQ2FzZSgpPT09ZT8udG9Mb3dlckNhc2UoKSkpKSk7Y29uc3Qgbz1pfHxyfHxuO2xldCB1PW51bGw7cmV0dXJuIG8mJih1PWk/LmxhYmVsfHxyPy5hbGlhc3x8bj8uYWxpYXN8fFwibmFtZVwiaW4gbyYmby5uYW1lfHxcImZpZWxkTmFtZVwiaW4gbyYmby5maWVsZE5hbWV8fG51bGwpLHV9X2lzVW5jbGFzc2VkUmVuZGVyZXIoZSl7Y29uc3QgdD1lLnZpc3VhbFZhcmlhYmxlcztsZXQgcz0hMTtyZXR1cm4gX2UoZSkmJmUuY2xhc3NCcmVha0luZm9zJiYxPT09ZS5jbGFzc0JyZWFrSW5mb3MubGVuZ3RoJiZ0JiYocz1lLmZpZWxkP3Quc29tZSgodD0+ISghdHx8ZS5maWVsZCE9PXQuZmllbGR8fChlLm5vcm1hbGl6YXRpb25GaWVsZHx8dC5ub3JtYWxpemF0aW9uRmllbGQpJiZlLm5vcm1hbGl6YXRpb25GaWVsZCE9PXQubm9ybWFsaXphdGlvbkZpZWxkKSkpOiEhdC5sZW5ndGgpLHN9fTtlKFtnKCldLEplLnByb3RvdHlwZSxcImNoaWxkcmVuXCIsdm9pZCAwKSxlKFtnKHtyZWFkT25seTohMH0pXSxKZS5wcm90b3R5cGUsXCJlZmZlY3RMaXN0XCIsbnVsbCksZShbZygpXSxKZS5wcm90b3R5cGUsXCJsYXllclZpZXdcIix2b2lkIDApLGUoW2coKV0sSmUucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW2coKV0sSmUucHJvdG90eXBlLFwibGVnZW5kRWxlbWVudHNcIix2b2lkIDApLGUoW2coe3JlYWRPbmx5OiEwfSldLEplLnByb3RvdHlwZSxcIm9wYWNpdHlcIixudWxsKSxlKFtnKCldLEplLnByb3RvdHlwZSxcInBhcmVudFwiLHZvaWQgMCksZShbZyh7cmVhZE9ubHk6ITAsZGVwZW5kc09uOltdfSldLEplLnByb3RvdHlwZSxcInJlYWR5XCIsbnVsbCksZShbZygpXSxKZS5wcm90b3R5cGUsXCJoaWRlTGF5ZXJzTm90SW5DdXJyZW50Vmlld1wiLHZvaWQgMCksZShbZygpXSxKZS5wcm90b3R5cGUsXCJrZWVwQ2FjaGVPbkRlc3Ryb3lcIix2b2lkIDApLGUoW2coKV0sSmUucHJvdG90eXBlLFwicmVzcGVjdExheWVyVmlzaWJpbGl0eVwiLHZvaWQgMCksZShbZyh7cmVhZE9ubHk6ITB9KV0sSmUucHJvdG90eXBlLFwic2NhbGVcIixudWxsKSxlKFtnKCldLEplLnByb3RvdHlwZSxcInN1YmxheWVySWRzXCIsdm9pZCAwKSxlKFtnKHtyZWFkT25seTohMH0pXSxKZS5wcm90b3R5cGUsXCJpc1NjYWxlRHJpdmVuXCIsbnVsbCksZShbZygpXSxKZS5wcm90b3R5cGUsXCJ0aXRsZVwiLHZvaWQgMCksZShbZyh7cmVhZE9ubHk6ITAsZGVwZW5kc09uOltcInJlYWR5XCJdLHZhbHVlOjB9KV0sSmUucHJvdG90eXBlLFwidmVyc2lvblwiLG51bGwpLGUoW2coKV0sSmUucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksSmU9ZShbYihcImVzcmkud2lkZ2V0cy5MZWdlbmQuc3VwcG9ydC5BY3RpdmVMYXllckluZm9cIildLEplKTtjb25zdCBRZT1KZTtleHBvcnR7UWUgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vcmVuZGVyZXJzL3Zpc3VhbFZhcmlhYmxlcy9TaXplVmFyaWFibGUuanNcIjtjb25zdCBsPShlLGwpPT57Y29uc3QgYT1lLmZlYXR1cmVzVGlsaW5nU2NoZW1lLmdldENsb3Nlc3RJbmZvRm9yU2NhbGUoZS5zY2FsZSkubGV2ZWw7cmV0dXJuIGw/LmxldmVscz9sLmxldmVsc1thXTpudWxsfTtmdW5jdGlvbiBhKGEsaSl7aWYoIWF8fCEoXCJ2aXN1YWxWYXJpYWJsZXNcImluIGEpfHwhYS52aXN1YWxWYXJpYWJsZXMpcmV0dXJuIG51bGw7Y29uc3Qgcz1hLnZpc3VhbFZhcmlhYmxlcy5maW5kKChlPT5cInNpemVcIj09PWUudHlwZSkpLG49bChpLHMpO3JldHVybiBuP25ldyBlKHtmaWVsZDpzLmZpZWxkLG1pblNpemU6blsyXS5zaXplLG1pbkRhdGFWYWx1ZTpuWzJdLnZhbHVlLG1heFNpemU6blszXS5zaXplLG1heERhdGFWYWx1ZTpuWzNdLnZhbHVlfSk6bnVsbH1leHBvcnR7YSBhcyBnZXRDbHVzdGVyU2l6ZVZhcmlhYmxlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9Db2xvci5qc1wiO2ltcG9ydHtpc1N5bWJvbDNEIGFzIGx9ZnJvbVwiLi4vLi4vLi4vc3ltYm9scy5qc1wiO2ltcG9ydHtyb3VuZCBhcyB0LG51bURpZ2l0cyBhcyBuLHBlcmNlbnRDaGFuZ2UgYXMgaX1mcm9tXCIuLi8uLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9udW1iZXJVdGlscy5qc1wiO2ltcG9ydHthcHBseUNJTVN5bWJvbENvbG9yIGFzIG99ZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9zdXBwb3J0L2NpbVN5bWJvbFV0aWxzLmpzXCI7aW1wb3J0e2lzVm9sdW1ldHJpY1N5bWJvbCBhcyBzLGdldFN5bWJvbE91dGxpbmVTaXplIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vc3ltYm9scy9zdXBwb3J0L3V0aWxzLmpzXCI7aW1wb3J0e2dldFN5bWJvbEZvckZsb3dSZW5kZXJlciBhcyBhLGNyZWF0ZVN0b3BMYWJlbCBhcyB1fWZyb21cIi4vdXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL3N1cHBvcnQvd2lkZ2V0VXRpbHMuanNcIjtpbXBvcnR7aXNEYXJrVGhlbWUgYXMgY31mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L3RoZW1lVXRpbHMuanNcIjtpbXBvcnQgbSBmcm9tXCIuLi8uLi8uLi9zeW1ib2xzL1NpbXBsZU1hcmtlclN5bWJvbC5qc1wiO2ltcG9ydCBmIGZyb21cIi4uLy4uLy4uL3N5bWJvbHMvU2ltcGxlTGluZVN5bWJvbC5qc1wiO2NvbnN0IHA9MzAseT0xMixiPVsyNTUsMjU1LDI1NV0saD1bMjAwLDIwMCwyMDBdLGQ9WzEyOCwxMjgsMTI4XSx3PTIwLGc9NTtmdW5jdGlvbiBTKGUpe3JldHVyblwiZXNyaS5zeW1ib2xzLlNpbXBsZU1hcmtlclN5bWJvbFwiPT09ZS5kZWNsYXJlZENsYXNzfWZ1bmN0aW9uIHYoZSl7cmV0dXJuXCJlc3JpLnN5bWJvbHMuUGljdHVyZU1hcmtlclN5bWJvbFwiPT09ZS5kZWNsYXJlZENsYXNzfWZ1bmN0aW9uIHooZSl7cmV0dXJuXCJlc3JpLnN5bWJvbHMuU2ltcGxlTGluZVN5bWJvbFwiPT09ZS5kZWNsYXJlZENsYXNzfWZ1bmN0aW9uIGooZSl7cmV0dXJuXCJlc3JpLnN5bWJvbHMuVGV4dFN5bWJvbFwiPT09ZS5kZWNsYXJlZENsYXNzfWZ1bmN0aW9uIFYoZSxsKXtjb25zdCB0PWUubGVuZ3RoLTE7cmV0dXJuIGUubWFwKCgoZSxuKT0+dShlLG4sdCxsKSkpfWFzeW5jIGZ1bmN0aW9uIGsoZSxsLG4saSxvLGEsdSl7Y29uc3QgYz1sLmxlZ2VuZE9wdGlvbnMsbT1jPy5jdXN0b21WYWx1ZXMsZj11fHxhd2FpdCBVKGUsbikscD1sLnN0b3BzLHk9ISFmLGI9ISFtLGg9bnVsbCE9bC5taW5TaXplJiZudWxsIT1sLm1heFNpemUsZD1wJiZwLmxlbmd0aD4xLHc9ISFsLnRhcmdldDtpZigheXx8IWImJiEoaHx8ZCYmIXcpKXJldHVybjtjb25zdCBnPXMoZik7bGV0IFM9ITEsdj1udWxsLHo9bnVsbDt2PWcmJiFkP3QoW2wubWluRGF0YVZhbHVlLGwubWF4RGF0YVZhbHVlXSk6bT8/YXdhaXQgRChsLGYsaSxvPy50eXBlKTtjb25zdCBqPWU/LmF1dGhvcmluZ0luZm8saz1cInVuaXZhcmlhdGUtY29sb3Itc2l6ZVwiPT09aj8udHlwZSxDPWsmJlwiYWJvdmUtYW5kLWJlbG93XCI9PT1qPy51bml2YXJpYXRlVGhlbWU7aWYoIXYmJmQmJih2PXAubWFwKChlPT5lLnZhbHVlKSksUz1wLnNvbWUoKGU9PiEhZS5sYWJlbCkpLFwiZmxvd1wiPT09ZS50eXBlJiYodj10KHYpKSxTJiYoej1wLm1hcCgoZT0+ZS5sYWJlbCkpKSksZyYmbnVsbCE9diYmdj8ubGVuZ3RoPjImJiFDJiYodj1bdlswXSx2W3YubGVuZ3RoLTFdXSksIXYpcmV0dXJuIG51bGw7ayYmNSE9PXY/Lmxlbmd0aCYmKHY9RSh7bWluU2l6ZTp2WzBdLG1heFNpemU6dlt2Lmxlbmd0aC0xXX0pKTtjb25zdCBJPWc/eChlLHYpOm51bGwsTT1yKGYpLFQ9Uz9udWxsOlYodixhKTtyZXR1cm4oYXdhaXQgUHJvbWlzZS5hbGwodi5tYXAoKGFzeW5jKHQsbik9Pntjb25zdCBzPWc/SVtuXTphd2FpdCBCKGwsZix0LGksbz8udHlwZSk7cmV0dXJue3ZhbHVlOnQsc3ltYm9sOlAoQyYmXCJjbGFzcy1icmVha3NcIj09PWUudHlwZT9MKGUsbik6ZixzKSxsYWJlbDpTP3pbbl06VFtuXSxzaXplOnMsb3V0bGluZVNpemU6TX19KSkpKS5yZXZlcnNlKCl9ZnVuY3Rpb24geChlLGwpe2NvbnN0IHQ9ZT8uYXV0aG9yaW5nSW5mbyxuPVwidW5pdmFyaWF0ZS1jb2xvci1zaXplXCI9PT10Py50eXBlO2xldCBpPVt5LHBdO2lmKG4pe2NvbnN0IGU9bFswXSx0PWxbbC5sZW5ndGgtMV0sbj15LG89cDtpPWwubWFwKChsPT5uKyhsLWUpLyh0LWUpKihvLW4pKSl9cmV0dXJuIG4mJlwiYmVsb3dcIj09PXQ/LnVuaXZhcmlhdGVUaGVtZSYmaS5yZXZlcnNlKCksaX1mdW5jdGlvbiBMKGUsbCl7Y29uc3QgdD1lLmNsYXNzQnJlYWtJbmZvcyxuPXQubGVuZ3RoLGk9bjwyfHwhKGw+PTIpP3RbMF0uc3ltYm9sLmNsb25lKCk6dFtuLTFdLnN5bWJvbC5jbG9uZSgpO3JldHVybiBlLnZpc3VhbFZhcmlhYmxlcy5zb21lKChlPT5cImNvbG9yXCI9PT1lLnR5cGUpKSYmKGkudHlwZS5pbmNsdWRlcyhcIjNkXCIpP0koaSk6TShpKSksaX1hc3luYyBmdW5jdGlvbiBVKGUsbCl7aWYoXCJmbG93XCI9PT1lLnR5cGUpcmV0dXJuIGEoZSxsKTtpZihcInBpZS1jaGFydFwiPT09ZS50eXBlKXJldHVybiBuZXcgbSh7Y29sb3I6bnVsbCxvdXRsaW5lOmUub3V0bGluZT8ud2lkdGg/ZS5vdXRsaW5lOm5ldyBmfSk7bGV0IHQ9bnVsbCxuPW51bGw7aWYoXCJzaW1wbGVcIj09PWUudHlwZSl0PWUuc3ltYm9sO2Vsc2UgaWYoXCJjbGFzcy1icmVha3NcIj09PWUudHlwZSl7Y29uc3QgbD1lLmNsYXNzQnJlYWtJbmZvczt0PWwmJmxbMF0mJmxbMF0uc3ltYm9sLG49bC5sZW5ndGg+MX1lbHNlIGlmKFwidW5pcXVlLXZhbHVlXCI9PT1lLnR5cGUpe2NvbnN0IGw9ZS51bmlxdWVWYWx1ZUluZm9zO3Q9bD8uWzBdPy5zeW1ib2wsbj1udWxsIT1sJiZsLmxlbmd0aD4xfXJldHVybiF0fHxDKHQpP251bGw6KHQ9dC5jbG9uZSgpLChsfHxuKSYmKHQudHlwZS5pbmNsdWRlcyhcIjNkXCIpP0kodCk6TSh0KSksdCl9ZnVuY3Rpb24gQyhlKXtpZihlKXtpZihsKGUpKXtyZXR1cm4hIWUuc3ltYm9sTGF5ZXJzJiZlLnN5bWJvbExheWVycy5zb21lKChlPT5lJiZcImZpbGxcIj09PWUudHlwZSkpfXJldHVybiBlLnR5cGUuaW5jbHVkZXMoXCJmaWxsXCIpfXJldHVybiExfWZ1bmN0aW9uIEkoZSl7XCJsaW5lLTNkXCI9PT1lLnR5cGU/ZS5zeW1ib2xMYXllcnMuZm9yRWFjaCgoZT0+e2UubWF0ZXJpYWw9e2NvbG9yOmR9fSkpOmUuc3ltYm9sTGF5ZXJzLmZvckVhY2goKGU9PntcImljb25cIiE9PWUudHlwZXx8ZS5yZXNvdXJjZT8uaHJlZj9lLm1hdGVyaWFsPXtjb2xvcjpofTooZS5tYXRlcmlhbD17Y29sb3I6Yn0sZS5vdXRsaW5lPXtjb2xvcjpkLHNpemU6MS41fSl9KSl9ZnVuY3Rpb24gTShsKXtjb25zdCB0PWMoKTtpZihcImNpbVwiPT09bC50eXBlKW8obCxuZXcgZShoKSk7ZWxzZSBpZihsLnR5cGUuaW5jbHVkZXMoXCJsaW5lXCIpKWwuY29sb3I9ZDtlbHNlIGlmKGwuY29sb3I9dD9kOmIsXCJzaW1wbGUtbWFya2VyXCI9PT1sLnR5cGUpaWYobC5vdXRsaW5lKXtjb25zdCBlPWwub3V0bGluZT8uY29sb3I/LnRvSGV4KCk7XCIjZmZmZmZmXCI9PT1lJiYobC5vdXRsaW5lLmNvbG9yPWQpfWVsc2UgbC5vdXRsaW5lPXtjb2xvcjpkLHdpZHRoOjEuNX19YXN5bmMgZnVuY3Rpb24gRChlLGwsbixpKXtjb25zdCBvPShhd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi9yZW5kZXJlcnMvdmlzdWFsVmFyaWFibGVzL3N1cHBvcnQvdmlzdWFsVmFyaWFibGVVdGlscy5qc1wiKSkuZ2V0U2l6ZVJhbmdlQXRTY2FsZShlLG4saSkscz1vJiZFKG8pO2lmKCFvfHwhcylyZXR1cm47bGV0IHI9cy5tYXAoKGw9PlQobCxlLG8pKSk7cj10KHIpO2ZvcihsZXQgdD0xO3Q8ci5sZW5ndGgtMTt0Kyspe2NvbnN0IG89YXdhaXQgcShlLGwsclt0XSxyW3QtMV0sbixpKTtvJiYoclt0XT1vWzBdLHNbdF09b1sxXSl9cmV0dXJuIHJ9ZnVuY3Rpb24gRShlKXtjb25zdCBsPWUubWluU2l6ZSx0PWUubWF4U2l6ZSxuPWcsaT0odC1sKS8obi0xKSxvPVtdO2ZvcihsZXQgcz0wO3M8bjtzKyspby5wdXNoKGwraSpzKTtyZXR1cm4gb31mdW5jdGlvbiBUKGUsbCx0KXtjb25zdCBuPXQubWluU2l6ZSxpPXQubWF4U2l6ZSxvPWwubWluRGF0YVZhbHVlLHM9bC5tYXhEYXRhVmFsdWU7bGV0IHI7aWYoZTw9bilyPW87ZWxzZSBpZihlPj1pKXI9cztlbHNle3I9KGUtbikvKGktbikqKHMtbykrb31yZXR1cm4gcn1hc3luYyBmdW5jdGlvbiBxKGUsbCxvLHMscixhKXtjb25zdCB1PWF3YWl0IEIoZSxsLG8scixhKSxjPWF3YWl0IEIoZSxsLHMscixhKSxtPW4obyksZj1tLmZyYWN0aW9uYWwscD13O2xldCB5PW0uaW50ZWdlcixiPW51bGwsaD1udWxsO28+MCYmbzwxJiYoYj0xMCoqZix5PW4obyo9YikuaW50ZWdlcik7Zm9yKGxldCBuPXktMTtuPj0wO24tLSl7Y29uc3Qgcz0xMCoqbjtsZXQgbT1NYXRoLmZsb29yKG8vcykqcyxmPU1hdGguY2VpbChvL3MpKnM7bnVsbCE9YiYmKG0vPWIsZi89Yik7bGV0IHk9KG0rZikvMjtbLHldPXQoW20seSxmXSx7aW5kZXhlczpbMV19KTtjb25zdCBkPWF3YWl0IEIoZSxsLG0scixhKSx3PWF3YWl0IEIoZSxsLGYscixhKSxnPWF3YWl0IEIoZSxsLHkscixhKSxTPWkodSxkLGMsbnVsbCksdj1pKHUsdyxjLG51bGwpLHo9aSh1LGcsYyxudWxsKTtsZXQgaj1TLnByZXZpb3VzPD1wLFY9di5wcmV2aW91czw9cDtpZihqJiZWJiYoUy5wcmV2aW91czw9di5wcmV2aW91cz8oaj0hMCxWPSExKTooVj0hMCxqPSExKSksaj9oPVttLGRdOlY/aD1bZix3XTp6LnByZXZpb3VzPD1wJiYoaD1beSxnXSksaClicmVha31yZXR1cm4gaH1hc3luYyBmdW5jdGlvbiBCKGUsbCx0LG4saSl7Y29uc3R7Z2V0U2l6ZTpvfT1hd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi9yZW5kZXJlcnMvdmlzdWFsVmFyaWFibGVzL3N1cHBvcnQvdmlzdWFsVmFyaWFibGVVdGlscy5qc1wiKTtyZXR1cm4gbyhlLHQse3NjYWxlOm4sdmlldzppLHNoYXBlOlwic2ltcGxlLW1hcmtlclwiPT09bC50eXBlP2wuc3R5bGU6bnVsbH0pfWZ1bmN0aW9uIFAoZSx0KXtjb25zdCBuPWUuY2xvbmUoKTtpZihsKG4pKXMobil8fG4uc3ltYm9sTGF5ZXJzLmZvckVhY2goKGU9PntcImZpbGxcIiE9PWUudHlwZSYmKGUuc2l6ZT10KX0pKTtlbHNlIGlmKFMobikpbi5zaXplPXQ7ZWxzZSBpZih2KG4pKXtjb25zdCBlPW4ud2lkdGgsbD1uLmhlaWdodDtuLmhlaWdodD10LG4ud2lkdGg9dCooZS9sKX1lbHNlIHoobik/bi53aWR0aD10OmoobikmJm4uZm9udCYmKG4uZm9udC5zaXplPXQpO3JldHVybiBufWV4cG9ydHtrIGFzIGdldFJhbXBTdG9wcyxwIGFzIHJlYWxXb3JsZE1heFNpemUseSBhcyByZWFsV29ybGRNaW5TaXplfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uL2ludGwuanNcIjtpbXBvcnR7c3RyaXBIVE1MIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9zdHJpbmcuanNcIjtpbXBvcnR7c3Vic3RpdHV0ZSBhcyB0fWZyb21cIi4uLy4uLy4uL2ludGwvc3Vic3RpdHV0ZS5qc1wiO2ltcG9ydHtmb3JtYXROdW1iZXIgYXMgbn1mcm9tXCIuLi8uLi8uLi9pbnRsL251bWJlci5qc1wiO2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4gdH1mdW5jdGlvbiBpKGUpe2NvbnN0IHQ9dGhpcztlLmFwcGVuZENoaWxkKHQpfWZ1bmN0aW9uIG8obixpLG8pe2lmKCFpKXJldHVybjtpZihcIm51bWJlclwiPT10eXBlb2YgaSlyZXR1cm4gaTtpZihcInN0cmluZ1wiPT10eXBlb2YgaSlyZXR1cm4gZShpKTtpZihcInZhbHVlXCJpbiBpfHxcInVuaXRcImluIGkpcmV0dXJuIHQobi5kb3RWYWx1ZSxpKTtpZihcImNvbG9yTmFtZVwiaW4gaSYmXCJiYW5kTmFtZVwiaW4gaSlyZXR1cm4gbltpLmNvbG9yTmFtZV0rXCI6IFwiKyhuW2kuYmFuZE5hbWVdfHxpLmJhbmROYW1lKTtpZihcInNob3dDb3VudFwiaW4gaSlyZXR1cm4gaS5zaG93Q291bnQ/bi5jbHVzdGVyQ291bnRUaXRsZTp2b2lkIDA7bGV0IHU9bnVsbDtyZXR1cm4gcihpLG8pP3U9aS5yYXRpb1BlcmNlbnRUb3RhbD9cInNob3dSYXRpb1BlcmNlbnRUb3RhbFwiOmkucmF0aW9QZXJjZW50P1wic2hvd1JhdGlvUGVyY2VudFwiOmkucmF0aW8/XCJzaG93UmF0aW9cIjppLm5vcm1GaWVsZD9cInNob3dOb3JtRmllbGRcIjppLmZpZWxkP1wic2hvd0ZpZWxkXCI6bnVsbDpsKGksbykmJih1PWkubm9ybUZpZWxkP1wic2hvd05vcm1GaWVsZFwiOmkubm9ybUJ5UGN0P1wic2hvd05vcm1QY3RcIjppLmZpZWxkP1wic2hvd0ZpZWxkXCI6bnVsbCksdT90KFwic2hvd0ZpZWxkXCI9PT11P1wie2ZpZWxkfVwiOm5bdV0se2ZpZWxkOmkuZmllbGQsbm9ybUZpZWxkOmkubm9ybUZpZWxkfSk6dm9pZCAwfWZ1bmN0aW9uIGwoZSx0KXtyZXR1cm4hdH1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuISEodCYmXCJTdHJldGNoZWRcIj09PXQmJmUudmVyc2lvbj49MTAuMyYmXCJlc3JpLmxheWVycy5JbWFnZXJ5TGF5ZXJcIj09PWUuZGVjbGFyZWRDbGFzcyl9ZnVuY3Rpb24gYShlLHQpe3JldHVybiBlLmxhYmVsP3RbZS5sYWJlbF0rXCI6IFwiKyhcInN0cmluZ1wiPT10eXBlb2YgZS52YWx1ZT9lLnZhbHVlOm4oZS52YWx1ZT8/MCx7c3R5bGU6XCJkZWNpbWFsXCIsbm90YXRpb246ZS52YWx1ZT8udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiZVwiKT9cInNjaWVudGlmaWNcIjpcInN0YW5kYXJkXCJ9KSk6XCJcIn1leHBvcnR7aSBhcyBhdHRhY2hUb05vZGUsYSBhcyBnZXRTdHJldGNoU3RvcExhYmVsLG8gYXMgZ2V0VGl0bGUsdSBhcyBpc0ltYWdlcnlTdHJldGNoZWRMZWdlbmQsbCBhcyBpc1JlbmRlcmVyVGl0bGV9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9