"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_views_2d_layers_FeatureLayerView2D_js"],{

/***/ "./node_modules/@arcgis/core/AggregateGraphic.js":
/*!*******************************************************!*\
  !*** ./node_modules/@arcgis/core/AggregateGraphic.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let p=class extends _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this.isAggregate=!0}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const r=this.sourceLayer?.featureReduction;return r&&"popupTemplate"in r&&r.popupEnabled?r.popupTemplate:null}getObjectId(){return this.attributes.aggregateId}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Boolean})],p.prototype,"isAggregate",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.AggregateGraphic")],p);const s=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/core/CircularArray.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/CircularArray.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(t){if(0===this.size)return null;for(const s of this._buffer)if(null!=s&&t(s))return s;return null}clear(t){let s=this.dequeue();for(;null!=s;)t&&t(s),s=this.dequeue()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/effects/FeatureEffectView.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/effects/FeatureEffectView.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _EffectView_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./EffectView.js */ "./node_modules/@arcgis/core/layers/effects/EffectView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let c=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._filter=null,this.duration=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("mapview-transitions-duration"),this._excludedEffectView=new _EffectView_js__WEBPACK_IMPORTED_MODULE_7__.EffectView(e),this._includedEffectView=new _EffectView_js__WEBPACK_IMPORTED_MODULE_7__.EffectView(e)}get excludedEffects(){return this._excludedEffectView.effects}set featureEffect(e){this._get("featureEffect")!==e&&this._transitionTo(e)}get filter(){return this._filter||this.featureEffect?.filter||null}get hasEffects(){return this._excludedEffectView.hasEffects||this._includedEffectView.hasEffects}get includedEffects(){return this._includedEffectView.effects}set scale(e){this._set("scale",e),this._excludedEffectView.scale=e,this._includedEffectView.scale=e}get transitioning(){return this._excludedEffectView.transitioning||this._includedEffectView.transitioning}transitionStep(e,t){this._set("scale",t),this.transitioning?(this._includedEffectView.transitionStep(e,t),this._excludedEffectView.transitionStep(e,t),this.transitioning||(this._filter=null)):(this._excludedEffectView.scale=t,this._includedEffectView.scale=t)}endTransitions(){this._includedEffectView.endTransitions(),this._excludedEffectView.endTransitions(),this._filter=null}_transitionTo(e){const t=this._get("featureEffect"),i=e,s=i?.includedEffect,f=i?.excludedEffect,c=this._includedEffectView.canTransitionTo(s)&&this._excludedEffectView.canTransitionTo(f);this._includedEffectView.effect=s,this._excludedEffectView.effect=f,this._set("featureEffect",i),this._filter=i?.filter||t?.filter||null,c||this.endTransitions()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"_filter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"_excludedEffectView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"_includedEffectView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"duration",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"excludedEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"featureEffect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"filter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"hasEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"includedEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({value:0})],c.prototype,"scale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"transitioning",null),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.effects.FeatureEffectView")],c);const r=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/floorFilterUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFloorFilterClause: () => (/* binding */ o),
/* harmony export */   getLayerFloorFilterClause: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o){const n=o.layer;if("floorInfo"in n&&n.floorInfo?.floorField&&"floors"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return"floorInfo"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>""!==o)).map((o=>`'${o}'`));return l.push("''"),`${n} IN (${l.join(",")}) OR ${n} IS NULL`}


/***/ }),

/***/ "./node_modules/@arcgis/core/rest/support/AggregateFeatureSet.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/rest/support/AggregateFeatureSet.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _AggregateGraphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../AggregateGraphic.js */ "./node_modules/@arcgis/core/AggregateGraphic.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let c=class extends _FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__["default"]{constructor(){super(...arguments),this.features=[]}readFeatures(e,t){const o=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_10__["default"].fromJSON(t.spatialReference),s=[];for(let a=0;a<e.length;a++){const t=e[a],p=_AggregateGraphic_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(t),c=t.geometry?.spatialReference;null==p.geometry||c||(p.geometry.spatialReference=o);const i=t.aggregateGeometries,m=p.aggregateGeometries;if(i&&null!=m)for(const e in m){const r=m[e],t=i[e],s=t?.spatialReference;null==r||s||(r.spatialReference=o)}s.push(p)}return s}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:[_AggregateGraphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]],json:{write:!0}})],c.prototype,"features",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__.reader)("features")],c.prototype,"readFeatures",null),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.rest.support.AggregateFeatureSet")],c);const i=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/Bitmap.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/Bitmap.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Bitmap: () => (/* binding */ b),
/* harmony export */   isImageSource: () => (/* binding */ f),
/* harmony export */   rasterize: () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/mat3.js */ "./node_modules/@arcgis/core/chunks/mat3.js");
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/mat3f32.js */ "./node_modules/@arcgis/core/chunks/mat3f32.js");
/* harmony import */ var _chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/vec2f32.js */ "./node_modules/@arcgis/core/chunks/vec2f32.js");
/* harmony import */ var _DisplayObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js");
/* harmony import */ var _ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ImageryBitmapSource.js */ "./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js");
/* harmony import */ var _webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../webgl/contextUtils.js */ "./node_modules/@arcgis/core/views/webgl/contextUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function f(t){return t&&"render"in t}function w(t){const e=document.createElement("canvas");return e.width=t.width,e.height=t.height,t.render(e.getContext("2d")),e}function v(t){return f(t)?t instanceof _ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_5__["default"]?t.getRenderedRasterPixels()?.renderedRasterPixels:w(t):t}class b extends _DisplayObject_js__WEBPACK_IMPORTED_MODULE_4__.DisplayObject{constructor(t=null,e=!1){super(),this.blendFunction="standard",this._sourceWidth=0,this._sourceHeight=0,this._textureInvalidated=!1,this._texture=null,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.immutable=e,this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null),null!=this._uploadStatus&&(this._uploadStatus.controller.abort(),this._uploadStatus=null)}get isSourceScaled(){return this.width!==this._sourceWidth||this.height!==this._sourceHeight}get height(){return void 0!==this._height?this._height:this._sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){null==t&&null==this._source||(this._source=t,this.invalidateTexture(),this.requestRender())}get width(){return void 0!==this._width?this._width:this._sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t)}async setSourceAsync(s,i){null!=this._uploadStatus&&this._uploadStatus.controller.abort();const r=new AbortController,h=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.createResolver)();return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.onAbortOrThrow)(i,(()=>r.abort())),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.onAbortOrThrow)(r,(t=>h.reject(t))),this._uploadStatus={controller:r,resolver:h},this.source=s,h.promise}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this._source instanceof HTMLImageElement?(this._sourceHeight=this._source.naturalHeight,this._sourceWidth=this._source.naturalWidth):this._source&&(this._sourceHeight=this._source.height,this._sourceWidth=this._source.width))}updateTransitionProperties(t,e){t>=64&&(this.fadeTransitionEnabled=!1,this.inFadeTransition=!1),super.updateTransitionProperties(t,e)}setTransform(t){const e=(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.transforms.dvs),[s,a]=t.toScreenNoRotation([0,0],[this.x,this.y]),d=this.resolution/this.pixelRatio/t.resolution,l=d*this.width,c=d*this.height,_=Math.PI*this.rotation/180;(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.h)(e,e,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.f)(s,a)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.h)(e,e,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.f)(l/2,c/2)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.r)(e,e,-_),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.h)(e,e,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.f)(-l/2,-c/2)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.l)(e,e,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.f)(l,c)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.m)(this.transforms.dvs,t.displayViewMat3,e)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind(t,e){this._texture&&t.bindTexture(this._texture,e)}async updateTexture({context:t,painter:e}){if(!this._textureInvalidated)return;if(this._textureInvalidated=!1,this._texture||(this._texture=this._createTexture(t)),!this.source)return void this._texture.setData(null);this._texture.resize(this._sourceWidth,this._sourceHeight);const i=v(this.source);try{if(null!=this._uploadStatus){const{controller:t,resolver:s}=this._uploadStatus,r={signal:t.signal},{width:h,height:o}=this,u=this._texture,a=e.textureUploadManager;await a.enqueueTextureUpdate({data:i,texture:u,width:h,height:o},r),s.resolve(),this._uploadStatus=null}else this._texture.setData(i);this.ready()}catch(r){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.throwIfNotAbortError)(r)}}onDetach(){this.destroy()}_createTransforms(){return{dvs:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.c)()}}_createTexture(t){const e=this.immutable&&t.type===_webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_6__.ContextType.WEBGL2,s=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_9__.TextureDescriptor;return s.internalFormat=e?_webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__.SizedPixelFormat.RGBA8:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__.PixelFormat.RGBA,s.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_7__.TextureWrapMode.CLAMP_TO_EDGE,s.isImmutable=e,s.width=this._sourceWidth,s.height=this._sourceHeight,new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_8__.Texture(t,s)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BitmapTile: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/mat3f32.js */ "./node_modules/@arcgis/core/chunks/mat3f32.js");
/* harmony import */ var _Bitmap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Bitmap.js */ "./node_modules/@arcgis/core/views/2d/engine/Bitmap.js");
/* harmony import */ var _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./webgl/TiledDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_2__.TiledDisplayObject{constructor(t,s,r,i,a,n,m=null){super(t,s,r,i,a,n),this.bitmap=new _Bitmap_js__WEBPACK_IMPORTED_MODULE_1__.Bitmap(m),this.bitmap.coordScale=[a,n],this.bitmap.once("isReady",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(t){this.bitmap.beforeRender(t),super.beforeRender(t)}afterRender(t){this.bitmap.afterRender(t),super.afterRender(t)}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}_createTransforms(){return{dvs:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)(),tileMat3:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)()}}setTransform(t){super.setTransform(t),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap&&(this.bitmap.stage=null)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BitmapTileContainer: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _BitmapTile_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BitmapTile.js */ "./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js");
/* harmony import */ var _brushes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./brushes.js */ "./node_modules/@arcgis/core/views/2d/engine/brushes.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./webgl/TileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class n extends _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_4__["default"]{get requiresDedicatedFBO(){return this.children.some((e=>"additive"===e.bitmap.blendFunction))}createTile(r){const t=this._tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),r),s=this._tileInfoView.getTileResolution(r.level),[n,o]=this._tileInfoView.tileInfo.size;return new _BitmapTile_js__WEBPACK_IMPORTED_MODULE_1__.BitmapTile(r,s,t[0],t[3],n,o)}prepareRenderPasses(e){const i=e.registerRenderPass({name:"bitmap (tile)",brushes:[_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.bitmap],target:()=>this.children.map((e=>e.bitmap)),drawPhase:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLDrawPhase.MAP});return[...super.prepareRenderPasses(e),i]}doRender(e){this.visible&&e.drawPhase===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLDrawPhase.MAP&&super.doRender(e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureContainer: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_Queue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Queue.js */ "./node_modules/@arcgis/core/core/Queue.js");
/* harmony import */ var _webgl_AttributeStoreView_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./webgl/AttributeStoreView.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/AttributeStoreView.js");
/* harmony import */ var _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./webgl/TileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js");
/* harmony import */ var _webgl_WGLRendererInfo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./webgl/WGLRendererInfo.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class o extends _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_3__["default"]{constructor(e){super(e),this._rendererInfo=new _webgl_WGLRendererInfo_js__WEBPACK_IMPORTED_MODULE_4__.WGLRendererInfo,this._materialItemsRequestQueue=new _core_Queue_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.attributeView=new _webgl_AttributeStoreView_js__WEBPACK_IMPORTED_MODULE_2__.AttributeStoreView((()=>this.onAttributeStoreUpdate()))}destroy(){this.children.forEach((e=>e.destroy())),this.removeAllChildren(),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return[];const s=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.createResolver)();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}doRender(e){if(e.context.capabilities.enable("textureFloat"),e.context.capabilities.enable("vao"),this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commit(e);this._rendererInfo.update(e.state),super.renderChildren(e)}createRenderParams(e){const t=super.createRenderParams(e);return t.rendererInfo=this._rendererInfo,t.attributeView=this.attributeView,t}onAttributeStoreUpdate(){}_processMaterialItemRequest(e,{items:t,abortOptions:r,resolver:s}){const{painter:i,pixelRatio:o}=e,n=t.map((e=>i.textureManager.rasterizeItem(e.symbol,o,e.glyphIds,r)));Promise.all(n).then((e=>{if(!this.stage)return void s.reject();const r=e.map(((e,r)=>({id:t[r].id,mosaicItem:e})));s.resolve(r)}),s.reject)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class l{constructor(l,e,t){this.pixelBlock=l,this.extent=e,this.originalPixelBlock=t}get width(){return null!=this.pixelBlock?this.pixelBlock.width:0}get height(){return null!=this.pixelBlock?this.pixelBlock.height:0}render(l){const e=this.pixelBlock;if(null==e)return;const t=this.filter({extent:this.extent,pixelBlock:this.originalPixelBlock??e});if(null==t.pixelBlock)return;t.pixelBlock.maskIsAlpha&&(t.pixelBlock.premultiplyAlpha=!0);const i=t.pixelBlock.getAsRGBA(),h=l.createImageData(t.pixelBlock.width,t.pixelBlock.height);h.data.set(i),l.putImageData(h,0,0)}getRenderedRasterPixels(){const l=this.filter({extent:this.extent,pixelBlock:this.pixelBlock});return null==l.pixelBlock?null:(l.pixelBlock.maskIsAlpha&&(l.pixelBlock.premultiplyAlpha=!0),{width:l.pixelBlock.width,height:l.pixelBlock.height,renderedRasterPixels:new Uint8Array(l.pixelBlock.getAsRGBA().buffer)})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/BufferPool.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/BufferPool.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BufferPool: () => (/* binding */ i),
/* harmony export */   TypedBuffer: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _cpuMapped_FreeList_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cpuMapped/FreeList.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/FreeList.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-2d-log-allocations");class r{constructor(t,e){this._array=t,this._pool=e}get array(){return this._array}get length(){return this._array.length}static create(t,e){const s=e.acquire(t);return new r(s,e)}expand(t){const e=this._pool.acquire(t);e.set(this._array),this._pool.release(this._array),this._array=e}destroy(){this._pool.release(this._array)}set(t,e){this._array.set(t._array,e)}slice(){const t=this._pool.acquire(this._array.byteLength);return t.set(this._array),new r(t,this._pool)}}class a{constructor(){this._data=new ArrayBuffer(a.BYTE_LENGTH),this._freeList=new _cpuMapped_FreeList_js__WEBPACK_IMPORTED_MODULE_2__.FreeList({start:0,end:this._data.byteLength})}static get BYTE_LENGTH(){return 64e6}get buffer(){return this._data}allocate(t){const e=this._freeList.firstFit(t);return null==e?null:new Uint32Array(this._data,e,t/Uint32Array.BYTES_PER_ELEMENT)}free(t){this._freeList.free(t.byteOffset,t.byteLength)}}class i{constructor(){this._bytesAllocated=0,this._pages=[],this._pagesByBuffer=new Map,this._addPage()}destroy(){this._pages=[],this._pagesByBuffer=null}get _bytesTotal(){return this._pages.length*a.BYTE_LENGTH}acquire(e){if(this._bytesAllocated+=e,s&&console.log(`Allocating ${e}, (${this._bytesAllocated} / ${this._bytesTotal})`),e>a.BYTE_LENGTH)return new Uint32Array(e/Uint32Array.BYTES_PER_ELEMENT);for(const t of this._pages){const s=t.allocate(e);if(null!=s)return s}const r=this._addPage().allocate(e);return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.assertIsSome)(r,"Expected to allocate page"),r}release(t){this._bytesAllocated-=t.byteLength,s&&console.log(`Freeing ${t.byteLength}, (${this._bytesAllocated} / ${this._bytesTotal})`);const e=this._pagesByBuffer.get(t.buffer);e&&e.free(t)}_addPage(){const t=new a;return this._pages.push(t),this._pagesByBuffer.set(t.buffer,t),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/FeatureTile.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/FeatureTile.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTile: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat2df32.js */ "./node_modules/@arcgis/core/chunks/mat2df32.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _WGLTile_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./WGLTile.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLTile.js");
/* harmony import */ var _collisions_MetricReader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./collisions/MetricReader.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/MetricReader.js");
/* harmony import */ var _cpuMapped_Geometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cpuMapped/Geometry.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Geometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const h=50,d=4,o=100;let u=0;class c extends _WGLTile_js__WEBPACK_IMPORTED_MODULE_5__.WGLTile{constructor(r,s,i,a,n,h){super(r,s,i,a),this.instanceId=u++,this.patchCount=0,this._renderState={current:{geometry:new Map,metrics:null},next:null,swap:!1,swapFrames:0,locked:!1},this._patches=new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](o),this._bufferPatches=new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](o),this._lastCommitTime=0,this.transforms.labelMat2d=(0,_chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_2__.c)(),this._store=n,this._requestLabelUpdate=h}destroy(){super.destroy(),this._renderState.current.geometry.forEach((e=>e.destroy())),null!=this._renderState.next&&this._renderState.next.geometry.forEach((e=>e.destroy())),this._renderState.current=null,this._renderState.next=null}get labelMetrics(){return this._renderState.current.metrics}get hasData(){return!!this._renderState.current.geometry.size}get updateStatus(){return`renderState:${!!this._renderState.current}, ${!!this._renderState.next}, hasData:${this.hasData}, queue:${this._patches.size}`}getGeometry(e){return this._renderState.current.geometry.get(e)}patch(e,t){this.patchCount++,e.clear&&this._patches.size>=h&&this._dropPatches();const r=e,s=r.addOrUpdate&&this.key.id!==r.addOrUpdate.tileKeyOrigin;t&&s?this._bufferPatches.enqueue(r):(r.sort=r.sort&&!t,this._patches.enqueue(r)),this.requestRender()}commit(e){if(this._lastCommitTime!==e.time){this._lastCommitTime=e.time;for(let e=0;e<d;e++)this._updateMesh(),this.isReady&&this._updateBufferMesh();this._renderState.swap&&(this._swapRenderStates(),this.requestRender())}}lock(){this._renderState.locked=!0}unlock(){this._renderState.locked=!1,this._flushUpdates(),this._swap()}_swapRenderStates(){if(this._renderState.next){if(this._renderState.locked)return this._renderState.swap=!0,void this.requestRender();this._renderState.swap=!0,this._swap()}}_swap(){this._renderState.swap&&(this._renderState.swap=!1,null!=this._renderState.next&&(this._renderState.current.geometry.forEach((e=>e.destroy())),this._renderState.current=this._renderState.next,this._renderState.next=null,this._requestLabelUpdate()))}_flushUpdates(){let e=this._patches.maxSize;for(;this._patches.size&&e--;)this._updateMesh(),this._swap()}_updateBufferMesh(){const e=this._bufferPatches.peek();if(null==e||!e.clear||null===this._renderState.next)for(;this._bufferPatches.size;){const e=this._bufferPatches.dequeue();null!=e&&this._patchBuffer(e)}}_updateMesh(){const e=this._patches.dequeue();if(null!=e){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")){const t=e,r=t.addOrUpdate?.tileKeyOrigin,s=this.key.id===r?"SELF":r;let i="";for(let e=0;e<5;e++)i+=t.addOrUpdate?.data[e]?.records?.byteLength?1:0;console.debug(this.key.id,"FeatureTile:patch",`[clear: ${t.clear} origin: ${s}, end:${t.end} data:${i}]`)}!0===e.clear&&(null!=this._renderState.next&&(this._renderState.next.geometry.forEach((e=>e.destroy())),this._renderState.next=null),this._renderState.next={geometry:new Map,metrics:null},(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(this.key.id,"FeatureTile:_updateMesh - Creating new renderState")),this.requestRender(),this._patch(e),e.end&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(this.key.id,"FeatureTile:_updateMesh - Encountered end message"),this.ready(),this._swapRenderStates())}}_patch(e){(0,_Utils_js__WEBPACK_IMPORTED_MODULE_4__.forEachGeometryType)((t=>{this._remove(t,e.remove),this._insert(t,e,!1)}))}_patchBuffer(e){(0,_Utils_js__WEBPACK_IMPORTED_MODULE_4__.forEachGeometryType)((t=>{this._insert(t,e,!0)}))}_insert(e,t,s){try{const i=this._renderState.next??this._renderState.current,a=t.addOrUpdate?.data[e],h=i.geometry;if(null==a)return;h.has(e)||((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(this.key.id,`FeatureTile:_insert - Creating geometry buffer ${e}`),h.set(e,new _cpuMapped_Geometry_js__WEBPACK_IMPORTED_MODULE_7__.Geometry(e,this.stage))),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug(this.key.id,`FeatureTile:_insert - Inserting into ${e}, version=${t.addOrUpdate?.version} stride=${a.stride}`),h.get(e).insert(a,t.sort,s),e===_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL&&this._insertLabelMetrics(t.type,a.metrics,t.clear)}catch(i){}}_insertLabelMetrics(e,t,r){const s=this._renderState.next??this._renderState.current;if(null==t)return;const i=_collisions_MetricReader_js__WEBPACK_IMPORTED_MODULE_6__.MetricReader.from(t);if(null!=s.metrics){if("update"===e){const e=i.getCursor();for(;e.next();)s.metrics.delete(e.id)}s.metrics.link(i)}else s.metrics=i}_remove(e,t){const r=(this._renderState.next??this._renderState.current).geometry.get(e);t&&t.length&&r&&(r.remove(t),this._removeLabelMetrics(t))}_removeLabelMetrics(e){const{metrics:t}=this._renderState.next??this._renderState.current;if(null!=t&&e.length)for(const r of e)for(;t.delete(r););}_dropPatches(){const e=new Array;let t=!1;for(;this._patches.size;){const r=this._patches.dequeue();if(null==r)break;if(r.clear){if(t)break;t=!0}e.push(r)}this._patches.clear(),e.forEach((e=>this._patches.enqueue(e)))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WGLContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js");
/* harmony import */ var _brushes_WGLBrushInfo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./brushes/WGLBrushInfo.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushInfo.js");
/* harmony import */ var _brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./brushes/WGLBrushStencil.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushStencil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(),this._tileInfoView=e}renderChildren(e){this.sortChildren(n),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:"stencil",brushes:[_brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_4__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.MAP|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.HIGHLIGHT,target:()=>this.getStencilTarget()})),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-tiles-debug")&&n.push(r.registerRenderPass({name:"tileInfo",brushes:[_brushes_WGLBrushInfo_js__WEBPACK_IMPORTED_MODULE_3__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WGLRendererInfo: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../renderers/support/lengthUtils.js */ "./node_modules/@arcgis/core/renderers/support/lengthUtils.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _techniques_Technique_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./techniques/Technique.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/techniques/Technique.js");
/* harmony import */ var _techniques_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./techniques/utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/techniques/utils.js");
/* harmony import */ var _webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/capabilities.js */ "./node_modules/@arcgis/core/views/webgl/capabilities.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}class v{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.outsideLabelsVisible=!1,this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:"geographic",vvOpacityEnabled:!1},this._technique=_techniques_Technique_js__WEBPACK_IMPORTED_MODULE_4__.Technique}getSizeVVFieldStops(e){const t=this._vvSizeFieldStops;if(t)switch(t.type){case"static":return t;case"level-dependent":return t.levels[e]??(()=>{let i=1/0,s=0;for(const o in t.levels){const t=parseFloat(o),a=Math.abs(e-t);a<i&&(i=a,s=t)}if(i===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const a=2**((e-s)/2),l=t.levels[s],r=new Float32Array(l.values);return r[2]*=a,r[3]*=a,{sizes:l.sizes,values:r}})();default:return}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){null!=this._vvInfo&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,i){this._updateEffects(i),this._vvInfo=t,this._technique=(0,_techniques_utils_js__WEBPACK_IMPORTED_MODULE_5__.getTechniqueFromRenderer)(e),this.rendererSchema=this._technique.createOrUpdateRendererSchema(this.rendererSchema,e)}getVariation(){return{...this._technique.getVariation(this.rendererSchema),outsideLabelsVisible:this.outsideLabelsVisible,supportsTextureFloat:(0,_webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_6__.getWebGLCapabilities)("2d").supportsTextureFloat}}getVariationHash(){return this._technique.getVariationHash(this.rendererSchema)<<1|(this.outsideLabelsVisible?1:0)}_updateEffects(e){this.outsideLabelsVisible=null!=e&&e.excludedLabelsVisible}_updateVisualVariables(l,r){const o=this._vvMaterialParameters;if(o.vvOpacityEnabled=!1,o.vvSizeEnabled=!1,o.vvColorEnabled=!1,o.vvRotationEnabled=!1,!l)return;const v=l.size;if(v){if(o.vvSizeEnabled=!0,v.minMaxValue){const t=v.minMaxValue;let i,l;if((0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isDefined)(t.minSize)&&(0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isDefined)(t.maxSize))if((0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(t.minSize)&&(0,_Utils_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(t.maxSize))i=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(t.minSize),l=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(t.maxSize);else{const s=r.scale;i=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(n(s,t.minSize.stops)),l=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(n(s,t.maxSize.stops))}this.vvSizeMinMaxValue.set([t.minDataValue,t.maxDataValue,i,l])}if(v.scaleStops&&(this.vvSizeScaleStopsValue=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(n(r.scale,v.scaleStops.stops))),v.unitValue){const e=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(r.spatialReference)/_renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_2__.meterIn[v.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/r.resolution}v.fieldStops&&(this._vvSizeFieldStops=v.fieldStops)}const u=l.color;u&&(o.vvColorEnabled=!0,this.vvColorValues.set(u.values),this.vvColors.set(u.colors));const c=l.opacity;c&&(o.vvOpacityEnabled=!0,this.vvOpacityValues.set(c.values),this.vvOpacities.set(c.opacities));const h=l.rotation;h&&(o.vvRotationEnabled=!0,o.vvRotationType=h.type)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/MetricReader.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/MetricReader.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MetricReader: () => (/* binding */ e),
/* harmony export */   MetricReaderNode: () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const t=6,s=4294967296;class e{constructor(t){this._savedCursor=null,this._savedOffset=null,this._head=t,this._cursor=t}static from(t){const s=r.from(new Float32Array(t));return new e(s)}get id(){return this._cursor.id}get baseZoom(){return this._cursor.baseZoom}get anchorX(){return this._cursor.anchorX}get anchorY(){return this._cursor.anchorY}get directionX(){return this._cursor.directionX}get directionY(){return this._cursor.directionY}get size(){return this._cursor.size}get materialKey(){return this._cursor.materialKey}get boundsCount(){return this._cursor.boundsCount}computedMinZoom(){return this._cursor.computedMinZoom()}setComputedMinZoom(t){return this._cursor.setComputedMinZoom(t)}boundsComputedAnchorX(t){return this._cursor.boundsComputedAnchorX(t)}boundsComputedAnchorY(t){return this._cursor.boundsComputedAnchorY(t)}setBoundsComputedAnchorX(t,s){return this._cursor.setBoundsComputedAnchorX(t,s)}setBoundsComputedAnchorY(t,s){return this._cursor.setBoundsComputedAnchorY(t,s)}boundsX(t){return this._cursor.boundsX(t)}boundsY(t){return this._cursor.boundsY(t)}boundsWidth(t){return this._cursor.boundsWidth(t)}boundsHeight(t){return this._cursor.boundsHeight(t)}link(t){if(null!=t._head)return this._cursor.link(t._head)}getCursor(){return this.copy()}copy(){const t=new e(this._head?.copy());if(!t._head)return t;let s=t._head,r=t._head._link;for(;r;)s._link=r.copy(),s=r,r=s._link;return t}peekId(){return this._cursor.peekId()??this._cursor._link.peekId()}nextId(){const t=this.id;for(;t===this.id;)if(!this.next())return!1;return!0}save(){this._savedCursor=this._cursor,this._savedOffset=this._cursor._offset}restore(){this._savedCursor&&(this._cursor=this._savedCursor),null!=this._savedOffset&&(this._cursor._offset=this._savedOffset)}next(){if(!this._cursor)return!1;if(!this._cursor.next()){if(!this._cursor._link)return!1;this._cursor=this._cursor._link,this._cursor._offset=0}return!0}lookup(t){for(this._cursor=this._head;this._cursor&&!this._cursor.lookup(t);){if(!this._cursor._link)return!1;this._cursor=this._cursor._link}return!!this._cursor}delete(t){let s=this._head,e=null;for(;s;){if(s.delete(t))return s.isEmpty()&&null!=e&&(e._link=s._link),!0;e=s,s=s._link}return!1}}class r{constructor(t){this._offset=-1,this._link=null,this._count=0,this._deletedCount=0,this._offsets={instance:null},this._buffer=t}static from(t){return new r(new Float32Array(t))}isEmpty(){return this._deletedCount===this.count}get count(){return this._count||(this._count=this._computeCount()),this._count}get id(){return this._buffer[this._offset]}set id(t){this._buffer[this._offset]=t}get baseZoom(){return this._buffer[this._offset+1]}get anchorX(){return this._buffer[this._offset+2]}get anchorY(){return this._buffer[this._offset+3]}get directionX(){return this._buffer[this._offset+4]}get directionY(){return this._buffer[this._offset+5]}get size(){return this._buffer[this._offset+6]}get materialKey(){return this._buffer[this._offset+7]}computedMinZoom(){return this._buffer[this._offset+8]}setComputedMinZoom(t){this._buffer[this._offset+8]=t}get boundsCount(){return this._buffer[this._offset+9]}boundsComputedAnchorX(s){return this._buffer[this._offset+10+s*t]}boundsComputedAnchorY(s){return this._buffer[this._offset+10+s*t+1]}setBoundsComputedAnchorX(s,e){this._buffer[this._offset+10+s*t]=e}setBoundsComputedAnchorY(s,e){this._buffer[this._offset+10+s*t+1]=e}boundsX(s){return this._buffer[this._offset+10+s*t+2]}boundsY(s){return this._buffer[this._offset+10+s*t+3]}boundsWidth(s){return this._buffer[this._offset+10+s*t+4]}boundsHeight(s){return this._buffer[this._offset+10+s*t+5]}link(t){let s=this;for(;s._link;)s=s._link;s._link=t}getCursor(){return this.copy()}copy(){const t=new r(this._buffer);return t._link=this._link,t._offset=this._offset,t._deletedCount=this._deletedCount,t._offsets=this._offsets,t._count=this._count,t}peekId(){const s=this._offset+10+this.boundsCount*t+0;return s>=this._buffer.length?0:this._buffer[s]}next(){let e=0;for(;this._offset<this._buffer.length&&e++<100&&(-1===this._offset?this._offset=0:this._offset+=10+this.boundsCount*t,this.id===s););return this.id!==s&&this._offset<this._buffer.length}delete(t){const s=this._offset,e=this.lookup(t);if(e)for(this.id=4294967295,++this._deletedCount;this.next()&&this.id===t;)this.id=4294967295,++this._deletedCount;return this._offset=s,e}lookup(t){const e=this._offset;if(null==this._offsets.instance){this._offsets.instance=new Map;const t=this.copy();t._offset=-1;let s=0;for(;t.next();)t.id!==s&&(this._offsets.instance.set(t.id,t._offset),s=t.id)}return!!this._offsets.instance.has(t)&&(this._offset=this._offsets.instance.get(t),this.id!==s||(this._offset=e,!1))}_computeCount(){const t=this._offset;let s=0;for(this._offset=-1;this.next();)s++;return this._offset=t,s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Buffer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Buffer.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Buffer: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _BufferPool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../BufferPool.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/BufferPool.js");
/* harmony import */ var _FreeList_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FreeList.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/FreeList.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const h=1.25,n=32767,u=n<<16|n;class a{constructor(t,e,r,s){const h=_BufferPool_js__WEBPACK_IMPORTED_MODULE_1__.TypedBuffer.create(e*r*Uint32Array.BYTES_PER_ELEMENT,s);this.size=e,this.strideInt=r,this.bufferType=t,this.dirty={start:1/0,end:0},this._gpu=null,this._cpu=h,this.clear()}get elementSize(){return this._cpu.length/this.strideInt}get invalidated(){return this.bufferSize>0&&!this._gpu}get invalidatedComputeBuffer(){return this.bufferSize>0&&!this._gpuComputeTriangles}invalidate(){this._invalidateTriangleBuffer(),this._gpu?.dispose(),this._gpu=null}_invalidateTriangleBuffer(){this._gpuComputeTriangles?.dispose(),this._gpuComputeTriangles=null}destroy(){this._gpu?.dispose(),this._gpuComputeTriangles?.dispose(),this._cpu?.destroy(),this._cpu2?.destroy()}clear(){this.dirty.start=1/0,this.dirty.end=0,this.freeList=new _FreeList_js__WEBPACK_IMPORTED_MODULE_2__.FreeList({start:0,end:this._cpu.length/this.strideInt}),this.fillPointer=0}ensure(t){if(this.maxAvailableSpace()>=t)return;if(t*this.strideInt>this._cpu.length-this.fillPointer){this.invalidate();const i=this._cpu.length/this.strideInt,e=Math.round((i+t)*h),r=e*this.strideInt;this._cpu.expand(r*Uint32Array.BYTES_PER_ELEMENT),this.freeList.free(i,e-i)}}set(t,i){this._cpu.array[t]!==i&&(this._cpu.array[t]=i,this.dirty.start=Math.min(t,this.dirty.start),this.dirty.end=Math.max(t,this.dirty.end))}getGPUBuffer(t,i=!1){if(!this.bufferSize)return null;if(i){if("index"!==this.bufferType)throw new Error("Tired to get triangle buffer, but target is not an index buffer");return null==this._gpuComputeTriangles&&(this._gpuComputeTriangles=this._createComputeBuffer(t)),this._gpuComputeTriangles}return null==this._gpu&&(this._gpu=this._createBuffer(t)),this._gpu}getCPUBuffer(){if(!this._cpu2){const t=this._cpu.slice();this._cpu2=t}return this._cpu2.length!==this._cpu.length&&this._cpu2.expand(this._cpu.length*this._cpu.array.BYTES_PER_ELEMENT),this._cpu2.set(this._cpu),this._cpu2}get bufferSize(){return this._cpu.length/this.strideInt}maxAvailableSpace(){return this.freeList.maxAvailableSpace()}insert(i,e,r,s){const h=r*this.strideInt;if(!h)return 0;const n=e*this.strideInt*Uint32Array.BYTES_PER_ELEMENT,u=new Uint32Array(i,n,h),a=this.freeList.firstFit(r);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.assertIsSome)(a,"First fit region must be defined");const d=a*this.strideInt,f=h,p=d/this.strideInt-e;if(0!==s)for(let t=0;t<u.length;t++)u[t]+=s;return this._cpu.array.set(u,d),this.dirty.start=Math.min(this.dirty.start,d),this.dirty.end=Math.max(this.dirty.end,d+f),this.fillPointer=Math.max(this.fillPointer,d+f),p}free(t,i,e){const r=t*this.strideInt,s=(t+i)*this.strideInt;if(!0===e)for(let h=t;h!==t+i;h++)this._cpu.array[h*this.strideInt]=u;this.dirty.start=Math.min(this.dirty.start,r),this.dirty.end=Math.max(this.dirty.end,s),this.freeList.free(t,i)}upload(){if(this.dirty.end){if(this._invalidateTriangleBuffer(),null==this._gpu)return this.dirty.start=1/0,void(this.dirty.end=0);this._gpu.setSubData(this._cpu.array,this.dirty.start,this.dirty.start,this.dirty.end),this.dirty.start=1/0,this.dirty.end=0}}_createBuffer(t){const i=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.Usage.DYNAMIC_DRAW;return"index"===this.bufferType?_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createIndex(t,i,this._cpu.array):_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createVertex(t,i,this._cpu.array)}_createComputeBuffer(t){const i=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.Usage.DYNAMIC_DRAW,e=new Uint32Array(this.fillPointer/3);for(let r=0;r<this.fillPointer;r+=3)e[r/3]=this._cpu.array[r];return _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createIndex(t,i,e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Geometry.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Geometry.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Geometry: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _FeatureDisplayList_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../FeatureDisplayList.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/FeatureDisplayList.js");
/* harmony import */ var _Buffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Buffer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Buffer.js");
/* harmony import */ var _DisplayRecordReader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DisplayRecordReader.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/DisplayRecordReader.js");
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../webgl/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=0,f=1;class o{constructor(e,t){this._vaos=new Map,this._indicesInvalid=!1,this.geometryType=e,this._stage=t}destroy(){for(const[e,t]of this._vaos)t?.disposeVAOOnly();this._indexBuffer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.destroyMaybe)(this._indexBuffer),this._vertexBuffer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.destroyMaybe)(this._vertexBuffer)}get records(){return this._records}insert(e,t,i){if(!e.records.byteLength)return;const n=e.stride;if(this._vertexBuffer&&this._indexBuffer){const r=e.indices.byteLength/4,i=e.vertices.byteLength/n;this._indexBuffer.ensure(r),this._vertexBuffer.ensure(i);const{vertices:f,indices:o}=e,d=_DisplayRecordReader_js__WEBPACK_IMPORTED_MODULE_3__.DisplayRecordReader.from(e.records),h=this._vertexBuffer.insert(f,0,f.byteLength/n,0),u=this._indexBuffer.insert(o,0,o.byteLength/4,h);if(d.forEach((e=>{e.indexFrom+=u,e.vertexFrom+=h})),this._records.link(d),t)this._indicesInvalid=!0;else if(this._displayList){const e=d.getCursor();for(;e.next();)this._displayList.addRecord(e)}}else{const i=e.indices.byteLength/4,f=e.vertices.byteLength/n,o=n/Uint32Array.BYTES_PER_ELEMENT,d=this._stage.bufferPool;this._records=_DisplayRecordReader_js__WEBPACK_IMPORTED_MODULE_3__.DisplayRecordReader.from(e.records),this._indexBuffer=new _Buffer_js__WEBPACK_IMPORTED_MODULE_2__.Buffer("index",i,1,d),this._vertexBuffer=new _Buffer_js__WEBPACK_IMPORTED_MODULE_2__.Buffer("vertex",f,o,d),this._indexBuffer.insert(e.indices,0,e.indices.byteLength/4,0),this._vertexBuffer.insert(e.vertices,0,e.vertices.byteLength/n,0),t&&(this._indicesInvalid=!0)}}remove(e){if(null!=this._records)for(const t of e){const e=this._records.getCursor();if(!e.lookup(t))continue;const r=e.indexFrom,s=e.vertexFrom;let i=e.indexCount,n=e.vertexCount;for(;e.next()&&e.id===t;)i+=e.indexCount,n+=e.vertexCount;this._indexBuffer.free(r,i),this._vertexBuffer.free(s,n,!0),this._records.delete(t)}}getVAO(e,t,r,s){if(!this._vertexBuffer||!this._indexBuffer||null==this._records||!this._vertexBuffer.bufferSize)return null;const o=s?f:n;let d=this._vaos.get(o);(this._vertexBuffer.invalidated||this._indexBuffer.invalidated||s&&this._indexBuffer.invalidatedComputeBuffer)&&(d?.disposeVAOOnly(),d=null),this._vertexBuffer.upload(),this._indexBuffer.upload();const h=this._indexBuffer.getGPUBuffer(e,1===o),u=this._vertexBuffer.getGPUBuffer(e);return d||(d=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_4__.VertexArrayObject(e,r,t,{geometry:u},h),this._vaos.set(o,d)),d}forEachCommand(e){if(null!=this._records){if(this._sortIndices(this._records),!this._displayList){const e=this._cursorIndexOrder;this._displayList=_FeatureDisplayList_js__WEBPACK_IMPORTED_MODULE_1__.FeatureDisplayList.from(this,this.geometryType,this._records.getCursor(),e)}this._displayList.forEach(e)}}_sortIndices(e){const t=!!this._indexBuffer.bufferSize;if(!this._indicesInvalid)return;this._indicesInvalid=!1;let r=0;const s=e.getCursor(),i=[],n=[],f=[];for(;s.next();)n.push(s.index),f.push(s.sortKey),i.push(s.id);n.sort(((e,t)=>{const r=f[t],s=f[e];return s===r?i[t]-i[e]:r-s}));const o=e.getCursor(),d=t?this._indexBuffer.getCPUBuffer():this._vertexBuffer.getCPUBuffer();for(const h of n){if(!o.seekIndex(h))throw new Error("Expected to find index");if(t){const{indexFrom:e,indexCount:t}=o;o.indexFrom=r;for(let s=0;s<t;s++)this._indexBuffer.set(r++,d.array[e+s])}else{const{vertexFrom:e,vertexCount:t}=o,s=this._vertexBuffer.strideInt,i=e*s,n=i+t*s;o.vertexFrom=r/s;for(let f=i;f<n;f++)this._vertexBuffer.set(r++,d.array[f])}}this._cursorIndexOrder=n,this._displayList=null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ W)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _AggregateGraphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../AggregateGraphic.js */ "./node_modules/@arcgis/core/AggregateGraphic.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_effects_FeatureEffectView_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../layers/effects/FeatureEffectView.js */ "./node_modules/@arcgis/core/layers/effects/FeatureEffectView.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../layers/support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _rest_support_AggregateFeatureSet_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../rest/support/AggregateFeatureSet.js */ "./node_modules/@arcgis/core/rest/support/AggregateFeatureSet.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./features/schemaUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/schemaUtils.js");
/* harmony import */ var _features_tileRenderers_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./features/tileRenderers.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers.js");
/* harmony import */ var _features_support_rendererUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./features/support/rendererUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/rendererUtils.js");
/* harmony import */ var _support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./support/clusterUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/support/clusterUtils.js");
/* harmony import */ var _support_FeatureCommandQueue_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./support/FeatureCommandQueue.js */ "./node_modules/@arcgis/core/views/2d/layers/support/FeatureCommandQueue.js");
/* harmony import */ var _support_FeatureLayerProxy_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./support/FeatureLayerProxy.js */ "./node_modules/@arcgis/core/views/2d/layers/support/FeatureLayerProxy.js");
/* harmony import */ var _support_visualVariableSimpleUtils_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./support/visualVariableSimpleUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/support/visualVariableSimpleUtils.js");
/* harmony import */ var _tiling_TileManager_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../tiling/TileManager.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileManager.js");
/* harmony import */ var _layers_FeatureLayerView_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../layers/FeatureLayerView.js */ "./node_modules/@arcgis/core/views/layers/FeatureLayerView.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../webgl/capabilities.js */ "./node_modules/@arcgis/core/views/webgl/capabilities.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function D(e){return e&&"openPorts"in e}function M(e){for(const t of e){const e="featureReduction"in t&&t.featureReduction&&"labelingInfo"in t.featureReduction?t.featureReduction:void 0,r=[...t.labelingInfo||[],...e?.labelingInfo||[]];if(!t.labelsVisible||!r.length)continue;if(r.some((e=>"none"===e.deconflictionStrategy)))return!0}return!1}function G(e){return t=>(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_14__.pt2px)((0,_support_visualVariableSimpleUtils_js__WEBPACK_IMPORTED_MODULE_32__.getSizeForValueSimple)(t,e))}function B(e){const t=null!=e&&"visualVariables"in e&&e.visualVariables;if(!t)return null;for(const r of t)if("size"===r.type)return G(r);return null}const $="esri.views.2d.layers.FeatureLayerView2D";function K(e){switch(e.geometryType){case"point":return"esriGeometryPoint";case"polyline":return"esriGeometryPolyline";case"polygon":case"multipatch":return"esriGeometryPolygon";case"multipoint":return"esriGeometryMultipoint";default:return _core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger($).error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_6__["default"]("unsupported-geometry-type",`Geometry type of ${e.geometryType} is not supported`)),null}}let Z=class extends((0,_layers_FeatureLayerView_js__WEBPACK_IMPORTED_MODULE_34__["default"])((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_36__["default"])((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_25__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_35__["default"])))){constructor(){super(...arguments),this._pipelineIsUpdating=!0,this._commandsQueue=new _support_FeatureCommandQueue_js__WEBPACK_IMPORTED_MODULE_30__["default"]({process:e=>{switch(e.type){case"processed-edit":return this._doEdit(e);case"refresh":return this._doRefresh(e.dataChanged);case"update":return this._doUpdate()}}}),this._visibilityOverrides=new Set,this._highlightIds=new Map,this._updateHighlight=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_12__.debounce)((async()=>this._proxy.setHighlight(Array.from(this._highlightIds.keys())))),this._uploadsLocked=!1,this._needsClusterSizeUpdate=!1,this.featureEffectView=new _layers_effects_FeatureEffectView_js__WEBPACK_IMPORTED_MODULE_18__["default"],this._lastDefinitionExpression=null}destroy(){this._updateClusterSizeTask?.remove(),this._proxy?.destroy(),this._commandsQueue.destroy()}initialize(){this.addResolvingPromise(Promise.all([this._initProxy(),this._initServiceOptions()])),this.addHandles([this.on("valueRangesChanged",(e=>{this._set("_aggregateValueRanges",e.valueRanges)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.watch)((()=>this.featureEffect),(e=>{this.featureEffectView.featureEffect=e}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.syncAndInitial)],"constructor"),this.featureEffectView.endTransitions()}async _initProxy(){const e=this.layer;if("isTable"in e&&e.isTable)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_6__["default"]("featurelayerview:table-not-supported","table feature layer can't be displayed",{layer:this.layer});if(("feature"===e.type||"subtype-group"===e.type)&&!(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_20__.getEffectiveLayerCapabilities)(e)?.operations.supportsQuery)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_6__["default"]("featurelayerview:query-not-supported","layer view requires a layer with query capability",{layer:e});this._proxy&&this._proxy.destroy();const t=this._createClientOptions();return this._set("_proxy",new _support_FeatureLayerProxy_js__WEBPACK_IMPORTED_MODULE_31__["default"]({client:t})),this._proxy.when()}async _initServiceOptions(){return this._set("_serviceOptions",await this._createServiceOptions()),this._serviceOptions}get _effectiveFeatureReduction(){if(!("featureReduction"in this.layer))return null;const e=this.layer.featureReduction;return e&&(!("maxScale"in e)||!e.maxScale||e.maxScale<this.view.scale)?e:null}get orderByFields(){return"stream"!==this._serviceOptions?.type?this._serviceOptions?.orderByFields:void 0}get labelsVisible(){const e="subtype-group"===this.layer.type?this.layer.sublayers.items:[this.layer];return!this.suspended&&e.some((e=>e.labelingInfo&&e.labelsVisible))}get labelingCollisionInfos(){const{tileRenderer:e,layer:t}=this;if(null==e)return null;const r="subtype-group"===this.layer.type?this.layer.sublayers.items:[this.layer],i=t.geometryType,s=!M(r),a={};if("subtype-group"!==t.type){if("heatmap"===e?.type)return null;const r=B(t.renderer);a[0]=r}return[{tileRenderer:e,vvEvaluators:a,deconflictionEnabled:s,geometryType:i,visible:!this.suspended}]}get queryMode(){return this._serviceOptions?.type}get renderingConfigHash(){if(!this.layer)return null;const e=this.availableFields,t=this.layer,r=this.view.floors,{definitionExpression:i}=t,s="subtype-group"!==this.layer.type&&this.layer.labelsVisible&&this.layer.labelingInfo,a="renderer"in t&&t.renderer,n="gdbVersion"in t?t.gdbVersion:void 0,o="historicMoment"in t?t.historicMoment?.getTime():void 0,{timeExtent:l}=this,u="customParameters"in t?JSON.stringify(t.customParameters):void 0,d="apiKey"in t?t.apiKey:void 0,h="stream"===t.type?`${JSON.stringify(t.geometryDefinition)}${t.definitionExpression}`:null,p=JSON.stringify(this.clips),c=this._effectiveFeatureReduction?.toJSON(),y="orderBy"in this.layer&&JSON.stringify(this.layer.orderBy),g="sublayers"in this.layer&&this.layer.sublayers.items.reduce(((e,t)=>e+`${t.visible?1:0}.${JSON.stringify(t.renderer)}.${t.labelsVisible}\n.${JSON.stringify(t.labelingInfo)}`),""),f="subtypeCode"in this.layer&&this.layer.subtypeCode;return JSON.stringify({orderBy:y,sublayerHash:g,subtypeCode:f,filterHash:null!=this.filter&&this.filter.toJSON(),effectHash:null!=this.featureEffect&&this.featureEffect.toJSON(),streamFilter:h,gdbVersion:n,definitionExpression:i,historicMoment:o,availableFields:e,renderer:a,labelingInfo:s,timeExtent:l,floors:r,clipsHash:p,featureReduction:c,customParameters:u,apiKey:d,timeZone:this.view.timeZone})}highlight(e){let t;e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_3__["default"]?t=[e.getObjectId()]:"number"==typeof e||"string"==typeof e?t=[e]:_core_Collection_js__WEBPACK_IMPORTED_MODULE_5__["default"].isCollection(e)&&e.length>0?t=e.map((e=>e?.getObjectId())).toArray():Array.isArray(e)&&e.length>0&&(t="number"==typeof e[0]||"string"==typeof e[0]?e:e.map((e=>e?.getObjectId())));const a=t?.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__.isSome);return a?.length?(this._addHighlight(a),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_7__.makeHandle)((()=>this._removeHighlight(a)))):(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_7__.makeHandle)()}hasHighlight(){return!!this._highlightIds.size}async hitTest(e,i){if(!this.tileRenderer)return null;const s=await this.tileRenderer.hitTest(i);if(0===s.length)return null;(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("featurelayer-force-marker-text-draw-order")&&s.sort(((e,t)=>e-t));const{features:a,aggregates:n}=await this._proxy.getFeatures(s);return[...n.map((r=>this._createGraphicHit(e,_AggregateGraphic_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(r)))),...a.map((t=>this._createGraphicHit(e,_Graphic_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(t))))]}queryStatistics(){return this._proxy.queryStatistics()}async querySummaryStatistics(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.querySummaryStatistics(this._cleanUpQuery(e),i,r)}async queryAggregateSummaryStatistics(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryAggregateSummaryStatistics(this._cleanUpAggregateQuery(e),i,r)}async queryUniqueValues(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryUniqueValues(this._cleanUpQuery(e),i,r)}async queryAggregateUniqueValues(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryAggregateUniqueValues(this._cleanUpAggregateQuery(e),i,r)}async queryClassBreaks(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryClassBreaks(this._cleanUpQuery(e),i,r)}async queryAggregateClassBreaks(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryAggregateClassBreaks(this._cleanUpAggregateQuery(e),i,r)}async queryHistogram(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryHistogram(this._cleanUpQuery(e),i,r)}async queryAggregateHistogram(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryAggregateHistogram(this._cleanUpAggregateQuery(e),i,r)}queryFeatures(e,t){return this.queryFeaturesJSON(e,t).then((e=>{const t=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_22__["default"].fromJSON(e);return t.features.forEach((e=>this._setLayersForFeature(e))),t}))}queryVisibleFeatures(e,t){return this._proxy.queryVisibleFeatures(this._cleanUpQuery(e),t).then((e=>{const t=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_22__["default"].fromJSON(e);return t.features.forEach((e=>this._setLayersForFeature(e))),t}))}async queryAggregates(e,t){const r=await this._proxy.queryAggregates(this._cleanUpAggregateQuery(e),t),i=_rest_support_AggregateFeatureSet_js__WEBPACK_IMPORTED_MODULE_21__["default"].fromJSON(r);return i.features.forEach((e=>this._setLayersForFeature(e))),i}queryAggregateIds(e,t){return this._proxy.queryAggregateIds(this._cleanUpAggregateQuery(e),t)}queryAggregateCount(e,t){return this._proxy.queryAggregateCount(this._cleanUpAggregateQuery(e),t)}queryAggregateJSON(e,t){return this._proxy.queryAggregates(this._cleanUpAggregateQuery(e),t)}queryFeaturesJSON(e,t){return this._proxy.queryFeatures(this._cleanUpQuery(e),t)}queryObjectIds(e,t){return this._proxy.queryObjectIds(this._cleanUpQuery(e),t)}queryFeatureCount(e,t){return this._proxy.queryFeatureCount(this._cleanUpQuery(e),t)}queryExtent(e,t){return this._proxy.queryExtent(this._cleanUpQuery(e),t).then((e=>({count:e.count,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_38__["default"].fromJSON(e.extent)})))}setVisibility(e,t){t?this._visibilityOverrides.delete(e):this._visibilityOverrides.add(e),this._update()}update(e){if(!this._tileStrategy||!this.tileRenderer)return;const{hasMissingTiles:t,added:r,removed:i}=this._tileStrategy.update(e);(r.length||i.length)&&this._proxy.updateTiles({added:r,removed:i}),t&&this.requestUpdate(),this.notifyChange("updating")}attach(){this.view.timeline.record(`${this.layer.title} (FeatureLayer) Attach`),this._tileStrategy=new _tiling_TileManager_js__WEBPACK_IMPORTED_MODULE_33__.TileManager({acquireTile:e=>this._acquireTile(e),releaseTile:e=>this._releaseTile(e),tileInfoView:this.view.featuresTilingScheme,buffer:0}),this.addAttachHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.watch)((()=>this.renderingConfigHash),(()=>this._update()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.initial)),"stream"!==this.layer.type&&this.addAttachHandles(this.layer.on("edits",(e=>this._edit(e))))}detach(){this._commandsQueue.clear(),this._proxy?.stop(),this.container.removeAllChildren(),this.tileRenderer?.uninstall(this.container),this.tileRenderer=null,this._tileStrategy=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_11__.destroyMaybe)(this._tileStrategy),this._tileRendererHash=null}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}isUpdating(){const e="renderer"in this.layer&&null!=this.layer.renderer,t=this._commandsQueue.updating,r=null!=this._updatingRequiredFieldsPromise,i=!this._proxy||!this._proxy.isReady,s=this._pipelineIsUpdating,a=null==this.tileRenderer||this.tileRenderer?.updating,n=e&&(t||r||i||s||this.dataUpdating||a);return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("esri-2d-log-updating")&&console.log(`Updating FLV2D (${this.layer.id}): ${n}\n  -> hasRenderer ${e}\n  -> hasPendingCommand ${t}\n  -> updatingRequiredFields ${r}\n  -> updatingProxy ${i}\n  -> updatingPipeline ${s}\n  -> updatingData: ${this.dataUpdating}\n  -> updatingTileRenderer ${a}\n`),n}_createClientOptions(){return{setUpdating:e=>{this._set("_pipelineIsUpdating",e)},setDataUpdating:e=>{this._set("dataUpdating",e)},emitEvent:e=>{this.emit(e.name,e.event)}}}async _detectQueryMode(e){const t="path"in e,{layer:r}=this,i="editingInfo"in r&&r.editingInfo?.lastEditDate,s="refreshInterval"in r&&!!r.refreshInterval,a=!i&&s,n=(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_20__.getEffectiveLayerCapabilities)(r);if(t&&("feature"===r.type||"subtype-group"===r.type)&&"point"===r.geometryType&&n?.query.supportsPagination&&!n?.operations.supportsEditing&&!a&&(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("featurelayer-snapshot-enabled"))try{const e=await r.queryFeatureCount();if(e<=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("featurelayer-snapshot-point-min-threshold"))return{mode:"snapshot",featureCount:e};const t=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("featurelayer-snapshot-point-max-threshold"),i=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("featurelayer-snapshot-point-coverage"),s=this.view.extent,a=r.fullExtent,n=a?.clone().intersection(s),o=null!=n?n.width*n.height:0,l=a?.width*a?.height;if(e<=t&&(0===l?0:o/l)>=i)return{mode:"snapshot",featureCount:e}}catch(o){_core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).warn("mapview-feature-layer","Encountered an error when querying for featureCount",{error:o})}return{mode:"on-demand"}}async _createServiceOptions(){const e=this.layer;if("stream"===e.type)return null;const t=(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_20__.getEffectiveLayerCapabilities)(e),{capabilities:r,objectIdField:i}=e,s=e.fieldsIndex.toJSON(),a=s.fields,n=null!=e.fullExtent?e.fullExtent.toJSON():null,l=K(e),u="timeInfo"in e&&e.timeInfo?.toJSON()||null,d=e.spatialReference?e.spatialReference.toJSON():null,h="feature"===e.type?e.globalIdField:null;let p;"ogc-feature"===e.type?p=e.source.getSource():D(e.source)?p=await e.source.openPorts():e.parsedUrl&&(p=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_9__.clone)(e.parsedUrl),"dynamicDataSource"in e&&e.dynamicDataSource&&(p.query={layer:JSON.stringify({source:e.dynamicDataSource})}));const c="datesInUnknownTimezone"in this.layer&&this.layer.datesInUnknownTimezone,y=("subtypeField"in this.layer?this.layer.subtypeField:null)??null,{mode:g,featureCount:f}=await this._detectQueryMode(p);let m=this.layer.objectIdField;if("feature"===this.layer.type&&null!=this.layer.orderBy&&this.layer.orderBy.length){const e=!this.layer.orderBy[0].valueExpression&&this.layer.orderBy[0].field;e&&(m=e)}return{type:g,typeIdField:"typeIdField"in e&&e.typeIdField||void 0,types:"types"in e&&e.types?.map((e=>e.toJSON()))||void 0,timeReferenceUnknownClient:c,subtypeField:y,featureCount:f,globalIdField:h,maxRecordCount:r.query.maxRecordCount,tileMaxRecordCount:r.query.tileMaxRecordCount,capabilities:r,effectiveCapabilities:t,fields:a,fieldsIndex:s,fullExtent:n,geometryType:l,objectIdField:i,source:p,timeInfo:u,spatialReference:d,orderByFields:m}}async _createMemoryServiceOptions(e){const t=await e.openPorts();return{...this._createServiceOptions(),type:"memory",source:t}}_cleanUpQuery(e){const t=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_23__["default"].from(e)||this.createQuery();return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t}_cleanUpAggregateQuery(e){const t=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_23__["default"].from(e)||this.createAggregateQuery();return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t}async _update(){return this._commandsQueue.push({type:"update"})}async _edit(e){if(this.suspended)return void this._clearTiles();return this._validateEdit(e)?this._commandsQueue.push({type:"edit",edits:e}):void 0}async doRefresh(e){if(this.attached&&this._tileStrategy.tileKeys().length)return this.suspended&&e?void this._clearTiles():this._commandsQueue.push({type:"refresh",dataChanged:e})}_clearTiles(){this._tileStrategy.tileKeys().length&&(this._proxy.updateTiles({added:[],removed:this._tileStrategy.tileKeys()}),this._tileStrategy.clear(),this.requestUpdate(),this._commandsQueue.clear(),this._update())}_validateEdit(e){const t="globalIdField"in this.layer&&this.layer.globalIdField,r=e.deletedFeatures.some((e=>-1===e.objectId||!e.objectId)),i=t&&this.availableFields.includes(t);return r&&!i?(_core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_6__["default"]("mapview-apply-edits",`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected on the map`)),null):e}async _doUpdate(){try{if(this.destroyed||!this._hasRequiredSupport(this.layer)||!this._tileStrategy)return;const{featureEffectView:t,filter:r}=this;if(await this._updateRequiredFields(),this.destroyed)return;const{renderer:i}=this._getEffectiveRenderer();this._set("_effectiveRenderer",i);const s=this._createSchemaConfig(),a=this._createConfiguration(s,r,t.filter),n=this._lastDefinitionExpression!==a.schema.source.definitionExpression;this._lastDefinitionExpression=a.schema.source.definitionExpression;const o=a.schema.tileRenderer,u=this._createTileRendererHash(o);if("snapshot"===this._serviceOptions.type&&(a.schema.source.initialFeatureCount=this._serviceOptions.featureCount),u!==this._tileRendererHash){this._initTileRenderer(o,i);const e=this.layer,t="stream"===e.type?await this._initServiceOptions():this._serviceOptions;this.tileRenderer.onConfigUpdate(i),"stream"!==e.type&&D(e.source)&&(t.source=await e.source.openPorts());const r={added:this._tileStrategy.tileKeys(),removed:[]};(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Proxy startup"),await this._proxy.startup(this.view.featuresTilingScheme,a,t,r),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Finished proxy startup"),this.hasHighlight()&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Updating highlight"),await this._proxy.setHighlight(Array.from(this._highlightIds.keys())),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Finished highlight update")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: onConfigUpdate start"),this.tileRenderer.onConfigUpdate(i),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: onConfigUpdate end")}else{"snapshot"===this._serviceOptions.type&&n&&(a.schema.source.changedFeatureCount=await this.layer.queryFeatureCount()),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Updating proxy");const t=await this._proxy.update(a);(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Finished proxy update"),(t.mesh||t.targets?.aggregate)&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Locking GPU Uploads"),this._lockGPUUploads());try{(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Applying update to proxy"),await this._proxy.applyUpdate(t),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_8__["default"])("esri-2d-update-debug")&&console.debug("FeatureLayerView2D: Finished applying update to proxy")}catch(e){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_12__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).error(e)}(t.mesh||t.targets?.aggregate)&&this._unlockGPUUploads(),this.tileRenderer.onConfigUpdate(i),this._updateClusterSizeVariable(),this._forceAttributeTextureUpload()}this._tileRendererHash=u,this.tileRenderer.invalidateLabels(),this.requestUpdate()}catch(e){}}async _doEdit(e){try{await this._proxy.onEdits(e)}catch(t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_12__.isAbortError)(t),0}}async _doRefresh(e){this._lockGPUUploads();try{let t;e&&"snapshot"===this.queryMode&&"queryFeatureCount"in this.layer&&(t=await this.layer.queryFeatureCount()),await this._proxy.refresh({dataChanged:e,featureCount:t})}catch(t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_12__.isAbortError)(t),0}this._unlockGPUUploads(),this._effectiveFeatureReduction&&this._updateClusterSizeVariable()}_updateClusterSizeVariable(){this._needsClusterSizeUpdate&&(this.tileRenderer.onConfigUpdate(this._effectiveRenderer),this._needsClusterSizeUpdate=!1)}_createUpdateClusterSizeTask(e,t){return (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_13__.watch)((()=>this._aggregateValueRanges),(r=>{this._updateClusterEffectiveRendererSizeVariable(e,t,r),this._needsClusterSizeUpdate=!0,this._uploadsLocked||this._updateClusterSizeVariable()}))}async _updateClusterEffectiveRendererSizeVariable(e,t,r){if(e.dynamicClusterSize&&"visualVariables"in e&&e.visualVariables){const i=(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_29__.findSizeVV)(e.visualVariables);if(null!=i&&"cluster_count"===i.field){const s=e.visualVariables.indexOf(i);e.visualVariables[s]=(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_29__.createClusterCountSizeVariable)(t,r);const a=e.clone();a.dynamicClusterSize=!0,this._set("_effectiveRenderer",a)}}}_getEffectiveRenderer(){const e=this.layer,t="renderer"in e?e.renderer:null,r=this._effectiveFeatureReduction;if(this._updateClusterSizeTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_11__.removeMaybe)(this._updateClusterSizeTask),r&&"renderer"in r&&r.renderer&&!r.renderer.authoringInfo?.isAutoGenerated){const e=r.fields;if("cluster"===r.type){const{renderer:t,didInject:i}=(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_29__.injectDynamicLevelDependentSizeVisualVariable)(r.renderer,r,this._aggregateValueRanges);return i&&(this._updateClusterSizeTask=this._createUpdateClusterSizeTask(t,r)),{renderer:t,aggregateFields:e,featureReduction:r}}return{renderer:r.renderer,aggregateFields:e,featureReduction:r}}if(r&&"cluster"===r.type&&t&&(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_29__.isClusterCompatibleRenderer)(t)){const e=r,i=[],s=(0,_support_clusterUtils_js__WEBPACK_IMPORTED_MODULE_29__.createClusterRenderer)(i,t,e,this._aggregateValueRanges,!0);return this._updateClusterSizeTask=this._createUpdateClusterSizeTask(s,e),{renderer:s,aggregateFields:i,featureReduction:r}}return{renderer:t,aggregateFields:[],featureReduction:null}}_acquireTile(e){const t=this.tileRenderer.acquireTile(e);return t.once("attach",(()=>{this.requestUpdate()})),t}_releaseTile(e){this.tileRenderer.releaseTile(e)}_initTileRenderer(e,t){const r=(0,_features_tileRenderers_js__WEBPACK_IMPORTED_MODULE_27__.createOrReuseTileRenderer)(e,{layerView:this,tileInfoView:this.view.featuresTilingScheme,layer:this.layer});return this.tileRenderer&&(this._tileStrategy.clear(),this.tileRenderer.uninstall(this.container),this.tileRenderer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_11__.destroyMaybe)(this.tileRenderer)),this.destroyed?null:(this._proxy.tileRenderer=r,this._set("tileRenderer",r),this.tileRenderer.install(this.container),this.tileRenderer.onConfigUpdate(t),this.requestUpdate(),this.tileRenderer)}_createTileRendererHash(e){return`${e.type}`}get hasFilter(){const e=!!("floorInfo"in this.layer&&this.layer.floorInfo&&this.view.floors&&this.view.floors.length);return!!this.filter||e||!!this._visibilityOverrides.size||!!this.timeExtent}_injectOverrides(e){const t=null!=e?e.timeExtent:null,r=null!=this.timeExtent&&null!=t?this.timeExtent.intersection(t):this.timeExtent||t;let i=null;const s="floorInfo"in this.layer&&this.layer.floorInfo;if(s){const t=null!=e?e.where:null;i=this._addFloorFilterClause(t)}if(!this._visibilityOverrides.size&&!r&&!s)return null!=e?e.toJSON():null;(e=null!=e&&e.clone()||new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_19__["default"]).timeExtent=r,i&&(e.where=i);const a=e.toJSON();return a.hiddenIds=Array.from(this._visibilityOverrides),a}_addFloorFilterClause(e){const t=this.layer;let r=e||"";if("floorInfo"in t&&t.floorInfo){let e=this.view.floors;if(!e?.length)return r;t.floorInfo.viewAllLevelIds?.length&&(e=t.floorInfo.viewAllLevelIds);const i=e.filter((e=>""!==e)).map((e=>"'"+e+"'"));i.push("''");const s=t.floorInfo.floorField;let a="("+s+" IN ({ids}) OR "+s+" IS NULL)";if(a=a.replace("{ids}",i.join(", ")),null!=r&&r.includes(s)){let e=new RegExp("AND \\("+s+".*NULL\\)","g");r=r.replace(e,""),e=new RegExp("\\("+s+".*NULL\\)","g"),r=r.replace(e,""),r=r.replaceAll(/\s+/g," ").trim()}r=""!==r?"("+r+") AND "+a:a}return""!==r?r:null}_createConfiguration(e,t,r){const i="feature"===this.layer.type&&this.layer.historicMoment?this.layer.historicMoment.getTime():void 0,s="feature"===this.layer.type?this.layer.gdbVersion??void 0:void 0,a=new Array(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_24__.maxFilters),n=this._injectOverrides(t);a[0]=n,a[1]=null!=r?r.toJSON():null;const o=(0,_features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_26__.createSchema)(e);if(null==o)return null;const l=(0,_webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_37__.getWebGLCapabilities)("2d");return{availableFields:this.availableFields,gdbVersion:s,historicMoment:i,devicePixelRatio:window.devicePixelRatio||1,filters:a,schema:o,supportsTextureFloat:l.supportsTextureFloat,maxTextureSize:l.maxTextureSize,timeZone:this.view.timeZone}}_hasRequiredSupport(e){return!("renderer"in e)||(0,_features_support_rendererUtils_js__WEBPACK_IMPORTED_MODULE_28__.isRendererSupported)(e.renderer)}_lockGPUUploads(){this.tileRenderer&&(this._uploadsLocked=!0,this.tileRenderer.lockGPUUploads())}_unlockGPUUploads(){this.tileRenderer&&(this._uploadsLocked=!1,this.tileRenderer.unlockGPUUploads())}_forceAttributeTextureUpload(){this.tileRenderer&&this.tileRenderer.forceAttributeTextureUpload()}_createSchemaConfig(){const e=this.layer;return{renderer:"renderer"in e?e.renderer:null,spatialReference:e.spatialReference,timeExtent:"timeExtent"in e?e.timeExtent:null,definitionExpression:e.definitionExpression,featureReduction:this._effectiveFeatureReduction,fields:e.fields,geometryType:e.geometryType,historicMoment:"historicMoment"in e?e.historicMoment:null,labelsVisible:"labelsVisible"in e&&e.labelsVisible,labelingInfo:"labelingInfo"in e?e.labelingInfo:null,availableFields:this.availableFields,featureEffect:this.featureEffect,filter:this.filter,gdbVersion:"gdbVersion"in e?e.gdbVersion:null,pixelBuffer:0,orderBy:"orderBy"in e&&e.orderBy?e.orderBy:null,customParameters:{..."customParameters"in e?e.customParameters:void 0,token:"apiKey"in e?e.apiKey??void 0:void 0},subtypeCode:"subtypeCode"in e?e.subtypeCode:void 0,subtypeField:"subtypeField"in e?e.subtypeField:void 0}}_addHighlight(e){for(const t of e)if(this._highlightIds.has(t)){const e=this._highlightIds.get(t);this._highlightIds.set(t,e+1)}else this._highlightIds.set(t,1);this._updateHighlight().catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_12__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).error(e)}))}_removeHighlight(e){for(const t of e)if(this._highlightIds.has(t)){const e=this._highlightIds.get(t)-1;0===e?this._highlightIds.delete(t):this._highlightIds.set(t,e)}this._updateHighlight().catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_12__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_10__["default"].getLogger(this).error(e)}))}_setLayersForFeature(e){const t=this.layer;e.layer=t,e.sourceLayer=t}_createGraphicHit(e,t){return this._setLayersForFeature(t),null!=t.geometry&&(t.geometry.spatialReference=this.view.spatialReference),{type:"graphic",graphic:t,layer:this.layer,mapPoint:e}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],Z.prototype,"_serviceOptions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],Z.prototype,"_proxy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],Z.prototype,"_pipelineIsUpdating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],Z.prototype,"_effectiveRenderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],Z.prototype,"_effectiveFeatureReduction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],Z.prototype,"_aggregateValueRanges",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],Z.prototype,"_commandsQueue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],Z.prototype,"featureEffectView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],Z.prototype,"labelsVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],Z.prototype,"labelingCollisionInfos",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)({readOnly:!0})],Z.prototype,"queryMode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],Z.prototype,"renderingConfigHash",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],Z.prototype,"tileRenderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_15__.property)()],Z.prototype,"updating",void 0),Z=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_17__.subclass)($)],Z);const W=Z;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createOrReuseTileRenderer: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _tileRenderers_HeatmapTileRenderer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tileRenderers/HeatmapTileRenderer.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js");
/* harmony import */ var _tileRenderers_SymbolTileRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tileRenderers/SymbolTileRenderer.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t,n){if(!t)return null;switch(t.type){case"symbol":return new _tileRenderers_SymbolTileRenderer_js__WEBPACK_IMPORTED_MODULE_1__.SymbolTileRenderer(n);case"heatmap":return new _tileRenderers_HeatmapTileRenderer_js__WEBPACK_IMPORTED_MODULE_0__.HeatmapTileRenderer(n)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let r=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once("isReady",(()=>this.notifyChange("updating"))),this.tiles.set(e.id,t),this.notifyChange("updating"),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.notifyChange("updating"),this.disposeTile(e)}isUpdating(){let e=!0;this.tiles.forEach((t=>{e=e&&t.isReady}));const t=!e;if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-log-updating")){let s="";this.tiles.forEach((t=>{const i=t.updateStatus;s+=`-> ${t.key.id}: isReady: ${t.isReady} status: ${i}\n`,e=e&&t.isReady})),console.log(`Updating BaseTileRenderer ${t}\n${s}`)}return t}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],r.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],r.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],r.prototype,"tileInfoView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],r.prototype,"updating",null),r=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],r);const o=r;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapTileRenderer: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../renderers/support/heatmapUtils.js */ "./node_modules/@arcgis/core/renderers/support/heatmapUtils.js");
/* harmony import */ var _engine_BitmapTileContainer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../engine/BitmapTileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js");
/* harmony import */ var _BaseTileRenderer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BaseTileRenderer.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js");
/* harmony import */ var _support_HeatmapSource_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/HeatmapSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/HeatmapSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let o=class extends _BaseTileRenderer_js__WEBPACK_IMPORTED_MODULE_9__["default"]{constructor(e){super(e),this._intensityInfo={minDensity:0,maxDensity:0},this.type="heatmap",this.featuresView={attributeView:{initialize:()=>{},requestUpdate:()=>{}},requestRender:()=>{}},this._container=new _engine_BitmapTileContainer_js__WEBPACK_IMPORTED_MODULE_8__.BitmapTileContainer(e.tileInfoView)}createTile(e){const t=this._container.createTile(e);return this.tileInfoView.getTileCoords(t.bitmap,e),t.bitmap.resolution=this.tileInfoView.getTileResolution(e),t}onConfigUpdate(){const e=this.layer.renderer;if("heatmap"===e.type){const{minDensity:t,maxDensity:r,colorStops:s}=e;this._intensityInfo.minDensity=t,this._intensityInfo.maxDensity=r,this._gradient=(0,_renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_7__.generateGradient)(s),this.tiles.forEach((e=>{const i=e.bitmap.source;i&&(i.minDensity=t,i.maxDensity=r,i.gradient=this._gradient,e.bitmap.invalidateTexture(),e.bitmap.requestRender())}))}}hitTest(){return Promise.resolve([])}install(e){e.addChild(this._container)}uninstall(e){this._container.removeAllChildren(),e.removeChild(this._container)}disposeTile(e){this._container.removeChild(e),e.destroy()}supportsRenderer(e){return e&&"heatmap"===e.type}onTileData(e){const t=this.tiles.get(e.tileKey);if(!t)return;const i=e.intensityInfo,{minDensity:r,maxDensity:s}=this._intensityInfo,o=t.bitmap.source||new _support_HeatmapSource_js__WEBPACK_IMPORTED_MODULE_10__.HeatmapSource;o.intensities=i?.matrix||null,o.minDensity=r,o.maxDensity=s,o.gradient=this._gradient,t.bitmap.source=o,this._container.addChild(t),this._container.requestRender(),this.requestUpdate()}onTileError(e){console.error(e)}lockGPUUploads(){}unlockGPUUploads(){}fetchResource(e,t){return console.error(e),Promise.reject()}};o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.2d.layers.features.tileRenderers.HeatmapTileRenderer")],o);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SymbolTileRenderer: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _engine_webgl_FeatureTile_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../engine/webgl/FeatureTile.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/FeatureTile.js");
/* harmony import */ var _support_rendererUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../support/rendererUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/rendererUtils.js");
/* harmony import */ var _BaseTileRenderer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BaseTileRenderer.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js");
/* harmony import */ var _support_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/visualVariablesUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js");
/* harmony import */ var _support_WGLFeatureView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./support/WGLFeatureView.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let p=class extends _BaseTileRenderer_js__WEBPACK_IMPORTED_MODULE_12__["default"]{constructor(){super(...arguments),this.type="symbol"}install(e){const t=()=>this.notifyChange("updating"),i=new _support_WGLFeatureView_js__WEBPACK_IMPORTED_MODULE_14__.WGLFeatureView(this.tileInfoView,this.layerView,this.layer,t);this.featuresView=i,e.addChild(i)}uninstall(e){e.removeChild(this.featuresView),this.featuresView=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.featuresView)}fetchResource(e,t){const{url:r}=e,s=this.featuresView.stage;try{return s.resourceManager.fetchResource(r,{signal:t.signal})}catch(a){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(a)?Promise.resolve({width:0,height:0}):Promise.reject(a)}}isUpdating(){const e=super.isUpdating(),t=!this.featuresView||this.featuresView.isUpdating(),i=this.featuresView?.hasEmptyAttributeView(),r=e||t||e&&i;return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-log-updating")&&console.log(`Updating SymbolTileRenderer ${r}\n  -> updatingTiles ${e}\n  -> hasFeaturesView ${!!this.featuresView}\n  -> updatingFeaturesView ${t}`),r}hitTest(e){return this.featuresView.hitTest(e)}supportsRenderer(e){return null!=e&&["simple","class-breaks","unique-value","dot-density","dictionary","heatmap","pie-chart"].includes(e.type)}onConfigUpdate(e){let t=null;if(e&&"visualVariables"in e){const i=((0,_support_rendererUtils_js__WEBPACK_IMPORTED_MODULE_11__.simplifyVVRenderer)(e).visualVariables||[]).map((e=>{const t=e.clone();return"normalizationField"in e&&(t.normalizationField=null),e.valueExpression&&"$view.scale"!==e.valueExpression&&(t.valueExpression=null,t.field="nop"),t}));t=(0,_support_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_13__.convertVisualVariables)(i)}this.featuresView.setRendererInfo(e,t,this.layerView.featureEffect)}onTileData(e){const t=this.tiles.get(e.tileKey);t&&e.data&&this.featuresView.onTileData(t,e.data),this.layerView.view.labelManager.requestUpdate()}onTileError(e){const t=this.tiles.get(e.tileKey);t&&this.featuresView.onTileError(t)}forceAttributeTextureUpload(){this.featuresView.attributeView.forceTextureUpload()}lockGPUUploads(){this.featuresView.attributeView.lockTextureUpload(),this.tiles.forEach((e=>e.lock()))}unlockGPUUploads(){this.featuresView.attributeView.unlockTextureUpload(),this.tiles.forEach((e=>e.unlock()))}async getMaterialItems(e){return this.featuresView.getMaterialItems(e)}invalidateLabels(){this.featuresView.hasLabels&&this.layerView.view.labelManager.requestUpdate()}createTile(e){const t=this.tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__.create)(),e),i=()=>this.layerView.view.labelManager.requestUpdate(),r=this.tileInfoView.getTileResolution(e.level),o=this.featuresView.attributeView;return new _engine_webgl_FeatureTile_js__WEBPACK_IMPORTED_MODULE_10__.FeatureTile(e,r,t[0],t[3],o,i)}disposeTile(e){this.featuresView.removeChild(e),e.destroy(),this.layerView.view.labelManager.requestUpdate()}};p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.features.tileRenderers.SymbolTileRenderer")],p);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/HeatmapSource.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/HeatmapSource.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapSource: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../renderers/support/heatmapUtils.js */ "./node_modules/@arcgis/core/renderers/support/heatmapUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i{constructor(){this.gradient=null,this.height=512,this.intensities=null,this.width=512}render(i){(0,_renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_0__.drawHeatmap)(i,512,this.intensities,this.gradient,this.minDensity,this.maxDensity)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WGLFeatureView: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../engine/brushes.js */ "./node_modules/@arcgis/core/views/2d/engine/brushes.js");
/* harmony import */ var _engine_FeatureContainer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../engine/FeatureContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const r=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-order-by-server-enabled");class a extends _engine_FeatureContainer_js__WEBPACK_IMPORTED_MODULE_3__.FeatureContainer{constructor(e,t,s,i){super(e),this._hitTestsRequests=[],this._layer=s,this._layerView=t,this._onUpdate=i}renderChildren(e){if(this.attributeView.update(),this.hasAnimation){e.painter.effects.integrate.draw(e,e.attributeView)}super.renderChildren(e)}hasEmptyAttributeView(){return this.attributeView.isEmpty()}isUpdating(){return this.attributeView.isUpdating()}hitTest(t){let s=this._hitTestsRequests.find((({x:e,y:s})=>e===t.x&&s===t.y));const i=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.createResolver)();return s?s.resolvers.push(i):(s={x:t.x,y:t.y,resolvers:[i]},this._hitTestsRequests.push(s)),this.requestRender(),i.promise}onTileData(e,t){const s=r&&"orderBy"in this._layer&&this._layer.orderBy,i=s&&s?.length&&!s[0].valueExpression&&s[0].field,a=!!s&&this._layerView.orderByFields===i;e.patch(t,a),this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){this.contains(e)||this.addChild(e)}updateTransitionProperties(e,t){super.updateTransitionProperties(e,t),this._layerView.featureEffectView.transitionStep(e,t),this._layerView.featureEffectView.transitioning&&this.requestRender()}doRender(e){const{minScale:t,maxScale:s}=this._layer.effectiveScaleRange,i=e.state.scale;i<=(t||1/0)&&i>=s&&super.doRender(e)}afterRender(e){super.afterRender(e),this._hitTestsRequests.length&&this.requestRender()}onAttributeStoreUpdate(){this.hasLabels&&this._layerView.view.labelManager.requestUpdate(),this._onUpdate()}get hasAnimation(){return this.hasLabels}setStencilReference(e){const{rendererSchema:t}=e.rendererInfo;if("dot-density"===t?.type&&t?.dotSize>1||"heatmap"===t?.type){const e=1;for(const t of this.children)t.stencilRef=t.key.level+e}else super.setStencilReference(e)}get hasHighlight(){return this._layerView.hasHighlight()}get hasLabels(){if("sublayers"in this._layer)return this._layer.sublayers.some((e=>!!e.labelingInfo?.length&&e.labelsVisible));const e=this._layer.featureReduction,t=e&&"labelingInfo"in e&&e.labelsVisible&&e.labelingInfo&&e.labelingInfo.length;return this._layer.labelingInfo?.length&&this._layer.labelsVisible||!!t}prepareRenderPasses(e){const s=super.prepareRenderPasses(e),r=e.registerRenderPass({name:"label",brushes:[_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.label],target:()=>this.hasLabels?this.children:null,drawPhase:_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.LABEL|_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.LABEL_ALPHA});if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-force-marker-text-draw-order")){const i=e.registerRenderPass({name:"geometry",brushes:[_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.fill,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.dotDensity,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.line,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.heatmap,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.pieChart],target:()=>this.children,forceDrawByDisplayOrder:!0,enableDefaultDraw:()=>!this._layerView.featureEffectView.hasEffects,effects:[{apply:e.effects.outsideEffect,enable:()=>this._layerView.featureEffectView.hasEffects,args:()=>this._layerView.featureEffectView.excludedEffects},{apply:e.effects.insideEffect,enable:()=>this._layerView.featureEffectView.hasEffects,args:()=>this._layerView.featureEffectView.includedEffects},{apply:e.effects.hittest,enable:()=>!!this._hitTestsRequests.length,args:()=>this._hitTestsRequests}]});s.push(i)}else{const i=e.registerRenderPass({name:"geometry",brushes:[_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.fill,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.dotDensity,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.line,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.marker,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.heatmap,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.pieChart,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.text],target:()=>this.children,enableDefaultDraw:()=>!this._layerView.featureEffectView.hasEffects,effects:[{apply:e.effects.outsideEffect,enable:()=>this._layerView.featureEffectView.hasEffects,args:()=>this._layerView.featureEffectView.excludedEffects},{apply:e.effects.insideEffect,enable:()=>this._layerView.featureEffectView.hasEffects,args:()=>this._layerView.featureEffectView.includedEffects},{apply:e.effects.hittest,enable:()=>!!this._hitTestsRequests.length,args:()=>this._hitTestsRequests}]});s.push(i)}const a=e.registerRenderPass({name:"highlight",brushes:[_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.fill,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.dotDensity,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.line,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.marker,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.pieChart,_engine_brushes_js__WEBPACK_IMPORTED_MODULE_2__.brushes.text],target:()=>this.children,drawPhase:_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.HIGHLIGHT,enableDefaultDraw:()=>!1,effects:[{apply:e.effects.highlight,enable:()=>!!this._layerView.hasHighlight()}]});return s.push(a),s.push(r),s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/FeatureCommandQueue.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/FeatureCommandQueue.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../support/QueueProcessor.js */ "./node_modules/@arcgis/core/views/support/QueueProcessor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(e){return e.some((e=>e.globalId))}function n(e){return e.filter((e=>!e.error)).map((e=>e.objectId??e.globalId)).filter((e=>null!=e))}function d(e,t){const s=new Set(e);for(const r of t.values())s.add(r);return s}function a(e,t){const s=new Set(e);for(const r of t.values())s.delete(r);return s}let c=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._hasGlobalIds=!1,this._notifyUpdating=()=>{this.notifyChange("updating")}}normalizeCtorArgs(e){return this._queueProcessor=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__.QueueProcessor({concurrency:1,process:e.process}),{}}destroy(){this.clear()}get updating(){return this._queueProcessor.length>0}clear(){this._queueProcessor.clear()}push(e){const t=this._queueProcessor,s=t.last();switch(e.type){case"update":case"refresh":if(s?.type===e.type)return;t.push(e).then(this._notifyUpdating,this._notifyUpdating);break;case"edit":{const r="processed-edit"===s?.type?s:null;r&&t.popLast();const o=this._mergeEdits(r,e);for(const e of o)e&&t.push(e).then(this._notifyUpdating,this._notifyUpdating);break}}this.notifyChange("updating")}_mergeEdits(e,t){const{addedFeatures:s,deletedFeatures:r,updatedFeatures:o}=t.edits;if(this._hasGlobalIds=this._hasGlobalIds||i(s)||i(o)||i(r),this._hasGlobalIds){return[e,{type:"processed-edit",edits:{addOrModified:[...s,...o],removed:r}}]}const c=new Set(n(e?.edits.addOrModified??[])),p=new Set(n(e?.edits.removed??[])),u=new Set([...n(s),...n(o)]),l=new Set(n(r));return[{type:"processed-edit",edits:{addOrModified:Array.from(d(a(c,l),u)).map((e=>({objectId:e}))),removed:Array.from(d(a(p,u),l)).map((e=>({objectId:e})))}}]}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],c.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],c.prototype,"process",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.2d.layers.support.FeatureCommandQueue")],c);const p=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/FeatureLayerProxy.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/FeatureLayerProxy.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_workers_workers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/workers/workers.js */ "./node_modules/@arcgis/core/core/workers/workers.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function c(e){return Array.isArray(e)}let u=class extends _core_Promise_js__WEBPACK_IMPORTED_MODULE_1__.EsriPromise{constructor(e){super(e),this._startupResolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.createResolver)(),this.isReady=!1}initialize(){this._controller=new AbortController,this.addResolvingPromise(this._startWorker(this._controller.signal))}destroy(){this._controller.abort(),this._connection&&this._connection.close()}set tileRenderer(e){this.client.tileRenderer=e}get closed(){return this._connection.closed}async startup(e,t,r,s){await this.when();const o=this._controller.signal,i=c(r.source)?{transferList:r.source,signal:o}:void 0,n={service:r,config:t,tileInfo:e.tileInfo.toJSON(),tiles:s};await this._connection.invoke("startup",n,i),this._startupResolver.resolve(),this._set("isReady",!0)}async updateTiles(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("updateTiles",e))}async update(e){const t={config:e};return await this._startupResolver.promise,this._connection.invoke("update",t)}async applyUpdate(e){return await this._startupResolver.promise,this._connection.invoke("applyUpdate",e)}async setHighlight(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.setHighlight",e))}async stop(){if(await this._startupResolver.promise,!this.closed)return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("stop"))}async refresh(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.refresh",e))}async querySummaryStatistics(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.querySummaryStatistics",{query:e.toJSON(),params:t},r)}async queryAggregateSummaryStatistics(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregateSummaryStatistics",{query:e.toJSON(),params:t},r)}async queryUniqueValues(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryUniqueValues",{query:e.toJSON(),params:t},r)}async queryAggregateUniqueValues(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregateUniqueValues",{query:e.toJSON(),params:t},r)}async queryClassBreaks(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryClassBreaks",{query:e.toJSON(),params:t},r)}async queryAggregateClassBreaks(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregateClassBreaks",{query:e.toJSON(),params:t},r)}async queryHistogram(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryHistogram",{query:e.toJSON(),params:t},r)}async queryAggregateHistogram(e,t,r){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregateHistogram",{query:e.toJSON(),params:t},r)}async queryFeatures(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryFeatures",e?.toJSON(),t)}async queryVisibleFeatures(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryVisibleFeatures",e?.toJSON(),t)}async queryObjectIds(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryObjectIds",e?.toJSON(),t)}async queryFeatureCount(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryFeatureCount",e?.toJSON(),t)}async queryExtent(e,t){return this._connection.invoke("controller.queryExtent",e.toJSON(),t)}async queryLatestObservations(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryLatestObservations",e.toJSON(),t)}async queryStatistics(e){return await this._startupResolver.promise,this._connection.invoke("controller.queryStatistics",e)}async queryAggregates(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregates",e?.toJSON(),t)}async queryAggregateCount(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregateCount",e?.toJSON(),t)}async queryAggregateIds(e,t){return await this._startupResolver.promise,this._connection.invoke("controller.queryAggregateIds",e?.toJSON(),t)}async getObjectId(e){return await this._startupResolver.promise,this._connection.invoke("controller.getObjectId",e)}async getDisplayId(e){return await this._startupResolver.promise,this._connection.invoke("controller.getDisplayId",e)}async getFeatures(e){return await this._startupResolver.promise,this._connection.invoke("controller.getFeatures",e)}async getAggregates(){return await this._startupResolver.promise,this._connection.invoke("controller.getAggregates")}async getAggregateValueRanges(){return await this._startupResolver.promise,this._connection.invoke("controller.getAggregateValueRanges")}async mapValidDisplayIds(e){return await this._startupResolver.promise,this._connection.invoke("controller.mapValidDisplayIds",e)}async onEdits(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.onEdits",e))}async enableEvent(e,t){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.enableEvent",{name:e,value:t}))}async pauseStream(){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.pauseStream"))}async resumeStream(){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.resumeStream"))}async sendMessageToSocket(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.sendMessageToSocket",e))}async sendMessageToClient(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.sendMessageToClient",e))}async updateCustomParameters(e){return await this._startupResolver.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.ignoreAbortErrors)(this._connection.invoke("controller.updateCustomParameters",e))}async _startWorker(e){try{this._connection=await (0,_core_workers_workers_js__WEBPACK_IMPORTED_MODULE_3__.open)("Pipeline",{client:this.client,strategy:"dedicated",signal:e})}catch(t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfNotAbortError)(t)}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],u.prototype,"isReady",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],u.prototype,"client",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],u.prototype,"tileRenderer",null),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.support.FeatureLayerProxy")],u);const l=u;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/visualVariableSimpleUtils.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/visualVariableSimpleUtils.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getSizeForValueSimple: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../renderers/support/lengthUtils.js */ "./node_modules/@arcgis/core/renderers/support/lengthUtils.js");
/* harmony import */ var _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../renderers/visualVariables/support/sizeVariableUtils.js */ "./node_modules/@arcgis/core/renderers/visualVariables/support/sizeVariableUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const r=Math.PI;function i(e,t){switch(t.transformationType){case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.Additive:return s(e,t);case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.Constant:return o(t,e);case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.ClampedLinear:return u(e,t);case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.Proportional:return l(e,t);case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.Stops:return c(e,t);case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.RealWorldSize:return m(e,t);case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.Identity:return e;case _renderers_visualVariables_support_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_2__.TransformationType.Unknown:return null}}function a(e,t){return"number"==typeof e?e:i(t,e)}function s(e,t){return e+(a(t.minSize,e)||t.minDataValue)}function o(e,t){const n=e.stops;let r=n?.length&&n[0].size;return null==r&&(r=e.minSize),a(r,t)}function u(e,t){const n=t.minDataValue,r=t.maxDataValue,i=(e-n)/(r-n),s=a(t.minSize,e),o=a(t.maxSize,e);return e<=n?s:e>=r?o:s+i*(o-s)}function l(t,n){const r=t/n.minDataValue,i=a(n.minSize,t),s=a(n.maxSize,t);let o=null;return o=r*i,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(o,i,s)}function c(e,t){const[n,r,i]=p(e,t.cache.ipData);if(n===r)return a(t.stops[n].size,e);{const s=a(t.stops[n].size,e);return s+(a(t.stops[r].size,e)-s)*i}}function m(n,i){const s=_renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_1__.meterIn[i.valueUnit],o=a(i.minSize,n),u=a(i.maxSize,n),{valueRepresentation:l}=i;let c=null;return c="area"===l?2*Math.sqrt(n/r)/s:"radius"===l||"distance"===l?2*n/s:n/s,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(c,o,u)}function p(e,t){if(!t)return;let n=0,r=t.length-1;return t.some(((t,i)=>e<t?(r=i,!0):(n=i,!1))),[n,r,(e-t[n])/(t[r]-t[n])]}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileManager.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileManager.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TileManager: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _TileCoverage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TileCoverage.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const t=1e-6;class l{constructor(e){this._tiles=new Map,this.buffer=0,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,this.buffer=e.buffer}destroy(){}clear(){this._tiles.forEach((e=>this._releaseTile(e)))}tileKeys(){const e=[];return this._tiles.forEach(((i,t)=>e.push(t))),e}update(t){const l=this.tileInfoView.getTileCoverage(t.state,this.buffer,!0,"closest"),{spans:s,lodInfo:r}=l,{level:a}=r,o=[],d=[],h=new Set,n=new Set;for(const{row:e,colFrom:c,colTo:f}of s)for(let t=c;t<=f;t++){const l=_TileKey_js__WEBPACK_IMPORTED_MODULE_1__["default"].getId(a,e,r.normalizeCol(t),r.getWorldForColumn(t)),s=this._getOrAcquireTile(o,l);h.add(l),s.isReady?s.visible=!0:n.add(s.key)}n.forEach((e=>this._addPlaceholders(h,e))),this._tiles.forEach((e=>{h.has(e.key.id)||(d.push(e.key.id),this._releaseTile(e))})),_TileCoverage_js__WEBPACK_IMPORTED_MODULE_0__["default"].pool.release(l);return{hasMissingTiles:n.size>0,added:o,removed:d}}_getOrAcquireTile(e,t){if(!this._tiles.has(t)){const l=this.acquireTile(new _TileKey_js__WEBPACK_IMPORTED_MODULE_1__["default"](t));e.push(t),this._tiles.set(t,l),l.visible=!1}return this._tiles.get(t)}_getTile(e){return this._tiles.get(e)}_releaseTile(e){this._tiles.delete(e.key.id),this.releaseTile(e)}_addPlaceholders(e,i){const l=this._addPlaceholderChildren(e,i);if(!(Math.abs(1-l)<t)){if(!this._addPlaceholderParent(e,i)){this._getTile(i.id).visible=!0}}}_addPlaceholderChildren(e,i){let t=0;return this._tiles.forEach((l=>{t+=this._addPlaceholderChild(e,l,i)})),t}_addPlaceholderChild(e,i,t){if(i.key.level<=t.level||!i.hasData||!t.contains(i.key))return 0;i.visible=!0,e.add(i.key.id);return 1/(1<<2*(i.key.level-t.level))}_addPlaceholderParent(e,i){let t=i.getParentKey(),l=0,s=null;for(;null!=t;){if(e.has(t.id))return!0;const i=this._getTile(t.id);if(i?.isReady){for(const i of e){const e=this._getTile(i);e&&t.contains(e.key)&&(e.visible=!1)}return i.visible=!0,e.add(i.key.id),!0}i?.hasData&&i.patchCount>l&&(l=i.patchCount,s=i),t=t.getParentKey()}return!!s&&(s.visible=!0,e.add(s.key.id),!0)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/FeatureLayerView.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/FeatureLayerView.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _layers_support_FeatureEffect_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../layers/support/FeatureEffect.js */ "./node_modules/@arcgis/core/layers/support/FeatureEffect.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../layers/support/floorFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const j="esri.views.layers.FeatureLayerView",q=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(j),P=r=>{let P=class extends r{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.dataUpdating=!1,this.filter=null,this.timeExtent=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>{const e=this.layer;return[e?.elevationInfo?.featureExpressionInfo,e&&"displayField"in e?e.displayField:null,e&&"timeInfo"in e&&e.timeInfo,e&&"renderer"in e&&e.renderer,e&&"labelingInfo"in e&&e.labelingInfo,e&&"floorInfo"in e&&e.floorInfo,this.filter,this.featureEffect,this.timeExtent]}),(()=>this._handleRequiredFieldsChange()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.view?.floors),"change",(()=>this._handleRequiredFieldsChange())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>{const e=this.layer;return e&&"sublayers"in e?e.sublayers:null}),"change",(()=>this._handleRequiredFieldsChange()))])}get availableFields(){const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return"outFields"in e&&e.outFields?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.fixFields)(t,[...(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.unpackFieldNames)(t,e.outFields),...r]):(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.fixFields)(t,r)}get featureEffect(){return this.layer&&"featureEffect"in this.layer?this.layer.featureEffect:null}set featureEffect(e){this._override("featureEffect",e)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){q.error("#maximumNumberOfFeatures=","Setting maximum number of features is not supported")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error("missing implementation")}createQuery(){const e={outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=null!=this.filter?this.filter.createQuery(e):new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_14__["default"](e);if("feature"===this.layer.type){const e=(0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_13__.getFloorFilterClause)(this);null!=e&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return null!=this.timeExtent&&(t.timeExtent=null!=t.timeExtent?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}createAggregateQuery(){const e={outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_14__["default"](e)}queryFeatures(e,t){throw new Error("missing implementation")}queryObjectIds(e,t){throw new Error("missing implementation")}queryFeatureCount(e,t){throw new Error("missing implementation")}queryExtent(e,t){throw new Error("missing implementation")}async fetchPopupFeatures(e,t){const r=this.validateFetchPopupFeatures(t);if(r)throw r;return this.fetchClientPopupFeatures(t)}_loadArcadeModules(e){return e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>"expression"===e.type))?(0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_15__.loadArcade)():Promise.resolve()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set("_updatingRequiredFieldsPromise",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set("_updatingRequiredFieldsPromise",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e="3d"===this.view.type,{layer:t,layer:{fieldsIndex:r,objectIdField:i}}=this,s="renderer"in t&&t.renderer,o="orderBy"in t&&t.orderBy,n="featureReduction"in t?t.featureReduction:null,l=new Set,a=await Promise.allSettled([s?s.collectRequiredFields(l,r):null,(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.collectLabelingFields)(l,t),e?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.collectElevationFields)(l,t):null,null!=this.filter?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.collectFilterFields)(l,t,this.filter):null,null!=this.featureEffect?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.collectFilterFields)(l,t,this.featureEffect.filter):null,n?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.collectFeatureReductionFields)(l,t,n):null,o?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.collectOrderByInfos)(l,t,o):null]);if("timeInfo"in t&&t.timeInfo&&this.timeExtent&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.collectFields)(l,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),"feature"===t.type&&(t.floorInfo&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.collectFields)(l,t.fieldsIndex,[t.floorInfo.floorField]),e&&null!=t.infoFor3D&&(null==t.globalIdField&&q.error("globalIdField missing on 3DObjectFeatureLayer"),(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.collectFields)(l,t.fieldsIndex,[t.globalIdField]))),"subtype-group"===t.type){(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.collectField)(l,r,t.subtypeField);const e=t.sublayers.map((e=>Promise.all([e.renderer?.collectRequiredFields(l,r),(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.collectLabelingFields)(l,e)])));await Promise.allSettled(e)}for(const p of a)"rejected"===p.status&&q.error(p.reason);(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.collectField)(l,r,i),e&&"displayField"in t&&t.displayField&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.collectField)(l,r,t.displayField);const u=Array.from(l).sort();this._set("requiredFields",u)}validateFetchPopupFeatures(e){if(null==e)return null;for(const r of e.clientGraphics??[]){const i=r.layer;if("popupEnabled"in i&&!i.popupEnabled)return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurelayerview:fetchPopupFeatures","Popups are disabled",{layer:i});if(r.isAggregate){const e="featureReduction"in i?i.featureReduction:null;if(!(e&&"popupTemplate"in e&&e.popupEnabled&&e.popupTemplate))return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurelayerview:fetchPopupFeatures","Popups are disabled",{layer:i})}else if("popupTemplate"in i){if(!(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_16__.getFetchPopupTemplate)(i,e))return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurelayerview:fetchPopupFeatures","Layer does not define a popup template",{layer:i})}}}async fetchClientPopupFeatures(e){const t=null!=e?e.clientGraphics:null;if(!t||0===t.length)return[];const r=new Array(t.length),i=new Map,s=await this.createPopupQuery(e);for(let o=0;o<t.length;o++){const n=t[o];if(n.isAggregate){r[o]=n;continue}const l=n.layer;if(!("popupEnabled"in l))continue;const a=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.unpackFieldNames)(this.layer.fieldsIndex,s.outFields),u=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_16__.getFetchPopupTemplate)(l,e);if(null==u)continue;const p=await this._loadArcadeModules(u);p&&p.arcadeUtils.hasGeometryOperations(u)||!(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_12__.featureHasFields)(a,n)?i.set(n.getObjectId(),{graphic:n,index:o}):r[o]=n}if("stream"===this.layer.type||0===i.size)return r.filter(Boolean);s.objectIds=Array.from(i.keys());try{const e=await this.layer.queryFeatures(s);for(const t of e.features){const{graphic:{geometry:e},index:s}=i.get(t.getObjectId());t.geometry||=e,r[s]=t}}catch{}return r.filter(Boolean)}async createPopupQuery(e){const t=this.layer.createQuery(),r=new Set;let i=!1;const s=e?.clientGraphics?e.clientGraphics.map((e=>e.layer)):[this.layer];for(const o of s){if(!("popupEnabled"in o))continue;const t=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_16__.getFetchPopupTemplate)(o,e);if(null==t)continue;const s=await this._loadArcadeModules(t),n=s&&s.arcadeUtils.hasGeometryOperations(t);i=!("point"!==this.layer.geometryType&&!n);const l=await (0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_16__.getRequiredFields)(this.layer,t);for(const e of l)r.add(e)}if(t.returnGeometry=i,t.returnZ=i,t.returnM=i,t.outFields=Array.from(r),t.outSpatialReference=this.view.spatialReference,"feature"===this.layer.type){const e=(0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_13__.getFloorFilterClause)(this);null!=e&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return t}canResume(){return!!super.canResume()&&(null==this.timeExtent||!this.timeExtent.isEmpty)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],P.prototype,"_updatingRequiredFieldsPromise",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],P.prototype,"availableFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],P.prototype,"dataUpdating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_layers_support_FeatureEffect_js__WEBPACK_IMPORTED_MODULE_10__["default"]})],P.prototype,"featureEffect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_11__["default"]})],P.prototype,"filter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)(_layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_9__.combinedViewLayerTimeExtentProperty)],P.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],P.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number})],P.prototype,"maximumNumberOfFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0,type:Boolean})],P.prototype,"maximumNumberOfFeaturesExceeded",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],P.prototype,"requiredFields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],P.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],P.prototype,"view",void 0),P=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)(j)],P),P};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const a=a=>{let c=class extends a{initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.layer),"refresh",(r=>{this.doRefresh(r.dataChanged).catch((r=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(r)}))})),"RefreshableLayerView")}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"layer",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.mixins.RefreshableLayerView")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFetchPopupTemplate: () => (/* binding */ p),
/* harmony export */   getRequiredFields: () => (/* binding */ n),
/* harmony export */   hasPopupTemplate: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes("*"))return["*"];const o=t?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureEditFields)(n):[],f=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.fixFields)(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfMmRfbGF5ZXJzX0ZlYXR1cmVMYXllclZpZXcyRF9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUN3VCxvQkFBb0IsbURBQUMsQ0FBQyxjQUFjLHdDQUF3QyxnQ0FBZ0MsZ0RBQWdELDJDQUEyQyxtRUFBbUUsY0FBYyxxQ0FBcUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGFBQWEsdUNBQXVDLHVEQUFDLEVBQUUsc0ZBQUMsOEJBQThCLFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7QUNKaHZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxlQUFlLG1FQUFtRSxjQUFjLG9CQUFvQixXQUFXLDZCQUE2QixrQ0FBa0MsOEVBQThFLG1FQUFtRSxVQUFVLDZCQUE2QixrQ0FBa0MsNkZBQTZGLE9BQU8sb0RBQW9ELFFBQVEsNkJBQTZCLHNEQUFzRCxZQUFZLFNBQVMscUJBQXFCLEtBQUssUUFBUSwyQkFBZ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjF2QjtBQUNBO0FBQ0E7QUFDQTtBQUNnWixvQkFBb0IseURBQUMsQ0FBQyxlQUFlLHlDQUF5Qyx3REFBRyw4REFBOEQsc0RBQUMsaUNBQWlDLHNEQUFDLElBQUksc0JBQXNCLHdDQUF3QyxxQkFBcUIsc0RBQXNELGFBQWEsc0RBQXNELGlCQUFpQixnRkFBZ0Ysc0JBQXNCLHdDQUF3QyxhQUFhLHVGQUF1RixvQkFBb0Isc0ZBQXNGLG9CQUFvQixnUEFBZ1AsaUJBQWlCLHNHQUFzRyxpQkFBaUIsMEtBQTBLLG9LQUFvSyx1REFBQyxFQUFFLHNGQUFDLGtDQUFrQyx1REFBQyxFQUFFLHNGQUFDLDhDQUE4Qyx1REFBQyxFQUFFLHNGQUFDLDhDQUE4Qyx1REFBQyxFQUFFLHNGQUFDLG1DQUFtQyx1REFBQyxFQUFFLHNGQUFDLHdDQUF3Qyx1REFBQyxFQUFFLHNGQUFDLHNDQUFzQyx1REFBQyxF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QUssdURBQUMsMEJBQTBCLEdBQUcsNkJBQTZCLE9BQU8sdURBQUMsRUFBRSxzRkFBQyxrQ0FBa0MsdURBQUMsRUFBRSxzRkFBQyxtREFBd0U7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p2d0I7QUFDQTtBQUNBO0FBQ0E7QUFDNEYsc0NBQXNDLG9CQUFvQixrREFBa0Qsc0JBQXNCLElBQUksOERBQThELEdBQUcsK0JBQStCLFVBQVUsbUZBQUMsU0FBUyx3RUFBQyw0QkFBNEIsb0pBQW9KLE1BQU0sV0FBVyxHQUFHLHVEQUF1RCxLQUFLLGdCQUFnQix3SUFBd0ksZ0JBQWdCLGtCQUFrQiw4QkFBOEIsRUFBa0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9BZ2dyZWdhdGVHcmFwaGljLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvQ2lyY3VsYXJBcnJheS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZWZmZWN0cy9GZWF0dXJlRWZmZWN0Vmlldy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9mbG9vckZpbHRlclV0aWxzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3Jlc3Qvc3VwcG9ydC9BZ2dyZWdhdGVGZWF0dXJlU2V0LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS9CaXRtYXAuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL0JpdG1hcFRpbGUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL0JpdG1hcFRpbGVDb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL0ZlYXR1cmVDb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL0ltYWdlcnlCaXRtYXBTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL0J1ZmZlclBvb2wuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL0ZlYXR1cmVUaWxlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9UaWxlQ29udGFpbmVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9XR0xSZW5kZXJlckluZm8uanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL2NvbGxpc2lvbnMvTWV0cmljUmVhZGVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9jcHVNYXBwZWQvQnVmZmVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9jcHVNYXBwZWQvR2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL0ZlYXR1cmVMYXllclZpZXcyRC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvdGlsZVJlbmRlcmVycy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvdGlsZVJlbmRlcmVycy9CYXNlVGlsZVJlbmRlcmVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy90aWxlUmVuZGVyZXJzL0hlYXRtYXBUaWxlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3RpbGVSZW5kZXJlcnMvU3ltYm9sVGlsZVJlbmRlcmVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy90aWxlUmVuZGVyZXJzL3N1cHBvcnQvSGVhdG1hcFNvdXJjZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvdGlsZVJlbmRlcmVycy9zdXBwb3J0L1dHTEZlYXR1cmVWaWV3LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9zdXBwb3J0L0ZlYXR1cmVDb21tYW5kUXVldWUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZUxheWVyUHJveHkuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL3N1cHBvcnQvdmlzdWFsVmFyaWFibGVTaW1wbGVVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC90aWxpbmcvVGlsZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL0ZlYXR1cmVMYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL1JlZnJlc2hhYmxlTGF5ZXJWaWV3LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9zdXBwb3J0L3BvcHVwVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi9HcmFwaGljLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHR9ZnJvbVwiLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7bGV0IHA9Y2xhc3MgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmlzQWdncmVnYXRlPSEwfWdldEVmZmVjdGl2ZVBvcHVwVGVtcGxhdGUoZT0hMSl7aWYodGhpcy5wb3B1cFRlbXBsYXRlKXJldHVybiB0aGlzLnBvcHVwVGVtcGxhdGU7Y29uc3Qgcj10aGlzLnNvdXJjZUxheWVyPy5mZWF0dXJlUmVkdWN0aW9uO3JldHVybiByJiZcInBvcHVwVGVtcGxhdGVcImluIHImJnIucG9wdXBFbmFibGVkP3IucG9wdXBUZW1wbGF0ZTpudWxsfWdldE9iamVjdElkKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5hZ2dyZWdhdGVJZH19O2UoW3Qoe3R5cGU6Qm9vbGVhbn0pXSxwLnByb3RvdHlwZSxcImlzQWdncmVnYXRlXCIsdm9pZCAwKSxwPWUoW28oXCJlc3JpLkFnZ3JlZ2F0ZUdyYXBoaWNcIildLHApO2NvbnN0IHM9cDtleHBvcnR7cyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuc2l6ZT0wLHRoaXMuX3N0YXJ0PTAsdGhpcy5tYXhTaXplPXQsdGhpcy5fYnVmZmVyPW5ldyBBcnJheSh0KX1nZXQgZW50cmllcygpe3JldHVybiB0aGlzLl9idWZmZXJ9ZW5xdWV1ZSh0KXtpZih0aGlzLnNpemU9PT10aGlzLm1heFNpemUpe2NvbnN0IHM9dGhpcy5fYnVmZmVyW3RoaXMuX3N0YXJ0XTtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX3N0YXJ0XT10LHRoaXMuX3N0YXJ0PSh0aGlzLl9zdGFydCsxKSV0aGlzLm1heFNpemUsc31yZXR1cm4gdGhpcy5fYnVmZmVyWyh0aGlzLl9zdGFydCt0aGlzLnNpemUrKykldGhpcy5tYXhTaXplXT10LG51bGx9ZGVxdWV1ZSgpe2lmKDA9PT10aGlzLnNpemUpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLl9idWZmZXJbdGhpcy5fc3RhcnRdO3JldHVybiB0aGlzLl9idWZmZXJbdGhpcy5fc3RhcnRdPW51bGwsdGhpcy5zaXplLS0sdGhpcy5fc3RhcnQ9KHRoaXMuX3N0YXJ0KzEpJXRoaXMubWF4U2l6ZSx0fXBlZWsoKXtyZXR1cm4gMD09PXRoaXMuc2l6ZT9udWxsOnRoaXMuX2J1ZmZlclt0aGlzLl9zdGFydF19ZmluZCh0KXtpZigwPT09dGhpcy5zaXplKXJldHVybiBudWxsO2Zvcihjb25zdCBzIG9mIHRoaXMuX2J1ZmZlcilpZihudWxsIT1zJiZ0KHMpKXJldHVybiBzO3JldHVybiBudWxsfWNsZWFyKHQpe2xldCBzPXRoaXMuZGVxdWV1ZSgpO2Zvcig7bnVsbCE9czspdCYmdChzKSxzPXRoaXMuZGVxdWV1ZSgpfX1leHBvcnR7dCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7RWZmZWN0VmlldyBhcyBmfWZyb21cIi4vRWZmZWN0Vmlldy5qc1wiO2xldCBjPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9maWx0ZXI9bnVsbCx0aGlzLmR1cmF0aW9uPWhhcyhcIm1hcHZpZXctdHJhbnNpdGlvbnMtZHVyYXRpb25cIiksdGhpcy5fZXhjbHVkZWRFZmZlY3RWaWV3PW5ldyBmKGUpLHRoaXMuX2luY2x1ZGVkRWZmZWN0Vmlldz1uZXcgZihlKX1nZXQgZXhjbHVkZWRFZmZlY3RzKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVkRWZmZWN0Vmlldy5lZmZlY3RzfXNldCBmZWF0dXJlRWZmZWN0KGUpe3RoaXMuX2dldChcImZlYXR1cmVFZmZlY3RcIikhPT1lJiZ0aGlzLl90cmFuc2l0aW9uVG8oZSl9Z2V0IGZpbHRlcigpe3JldHVybiB0aGlzLl9maWx0ZXJ8fHRoaXMuZmVhdHVyZUVmZmVjdD8uZmlsdGVyfHxudWxsfWdldCBoYXNFZmZlY3RzKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVkRWZmZWN0Vmlldy5oYXNFZmZlY3RzfHx0aGlzLl9pbmNsdWRlZEVmZmVjdFZpZXcuaGFzRWZmZWN0c31nZXQgaW5jbHVkZWRFZmZlY3RzKCl7cmV0dXJuIHRoaXMuX2luY2x1ZGVkRWZmZWN0Vmlldy5lZmZlY3RzfXNldCBzY2FsZShlKXt0aGlzLl9zZXQoXCJzY2FsZVwiLGUpLHRoaXMuX2V4Y2x1ZGVkRWZmZWN0Vmlldy5zY2FsZT1lLHRoaXMuX2luY2x1ZGVkRWZmZWN0Vmlldy5zY2FsZT1lfWdldCB0cmFuc2l0aW9uaW5nKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVkRWZmZWN0Vmlldy50cmFuc2l0aW9uaW5nfHx0aGlzLl9pbmNsdWRlZEVmZmVjdFZpZXcudHJhbnNpdGlvbmluZ310cmFuc2l0aW9uU3RlcChlLHQpe3RoaXMuX3NldChcInNjYWxlXCIsdCksdGhpcy50cmFuc2l0aW9uaW5nPyh0aGlzLl9pbmNsdWRlZEVmZmVjdFZpZXcudHJhbnNpdGlvblN0ZXAoZSx0KSx0aGlzLl9leGNsdWRlZEVmZmVjdFZpZXcudHJhbnNpdGlvblN0ZXAoZSx0KSx0aGlzLnRyYW5zaXRpb25pbmd8fCh0aGlzLl9maWx0ZXI9bnVsbCkpOih0aGlzLl9leGNsdWRlZEVmZmVjdFZpZXcuc2NhbGU9dCx0aGlzLl9pbmNsdWRlZEVmZmVjdFZpZXcuc2NhbGU9dCl9ZW5kVHJhbnNpdGlvbnMoKXt0aGlzLl9pbmNsdWRlZEVmZmVjdFZpZXcuZW5kVHJhbnNpdGlvbnMoKSx0aGlzLl9leGNsdWRlZEVmZmVjdFZpZXcuZW5kVHJhbnNpdGlvbnMoKSx0aGlzLl9maWx0ZXI9bnVsbH1fdHJhbnNpdGlvblRvKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0KFwiZmVhdHVyZUVmZmVjdFwiKSxpPWUscz1pPy5pbmNsdWRlZEVmZmVjdCxmPWk/LmV4Y2x1ZGVkRWZmZWN0LGM9dGhpcy5faW5jbHVkZWRFZmZlY3RWaWV3LmNhblRyYW5zaXRpb25UbyhzKSYmdGhpcy5fZXhjbHVkZWRFZmZlY3RWaWV3LmNhblRyYW5zaXRpb25UbyhmKTt0aGlzLl9pbmNsdWRlZEVmZmVjdFZpZXcuZWZmZWN0PXMsdGhpcy5fZXhjbHVkZWRFZmZlY3RWaWV3LmVmZmVjdD1mLHRoaXMuX3NldChcImZlYXR1cmVFZmZlY3RcIixpKSx0aGlzLl9maWx0ZXI9aT8uZmlsdGVyfHx0Py5maWx0ZXJ8fG51bGwsY3x8dGhpcy5lbmRUcmFuc2l0aW9ucygpfX07ZShbaSgpXSxjLnByb3RvdHlwZSxcIl9maWx0ZXJcIix2b2lkIDApLGUoW2koKV0sYy5wcm90b3R5cGUsXCJfZXhjbHVkZWRFZmZlY3RWaWV3XCIsdm9pZCAwKSxlKFtpKCldLGMucHJvdG90eXBlLFwiX2luY2x1ZGVkRWZmZWN0Vmlld1wiLHZvaWQgMCksZShbaSgpXSxjLnByb3RvdHlwZSxcImR1cmF0aW9uXCIsdm9pZCAwKSxlKFtpKCldLGMucHJvdG90eXBlLFwiZXhjbHVkZWRFZmZlY3RzXCIsbnVsbCksZShbaSgpXSxjLnByb3RvdHlwZSxcImZlYXR1cmVFZmZlY3RcIixudWxsKSxlKFtpKCldLGMucHJvdG90eXBlLFwiZmlsdGVyXCIsbnVsbCksZShbaSgpXSxjLnByb3RvdHlwZSxcImhhc0VmZmVjdHNcIixudWxsKSxlKFtpKCldLGMucHJvdG90eXBlLFwiaW5jbHVkZWRFZmZlY3RzXCIsbnVsbCksZShbaSh7dmFsdWU6MH0pXSxjLnByb3RvdHlwZSxcInNjYWxlXCIsbnVsbCksZShbaSgpXSxjLnByb3RvdHlwZSxcInRyYW5zaXRpb25pbmdcIixudWxsKSxjPWUoW3MoXCJlc3JpLmxheWVycy5lZmZlY3RzLkZlYXR1cmVFZmZlY3RWaWV3XCIpXSxjKTtjb25zdCByPWM7ZXhwb3J0e3IgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbyhvKXtjb25zdCBuPW8ubGF5ZXI7aWYoXCJmbG9vckluZm9cImluIG4mJm4uZmxvb3JJbmZvPy5mbG9vckZpZWxkJiZcImZsb29yc1wiaW4gby52aWV3KXtyZXR1cm4gbChvLnZpZXcuZmxvb3JzLG4uZmxvb3JJbmZvLmZsb29yRmllbGQpfXJldHVybiBudWxsfWZ1bmN0aW9uIG4obyxuKXtyZXR1cm5cImZsb29ySW5mb1wiaW4gbiYmbi5mbG9vckluZm8/LmZsb29yRmllbGQ/bChvLG4uZmxvb3JJbmZvLmZsb29yRmllbGQpOm51bGx9ZnVuY3Rpb24gbChvLG4pe2lmKCFvPy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgbD1vLmZpbHRlcigobz0+XCJcIiE9PW8pKS5tYXAoKG89PmAnJHtvfSdgKSk7cmV0dXJuIGwucHVzaChcIicnXCIpLGAke259IElOICgke2wuam9pbihcIixcIil9KSBPUiAke259IElTIE5VTExgfWV4cG9ydHtvIGFzIGdldEZsb29yRmlsdGVyQ2xhdXNlLG4gYXMgZ2V0TGF5ZXJGbG9vckZpbHRlckNsYXVzZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vQWdncmVnYXRlR3JhcGhpYy5qc1wiO2ltcG9ydFwiLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3JlYWRlciBhcyBvfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBhIGZyb21cIi4vRmVhdHVyZVNldC5qc1wiO2ltcG9ydCBwIGZyb21cIi4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtsZXQgYz1jbGFzcyBleHRlbmRzIGF7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuZmVhdHVyZXM9W119cmVhZEZlYXR1cmVzKGUsdCl7Y29uc3Qgbz1wLmZyb21KU09OKHQuc3BhdGlhbFJlZmVyZW5jZSkscz1bXTtmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKyl7Y29uc3QgdD1lW2FdLHA9ci5mcm9tSlNPTih0KSxjPXQuZ2VvbWV0cnk/LnNwYXRpYWxSZWZlcmVuY2U7bnVsbD09cC5nZW9tZXRyeXx8Y3x8KHAuZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZT1vKTtjb25zdCBpPXQuYWdncmVnYXRlR2VvbWV0cmllcyxtPXAuYWdncmVnYXRlR2VvbWV0cmllcztpZihpJiZudWxsIT1tKWZvcihjb25zdCBlIGluIG0pe2NvbnN0IHI9bVtlXSx0PWlbZV0scz10Py5zcGF0aWFsUmVmZXJlbmNlO251bGw9PXJ8fHN8fChyLnNwYXRpYWxSZWZlcmVuY2U9byl9cy5wdXNoKHApfXJldHVybiBzfX07ZShbdCh7dHlwZTpbcl0sanNvbjp7d3JpdGU6ITB9fSldLGMucHJvdG90eXBlLFwiZmVhdHVyZXNcIix2b2lkIDApLGUoW28oXCJmZWF0dXJlc1wiKV0sYy5wcm90b3R5cGUsXCJyZWFkRmVhdHVyZXNcIixudWxsKSxjPWUoW3MoXCJlc3JpLnJlc3Quc3VwcG9ydC5BZ2dyZWdhdGVGZWF0dXJlU2V0XCIpXSxjKTtjb25zdCBpPWM7ZXhwb3J0e2kgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZVJlc29sdmVyIGFzIHQsb25BYm9ydE9yVGhyb3cgYXMgZSx0aHJvd0lmTm90QWJvcnRFcnJvciBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2cgYXMgaSxoIGFzIHIsciBhcyBoLGwgYXMgbyxtIGFzIHV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL21hdDMuanNcIjtpbXBvcnR7YyBhcyBhfWZyb21cIi4uLy4uLy4uL2NodW5rcy9tYXQzZjMyLmpzXCI7aW1wb3J0e2YgYXMgbn1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjMmYzMi5qc1wiO2ltcG9ydHtEaXNwbGF5T2JqZWN0IGFzIGR9ZnJvbVwiLi9EaXNwbGF5T2JqZWN0LmpzXCI7aW1wb3J0IGwgZnJvbVwiLi9JbWFnZXJ5Qml0bWFwU291cmNlLmpzXCI7aW1wb3J0e0NvbnRleHRUeXBlIGFzIGN9ZnJvbVwiLi4vLi4vd2ViZ2wvY29udGV4dFV0aWxzLmpzXCI7aW1wb3J0e1NpemVkUGl4ZWxGb3JtYXQgYXMgXyxQaXhlbEZvcm1hdCBhcyBwLFRleHR1cmVXcmFwTW9kZSBhcyBtfWZyb21cIi4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e1RleHR1cmUgYXMgeH1mcm9tXCIuLi8uLi93ZWJnbC9UZXh0dXJlLmpzXCI7aW1wb3J0e1RleHR1cmVEZXNjcmlwdG9yIGFzIGd9ZnJvbVwiLi4vLi4vd2ViZ2wvVGV4dHVyZURlc2NyaXB0b3IuanNcIjtmdW5jdGlvbiBmKHQpe3JldHVybiB0JiZcInJlbmRlclwiaW4gdH1mdW5jdGlvbiB3KHQpe2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4gZS53aWR0aD10LndpZHRoLGUuaGVpZ2h0PXQuaGVpZ2h0LHQucmVuZGVyKGUuZ2V0Q29udGV4dChcIjJkXCIpKSxlfWZ1bmN0aW9uIHYodCl7cmV0dXJuIGYodCk/dCBpbnN0YW5jZW9mIGw/dC5nZXRSZW5kZXJlZFJhc3RlclBpeGVscygpPy5yZW5kZXJlZFJhc3RlclBpeGVsczp3KHQpOnR9Y2xhc3MgYiBleHRlbmRzIGR7Y29uc3RydWN0b3IodD1udWxsLGU9ITEpe3N1cGVyKCksdGhpcy5ibGVuZEZ1bmN0aW9uPVwic3RhbmRhcmRcIix0aGlzLl9zb3VyY2VXaWR0aD0wLHRoaXMuX3NvdXJjZUhlaWdodD0wLHRoaXMuX3RleHR1cmVJbnZhbGlkYXRlZD0hMSx0aGlzLl90ZXh0dXJlPW51bGwsdGhpcy5zdGVuY2lsUmVmPTAsdGhpcy5jb29yZFNjYWxlPVsxLDFdLHRoaXMuX2hlaWdodD12b2lkIDAsdGhpcy5waXhlbFJhdGlvPTEsdGhpcy5yZXNvbHV0aW9uPTAsdGhpcy5yb3RhdGlvbj0wLHRoaXMuX3NvdXJjZT1udWxsLHRoaXMuX3dpZHRoPXZvaWQgMCx0aGlzLng9MCx0aGlzLnk9MCx0aGlzLmltbXV0YWJsZT1lLHRoaXMuc291cmNlPXQsdGhpcy5yZXF1ZXN0UmVuZGVyPXRoaXMucmVxdWVzdFJlbmRlci5iaW5kKHRoaXMpfWRlc3Ryb3koKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZT1udWxsKSxudWxsIT10aGlzLl91cGxvYWRTdGF0dXMmJih0aGlzLl91cGxvYWRTdGF0dXMuY29udHJvbGxlci5hYm9ydCgpLHRoaXMuX3VwbG9hZFN0YXR1cz1udWxsKX1nZXQgaXNTb3VyY2VTY2FsZWQoKXtyZXR1cm4gdGhpcy53aWR0aCE9PXRoaXMuX3NvdXJjZVdpZHRofHx0aGlzLmhlaWdodCE9PXRoaXMuX3NvdXJjZUhlaWdodH1nZXQgaGVpZ2h0KCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX2hlaWdodD90aGlzLl9oZWlnaHQ6dGhpcy5fc291cmNlSGVpZ2h0fXNldCBoZWlnaHQodCl7dGhpcy5faGVpZ2h0PXR9Z2V0IHNvdXJjZSgpe3JldHVybiB0aGlzLl9zb3VyY2V9c2V0IHNvdXJjZSh0KXtudWxsPT10JiZudWxsPT10aGlzLl9zb3VyY2V8fCh0aGlzLl9zb3VyY2U9dCx0aGlzLmludmFsaWRhdGVUZXh0dXJlKCksdGhpcy5yZXF1ZXN0UmVuZGVyKCkpfWdldCB3aWR0aCgpe3JldHVybiB2b2lkIDAhPT10aGlzLl93aWR0aD90aGlzLl93aWR0aDp0aGlzLl9zb3VyY2VXaWR0aH1zZXQgd2lkdGgodCl7dGhpcy5fd2lkdGg9dH1iZWZvcmVSZW5kZXIodCl7c3VwZXIuYmVmb3JlUmVuZGVyKHQpLHRoaXMudXBkYXRlVGV4dHVyZSh0KX1hc3luYyBzZXRTb3VyY2VBc3luYyhzLGkpe251bGwhPXRoaXMuX3VwbG9hZFN0YXR1cyYmdGhpcy5fdXBsb2FkU3RhdHVzLmNvbnRyb2xsZXIuYWJvcnQoKTtjb25zdCByPW5ldyBBYm9ydENvbnRyb2xsZXIsaD10KCk7cmV0dXJuIGUoaSwoKCk9PnIuYWJvcnQoKSkpLGUociwodD0+aC5yZWplY3QodCkpKSx0aGlzLl91cGxvYWRTdGF0dXM9e2NvbnRyb2xsZXI6cixyZXNvbHZlcjpofSx0aGlzLnNvdXJjZT1zLGgucHJvbWlzZX1pbnZhbGlkYXRlVGV4dHVyZSgpe3RoaXMuX3RleHR1cmVJbnZhbGlkYXRlZHx8KHRoaXMuX3RleHR1cmVJbnZhbGlkYXRlZD0hMCx0aGlzLl9zb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50Pyh0aGlzLl9zb3VyY2VIZWlnaHQ9dGhpcy5fc291cmNlLm5hdHVyYWxIZWlnaHQsdGhpcy5fc291cmNlV2lkdGg9dGhpcy5fc291cmNlLm5hdHVyYWxXaWR0aCk6dGhpcy5fc291cmNlJiYodGhpcy5fc291cmNlSGVpZ2h0PXRoaXMuX3NvdXJjZS5oZWlnaHQsdGhpcy5fc291cmNlV2lkdGg9dGhpcy5fc291cmNlLndpZHRoKSl9dXBkYXRlVHJhbnNpdGlvblByb3BlcnRpZXModCxlKXt0Pj02NCYmKHRoaXMuZmFkZVRyYW5zaXRpb25FbmFibGVkPSExLHRoaXMuaW5GYWRlVHJhbnNpdGlvbj0hMSksc3VwZXIudXBkYXRlVHJhbnNpdGlvblByb3BlcnRpZXModCxlKX1zZXRUcmFuc2Zvcm0odCl7Y29uc3QgZT1pKHRoaXMudHJhbnNmb3Jtcy5kdnMpLFtzLGFdPXQudG9TY3JlZW5Ob1JvdGF0aW9uKFswLDBdLFt0aGlzLngsdGhpcy55XSksZD10aGlzLnJlc29sdXRpb24vdGhpcy5waXhlbFJhdGlvL3QucmVzb2x1dGlvbixsPWQqdGhpcy53aWR0aCxjPWQqdGhpcy5oZWlnaHQsXz1NYXRoLlBJKnRoaXMucm90YXRpb24vMTgwO3IoZSxlLG4ocyxhKSkscihlLGUsbihsLzIsYy8yKSksaChlLGUsLV8pLHIoZSxlLG4oLWwvMiwtYy8yKSksbyhlLGUsbihsLGMpKSx1KHRoaXMudHJhbnNmb3Jtcy5kdnMsdC5kaXNwbGF5Vmlld01hdDMsZSl9c2V0U2FtcGxpbmdQcm9maWxlKHQpe3RoaXMuX3RleHR1cmUmJih0Lm1pcHMmJiF0aGlzLl90ZXh0dXJlLmRlc2NyaXB0b3IuaGFzTWlwbWFwJiZ0aGlzLl90ZXh0dXJlLmdlbmVyYXRlTWlwbWFwKCksdGhpcy5fdGV4dHVyZS5zZXRTYW1wbGluZ01vZGUodC5zYW1wbGluZ01vZGUpKX1iaW5kKHQsZSl7dGhpcy5fdGV4dHVyZSYmdC5iaW5kVGV4dHVyZSh0aGlzLl90ZXh0dXJlLGUpfWFzeW5jIHVwZGF0ZVRleHR1cmUoe2NvbnRleHQ6dCxwYWludGVyOmV9KXtpZighdGhpcy5fdGV4dHVyZUludmFsaWRhdGVkKXJldHVybjtpZih0aGlzLl90ZXh0dXJlSW52YWxpZGF0ZWQ9ITEsdGhpcy5fdGV4dHVyZXx8KHRoaXMuX3RleHR1cmU9dGhpcy5fY3JlYXRlVGV4dHVyZSh0KSksIXRoaXMuc291cmNlKXJldHVybiB2b2lkIHRoaXMuX3RleHR1cmUuc2V0RGF0YShudWxsKTt0aGlzLl90ZXh0dXJlLnJlc2l6ZSh0aGlzLl9zb3VyY2VXaWR0aCx0aGlzLl9zb3VyY2VIZWlnaHQpO2NvbnN0IGk9dih0aGlzLnNvdXJjZSk7dHJ5e2lmKG51bGwhPXRoaXMuX3VwbG9hZFN0YXR1cyl7Y29uc3R7Y29udHJvbGxlcjp0LHJlc29sdmVyOnN9PXRoaXMuX3VwbG9hZFN0YXR1cyxyPXtzaWduYWw6dC5zaWduYWx9LHt3aWR0aDpoLGhlaWdodDpvfT10aGlzLHU9dGhpcy5fdGV4dHVyZSxhPWUudGV4dHVyZVVwbG9hZE1hbmFnZXI7YXdhaXQgYS5lbnF1ZXVlVGV4dHVyZVVwZGF0ZSh7ZGF0YTppLHRleHR1cmU6dSx3aWR0aDpoLGhlaWdodDpvfSxyKSxzLnJlc29sdmUoKSx0aGlzLl91cGxvYWRTdGF0dXM9bnVsbH1lbHNlIHRoaXMuX3RleHR1cmUuc2V0RGF0YShpKTt0aGlzLnJlYWR5KCl9Y2F0Y2gocil7cyhyKX19b25EZXRhY2goKXt0aGlzLmRlc3Ryb3koKX1fY3JlYXRlVHJhbnNmb3Jtcygpe3JldHVybntkdnM6YSgpfX1fY3JlYXRlVGV4dHVyZSh0KXtjb25zdCBlPXRoaXMuaW1tdXRhYmxlJiZ0LnR5cGU9PT1jLldFQkdMMixzPW5ldyBnO3JldHVybiBzLmludGVybmFsRm9ybWF0PWU/Xy5SR0JBODpwLlJHQkEscy53cmFwTW9kZT1tLkNMQU1QX1RPX0VER0Uscy5pc0ltbXV0YWJsZT1lLHMud2lkdGg9dGhpcy5fc291cmNlV2lkdGgscy5oZWlnaHQ9dGhpcy5fc291cmNlSGVpZ2h0LG5ldyB4KHQscyl9fWV4cG9ydHtiIGFzIEJpdG1hcCxmIGFzIGlzSW1hZ2VTb3VyY2UsdyBhcyByYXN0ZXJpemV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL21hdDNmMzIuanNcIjtpbXBvcnR7Qml0bWFwIGFzIGV9ZnJvbVwiLi9CaXRtYXAuanNcIjtpbXBvcnR7VGlsZWREaXNwbGF5T2JqZWN0IGFzIHN9ZnJvbVwiLi93ZWJnbC9UaWxlZERpc3BsYXlPYmplY3QuanNcIjtjbGFzcyByIGV4dGVuZHMgc3tjb25zdHJ1Y3Rvcih0LHMscixpLGEsbixtPW51bGwpe3N1cGVyKHQscyxyLGksYSxuKSx0aGlzLmJpdG1hcD1uZXcgZShtKSx0aGlzLmJpdG1hcC5jb29yZFNjYWxlPVthLG5dLHRoaXMuYml0bWFwLm9uY2UoXCJpc1JlYWR5XCIsKCgpPT50aGlzLnJlYWR5KCkpKX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLHRoaXMuYml0bWFwLmRlc3Ryb3koKX1iZWZvcmVSZW5kZXIodCl7dGhpcy5iaXRtYXAuYmVmb3JlUmVuZGVyKHQpLHN1cGVyLmJlZm9yZVJlbmRlcih0KX1hZnRlclJlbmRlcih0KXt0aGlzLmJpdG1hcC5hZnRlclJlbmRlcih0KSxzdXBlci5hZnRlclJlbmRlcih0KX1zZXQgc3RlbmNpbFJlZih0KXt0aGlzLmJpdG1hcC5zdGVuY2lsUmVmPXR9Z2V0IHN0ZW5jaWxSZWYoKXtyZXR1cm4gdGhpcy5iaXRtYXAuc3RlbmNpbFJlZn1fY3JlYXRlVHJhbnNmb3Jtcygpe3JldHVybntkdnM6dCgpLHRpbGVNYXQzOnQoKX19c2V0VHJhbnNmb3JtKHQpe3N1cGVyLnNldFRyYW5zZm9ybSh0KSx0aGlzLmJpdG1hcC50cmFuc2Zvcm1zLmR2cz10aGlzLnRyYW5zZm9ybXMuZHZzfW9uQXR0YWNoKCl7dGhpcy5iaXRtYXAuc3RhZ2U9dGhpcy5zdGFnZX1vbkRldGFjaCgpe3RoaXMuYml0bWFwJiYodGhpcy5iaXRtYXAuc3RhZ2U9bnVsbCl9fWV4cG9ydHtyIGFzIEJpdG1hcFRpbGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjcmVhdGUgYXMgZX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e0JpdG1hcFRpbGUgYXMgaX1mcm9tXCIuL0JpdG1hcFRpbGUuanNcIjtpbXBvcnR7YnJ1c2hlcyBhcyByfWZyb21cIi4vYnJ1c2hlcy5qc1wiO2ltcG9ydHtXR0xEcmF3UGhhc2UgYXMgdH1mcm9tXCIuL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi93ZWJnbC9UaWxlQ29udGFpbmVyLmpzXCI7Y2xhc3MgbiBleHRlbmRzIHN7Z2V0IHJlcXVpcmVzRGVkaWNhdGVkRkJPKCl7cmV0dXJuIHRoaXMuY2hpbGRyZW4uc29tZSgoZT0+XCJhZGRpdGl2ZVwiPT09ZS5iaXRtYXAuYmxlbmRGdW5jdGlvbikpfWNyZWF0ZVRpbGUocil7Y29uc3QgdD10aGlzLl90aWxlSW5mb1ZpZXcuZ2V0VGlsZUJvdW5kcyhlKCkscikscz10aGlzLl90aWxlSW5mb1ZpZXcuZ2V0VGlsZVJlc29sdXRpb24oci5sZXZlbCksW24sb109dGhpcy5fdGlsZUluZm9WaWV3LnRpbGVJbmZvLnNpemU7cmV0dXJuIG5ldyBpKHIscyx0WzBdLHRbM10sbixvKX1wcmVwYXJlUmVuZGVyUGFzc2VzKGUpe2NvbnN0IGk9ZS5yZWdpc3RlclJlbmRlclBhc3Moe25hbWU6XCJiaXRtYXAgKHRpbGUpXCIsYnJ1c2hlczpbci5iaXRtYXBdLHRhcmdldDooKT0+dGhpcy5jaGlsZHJlbi5tYXAoKGU9PmUuYml0bWFwKSksZHJhd1BoYXNlOnQuTUFQfSk7cmV0dXJuWy4uLnN1cGVyLnByZXBhcmVSZW5kZXJQYXNzZXMoZSksaV19ZG9SZW5kZXIoZSl7dGhpcy52aXNpYmxlJiZlLmRyYXdQaGFzZT09PXQuTUFQJiZzdXBlci5kb1JlbmRlcihlKX19ZXhwb3J0e24gYXMgQml0bWFwVGlsZUNvbnRhaW5lcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZVJlc29sdmVyIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL1F1ZXVlLmpzXCI7aW1wb3J0e0F0dHJpYnV0ZVN0b3JlVmlldyBhcyByfWZyb21cIi4vd2ViZ2wvQXR0cmlidXRlU3RvcmVWaWV3LmpzXCI7aW1wb3J0IHMgZnJvbVwiLi93ZWJnbC9UaWxlQ29udGFpbmVyLmpzXCI7aW1wb3J0e1dHTFJlbmRlcmVySW5mbyBhcyBpfWZyb21cIi4vd2ViZ2wvV0dMUmVuZGVyZXJJbmZvLmpzXCI7Y2xhc3MgbyBleHRlbmRzIHN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fcmVuZGVyZXJJbmZvPW5ldyBpLHRoaXMuX21hdGVyaWFsSXRlbXNSZXF1ZXN0UXVldWU9bmV3IHQsdGhpcy5hdHRyaWJ1dGVWaWV3PW5ldyByKCgoKT0+dGhpcy5vbkF0dHJpYnV0ZVN0b3JlVXBkYXRlKCkpKX1kZXN0cm95KCl7dGhpcy5jaGlsZHJlbi5mb3JFYWNoKChlPT5lLmRlc3Ryb3koKSkpLHRoaXMucmVtb3ZlQWxsQ2hpbGRyZW4oKSx0aGlzLmF0dHJpYnV0ZVZpZXcuZGVzdHJveSgpLHRoaXMuX21hdGVyaWFsSXRlbXNSZXF1ZXN0UXVldWUuY2xlYXIoKX1zZXRSZW5kZXJlckluZm8oZSx0LHIpe3RoaXMuX3JlbmRlcmVySW5mby5zZXRJbmZvKGUsdCxyKSx0aGlzLnJlcXVlc3RSZW5kZXIoKX1hc3luYyBnZXRNYXRlcmlhbEl0ZW1zKHQscil7aWYoIXR8fDA9PT10Lmxlbmd0aClyZXR1cm5bXTtjb25zdCBzPWUoKTtyZXR1cm4gdGhpcy5fbWF0ZXJpYWxJdGVtc1JlcXVlc3RRdWV1ZS5wdXNoKHtpdGVtczp0LGFib3J0T3B0aW9uczpyLHJlc29sdmVyOnN9KSx0aGlzLnJlcXVlc3RSZW5kZXIoKSxzLnByb21pc2V9ZG9SZW5kZXIoZSl7aWYoZS5jb250ZXh0LmNhcGFiaWxpdGllcy5lbmFibGUoXCJ0ZXh0dXJlRmxvYXRcIiksZS5jb250ZXh0LmNhcGFiaWxpdGllcy5lbmFibGUoXCJ2YW9cIiksdGhpcy5fbWF0ZXJpYWxJdGVtc1JlcXVlc3RRdWV1ZS5sZW5ndGg+MCl7bGV0IHQ9dGhpcy5fbWF0ZXJpYWxJdGVtc1JlcXVlc3RRdWV1ZS5wb3AoKTtmb3IoO3Q7KXRoaXMuX3Byb2Nlc3NNYXRlcmlhbEl0ZW1SZXF1ZXN0KGUsdCksdD10aGlzLl9tYXRlcmlhbEl0ZW1zUmVxdWVzdFF1ZXVlLnBvcCgpfXN1cGVyLmRvUmVuZGVyKGUpfXJlbmRlckNoaWxkcmVuKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuY2hpbGRyZW4pdC5jb21taXQoZSk7dGhpcy5fcmVuZGVyZXJJbmZvLnVwZGF0ZShlLnN0YXRlKSxzdXBlci5yZW5kZXJDaGlsZHJlbihlKX1jcmVhdGVSZW5kZXJQYXJhbXMoZSl7Y29uc3QgdD1zdXBlci5jcmVhdGVSZW5kZXJQYXJhbXMoZSk7cmV0dXJuIHQucmVuZGVyZXJJbmZvPXRoaXMuX3JlbmRlcmVySW5mbyx0LmF0dHJpYnV0ZVZpZXc9dGhpcy5hdHRyaWJ1dGVWaWV3LHR9b25BdHRyaWJ1dGVTdG9yZVVwZGF0ZSgpe31fcHJvY2Vzc01hdGVyaWFsSXRlbVJlcXVlc3QoZSx7aXRlbXM6dCxhYm9ydE9wdGlvbnM6cixyZXNvbHZlcjpzfSl7Y29uc3R7cGFpbnRlcjppLHBpeGVsUmF0aW86b309ZSxuPXQubWFwKChlPT5pLnRleHR1cmVNYW5hZ2VyLnJhc3Rlcml6ZUl0ZW0oZS5zeW1ib2wsbyxlLmdseXBoSWRzLHIpKSk7UHJvbWlzZS5hbGwobikudGhlbigoZT0+e2lmKCF0aGlzLnN0YWdlKXJldHVybiB2b2lkIHMucmVqZWN0KCk7Y29uc3Qgcj1lLm1hcCgoKGUscik9Pih7aWQ6dFtyXS5pZCxtb3NhaWNJdGVtOmV9KSkpO3MucmVzb2x2ZShyKX0pLHMucmVqZWN0KX19ZXhwb3J0e28gYXMgRmVhdHVyZUNvbnRhaW5lcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgbHtjb25zdHJ1Y3RvcihsLGUsdCl7dGhpcy5waXhlbEJsb2NrPWwsdGhpcy5leHRlbnQ9ZSx0aGlzLm9yaWdpbmFsUGl4ZWxCbG9jaz10fWdldCB3aWR0aCgpe3JldHVybiBudWxsIT10aGlzLnBpeGVsQmxvY2s/dGhpcy5waXhlbEJsb2NrLndpZHRoOjB9Z2V0IGhlaWdodCgpe3JldHVybiBudWxsIT10aGlzLnBpeGVsQmxvY2s/dGhpcy5waXhlbEJsb2NrLmhlaWdodDowfXJlbmRlcihsKXtjb25zdCBlPXRoaXMucGl4ZWxCbG9jaztpZihudWxsPT1lKXJldHVybjtjb25zdCB0PXRoaXMuZmlsdGVyKHtleHRlbnQ6dGhpcy5leHRlbnQscGl4ZWxCbG9jazp0aGlzLm9yaWdpbmFsUGl4ZWxCbG9jaz8/ZX0pO2lmKG51bGw9PXQucGl4ZWxCbG9jaylyZXR1cm47dC5waXhlbEJsb2NrLm1hc2tJc0FscGhhJiYodC5waXhlbEJsb2NrLnByZW11bHRpcGx5QWxwaGE9ITApO2NvbnN0IGk9dC5waXhlbEJsb2NrLmdldEFzUkdCQSgpLGg9bC5jcmVhdGVJbWFnZURhdGEodC5waXhlbEJsb2NrLndpZHRoLHQucGl4ZWxCbG9jay5oZWlnaHQpO2guZGF0YS5zZXQoaSksbC5wdXRJbWFnZURhdGEoaCwwLDApfWdldFJlbmRlcmVkUmFzdGVyUGl4ZWxzKCl7Y29uc3QgbD10aGlzLmZpbHRlcih7ZXh0ZW50OnRoaXMuZXh0ZW50LHBpeGVsQmxvY2s6dGhpcy5waXhlbEJsb2NrfSk7cmV0dXJuIG51bGw9PWwucGl4ZWxCbG9jaz9udWxsOihsLnBpeGVsQmxvY2subWFza0lzQWxwaGEmJihsLnBpeGVsQmxvY2sucHJlbXVsdGlwbHlBbHBoYT0hMCkse3dpZHRoOmwucGl4ZWxCbG9jay53aWR0aCxoZWlnaHQ6bC5waXhlbEJsb2NrLmhlaWdodCxyZW5kZXJlZFJhc3RlclBpeGVsczpuZXcgVWludDhBcnJheShsLnBpeGVsQmxvY2suZ2V0QXNSR0JBKCkuYnVmZmVyKX0pfX1leHBvcnR7bCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2Fzc2VydElzU29tZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7RnJlZUxpc3QgYXMgZX1mcm9tXCIuL2NwdU1hcHBlZC9GcmVlTGlzdC5qc1wiO2NvbnN0IHM9aGFzKFwiZXNyaS0yZC1sb2ctYWxsb2NhdGlvbnNcIik7Y2xhc3Mgcntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2FycmF5PXQsdGhpcy5fcG9vbD1lfWdldCBhcnJheSgpe3JldHVybiB0aGlzLl9hcnJheX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2FycmF5Lmxlbmd0aH1zdGF0aWMgY3JlYXRlKHQsZSl7Y29uc3Qgcz1lLmFjcXVpcmUodCk7cmV0dXJuIG5ldyByKHMsZSl9ZXhwYW5kKHQpe2NvbnN0IGU9dGhpcy5fcG9vbC5hY3F1aXJlKHQpO2Uuc2V0KHRoaXMuX2FycmF5KSx0aGlzLl9wb29sLnJlbGVhc2UodGhpcy5fYXJyYXkpLHRoaXMuX2FycmF5PWV9ZGVzdHJveSgpe3RoaXMuX3Bvb2wucmVsZWFzZSh0aGlzLl9hcnJheSl9c2V0KHQsZSl7dGhpcy5fYXJyYXkuc2V0KHQuX2FycmF5LGUpfXNsaWNlKCl7Y29uc3QgdD10aGlzLl9wb29sLmFjcXVpcmUodGhpcy5fYXJyYXkuYnl0ZUxlbmd0aCk7cmV0dXJuIHQuc2V0KHRoaXMuX2FycmF5KSxuZXcgcih0LHRoaXMuX3Bvb2wpfX1jbGFzcyBhe2NvbnN0cnVjdG9yKCl7dGhpcy5fZGF0YT1uZXcgQXJyYXlCdWZmZXIoYS5CWVRFX0xFTkdUSCksdGhpcy5fZnJlZUxpc3Q9bmV3IGUoe3N0YXJ0OjAsZW5kOnRoaXMuX2RhdGEuYnl0ZUxlbmd0aH0pfXN0YXRpYyBnZXQgQllURV9MRU5HVEgoKXtyZXR1cm4gNjRlNn1nZXQgYnVmZmVyKCl7cmV0dXJuIHRoaXMuX2RhdGF9YWxsb2NhdGUodCl7Y29uc3QgZT10aGlzLl9mcmVlTGlzdC5maXJzdEZpdCh0KTtyZXR1cm4gbnVsbD09ZT9udWxsOm5ldyBVaW50MzJBcnJheSh0aGlzLl9kYXRhLGUsdC9VaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCl9ZnJlZSh0KXt0aGlzLl9mcmVlTGlzdC5mcmVlKHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpfX1jbGFzcyBpe2NvbnN0cnVjdG9yKCl7dGhpcy5fYnl0ZXNBbGxvY2F0ZWQ9MCx0aGlzLl9wYWdlcz1bXSx0aGlzLl9wYWdlc0J5QnVmZmVyPW5ldyBNYXAsdGhpcy5fYWRkUGFnZSgpfWRlc3Ryb3koKXt0aGlzLl9wYWdlcz1bXSx0aGlzLl9wYWdlc0J5QnVmZmVyPW51bGx9Z2V0IF9ieXRlc1RvdGFsKCl7cmV0dXJuIHRoaXMuX3BhZ2VzLmxlbmd0aCphLkJZVEVfTEVOR1RIfWFjcXVpcmUoZSl7aWYodGhpcy5fYnl0ZXNBbGxvY2F0ZWQrPWUscyYmY29uc29sZS5sb2coYEFsbG9jYXRpbmcgJHtlfSwgKCR7dGhpcy5fYnl0ZXNBbGxvY2F0ZWR9IC8gJHt0aGlzLl9ieXRlc1RvdGFsfSlgKSxlPmEuQllURV9MRU5HVEgpcmV0dXJuIG5ldyBVaW50MzJBcnJheShlL1VpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9wYWdlcyl7Y29uc3Qgcz10LmFsbG9jYXRlKGUpO2lmKG51bGwhPXMpcmV0dXJuIHN9Y29uc3Qgcj10aGlzLl9hZGRQYWdlKCkuYWxsb2NhdGUoZSk7cmV0dXJuIHQocixcIkV4cGVjdGVkIHRvIGFsbG9jYXRlIHBhZ2VcIikscn1yZWxlYXNlKHQpe3RoaXMuX2J5dGVzQWxsb2NhdGVkLT10LmJ5dGVMZW5ndGgscyYmY29uc29sZS5sb2coYEZyZWVpbmcgJHt0LmJ5dGVMZW5ndGh9LCAoJHt0aGlzLl9ieXRlc0FsbG9jYXRlZH0gLyAke3RoaXMuX2J5dGVzVG90YWx9KWApO2NvbnN0IGU9dGhpcy5fcGFnZXNCeUJ1ZmZlci5nZXQodC5idWZmZXIpO2UmJmUuZnJlZSh0KX1fYWRkUGFnZSgpe2NvbnN0IHQ9bmV3IGE7cmV0dXJuIHRoaXMuX3BhZ2VzLnB1c2godCksdGhpcy5fcGFnZXNCeUJ1ZmZlci5zZXQodC5idWZmZXIsdCksdH19ZXhwb3J0e2kgYXMgQnVmZmVyUG9vbCxyIGFzIFR5cGVkQnVmZmVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0NpcmN1bGFyQXJyYXkuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2MgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvbWF0MmRmMzIuanNcIjtpbXBvcnR7V0dMR2VvbWV0cnlUeXBlIGFzIHJ9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtmb3JFYWNoR2VvbWV0cnlUeXBlIGFzIHN9ZnJvbVwiLi9VdGlscy5qc1wiO2ltcG9ydHtXR0xUaWxlIGFzIGl9ZnJvbVwiLi9XR0xUaWxlLmpzXCI7aW1wb3J0e01ldHJpY1JlYWRlciBhcyBhfWZyb21cIi4vY29sbGlzaW9ucy9NZXRyaWNSZWFkZXIuanNcIjtpbXBvcnR7R2VvbWV0cnkgYXMgbn1mcm9tXCIuL2NwdU1hcHBlZC9HZW9tZXRyeS5qc1wiO2NvbnN0IGg9NTAsZD00LG89MTAwO2xldCB1PTA7Y2xhc3MgYyBleHRlbmRzIGl7Y29uc3RydWN0b3IocixzLGksYSxuLGgpe3N1cGVyKHIscyxpLGEpLHRoaXMuaW5zdGFuY2VJZD11KyssdGhpcy5wYXRjaENvdW50PTAsdGhpcy5fcmVuZGVyU3RhdGU9e2N1cnJlbnQ6e2dlb21ldHJ5Om5ldyBNYXAsbWV0cmljczpudWxsfSxuZXh0Om51bGwsc3dhcDohMSxzd2FwRnJhbWVzOjAsbG9ja2VkOiExfSx0aGlzLl9wYXRjaGVzPW5ldyBlKG8pLHRoaXMuX2J1ZmZlclBhdGNoZXM9bmV3IGUobyksdGhpcy5fbGFzdENvbW1pdFRpbWU9MCx0aGlzLnRyYW5zZm9ybXMubGFiZWxNYXQyZD10KCksdGhpcy5fc3RvcmU9bix0aGlzLl9yZXF1ZXN0TGFiZWxVcGRhdGU9aH1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLHRoaXMuX3JlbmRlclN0YXRlLmN1cnJlbnQuZ2VvbWV0cnkuZm9yRWFjaCgoZT0+ZS5kZXN0cm95KCkpKSxudWxsIT10aGlzLl9yZW5kZXJTdGF0ZS5uZXh0JiZ0aGlzLl9yZW5kZXJTdGF0ZS5uZXh0Lmdlb21ldHJ5LmZvckVhY2goKGU9PmUuZGVzdHJveSgpKSksdGhpcy5fcmVuZGVyU3RhdGUuY3VycmVudD1udWxsLHRoaXMuX3JlbmRlclN0YXRlLm5leHQ9bnVsbH1nZXQgbGFiZWxNZXRyaWNzKCl7cmV0dXJuIHRoaXMuX3JlbmRlclN0YXRlLmN1cnJlbnQubWV0cmljc31nZXQgaGFzRGF0YSgpe3JldHVybiEhdGhpcy5fcmVuZGVyU3RhdGUuY3VycmVudC5nZW9tZXRyeS5zaXplfWdldCB1cGRhdGVTdGF0dXMoKXtyZXR1cm5gcmVuZGVyU3RhdGU6JHshIXRoaXMuX3JlbmRlclN0YXRlLmN1cnJlbnR9LCAkeyEhdGhpcy5fcmVuZGVyU3RhdGUubmV4dH0sIGhhc0RhdGE6JHt0aGlzLmhhc0RhdGF9LCBxdWV1ZToke3RoaXMuX3BhdGNoZXMuc2l6ZX1gfWdldEdlb21ldHJ5KGUpe3JldHVybiB0aGlzLl9yZW5kZXJTdGF0ZS5jdXJyZW50Lmdlb21ldHJ5LmdldChlKX1wYXRjaChlLHQpe3RoaXMucGF0Y2hDb3VudCsrLGUuY2xlYXImJnRoaXMuX3BhdGNoZXMuc2l6ZT49aCYmdGhpcy5fZHJvcFBhdGNoZXMoKTtjb25zdCByPWUscz1yLmFkZE9yVXBkYXRlJiZ0aGlzLmtleS5pZCE9PXIuYWRkT3JVcGRhdGUudGlsZUtleU9yaWdpbjt0JiZzP3RoaXMuX2J1ZmZlclBhdGNoZXMuZW5xdWV1ZShyKTooci5zb3J0PXIuc29ydCYmIXQsdGhpcy5fcGF0Y2hlcy5lbnF1ZXVlKHIpKSx0aGlzLnJlcXVlc3RSZW5kZXIoKX1jb21taXQoZSl7aWYodGhpcy5fbGFzdENvbW1pdFRpbWUhPT1lLnRpbWUpe3RoaXMuX2xhc3RDb21taXRUaW1lPWUudGltZTtmb3IobGV0IGU9MDtlPGQ7ZSsrKXRoaXMuX3VwZGF0ZU1lc2goKSx0aGlzLmlzUmVhZHkmJnRoaXMuX3VwZGF0ZUJ1ZmZlck1lc2goKTt0aGlzLl9yZW5kZXJTdGF0ZS5zd2FwJiYodGhpcy5fc3dhcFJlbmRlclN0YXRlcygpLHRoaXMucmVxdWVzdFJlbmRlcigpKX19bG9jaygpe3RoaXMuX3JlbmRlclN0YXRlLmxvY2tlZD0hMH11bmxvY2soKXt0aGlzLl9yZW5kZXJTdGF0ZS5sb2NrZWQ9ITEsdGhpcy5fZmx1c2hVcGRhdGVzKCksdGhpcy5fc3dhcCgpfV9zd2FwUmVuZGVyU3RhdGVzKCl7aWYodGhpcy5fcmVuZGVyU3RhdGUubmV4dCl7aWYodGhpcy5fcmVuZGVyU3RhdGUubG9ja2VkKXJldHVybiB0aGlzLl9yZW5kZXJTdGF0ZS5zd2FwPSEwLHZvaWQgdGhpcy5yZXF1ZXN0UmVuZGVyKCk7dGhpcy5fcmVuZGVyU3RhdGUuc3dhcD0hMCx0aGlzLl9zd2FwKCl9fV9zd2FwKCl7dGhpcy5fcmVuZGVyU3RhdGUuc3dhcCYmKHRoaXMuX3JlbmRlclN0YXRlLnN3YXA9ITEsbnVsbCE9dGhpcy5fcmVuZGVyU3RhdGUubmV4dCYmKHRoaXMuX3JlbmRlclN0YXRlLmN1cnJlbnQuZ2VvbWV0cnkuZm9yRWFjaCgoZT0+ZS5kZXN0cm95KCkpKSx0aGlzLl9yZW5kZXJTdGF0ZS5jdXJyZW50PXRoaXMuX3JlbmRlclN0YXRlLm5leHQsdGhpcy5fcmVuZGVyU3RhdGUubmV4dD1udWxsLHRoaXMuX3JlcXVlc3RMYWJlbFVwZGF0ZSgpKSl9X2ZsdXNoVXBkYXRlcygpe2xldCBlPXRoaXMuX3BhdGNoZXMubWF4U2l6ZTtmb3IoO3RoaXMuX3BhdGNoZXMuc2l6ZSYmZS0tOyl0aGlzLl91cGRhdGVNZXNoKCksdGhpcy5fc3dhcCgpfV91cGRhdGVCdWZmZXJNZXNoKCl7Y29uc3QgZT10aGlzLl9idWZmZXJQYXRjaGVzLnBlZWsoKTtpZihudWxsPT1lfHwhZS5jbGVhcnx8bnVsbD09PXRoaXMuX3JlbmRlclN0YXRlLm5leHQpZm9yKDt0aGlzLl9idWZmZXJQYXRjaGVzLnNpemU7KXtjb25zdCBlPXRoaXMuX2J1ZmZlclBhdGNoZXMuZGVxdWV1ZSgpO251bGwhPWUmJnRoaXMuX3BhdGNoQnVmZmVyKGUpfX1fdXBkYXRlTWVzaCgpe2NvbnN0IGU9dGhpcy5fcGF0Y2hlcy5kZXF1ZXVlKCk7aWYobnVsbCE9ZSl7aWYoaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikpe2NvbnN0IHQ9ZSxyPXQuYWRkT3JVcGRhdGU/LnRpbGVLZXlPcmlnaW4scz10aGlzLmtleS5pZD09PXI/XCJTRUxGXCI6cjtsZXQgaT1cIlwiO2ZvcihsZXQgZT0wO2U8NTtlKyspaSs9dC5hZGRPclVwZGF0ZT8uZGF0YVtlXT8ucmVjb3Jkcz8uYnl0ZUxlbmd0aD8xOjA7Y29uc29sZS5kZWJ1Zyh0aGlzLmtleS5pZCxcIkZlYXR1cmVUaWxlOnBhdGNoXCIsYFtjbGVhcjogJHt0LmNsZWFyfSBvcmlnaW46ICR7c30sIGVuZDoke3QuZW5kfSBkYXRhOiR7aX1dYCl9ITA9PT1lLmNsZWFyJiYobnVsbCE9dGhpcy5fcmVuZGVyU3RhdGUubmV4dCYmKHRoaXMuX3JlbmRlclN0YXRlLm5leHQuZ2VvbWV0cnkuZm9yRWFjaCgoZT0+ZS5kZXN0cm95KCkpKSx0aGlzLl9yZW5kZXJTdGF0ZS5uZXh0PW51bGwpLHRoaXMuX3JlbmRlclN0YXRlLm5leHQ9e2dlb21ldHJ5Om5ldyBNYXAsbWV0cmljczpudWxsfSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1Zyh0aGlzLmtleS5pZCxcIkZlYXR1cmVUaWxlOl91cGRhdGVNZXNoIC0gQ3JlYXRpbmcgbmV3IHJlbmRlclN0YXRlXCIpKSx0aGlzLnJlcXVlc3RSZW5kZXIoKSx0aGlzLl9wYXRjaChlKSxlLmVuZCYmKGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKHRoaXMua2V5LmlkLFwiRmVhdHVyZVRpbGU6X3VwZGF0ZU1lc2ggLSBFbmNvdW50ZXJlZCBlbmQgbWVzc2FnZVwiKSx0aGlzLnJlYWR5KCksdGhpcy5fc3dhcFJlbmRlclN0YXRlcygpKX19X3BhdGNoKGUpe3MoKHQ9Pnt0aGlzLl9yZW1vdmUodCxlLnJlbW92ZSksdGhpcy5faW5zZXJ0KHQsZSwhMSl9KSl9X3BhdGNoQnVmZmVyKGUpe3MoKHQ9Pnt0aGlzLl9pbnNlcnQodCxlLCEwKX0pKX1faW5zZXJ0KGUsdCxzKXt0cnl7Y29uc3QgaT10aGlzLl9yZW5kZXJTdGF0ZS5uZXh0Pz90aGlzLl9yZW5kZXJTdGF0ZS5jdXJyZW50LGE9dC5hZGRPclVwZGF0ZT8uZGF0YVtlXSxoPWkuZ2VvbWV0cnk7aWYobnVsbD09YSlyZXR1cm47aC5oYXMoZSl8fChoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1Zyh0aGlzLmtleS5pZCxgRmVhdHVyZVRpbGU6X2luc2VydCAtIENyZWF0aW5nIGdlb21ldHJ5IGJ1ZmZlciAke2V9YCksaC5zZXQoZSxuZXcgbihlLHRoaXMuc3RhZ2UpKSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcodGhpcy5rZXkuaWQsYEZlYXR1cmVUaWxlOl9pbnNlcnQgLSBJbnNlcnRpbmcgaW50byAke2V9LCB2ZXJzaW9uPSR7dC5hZGRPclVwZGF0ZT8udmVyc2lvbn0gc3RyaWRlPSR7YS5zdHJpZGV9YCksaC5nZXQoZSkuaW5zZXJ0KGEsdC5zb3J0LHMpLGU9PT1yLkxBQkVMJiZ0aGlzLl9pbnNlcnRMYWJlbE1ldHJpY3ModC50eXBlLGEubWV0cmljcyx0LmNsZWFyKX1jYXRjaChpKXt9fV9pbnNlcnRMYWJlbE1ldHJpY3MoZSx0LHIpe2NvbnN0IHM9dGhpcy5fcmVuZGVyU3RhdGUubmV4dD8/dGhpcy5fcmVuZGVyU3RhdGUuY3VycmVudDtpZihudWxsPT10KXJldHVybjtjb25zdCBpPWEuZnJvbSh0KTtpZihudWxsIT1zLm1ldHJpY3Mpe2lmKFwidXBkYXRlXCI9PT1lKXtjb25zdCBlPWkuZ2V0Q3Vyc29yKCk7Zm9yKDtlLm5leHQoKTspcy5tZXRyaWNzLmRlbGV0ZShlLmlkKX1zLm1ldHJpY3MubGluayhpKX1lbHNlIHMubWV0cmljcz1pfV9yZW1vdmUoZSx0KXtjb25zdCByPSh0aGlzLl9yZW5kZXJTdGF0ZS5uZXh0Pz90aGlzLl9yZW5kZXJTdGF0ZS5jdXJyZW50KS5nZW9tZXRyeS5nZXQoZSk7dCYmdC5sZW5ndGgmJnImJihyLnJlbW92ZSh0KSx0aGlzLl9yZW1vdmVMYWJlbE1ldHJpY3ModCkpfV9yZW1vdmVMYWJlbE1ldHJpY3MoZSl7Y29uc3R7bWV0cmljczp0fT10aGlzLl9yZW5kZXJTdGF0ZS5uZXh0Pz90aGlzLl9yZW5kZXJTdGF0ZS5jdXJyZW50O2lmKG51bGwhPXQmJmUubGVuZ3RoKWZvcihjb25zdCByIG9mIGUpZm9yKDt0LmRlbGV0ZShyKTspO31fZHJvcFBhdGNoZXMoKXtjb25zdCBlPW5ldyBBcnJheTtsZXQgdD0hMTtmb3IoO3RoaXMuX3BhdGNoZXMuc2l6ZTspe2NvbnN0IHI9dGhpcy5fcGF0Y2hlcy5kZXF1ZXVlKCk7aWYobnVsbD09cilicmVhaztpZihyLmNsZWFyKXtpZih0KWJyZWFrO3Q9ITB9ZS5wdXNoKHIpfXRoaXMuX3BhdGNoZXMuY2xlYXIoKSxlLmZvckVhY2goKGU9PnRoaXMuX3BhdGNoZXMuZW5xdWV1ZShlKSkpfX1leHBvcnR7YyBhcyBGZWF0dXJlVGlsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtXR0xEcmF3UGhhc2UgYXMgZX1mcm9tXCIuL2VudW1zLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi9XR0xDb250YWluZXIuanNcIjtpbXBvcnQgcyBmcm9tXCIuL2JydXNoZXMvV0dMQnJ1c2hJbmZvLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi9icnVzaGVzL1dHTEJydXNoU3RlbmNpbC5qc1wiO2NvbnN0IG49KGUscik9PmUua2V5LmxldmVsLXIua2V5LmxldmVsIT0wP2Uua2V5LmxldmVsLXIua2V5LmxldmVsOmUua2V5LnJvdy1yLmtleS5yb3chPTA/ZS5rZXkucm93LXIua2V5LnJvdzplLmtleS5jb2wtci5rZXkuY29sO2NsYXNzIGkgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fdGlsZUluZm9WaWV3PWV9cmVuZGVyQ2hpbGRyZW4oZSl7dGhpcy5zb3J0Q2hpbGRyZW4obiksdGhpcy5zZXRTdGVuY2lsUmVmZXJlbmNlKGUpLHN1cGVyLnJlbmRlckNoaWxkcmVuKGUpfWNyZWF0ZVJlbmRlclBhcmFtcyhlKXtjb25zdHtzdGF0ZTpyfT1lLHM9c3VwZXIuY3JlYXRlUmVuZGVyUGFyYW1zKGUpO3JldHVybiBzLnJlcXVpcmVkTGV2ZWw9dGhpcy5fdGlsZUluZm9WaWV3LmdldENsb3Nlc3RJbmZvRm9yU2NhbGUoci5zY2FsZSkubGV2ZWwscy5kaXNwbGF5TGV2ZWw9dGhpcy5fdGlsZUluZm9WaWV3LnRpbGVJbmZvLnNjYWxlVG9ab29tKHIuc2NhbGUpLHN9cHJlcGFyZVJlbmRlclBhc3NlcyhyKXtjb25zdCBuPXN1cGVyLnByZXBhcmVSZW5kZXJQYXNzZXMocik7cmV0dXJuIG4ucHVzaChyLnJlZ2lzdGVyUmVuZGVyUGFzcyh7bmFtZTpcInN0ZW5jaWxcIixicnVzaGVzOlt0XSxkcmF3UGhhc2U6ZS5ERUJVR3xlLk1BUHxlLkhJR0hMSUdIVCx0YXJnZXQ6KCk9PnRoaXMuZ2V0U3RlbmNpbFRhcmdldCgpfSkpLGhhcyhcImVzcmktdGlsZXMtZGVidWdcIikmJm4ucHVzaChyLnJlZ2lzdGVyUmVuZGVyUGFzcyh7bmFtZTpcInRpbGVJbmZvXCIsYnJ1c2hlczpbc10sZHJhd1BoYXNlOmUuREVCVUcsdGFyZ2V0OigpPT50aGlzLmNoaWxkcmVufSkpLG59Z2V0U3RlbmNpbFRhcmdldCgpe3JldHVybiB0aGlzLmNoaWxkcmVufXNldFN0ZW5jaWxSZWZlcmVuY2UoZSl7bGV0IHI9MTtmb3IoY29uc3QgcyBvZiB0aGlzLmNoaWxkcmVuKXMuc3RlbmNpbFJlZj1yKyt9fWV4cG9ydHtpIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtwdDJweCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnR7Z2V0TWV0ZXJzUGVyVW5pdEZvclNSIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS91bml0VXRpbHMuanNcIjtpbXBvcnR7bWV0ZXJJbiBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L2xlbmd0aFV0aWxzLmpzXCI7aW1wb3J0e2lzRGVmaW5lZCBhcyBzLGlzTnVtYmVyIGFzIGF9ZnJvbVwiLi9VdGlscy5qc1wiO2ltcG9ydHtUZWNobmlxdWUgYXMgbH1mcm9tXCIuL3RlY2huaXF1ZXMvVGVjaG5pcXVlLmpzXCI7aW1wb3J0e2dldFRlY2huaXF1ZUZyb21SZW5kZXJlciBhcyByfWZyb21cIi4vdGVjaG5pcXVlcy91dGlscy5qc1wiO2ltcG9ydHtnZXRXZWJHTENhcGFiaWxpdGllcyBhcyBvfWZyb21cIi4uLy4uLy4uL3dlYmdsL2NhcGFiaWxpdGllcy5qc1wiO2Z1bmN0aW9uIG4oZSx0KXtjb25zdCBpPXQubGVuZ3RoO2lmKGU8dFswXS52YWx1ZXx8MT09PWkpcmV0dXJuIHRbMF0uc2l6ZTtmb3IobGV0IHM9MTtzPGk7cysrKWlmKGU8dFtzXS52YWx1ZSl7Y29uc3QgaT0oZS10W3MtMV0udmFsdWUpLyh0W3NdLnZhbHVlLXRbcy0xXS52YWx1ZSk7cmV0dXJuIHRbcy0xXS5zaXplK2kqKHRbc10uc2l6ZS10W3MtMV0uc2l6ZSl9cmV0dXJuIHRbaS0xXS5zaXplfWNsYXNzIHZ7Y29uc3RydWN0b3IoKXt0aGlzLnN5bWJvbExldmVscz1bXSx0aGlzLnZ2Q29sb3JWYWx1ZXM9bmV3IEZsb2F0MzJBcnJheSg4KSx0aGlzLnZ2Q29sb3JzPW5ldyBGbG9hdDMyQXJyYXkoMzIpLHRoaXMudnZPcGFjaXR5VmFsdWVzPW5ldyBGbG9hdDMyQXJyYXkoOCksdGhpcy52dk9wYWNpdGllcz1uZXcgRmxvYXQzMkFycmF5KDgpLHRoaXMudnZTaXplTWluTWF4VmFsdWU9bmV3IEZsb2F0MzJBcnJheSg0KSx0aGlzLm91dHNpZGVMYWJlbHNWaXNpYmxlPSExLHRoaXMuX3Z2TWF0ZXJpYWxQYXJhbWV0ZXJzPXt2dlNpemVFbmFibGVkOiExLHZ2Q29sb3JFbmFibGVkOiExLHZ2Um90YXRpb25FbmFibGVkOiExLHZ2Um90YXRpb25UeXBlOlwiZ2VvZ3JhcGhpY1wiLHZ2T3BhY2l0eUVuYWJsZWQ6ITF9LHRoaXMuX3RlY2huaXF1ZT1sfWdldFNpemVWVkZpZWxkU3RvcHMoZSl7Y29uc3QgdD10aGlzLl92dlNpemVGaWVsZFN0b3BzO2lmKHQpc3dpdGNoKHQudHlwZSl7Y2FzZVwic3RhdGljXCI6cmV0dXJuIHQ7Y2FzZVwibGV2ZWwtZGVwZW5kZW50XCI6cmV0dXJuIHQubGV2ZWxzW2VdPz8oKCk9PntsZXQgaT0xLzAscz0wO2Zvcihjb25zdCBvIGluIHQubGV2ZWxzKXtjb25zdCB0PXBhcnNlRmxvYXQobyksYT1NYXRoLmFicyhlLXQpO2E8aSYmKGk9YSxzPXQpfWlmKGk9PT0xLzApcmV0dXJue3NpemVzOm5ldyBGbG9hdDMyQXJyYXkoWzAsMCwwLDAsMCwwXSksdmFsdWVzOm5ldyBGbG9hdDMyQXJyYXkoWzAsMCwwLDAsMCwwXSl9O2NvbnN0IGE9MioqKChlLXMpLzIpLGw9dC5sZXZlbHNbc10scj1uZXcgRmxvYXQzMkFycmF5KGwudmFsdWVzKTtyZXR1cm4gclsyXSo9YSxyWzNdKj1hLHtzaXplczpsLnNpemVzLHZhbHVlczpyfX0pKCk7ZGVmYXVsdDpyZXR1cm59fWdldCB2dk1hdGVyaWFsUGFyYW1ldGVycygpe3JldHVybiB0aGlzLl92dk1hdGVyaWFsUGFyYW1ldGVyc311cGRhdGUoZSl7bnVsbCE9dGhpcy5fdnZJbmZvJiZ0aGlzLl91cGRhdGVWaXN1YWxWYXJpYWJsZXModGhpcy5fdnZJbmZvLnZ2UmFuZ2VzLGUpfXNldEluZm8oZSx0LGkpe3RoaXMuX3VwZGF0ZUVmZmVjdHMoaSksdGhpcy5fdnZJbmZvPXQsdGhpcy5fdGVjaG5pcXVlPXIoZSksdGhpcy5yZW5kZXJlclNjaGVtYT10aGlzLl90ZWNobmlxdWUuY3JlYXRlT3JVcGRhdGVSZW5kZXJlclNjaGVtYSh0aGlzLnJlbmRlcmVyU2NoZW1hLGUpfWdldFZhcmlhdGlvbigpe3JldHVybnsuLi50aGlzLl90ZWNobmlxdWUuZ2V0VmFyaWF0aW9uKHRoaXMucmVuZGVyZXJTY2hlbWEpLG91dHNpZGVMYWJlbHNWaXNpYmxlOnRoaXMub3V0c2lkZUxhYmVsc1Zpc2libGUsc3VwcG9ydHNUZXh0dXJlRmxvYXQ6byhcIjJkXCIpLnN1cHBvcnRzVGV4dHVyZUZsb2F0fX1nZXRWYXJpYXRpb25IYXNoKCl7cmV0dXJuIHRoaXMuX3RlY2huaXF1ZS5nZXRWYXJpYXRpb25IYXNoKHRoaXMucmVuZGVyZXJTY2hlbWEpPDwxfCh0aGlzLm91dHNpZGVMYWJlbHNWaXNpYmxlPzE6MCl9X3VwZGF0ZUVmZmVjdHMoZSl7dGhpcy5vdXRzaWRlTGFiZWxzVmlzaWJsZT1udWxsIT1lJiZlLmV4Y2x1ZGVkTGFiZWxzVmlzaWJsZX1fdXBkYXRlVmlzdWFsVmFyaWFibGVzKGwscil7Y29uc3Qgbz10aGlzLl92dk1hdGVyaWFsUGFyYW1ldGVycztpZihvLnZ2T3BhY2l0eUVuYWJsZWQ9ITEsby52dlNpemVFbmFibGVkPSExLG8udnZDb2xvckVuYWJsZWQ9ITEsby52dlJvdGF0aW9uRW5hYmxlZD0hMSwhbClyZXR1cm47Y29uc3Qgdj1sLnNpemU7aWYodil7aWYoby52dlNpemVFbmFibGVkPSEwLHYubWluTWF4VmFsdWUpe2NvbnN0IHQ9di5taW5NYXhWYWx1ZTtsZXQgaSxsO2lmKHModC5taW5TaXplKSYmcyh0Lm1heFNpemUpKWlmKGEodC5taW5TaXplKSYmYSh0Lm1heFNpemUpKWk9ZSh0Lm1pblNpemUpLGw9ZSh0Lm1heFNpemUpO2Vsc2V7Y29uc3Qgcz1yLnNjYWxlO2k9ZShuKHMsdC5taW5TaXplLnN0b3BzKSksbD1lKG4ocyx0Lm1heFNpemUuc3RvcHMpKX10aGlzLnZ2U2l6ZU1pbk1heFZhbHVlLnNldChbdC5taW5EYXRhVmFsdWUsdC5tYXhEYXRhVmFsdWUsaSxsXSl9aWYodi5zY2FsZVN0b3BzJiYodGhpcy52dlNpemVTY2FsZVN0b3BzVmFsdWU9ZShuKHIuc2NhbGUsdi5zY2FsZVN0b3BzLnN0b3BzKSkpLHYudW5pdFZhbHVlKXtjb25zdCBlPXQoci5zcGF0aWFsUmVmZXJlbmNlKS9pW3YudW5pdFZhbHVlLnVuaXRdO3RoaXMudnZTaXplVW5pdFZhbHVlVG9QaXhlbHNSYXRpbz1lL3IucmVzb2x1dGlvbn12LmZpZWxkU3RvcHMmJih0aGlzLl92dlNpemVGaWVsZFN0b3BzPXYuZmllbGRTdG9wcyl9Y29uc3QgdT1sLmNvbG9yO3UmJihvLnZ2Q29sb3JFbmFibGVkPSEwLHRoaXMudnZDb2xvclZhbHVlcy5zZXQodS52YWx1ZXMpLHRoaXMudnZDb2xvcnMuc2V0KHUuY29sb3JzKSk7Y29uc3QgYz1sLm9wYWNpdHk7YyYmKG8udnZPcGFjaXR5RW5hYmxlZD0hMCx0aGlzLnZ2T3BhY2l0eVZhbHVlcy5zZXQoYy52YWx1ZXMpLHRoaXMudnZPcGFjaXRpZXMuc2V0KGMub3BhY2l0aWVzKSk7Y29uc3QgaD1sLnJvdGF0aW9uO2gmJihvLnZ2Um90YXRpb25FbmFibGVkPSEwLG8udnZSb3RhdGlvblR5cGU9aC50eXBlKX19ZXhwb3J0e3YgYXMgV0dMUmVuZGVyZXJJbmZvfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0PTYscz00Mjk0OTY3Mjk2O2NsYXNzIGV7Y29uc3RydWN0b3IodCl7dGhpcy5fc2F2ZWRDdXJzb3I9bnVsbCx0aGlzLl9zYXZlZE9mZnNldD1udWxsLHRoaXMuX2hlYWQ9dCx0aGlzLl9jdXJzb3I9dH1zdGF0aWMgZnJvbSh0KXtjb25zdCBzPXIuZnJvbShuZXcgRmxvYXQzMkFycmF5KHQpKTtyZXR1cm4gbmV3IGUocyl9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuX2N1cnNvci5pZH1nZXQgYmFzZVpvb20oKXtyZXR1cm4gdGhpcy5fY3Vyc29yLmJhc2Vab29tfWdldCBhbmNob3JYKCl7cmV0dXJuIHRoaXMuX2N1cnNvci5hbmNob3JYfWdldCBhbmNob3JZKCl7cmV0dXJuIHRoaXMuX2N1cnNvci5hbmNob3JZfWdldCBkaXJlY3Rpb25YKCl7cmV0dXJuIHRoaXMuX2N1cnNvci5kaXJlY3Rpb25YfWdldCBkaXJlY3Rpb25ZKCl7cmV0dXJuIHRoaXMuX2N1cnNvci5kaXJlY3Rpb25ZfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX2N1cnNvci5zaXplfWdldCBtYXRlcmlhbEtleSgpe3JldHVybiB0aGlzLl9jdXJzb3IubWF0ZXJpYWxLZXl9Z2V0IGJvdW5kc0NvdW50KCl7cmV0dXJuIHRoaXMuX2N1cnNvci5ib3VuZHNDb3VudH1jb21wdXRlZE1pblpvb20oKXtyZXR1cm4gdGhpcy5fY3Vyc29yLmNvbXB1dGVkTWluWm9vbSgpfXNldENvbXB1dGVkTWluWm9vbSh0KXtyZXR1cm4gdGhpcy5fY3Vyc29yLnNldENvbXB1dGVkTWluWm9vbSh0KX1ib3VuZHNDb21wdXRlZEFuY2hvclgodCl7cmV0dXJuIHRoaXMuX2N1cnNvci5ib3VuZHNDb21wdXRlZEFuY2hvclgodCl9Ym91bmRzQ29tcHV0ZWRBbmNob3JZKHQpe3JldHVybiB0aGlzLl9jdXJzb3IuYm91bmRzQ29tcHV0ZWRBbmNob3JZKHQpfXNldEJvdW5kc0NvbXB1dGVkQW5jaG9yWCh0LHMpe3JldHVybiB0aGlzLl9jdXJzb3Iuc2V0Qm91bmRzQ29tcHV0ZWRBbmNob3JYKHQscyl9c2V0Qm91bmRzQ29tcHV0ZWRBbmNob3JZKHQscyl7cmV0dXJuIHRoaXMuX2N1cnNvci5zZXRCb3VuZHNDb21wdXRlZEFuY2hvclkodCxzKX1ib3VuZHNYKHQpe3JldHVybiB0aGlzLl9jdXJzb3IuYm91bmRzWCh0KX1ib3VuZHNZKHQpe3JldHVybiB0aGlzLl9jdXJzb3IuYm91bmRzWSh0KX1ib3VuZHNXaWR0aCh0KXtyZXR1cm4gdGhpcy5fY3Vyc29yLmJvdW5kc1dpZHRoKHQpfWJvdW5kc0hlaWdodCh0KXtyZXR1cm4gdGhpcy5fY3Vyc29yLmJvdW5kc0hlaWdodCh0KX1saW5rKHQpe2lmKG51bGwhPXQuX2hlYWQpcmV0dXJuIHRoaXMuX2N1cnNvci5saW5rKHQuX2hlYWQpfWdldEN1cnNvcigpe3JldHVybiB0aGlzLmNvcHkoKX1jb3B5KCl7Y29uc3QgdD1uZXcgZSh0aGlzLl9oZWFkPy5jb3B5KCkpO2lmKCF0Ll9oZWFkKXJldHVybiB0O2xldCBzPXQuX2hlYWQscj10Ll9oZWFkLl9saW5rO2Zvcig7cjspcy5fbGluaz1yLmNvcHkoKSxzPXIscj1zLl9saW5rO3JldHVybiB0fXBlZWtJZCgpe3JldHVybiB0aGlzLl9jdXJzb3IucGVla0lkKCk/P3RoaXMuX2N1cnNvci5fbGluay5wZWVrSWQoKX1uZXh0SWQoKXtjb25zdCB0PXRoaXMuaWQ7Zm9yKDt0PT09dGhpcy5pZDspaWYoIXRoaXMubmV4dCgpKXJldHVybiExO3JldHVybiEwfXNhdmUoKXt0aGlzLl9zYXZlZEN1cnNvcj10aGlzLl9jdXJzb3IsdGhpcy5fc2F2ZWRPZmZzZXQ9dGhpcy5fY3Vyc29yLl9vZmZzZXR9cmVzdG9yZSgpe3RoaXMuX3NhdmVkQ3Vyc29yJiYodGhpcy5fY3Vyc29yPXRoaXMuX3NhdmVkQ3Vyc29yKSxudWxsIT10aGlzLl9zYXZlZE9mZnNldCYmKHRoaXMuX2N1cnNvci5fb2Zmc2V0PXRoaXMuX3NhdmVkT2Zmc2V0KX1uZXh0KCl7aWYoIXRoaXMuX2N1cnNvcilyZXR1cm4hMTtpZighdGhpcy5fY3Vyc29yLm5leHQoKSl7aWYoIXRoaXMuX2N1cnNvci5fbGluaylyZXR1cm4hMTt0aGlzLl9jdXJzb3I9dGhpcy5fY3Vyc29yLl9saW5rLHRoaXMuX2N1cnNvci5fb2Zmc2V0PTB9cmV0dXJuITB9bG9va3VwKHQpe2Zvcih0aGlzLl9jdXJzb3I9dGhpcy5faGVhZDt0aGlzLl9jdXJzb3ImJiF0aGlzLl9jdXJzb3IubG9va3VwKHQpOyl7aWYoIXRoaXMuX2N1cnNvci5fbGluaylyZXR1cm4hMTt0aGlzLl9jdXJzb3I9dGhpcy5fY3Vyc29yLl9saW5rfXJldHVybiEhdGhpcy5fY3Vyc29yfWRlbGV0ZSh0KXtsZXQgcz10aGlzLl9oZWFkLGU9bnVsbDtmb3IoO3M7KXtpZihzLmRlbGV0ZSh0KSlyZXR1cm4gcy5pc0VtcHR5KCkmJm51bGwhPWUmJihlLl9saW5rPXMuX2xpbmspLCEwO2U9cyxzPXMuX2xpbmt9cmV0dXJuITF9fWNsYXNzIHJ7Y29uc3RydWN0b3IodCl7dGhpcy5fb2Zmc2V0PS0xLHRoaXMuX2xpbms9bnVsbCx0aGlzLl9jb3VudD0wLHRoaXMuX2RlbGV0ZWRDb3VudD0wLHRoaXMuX29mZnNldHM9e2luc3RhbmNlOm51bGx9LHRoaXMuX2J1ZmZlcj10fXN0YXRpYyBmcm9tKHQpe3JldHVybiBuZXcgcihuZXcgRmxvYXQzMkFycmF5KHQpKX1pc0VtcHR5KCl7cmV0dXJuIHRoaXMuX2RlbGV0ZWRDb3VudD09PXRoaXMuY291bnR9Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXMuX2NvdW50fHwodGhpcy5fY291bnQ9dGhpcy5fY29tcHV0ZUNvdW50KCkpLHRoaXMuX2NvdW50fWdldCBpZCgpe3JldHVybiB0aGlzLl9idWZmZXJbdGhpcy5fb2Zmc2V0XX1zZXQgaWQodCl7dGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldF09dH1nZXQgYmFzZVpvb20oKXtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldCsxXX1nZXQgYW5jaG9yWCgpe3JldHVybiB0aGlzLl9idWZmZXJbdGhpcy5fb2Zmc2V0KzJdfWdldCBhbmNob3JZKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrM119Z2V0IGRpcmVjdGlvblgoKXtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldCs0XX1nZXQgZGlyZWN0aW9uWSgpe3JldHVybiB0aGlzLl9idWZmZXJbdGhpcy5fb2Zmc2V0KzVdfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrNl19Z2V0IG1hdGVyaWFsS2V5KCl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrN119Y29tcHV0ZWRNaW5ab29tKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrOF19c2V0Q29tcHV0ZWRNaW5ab29tKHQpe3RoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrOF09dH1nZXQgYm91bmRzQ291bnQoKXtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldCs5XX1ib3VuZHNDb21wdXRlZEFuY2hvclgocyl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrMTArcyp0XX1ib3VuZHNDb21wdXRlZEFuY2hvclkocyl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrMTArcyp0KzFdfXNldEJvdW5kc0NvbXB1dGVkQW5jaG9yWChzLGUpe3RoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrMTArcyp0XT1lfXNldEJvdW5kc0NvbXB1dGVkQW5jaG9yWShzLGUpe3RoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrMTArcyp0KzFdPWV9Ym91bmRzWChzKXtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldCsxMCtzKnQrMl19Ym91bmRzWShzKXtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldCsxMCtzKnQrM119Ym91bmRzV2lkdGgocyl7cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9vZmZzZXQrMTArcyp0KzRdfWJvdW5kc0hlaWdodChzKXtyZXR1cm4gdGhpcy5fYnVmZmVyW3RoaXMuX29mZnNldCsxMCtzKnQrNV19bGluayh0KXtsZXQgcz10aGlzO2Zvcig7cy5fbGluazspcz1zLl9saW5rO3MuX2xpbms9dH1nZXRDdXJzb3IoKXtyZXR1cm4gdGhpcy5jb3B5KCl9Y29weSgpe2NvbnN0IHQ9bmV3IHIodGhpcy5fYnVmZmVyKTtyZXR1cm4gdC5fbGluaz10aGlzLl9saW5rLHQuX29mZnNldD10aGlzLl9vZmZzZXQsdC5fZGVsZXRlZENvdW50PXRoaXMuX2RlbGV0ZWRDb3VudCx0Ll9vZmZzZXRzPXRoaXMuX29mZnNldHMsdC5fY291bnQ9dGhpcy5fY291bnQsdH1wZWVrSWQoKXtjb25zdCBzPXRoaXMuX29mZnNldCsxMCt0aGlzLmJvdW5kc0NvdW50KnQrMDtyZXR1cm4gcz49dGhpcy5fYnVmZmVyLmxlbmd0aD8wOnRoaXMuX2J1ZmZlcltzXX1uZXh0KCl7bGV0IGU9MDtmb3IoO3RoaXMuX29mZnNldDx0aGlzLl9idWZmZXIubGVuZ3RoJiZlKys8MTAwJiYoLTE9PT10aGlzLl9vZmZzZXQ/dGhpcy5fb2Zmc2V0PTA6dGhpcy5fb2Zmc2V0Kz0xMCt0aGlzLmJvdW5kc0NvdW50KnQsdGhpcy5pZD09PXMpOyk7cmV0dXJuIHRoaXMuaWQhPT1zJiZ0aGlzLl9vZmZzZXQ8dGhpcy5fYnVmZmVyLmxlbmd0aH1kZWxldGUodCl7Y29uc3Qgcz10aGlzLl9vZmZzZXQsZT10aGlzLmxvb2t1cCh0KTtpZihlKWZvcih0aGlzLmlkPTQyOTQ5NjcyOTUsKyt0aGlzLl9kZWxldGVkQ291bnQ7dGhpcy5uZXh0KCkmJnRoaXMuaWQ9PT10Oyl0aGlzLmlkPTQyOTQ5NjcyOTUsKyt0aGlzLl9kZWxldGVkQ291bnQ7cmV0dXJuIHRoaXMuX29mZnNldD1zLGV9bG9va3VwKHQpe2NvbnN0IGU9dGhpcy5fb2Zmc2V0O2lmKG51bGw9PXRoaXMuX29mZnNldHMuaW5zdGFuY2Upe3RoaXMuX29mZnNldHMuaW5zdGFuY2U9bmV3IE1hcDtjb25zdCB0PXRoaXMuY29weSgpO3QuX29mZnNldD0tMTtsZXQgcz0wO2Zvcig7dC5uZXh0KCk7KXQuaWQhPT1zJiYodGhpcy5fb2Zmc2V0cy5pbnN0YW5jZS5zZXQodC5pZCx0Ll9vZmZzZXQpLHM9dC5pZCl9cmV0dXJuISF0aGlzLl9vZmZzZXRzLmluc3RhbmNlLmhhcyh0KSYmKHRoaXMuX29mZnNldD10aGlzLl9vZmZzZXRzLmluc3RhbmNlLmdldCh0KSx0aGlzLmlkIT09c3x8KHRoaXMuX29mZnNldD1lLCExKSl9X2NvbXB1dGVDb3VudCgpe2NvbnN0IHQ9dGhpcy5fb2Zmc2V0O2xldCBzPTA7Zm9yKHRoaXMuX29mZnNldD0tMTt0aGlzLm5leHQoKTspcysrO3JldHVybiB0aGlzLl9vZmZzZXQ9dCxzfX1leHBvcnR7ZSBhcyBNZXRyaWNSZWFkZXIsciBhcyBNZXRyaWNSZWFkZXJOb2RlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YXNzZXJ0SXNTb21lIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtUeXBlZEJ1ZmZlciBhcyBpfWZyb21cIi4uL0J1ZmZlclBvb2wuanNcIjtpbXBvcnR7RnJlZUxpc3QgYXMgZX1mcm9tXCIuL0ZyZWVMaXN0LmpzXCI7aW1wb3J0e0J1ZmZlck9iamVjdCBhcyByfWZyb21cIi4uLy4uLy4uLy4uL3dlYmdsL0J1ZmZlck9iamVjdC5qc1wiO2ltcG9ydHtVc2FnZSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7Y29uc3QgaD0xLjI1LG49MzI3NjcsdT1uPDwxNnxuO2NsYXNzIGF7Y29uc3RydWN0b3IodCxlLHIscyl7Y29uc3QgaD1pLmNyZWF0ZShlKnIqVWludDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQscyk7dGhpcy5zaXplPWUsdGhpcy5zdHJpZGVJbnQ9cix0aGlzLmJ1ZmZlclR5cGU9dCx0aGlzLmRpcnR5PXtzdGFydDoxLzAsZW5kOjB9LHRoaXMuX2dwdT1udWxsLHRoaXMuX2NwdT1oLHRoaXMuY2xlYXIoKX1nZXQgZWxlbWVudFNpemUoKXtyZXR1cm4gdGhpcy5fY3B1Lmxlbmd0aC90aGlzLnN0cmlkZUludH1nZXQgaW52YWxpZGF0ZWQoKXtyZXR1cm4gdGhpcy5idWZmZXJTaXplPjAmJiF0aGlzLl9ncHV9Z2V0IGludmFsaWRhdGVkQ29tcHV0ZUJ1ZmZlcigpe3JldHVybiB0aGlzLmJ1ZmZlclNpemU+MCYmIXRoaXMuX2dwdUNvbXB1dGVUcmlhbmdsZXN9aW52YWxpZGF0ZSgpe3RoaXMuX2ludmFsaWRhdGVUcmlhbmdsZUJ1ZmZlcigpLHRoaXMuX2dwdT8uZGlzcG9zZSgpLHRoaXMuX2dwdT1udWxsfV9pbnZhbGlkYXRlVHJpYW5nbGVCdWZmZXIoKXt0aGlzLl9ncHVDb21wdXRlVHJpYW5nbGVzPy5kaXNwb3NlKCksdGhpcy5fZ3B1Q29tcHV0ZVRyaWFuZ2xlcz1udWxsfWRlc3Ryb3koKXt0aGlzLl9ncHU/LmRpc3Bvc2UoKSx0aGlzLl9ncHVDb21wdXRlVHJpYW5nbGVzPy5kaXNwb3NlKCksdGhpcy5fY3B1Py5kZXN0cm95KCksdGhpcy5fY3B1Mj8uZGVzdHJveSgpfWNsZWFyKCl7dGhpcy5kaXJ0eS5zdGFydD0xLzAsdGhpcy5kaXJ0eS5lbmQ9MCx0aGlzLmZyZWVMaXN0PW5ldyBlKHtzdGFydDowLGVuZDp0aGlzLl9jcHUubGVuZ3RoL3RoaXMuc3RyaWRlSW50fSksdGhpcy5maWxsUG9pbnRlcj0wfWVuc3VyZSh0KXtpZih0aGlzLm1heEF2YWlsYWJsZVNwYWNlKCk+PXQpcmV0dXJuO2lmKHQqdGhpcy5zdHJpZGVJbnQ+dGhpcy5fY3B1Lmxlbmd0aC10aGlzLmZpbGxQb2ludGVyKXt0aGlzLmludmFsaWRhdGUoKTtjb25zdCBpPXRoaXMuX2NwdS5sZW5ndGgvdGhpcy5zdHJpZGVJbnQsZT1NYXRoLnJvdW5kKChpK3QpKmgpLHI9ZSp0aGlzLnN0cmlkZUludDt0aGlzLl9jcHUuZXhwYW5kKHIqVWludDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQpLHRoaXMuZnJlZUxpc3QuZnJlZShpLGUtaSl9fXNldCh0LGkpe3RoaXMuX2NwdS5hcnJheVt0XSE9PWkmJih0aGlzLl9jcHUuYXJyYXlbdF09aSx0aGlzLmRpcnR5LnN0YXJ0PU1hdGgubWluKHQsdGhpcy5kaXJ0eS5zdGFydCksdGhpcy5kaXJ0eS5lbmQ9TWF0aC5tYXgodCx0aGlzLmRpcnR5LmVuZCkpfWdldEdQVUJ1ZmZlcih0LGk9ITEpe2lmKCF0aGlzLmJ1ZmZlclNpemUpcmV0dXJuIG51bGw7aWYoaSl7aWYoXCJpbmRleFwiIT09dGhpcy5idWZmZXJUeXBlKXRocm93IG5ldyBFcnJvcihcIlRpcmVkIHRvIGdldCB0cmlhbmdsZSBidWZmZXIsIGJ1dCB0YXJnZXQgaXMgbm90IGFuIGluZGV4IGJ1ZmZlclwiKTtyZXR1cm4gbnVsbD09dGhpcy5fZ3B1Q29tcHV0ZVRyaWFuZ2xlcyYmKHRoaXMuX2dwdUNvbXB1dGVUcmlhbmdsZXM9dGhpcy5fY3JlYXRlQ29tcHV0ZUJ1ZmZlcih0KSksdGhpcy5fZ3B1Q29tcHV0ZVRyaWFuZ2xlc31yZXR1cm4gbnVsbD09dGhpcy5fZ3B1JiYodGhpcy5fZ3B1PXRoaXMuX2NyZWF0ZUJ1ZmZlcih0KSksdGhpcy5fZ3B1fWdldENQVUJ1ZmZlcigpe2lmKCF0aGlzLl9jcHUyKXtjb25zdCB0PXRoaXMuX2NwdS5zbGljZSgpO3RoaXMuX2NwdTI9dH1yZXR1cm4gdGhpcy5fY3B1Mi5sZW5ndGghPT10aGlzLl9jcHUubGVuZ3RoJiZ0aGlzLl9jcHUyLmV4cGFuZCh0aGlzLl9jcHUubGVuZ3RoKnRoaXMuX2NwdS5hcnJheS5CWVRFU19QRVJfRUxFTUVOVCksdGhpcy5fY3B1Mi5zZXQodGhpcy5fY3B1KSx0aGlzLl9jcHUyfWdldCBidWZmZXJTaXplKCl7cmV0dXJuIHRoaXMuX2NwdS5sZW5ndGgvdGhpcy5zdHJpZGVJbnR9bWF4QXZhaWxhYmxlU3BhY2UoKXtyZXR1cm4gdGhpcy5mcmVlTGlzdC5tYXhBdmFpbGFibGVTcGFjZSgpfWluc2VydChpLGUscixzKXtjb25zdCBoPXIqdGhpcy5zdHJpZGVJbnQ7aWYoIWgpcmV0dXJuIDA7Y29uc3Qgbj1lKnRoaXMuc3RyaWRlSW50KlVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULHU9bmV3IFVpbnQzMkFycmF5KGksbixoKSxhPXRoaXMuZnJlZUxpc3QuZmlyc3RGaXQocik7dChhLFwiRmlyc3QgZml0IHJlZ2lvbiBtdXN0IGJlIGRlZmluZWRcIik7Y29uc3QgZD1hKnRoaXMuc3RyaWRlSW50LGY9aCxwPWQvdGhpcy5zdHJpZGVJbnQtZTtpZigwIT09cylmb3IobGV0IHQ9MDt0PHUubGVuZ3RoO3QrKyl1W3RdKz1zO3JldHVybiB0aGlzLl9jcHUuYXJyYXkuc2V0KHUsZCksdGhpcy5kaXJ0eS5zdGFydD1NYXRoLm1pbih0aGlzLmRpcnR5LnN0YXJ0LGQpLHRoaXMuZGlydHkuZW5kPU1hdGgubWF4KHRoaXMuZGlydHkuZW5kLGQrZiksdGhpcy5maWxsUG9pbnRlcj1NYXRoLm1heCh0aGlzLmZpbGxQb2ludGVyLGQrZikscH1mcmVlKHQsaSxlKXtjb25zdCByPXQqdGhpcy5zdHJpZGVJbnQscz0odCtpKSp0aGlzLnN0cmlkZUludDtpZighMD09PWUpZm9yKGxldCBoPXQ7aCE9PXQraTtoKyspdGhpcy5fY3B1LmFycmF5W2gqdGhpcy5zdHJpZGVJbnRdPXU7dGhpcy5kaXJ0eS5zdGFydD1NYXRoLm1pbih0aGlzLmRpcnR5LnN0YXJ0LHIpLHRoaXMuZGlydHkuZW5kPU1hdGgubWF4KHRoaXMuZGlydHkuZW5kLHMpLHRoaXMuZnJlZUxpc3QuZnJlZSh0LGkpfXVwbG9hZCgpe2lmKHRoaXMuZGlydHkuZW5kKXtpZih0aGlzLl9pbnZhbGlkYXRlVHJpYW5nbGVCdWZmZXIoKSxudWxsPT10aGlzLl9ncHUpcmV0dXJuIHRoaXMuZGlydHkuc3RhcnQ9MS8wLHZvaWQodGhpcy5kaXJ0eS5lbmQ9MCk7dGhpcy5fZ3B1LnNldFN1YkRhdGEodGhpcy5fY3B1LmFycmF5LHRoaXMuZGlydHkuc3RhcnQsdGhpcy5kaXJ0eS5zdGFydCx0aGlzLmRpcnR5LmVuZCksdGhpcy5kaXJ0eS5zdGFydD0xLzAsdGhpcy5kaXJ0eS5lbmQ9MH19X2NyZWF0ZUJ1ZmZlcih0KXtjb25zdCBpPXMuRFlOQU1JQ19EUkFXO3JldHVyblwiaW5kZXhcIj09PXRoaXMuYnVmZmVyVHlwZT9yLmNyZWF0ZUluZGV4KHQsaSx0aGlzLl9jcHUuYXJyYXkpOnIuY3JlYXRlVmVydGV4KHQsaSx0aGlzLl9jcHUuYXJyYXkpfV9jcmVhdGVDb21wdXRlQnVmZmVyKHQpe2NvbnN0IGk9cy5EWU5BTUlDX0RSQVcsZT1uZXcgVWludDMyQXJyYXkodGhpcy5maWxsUG9pbnRlci8zKTtmb3IobGV0IHI9MDtyPHRoaXMuZmlsbFBvaW50ZXI7cis9MyllW3IvM109dGhpcy5fY3B1LmFycmF5W3JdO3JldHVybiByLmNyZWF0ZUluZGV4KHQsaSxlKX19ZXhwb3J0e2EgYXMgQnVmZmVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZGVzdHJveU1heWJlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtGZWF0dXJlRGlzcGxheUxpc3QgYXMgdH1mcm9tXCIuLi9GZWF0dXJlRGlzcGxheUxpc3QuanNcIjtpbXBvcnR7QnVmZmVyIGFzIHJ9ZnJvbVwiLi9CdWZmZXIuanNcIjtpbXBvcnR7RGlzcGxheVJlY29yZFJlYWRlciBhcyBzfWZyb21cIi4vRGlzcGxheVJlY29yZFJlYWRlci5qc1wiO2ltcG9ydHtWZXJ0ZXhBcnJheU9iamVjdCBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL3dlYmdsL1ZlcnRleEFycmF5T2JqZWN0LmpzXCI7Y29uc3Qgbj0wLGY9MTtjbGFzcyBve2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fdmFvcz1uZXcgTWFwLHRoaXMuX2luZGljZXNJbnZhbGlkPSExLHRoaXMuZ2VvbWV0cnlUeXBlPWUsdGhpcy5fc3RhZ2U9dH1kZXN0cm95KCl7Zm9yKGNvbnN0W2UsdF1vZiB0aGlzLl92YW9zKXQ/LmRpc3Bvc2VWQU9Pbmx5KCk7dGhpcy5faW5kZXhCdWZmZXI9ZSh0aGlzLl9pbmRleEJ1ZmZlciksdGhpcy5fdmVydGV4QnVmZmVyPWUodGhpcy5fdmVydGV4QnVmZmVyKX1nZXQgcmVjb3Jkcygpe3JldHVybiB0aGlzLl9yZWNvcmRzfWluc2VydChlLHQsaSl7aWYoIWUucmVjb3Jkcy5ieXRlTGVuZ3RoKXJldHVybjtjb25zdCBuPWUuc3RyaWRlO2lmKHRoaXMuX3ZlcnRleEJ1ZmZlciYmdGhpcy5faW5kZXhCdWZmZXIpe2NvbnN0IHI9ZS5pbmRpY2VzLmJ5dGVMZW5ndGgvNCxpPWUudmVydGljZXMuYnl0ZUxlbmd0aC9uO3RoaXMuX2luZGV4QnVmZmVyLmVuc3VyZShyKSx0aGlzLl92ZXJ0ZXhCdWZmZXIuZW5zdXJlKGkpO2NvbnN0e3ZlcnRpY2VzOmYsaW5kaWNlczpvfT1lLGQ9cy5mcm9tKGUucmVjb3JkcyksaD10aGlzLl92ZXJ0ZXhCdWZmZXIuaW5zZXJ0KGYsMCxmLmJ5dGVMZW5ndGgvbiwwKSx1PXRoaXMuX2luZGV4QnVmZmVyLmluc2VydChvLDAsby5ieXRlTGVuZ3RoLzQsaCk7aWYoZC5mb3JFYWNoKChlPT57ZS5pbmRleEZyb20rPXUsZS52ZXJ0ZXhGcm9tKz1ofSkpLHRoaXMuX3JlY29yZHMubGluayhkKSx0KXRoaXMuX2luZGljZXNJbnZhbGlkPSEwO2Vsc2UgaWYodGhpcy5fZGlzcGxheUxpc3Qpe2NvbnN0IGU9ZC5nZXRDdXJzb3IoKTtmb3IoO2UubmV4dCgpOyl0aGlzLl9kaXNwbGF5TGlzdC5hZGRSZWNvcmQoZSl9fWVsc2V7Y29uc3QgaT1lLmluZGljZXMuYnl0ZUxlbmd0aC80LGY9ZS52ZXJ0aWNlcy5ieXRlTGVuZ3RoL24sbz1uL1VpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULGQ9dGhpcy5fc3RhZ2UuYnVmZmVyUG9vbDt0aGlzLl9yZWNvcmRzPXMuZnJvbShlLnJlY29yZHMpLHRoaXMuX2luZGV4QnVmZmVyPW5ldyByKFwiaW5kZXhcIixpLDEsZCksdGhpcy5fdmVydGV4QnVmZmVyPW5ldyByKFwidmVydGV4XCIsZixvLGQpLHRoaXMuX2luZGV4QnVmZmVyLmluc2VydChlLmluZGljZXMsMCxlLmluZGljZXMuYnl0ZUxlbmd0aC80LDApLHRoaXMuX3ZlcnRleEJ1ZmZlci5pbnNlcnQoZS52ZXJ0aWNlcywwLGUudmVydGljZXMuYnl0ZUxlbmd0aC9uLDApLHQmJih0aGlzLl9pbmRpY2VzSW52YWxpZD0hMCl9fXJlbW92ZShlKXtpZihudWxsIT10aGlzLl9yZWNvcmRzKWZvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dGhpcy5fcmVjb3Jkcy5nZXRDdXJzb3IoKTtpZighZS5sb29rdXAodCkpY29udGludWU7Y29uc3Qgcj1lLmluZGV4RnJvbSxzPWUudmVydGV4RnJvbTtsZXQgaT1lLmluZGV4Q291bnQsbj1lLnZlcnRleENvdW50O2Zvcig7ZS5uZXh0KCkmJmUuaWQ9PT10OylpKz1lLmluZGV4Q291bnQsbis9ZS52ZXJ0ZXhDb3VudDt0aGlzLl9pbmRleEJ1ZmZlci5mcmVlKHIsaSksdGhpcy5fdmVydGV4QnVmZmVyLmZyZWUocyxuLCEwKSx0aGlzLl9yZWNvcmRzLmRlbGV0ZSh0KX19Z2V0VkFPKGUsdCxyLHMpe2lmKCF0aGlzLl92ZXJ0ZXhCdWZmZXJ8fCF0aGlzLl9pbmRleEJ1ZmZlcnx8bnVsbD09dGhpcy5fcmVjb3Jkc3x8IXRoaXMuX3ZlcnRleEJ1ZmZlci5idWZmZXJTaXplKXJldHVybiBudWxsO2NvbnN0IG89cz9mOm47bGV0IGQ9dGhpcy5fdmFvcy5nZXQobyk7KHRoaXMuX3ZlcnRleEJ1ZmZlci5pbnZhbGlkYXRlZHx8dGhpcy5faW5kZXhCdWZmZXIuaW52YWxpZGF0ZWR8fHMmJnRoaXMuX2luZGV4QnVmZmVyLmludmFsaWRhdGVkQ29tcHV0ZUJ1ZmZlcikmJihkPy5kaXNwb3NlVkFPT25seSgpLGQ9bnVsbCksdGhpcy5fdmVydGV4QnVmZmVyLnVwbG9hZCgpLHRoaXMuX2luZGV4QnVmZmVyLnVwbG9hZCgpO2NvbnN0IGg9dGhpcy5faW5kZXhCdWZmZXIuZ2V0R1BVQnVmZmVyKGUsMT09PW8pLHU9dGhpcy5fdmVydGV4QnVmZmVyLmdldEdQVUJ1ZmZlcihlKTtyZXR1cm4gZHx8KGQ9bmV3IGkoZSxyLHQse2dlb21ldHJ5OnV9LGgpLHRoaXMuX3Zhb3Muc2V0KG8sZCkpLGR9Zm9yRWFjaENvbW1hbmQoZSl7aWYobnVsbCE9dGhpcy5fcmVjb3Jkcyl7aWYodGhpcy5fc29ydEluZGljZXModGhpcy5fcmVjb3JkcyksIXRoaXMuX2Rpc3BsYXlMaXN0KXtjb25zdCBlPXRoaXMuX2N1cnNvckluZGV4T3JkZXI7dGhpcy5fZGlzcGxheUxpc3Q9dC5mcm9tKHRoaXMsdGhpcy5nZW9tZXRyeVR5cGUsdGhpcy5fcmVjb3Jkcy5nZXRDdXJzb3IoKSxlKX10aGlzLl9kaXNwbGF5TGlzdC5mb3JFYWNoKGUpfX1fc29ydEluZGljZXMoZSl7Y29uc3QgdD0hIXRoaXMuX2luZGV4QnVmZmVyLmJ1ZmZlclNpemU7aWYoIXRoaXMuX2luZGljZXNJbnZhbGlkKXJldHVybjt0aGlzLl9pbmRpY2VzSW52YWxpZD0hMTtsZXQgcj0wO2NvbnN0IHM9ZS5nZXRDdXJzb3IoKSxpPVtdLG49W10sZj1bXTtmb3IoO3MubmV4dCgpOyluLnB1c2gocy5pbmRleCksZi5wdXNoKHMuc29ydEtleSksaS5wdXNoKHMuaWQpO24uc29ydCgoKGUsdCk9Pntjb25zdCByPWZbdF0scz1mW2VdO3JldHVybiBzPT09cj9pW3RdLWlbZV06ci1zfSkpO2NvbnN0IG89ZS5nZXRDdXJzb3IoKSxkPXQ/dGhpcy5faW5kZXhCdWZmZXIuZ2V0Q1BVQnVmZmVyKCk6dGhpcy5fdmVydGV4QnVmZmVyLmdldENQVUJ1ZmZlcigpO2Zvcihjb25zdCBoIG9mIG4pe2lmKCFvLnNlZWtJbmRleChoKSl0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCB0byBmaW5kIGluZGV4XCIpO2lmKHQpe2NvbnN0e2luZGV4RnJvbTplLGluZGV4Q291bnQ6dH09bztvLmluZGV4RnJvbT1yO2ZvcihsZXQgcz0wO3M8dDtzKyspdGhpcy5faW5kZXhCdWZmZXIuc2V0KHIrKyxkLmFycmF5W2Urc10pfWVsc2V7Y29uc3R7dmVydGV4RnJvbTplLHZlcnRleENvdW50OnR9PW8scz10aGlzLl92ZXJ0ZXhCdWZmZXIuc3RyaWRlSW50LGk9ZSpzLG49aSt0KnM7by52ZXJ0ZXhGcm9tPXIvcztmb3IobGV0IGY9aTtmPG47ZisrKXRoaXMuX3ZlcnRleEJ1ZmZlci5zZXQocisrLGQuYXJyYXlbZl0pfX10aGlzLl9jdXJzb3JJbmRleE9yZGVyPW4sdGhpcy5fZGlzcGxheUxpc3Q9bnVsbH19ZXhwb3J0e28gYXMgR2VvbWV0cnl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL0FnZ3JlZ2F0ZUdyYXBoaWMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vR3JhcGhpYy5qc1wiO2ltcG9ydHtpc1NvbWUgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgbn1mcm9tXCIuLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtjbG9uZSBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvbGFuZy5qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyB1LHJlbW92ZU1heWJlIGFzIGR9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtkZWJvdW5jZSBhcyBoLGlzQWJvcnRFcnJvciBhcyBwfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGMsc3luY0FuZEluaXRpYWwgYXMgeSxpbml0aWFsIGFzIGd9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3B0MnB4IGFzIGZ9ZnJvbVwiLi4vLi4vLi4vY29yZS9zY3JlZW5VdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBtfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgX31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGIgZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL2VmZmVjdHMvRmVhdHVyZUVmZmVjdFZpZXcuanNcIjtpbXBvcnQgdiBmcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GZWF0dXJlRmlsdGVyLmpzXCI7aW1wb3J0e2dldEVmZmVjdGl2ZUxheWVyQ2FwYWJpbGl0aWVzIGFzIHd9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvbGF5ZXJVdGlscy5qc1wiO2ltcG9ydCBSIGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9BZ2dyZWdhdGVGZWF0dXJlU2V0LmpzXCI7aW1wb3J0IHggZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0ZlYXR1cmVTZXQuanNcIjtpbXBvcnQgUyBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvUXVlcnkuanNcIjtpbXBvcnR7bWF4RmlsdGVycyBhcyBGfWZyb21cIi4uL2VuZ2luZS93ZWJnbC9kZWZpbml0aW9ucy5qc1wiO2ltcG9ydHtMYXllclZpZXcyRE1peGluIGFzIFV9ZnJvbVwiLi9MYXllclZpZXcyRC5qc1wiO2ltcG9ydHtjcmVhdGVTY2hlbWEgYXMgQ31mcm9tXCIuL2ZlYXR1cmVzL3NjaGVtYVV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZU9yUmV1c2VUaWxlUmVuZGVyZXIgYXMgSX1mcm9tXCIuL2ZlYXR1cmVzL3RpbGVSZW5kZXJlcnMuanNcIjtpbXBvcnR7aXNSZW5kZXJlclN1cHBvcnRlZCBhcyBxfWZyb21cIi4vZmVhdHVyZXMvc3VwcG9ydC9yZW5kZXJlclV0aWxzLmpzXCI7aW1wb3J0e2ZpbmRTaXplVlYgYXMgVixjcmVhdGVDbHVzdGVyQ291bnRTaXplVmFyaWFibGUgYXMgRSxpbmplY3REeW5hbWljTGV2ZWxEZXBlbmRlbnRTaXplVmlzdWFsVmFyaWFibGUgYXMgTyxpc0NsdXN0ZXJDb21wYXRpYmxlUmVuZGVyZXIgYXMgVCxjcmVhdGVDbHVzdGVyUmVuZGVyZXIgYXMgan1mcm9tXCIuL3N1cHBvcnQvY2x1c3RlclV0aWxzLmpzXCI7aW1wb3J0IEEgZnJvbVwiLi9zdXBwb3J0L0ZlYXR1cmVDb21tYW5kUXVldWUuanNcIjtpbXBvcnQgTCBmcm9tXCIuL3N1cHBvcnQvRmVhdHVyZUxheWVyUHJveHkuanNcIjtpbXBvcnR7Z2V0U2l6ZUZvclZhbHVlU2ltcGxlIGFzIFB9ZnJvbVwiLi9zdXBwb3J0L3Zpc3VhbFZhcmlhYmxlU2ltcGxlVXRpbHMuanNcIjtpbXBvcnR7VGlsZU1hbmFnZXIgYXMgUX1mcm9tXCIuLi90aWxpbmcvVGlsZU1hbmFnZXIuanNcIjtpbXBvcnQgTiBmcm9tXCIuLi8uLi9sYXllcnMvRmVhdHVyZUxheWVyVmlldy5qc1wiO2ltcG9ydCBrIGZyb21cIi4uLy4uL2xheWVycy9MYXllclZpZXcuanNcIjtpbXBvcnQgSCBmcm9tXCIuLi8uLi9sYXllcnMvUmVmcmVzaGFibGVMYXllclZpZXcuanNcIjtpbXBvcnR7Z2V0V2ViR0xDYXBhYmlsaXRpZXMgYXMgen1mcm9tXCIuLi8uLi93ZWJnbC9jYXBhYmlsaXRpZXMuanNcIjtpbXBvcnQgSiBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtmdW5jdGlvbiBEKGUpe3JldHVybiBlJiZcIm9wZW5Qb3J0c1wiaW4gZX1mdW5jdGlvbiBNKGUpe2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9XCJmZWF0dXJlUmVkdWN0aW9uXCJpbiB0JiZ0LmZlYXR1cmVSZWR1Y3Rpb24mJlwibGFiZWxpbmdJbmZvXCJpbiB0LmZlYXR1cmVSZWR1Y3Rpb24/dC5mZWF0dXJlUmVkdWN0aW9uOnZvaWQgMCxyPVsuLi50LmxhYmVsaW5nSW5mb3x8W10sLi4uZT8ubGFiZWxpbmdJbmZvfHxbXV07aWYoIXQubGFiZWxzVmlzaWJsZXx8IXIubGVuZ3RoKWNvbnRpbnVlO2lmKHIuc29tZSgoZT0+XCJub25lXCI9PT1lLmRlY29uZmxpY3Rpb25TdHJhdGVneSkpKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEcoZSl7cmV0dXJuIHQ9PmYoUCh0LGUpKX1mdW5jdGlvbiBCKGUpe2NvbnN0IHQ9bnVsbCE9ZSYmXCJ2aXN1YWxWYXJpYWJsZXNcImluIGUmJmUudmlzdWFsVmFyaWFibGVzO2lmKCF0KXJldHVybiBudWxsO2Zvcihjb25zdCByIG9mIHQpaWYoXCJzaXplXCI9PT1yLnR5cGUpcmV0dXJuIEcocik7cmV0dXJuIG51bGx9Y29uc3QgJD1cImVzcmkudmlld3MuMmQubGF5ZXJzLkZlYXR1cmVMYXllclZpZXcyRFwiO2Z1bmN0aW9uIEsoZSl7c3dpdGNoKGUuZ2VvbWV0cnlUeXBlKXtjYXNlXCJwb2ludFwiOnJldHVyblwiZXNyaUdlb21ldHJ5UG9pbnRcIjtjYXNlXCJwb2x5bGluZVwiOnJldHVyblwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIjtjYXNlXCJwb2x5Z29uXCI6Y2FzZVwibXVsdGlwYXRjaFwiOnJldHVyblwiZXNyaUdlb21ldHJ5UG9seWdvblwiO2Nhc2VcIm11bHRpcG9pbnRcIjpyZXR1cm5cImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIjtkZWZhdWx0OnJldHVybiBsLmdldExvZ2dlcigkKS5lcnJvcihuZXcgYShcInVuc3VwcG9ydGVkLWdlb21ldHJ5LXR5cGVcIixgR2VvbWV0cnkgdHlwZSBvZiAke2UuZ2VvbWV0cnlUeXBlfSBpcyBub3Qgc3VwcG9ydGVkYCkpLG51bGx9fWxldCBaPWNsYXNzIGV4dGVuZHMoTihIKFUoaykpKSl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX3BpcGVsaW5lSXNVcGRhdGluZz0hMCx0aGlzLl9jb21tYW5kc1F1ZXVlPW5ldyBBKHtwcm9jZXNzOmU9Pntzd2l0Y2goZS50eXBlKXtjYXNlXCJwcm9jZXNzZWQtZWRpdFwiOnJldHVybiB0aGlzLl9kb0VkaXQoZSk7Y2FzZVwicmVmcmVzaFwiOnJldHVybiB0aGlzLl9kb1JlZnJlc2goZS5kYXRhQ2hhbmdlZCk7Y2FzZVwidXBkYXRlXCI6cmV0dXJuIHRoaXMuX2RvVXBkYXRlKCl9fX0pLHRoaXMuX3Zpc2liaWxpdHlPdmVycmlkZXM9bmV3IFNldCx0aGlzLl9oaWdobGlnaHRJZHM9bmV3IE1hcCx0aGlzLl91cGRhdGVIaWdobGlnaHQ9aCgoYXN5bmMoKT0+dGhpcy5fcHJveHkuc2V0SGlnaGxpZ2h0KEFycmF5LmZyb20odGhpcy5faGlnaGxpZ2h0SWRzLmtleXMoKSkpKSksdGhpcy5fdXBsb2Fkc0xvY2tlZD0hMSx0aGlzLl9uZWVkc0NsdXN0ZXJTaXplVXBkYXRlPSExLHRoaXMuZmVhdHVyZUVmZmVjdFZpZXc9bmV3IGIsdGhpcy5fbGFzdERlZmluaXRpb25FeHByZXNzaW9uPW51bGx9ZGVzdHJveSgpe3RoaXMuX3VwZGF0ZUNsdXN0ZXJTaXplVGFzaz8ucmVtb3ZlKCksdGhpcy5fcHJveHk/LmRlc3Ryb3koKSx0aGlzLl9jb21tYW5kc1F1ZXVlLmRlc3Ryb3koKX1pbml0aWFsaXplKCl7dGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKFByb21pc2UuYWxsKFt0aGlzLl9pbml0UHJveHkoKSx0aGlzLl9pbml0U2VydmljZU9wdGlvbnMoKV0pKSx0aGlzLmFkZEhhbmRsZXMoW3RoaXMub24oXCJ2YWx1ZVJhbmdlc0NoYW5nZWRcIiwoZT0+e3RoaXMuX3NldChcIl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc1wiLGUudmFsdWVSYW5nZXMpfSkpLGMoKCgpPT50aGlzLmZlYXR1cmVFZmZlY3QpLChlPT57dGhpcy5mZWF0dXJlRWZmZWN0Vmlldy5mZWF0dXJlRWZmZWN0PWV9KSx5KV0sXCJjb25zdHJ1Y3RvclwiKSx0aGlzLmZlYXR1cmVFZmZlY3RWaWV3LmVuZFRyYW5zaXRpb25zKCl9YXN5bmMgX2luaXRQcm94eSgpe2NvbnN0IGU9dGhpcy5sYXllcjtpZihcImlzVGFibGVcImluIGUmJmUuaXNUYWJsZSl0aHJvdyBuZXcgYShcImZlYXR1cmVsYXllcnZpZXc6dGFibGUtbm90LXN1cHBvcnRlZFwiLFwidGFibGUgZmVhdHVyZSBsYXllciBjYW4ndCBiZSBkaXNwbGF5ZWRcIix7bGF5ZXI6dGhpcy5sYXllcn0pO2lmKChcImZlYXR1cmVcIj09PWUudHlwZXx8XCJzdWJ0eXBlLWdyb3VwXCI9PT1lLnR5cGUpJiYhdyhlKT8ub3BlcmF0aW9ucy5zdXBwb3J0c1F1ZXJ5KXRocm93IG5ldyBhKFwiZmVhdHVyZWxheWVydmlldzpxdWVyeS1ub3Qtc3VwcG9ydGVkXCIsXCJsYXllciB2aWV3IHJlcXVpcmVzIGEgbGF5ZXIgd2l0aCBxdWVyeSBjYXBhYmlsaXR5XCIse2xheWVyOmV9KTt0aGlzLl9wcm94eSYmdGhpcy5fcHJveHkuZGVzdHJveSgpO2NvbnN0IHQ9dGhpcy5fY3JlYXRlQ2xpZW50T3B0aW9ucygpO3JldHVybiB0aGlzLl9zZXQoXCJfcHJveHlcIixuZXcgTCh7Y2xpZW50OnR9KSksdGhpcy5fcHJveHkud2hlbigpfWFzeW5jIF9pbml0U2VydmljZU9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fc2V0KFwiX3NlcnZpY2VPcHRpb25zXCIsYXdhaXQgdGhpcy5fY3JlYXRlU2VydmljZU9wdGlvbnMoKSksdGhpcy5fc2VydmljZU9wdGlvbnN9Z2V0IF9lZmZlY3RpdmVGZWF0dXJlUmVkdWN0aW9uKCl7aWYoIShcImZlYXR1cmVSZWR1Y3Rpb25cImluIHRoaXMubGF5ZXIpKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5sYXllci5mZWF0dXJlUmVkdWN0aW9uO3JldHVybiBlJiYoIShcIm1heFNjYWxlXCJpbiBlKXx8IWUubWF4U2NhbGV8fGUubWF4U2NhbGU8dGhpcy52aWV3LnNjYWxlKT9lOm51bGx9Z2V0IG9yZGVyQnlGaWVsZHMoKXtyZXR1cm5cInN0cmVhbVwiIT09dGhpcy5fc2VydmljZU9wdGlvbnM/LnR5cGU/dGhpcy5fc2VydmljZU9wdGlvbnM/Lm9yZGVyQnlGaWVsZHM6dm9pZCAwfWdldCBsYWJlbHNWaXNpYmxlKCl7Y29uc3QgZT1cInN1YnR5cGUtZ3JvdXBcIj09PXRoaXMubGF5ZXIudHlwZT90aGlzLmxheWVyLnN1YmxheWVycy5pdGVtczpbdGhpcy5sYXllcl07cmV0dXJuIXRoaXMuc3VzcGVuZGVkJiZlLnNvbWUoKGU9PmUubGFiZWxpbmdJbmZvJiZlLmxhYmVsc1Zpc2libGUpKX1nZXQgbGFiZWxpbmdDb2xsaXNpb25JbmZvcygpe2NvbnN0e3RpbGVSZW5kZXJlcjplLGxheWVyOnR9PXRoaXM7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtjb25zdCByPVwic3VidHlwZS1ncm91cFwiPT09dGhpcy5sYXllci50eXBlP3RoaXMubGF5ZXIuc3VibGF5ZXJzLml0ZW1zOlt0aGlzLmxheWVyXSxpPXQuZ2VvbWV0cnlUeXBlLHM9IU0ociksYT17fTtpZihcInN1YnR5cGUtZ3JvdXBcIiE9PXQudHlwZSl7aWYoXCJoZWF0bWFwXCI9PT1lPy50eXBlKXJldHVybiBudWxsO2NvbnN0IHI9Qih0LnJlbmRlcmVyKTthWzBdPXJ9cmV0dXJuW3t0aWxlUmVuZGVyZXI6ZSx2dkV2YWx1YXRvcnM6YSxkZWNvbmZsaWN0aW9uRW5hYmxlZDpzLGdlb21ldHJ5VHlwZTppLHZpc2libGU6IXRoaXMuc3VzcGVuZGVkfV19Z2V0IHF1ZXJ5TW9kZSgpe3JldHVybiB0aGlzLl9zZXJ2aWNlT3B0aW9ucz8udHlwZX1nZXQgcmVuZGVyaW5nQ29uZmlnSGFzaCgpe2lmKCF0aGlzLmxheWVyKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5hdmFpbGFibGVGaWVsZHMsdD10aGlzLmxheWVyLHI9dGhpcy52aWV3LmZsb29ycyx7ZGVmaW5pdGlvbkV4cHJlc3Npb246aX09dCxzPVwic3VidHlwZS1ncm91cFwiIT09dGhpcy5sYXllci50eXBlJiZ0aGlzLmxheWVyLmxhYmVsc1Zpc2libGUmJnRoaXMubGF5ZXIubGFiZWxpbmdJbmZvLGE9XCJyZW5kZXJlclwiaW4gdCYmdC5yZW5kZXJlcixuPVwiZ2RiVmVyc2lvblwiaW4gdD90LmdkYlZlcnNpb246dm9pZCAwLG89XCJoaXN0b3JpY01vbWVudFwiaW4gdD90Lmhpc3RvcmljTW9tZW50Py5nZXRUaW1lKCk6dm9pZCAwLHt0aW1lRXh0ZW50Omx9PXRoaXMsdT1cImN1c3RvbVBhcmFtZXRlcnNcImluIHQ/SlNPTi5zdHJpbmdpZnkodC5jdXN0b21QYXJhbWV0ZXJzKTp2b2lkIDAsZD1cImFwaUtleVwiaW4gdD90LmFwaUtleTp2b2lkIDAsaD1cInN0cmVhbVwiPT09dC50eXBlP2Ake0pTT04uc3RyaW5naWZ5KHQuZ2VvbWV0cnlEZWZpbml0aW9uKX0ke3QuZGVmaW5pdGlvbkV4cHJlc3Npb259YDpudWxsLHA9SlNPTi5zdHJpbmdpZnkodGhpcy5jbGlwcyksYz10aGlzLl9lZmZlY3RpdmVGZWF0dXJlUmVkdWN0aW9uPy50b0pTT04oKSx5PVwib3JkZXJCeVwiaW4gdGhpcy5sYXllciYmSlNPTi5zdHJpbmdpZnkodGhpcy5sYXllci5vcmRlckJ5KSxnPVwic3VibGF5ZXJzXCJpbiB0aGlzLmxheWVyJiZ0aGlzLmxheWVyLnN1YmxheWVycy5pdGVtcy5yZWR1Y2UoKChlLHQpPT5lK2Ake3QudmlzaWJsZT8xOjB9LiR7SlNPTi5zdHJpbmdpZnkodC5yZW5kZXJlcil9LiR7dC5sYWJlbHNWaXNpYmxlfVxcbi4ke0pTT04uc3RyaW5naWZ5KHQubGFiZWxpbmdJbmZvKX1gKSxcIlwiKSxmPVwic3VidHlwZUNvZGVcImluIHRoaXMubGF5ZXImJnRoaXMubGF5ZXIuc3VidHlwZUNvZGU7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtvcmRlckJ5Onksc3VibGF5ZXJIYXNoOmcsc3VidHlwZUNvZGU6ZixmaWx0ZXJIYXNoOm51bGwhPXRoaXMuZmlsdGVyJiZ0aGlzLmZpbHRlci50b0pTT04oKSxlZmZlY3RIYXNoOm51bGwhPXRoaXMuZmVhdHVyZUVmZmVjdCYmdGhpcy5mZWF0dXJlRWZmZWN0LnRvSlNPTigpLHN0cmVhbUZpbHRlcjpoLGdkYlZlcnNpb246bixkZWZpbml0aW9uRXhwcmVzc2lvbjppLGhpc3RvcmljTW9tZW50Om8sYXZhaWxhYmxlRmllbGRzOmUscmVuZGVyZXI6YSxsYWJlbGluZ0luZm86cyx0aW1lRXh0ZW50OmwsZmxvb3JzOnIsY2xpcHNIYXNoOnAsZmVhdHVyZVJlZHVjdGlvbjpjLGN1c3RvbVBhcmFtZXRlcnM6dSxhcGlLZXk6ZCx0aW1lWm9uZTp0aGlzLnZpZXcudGltZVpvbmV9KX1oaWdobGlnaHQoZSl7bGV0IHQ7ZSBpbnN0YW5jZW9mIHI/dD1bZS5nZXRPYmplY3RJZCgpXTpcIm51bWJlclwiPT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGU/dD1bZV06cy5pc0NvbGxlY3Rpb24oZSkmJmUubGVuZ3RoPjA/dD1lLm1hcCgoZT0+ZT8uZ2V0T2JqZWN0SWQoKSkpLnRvQXJyYXkoKTpBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wJiYodD1cIm51bWJlclwiPT10eXBlb2YgZVswXXx8XCJzdHJpbmdcIj09dHlwZW9mIGVbMF0/ZTplLm1hcCgoZT0+ZT8uZ2V0T2JqZWN0SWQoKSkpKTtjb25zdCBhPXQ/LmZpbHRlcihpKTtyZXR1cm4gYT8ubGVuZ3RoPyh0aGlzLl9hZGRIaWdobGlnaHQoYSksbigoKCk9PnRoaXMuX3JlbW92ZUhpZ2hsaWdodChhKSkpKTpuKCl9aGFzSGlnaGxpZ2h0KCl7cmV0dXJuISF0aGlzLl9oaWdobGlnaHRJZHMuc2l6ZX1hc3luYyBoaXRUZXN0KGUsaSl7aWYoIXRoaXMudGlsZVJlbmRlcmVyKXJldHVybiBudWxsO2NvbnN0IHM9YXdhaXQgdGhpcy50aWxlUmVuZGVyZXIuaGl0VGVzdChpKTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIG51bGw7aGFzKFwiZmVhdHVyZWxheWVyLWZvcmNlLW1hcmtlci10ZXh0LWRyYXctb3JkZXJcIikmJnMuc29ydCgoKGUsdCk9PmUtdCkpO2NvbnN0e2ZlYXR1cmVzOmEsYWdncmVnYXRlczpufT1hd2FpdCB0aGlzLl9wcm94eS5nZXRGZWF0dXJlcyhzKTtyZXR1cm5bLi4ubi5tYXAoKHI9PnRoaXMuX2NyZWF0ZUdyYXBoaWNIaXQoZSx0LmZyb21KU09OKHIpKSkpLC4uLmEubWFwKCh0PT50aGlzLl9jcmVhdGVHcmFwaGljSGl0KGUsci5mcm9tSlNPTih0KSkpKV19cXVlcnlTdGF0aXN0aWNzKCl7cmV0dXJuIHRoaXMuX3Byb3h5LnF1ZXJ5U3RhdGlzdGljcygpfWFzeW5jIHF1ZXJ5U3VtbWFyeVN0YXRpc3RpY3MoZSx0LHIpe2NvbnN0IGk9ey4uLnQsc2NhbGU6dGhpcy52aWV3LnNjYWxlfTtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlTdW1tYXJ5U3RhdGlzdGljcyh0aGlzLl9jbGVhblVwUXVlcnkoZSksaSxyKX1hc3luYyBxdWVyeUFnZ3JlZ2F0ZVN1bW1hcnlTdGF0aXN0aWNzKGUsdCxyKXtjb25zdCBpPXsuLi50LHNjYWxlOnRoaXMudmlldy5zY2FsZX07cmV0dXJuIHRoaXMuX3Byb3h5LnF1ZXJ5QWdncmVnYXRlU3VtbWFyeVN0YXRpc3RpY3ModGhpcy5fY2xlYW5VcEFnZ3JlZ2F0ZVF1ZXJ5KGUpLGkscil9YXN5bmMgcXVlcnlVbmlxdWVWYWx1ZXMoZSx0LHIpe2NvbnN0IGk9ey4uLnQsc2NhbGU6dGhpcy52aWV3LnNjYWxlfTtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlVbmlxdWVWYWx1ZXModGhpcy5fY2xlYW5VcFF1ZXJ5KGUpLGkscil9YXN5bmMgcXVlcnlBZ2dyZWdhdGVVbmlxdWVWYWx1ZXMoZSx0LHIpe2NvbnN0IGk9ey4uLnQsc2NhbGU6dGhpcy52aWV3LnNjYWxlfTtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlBZ2dyZWdhdGVVbmlxdWVWYWx1ZXModGhpcy5fY2xlYW5VcEFnZ3JlZ2F0ZVF1ZXJ5KGUpLGkscil9YXN5bmMgcXVlcnlDbGFzc0JyZWFrcyhlLHQscil7Y29uc3QgaT17Li4udCxzY2FsZTp0aGlzLnZpZXcuc2NhbGV9O3JldHVybiB0aGlzLl9wcm94eS5xdWVyeUNsYXNzQnJlYWtzKHRoaXMuX2NsZWFuVXBRdWVyeShlKSxpLHIpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlQ2xhc3NCcmVha3MoZSx0LHIpe2NvbnN0IGk9ey4uLnQsc2NhbGU6dGhpcy52aWV3LnNjYWxlfTtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlBZ2dyZWdhdGVDbGFzc0JyZWFrcyh0aGlzLl9jbGVhblVwQWdncmVnYXRlUXVlcnkoZSksaSxyKX1hc3luYyBxdWVyeUhpc3RvZ3JhbShlLHQscil7Y29uc3QgaT17Li4udCxzY2FsZTp0aGlzLnZpZXcuc2NhbGV9O3JldHVybiB0aGlzLl9wcm94eS5xdWVyeUhpc3RvZ3JhbSh0aGlzLl9jbGVhblVwUXVlcnkoZSksaSxyKX1hc3luYyBxdWVyeUFnZ3JlZ2F0ZUhpc3RvZ3JhbShlLHQscil7Y29uc3QgaT17Li4udCxzY2FsZTp0aGlzLnZpZXcuc2NhbGV9O3JldHVybiB0aGlzLl9wcm94eS5xdWVyeUFnZ3JlZ2F0ZUhpc3RvZ3JhbSh0aGlzLl9jbGVhblVwQWdncmVnYXRlUXVlcnkoZSksaSxyKX1xdWVyeUZlYXR1cmVzKGUsdCl7cmV0dXJuIHRoaXMucXVlcnlGZWF0dXJlc0pTT04oZSx0KS50aGVuKChlPT57Y29uc3QgdD14LmZyb21KU09OKGUpO3JldHVybiB0LmZlYXR1cmVzLmZvckVhY2goKGU9PnRoaXMuX3NldExheWVyc0ZvckZlYXR1cmUoZSkpKSx0fSkpfXF1ZXJ5VmlzaWJsZUZlYXR1cmVzKGUsdCl7cmV0dXJuIHRoaXMuX3Byb3h5LnF1ZXJ5VmlzaWJsZUZlYXR1cmVzKHRoaXMuX2NsZWFuVXBRdWVyeShlKSx0KS50aGVuKChlPT57Y29uc3QgdD14LmZyb21KU09OKGUpO3JldHVybiB0LmZlYXR1cmVzLmZvckVhY2goKGU9PnRoaXMuX3NldExheWVyc0ZvckZlYXR1cmUoZSkpKSx0fSkpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlcyhlLHQpe2NvbnN0IHI9YXdhaXQgdGhpcy5fcHJveHkucXVlcnlBZ2dyZWdhdGVzKHRoaXMuX2NsZWFuVXBBZ2dyZWdhdGVRdWVyeShlKSx0KSxpPVIuZnJvbUpTT04ocik7cmV0dXJuIGkuZmVhdHVyZXMuZm9yRWFjaCgoZT0+dGhpcy5fc2V0TGF5ZXJzRm9yRmVhdHVyZShlKSkpLGl9cXVlcnlBZ2dyZWdhdGVJZHMoZSx0KXtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlBZ2dyZWdhdGVJZHModGhpcy5fY2xlYW5VcEFnZ3JlZ2F0ZVF1ZXJ5KGUpLHQpfXF1ZXJ5QWdncmVnYXRlQ291bnQoZSx0KXtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlBZ2dyZWdhdGVDb3VudCh0aGlzLl9jbGVhblVwQWdncmVnYXRlUXVlcnkoZSksdCl9cXVlcnlBZ2dyZWdhdGVKU09OKGUsdCl7cmV0dXJuIHRoaXMuX3Byb3h5LnF1ZXJ5QWdncmVnYXRlcyh0aGlzLl9jbGVhblVwQWdncmVnYXRlUXVlcnkoZSksdCl9cXVlcnlGZWF0dXJlc0pTT04oZSx0KXtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlGZWF0dXJlcyh0aGlzLl9jbGVhblVwUXVlcnkoZSksdCl9cXVlcnlPYmplY3RJZHMoZSx0KXtyZXR1cm4gdGhpcy5fcHJveHkucXVlcnlPYmplY3RJZHModGhpcy5fY2xlYW5VcFF1ZXJ5KGUpLHQpfXF1ZXJ5RmVhdHVyZUNvdW50KGUsdCl7cmV0dXJuIHRoaXMuX3Byb3h5LnF1ZXJ5RmVhdHVyZUNvdW50KHRoaXMuX2NsZWFuVXBRdWVyeShlKSx0KX1xdWVyeUV4dGVudChlLHQpe3JldHVybiB0aGlzLl9wcm94eS5xdWVyeUV4dGVudCh0aGlzLl9jbGVhblVwUXVlcnkoZSksdCkudGhlbigoZT0+KHtjb3VudDplLmNvdW50LGV4dGVudDpKLmZyb21KU09OKGUuZXh0ZW50KX0pKSl9c2V0VmlzaWJpbGl0eShlLHQpe3Q/dGhpcy5fdmlzaWJpbGl0eU92ZXJyaWRlcy5kZWxldGUoZSk6dGhpcy5fdmlzaWJpbGl0eU92ZXJyaWRlcy5hZGQoZSksdGhpcy5fdXBkYXRlKCl9dXBkYXRlKGUpe2lmKCF0aGlzLl90aWxlU3RyYXRlZ3l8fCF0aGlzLnRpbGVSZW5kZXJlcilyZXR1cm47Y29uc3R7aGFzTWlzc2luZ1RpbGVzOnQsYWRkZWQ6cixyZW1vdmVkOml9PXRoaXMuX3RpbGVTdHJhdGVneS51cGRhdGUoZSk7KHIubGVuZ3RofHxpLmxlbmd0aCkmJnRoaXMuX3Byb3h5LnVwZGF0ZVRpbGVzKHthZGRlZDpyLHJlbW92ZWQ6aX0pLHQmJnRoaXMucmVxdWVzdFVwZGF0ZSgpLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIil9YXR0YWNoKCl7dGhpcy52aWV3LnRpbWVsaW5lLnJlY29yZChgJHt0aGlzLmxheWVyLnRpdGxlfSAoRmVhdHVyZUxheWVyKSBBdHRhY2hgKSx0aGlzLl90aWxlU3RyYXRlZ3k9bmV3IFEoe2FjcXVpcmVUaWxlOmU9PnRoaXMuX2FjcXVpcmVUaWxlKGUpLHJlbGVhc2VUaWxlOmU9PnRoaXMuX3JlbGVhc2VUaWxlKGUpLHRpbGVJbmZvVmlldzp0aGlzLnZpZXcuZmVhdHVyZXNUaWxpbmdTY2hlbWUsYnVmZmVyOjB9KSx0aGlzLmFkZEF0dGFjaEhhbmRsZXMoYygoKCk9PnRoaXMucmVuZGVyaW5nQ29uZmlnSGFzaCksKCgpPT50aGlzLl91cGRhdGUoKSksZykpLFwic3RyZWFtXCIhPT10aGlzLmxheWVyLnR5cGUmJnRoaXMuYWRkQXR0YWNoSGFuZGxlcyh0aGlzLmxheWVyLm9uKFwiZWRpdHNcIiwoZT0+dGhpcy5fZWRpdChlKSkpKX1kZXRhY2goKXt0aGlzLl9jb21tYW5kc1F1ZXVlLmNsZWFyKCksdGhpcy5fcHJveHk/LnN0b3AoKSx0aGlzLmNvbnRhaW5lci5yZW1vdmVBbGxDaGlsZHJlbigpLHRoaXMudGlsZVJlbmRlcmVyPy51bmluc3RhbGwodGhpcy5jb250YWluZXIpLHRoaXMudGlsZVJlbmRlcmVyPW51bGwsdGhpcy5fdGlsZVN0cmF0ZWd5PXUodGhpcy5fdGlsZVN0cmF0ZWd5KSx0aGlzLl90aWxlUmVuZGVyZXJIYXNoPW51bGx9bW92ZVN0YXJ0KCl7dGhpcy5yZXF1ZXN0VXBkYXRlKCl9dmlld0NoYW5nZSgpe3RoaXMucmVxdWVzdFVwZGF0ZSgpfW1vdmVFbmQoKXt0aGlzLnJlcXVlc3RVcGRhdGUoKX1pc1VwZGF0aW5nKCl7Y29uc3QgZT1cInJlbmRlcmVyXCJpbiB0aGlzLmxheWVyJiZudWxsIT10aGlzLmxheWVyLnJlbmRlcmVyLHQ9dGhpcy5fY29tbWFuZHNRdWV1ZS51cGRhdGluZyxyPW51bGwhPXRoaXMuX3VwZGF0aW5nUmVxdWlyZWRGaWVsZHNQcm9taXNlLGk9IXRoaXMuX3Byb3h5fHwhdGhpcy5fcHJveHkuaXNSZWFkeSxzPXRoaXMuX3BpcGVsaW5lSXNVcGRhdGluZyxhPW51bGw9PXRoaXMudGlsZVJlbmRlcmVyfHx0aGlzLnRpbGVSZW5kZXJlcj8udXBkYXRpbmcsbj1lJiYodHx8cnx8aXx8c3x8dGhpcy5kYXRhVXBkYXRpbmd8fGEpO3JldHVybiBoYXMoXCJlc3JpLTJkLWxvZy11cGRhdGluZ1wiKSYmY29uc29sZS5sb2coYFVwZGF0aW5nIEZMVjJEICgke3RoaXMubGF5ZXIuaWR9KTogJHtufVxcbiAgLT4gaGFzUmVuZGVyZXIgJHtlfVxcbiAgLT4gaGFzUGVuZGluZ0NvbW1hbmQgJHt0fVxcbiAgLT4gdXBkYXRpbmdSZXF1aXJlZEZpZWxkcyAke3J9XFxuICAtPiB1cGRhdGluZ1Byb3h5ICR7aX1cXG4gIC0+IHVwZGF0aW5nUGlwZWxpbmUgJHtzfVxcbiAgLT4gdXBkYXRpbmdEYXRhOiAke3RoaXMuZGF0YVVwZGF0aW5nfVxcbiAgLT4gdXBkYXRpbmdUaWxlUmVuZGVyZXIgJHthfVxcbmApLG59X2NyZWF0ZUNsaWVudE9wdGlvbnMoKXtyZXR1cm57c2V0VXBkYXRpbmc6ZT0+e3RoaXMuX3NldChcIl9waXBlbGluZUlzVXBkYXRpbmdcIixlKX0sc2V0RGF0YVVwZGF0aW5nOmU9Pnt0aGlzLl9zZXQoXCJkYXRhVXBkYXRpbmdcIixlKX0sZW1pdEV2ZW50OmU9Pnt0aGlzLmVtaXQoZS5uYW1lLGUuZXZlbnQpfX19YXN5bmMgX2RldGVjdFF1ZXJ5TW9kZShlKXtjb25zdCB0PVwicGF0aFwiaW4gZSx7bGF5ZXI6cn09dGhpcyxpPVwiZWRpdGluZ0luZm9cImluIHImJnIuZWRpdGluZ0luZm8/Lmxhc3RFZGl0RGF0ZSxzPVwicmVmcmVzaEludGVydmFsXCJpbiByJiYhIXIucmVmcmVzaEludGVydmFsLGE9IWkmJnMsbj13KHIpO2lmKHQmJihcImZlYXR1cmVcIj09PXIudHlwZXx8XCJzdWJ0eXBlLWdyb3VwXCI9PT1yLnR5cGUpJiZcInBvaW50XCI9PT1yLmdlb21ldHJ5VHlwZSYmbj8ucXVlcnkuc3VwcG9ydHNQYWdpbmF0aW9uJiYhbj8ub3BlcmF0aW9ucy5zdXBwb3J0c0VkaXRpbmcmJiFhJiZoYXMoXCJmZWF0dXJlbGF5ZXItc25hcHNob3QtZW5hYmxlZFwiKSl0cnl7Y29uc3QgZT1hd2FpdCByLnF1ZXJ5RmVhdHVyZUNvdW50KCk7aWYoZTw9aGFzKFwiZmVhdHVyZWxheWVyLXNuYXBzaG90LXBvaW50LW1pbi10aHJlc2hvbGRcIikpcmV0dXJue21vZGU6XCJzbmFwc2hvdFwiLGZlYXR1cmVDb3VudDplfTtjb25zdCB0PWhhcyhcImZlYXR1cmVsYXllci1zbmFwc2hvdC1wb2ludC1tYXgtdGhyZXNob2xkXCIpLGk9aGFzKFwiZmVhdHVyZWxheWVyLXNuYXBzaG90LXBvaW50LWNvdmVyYWdlXCIpLHM9dGhpcy52aWV3LmV4dGVudCxhPXIuZnVsbEV4dGVudCxuPWE/LmNsb25lKCkuaW50ZXJzZWN0aW9uKHMpLG89bnVsbCE9bj9uLndpZHRoKm4uaGVpZ2h0OjAsbD1hPy53aWR0aCphPy5oZWlnaHQ7aWYoZTw9dCYmKDA9PT1sPzA6by9sKT49aSlyZXR1cm57bW9kZTpcInNuYXBzaG90XCIsZmVhdHVyZUNvdW50OmV9fWNhdGNoKG8pe2wuZ2V0TG9nZ2VyKHRoaXMpLndhcm4oXCJtYXB2aWV3LWZlYXR1cmUtbGF5ZXJcIixcIkVuY291bnRlcmVkIGFuIGVycm9yIHdoZW4gcXVlcnlpbmcgZm9yIGZlYXR1cmVDb3VudFwiLHtlcnJvcjpvfSl9cmV0dXJue21vZGU6XCJvbi1kZW1hbmRcIn19YXN5bmMgX2NyZWF0ZVNlcnZpY2VPcHRpb25zKCl7Y29uc3QgZT10aGlzLmxheWVyO2lmKFwic3RyZWFtXCI9PT1lLnR5cGUpcmV0dXJuIG51bGw7Y29uc3QgdD13KGUpLHtjYXBhYmlsaXRpZXM6cixvYmplY3RJZEZpZWxkOml9PWUscz1lLmZpZWxkc0luZGV4LnRvSlNPTigpLGE9cy5maWVsZHMsbj1udWxsIT1lLmZ1bGxFeHRlbnQ/ZS5mdWxsRXh0ZW50LnRvSlNPTigpOm51bGwsbD1LKGUpLHU9XCJ0aW1lSW5mb1wiaW4gZSYmZS50aW1lSW5mbz8udG9KU09OKCl8fG51bGwsZD1lLnNwYXRpYWxSZWZlcmVuY2U/ZS5zcGF0aWFsUmVmZXJlbmNlLnRvSlNPTigpOm51bGwsaD1cImZlYXR1cmVcIj09PWUudHlwZT9lLmdsb2JhbElkRmllbGQ6bnVsbDtsZXQgcDtcIm9nYy1mZWF0dXJlXCI9PT1lLnR5cGU/cD1lLnNvdXJjZS5nZXRTb3VyY2UoKTpEKGUuc291cmNlKT9wPWF3YWl0IGUuc291cmNlLm9wZW5Qb3J0cygpOmUucGFyc2VkVXJsJiYocD1vKGUucGFyc2VkVXJsKSxcImR5bmFtaWNEYXRhU291cmNlXCJpbiBlJiZlLmR5bmFtaWNEYXRhU291cmNlJiYocC5xdWVyeT17bGF5ZXI6SlNPTi5zdHJpbmdpZnkoe3NvdXJjZTplLmR5bmFtaWNEYXRhU291cmNlfSl9KSk7Y29uc3QgYz1cImRhdGVzSW5Vbmtub3duVGltZXpvbmVcImluIHRoaXMubGF5ZXImJnRoaXMubGF5ZXIuZGF0ZXNJblVua25vd25UaW1lem9uZSx5PShcInN1YnR5cGVGaWVsZFwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLnN1YnR5cGVGaWVsZDpudWxsKT8/bnVsbCx7bW9kZTpnLGZlYXR1cmVDb3VudDpmfT1hd2FpdCB0aGlzLl9kZXRlY3RRdWVyeU1vZGUocCk7bGV0IG09dGhpcy5sYXllci5vYmplY3RJZEZpZWxkO2lmKFwiZmVhdHVyZVwiPT09dGhpcy5sYXllci50eXBlJiZudWxsIT10aGlzLmxheWVyLm9yZGVyQnkmJnRoaXMubGF5ZXIub3JkZXJCeS5sZW5ndGgpe2NvbnN0IGU9IXRoaXMubGF5ZXIub3JkZXJCeVswXS52YWx1ZUV4cHJlc3Npb24mJnRoaXMubGF5ZXIub3JkZXJCeVswXS5maWVsZDtlJiYobT1lKX1yZXR1cm57dHlwZTpnLHR5cGVJZEZpZWxkOlwidHlwZUlkRmllbGRcImluIGUmJmUudHlwZUlkRmllbGR8fHZvaWQgMCx0eXBlczpcInR5cGVzXCJpbiBlJiZlLnR5cGVzPy5tYXAoKGU9PmUudG9KU09OKCkpKXx8dm9pZCAwLHRpbWVSZWZlcmVuY2VVbmtub3duQ2xpZW50OmMsc3VidHlwZUZpZWxkOnksZmVhdHVyZUNvdW50OmYsZ2xvYmFsSWRGaWVsZDpoLG1heFJlY29yZENvdW50OnIucXVlcnkubWF4UmVjb3JkQ291bnQsdGlsZU1heFJlY29yZENvdW50OnIucXVlcnkudGlsZU1heFJlY29yZENvdW50LGNhcGFiaWxpdGllczpyLGVmZmVjdGl2ZUNhcGFiaWxpdGllczp0LGZpZWxkczphLGZpZWxkc0luZGV4OnMsZnVsbEV4dGVudDpuLGdlb21ldHJ5VHlwZTpsLG9iamVjdElkRmllbGQ6aSxzb3VyY2U6cCx0aW1lSW5mbzp1LHNwYXRpYWxSZWZlcmVuY2U6ZCxvcmRlckJ5RmllbGRzOm19fWFzeW5jIF9jcmVhdGVNZW1vcnlTZXJ2aWNlT3B0aW9ucyhlKXtjb25zdCB0PWF3YWl0IGUub3BlblBvcnRzKCk7cmV0dXJuey4uLnRoaXMuX2NyZWF0ZVNlcnZpY2VPcHRpb25zKCksdHlwZTpcIm1lbW9yeVwiLHNvdXJjZTp0fX1fY2xlYW5VcFF1ZXJ5KGUpe2NvbnN0IHQ9Uy5mcm9tKGUpfHx0aGlzLmNyZWF0ZVF1ZXJ5KCk7cmV0dXJuIHQub3V0U3BhdGlhbFJlZmVyZW5jZXx8KHQub3V0U3BhdGlhbFJlZmVyZW5jZT10aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSksdH1fY2xlYW5VcEFnZ3JlZ2F0ZVF1ZXJ5KGUpe2NvbnN0IHQ9Uy5mcm9tKGUpfHx0aGlzLmNyZWF0ZUFnZ3JlZ2F0ZVF1ZXJ5KCk7cmV0dXJuIHQub3V0U3BhdGlhbFJlZmVyZW5jZXx8KHQub3V0U3BhdGlhbFJlZmVyZW5jZT10aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSksdH1hc3luYyBfdXBkYXRlKCl7cmV0dXJuIHRoaXMuX2NvbW1hbmRzUXVldWUucHVzaCh7dHlwZTpcInVwZGF0ZVwifSl9YXN5bmMgX2VkaXQoZSl7aWYodGhpcy5zdXNwZW5kZWQpcmV0dXJuIHZvaWQgdGhpcy5fY2xlYXJUaWxlcygpO3JldHVybiB0aGlzLl92YWxpZGF0ZUVkaXQoZSk/dGhpcy5fY29tbWFuZHNRdWV1ZS5wdXNoKHt0eXBlOlwiZWRpdFwiLGVkaXRzOmV9KTp2b2lkIDB9YXN5bmMgZG9SZWZyZXNoKGUpe2lmKHRoaXMuYXR0YWNoZWQmJnRoaXMuX3RpbGVTdHJhdGVneS50aWxlS2V5cygpLmxlbmd0aClyZXR1cm4gdGhpcy5zdXNwZW5kZWQmJmU/dm9pZCB0aGlzLl9jbGVhclRpbGVzKCk6dGhpcy5fY29tbWFuZHNRdWV1ZS5wdXNoKHt0eXBlOlwicmVmcmVzaFwiLGRhdGFDaGFuZ2VkOmV9KX1fY2xlYXJUaWxlcygpe3RoaXMuX3RpbGVTdHJhdGVneS50aWxlS2V5cygpLmxlbmd0aCYmKHRoaXMuX3Byb3h5LnVwZGF0ZVRpbGVzKHthZGRlZDpbXSxyZW1vdmVkOnRoaXMuX3RpbGVTdHJhdGVneS50aWxlS2V5cygpfSksdGhpcy5fdGlsZVN0cmF0ZWd5LmNsZWFyKCksdGhpcy5yZXF1ZXN0VXBkYXRlKCksdGhpcy5fY29tbWFuZHNRdWV1ZS5jbGVhcigpLHRoaXMuX3VwZGF0ZSgpKX1fdmFsaWRhdGVFZGl0KGUpe2NvbnN0IHQ9XCJnbG9iYWxJZEZpZWxkXCJpbiB0aGlzLmxheWVyJiZ0aGlzLmxheWVyLmdsb2JhbElkRmllbGQscj1lLmRlbGV0ZWRGZWF0dXJlcy5zb21lKChlPT4tMT09PWUub2JqZWN0SWR8fCFlLm9iamVjdElkKSksaT10JiZ0aGlzLmF2YWlsYWJsZUZpZWxkcy5pbmNsdWRlcyh0KTtyZXR1cm4gciYmIWk/KGwuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKG5ldyBhKFwibWFwdmlldy1hcHBseS1lZGl0c1wiLGBFZGl0aW5nIHRoZSBzcGVjaWZpZWQgc2VydmljZSByZXF1aXJlcyB0aGUgbGF5ZXIncyBnbG9iYWxJZEZpZWxkLCAke3R9IHRvIGJlIGluY2x1ZGVkIHRoZSBsYXllcidzIG91dEZpZWxkcyBmb3IgdXBkYXRlcyB0byBiZSByZWZsZWN0ZWQgb24gdGhlIG1hcGApKSxudWxsKTplfWFzeW5jIF9kb1VwZGF0ZSgpe3RyeXtpZih0aGlzLmRlc3Ryb3llZHx8IXRoaXMuX2hhc1JlcXVpcmVkU3VwcG9ydCh0aGlzLmxheWVyKXx8IXRoaXMuX3RpbGVTdHJhdGVneSlyZXR1cm47Y29uc3R7ZmVhdHVyZUVmZmVjdFZpZXc6dCxmaWx0ZXI6cn09dGhpcztpZihhd2FpdCB0aGlzLl91cGRhdGVSZXF1aXJlZEZpZWxkcygpLHRoaXMuZGVzdHJveWVkKXJldHVybjtjb25zdHtyZW5kZXJlcjppfT10aGlzLl9nZXRFZmZlY3RpdmVSZW5kZXJlcigpO3RoaXMuX3NldChcIl9lZmZlY3RpdmVSZW5kZXJlclwiLGkpO2NvbnN0IHM9dGhpcy5fY3JlYXRlU2NoZW1hQ29uZmlnKCksYT10aGlzLl9jcmVhdGVDb25maWd1cmF0aW9uKHMscix0LmZpbHRlciksbj10aGlzLl9sYXN0RGVmaW5pdGlvbkV4cHJlc3Npb24hPT1hLnNjaGVtYS5zb3VyY2UuZGVmaW5pdGlvbkV4cHJlc3Npb247dGhpcy5fbGFzdERlZmluaXRpb25FeHByZXNzaW9uPWEuc2NoZW1hLnNvdXJjZS5kZWZpbml0aW9uRXhwcmVzc2lvbjtjb25zdCBvPWEuc2NoZW1hLnRpbGVSZW5kZXJlcix1PXRoaXMuX2NyZWF0ZVRpbGVSZW5kZXJlckhhc2gobyk7aWYoXCJzbmFwc2hvdFwiPT09dGhpcy5fc2VydmljZU9wdGlvbnMudHlwZSYmKGEuc2NoZW1hLnNvdXJjZS5pbml0aWFsRmVhdHVyZUNvdW50PXRoaXMuX3NlcnZpY2VPcHRpb25zLmZlYXR1cmVDb3VudCksdSE9PXRoaXMuX3RpbGVSZW5kZXJlckhhc2gpe3RoaXMuX2luaXRUaWxlUmVuZGVyZXIobyxpKTtjb25zdCBlPXRoaXMubGF5ZXIsdD1cInN0cmVhbVwiPT09ZS50eXBlP2F3YWl0IHRoaXMuX2luaXRTZXJ2aWNlT3B0aW9ucygpOnRoaXMuX3NlcnZpY2VPcHRpb25zO3RoaXMudGlsZVJlbmRlcmVyLm9uQ29uZmlnVXBkYXRlKGkpLFwic3RyZWFtXCIhPT1lLnR5cGUmJkQoZS5zb3VyY2UpJiYodC5zb3VyY2U9YXdhaXQgZS5zb3VyY2Uub3BlblBvcnRzKCkpO2NvbnN0IHI9e2FkZGVkOnRoaXMuX3RpbGVTdHJhdGVneS50aWxlS2V5cygpLHJlbW92ZWQ6W119O2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUxheWVyVmlldzJEOiBQcm94eSBzdGFydHVwXCIpLGF3YWl0IHRoaXMuX3Byb3h5LnN0YXJ0dXAodGhpcy52aWV3LmZlYXR1cmVzVGlsaW5nU2NoZW1lLGEsdCxyKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkZlYXR1cmVMYXllclZpZXcyRDogRmluaXNoZWQgcHJveHkgc3RhcnR1cFwiKSx0aGlzLmhhc0hpZ2hsaWdodCgpJiYoaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlTGF5ZXJWaWV3MkQ6IFVwZGF0aW5nIGhpZ2hsaWdodFwiKSxhd2FpdCB0aGlzLl9wcm94eS5zZXRIaWdobGlnaHQoQXJyYXkuZnJvbSh0aGlzLl9oaWdobGlnaHRJZHMua2V5cygpKSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlTGF5ZXJWaWV3MkQ6IEZpbmlzaGVkIGhpZ2hsaWdodCB1cGRhdGVcIikpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUxheWVyVmlldzJEOiBvbkNvbmZpZ1VwZGF0ZSBzdGFydFwiKSx0aGlzLnRpbGVSZW5kZXJlci5vbkNvbmZpZ1VwZGF0ZShpKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkZlYXR1cmVMYXllclZpZXcyRDogb25Db25maWdVcGRhdGUgZW5kXCIpfWVsc2V7XCJzbmFwc2hvdFwiPT09dGhpcy5fc2VydmljZU9wdGlvbnMudHlwZSYmbiYmKGEuc2NoZW1hLnNvdXJjZS5jaGFuZ2VkRmVhdHVyZUNvdW50PWF3YWl0IHRoaXMubGF5ZXIucXVlcnlGZWF0dXJlQ291bnQoKSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlTGF5ZXJWaWV3MkQ6IFVwZGF0aW5nIHByb3h5XCIpO2NvbnN0IHQ9YXdhaXQgdGhpcy5fcHJveHkudXBkYXRlKGEpO2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUxheWVyVmlldzJEOiBGaW5pc2hlZCBwcm94eSB1cGRhdGVcIiksKHQubWVzaHx8dC50YXJnZXRzPy5hZ2dyZWdhdGUpJiYoaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlTGF5ZXJWaWV3MkQ6IExvY2tpbmcgR1BVIFVwbG9hZHNcIiksdGhpcy5fbG9ja0dQVVVwbG9hZHMoKSk7dHJ5e2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUxheWVyVmlldzJEOiBBcHBseWluZyB1cGRhdGUgdG8gcHJveHlcIiksYXdhaXQgdGhpcy5fcHJveHkuYXBwbHlVcGRhdGUodCksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlTGF5ZXJWaWV3MkQ6IEZpbmlzaGVkIGFwcGx5aW5nIHVwZGF0ZSB0byBwcm94eVwiKX1jYXRjaChlKXtwKGUpfHxsLmdldExvZ2dlcih0aGlzKS5lcnJvcihlKX0odC5tZXNofHx0LnRhcmdldHM/LmFnZ3JlZ2F0ZSkmJnRoaXMuX3VubG9ja0dQVVVwbG9hZHMoKSx0aGlzLnRpbGVSZW5kZXJlci5vbkNvbmZpZ1VwZGF0ZShpKSx0aGlzLl91cGRhdGVDbHVzdGVyU2l6ZVZhcmlhYmxlKCksdGhpcy5fZm9yY2VBdHRyaWJ1dGVUZXh0dXJlVXBsb2FkKCl9dGhpcy5fdGlsZVJlbmRlcmVySGFzaD11LHRoaXMudGlsZVJlbmRlcmVyLmludmFsaWRhdGVMYWJlbHMoKSx0aGlzLnJlcXVlc3RVcGRhdGUoKX1jYXRjaChlKXt9fWFzeW5jIF9kb0VkaXQoZSl7dHJ5e2F3YWl0IHRoaXMuX3Byb3h5Lm9uRWRpdHMoZSl9Y2F0Y2godCl7cCh0KSwwfX1hc3luYyBfZG9SZWZyZXNoKGUpe3RoaXMuX2xvY2tHUFVVcGxvYWRzKCk7dHJ5e2xldCB0O2UmJlwic25hcHNob3RcIj09PXRoaXMucXVlcnlNb2RlJiZcInF1ZXJ5RmVhdHVyZUNvdW50XCJpbiB0aGlzLmxheWVyJiYodD1hd2FpdCB0aGlzLmxheWVyLnF1ZXJ5RmVhdHVyZUNvdW50KCkpLGF3YWl0IHRoaXMuX3Byb3h5LnJlZnJlc2goe2RhdGFDaGFuZ2VkOmUsZmVhdHVyZUNvdW50OnR9KX1jYXRjaCh0KXtwKHQpLDB9dGhpcy5fdW5sb2NrR1BVVXBsb2FkcygpLHRoaXMuX2VmZmVjdGl2ZUZlYXR1cmVSZWR1Y3Rpb24mJnRoaXMuX3VwZGF0ZUNsdXN0ZXJTaXplVmFyaWFibGUoKX1fdXBkYXRlQ2x1c3RlclNpemVWYXJpYWJsZSgpe3RoaXMuX25lZWRzQ2x1c3RlclNpemVVcGRhdGUmJih0aGlzLnRpbGVSZW5kZXJlci5vbkNvbmZpZ1VwZGF0ZSh0aGlzLl9lZmZlY3RpdmVSZW5kZXJlciksdGhpcy5fbmVlZHNDbHVzdGVyU2l6ZVVwZGF0ZT0hMSl9X2NyZWF0ZVVwZGF0ZUNsdXN0ZXJTaXplVGFzayhlLHQpe3JldHVybiBjKCgoKT0+dGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXMpLChyPT57dGhpcy5fdXBkYXRlQ2x1c3RlckVmZmVjdGl2ZVJlbmRlcmVyU2l6ZVZhcmlhYmxlKGUsdCxyKSx0aGlzLl9uZWVkc0NsdXN0ZXJTaXplVXBkYXRlPSEwLHRoaXMuX3VwbG9hZHNMb2NrZWR8fHRoaXMuX3VwZGF0ZUNsdXN0ZXJTaXplVmFyaWFibGUoKX0pKX1hc3luYyBfdXBkYXRlQ2x1c3RlckVmZmVjdGl2ZVJlbmRlcmVyU2l6ZVZhcmlhYmxlKGUsdCxyKXtpZihlLmR5bmFtaWNDbHVzdGVyU2l6ZSYmXCJ2aXN1YWxWYXJpYWJsZXNcImluIGUmJmUudmlzdWFsVmFyaWFibGVzKXtjb25zdCBpPVYoZS52aXN1YWxWYXJpYWJsZXMpO2lmKG51bGwhPWkmJlwiY2x1c3Rlcl9jb3VudFwiPT09aS5maWVsZCl7Y29uc3Qgcz1lLnZpc3VhbFZhcmlhYmxlcy5pbmRleE9mKGkpO2UudmlzdWFsVmFyaWFibGVzW3NdPUUodCxyKTtjb25zdCBhPWUuY2xvbmUoKTthLmR5bmFtaWNDbHVzdGVyU2l6ZT0hMCx0aGlzLl9zZXQoXCJfZWZmZWN0aXZlUmVuZGVyZXJcIixhKX19fV9nZXRFZmZlY3RpdmVSZW5kZXJlcigpe2NvbnN0IGU9dGhpcy5sYXllcix0PVwicmVuZGVyZXJcImluIGU/ZS5yZW5kZXJlcjpudWxsLHI9dGhpcy5fZWZmZWN0aXZlRmVhdHVyZVJlZHVjdGlvbjtpZih0aGlzLl91cGRhdGVDbHVzdGVyU2l6ZVRhc2s9ZCh0aGlzLl91cGRhdGVDbHVzdGVyU2l6ZVRhc2spLHImJlwicmVuZGVyZXJcImluIHImJnIucmVuZGVyZXImJiFyLnJlbmRlcmVyLmF1dGhvcmluZ0luZm8/LmlzQXV0b0dlbmVyYXRlZCl7Y29uc3QgZT1yLmZpZWxkcztpZihcImNsdXN0ZXJcIj09PXIudHlwZSl7Y29uc3R7cmVuZGVyZXI6dCxkaWRJbmplY3Q6aX09TyhyLnJlbmRlcmVyLHIsdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXMpO3JldHVybiBpJiYodGhpcy5fdXBkYXRlQ2x1c3RlclNpemVUYXNrPXRoaXMuX2NyZWF0ZVVwZGF0ZUNsdXN0ZXJTaXplVGFzayh0LHIpKSx7cmVuZGVyZXI6dCxhZ2dyZWdhdGVGaWVsZHM6ZSxmZWF0dXJlUmVkdWN0aW9uOnJ9fXJldHVybntyZW5kZXJlcjpyLnJlbmRlcmVyLGFnZ3JlZ2F0ZUZpZWxkczplLGZlYXR1cmVSZWR1Y3Rpb246cn19aWYociYmXCJjbHVzdGVyXCI9PT1yLnR5cGUmJnQmJlQodCkpe2NvbnN0IGU9cixpPVtdLHM9aihpLHQsZSx0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlcywhMCk7cmV0dXJuIHRoaXMuX3VwZGF0ZUNsdXN0ZXJTaXplVGFzaz10aGlzLl9jcmVhdGVVcGRhdGVDbHVzdGVyU2l6ZVRhc2socyxlKSx7cmVuZGVyZXI6cyxhZ2dyZWdhdGVGaWVsZHM6aSxmZWF0dXJlUmVkdWN0aW9uOnJ9fXJldHVybntyZW5kZXJlcjp0LGFnZ3JlZ2F0ZUZpZWxkczpbXSxmZWF0dXJlUmVkdWN0aW9uOm51bGx9fV9hY3F1aXJlVGlsZShlKXtjb25zdCB0PXRoaXMudGlsZVJlbmRlcmVyLmFjcXVpcmVUaWxlKGUpO3JldHVybiB0Lm9uY2UoXCJhdHRhY2hcIiwoKCk9Pnt0aGlzLnJlcXVlc3RVcGRhdGUoKX0pKSx0fV9yZWxlYXNlVGlsZShlKXt0aGlzLnRpbGVSZW5kZXJlci5yZWxlYXNlVGlsZShlKX1faW5pdFRpbGVSZW5kZXJlcihlLHQpe2NvbnN0IHI9SShlLHtsYXllclZpZXc6dGhpcyx0aWxlSW5mb1ZpZXc6dGhpcy52aWV3LmZlYXR1cmVzVGlsaW5nU2NoZW1lLGxheWVyOnRoaXMubGF5ZXJ9KTtyZXR1cm4gdGhpcy50aWxlUmVuZGVyZXImJih0aGlzLl90aWxlU3RyYXRlZ3kuY2xlYXIoKSx0aGlzLnRpbGVSZW5kZXJlci51bmluc3RhbGwodGhpcy5jb250YWluZXIpLHRoaXMudGlsZVJlbmRlcmVyPXUodGhpcy50aWxlUmVuZGVyZXIpKSx0aGlzLmRlc3Ryb3llZD9udWxsOih0aGlzLl9wcm94eS50aWxlUmVuZGVyZXI9cix0aGlzLl9zZXQoXCJ0aWxlUmVuZGVyZXJcIixyKSx0aGlzLnRpbGVSZW5kZXJlci5pbnN0YWxsKHRoaXMuY29udGFpbmVyKSx0aGlzLnRpbGVSZW5kZXJlci5vbkNvbmZpZ1VwZGF0ZSh0KSx0aGlzLnJlcXVlc3RVcGRhdGUoKSx0aGlzLnRpbGVSZW5kZXJlcil9X2NyZWF0ZVRpbGVSZW5kZXJlckhhc2goZSl7cmV0dXJuYCR7ZS50eXBlfWB9Z2V0IGhhc0ZpbHRlcigpe2NvbnN0IGU9ISEoXCJmbG9vckluZm9cImluIHRoaXMubGF5ZXImJnRoaXMubGF5ZXIuZmxvb3JJbmZvJiZ0aGlzLnZpZXcuZmxvb3JzJiZ0aGlzLnZpZXcuZmxvb3JzLmxlbmd0aCk7cmV0dXJuISF0aGlzLmZpbHRlcnx8ZXx8ISF0aGlzLl92aXNpYmlsaXR5T3ZlcnJpZGVzLnNpemV8fCEhdGhpcy50aW1lRXh0ZW50fV9pbmplY3RPdmVycmlkZXMoZSl7Y29uc3QgdD1udWxsIT1lP2UudGltZUV4dGVudDpudWxsLHI9bnVsbCE9dGhpcy50aW1lRXh0ZW50JiZudWxsIT10P3RoaXMudGltZUV4dGVudC5pbnRlcnNlY3Rpb24odCk6dGhpcy50aW1lRXh0ZW50fHx0O2xldCBpPW51bGw7Y29uc3Qgcz1cImZsb29ySW5mb1wiaW4gdGhpcy5sYXllciYmdGhpcy5sYXllci5mbG9vckluZm87aWYocyl7Y29uc3QgdD1udWxsIT1lP2Uud2hlcmU6bnVsbDtpPXRoaXMuX2FkZEZsb29yRmlsdGVyQ2xhdXNlKHQpfWlmKCF0aGlzLl92aXNpYmlsaXR5T3ZlcnJpZGVzLnNpemUmJiFyJiYhcylyZXR1cm4gbnVsbCE9ZT9lLnRvSlNPTigpOm51bGw7KGU9bnVsbCE9ZSYmZS5jbG9uZSgpfHxuZXcgdikudGltZUV4dGVudD1yLGkmJihlLndoZXJlPWkpO2NvbnN0IGE9ZS50b0pTT04oKTtyZXR1cm4gYS5oaWRkZW5JZHM9QXJyYXkuZnJvbSh0aGlzLl92aXNpYmlsaXR5T3ZlcnJpZGVzKSxhfV9hZGRGbG9vckZpbHRlckNsYXVzZShlKXtjb25zdCB0PXRoaXMubGF5ZXI7bGV0IHI9ZXx8XCJcIjtpZihcImZsb29ySW5mb1wiaW4gdCYmdC5mbG9vckluZm8pe2xldCBlPXRoaXMudmlldy5mbG9vcnM7aWYoIWU/Lmxlbmd0aClyZXR1cm4gcjt0LmZsb29ySW5mby52aWV3QWxsTGV2ZWxJZHM/Lmxlbmd0aCYmKGU9dC5mbG9vckluZm8udmlld0FsbExldmVsSWRzKTtjb25zdCBpPWUuZmlsdGVyKChlPT5cIlwiIT09ZSkpLm1hcCgoZT0+XCInXCIrZStcIidcIikpO2kucHVzaChcIicnXCIpO2NvbnN0IHM9dC5mbG9vckluZm8uZmxvb3JGaWVsZDtsZXQgYT1cIihcIitzK1wiIElOICh7aWRzfSkgT1IgXCIrcytcIiBJUyBOVUxMKVwiO2lmKGE9YS5yZXBsYWNlKFwie2lkc31cIixpLmpvaW4oXCIsIFwiKSksbnVsbCE9ciYmci5pbmNsdWRlcyhzKSl7bGV0IGU9bmV3IFJlZ0V4cChcIkFORCBcXFxcKFwiK3MrXCIuKk5VTExcXFxcKVwiLFwiZ1wiKTtyPXIucmVwbGFjZShlLFwiXCIpLGU9bmV3IFJlZ0V4cChcIlxcXFwoXCIrcytcIi4qTlVMTFxcXFwpXCIsXCJnXCIpLHI9ci5yZXBsYWNlKGUsXCJcIikscj1yLnJlcGxhY2VBbGwoL1xccysvZyxcIiBcIikudHJpbSgpfXI9XCJcIiE9PXI/XCIoXCIrcitcIikgQU5EIFwiK2E6YX1yZXR1cm5cIlwiIT09cj9yOm51bGx9X2NyZWF0ZUNvbmZpZ3VyYXRpb24oZSx0LHIpe2NvbnN0IGk9XCJmZWF0dXJlXCI9PT10aGlzLmxheWVyLnR5cGUmJnRoaXMubGF5ZXIuaGlzdG9yaWNNb21lbnQ/dGhpcy5sYXllci5oaXN0b3JpY01vbWVudC5nZXRUaW1lKCk6dm9pZCAwLHM9XCJmZWF0dXJlXCI9PT10aGlzLmxheWVyLnR5cGU/dGhpcy5sYXllci5nZGJWZXJzaW9uPz92b2lkIDA6dm9pZCAwLGE9bmV3IEFycmF5KEYpLG49dGhpcy5faW5qZWN0T3ZlcnJpZGVzKHQpO2FbMF09bixhWzFdPW51bGwhPXI/ci50b0pTT04oKTpudWxsO2NvbnN0IG89QyhlKTtpZihudWxsPT1vKXJldHVybiBudWxsO2NvbnN0IGw9eihcIjJkXCIpO3JldHVybnthdmFpbGFibGVGaWVsZHM6dGhpcy5hdmFpbGFibGVGaWVsZHMsZ2RiVmVyc2lvbjpzLGhpc3RvcmljTW9tZW50OmksZGV2aWNlUGl4ZWxSYXRpbzp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxmaWx0ZXJzOmEsc2NoZW1hOm8sc3VwcG9ydHNUZXh0dXJlRmxvYXQ6bC5zdXBwb3J0c1RleHR1cmVGbG9hdCxtYXhUZXh0dXJlU2l6ZTpsLm1heFRleHR1cmVTaXplLHRpbWVab25lOnRoaXMudmlldy50aW1lWm9uZX19X2hhc1JlcXVpcmVkU3VwcG9ydChlKXtyZXR1cm4hKFwicmVuZGVyZXJcImluIGUpfHxxKGUucmVuZGVyZXIpfV9sb2NrR1BVVXBsb2Fkcygpe3RoaXMudGlsZVJlbmRlcmVyJiYodGhpcy5fdXBsb2Fkc0xvY2tlZD0hMCx0aGlzLnRpbGVSZW5kZXJlci5sb2NrR1BVVXBsb2FkcygpKX1fdW5sb2NrR1BVVXBsb2Fkcygpe3RoaXMudGlsZVJlbmRlcmVyJiYodGhpcy5fdXBsb2Fkc0xvY2tlZD0hMSx0aGlzLnRpbGVSZW5kZXJlci51bmxvY2tHUFVVcGxvYWRzKCkpfV9mb3JjZUF0dHJpYnV0ZVRleHR1cmVVcGxvYWQoKXt0aGlzLnRpbGVSZW5kZXJlciYmdGhpcy50aWxlUmVuZGVyZXIuZm9yY2VBdHRyaWJ1dGVUZXh0dXJlVXBsb2FkKCl9X2NyZWF0ZVNjaGVtYUNvbmZpZygpe2NvbnN0IGU9dGhpcy5sYXllcjtyZXR1cm57cmVuZGVyZXI6XCJyZW5kZXJlclwiaW4gZT9lLnJlbmRlcmVyOm51bGwsc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2UsdGltZUV4dGVudDpcInRpbWVFeHRlbnRcImluIGU/ZS50aW1lRXh0ZW50Om51bGwsZGVmaW5pdGlvbkV4cHJlc3Npb246ZS5kZWZpbml0aW9uRXhwcmVzc2lvbixmZWF0dXJlUmVkdWN0aW9uOnRoaXMuX2VmZmVjdGl2ZUZlYXR1cmVSZWR1Y3Rpb24sZmllbGRzOmUuZmllbGRzLGdlb21ldHJ5VHlwZTplLmdlb21ldHJ5VHlwZSxoaXN0b3JpY01vbWVudDpcImhpc3RvcmljTW9tZW50XCJpbiBlP2UuaGlzdG9yaWNNb21lbnQ6bnVsbCxsYWJlbHNWaXNpYmxlOlwibGFiZWxzVmlzaWJsZVwiaW4gZSYmZS5sYWJlbHNWaXNpYmxlLGxhYmVsaW5nSW5mbzpcImxhYmVsaW5nSW5mb1wiaW4gZT9lLmxhYmVsaW5nSW5mbzpudWxsLGF2YWlsYWJsZUZpZWxkczp0aGlzLmF2YWlsYWJsZUZpZWxkcyxmZWF0dXJlRWZmZWN0OnRoaXMuZmVhdHVyZUVmZmVjdCxmaWx0ZXI6dGhpcy5maWx0ZXIsZ2RiVmVyc2lvbjpcImdkYlZlcnNpb25cImluIGU/ZS5nZGJWZXJzaW9uOm51bGwscGl4ZWxCdWZmZXI6MCxvcmRlckJ5Olwib3JkZXJCeVwiaW4gZSYmZS5vcmRlckJ5P2Uub3JkZXJCeTpudWxsLGN1c3RvbVBhcmFtZXRlcnM6ey4uLlwiY3VzdG9tUGFyYW1ldGVyc1wiaW4gZT9lLmN1c3RvbVBhcmFtZXRlcnM6dm9pZCAwLHRva2VuOlwiYXBpS2V5XCJpbiBlP2UuYXBpS2V5Pz92b2lkIDA6dm9pZCAwfSxzdWJ0eXBlQ29kZTpcInN1YnR5cGVDb2RlXCJpbiBlP2Uuc3VidHlwZUNvZGU6dm9pZCAwLHN1YnR5cGVGaWVsZDpcInN1YnR5cGVGaWVsZFwiaW4gZT9lLnN1YnR5cGVGaWVsZDp2b2lkIDB9fV9hZGRIaWdobGlnaHQoZSl7Zm9yKGNvbnN0IHQgb2YgZSlpZih0aGlzLl9oaWdobGlnaHRJZHMuaGFzKHQpKXtjb25zdCBlPXRoaXMuX2hpZ2hsaWdodElkcy5nZXQodCk7dGhpcy5faGlnaGxpZ2h0SWRzLnNldCh0LGUrMSl9ZWxzZSB0aGlzLl9oaWdobGlnaHRJZHMuc2V0KHQsMSk7dGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCkuY2F0Y2goKGU9PntwKGUpfHxsLmdldExvZ2dlcih0aGlzKS5lcnJvcihlKX0pKX1fcmVtb3ZlSGlnaGxpZ2h0KGUpe2Zvcihjb25zdCB0IG9mIGUpaWYodGhpcy5faGlnaGxpZ2h0SWRzLmhhcyh0KSl7Y29uc3QgZT10aGlzLl9oaWdobGlnaHRJZHMuZ2V0KHQpLTE7MD09PWU/dGhpcy5faGlnaGxpZ2h0SWRzLmRlbGV0ZSh0KTp0aGlzLl9oaWdobGlnaHRJZHMuc2V0KHQsZSl9dGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCkuY2F0Y2goKGU9PntwKGUpfHxsLmdldExvZ2dlcih0aGlzKS5lcnJvcihlKX0pKX1fc2V0TGF5ZXJzRm9yRmVhdHVyZShlKXtjb25zdCB0PXRoaXMubGF5ZXI7ZS5sYXllcj10LGUuc291cmNlTGF5ZXI9dH1fY3JlYXRlR3JhcGhpY0hpdChlLHQpe3JldHVybiB0aGlzLl9zZXRMYXllcnNGb3JGZWF0dXJlKHQpLG51bGwhPXQuZ2VvbWV0cnkmJih0Lmdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2U9dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpLHt0eXBlOlwiZ3JhcGhpY1wiLGdyYXBoaWM6dCxsYXllcjp0aGlzLmxheWVyLG1hcFBvaW50OmV9fX07ZShbbSgpXSxaLnByb3RvdHlwZSxcIl9zZXJ2aWNlT3B0aW9uc1wiLHZvaWQgMCksZShbbSgpXSxaLnByb3RvdHlwZSxcIl9wcm94eVwiLHZvaWQgMCksZShbbSgpXSxaLnByb3RvdHlwZSxcIl9waXBlbGluZUlzVXBkYXRpbmdcIix2b2lkIDApLGUoW20oKV0sWi5wcm90b3R5cGUsXCJfZWZmZWN0aXZlUmVuZGVyZXJcIix2b2lkIDApLGUoW20oKV0sWi5wcm90b3R5cGUsXCJfZWZmZWN0aXZlRmVhdHVyZVJlZHVjdGlvblwiLG51bGwpLGUoW20oKV0sWi5wcm90b3R5cGUsXCJfYWdncmVnYXRlVmFsdWVSYW5nZXNcIix2b2lkIDApLGUoW20oKV0sWi5wcm90b3R5cGUsXCJfY29tbWFuZHNRdWV1ZVwiLHZvaWQgMCksZShbbSgpXSxaLnByb3RvdHlwZSxcImZlYXR1cmVFZmZlY3RWaWV3XCIsdm9pZCAwKSxlKFttKCldLFoucHJvdG90eXBlLFwibGFiZWxzVmlzaWJsZVwiLG51bGwpLGUoW20oKV0sWi5wcm90b3R5cGUsXCJsYWJlbGluZ0NvbGxpc2lvbkluZm9zXCIsbnVsbCksZShbbSh7cmVhZE9ubHk6ITB9KV0sWi5wcm90b3R5cGUsXCJxdWVyeU1vZGVcIixudWxsKSxlKFttKCldLFoucHJvdG90eXBlLFwicmVuZGVyaW5nQ29uZmlnSGFzaFwiLG51bGwpLGUoW20oKV0sWi5wcm90b3R5cGUsXCJ0aWxlUmVuZGVyZXJcIix2b2lkIDApLGUoW20oKV0sWi5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLHZvaWQgMCksWj1lKFtfKCQpXSxaKTtjb25zdCBXPVo7ZXhwb3J0e1cgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0hlYXRtYXBUaWxlUmVuZGVyZXIgYXMgZX1mcm9tXCIuL3RpbGVSZW5kZXJlcnMvSGVhdG1hcFRpbGVSZW5kZXJlci5qc1wiO2ltcG9ydHtTeW1ib2xUaWxlUmVuZGVyZXIgYXMgcn1mcm9tXCIuL3RpbGVSZW5kZXJlcnMvU3ltYm9sVGlsZVJlbmRlcmVyLmpzXCI7ZnVuY3Rpb24gdCh0LG4pe2lmKCF0KXJldHVybiBudWxsO3N3aXRjaCh0LnR5cGUpe2Nhc2VcInN5bWJvbFwiOnJldHVybiBuZXcgcihuKTtjYXNlXCJoZWF0bWFwXCI6cmV0dXJuIG5ldyBlKG4pfX1leHBvcnR7dCBhcyBjcmVhdGVPclJldXNlVGlsZVJlbmRlcmVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtsZXQgcj1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy50aWxlcz1uZXcgTWFwfWRlc3Ryb3koKXt0aGlzLnRpbGVzLmNsZWFyKCksdGhpcy5sYXllcj10aGlzLmxheWVyVmlldz10aGlzLnRpbGVJbmZvVmlldz10aGlzLnRpbGVzPW51bGx9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMuaXNVcGRhdGluZygpfWFjcXVpcmVUaWxlKGUpe2NvbnN0IHQ9dGhpcy5jcmVhdGVUaWxlKGUpO3JldHVybiB0Lm9uY2UoXCJpc1JlYWR5XCIsKCgpPT50aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpKSksdGhpcy50aWxlcy5zZXQoZS5pZCx0KSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpLHR9Zm9yY2VBdHRyaWJ1dGVUZXh0dXJlVXBsb2FkKCl7fWZvckVhY2hUaWxlKGUpe3RoaXMudGlsZXMuZm9yRWFjaChlKX1yZWxlYXNlVGlsZShlKXt0aGlzLnRpbGVzLmRlbGV0ZShlLmtleS5pZCksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSx0aGlzLmRpc3Bvc2VUaWxlKGUpfWlzVXBkYXRpbmcoKXtsZXQgZT0hMDt0aGlzLnRpbGVzLmZvckVhY2goKHQ9PntlPWUmJnQuaXNSZWFkeX0pKTtjb25zdCB0PSFlO2lmKGhhcyhcImVzcmktMmQtbG9nLXVwZGF0aW5nXCIpKXtsZXQgcz1cIlwiO3RoaXMudGlsZXMuZm9yRWFjaCgodD0+e2NvbnN0IGk9dC51cGRhdGVTdGF0dXM7cys9YC0+ICR7dC5rZXkuaWR9OiBpc1JlYWR5OiAke3QuaXNSZWFkeX0gc3RhdHVzOiAke2l9XFxuYCxlPWUmJnQuaXNSZWFkeX0pKSxjb25zb2xlLmxvZyhgVXBkYXRpbmcgQmFzZVRpbGVSZW5kZXJlciAke3R9XFxuJHtzfWApfXJldHVybiB0fXNldEhpZ2hsaWdodCgpe31pbnZhbGlkYXRlTGFiZWxzKCl7fXJlcXVlc3RVcGRhdGUoKXt0aGlzLmxheWVyVmlldy5yZXF1ZXN0VXBkYXRlKCl9fTtlKFtzKCldLHIucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW3MoKV0sci5wcm90b3R5cGUsXCJsYXllclZpZXdcIix2b2lkIDApLGUoW3MoKV0sci5wcm90b3R5cGUsXCJ0aWxlSW5mb1ZpZXdcIix2b2lkIDApLGUoW3MoKV0sci5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLHI9ZShbaShcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLnRpbGVSZW5kZXJlcnMuQmFzZVRpbGVSZW5kZXJlclwiKV0scik7Y29uc3Qgbz1yO2V4cG9ydHtvIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2dlbmVyYXRlR3JhZGllbnQgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9oZWF0bWFwVXRpbHMuanNcIjtpbXBvcnR7Qml0bWFwVGlsZUNvbnRhaW5lciBhcyByfWZyb21cIi4uLy4uLy4uL2VuZ2luZS9CaXRtYXBUaWxlQ29udGFpbmVyLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi9CYXNlVGlsZVJlbmRlcmVyLmpzXCI7aW1wb3J0e0hlYXRtYXBTb3VyY2UgYXMgbn1mcm9tXCIuL3N1cHBvcnQvSGVhdG1hcFNvdXJjZS5qc1wiO2xldCBvPWNsYXNzIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9pbnRlbnNpdHlJbmZvPXttaW5EZW5zaXR5OjAsbWF4RGVuc2l0eTowfSx0aGlzLnR5cGU9XCJoZWF0bWFwXCIsdGhpcy5mZWF0dXJlc1ZpZXc9e2F0dHJpYnV0ZVZpZXc6e2luaXRpYWxpemU6KCk9Pnt9LHJlcXVlc3RVcGRhdGU6KCk9Pnt9fSxyZXF1ZXN0UmVuZGVyOigpPT57fX0sdGhpcy5fY29udGFpbmVyPW5ldyByKGUudGlsZUluZm9WaWV3KX1jcmVhdGVUaWxlKGUpe2NvbnN0IHQ9dGhpcy5fY29udGFpbmVyLmNyZWF0ZVRpbGUoZSk7cmV0dXJuIHRoaXMudGlsZUluZm9WaWV3LmdldFRpbGVDb29yZHModC5iaXRtYXAsZSksdC5iaXRtYXAucmVzb2x1dGlvbj10aGlzLnRpbGVJbmZvVmlldy5nZXRUaWxlUmVzb2x1dGlvbihlKSx0fW9uQ29uZmlnVXBkYXRlKCl7Y29uc3QgZT10aGlzLmxheWVyLnJlbmRlcmVyO2lmKFwiaGVhdG1hcFwiPT09ZS50eXBlKXtjb25zdHttaW5EZW5zaXR5OnQsbWF4RGVuc2l0eTpyLGNvbG9yU3RvcHM6c309ZTt0aGlzLl9pbnRlbnNpdHlJbmZvLm1pbkRlbnNpdHk9dCx0aGlzLl9pbnRlbnNpdHlJbmZvLm1heERlbnNpdHk9cix0aGlzLl9ncmFkaWVudD1pKHMpLHRoaXMudGlsZXMuZm9yRWFjaCgoZT0+e2NvbnN0IGk9ZS5iaXRtYXAuc291cmNlO2kmJihpLm1pbkRlbnNpdHk9dCxpLm1heERlbnNpdHk9cixpLmdyYWRpZW50PXRoaXMuX2dyYWRpZW50LGUuYml0bWFwLmludmFsaWRhdGVUZXh0dXJlKCksZS5iaXRtYXAucmVxdWVzdFJlbmRlcigpKX0pKX19aGl0VGVzdCgpe3JldHVybiBQcm9taXNlLnJlc29sdmUoW10pfWluc3RhbGwoZSl7ZS5hZGRDaGlsZCh0aGlzLl9jb250YWluZXIpfXVuaW5zdGFsbChlKXt0aGlzLl9jb250YWluZXIucmVtb3ZlQWxsQ2hpbGRyZW4oKSxlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lcil9ZGlzcG9zZVRpbGUoZSl7dGhpcy5fY29udGFpbmVyLnJlbW92ZUNoaWxkKGUpLGUuZGVzdHJveSgpfXN1cHBvcnRzUmVuZGVyZXIoZSl7cmV0dXJuIGUmJlwiaGVhdG1hcFwiPT09ZS50eXBlfW9uVGlsZURhdGEoZSl7Y29uc3QgdD10aGlzLnRpbGVzLmdldChlLnRpbGVLZXkpO2lmKCF0KXJldHVybjtjb25zdCBpPWUuaW50ZW5zaXR5SW5mbyx7bWluRGVuc2l0eTpyLG1heERlbnNpdHk6c309dGhpcy5faW50ZW5zaXR5SW5mbyxvPXQuYml0bWFwLnNvdXJjZXx8bmV3IG47by5pbnRlbnNpdGllcz1pPy5tYXRyaXh8fG51bGwsby5taW5EZW5zaXR5PXIsby5tYXhEZW5zaXR5PXMsby5ncmFkaWVudD10aGlzLl9ncmFkaWVudCx0LmJpdG1hcC5zb3VyY2U9byx0aGlzLl9jb250YWluZXIuYWRkQ2hpbGQodCksdGhpcy5fY29udGFpbmVyLnJlcXVlc3RSZW5kZXIoKSx0aGlzLnJlcXVlc3RVcGRhdGUoKX1vblRpbGVFcnJvcihlKXtjb25zb2xlLmVycm9yKGUpfWxvY2tHUFVVcGxvYWRzKCl7fXVubG9ja0dQVVVwbG9hZHMoKXt9ZmV0Y2hSZXNvdXJjZShlLHQpe3JldHVybiBjb25zb2xlLmVycm9yKGUpLFByb21pc2UucmVqZWN0KCl9fTtvPWUoW3QoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy50aWxlUmVuZGVyZXJzLkhlYXRtYXBUaWxlUmVuZGVyZXJcIildLG8pO2V4cG9ydHtvIGFzIEhlYXRtYXBUaWxlUmVuZGVyZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtpc0Fib3J0RXJyb3IgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtGZWF0dXJlVGlsZSBhcyBhfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9GZWF0dXJlVGlsZS5qc1wiO2ltcG9ydHtzaW1wbGlmeVZWUmVuZGVyZXIgYXMgb31mcm9tXCIuLi9zdXBwb3J0L3JlbmRlcmVyVXRpbHMuanNcIjtpbXBvcnQgbCBmcm9tXCIuL0Jhc2VUaWxlUmVuZGVyZXIuanNcIjtpbXBvcnR7Y29udmVydFZpc3VhbFZhcmlhYmxlcyBhcyBufWZyb21cIi4vc3VwcG9ydC92aXN1YWxWYXJpYWJsZXNVdGlscy5qc1wiO2ltcG9ydHtXR0xGZWF0dXJlVmlldyBhcyB1fWZyb21cIi4vc3VwcG9ydC9XR0xGZWF0dXJlVmlldy5qc1wiO2xldCBwPWNsYXNzIGV4dGVuZHMgbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPVwic3ltYm9sXCJ9aW5zdGFsbChlKXtjb25zdCB0PSgpPT50aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpLGk9bmV3IHUodGhpcy50aWxlSW5mb1ZpZXcsdGhpcy5sYXllclZpZXcsdGhpcy5sYXllcix0KTt0aGlzLmZlYXR1cmVzVmlldz1pLGUuYWRkQ2hpbGQoaSl9dW5pbnN0YWxsKGUpe2UucmVtb3ZlQ2hpbGQodGhpcy5mZWF0dXJlc1ZpZXcpLHRoaXMuZmVhdHVyZXNWaWV3PXQodGhpcy5mZWF0dXJlc1ZpZXcpfWZldGNoUmVzb3VyY2UoZSx0KXtjb25zdHt1cmw6cn09ZSxzPXRoaXMuZmVhdHVyZXNWaWV3LnN0YWdlO3RyeXtyZXR1cm4gcy5yZXNvdXJjZU1hbmFnZXIuZmV0Y2hSZXNvdXJjZShyLHtzaWduYWw6dC5zaWduYWx9KX1jYXRjaChhKXtyZXR1cm4gaShhKT9Qcm9taXNlLnJlc29sdmUoe3dpZHRoOjAsaGVpZ2h0OjB9KTpQcm9taXNlLnJlamVjdChhKX19aXNVcGRhdGluZygpe2NvbnN0IGU9c3VwZXIuaXNVcGRhdGluZygpLHQ9IXRoaXMuZmVhdHVyZXNWaWV3fHx0aGlzLmZlYXR1cmVzVmlldy5pc1VwZGF0aW5nKCksaT10aGlzLmZlYXR1cmVzVmlldz8uaGFzRW1wdHlBdHRyaWJ1dGVWaWV3KCkscj1lfHx0fHxlJiZpO3JldHVybiBoYXMoXCJlc3JpLTJkLWxvZy11cGRhdGluZ1wiKSYmY29uc29sZS5sb2coYFVwZGF0aW5nIFN5bWJvbFRpbGVSZW5kZXJlciAke3J9XFxuICAtPiB1cGRhdGluZ1RpbGVzICR7ZX1cXG4gIC0+IGhhc0ZlYXR1cmVzVmlldyAkeyEhdGhpcy5mZWF0dXJlc1ZpZXd9XFxuICAtPiB1cGRhdGluZ0ZlYXR1cmVzVmlldyAke3R9YCkscn1oaXRUZXN0KGUpe3JldHVybiB0aGlzLmZlYXR1cmVzVmlldy5oaXRUZXN0KGUpfXN1cHBvcnRzUmVuZGVyZXIoZSl7cmV0dXJuIG51bGwhPWUmJltcInNpbXBsZVwiLFwiY2xhc3MtYnJlYWtzXCIsXCJ1bmlxdWUtdmFsdWVcIixcImRvdC1kZW5zaXR5XCIsXCJkaWN0aW9uYXJ5XCIsXCJoZWF0bWFwXCIsXCJwaWUtY2hhcnRcIl0uaW5jbHVkZXMoZS50eXBlKX1vbkNvbmZpZ1VwZGF0ZShlKXtsZXQgdD1udWxsO2lmKGUmJlwidmlzdWFsVmFyaWFibGVzXCJpbiBlKXtjb25zdCBpPShvKGUpLnZpc3VhbFZhcmlhYmxlc3x8W10pLm1hcCgoZT0+e2NvbnN0IHQ9ZS5jbG9uZSgpO3JldHVyblwibm9ybWFsaXphdGlvbkZpZWxkXCJpbiBlJiYodC5ub3JtYWxpemF0aW9uRmllbGQ9bnVsbCksZS52YWx1ZUV4cHJlc3Npb24mJlwiJHZpZXcuc2NhbGVcIiE9PWUudmFsdWVFeHByZXNzaW9uJiYodC52YWx1ZUV4cHJlc3Npb249bnVsbCx0LmZpZWxkPVwibm9wXCIpLHR9KSk7dD1uKGkpfXRoaXMuZmVhdHVyZXNWaWV3LnNldFJlbmRlcmVySW5mbyhlLHQsdGhpcy5sYXllclZpZXcuZmVhdHVyZUVmZmVjdCl9b25UaWxlRGF0YShlKXtjb25zdCB0PXRoaXMudGlsZXMuZ2V0KGUudGlsZUtleSk7dCYmZS5kYXRhJiZ0aGlzLmZlYXR1cmVzVmlldy5vblRpbGVEYXRhKHQsZS5kYXRhKSx0aGlzLmxheWVyVmlldy52aWV3LmxhYmVsTWFuYWdlci5yZXF1ZXN0VXBkYXRlKCl9b25UaWxlRXJyb3IoZSl7Y29uc3QgdD10aGlzLnRpbGVzLmdldChlLnRpbGVLZXkpO3QmJnRoaXMuZmVhdHVyZXNWaWV3Lm9uVGlsZUVycm9yKHQpfWZvcmNlQXR0cmlidXRlVGV4dHVyZVVwbG9hZCgpe3RoaXMuZmVhdHVyZXNWaWV3LmF0dHJpYnV0ZVZpZXcuZm9yY2VUZXh0dXJlVXBsb2FkKCl9bG9ja0dQVVVwbG9hZHMoKXt0aGlzLmZlYXR1cmVzVmlldy5hdHRyaWJ1dGVWaWV3LmxvY2tUZXh0dXJlVXBsb2FkKCksdGhpcy50aWxlcy5mb3JFYWNoKChlPT5lLmxvY2soKSkpfXVubG9ja0dQVVVwbG9hZHMoKXt0aGlzLmZlYXR1cmVzVmlldy5hdHRyaWJ1dGVWaWV3LnVubG9ja1RleHR1cmVVcGxvYWQoKSx0aGlzLnRpbGVzLmZvckVhY2goKGU9PmUudW5sb2NrKCkpKX1hc3luYyBnZXRNYXRlcmlhbEl0ZW1zKGUpe3JldHVybiB0aGlzLmZlYXR1cmVzVmlldy5nZXRNYXRlcmlhbEl0ZW1zKGUpfWludmFsaWRhdGVMYWJlbHMoKXt0aGlzLmZlYXR1cmVzVmlldy5oYXNMYWJlbHMmJnRoaXMubGF5ZXJWaWV3LnZpZXcubGFiZWxNYW5hZ2VyLnJlcXVlc3RVcGRhdGUoKX1jcmVhdGVUaWxlKGUpe2NvbnN0IHQ9dGhpcy50aWxlSW5mb1ZpZXcuZ2V0VGlsZUJvdW5kcyhzKCksZSksaT0oKT0+dGhpcy5sYXllclZpZXcudmlldy5sYWJlbE1hbmFnZXIucmVxdWVzdFVwZGF0ZSgpLHI9dGhpcy50aWxlSW5mb1ZpZXcuZ2V0VGlsZVJlc29sdXRpb24oZS5sZXZlbCksbz10aGlzLmZlYXR1cmVzVmlldy5hdHRyaWJ1dGVWaWV3O3JldHVybiBuZXcgYShlLHIsdFswXSx0WzNdLG8saSl9ZGlzcG9zZVRpbGUoZSl7dGhpcy5mZWF0dXJlc1ZpZXcucmVtb3ZlQ2hpbGQoZSksZS5kZXN0cm95KCksdGhpcy5sYXllclZpZXcudmlldy5sYWJlbE1hbmFnZXIucmVxdWVzdFVwZGF0ZSgpfX07cD1lKFtyKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMudGlsZVJlbmRlcmVycy5TeW1ib2xUaWxlUmVuZGVyZXJcIildLHApO2V4cG9ydHtwIGFzIFN5bWJvbFRpbGVSZW5kZXJlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2RyYXdIZWF0bWFwIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvaGVhdG1hcFV0aWxzLmpzXCI7Y2xhc3MgaXtjb25zdHJ1Y3Rvcigpe3RoaXMuZ3JhZGllbnQ9bnVsbCx0aGlzLmhlaWdodD01MTIsdGhpcy5pbnRlbnNpdGllcz1udWxsLHRoaXMud2lkdGg9NTEyfXJlbmRlcihpKXt0KGksNTEyLHRoaXMuaW50ZW5zaXRpZXMsdGhpcy5ncmFkaWVudCx0aGlzLm1pbkRlbnNpdHksdGhpcy5tYXhEZW5zaXR5KX19ZXhwb3J0e2kgYXMgSGVhdG1hcFNvdXJjZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtjcmVhdGVSZXNvbHZlciBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2JydXNoZXMgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9lbmdpbmUvYnJ1c2hlcy5qc1wiO2ltcG9ydHtGZWF0dXJlQ29udGFpbmVyIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vZW5naW5lL0ZlYXR1cmVDb250YWluZXIuanNcIjtpbXBvcnR7V0dMRHJhd1BoYXNlIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vZW5naW5lL3dlYmdsL2VudW1zLmpzXCI7Y29uc3Qgcj1oYXMoXCJmZWF0dXJlbGF5ZXItb3JkZXItYnktc2VydmVyLWVuYWJsZWRcIik7Y2xhc3MgYSBleHRlbmRzIHN7Y29uc3RydWN0b3IoZSx0LHMsaSl7c3VwZXIoZSksdGhpcy5faGl0VGVzdHNSZXF1ZXN0cz1bXSx0aGlzLl9sYXllcj1zLHRoaXMuX2xheWVyVmlldz10LHRoaXMuX29uVXBkYXRlPWl9cmVuZGVyQ2hpbGRyZW4oZSl7aWYodGhpcy5hdHRyaWJ1dGVWaWV3LnVwZGF0ZSgpLHRoaXMuaGFzQW5pbWF0aW9uKXtlLnBhaW50ZXIuZWZmZWN0cy5pbnRlZ3JhdGUuZHJhdyhlLGUuYXR0cmlidXRlVmlldyl9c3VwZXIucmVuZGVyQ2hpbGRyZW4oZSl9aGFzRW1wdHlBdHRyaWJ1dGVWaWV3KCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlVmlldy5pc0VtcHR5KCl9aXNVcGRhdGluZygpe3JldHVybiB0aGlzLmF0dHJpYnV0ZVZpZXcuaXNVcGRhdGluZygpfWhpdFRlc3QodCl7bGV0IHM9dGhpcy5faGl0VGVzdHNSZXF1ZXN0cy5maW5kKCgoe3g6ZSx5OnN9KT0+ZT09PXQueCYmcz09PXQueSkpO2NvbnN0IGk9ZSgpO3JldHVybiBzP3MucmVzb2x2ZXJzLnB1c2goaSk6KHM9e3g6dC54LHk6dC55LHJlc29sdmVyczpbaV19LHRoaXMuX2hpdFRlc3RzUmVxdWVzdHMucHVzaChzKSksdGhpcy5yZXF1ZXN0UmVuZGVyKCksaS5wcm9taXNlfW9uVGlsZURhdGEoZSx0KXtjb25zdCBzPXImJlwib3JkZXJCeVwiaW4gdGhpcy5fbGF5ZXImJnRoaXMuX2xheWVyLm9yZGVyQnksaT1zJiZzPy5sZW5ndGgmJiFzWzBdLnZhbHVlRXhwcmVzc2lvbiYmc1swXS5maWVsZCxhPSEhcyYmdGhpcy5fbGF5ZXJWaWV3Lm9yZGVyQnlGaWVsZHM9PT1pO2UucGF0Y2godCxhKSx0aGlzLmNvbnRhaW5zKGUpfHx0aGlzLmFkZENoaWxkKGUpLHRoaXMucmVxdWVzdFJlbmRlcigpfW9uVGlsZUVycm9yKGUpe3RoaXMuY29udGFpbnMoZSl8fHRoaXMuYWRkQ2hpbGQoZSl9dXBkYXRlVHJhbnNpdGlvblByb3BlcnRpZXMoZSx0KXtzdXBlci51cGRhdGVUcmFuc2l0aW9uUHJvcGVydGllcyhlLHQpLHRoaXMuX2xheWVyVmlldy5mZWF0dXJlRWZmZWN0Vmlldy50cmFuc2l0aW9uU3RlcChlLHQpLHRoaXMuX2xheWVyVmlldy5mZWF0dXJlRWZmZWN0Vmlldy50cmFuc2l0aW9uaW5nJiZ0aGlzLnJlcXVlc3RSZW5kZXIoKX1kb1JlbmRlcihlKXtjb25zdHttaW5TY2FsZTp0LG1heFNjYWxlOnN9PXRoaXMuX2xheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2UsaT1lLnN0YXRlLnNjYWxlO2k8PSh0fHwxLzApJiZpPj1zJiZzdXBlci5kb1JlbmRlcihlKX1hZnRlclJlbmRlcihlKXtzdXBlci5hZnRlclJlbmRlcihlKSx0aGlzLl9oaXRUZXN0c1JlcXVlc3RzLmxlbmd0aCYmdGhpcy5yZXF1ZXN0UmVuZGVyKCl9b25BdHRyaWJ1dGVTdG9yZVVwZGF0ZSgpe3RoaXMuaGFzTGFiZWxzJiZ0aGlzLl9sYXllclZpZXcudmlldy5sYWJlbE1hbmFnZXIucmVxdWVzdFVwZGF0ZSgpLHRoaXMuX29uVXBkYXRlKCl9Z2V0IGhhc0FuaW1hdGlvbigpe3JldHVybiB0aGlzLmhhc0xhYmVsc31zZXRTdGVuY2lsUmVmZXJlbmNlKGUpe2NvbnN0e3JlbmRlcmVyU2NoZW1hOnR9PWUucmVuZGVyZXJJbmZvO2lmKFwiZG90LWRlbnNpdHlcIj09PXQ/LnR5cGUmJnQ/LmRvdFNpemU+MXx8XCJoZWF0bWFwXCI9PT10Py50eXBlKXtjb25zdCBlPTE7Zm9yKGNvbnN0IHQgb2YgdGhpcy5jaGlsZHJlbil0LnN0ZW5jaWxSZWY9dC5rZXkubGV2ZWwrZX1lbHNlIHN1cGVyLnNldFN0ZW5jaWxSZWZlcmVuY2UoZSl9Z2V0IGhhc0hpZ2hsaWdodCgpe3JldHVybiB0aGlzLl9sYXllclZpZXcuaGFzSGlnaGxpZ2h0KCl9Z2V0IGhhc0xhYmVscygpe2lmKFwic3VibGF5ZXJzXCJpbiB0aGlzLl9sYXllcilyZXR1cm4gdGhpcy5fbGF5ZXIuc3VibGF5ZXJzLnNvbWUoKGU9PiEhZS5sYWJlbGluZ0luZm8/Lmxlbmd0aCYmZS5sYWJlbHNWaXNpYmxlKSk7Y29uc3QgZT10aGlzLl9sYXllci5mZWF0dXJlUmVkdWN0aW9uLHQ9ZSYmXCJsYWJlbGluZ0luZm9cImluIGUmJmUubGFiZWxzVmlzaWJsZSYmZS5sYWJlbGluZ0luZm8mJmUubGFiZWxpbmdJbmZvLmxlbmd0aDtyZXR1cm4gdGhpcy5fbGF5ZXIubGFiZWxpbmdJbmZvPy5sZW5ndGgmJnRoaXMuX2xheWVyLmxhYmVsc1Zpc2libGV8fCEhdH1wcmVwYXJlUmVuZGVyUGFzc2VzKGUpe2NvbnN0IHM9c3VwZXIucHJlcGFyZVJlbmRlclBhc3NlcyhlKSxyPWUucmVnaXN0ZXJSZW5kZXJQYXNzKHtuYW1lOlwibGFiZWxcIixicnVzaGVzOlt0LmxhYmVsXSx0YXJnZXQ6KCk9PnRoaXMuaGFzTGFiZWxzP3RoaXMuY2hpbGRyZW46bnVsbCxkcmF3UGhhc2U6aS5MQUJFTHxpLkxBQkVMX0FMUEhBfSk7aWYoaGFzKFwiZmVhdHVyZWxheWVyLWZvcmNlLW1hcmtlci10ZXh0LWRyYXctb3JkZXJcIikpe2NvbnN0IGk9ZS5yZWdpc3RlclJlbmRlclBhc3Moe25hbWU6XCJnZW9tZXRyeVwiLGJydXNoZXM6W3QuZmlsbCx0LmRvdERlbnNpdHksdC5saW5lLHQuaGVhdG1hcCx0LnBpZUNoYXJ0XSx0YXJnZXQ6KCk9PnRoaXMuY2hpbGRyZW4sZm9yY2VEcmF3QnlEaXNwbGF5T3JkZXI6ITAsZW5hYmxlRGVmYXVsdERyYXc6KCk9PiF0aGlzLl9sYXllclZpZXcuZmVhdHVyZUVmZmVjdFZpZXcuaGFzRWZmZWN0cyxlZmZlY3RzOlt7YXBwbHk6ZS5lZmZlY3RzLm91dHNpZGVFZmZlY3QsZW5hYmxlOigpPT50aGlzLl9sYXllclZpZXcuZmVhdHVyZUVmZmVjdFZpZXcuaGFzRWZmZWN0cyxhcmdzOigpPT50aGlzLl9sYXllclZpZXcuZmVhdHVyZUVmZmVjdFZpZXcuZXhjbHVkZWRFZmZlY3RzfSx7YXBwbHk6ZS5lZmZlY3RzLmluc2lkZUVmZmVjdCxlbmFibGU6KCk9PnRoaXMuX2xheWVyVmlldy5mZWF0dXJlRWZmZWN0Vmlldy5oYXNFZmZlY3RzLGFyZ3M6KCk9PnRoaXMuX2xheWVyVmlldy5mZWF0dXJlRWZmZWN0Vmlldy5pbmNsdWRlZEVmZmVjdHN9LHthcHBseTplLmVmZmVjdHMuaGl0dGVzdCxlbmFibGU6KCk9PiEhdGhpcy5faGl0VGVzdHNSZXF1ZXN0cy5sZW5ndGgsYXJnczooKT0+dGhpcy5faGl0VGVzdHNSZXF1ZXN0c31dfSk7cy5wdXNoKGkpfWVsc2V7Y29uc3QgaT1lLnJlZ2lzdGVyUmVuZGVyUGFzcyh7bmFtZTpcImdlb21ldHJ5XCIsYnJ1c2hlczpbdC5maWxsLHQuZG90RGVuc2l0eSx0LmxpbmUsdC5tYXJrZXIsdC5oZWF0bWFwLHQucGllQ2hhcnQsdC50ZXh0XSx0YXJnZXQ6KCk9PnRoaXMuY2hpbGRyZW4sZW5hYmxlRGVmYXVsdERyYXc6KCk9PiF0aGlzLl9sYXllclZpZXcuZmVhdHVyZUVmZmVjdFZpZXcuaGFzRWZmZWN0cyxlZmZlY3RzOlt7YXBwbHk6ZS5lZmZlY3RzLm91dHNpZGVFZmZlY3QsZW5hYmxlOigpPT50aGlzLl9sYXllclZpZXcuZmVhdHVyZUVmZmVjdFZpZXcuaGFzRWZmZWN0cyxhcmdzOigpPT50aGlzLl9sYXllclZpZXcuZmVhdHVyZUVmZmVjdFZpZXcuZXhjbHVkZWRFZmZlY3RzfSx7YXBwbHk6ZS5lZmZlY3RzLmluc2lkZUVmZmVjdCxlbmFibGU6KCk9PnRoaXMuX2xheWVyVmlldy5mZWF0dXJlRWZmZWN0Vmlldy5oYXNFZmZlY3RzLGFyZ3M6KCk9PnRoaXMuX2xheWVyVmlldy5mZWF0dXJlRWZmZWN0Vmlldy5pbmNsdWRlZEVmZmVjdHN9LHthcHBseTplLmVmZmVjdHMuaGl0dGVzdCxlbmFibGU6KCk9PiEhdGhpcy5faGl0VGVzdHNSZXF1ZXN0cy5sZW5ndGgsYXJnczooKT0+dGhpcy5faGl0VGVzdHNSZXF1ZXN0c31dfSk7cy5wdXNoKGkpfWNvbnN0IGE9ZS5yZWdpc3RlclJlbmRlclBhc3Moe25hbWU6XCJoaWdobGlnaHRcIixicnVzaGVzOlt0LmZpbGwsdC5kb3REZW5zaXR5LHQubGluZSx0Lm1hcmtlcix0LnBpZUNoYXJ0LHQudGV4dF0sdGFyZ2V0OigpPT50aGlzLmNoaWxkcmVuLGRyYXdQaGFzZTppLkhJR0hMSUdIVCxlbmFibGVEZWZhdWx0RHJhdzooKT0+ITEsZWZmZWN0czpbe2FwcGx5OmUuZWZmZWN0cy5oaWdobGlnaHQsZW5hYmxlOigpPT4hIXRoaXMuX2xheWVyVmlldy5oYXNIaWdobGlnaHQoKX1dfSk7cmV0dXJuIHMucHVzaChhKSxzLnB1c2gociksc319ZXhwb3J0e2EgYXMgV0dMRmVhdHVyZVZpZXd9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtRdWV1ZVByb2Nlc3NvciBhcyBvfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvUXVldWVQcm9jZXNzb3IuanNcIjtmdW5jdGlvbiBpKGUpe3JldHVybiBlLnNvbWUoKGU9PmUuZ2xvYmFsSWQpKX1mdW5jdGlvbiBuKGUpe3JldHVybiBlLmZpbHRlcigoZT0+IWUuZXJyb3IpKS5tYXAoKGU9PmUub2JqZWN0SWQ/P2UuZ2xvYmFsSWQpKS5maWx0ZXIoKGU9Pm51bGwhPWUpKX1mdW5jdGlvbiBkKGUsdCl7Y29uc3Qgcz1uZXcgU2V0KGUpO2Zvcihjb25zdCByIG9mIHQudmFsdWVzKCkpcy5hZGQocik7cmV0dXJuIHN9ZnVuY3Rpb24gYShlLHQpe2NvbnN0IHM9bmV3IFNldChlKTtmb3IoY29uc3QgciBvZiB0LnZhbHVlcygpKXMuZGVsZXRlKHIpO3JldHVybiBzfWxldCBjPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9oYXNHbG9iYWxJZHM9ITEsdGhpcy5fbm90aWZ5VXBkYXRpbmc9KCk9Pnt0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpfX1ub3JtYWxpemVDdG9yQXJncyhlKXtyZXR1cm4gdGhpcy5fcXVldWVQcm9jZXNzb3I9bmV3IG8oe2NvbmN1cnJlbmN5OjEscHJvY2VzczplLnByb2Nlc3N9KSx7fX1kZXN0cm95KCl7dGhpcy5jbGVhcigpfWdldCB1cGRhdGluZygpe3JldHVybiB0aGlzLl9xdWV1ZVByb2Nlc3Nvci5sZW5ndGg+MH1jbGVhcigpe3RoaXMuX3F1ZXVlUHJvY2Vzc29yLmNsZWFyKCl9cHVzaChlKXtjb25zdCB0PXRoaXMuX3F1ZXVlUHJvY2Vzc29yLHM9dC5sYXN0KCk7c3dpdGNoKGUudHlwZSl7Y2FzZVwidXBkYXRlXCI6Y2FzZVwicmVmcmVzaFwiOmlmKHM/LnR5cGU9PT1lLnR5cGUpcmV0dXJuO3QucHVzaChlKS50aGVuKHRoaXMuX25vdGlmeVVwZGF0aW5nLHRoaXMuX25vdGlmeVVwZGF0aW5nKTticmVhaztjYXNlXCJlZGl0XCI6e2NvbnN0IHI9XCJwcm9jZXNzZWQtZWRpdFwiPT09cz8udHlwZT9zOm51bGw7ciYmdC5wb3BMYXN0KCk7Y29uc3Qgbz10aGlzLl9tZXJnZUVkaXRzKHIsZSk7Zm9yKGNvbnN0IGUgb2YgbyllJiZ0LnB1c2goZSkudGhlbih0aGlzLl9ub3RpZnlVcGRhdGluZyx0aGlzLl9ub3RpZnlVcGRhdGluZyk7YnJlYWt9fXRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIil9X21lcmdlRWRpdHMoZSx0KXtjb25zdHthZGRlZEZlYXR1cmVzOnMsZGVsZXRlZEZlYXR1cmVzOnIsdXBkYXRlZEZlYXR1cmVzOm99PXQuZWRpdHM7aWYodGhpcy5faGFzR2xvYmFsSWRzPXRoaXMuX2hhc0dsb2JhbElkc3x8aShzKXx8aShvKXx8aShyKSx0aGlzLl9oYXNHbG9iYWxJZHMpe3JldHVybltlLHt0eXBlOlwicHJvY2Vzc2VkLWVkaXRcIixlZGl0czp7YWRkT3JNb2RpZmllZDpbLi4ucywuLi5vXSxyZW1vdmVkOnJ9fV19Y29uc3QgYz1uZXcgU2V0KG4oZT8uZWRpdHMuYWRkT3JNb2RpZmllZD8/W10pKSxwPW5ldyBTZXQobihlPy5lZGl0cy5yZW1vdmVkPz9bXSkpLHU9bmV3IFNldChbLi4ubihzKSwuLi5uKG8pXSksbD1uZXcgU2V0KG4ocikpO3JldHVyblt7dHlwZTpcInByb2Nlc3NlZC1lZGl0XCIsZWRpdHM6e2FkZE9yTW9kaWZpZWQ6QXJyYXkuZnJvbShkKGEoYyxsKSx1KSkubWFwKChlPT4oe29iamVjdElkOmV9KSkpLHJlbW92ZWQ6QXJyYXkuZnJvbShkKGEocCx1KSxsKSkubWFwKChlPT4oe29iamVjdElkOmV9KSkpfX1dfX07ZShbcyh7cmVhZE9ubHk6ITB9KV0sYy5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW3MoKV0sYy5wcm90b3R5cGUsXCJwcm9jZXNzXCIsdm9pZCAwKSxjPWUoW3IoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5zdXBwb3J0LkZlYXR1cmVDb21tYW5kUXVldWVcIildLGMpO2NvbnN0IHA9YztleHBvcnR7cCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7RXNyaVByb21pc2UgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL1Byb21pc2UuanNcIjtpbXBvcnR7Y3JlYXRlUmVzb2x2ZXIgYXMgcixpZ25vcmVBYm9ydEVycm9ycyBhcyBzLHRocm93SWZOb3RBYm9ydEVycm9yIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7b3BlbiBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvd29ya2Vycy93b3JrZXJzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtmdW5jdGlvbiBjKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfWxldCB1PWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9zdGFydHVwUmVzb2x2ZXI9cigpLHRoaXMuaXNSZWFkeT0hMX1pbml0aWFsaXplKCl7dGhpcy5fY29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLl9zdGFydFdvcmtlcih0aGlzLl9jb250cm9sbGVyLnNpZ25hbCkpfWRlc3Ryb3koKXt0aGlzLl9jb250cm9sbGVyLmFib3J0KCksdGhpcy5fY29ubmVjdGlvbiYmdGhpcy5fY29ubmVjdGlvbi5jbG9zZSgpfXNldCB0aWxlUmVuZGVyZXIoZSl7dGhpcy5jbGllbnQudGlsZVJlbmRlcmVyPWV9Z2V0IGNsb3NlZCgpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uLmNsb3NlZH1hc3luYyBzdGFydHVwKGUsdCxyLHMpe2F3YWl0IHRoaXMud2hlbigpO2NvbnN0IG89dGhpcy5fY29udHJvbGxlci5zaWduYWwsaT1jKHIuc291cmNlKT97dHJhbnNmZXJMaXN0OnIuc291cmNlLHNpZ25hbDpvfTp2b2lkIDAsbj17c2VydmljZTpyLGNvbmZpZzp0LHRpbGVJbmZvOmUudGlsZUluZm8udG9KU09OKCksdGlsZXM6c307YXdhaXQgdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJzdGFydHVwXCIsbixpKSx0aGlzLl9zdGFydHVwUmVzb2x2ZXIucmVzb2x2ZSgpLHRoaXMuX3NldChcImlzUmVhZHlcIiwhMCl9YXN5bmMgdXBkYXRlVGlsZXMoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHModGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJ1cGRhdGVUaWxlc1wiLGUpKX1hc3luYyB1cGRhdGUoZSl7Y29uc3QgdD17Y29uZmlnOmV9O3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcInVwZGF0ZVwiLHQpfWFzeW5jIGFwcGx5VXBkYXRlKGUpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImFwcGx5VXBkYXRlXCIsZSl9YXN5bmMgc2V0SGlnaGxpZ2h0KGUpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSxzKHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5zZXRIaWdobGlnaHRcIixlKSl9YXN5bmMgc3RvcCgpe2lmKGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLCF0aGlzLmNsb3NlZClyZXR1cm4gcyh0aGlzLl9jb25uZWN0aW9uLmludm9rZShcInN0b3BcIikpfWFzeW5jIHJlZnJlc2goZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHModGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnJlZnJlc2hcIixlKSl9YXN5bmMgcXVlcnlTdW1tYXJ5U3RhdGlzdGljcyhlLHQscil7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeVN1bW1hcnlTdGF0aXN0aWNzXCIse3F1ZXJ5OmUudG9KU09OKCkscGFyYW1zOnR9LHIpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlU3VtbWFyeVN0YXRpc3RpY3MoZSx0LHIpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucXVlcnlBZ2dyZWdhdGVTdW1tYXJ5U3RhdGlzdGljc1wiLHtxdWVyeTplLnRvSlNPTigpLHBhcmFtczp0fSxyKX1hc3luYyBxdWVyeVVuaXF1ZVZhbHVlcyhlLHQscil7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeVVuaXF1ZVZhbHVlc1wiLHtxdWVyeTplLnRvSlNPTigpLHBhcmFtczp0fSxyKX1hc3luYyBxdWVyeUFnZ3JlZ2F0ZVVuaXF1ZVZhbHVlcyhlLHQscil7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeUFnZ3JlZ2F0ZVVuaXF1ZVZhbHVlc1wiLHtxdWVyeTplLnRvSlNPTigpLHBhcmFtczp0fSxyKX1hc3luYyBxdWVyeUNsYXNzQnJlYWtzKGUsdCxyKXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2UsdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnF1ZXJ5Q2xhc3NCcmVha3NcIix7cXVlcnk6ZS50b0pTT04oKSxwYXJhbXM6dH0scil9YXN5bmMgcXVlcnlBZ2dyZWdhdGVDbGFzc0JyZWFrcyhlLHQscil7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeUFnZ3JlZ2F0ZUNsYXNzQnJlYWtzXCIse3F1ZXJ5OmUudG9KU09OKCkscGFyYW1zOnR9LHIpfWFzeW5jIHF1ZXJ5SGlzdG9ncmFtKGUsdCxyKXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2UsdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnF1ZXJ5SGlzdG9ncmFtXCIse3F1ZXJ5OmUudG9KU09OKCkscGFyYW1zOnR9LHIpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlSGlzdG9ncmFtKGUsdCxyKXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2UsdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnF1ZXJ5QWdncmVnYXRlSGlzdG9ncmFtXCIse3F1ZXJ5OmUudG9KU09OKCkscGFyYW1zOnR9LHIpfWFzeW5jIHF1ZXJ5RmVhdHVyZXMoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2UsdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnF1ZXJ5RmVhdHVyZXNcIixlPy50b0pTT04oKSx0KX1hc3luYyBxdWVyeVZpc2libGVGZWF0dXJlcyhlLHQpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucXVlcnlWaXNpYmxlRmVhdHVyZXNcIixlPy50b0pTT04oKSx0KX1hc3luYyBxdWVyeU9iamVjdElkcyhlLHQpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucXVlcnlPYmplY3RJZHNcIixlPy50b0pTT04oKSx0KX1hc3luYyBxdWVyeUZlYXR1cmVDb3VudChlLHQpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucXVlcnlGZWF0dXJlQ291bnRcIixlPy50b0pTT04oKSx0KX1hc3luYyBxdWVyeUV4dGVudChlLHQpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucXVlcnlFeHRlbnRcIixlLnRvSlNPTigpLHQpfWFzeW5jIHF1ZXJ5TGF0ZXN0T2JzZXJ2YXRpb25zKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeUxhdGVzdE9ic2VydmF0aW9uc1wiLGUudG9KU09OKCksdCl9YXN5bmMgcXVlcnlTdGF0aXN0aWNzKGUpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucXVlcnlTdGF0aXN0aWNzXCIsZSl9YXN5bmMgcXVlcnlBZ2dyZWdhdGVzKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeUFnZ3JlZ2F0ZXNcIixlPy50b0pTT04oKSx0KX1hc3luYyBxdWVyeUFnZ3JlZ2F0ZUNvdW50KGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5xdWVyeUFnZ3JlZ2F0ZUNvdW50XCIsZT8udG9KU09OKCksdCl9YXN5bmMgcXVlcnlBZ2dyZWdhdGVJZHMoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2UsdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnF1ZXJ5QWdncmVnYXRlSWRzXCIsZT8udG9KU09OKCksdCl9YXN5bmMgZ2V0T2JqZWN0SWQoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5nZXRPYmplY3RJZFwiLGUpfWFzeW5jIGdldERpc3BsYXlJZChlKXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2UsdGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLmdldERpc3BsYXlJZFwiLGUpfWFzeW5jIGdldEZlYXR1cmVzKGUpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSx0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIuZ2V0RmVhdHVyZXNcIixlKX1hc3luYyBnZXRBZ2dyZWdhdGVzKCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5nZXRBZ2dyZWdhdGVzXCIpfWFzeW5jIGdldEFnZ3JlZ2F0ZVZhbHVlUmFuZ2VzKCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5nZXRBZ2dyZWdhdGVWYWx1ZVJhbmdlc1wiKX1hc3luYyBtYXBWYWxpZERpc3BsYXlJZHMoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5tYXBWYWxpZERpc3BsYXlJZHNcIixlKX1hc3luYyBvbkVkaXRzKGUpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSxzKHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5vbkVkaXRzXCIsZSkpfWFzeW5jIGVuYWJsZUV2ZW50KGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHModGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLmVuYWJsZUV2ZW50XCIse25hbWU6ZSx2YWx1ZTp0fSkpfWFzeW5jIHBhdXNlU3RyZWFtKCl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHModGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnBhdXNlU3RyZWFtXCIpKX1hc3luYyByZXN1bWVTdHJlYW0oKXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2Uscyh0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIucmVzdW1lU3RyZWFtXCIpKX1hc3luYyBzZW5kTWVzc2FnZVRvU29ja2V0KGUpe3JldHVybiBhd2FpdCB0aGlzLl9zdGFydHVwUmVzb2x2ZXIucHJvbWlzZSxzKHRoaXMuX2Nvbm5lY3Rpb24uaW52b2tlKFwiY29udHJvbGxlci5zZW5kTWVzc2FnZVRvU29ja2V0XCIsZSkpfWFzeW5jIHNlbmRNZXNzYWdlVG9DbGllbnQoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3N0YXJ0dXBSZXNvbHZlci5wcm9taXNlLHModGhpcy5fY29ubmVjdGlvbi5pbnZva2UoXCJjb250cm9sbGVyLnNlbmRNZXNzYWdlVG9DbGllbnRcIixlKSl9YXN5bmMgdXBkYXRlQ3VzdG9tUGFyYW1ldGVycyhlKXtyZXR1cm4gYXdhaXQgdGhpcy5fc3RhcnR1cFJlc29sdmVyLnByb21pc2Uscyh0aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNvbnRyb2xsZXIudXBkYXRlQ3VzdG9tUGFyYW1ldGVyc1wiLGUpKX1hc3luYyBfc3RhcnRXb3JrZXIoZSl7dHJ5e3RoaXMuX2Nvbm5lY3Rpb249YXdhaXQgaShcIlBpcGVsaW5lXCIse2NsaWVudDp0aGlzLmNsaWVudCxzdHJhdGVneTpcImRlZGljYXRlZFwiLHNpZ25hbDplfSl9Y2F0Y2godCl7byh0KX19fTtlKFtuKCldLHUucHJvdG90eXBlLFwiaXNSZWFkeVwiLHZvaWQgMCksZShbbih7Y29uc3RydWN0T25seTohMH0pXSx1LnByb3RvdHlwZSxcImNsaWVudFwiLHZvaWQgMCksZShbbigpXSx1LnByb3RvdHlwZSxcInRpbGVSZW5kZXJlclwiLG51bGwpLHU9ZShbYShcImVzcmkudmlld3MuMmQubGF5ZXJzLnN1cHBvcnQuRmVhdHVyZUxheWVyUHJveHlcIildLHUpO2NvbnN0IGw9dTtleHBvcnR7bCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y2xhbXAgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHttZXRlckluIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvbGVuZ3RoVXRpbHMuanNcIjtpbXBvcnR7VHJhbnNmb3JtYXRpb25UeXBlIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vcmVuZGVyZXJzL3Zpc3VhbFZhcmlhYmxlcy9zdXBwb3J0L3NpemVWYXJpYWJsZVV0aWxzLmpzXCI7Y29uc3Qgcj1NYXRoLlBJO2Z1bmN0aW9uIGkoZSx0KXtzd2l0Y2godC50cmFuc2Zvcm1hdGlvblR5cGUpe2Nhc2Ugbi5BZGRpdGl2ZTpyZXR1cm4gcyhlLHQpO2Nhc2Ugbi5Db25zdGFudDpyZXR1cm4gbyh0LGUpO2Nhc2Ugbi5DbGFtcGVkTGluZWFyOnJldHVybiB1KGUsdCk7Y2FzZSBuLlByb3BvcnRpb25hbDpyZXR1cm4gbChlLHQpO2Nhc2Ugbi5TdG9wczpyZXR1cm4gYyhlLHQpO2Nhc2Ugbi5SZWFsV29ybGRTaXplOnJldHVybiBtKGUsdCk7Y2FzZSBuLklkZW50aXR5OnJldHVybiBlO2Nhc2Ugbi5Vbmtub3duOnJldHVybiBudWxsfX1mdW5jdGlvbiBhKGUsdCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGU/ZTppKHQsZSl9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBlKyhhKHQubWluU2l6ZSxlKXx8dC5taW5EYXRhVmFsdWUpfWZ1bmN0aW9uIG8oZSx0KXtjb25zdCBuPWUuc3RvcHM7bGV0IHI9bj8ubGVuZ3RoJiZuWzBdLnNpemU7cmV0dXJuIG51bGw9PXImJihyPWUubWluU2l6ZSksYShyLHQpfWZ1bmN0aW9uIHUoZSx0KXtjb25zdCBuPXQubWluRGF0YVZhbHVlLHI9dC5tYXhEYXRhVmFsdWUsaT0oZS1uKS8oci1uKSxzPWEodC5taW5TaXplLGUpLG89YSh0Lm1heFNpemUsZSk7cmV0dXJuIGU8PW4/czplPj1yP286cytpKihvLXMpfWZ1bmN0aW9uIGwodCxuKXtjb25zdCByPXQvbi5taW5EYXRhVmFsdWUsaT1hKG4ubWluU2l6ZSx0KSxzPWEobi5tYXhTaXplLHQpO2xldCBvPW51bGw7cmV0dXJuIG89cippLGUobyxpLHMpfWZ1bmN0aW9uIGMoZSx0KXtjb25zdFtuLHIsaV09cChlLHQuY2FjaGUuaXBEYXRhKTtpZihuPT09cilyZXR1cm4gYSh0LnN0b3BzW25dLnNpemUsZSk7e2NvbnN0IHM9YSh0LnN0b3BzW25dLnNpemUsZSk7cmV0dXJuIHMrKGEodC5zdG9wc1tyXS5zaXplLGUpLXMpKml9fWZ1bmN0aW9uIG0obixpKXtjb25zdCBzPXRbaS52YWx1ZVVuaXRdLG89YShpLm1pblNpemUsbiksdT1hKGkubWF4U2l6ZSxuKSx7dmFsdWVSZXByZXNlbnRhdGlvbjpsfT1pO2xldCBjPW51bGw7cmV0dXJuIGM9XCJhcmVhXCI9PT1sPzIqTWF0aC5zcXJ0KG4vcikvczpcInJhZGl1c1wiPT09bHx8XCJkaXN0YW5jZVwiPT09bD8yKm4vczpuL3MsZShjLG8sdSl9ZnVuY3Rpb24gcChlLHQpe2lmKCF0KXJldHVybjtsZXQgbj0wLHI9dC5sZW5ndGgtMTtyZXR1cm4gdC5zb21lKCgodCxpKT0+ZTx0PyhyPWksITApOihuPWksITEpKSksW24sciwoZS10W25dKS8odFtyXS10W25dKV19ZXhwb3J0e2kgYXMgZ2V0U2l6ZUZvclZhbHVlU2ltcGxlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuL1RpbGVDb3ZlcmFnZS5qc1wiO2ltcG9ydCBpIGZyb21cIi4vVGlsZUtleS5qc1wiO2NvbnN0IHQ9MWUtNjtjbGFzcyBse2NvbnN0cnVjdG9yKGUpe3RoaXMuX3RpbGVzPW5ldyBNYXAsdGhpcy5idWZmZXI9MCx0aGlzLmFjcXVpcmVUaWxlPWUuYWNxdWlyZVRpbGUsdGhpcy5yZWxlYXNlVGlsZT1lLnJlbGVhc2VUaWxlLHRoaXMudGlsZUluZm9WaWV3PWUudGlsZUluZm9WaWV3LHRoaXMuYnVmZmVyPWUuYnVmZmVyfWRlc3Ryb3koKXt9Y2xlYXIoKXt0aGlzLl90aWxlcy5mb3JFYWNoKChlPT50aGlzLl9yZWxlYXNlVGlsZShlKSkpfXRpbGVLZXlzKCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5fdGlsZXMuZm9yRWFjaCgoKGksdCk9PmUucHVzaCh0KSkpLGV9dXBkYXRlKHQpe2NvbnN0IGw9dGhpcy50aWxlSW5mb1ZpZXcuZ2V0VGlsZUNvdmVyYWdlKHQuc3RhdGUsdGhpcy5idWZmZXIsITAsXCJjbG9zZXN0XCIpLHtzcGFuczpzLGxvZEluZm86cn09bCx7bGV2ZWw6YX09cixvPVtdLGQ9W10saD1uZXcgU2V0LG49bmV3IFNldDtmb3IoY29uc3R7cm93OmUsY29sRnJvbTpjLGNvbFRvOmZ9b2Ygcylmb3IobGV0IHQ9Yzt0PD1mO3QrKyl7Y29uc3QgbD1pLmdldElkKGEsZSxyLm5vcm1hbGl6ZUNvbCh0KSxyLmdldFdvcmxkRm9yQ29sdW1uKHQpKSxzPXRoaXMuX2dldE9yQWNxdWlyZVRpbGUobyxsKTtoLmFkZChsKSxzLmlzUmVhZHk/cy52aXNpYmxlPSEwOm4uYWRkKHMua2V5KX1uLmZvckVhY2goKGU9PnRoaXMuX2FkZFBsYWNlaG9sZGVycyhoLGUpKSksdGhpcy5fdGlsZXMuZm9yRWFjaCgoZT0+e2guaGFzKGUua2V5LmlkKXx8KGQucHVzaChlLmtleS5pZCksdGhpcy5fcmVsZWFzZVRpbGUoZSkpfSkpLGUucG9vbC5yZWxlYXNlKGwpO3JldHVybntoYXNNaXNzaW5nVGlsZXM6bi5zaXplPjAsYWRkZWQ6byxyZW1vdmVkOmR9fV9nZXRPckFjcXVpcmVUaWxlKGUsdCl7aWYoIXRoaXMuX3RpbGVzLmhhcyh0KSl7Y29uc3QgbD10aGlzLmFjcXVpcmVUaWxlKG5ldyBpKHQpKTtlLnB1c2godCksdGhpcy5fdGlsZXMuc2V0KHQsbCksbC52aXNpYmxlPSExfXJldHVybiB0aGlzLl90aWxlcy5nZXQodCl9X2dldFRpbGUoZSl7cmV0dXJuIHRoaXMuX3RpbGVzLmdldChlKX1fcmVsZWFzZVRpbGUoZSl7dGhpcy5fdGlsZXMuZGVsZXRlKGUua2V5LmlkKSx0aGlzLnJlbGVhc2VUaWxlKGUpfV9hZGRQbGFjZWhvbGRlcnMoZSxpKXtjb25zdCBsPXRoaXMuX2FkZFBsYWNlaG9sZGVyQ2hpbGRyZW4oZSxpKTtpZighKE1hdGguYWJzKDEtbCk8dCkpe2lmKCF0aGlzLl9hZGRQbGFjZWhvbGRlclBhcmVudChlLGkpKXt0aGlzLl9nZXRUaWxlKGkuaWQpLnZpc2libGU9ITB9fX1fYWRkUGxhY2Vob2xkZXJDaGlsZHJlbihlLGkpe2xldCB0PTA7cmV0dXJuIHRoaXMuX3RpbGVzLmZvckVhY2goKGw9Pnt0Kz10aGlzLl9hZGRQbGFjZWhvbGRlckNoaWxkKGUsbCxpKX0pKSx0fV9hZGRQbGFjZWhvbGRlckNoaWxkKGUsaSx0KXtpZihpLmtleS5sZXZlbDw9dC5sZXZlbHx8IWkuaGFzRGF0YXx8IXQuY29udGFpbnMoaS5rZXkpKXJldHVybiAwO2kudmlzaWJsZT0hMCxlLmFkZChpLmtleS5pZCk7cmV0dXJuIDEvKDE8PDIqKGkua2V5LmxldmVsLXQubGV2ZWwpKX1fYWRkUGxhY2Vob2xkZXJQYXJlbnQoZSxpKXtsZXQgdD1pLmdldFBhcmVudEtleSgpLGw9MCxzPW51bGw7Zm9yKDtudWxsIT10Oyl7aWYoZS5oYXModC5pZCkpcmV0dXJuITA7Y29uc3QgaT10aGlzLl9nZXRUaWxlKHQuaWQpO2lmKGk/LmlzUmVhZHkpe2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9dGhpcy5fZ2V0VGlsZShpKTtlJiZ0LmNvbnRhaW5zKGUua2V5KSYmKGUudmlzaWJsZT0hMSl9cmV0dXJuIGkudmlzaWJsZT0hMCxlLmFkZChpLmtleS5pZCksITB9aT8uaGFzRGF0YSYmaS5wYXRjaENvdW50PmwmJihsPWkucGF0Y2hDb3VudCxzPWkpLHQ9dC5nZXRQYXJlbnRLZXkoKX1yZXR1cm4hIXMmJihzLnZpc2libGU9ITAsZS5hZGQocy5rZXkuaWQpLCEwKX19ZXhwb3J0e2wgYXMgVGlsZU1hbmFnZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHt3YXRjaCBhcyBpLHN5bmNBbmRJbml0aWFsIGFzIHMsb24gYXMgb31mcm9tXCIuLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtjb21iaW5lZFZpZXdMYXllclRpbWVFeHRlbnRQcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2NvbW1vblByb3BlcnRpZXMuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9GZWF0dXJlRWZmZWN0LmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZUZpbHRlci5qc1wiO2ltcG9ydHtmaXhGaWVsZHMgYXMgZCx1bnBhY2tGaWVsZE5hbWVzIGFzIGYsY29sbGVjdExhYmVsaW5nRmllbGRzIGFzIGMsY29sbGVjdEVsZXZhdGlvbkZpZWxkcyBhcyBtLGNvbGxlY3RGaWx0ZXJGaWVsZHMgYXMgeSxjb2xsZWN0RmVhdHVyZVJlZHVjdGlvbkZpZWxkcyBhcyBoLGNvbGxlY3RPcmRlckJ5SW5mb3MgYXMgRixjb2xsZWN0RmllbGRzIGFzIGcsY29sbGVjdEZpZWxkIGFzIHcsZmVhdHVyZUhhc0ZpZWxkcyBhcyBFfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjtpbXBvcnR7Z2V0Rmxvb3JGaWx0ZXJDbGF1c2UgYXMgYn1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9mbG9vckZpbHRlclV0aWxzLmpzXCI7aW1wb3J0IHggZnJvbVwiLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e2xvYWRBcmNhZGUgYXMgSX1mcm9tXCIuLi8uLi9zdXBwb3J0L2FyY2FkZU9uRGVtYW5kLmpzXCI7aW1wb3J0e2dldEZldGNoUG9wdXBUZW1wbGF0ZSBhcyB2LGdldFJlcXVpcmVkRmllbGRzIGFzIFJ9ZnJvbVwiLi9zdXBwb3J0L3BvcHVwVXRpbHMuanNcIjtjb25zdCBqPVwiZXNyaS52aWV3cy5sYXllcnMuRmVhdHVyZUxheWVyVmlld1wiLHE9ci5nZXRMb2dnZXIoaiksUD1yPT57bGV0IFA9Y2xhc3MgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKC4uLmUpe3N1cGVyKC4uLmUpLHRoaXMuX3VwZGF0aW5nUmVxdWlyZWRGaWVsZHNQcm9taXNlPW51bGwsdGhpcy5kYXRhVXBkYXRpbmc9ITEsdGhpcy5maWx0ZXI9bnVsbCx0aGlzLnRpbWVFeHRlbnQ9bnVsbCx0aGlzLmxheWVyPW51bGwsdGhpcy5yZXF1aXJlZEZpZWxkcz1bXSx0aGlzLnZpZXc9bnVsbH1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKFtpKCgoKT0+e2NvbnN0IGU9dGhpcy5sYXllcjtyZXR1cm5bZT8uZWxldmF0aW9uSW5mbz8uZmVhdHVyZUV4cHJlc3Npb25JbmZvLGUmJlwiZGlzcGxheUZpZWxkXCJpbiBlP2UuZGlzcGxheUZpZWxkOm51bGwsZSYmXCJ0aW1lSW5mb1wiaW4gZSYmZS50aW1lSW5mbyxlJiZcInJlbmRlcmVyXCJpbiBlJiZlLnJlbmRlcmVyLGUmJlwibGFiZWxpbmdJbmZvXCJpbiBlJiZlLmxhYmVsaW5nSW5mbyxlJiZcImZsb29ySW5mb1wiaW4gZSYmZS5mbG9vckluZm8sdGhpcy5maWx0ZXIsdGhpcy5mZWF0dXJlRWZmZWN0LHRoaXMudGltZUV4dGVudF19KSwoKCk9PnRoaXMuX2hhbmRsZVJlcXVpcmVkRmllbGRzQ2hhbmdlKCkpLHMpLG8oKCgpPT50aGlzLnZpZXc/LmZsb29ycyksXCJjaGFuZ2VcIiwoKCk9PnRoaXMuX2hhbmRsZVJlcXVpcmVkRmllbGRzQ2hhbmdlKCkpKSxvKCgoKT0+e2NvbnN0IGU9dGhpcy5sYXllcjtyZXR1cm4gZSYmXCJzdWJsYXllcnNcImluIGU/ZS5zdWJsYXllcnM6bnVsbH0pLFwiY2hhbmdlXCIsKCgpPT50aGlzLl9oYW5kbGVSZXF1aXJlZEZpZWxkc0NoYW5nZSgpKSldKX1nZXQgYXZhaWxhYmxlRmllbGRzKCl7Y29uc3R7bGF5ZXI6ZSxsYXllcjp7ZmllbGRzSW5kZXg6dH0scmVxdWlyZWRGaWVsZHM6cn09dGhpcztyZXR1cm5cIm91dEZpZWxkc1wiaW4gZSYmZS5vdXRGaWVsZHM/ZCh0LFsuLi5mKHQsZS5vdXRGaWVsZHMpLC4uLnJdKTpkKHQscil9Z2V0IGZlYXR1cmVFZmZlY3QoKXtyZXR1cm4gdGhpcy5sYXllciYmXCJmZWF0dXJlRWZmZWN0XCJpbiB0aGlzLmxheWVyP3RoaXMubGF5ZXIuZmVhdHVyZUVmZmVjdDpudWxsfXNldCBmZWF0dXJlRWZmZWN0KGUpe3RoaXMuX292ZXJyaWRlKFwiZmVhdHVyZUVmZmVjdFwiLGUpfWdldCBtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcygpe3JldHVybiAwfXNldCBtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcyhlKXtxLmVycm9yKFwiI21heGltdW1OdW1iZXJPZkZlYXR1cmVzPVwiLFwiU2V0dGluZyBtYXhpbXVtIG51bWJlciBvZiBmZWF0dXJlcyBpcyBub3Qgc3VwcG9ydGVkXCIpfWdldCBtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc0V4Y2VlZGVkKCl7cmV0dXJuITF9aGlnaGxpZ2h0KGUpe3Rocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgaW1wbGVtZW50YXRpb25cIil9Y3JlYXRlUXVlcnkoKXtjb25zdCBlPXtvdXRGaWVsZHM6W1wiKlwiXSxyZXR1cm5HZW9tZXRyeTohMCxvdXRTcGF0aWFsUmVmZXJlbmNlOnRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlfSx0PW51bGwhPXRoaXMuZmlsdGVyP3RoaXMuZmlsdGVyLmNyZWF0ZVF1ZXJ5KGUpOm5ldyB4KGUpO2lmKFwiZmVhdHVyZVwiPT09dGhpcy5sYXllci50eXBlKXtjb25zdCBlPWIodGhpcyk7bnVsbCE9ZSYmKHQud2hlcmU9dC53aGVyZT9gKCR7dC53aGVyZX0pIEFORCAoJHtlfSlgOmUpfXJldHVybiBudWxsIT10aGlzLnRpbWVFeHRlbnQmJih0LnRpbWVFeHRlbnQ9bnVsbCE9dC50aW1lRXh0ZW50P3QudGltZUV4dGVudC5pbnRlcnNlY3Rpb24odGhpcy50aW1lRXh0ZW50KTp0aGlzLnRpbWVFeHRlbnQuY2xvbmUoKSksdH1jcmVhdGVBZ2dyZWdhdGVRdWVyeSgpe2NvbnN0IGU9e291dEZpZWxkczpbXCIqXCJdLHJldHVybkdlb21ldHJ5OiEwLG91dFNwYXRpYWxSZWZlcmVuY2U6dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2V9O3JldHVybiBuZXcgeChlKX1xdWVyeUZlYXR1cmVzKGUsdCl7dGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyBpbXBsZW1lbnRhdGlvblwiKX1xdWVyeU9iamVjdElkcyhlLHQpe3Rocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgaW1wbGVtZW50YXRpb25cIil9cXVlcnlGZWF0dXJlQ291bnQoZSx0KXt0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIGltcGxlbWVudGF0aW9uXCIpfXF1ZXJ5RXh0ZW50KGUsdCl7dGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyBpbXBsZW1lbnRhdGlvblwiKX1hc3luYyBmZXRjaFBvcHVwRmVhdHVyZXMoZSx0KXtjb25zdCByPXRoaXMudmFsaWRhdGVGZXRjaFBvcHVwRmVhdHVyZXModCk7aWYocil0aHJvdyByO3JldHVybiB0aGlzLmZldGNoQ2xpZW50UG9wdXBGZWF0dXJlcyh0KX1fbG9hZEFyY2FkZU1vZHVsZXMoZSl7cmV0dXJuIGUuZXhwcmVzc2lvbkluZm9zPy5sZW5ndGh8fEFycmF5LmlzQXJyYXkoZS5jb250ZW50KSYmZS5jb250ZW50LnNvbWUoKGU9PlwiZXhwcmVzc2lvblwiPT09ZS50eXBlKSk/SSgpOlByb21pc2UucmVzb2x2ZSgpfV9oYW5kbGVSZXF1aXJlZEZpZWxkc0NoYW5nZSgpe2NvbnN0IGU9dGhpcy5fdXBkYXRlUmVxdWlyZWRGaWVsZHMoKTt0aGlzLl9zZXQoXCJfdXBkYXRpbmdSZXF1aXJlZEZpZWxkc1Byb21pc2VcIixlKSxlLnRoZW4oKCgpPT57dGhpcy5fdXBkYXRpbmdSZXF1aXJlZEZpZWxkc1Byb21pc2U9PT1lJiZ0aGlzLl9zZXQoXCJfdXBkYXRpbmdSZXF1aXJlZEZpZWxkc1Byb21pc2VcIixudWxsKX0pKX1hc3luYyBfdXBkYXRlUmVxdWlyZWRGaWVsZHMoKXtpZighdGhpcy5sYXllcnx8IXRoaXMudmlldylyZXR1cm47Y29uc3QgZT1cIjNkXCI9PT10aGlzLnZpZXcudHlwZSx7bGF5ZXI6dCxsYXllcjp7ZmllbGRzSW5kZXg6cixvYmplY3RJZEZpZWxkOml9fT10aGlzLHM9XCJyZW5kZXJlclwiaW4gdCYmdC5yZW5kZXJlcixvPVwib3JkZXJCeVwiaW4gdCYmdC5vcmRlckJ5LG49XCJmZWF0dXJlUmVkdWN0aW9uXCJpbiB0P3QuZmVhdHVyZVJlZHVjdGlvbjpudWxsLGw9bmV3IFNldCxhPWF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChbcz9zLmNvbGxlY3RSZXF1aXJlZEZpZWxkcyhsLHIpOm51bGwsYyhsLHQpLGU/bShsLHQpOm51bGwsbnVsbCE9dGhpcy5maWx0ZXI/eShsLHQsdGhpcy5maWx0ZXIpOm51bGwsbnVsbCE9dGhpcy5mZWF0dXJlRWZmZWN0P3kobCx0LHRoaXMuZmVhdHVyZUVmZmVjdC5maWx0ZXIpOm51bGwsbj9oKGwsdCxuKTpudWxsLG8/RihsLHQsbyk6bnVsbF0pO2lmKFwidGltZUluZm9cImluIHQmJnQudGltZUluZm8mJnRoaXMudGltZUV4dGVudCYmZyhsLHQuZmllbGRzSW5kZXgsW3QudGltZUluZm8uc3RhcnRGaWVsZCx0LnRpbWVJbmZvLmVuZEZpZWxkXSksXCJmZWF0dXJlXCI9PT10LnR5cGUmJih0LmZsb29ySW5mbyYmZyhsLHQuZmllbGRzSW5kZXgsW3QuZmxvb3JJbmZvLmZsb29yRmllbGRdKSxlJiZudWxsIT10LmluZm9Gb3IzRCYmKG51bGw9PXQuZ2xvYmFsSWRGaWVsZCYmcS5lcnJvcihcImdsb2JhbElkRmllbGQgbWlzc2luZyBvbiAzRE9iamVjdEZlYXR1cmVMYXllclwiKSxnKGwsdC5maWVsZHNJbmRleCxbdC5nbG9iYWxJZEZpZWxkXSkpKSxcInN1YnR5cGUtZ3JvdXBcIj09PXQudHlwZSl7dyhsLHIsdC5zdWJ0eXBlRmllbGQpO2NvbnN0IGU9dC5zdWJsYXllcnMubWFwKChlPT5Qcm9taXNlLmFsbChbZS5yZW5kZXJlcj8uY29sbGVjdFJlcXVpcmVkRmllbGRzKGwsciksYyhsLGUpXSkpKTthd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoZSl9Zm9yKGNvbnN0IHAgb2YgYSlcInJlamVjdGVkXCI9PT1wLnN0YXR1cyYmcS5lcnJvcihwLnJlYXNvbik7dyhsLHIsaSksZSYmXCJkaXNwbGF5RmllbGRcImluIHQmJnQuZGlzcGxheUZpZWxkJiZ3KGwscix0LmRpc3BsYXlGaWVsZCk7Y29uc3QgdT1BcnJheS5mcm9tKGwpLnNvcnQoKTt0aGlzLl9zZXQoXCJyZXF1aXJlZEZpZWxkc1wiLHUpfXZhbGlkYXRlRmV0Y2hQb3B1cEZlYXR1cmVzKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7Zm9yKGNvbnN0IHIgb2YgZS5jbGllbnRHcmFwaGljcz8/W10pe2NvbnN0IGk9ci5sYXllcjtpZihcInBvcHVwRW5hYmxlZFwiaW4gaSYmIWkucG9wdXBFbmFibGVkKXJldHVybiBuZXcgdChcImZlYXR1cmVsYXllcnZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJQb3B1cHMgYXJlIGRpc2FibGVkXCIse2xheWVyOml9KTtpZihyLmlzQWdncmVnYXRlKXtjb25zdCBlPVwiZmVhdHVyZVJlZHVjdGlvblwiaW4gaT9pLmZlYXR1cmVSZWR1Y3Rpb246bnVsbDtpZighKGUmJlwicG9wdXBUZW1wbGF0ZVwiaW4gZSYmZS5wb3B1cEVuYWJsZWQmJmUucG9wdXBUZW1wbGF0ZSkpcmV0dXJuIG5ldyB0KFwiZmVhdHVyZWxheWVydmlldzpmZXRjaFBvcHVwRmVhdHVyZXNcIixcIlBvcHVwcyBhcmUgZGlzYWJsZWRcIix7bGF5ZXI6aX0pfWVsc2UgaWYoXCJwb3B1cFRlbXBsYXRlXCJpbiBpKXtpZighdihpLGUpKXJldHVybiBuZXcgdChcImZlYXR1cmVsYXllcnZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJMYXllciBkb2VzIG5vdCBkZWZpbmUgYSBwb3B1cCB0ZW1wbGF0ZVwiLHtsYXllcjppfSl9fX1hc3luYyBmZXRjaENsaWVudFBvcHVwRmVhdHVyZXMoZSl7Y29uc3QgdD1udWxsIT1lP2UuY2xpZW50R3JhcGhpY3M6bnVsbDtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybltdO2NvbnN0IHI9bmV3IEFycmF5KHQubGVuZ3RoKSxpPW5ldyBNYXAscz1hd2FpdCB0aGlzLmNyZWF0ZVBvcHVwUXVlcnkoZSk7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDtvKyspe2NvbnN0IG49dFtvXTtpZihuLmlzQWdncmVnYXRlKXtyW29dPW47Y29udGludWV9Y29uc3QgbD1uLmxheWVyO2lmKCEoXCJwb3B1cEVuYWJsZWRcImluIGwpKWNvbnRpbnVlO2NvbnN0IGE9Zih0aGlzLmxheWVyLmZpZWxkc0luZGV4LHMub3V0RmllbGRzKSx1PXYobCxlKTtpZihudWxsPT11KWNvbnRpbnVlO2NvbnN0IHA9YXdhaXQgdGhpcy5fbG9hZEFyY2FkZU1vZHVsZXModSk7cCYmcC5hcmNhZGVVdGlscy5oYXNHZW9tZXRyeU9wZXJhdGlvbnModSl8fCFFKGEsbik/aS5zZXQobi5nZXRPYmplY3RJZCgpLHtncmFwaGljOm4saW5kZXg6b30pOnJbb109bn1pZihcInN0cmVhbVwiPT09dGhpcy5sYXllci50eXBlfHwwPT09aS5zaXplKXJldHVybiByLmZpbHRlcihCb29sZWFuKTtzLm9iamVjdElkcz1BcnJheS5mcm9tKGkua2V5cygpKTt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmxheWVyLnF1ZXJ5RmVhdHVyZXMocyk7Zm9yKGNvbnN0IHQgb2YgZS5mZWF0dXJlcyl7Y29uc3R7Z3JhcGhpYzp7Z2VvbWV0cnk6ZX0saW5kZXg6c309aS5nZXQodC5nZXRPYmplY3RJZCgpKTt0Lmdlb21ldHJ5fHw9ZSxyW3NdPXR9fWNhdGNoe31yZXR1cm4gci5maWx0ZXIoQm9vbGVhbil9YXN5bmMgY3JlYXRlUG9wdXBRdWVyeShlKXtjb25zdCB0PXRoaXMubGF5ZXIuY3JlYXRlUXVlcnkoKSxyPW5ldyBTZXQ7bGV0IGk9ITE7Y29uc3Qgcz1lPy5jbGllbnRHcmFwaGljcz9lLmNsaWVudEdyYXBoaWNzLm1hcCgoZT0+ZS5sYXllcikpOlt0aGlzLmxheWVyXTtmb3IoY29uc3QgbyBvZiBzKXtpZighKFwicG9wdXBFbmFibGVkXCJpbiBvKSljb250aW51ZTtjb25zdCB0PXYobyxlKTtpZihudWxsPT10KWNvbnRpbnVlO2NvbnN0IHM9YXdhaXQgdGhpcy5fbG9hZEFyY2FkZU1vZHVsZXModCksbj1zJiZzLmFyY2FkZVV0aWxzLmhhc0dlb21ldHJ5T3BlcmF0aW9ucyh0KTtpPSEoXCJwb2ludFwiIT09dGhpcy5sYXllci5nZW9tZXRyeVR5cGUmJiFuKTtjb25zdCBsPWF3YWl0IFIodGhpcy5sYXllcix0KTtmb3IoY29uc3QgZSBvZiBsKXIuYWRkKGUpfWlmKHQucmV0dXJuR2VvbWV0cnk9aSx0LnJldHVyblo9aSx0LnJldHVybk09aSx0Lm91dEZpZWxkcz1BcnJheS5mcm9tKHIpLHQub3V0U3BhdGlhbFJlZmVyZW5jZT10aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSxcImZlYXR1cmVcIj09PXRoaXMubGF5ZXIudHlwZSl7Y29uc3QgZT1iKHRoaXMpO251bGwhPWUmJih0LndoZXJlPXQud2hlcmU/YCgke3Qud2hlcmV9KSBBTkQgKCR7ZX0pYDplKX1yZXR1cm4gdH1jYW5SZXN1bWUoKXtyZXR1cm4hIXN1cGVyLmNhblJlc3VtZSgpJiYobnVsbD09dGhpcy50aW1lRXh0ZW50fHwhdGhpcy50aW1lRXh0ZW50LmlzRW1wdHkpfX07cmV0dXJuIGUoW24oKV0sUC5wcm90b3R5cGUsXCJfdXBkYXRpbmdSZXF1aXJlZEZpZWxkc1Byb21pc2VcIix2b2lkIDApLGUoW24oe3JlYWRPbmx5OiEwfSldLFAucHJvdG90eXBlLFwiYXZhaWxhYmxlRmllbGRzXCIsbnVsbCksZShbbih7cmVhZE9ubHk6ITB9KV0sUC5wcm90b3R5cGUsXCJkYXRhVXBkYXRpbmdcIix2b2lkIDApLGUoW24oe3R5cGU6dX0pXSxQLnByb3RvdHlwZSxcImZlYXR1cmVFZmZlY3RcIixudWxsKSxlKFtuKHt0eXBlOnB9KV0sUC5wcm90b3R5cGUsXCJmaWx0ZXJcIix2b2lkIDApLGUoW24oYSldLFAucHJvdG90eXBlLFwidGltZUV4dGVudFwiLHZvaWQgMCksZShbbigpXSxQLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFtuKHt0eXBlOk51bWJlcn0pXSxQLnByb3RvdHlwZSxcIm1heGltdW1OdW1iZXJPZkZlYXR1cmVzXCIsbnVsbCksZShbbih7cmVhZE9ubHk6ITAsdHlwZTpCb29sZWFufSldLFAucHJvdG90eXBlLFwibWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZFwiLG51bGwpLGUoW24oe3JlYWRPbmx5OiEwfSldLFAucHJvdG90eXBlLFwicmVxdWlyZWRGaWVsZHNcIix2b2lkIDApLGUoW24oKV0sUC5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIix2b2lkIDApLGUoW24oKV0sUC5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxQPWUoW2woaildLFApLFB9O2V4cG9ydHtQIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHJ9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2lzQWJvcnRFcnJvciBhcyBzfWZyb21cIi4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e29uIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtjb25zdCBhPWE9PntsZXQgYz1jbGFzcyBleHRlbmRzIGF7aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyhvKCgoKT0+dGhpcy5sYXllciksXCJyZWZyZXNoXCIsKHI9Pnt0aGlzLmRvUmVmcmVzaChyLmRhdGFDaGFuZ2VkKS5jYXRjaCgocj0+e3Mocil8fGUuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKHIpfSkpfSkpLFwiUmVmcmVzaGFibGVMYXllclZpZXdcIil9fTtyZXR1cm4gcihbdCgpXSxjLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxjPXIoW2koXCJlc3JpLmxheWVycy5taXhpbnMuUmVmcmVzaGFibGVMYXllclZpZXdcIildLGMpLGN9O2V4cG9ydHthIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRGZWF0dXJlRWRpdEZpZWxkcyBhcyBlLGZpeEZpZWxkcyBhcyBsfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjthc3luYyBmdW5jdGlvbiBuKG4scD1uLnBvcHVwVGVtcGxhdGUpe2lmKG51bGw9PXApcmV0dXJuW107Y29uc3QgdT1hd2FpdCBwLmdldFJlcXVpcmVkRmllbGRzKG4uZmllbGRzSW5kZXgpLHtsYXN0RWRpdEluZm9FbmFibGVkOnR9PXAse29iamVjdElkRmllbGQ6ZCx0eXBlSWRGaWVsZDpzLGdsb2JhbElkRmllbGQ6aSxyZWxhdGlvbnNoaXBzOmF9PW47aWYodS5pbmNsdWRlcyhcIipcIikpcmV0dXJuW1wiKlwiXTtjb25zdCBvPXQ/ZShuKTpbXSxmPWwobi5maWVsZHNJbmRleCxbLi4udSwuLi5vXSk7cmV0dXJuIHMmJmYucHVzaChzKSxmJiZkJiZuLmZpZWxkc0luZGV4Py5oYXMoZCkmJiFmLmluY2x1ZGVzKGQpJiZmLnB1c2goZCksZiYmaSYmbi5maWVsZHNJbmRleD8uaGFzKGkpJiYhZi5pbmNsdWRlcyhpKSYmZi5wdXNoKGkpLGEmJmEuZm9yRWFjaCgoZT0+e2NvbnN0e2tleUZpZWxkOmx9PWU7ZiYmbCYmbi5maWVsZHNJbmRleD8uaGFzKGwpJiYhZi5pbmNsdWRlcyhsKSYmZi5wdXNoKGwpfSkpLGZ9ZnVuY3Rpb24gcChlLGwpe3JldHVybiBlLnBvcHVwVGVtcGxhdGU/ZS5wb3B1cFRlbXBsYXRlOm51bGwhPWwmJmwuZGVmYXVsdFBvcHVwVGVtcGxhdGVFbmFibGVkJiZudWxsIT1lLmRlZmF1bHRQb3B1cFRlbXBsYXRlP2UuZGVmYXVsdFBvcHVwVGVtcGxhdGU6bnVsbH1mdW5jdGlvbiB1KGUsbCl7cmV0dXJuIG51bGwhPXAoZSx7ZGVmYXVsdFBvcHVwVGVtcGxhdGVFbmFibGVkOmx9KX1leHBvcnR7cCBhcyBnZXRGZXRjaFBvcHVwVGVtcGxhdGUsbiBhcyBnZXRSZXF1aXJlZEZpZWxkcyx1IGFzIGhhc1BvcHVwVGVtcGxhdGV9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9