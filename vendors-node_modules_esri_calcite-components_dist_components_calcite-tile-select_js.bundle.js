"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_esri_calcite-components_dist_components_calcite-tile-select_js"],{

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-tile-select.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-tile-select.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CalciteTileSelect: () => (/* binding */ CalciteTileSelect),
/* harmony export */   defineCustomElement: () => (/* binding */ defineCustomElement)
/* harmony export */ });
/* harmony import */ var _stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @stencil/core/internal/client/index.js */ "./node_modules/@stencil/core/internal/client/index.js");
/* harmony import */ var _guid_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./guid.js */ "./node_modules/@esri/calcite-components/dist/components/guid.js");
/* harmony import */ var _interactive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interactive.js */ "./node_modules/@esri/calcite-components/dist/components/interactive.js");
/* harmony import */ var _loadable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loadable.js */ "./node_modules/@esri/calcite-components/dist/components/loadable.js");
/* harmony import */ var _icon_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./icon.js */ "./node_modules/@esri/calcite-components/dist/components/icon.js");
/* harmony import */ var _link_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./link.js */ "./node_modules/@esri/calcite-components/dist/components/link.js");
/* harmony import */ var _tile_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tile.js */ "./node_modules/@esri/calcite-components/dist/components/tile.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.7.0
 */








const CSS = {
  checked: "checked",
  description: "description",
  descriptionOnly: "description-only",
  disabled: "disabled",
  heading: "heading",
  headingOnly: "heading-only",
  icon: "icon",
  iconOnly: "icon-only",
  inputAlignmentEnd: "input-alignment-end",
  inputAlignmentStart: "input-alignment-start",
  inputEnabled: "input-enabled",
  largeVisual: "large-visual",
  widthAuto: "width-auto",
  widthFull: "width-full",
};

const tileSelectCss = ":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host .container{background-color:var(--calcite-ui-foreground-1);box-shadow:0 0 0 1px var(--calcite-ui-border-2);box-sizing:border-box;cursor:pointer;display:inline-block;block-size:100%;max-inline-size:300px;padding:0.75rem;position:relative;vertical-align:top;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}:host .container.checked{z-index:var(--calcite-app-z-index);box-shadow:0 0 0 1px var(--calcite-ui-brand)}:host .container.heading-only{align-items:center}:host .container:not(.input-enabled) ::slotted(calcite-checkbox),:host .container:not(.input-enabled) ::slotted(calcite-radio-button){position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host .container.focused{outline-color:transparent}:host .container.focused:not(.disabled):not(.input-enabled){outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\n            -2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-ui-focus-offset-invert),\n                1\n              )\n            )\n          );outline-offset:-4px;box-shadow:0 0 0 1px var(--calcite-ui-brand), inset 0 0 0 2px var(--calcite-ui-foreground-1)}:host .container.input-enabled.input-alignment-start.width-auto.heading-only,:host .container.input-enabled.input-alignment-start.width-auto.icon-only,:host .container.input-enabled.input-alignment-start.width-auto.description-only,:host .container.input-enabled.input-alignment-start.width-auto.heading.description,:host .container.input-enabled.input-alignment-start.width-auto.icon.description,:host .container.input-enabled.input-alignment-start.width-auto.heading.icon.description{display:inline-grid;grid-template-columns:max-content 1fr}:host .container.input-enabled.input-alignment-start.heading-only,:host .container.input-enabled.input-alignment-start.icon-only,:host .container.input-enabled.input-alignment-start.description-only,:host .container.input-enabled.input-alignment-start.heading.description,:host .container.input-enabled.input-alignment-start.icon.description,:host .container.input-enabled.input-alignment-start.heading.icon.description{gap:0.75rem}:host .container.input-enabled.input-alignment-start calcite-tile{order:1}:host .container.input-enabled.input-alignment-start.large-visual ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-start.large-visual ::slotted(calcite-radio-button){position:absolute;inset-block-start:0.75rem;inset-inline-start:0.75rem}:host .container.input-enabled.input-alignment-end.width-auto.heading-only,:host .container.input-enabled.input-alignment-end.width-auto.icon-only{display:inline-grid;grid-gap:0.75rem;grid-template-columns:max-content 1fr}:host .container.input-enabled.input-alignment-end.heading-only,:host .container.input-enabled.input-alignment-end.icon-only{gap:0.75rem}:host .container.input-enabled.input-alignment-end.description-only ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.description-only ::slotted(calcite-radio-button),:host .container.input-enabled.input-alignment-end.heading.description ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.heading.description ::slotted(calcite-radio-button),:host .container.input-enabled.input-alignment-end.icon.description ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.icon.description ::slotted(calcite-radio-button),:host .container.input-enabled.input-alignment-end.heading.icon.description ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.heading.icon.description ::slotted(calcite-radio-button){position:absolute;inset-block-start:0.75rem;inset-inline-end:0.75rem}:host .container.input-enabled.input-alignment-end.large-visual ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.large-visual ::slotted(calcite-radio-button){position:absolute;inset-block-start:0.75rem;inset-inline-end:0.75rem}:host .container.width-full{display:flex;max-inline-size:none}:host .container.width-full calcite-tile{flex:1 1 auto}:host(:hover) .container:not(.input-enabled){box-shadow:0 0 0 1px var(--calcite-ui-brand)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([hidden]){display:none}[hidden]{display:none}";

const TileSelect = /*@__PURE__*/ (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_6__.proxyCustomElement)(class extends _stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_6__.HTMLElement {
  constructor() {
    super();
    this.__registerHost();
    this.__attachShadow();
    this.calciteTileSelectChange = (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_6__.createEvent)(this, "calciteTileSelectChange", 6);
    this.guid = `calcite-tile-select-${(0,_guid_js__WEBPACK_IMPORTED_MODULE_0__.g)()}`;
    this.checked = false;
    this.description = undefined;
    this.disabled = false;
    this.heading = undefined;
    this.hidden = false;
    this.icon = undefined;
    this.iconFlipRtl = false;
    this.name = undefined;
    this.inputEnabled = false;
    this.inputAlignment = "start";
    this.type = "radio";
    this.value = undefined;
    this.width = "auto";
    this.focused = false;
  }
  checkedChanged(newChecked) {
    this.input.checked = newChecked;
  }
  nameChanged(newName) {
    this.input.name = newName;
  }
  //--------------------------------------------------------------------------
  //
  //  Public Methods
  //
  //--------------------------------------------------------------------------
  /** Sets focus on the component. */
  async setFocus() {
    await (0,_loadable_js__WEBPACK_IMPORTED_MODULE_2__.c)(this);
    return this.input?.setFocus();
  }
  //--------------------------------------------------------------------------
  //
  //  Event Listeners
  //
  //--------------------------------------------------------------------------
  checkboxChangeHandler(event) {
    const checkbox = event.target;
    if (checkbox === this.input) {
      this.checked = checkbox.checked;
    }
    event.stopPropagation();
    this.calciteTileSelectChange.emit();
  }
  checkboxFocusBlurHandler(event) {
    const checkbox = event.target;
    if (checkbox === this.input) {
      this.focused = event.detail;
    }
    event.stopPropagation();
  }
  radioButtonChangeHandler(event) {
    const radioButton = event.target;
    if (radioButton === this.input) {
      this.checked = radioButton.checked;
    }
    event.stopPropagation();
    this.calciteTileSelectChange.emit();
  }
  radioButtonCheckedChangeHandler(event) {
    const radioButton = event.target;
    if (radioButton === this.input) {
      this.checked = radioButton.checked;
    }
    event.stopPropagation();
  }
  radioButtonFocusBlurHandler(event) {
    const radioButton = event.target;
    if (radioButton === this.input) {
      this.focused = radioButton.focused;
    }
    event.stopPropagation();
  }
  clickHandler(event) {
    if (this.disabled) {
      return;
    }
    const target = event.target;
    const targets = ["calcite-tile", "calcite-tile-select"];
    if (targets.includes(target.localName)) {
      this.input.click();
    }
  }
  pointerEnterHandler() {
    if (this.disabled) {
      return;
    }
    const { localName } = this.input;
    if (localName === "calcite-radio-button" || localName === "calcite-checkbox") {
      this.input.hovered = true;
    }
  }
  pointerLeaveHandler() {
    if (this.disabled) {
      return;
    }
    const { localName } = this.input;
    if (localName === "calcite-radio-button" || localName === "calcite-checkbox") {
      this.input.hovered = false;
    }
  }
  //--------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  //--------------------------------------------------------------------------
  connectedCallback() {
    this.renderInput();
    (0,_interactive_js__WEBPACK_IMPORTED_MODULE_1__.c)(this);
  }
  componentWillLoad() {
    (0,_loadable_js__WEBPACK_IMPORTED_MODULE_2__.a)(this);
  }
  componentDidLoad() {
    (0,_loadable_js__WEBPACK_IMPORTED_MODULE_2__.s)(this);
  }
  disconnectedCallback() {
    this.input.parentNode.removeChild(this.input);
    (0,_interactive_js__WEBPACK_IMPORTED_MODULE_1__.d)(this);
  }
  componentDidRender() {
    (0,_interactive_js__WEBPACK_IMPORTED_MODULE_1__.u)(this);
  }
  // --------------------------------------------------------------------------
  //
  //  Render Methods
  //
  // --------------------------------------------------------------------------
  renderInput() {
    this.input = document.createElement(this.type === "radio" ? "calcite-radio-button" : "calcite-checkbox");
    this.input.checked = this.checked;
    this.input.disabled = this.disabled;
    this.input.hidden = this.hidden;
    this.input.id = this.guid;
    this.input.label = this.heading || this.name || "";
    if (this.name) {
      this.input.name = this.name;
    }
    if (this.value) {
      this.input.value = this.value != null ? this.value.toString() : "";
    }
    this.el.insertAdjacentElement("beforeend", this.input);
  }
  render() {
    const { checked, description, disabled, focused, heading, icon, inputAlignment, inputEnabled, width, iconFlipRtl, } = this;
    return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_6__.h)("div", { class: {
        checked,
        container: true,
        [CSS.description]: Boolean(description),
        [CSS.descriptionOnly]: Boolean(!heading && !icon && description),
        disabled,
        focused,
        [CSS.heading]: Boolean(heading),
        [CSS.headingOnly]: heading && !icon && !description,
        [CSS.icon]: Boolean(icon),
        [CSS.iconOnly]: !heading && icon && !description,
        [CSS.inputAlignmentEnd]: inputAlignment === "end",
        [CSS.inputAlignmentStart]: inputAlignment === "start",
        [CSS.inputEnabled]: inputEnabled,
        [CSS.largeVisual]: heading && icon && !description,
        [CSS.widthAuto]: width === "auto",
        [CSS.widthFull]: width === "full",
      } }, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_6__.h)("calcite-tile", { active: checked, description: description, embed: true, heading: heading, icon: icon, iconFlipRtl: iconFlipRtl }), (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_6__.h)("slot", null)));
  }
  get el() { return this; }
  static get watchers() { return {
    "checked": ["checkedChanged"],
    "name": ["nameChanged"]
  }; }
  static get style() { return tileSelectCss; }
}, [1, "calcite-tile-select", {
    "checked": [1540],
    "description": [513],
    "disabled": [516],
    "heading": [513],
    "hidden": [516],
    "icon": [513],
    "iconFlipRtl": [516, "icon-flip-rtl"],
    "name": [520],
    "inputEnabled": [516, "input-enabled"],
    "inputAlignment": [513, "input-alignment"],
    "type": [513],
    "value": [8],
    "width": [513],
    "focused": [32],
    "setFocus": [64]
  }, [[0, "calciteCheckboxChange", "checkboxChangeHandler"], [0, "calciteInternalCheckboxFocus", "checkboxFocusBlurHandler"], [0, "calciteInternalCheckboxBlur", "checkboxFocusBlurHandler"], [0, "calciteRadioButtonChange", "radioButtonChangeHandler"], [0, "calciteInternalRadioButtonCheckedChange", "radioButtonCheckedChangeHandler"], [0, "calciteInternalRadioButtonFocus", "radioButtonFocusBlurHandler"], [0, "calciteInternalRadioButtonBlur", "radioButtonFocusBlurHandler"], [0, "click", "clickHandler"], [1, "pointerenter", "pointerEnterHandler"], [1, "pointerleave", "pointerLeaveHandler"]]]);
function defineCustomElement$1() {
  if (typeof customElements === "undefined") {
    return;
  }
  const components = ["calcite-tile-select", "calcite-icon", "calcite-link", "calcite-tile"];
  components.forEach(tagName => { switch (tagName) {
    case "calcite-tile-select":
      if (!customElements.get(tagName)) {
        customElements.define(tagName, TileSelect);
      }
      break;
    case "calcite-icon":
      if (!customElements.get(tagName)) {
        (0,_icon_js__WEBPACK_IMPORTED_MODULE_3__.d)();
      }
      break;
    case "calcite-link":
      if (!customElements.get(tagName)) {
        (0,_link_js__WEBPACK_IMPORTED_MODULE_4__.d)();
      }
      break;
    case "calcite-tile":
      if (!customElements.get(tagName)) {
        (0,_tile_js__WEBPACK_IMPORTED_MODULE_5__.d)();
      }
      break;
  } });
}
defineCustomElement$1();

const CalciteTileSelect = TileSelect;
const defineCustomElement = defineCustomElement$1;




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfZXNyaV9jYWxjaXRlLWNvbXBvbmVudHNfZGlzdF9jb21wb25lbnRzX2NhbGNpdGUtdGlsZS1zZWxlY3RfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDeUc7QUFDbkU7QUFDNkU7QUFDTDtBQUN2RDtBQUNBO0FBQ0E7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlDQUF5QyxlQUFlLHlCQUF5QixpQkFBaUIsMkNBQTJDLG1EQUFtRCxvQkFBb0IsTUFBTSxjQUFjLGlCQUFpQixnREFBZ0QsZ0RBQWdELHNCQUFzQixlQUFlLHFCQUFxQixnQkFBZ0Isc0JBQXNCLGdCQUFnQixrQkFBa0IsbUJBQW1CLDZGQUE2Rix5QkFBeUIsbUNBQW1DLDZDQUE2Qyw4QkFBOEIsbUJBQW1CLHNJQUFzSSxrQkFBa0IsZ0JBQWdCLGVBQWUsVUFBVSxZQUFZLGdCQUFnQixzQkFBc0IsbUJBQW1CLGVBQWUseUJBQXlCLDBCQUEwQiw0REFBNEQseUVBQXlFLHFQQUFxUCxvQkFBb0IsNkZBQTZGLHNlQUFzZSxvQkFBb0Isc0NBQXNDLG9hQUFvYSxZQUFZLGtFQUFrRSxRQUFRLGdNQUFnTSxrQkFBa0IsMEJBQTBCLDJCQUEyQixtSkFBbUosb0JBQW9CLGlCQUFpQixzQ0FBc0MsNkhBQTZILFlBQVksc3lCQUFzeUIsa0JBQWtCLDBCQUEwQix5QkFBeUIsNExBQTRMLGtCQUFrQiwwQkFBMEIseUJBQXlCLDRCQUE0QixhQUFhLHFCQUFxQix5Q0FBeUMsY0FBYyw2Q0FBNkMsNkNBQTZDLHlHQUF5RyxVQUFVLGdCQUFnQixhQUFhLFNBQVMsYUFBYTs7QUFFam9KLGlDQUFpQywwRkFBa0IsZUFBZSwrRUFBVztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxtRkFBVztBQUM5Qyx1Q0FBdUMsMkNBQUksR0FBRztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsK0NBQWtCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksa0RBQWtCO0FBQ3RCO0FBQ0E7QUFDQSxJQUFJLCtDQUFzQjtBQUMxQjtBQUNBO0FBQ0EsSUFBSSwrQ0FBa0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsSUFBSSxrREFBcUI7QUFDekI7QUFDQTtBQUNBLElBQUksa0RBQXFCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0R0FBNEc7QUFDeEgsWUFBWSx5RUFBQyxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxFQUFFLHlFQUFDLG1CQUFtQixnSEFBZ0gsR0FBRyx5RUFBQztBQUNuSjtBQUNBLGFBQWE7QUFDYiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMkNBQXFCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyQ0FBcUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDJDQUFxQjtBQUM3QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFa0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS10aWxlLXNlbGVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvbWFpbi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxuICogdjEuNy4wXG4gKi9cbmltcG9ydCB7IHByb3h5Q3VzdG9tRWxlbWVudCwgSFRNTEVsZW1lbnQsIGNyZWF0ZUV2ZW50LCBoIH0gZnJvbSAnQHN0ZW5jaWwvY29yZS9pbnRlcm5hbC9jbGllbnQvaW5kZXguanMnO1xuaW1wb3J0IHsgZyBhcyBndWlkIH0gZnJvbSAnLi9ndWlkLmpzJztcbmltcG9ydCB7IGMgYXMgY29ubmVjdEludGVyYWN0aXZlLCBkIGFzIGRpc2Nvbm5lY3RJbnRlcmFjdGl2ZSwgdSBhcyB1cGRhdGVIb3N0SW50ZXJhY3Rpb24gfSBmcm9tICcuL2ludGVyYWN0aXZlLmpzJztcbmltcG9ydCB7IGMgYXMgY29tcG9uZW50Rm9jdXNhYmxlLCBhIGFzIHNldFVwTG9hZGFibGVDb21wb25lbnQsIHMgYXMgc2V0Q29tcG9uZW50TG9hZGVkIH0gZnJvbSAnLi9sb2FkYWJsZS5qcyc7XG5pbXBvcnQgeyBkIGFzIGRlZmluZUN1c3RvbUVsZW1lbnQkNCB9IGZyb20gJy4vaWNvbi5qcyc7XG5pbXBvcnQgeyBkIGFzIGRlZmluZUN1c3RvbUVsZW1lbnQkMyB9IGZyb20gJy4vbGluay5qcyc7XG5pbXBvcnQgeyBkIGFzIGRlZmluZUN1c3RvbUVsZW1lbnQkMiB9IGZyb20gJy4vdGlsZS5qcyc7XG5cbmNvbnN0IENTUyA9IHtcbiAgY2hlY2tlZDogXCJjaGVja2VkXCIsXG4gIGRlc2NyaXB0aW9uOiBcImRlc2NyaXB0aW9uXCIsXG4gIGRlc2NyaXB0aW9uT25seTogXCJkZXNjcmlwdGlvbi1vbmx5XCIsXG4gIGRpc2FibGVkOiBcImRpc2FibGVkXCIsXG4gIGhlYWRpbmc6IFwiaGVhZGluZ1wiLFxuICBoZWFkaW5nT25seTogXCJoZWFkaW5nLW9ubHlcIixcbiAgaWNvbjogXCJpY29uXCIsXG4gIGljb25Pbmx5OiBcImljb24tb25seVwiLFxuICBpbnB1dEFsaWdubWVudEVuZDogXCJpbnB1dC1hbGlnbm1lbnQtZW5kXCIsXG4gIGlucHV0QWxpZ25tZW50U3RhcnQ6IFwiaW5wdXQtYWxpZ25tZW50LXN0YXJ0XCIsXG4gIGlucHV0RW5hYmxlZDogXCJpbnB1dC1lbmFibGVkXCIsXG4gIGxhcmdlVmlzdWFsOiBcImxhcmdlLXZpc3VhbFwiLFxuICB3aWR0aEF1dG86IFwid2lkdGgtYXV0b1wiLFxuICB3aWR0aEZ1bGw6IFwid2lkdGgtZnVsbFwiLFxufTtcblxuY29uc3QgdGlsZVNlbGVjdENzcyA9IFwiOmhvc3QoW2Rpc2FibGVkXSl7Y3Vyc29yOmRlZmF1bHQ7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7b3BhY2l0eTp2YXIoLS1jYWxjaXRlLXVpLW9wYWNpdHktZGlzYWJsZWQpfTpob3N0KFtkaXNhYmxlZF0pICosOmhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKCope3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3R7ZGlzcGxheTpibG9ja306aG9zdCAuY29udGFpbmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1mb3JlZ3JvdW5kLTEpO2JveC1zaGFkb3c6MCAwIDAgMXB4IHZhcigtLWNhbGNpdGUtdWktYm9yZGVyLTIpO2JveC1zaXppbmc6Ym9yZGVyLWJveDtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmlubGluZS1ibG9jaztibG9jay1zaXplOjEwMCU7bWF4LWlubGluZS1zaXplOjMwMHB4O3BhZGRpbmc6MC43NXJlbTtwb3NpdGlvbjpyZWxhdGl2ZTt2ZXJ0aWNhbC1hbGlnbjp0b3A7dHJhbnNpdGlvbjphbGwgdmFyKC0tY2FsY2l0ZS1hbmltYXRpb24tdGltaW5nKSBlYXNlLWluLW91dCAwcywgb3V0bGluZSAwcywgb3V0bGluZS1vZmZzZXQgMHN9Omhvc3QgLmNvbnRhaW5lci5jaGVja2Vke3otaW5kZXg6dmFyKC0tY2FsY2l0ZS1hcHAtei1pbmRleCk7Ym94LXNoYWRvdzowIDAgMCAxcHggdmFyKC0tY2FsY2l0ZS11aS1icmFuZCl9Omhvc3QgLmNvbnRhaW5lci5oZWFkaW5nLW9ubHl7YWxpZ24taXRlbXM6Y2VudGVyfTpob3N0IC5jb250YWluZXI6bm90KC5pbnB1dC1lbmFibGVkKSA6OnNsb3R0ZWQoY2FsY2l0ZS1jaGVja2JveCksOmhvc3QgLmNvbnRhaW5lcjpub3QoLmlucHV0LWVuYWJsZWQpIDo6c2xvdHRlZChjYWxjaXRlLXJhZGlvLWJ1dHRvbil7cG9zaXRpb246YWJzb2x1dGU7aW5saW5lLXNpemU6MXB4O2Jsb2NrLXNpemU6MXB4O3BhZGRpbmc6MDttYXJnaW46LTFweDtvdmVyZmxvdzpoaWRkZW47Y2xpcDpyZWN0KDAsIDAsIDAsIDApO3doaXRlLXNwYWNlOm5vd3JhcDtib3JkZXItd2lkdGg6MH06aG9zdCAuY29udGFpbmVyLmZvY3VzZWR7b3V0bGluZS1jb2xvcjp0cmFuc3BhcmVudH06aG9zdCAuY29udGFpbmVyLmZvY3VzZWQ6bm90KC5kaXNhYmxlZCk6bm90KC5pbnB1dC1lbmFibGVkKXtvdXRsaW5lOjJweCBzb2xpZCB2YXIoLS1jYWxjaXRlLXVpLWZvY3VzLWNvbG9yLCB2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKSk7b3V0bGluZS1vZmZzZXQ6Y2FsYyhcXG4gICAgICAgICAgICAtMnB4ICpcXG4gICAgICAgICAgICBjYWxjKFxcbiAgICAgICAgICAgICAgMSAtXFxuICAgICAgICAgICAgICAyICogY2xhbXAoXFxuICAgICAgICAgICAgICAgIDAsXFxuICAgICAgICAgICAgICAgIHZhcigtLWNhbGNpdGUtdWktZm9jdXMtb2Zmc2V0LWludmVydCksXFxuICAgICAgICAgICAgICAgIDFcXG4gICAgICAgICAgICAgIClcXG4gICAgICAgICAgICApXFxuICAgICAgICAgICk7b3V0bGluZS1vZmZzZXQ6LTRweDtib3gtc2hhZG93OjAgMCAwIDFweCB2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKSwgaW5zZXQgMCAwIDAgMnB4IHZhcigtLWNhbGNpdGUtdWktZm9yZWdyb3VuZC0xKX06aG9zdCAuY29udGFpbmVyLmlucHV0LWVuYWJsZWQuaW5wdXQtYWxpZ25tZW50LXN0YXJ0LndpZHRoLWF1dG8uaGVhZGluZy1vbmx5LDpob3N0IC5jb250YWluZXIuaW5wdXQtZW5hYmxlZC5pbnB1dC1hbGlnbm1lbnQtc3RhcnQud2lkdGgtYXV0by5pY29uLW9ubHksOmhvc3QgLmNvbnRhaW5lci5pbnB1dC1lbmFibGVkLmlucHV0LWFsaWdubWVudC1zdGFydC53aWR0aC1hdXRvLmRlc2NyaXB0aW9uLW9ubHksOmhvc3QgLmNvbnRhaW5lci5pbnB1dC1lbmFibGVkLmlucHV0LWFsaWdubWVudC1zdGFydC53aWR0aC1hdXRvLmhlYWRpbmcuZGVzY3JpcHRpb24sOmhvc3QgLmNvbnRhaW5lci5pbnB1dC1lbmFibGVkLmlucHV0LWFsaWdubWVudC1zdGFydC53aWR0aC1hdXRvLmljb24uZGVzY3JpcHRpb24sOmhvc3QgLmNvbnRhaW5lci5pbnB1dC1lbmFibGVkLmlucHV0LWFsaWdubWVudC1zdGFydC53aWR0aC1hdXRvLmhlYWRpbmcuaWNvbi5kZXNjcmlwdGlvbntkaXNwbGF5OmlubGluZS1ncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczptYXgtY29udGVudCAxZnJ9Omhvc3QgLmNvbnRhaW5lci5pbnB1dC1lbmFibGVkLmlucHV0LWFsaWdubWVudC1zdGFydC5oZWFkaW5nLW9ubHksOmhvc3QgLmNvbnRhaW5lci5pbnB1dC1lbmFibGVkLmlucHV0LWFsaWdubWVudC1zdGFydC5pY29uLW9ubHksOmhvc3QgLmNvbnRhaW5lci5pbnB1dC1lbmFibGVkLmlucHV0LWFsaWdubWVudC1zdGFydC5kZXNjcmlwdGlvbi1vbmx5LDpob3N0IC5jb250YWluZXIuaW5wdXQtZW5hYmxlZC5pbnB1dC1hbGlnbm1lbnQtc3RhcnQuaGVhZGluZy5kZXNjcmlwdGlvbiw6aG9zdCAuY29udGFpbmVyLmlucHV0LWVuYWJsZWQuaW5wdXQtYWxpZ25tZW50LXN0YXJ0Lmljb24uZGVzY3JpcHRpb24sOmhvc3QgLmNvbnRhaW5lci5pbnB1dC1lbmFibGVkLmlucHV0LWFsaWdubWVudC1zdGFydC5oZWFkaW5nLmljb24uZGVzY3JpcHRpb257Z2FwOjAuNzVyZW19Omhvc3QgLmNvbnRhaW5lci5pbnB1dC1lbmFibGVkLmlucHV0LWFsaWdubWVudC1zdGFydCBjYWxjaXRlLXRpbGV7b3JkZXI6MX06aG9zdCAuY29udGFpbmVyLmlucHV0LWVuYWJsZWQuaW5wdXQtYWxpZ25tZW50LXN0YXJ0LmxhcmdlLXZpc3VhbCA6OnNsb3R0ZWQoY2FsY2l0ZS1jaGVja2JveCksOmhvc3QgLmNvbnRhaW5lci5pbnB1dC1lbmFibGVkLmlucHV0LWFsaWdubWVudC1zdGFydC5sYXJnZS12aXN1YWwgOjpzbG90dGVkKGNhbGNpdGUtcmFkaW8tYnV0dG9uKXtwb3NpdGlvbjphYnNvbHV0ZTtpbnNldC1ibG9jay1zdGFydDowLjc1cmVtO2luc2V0LWlubGluZS1zdGFydDowLjc1cmVtfTpob3N0IC5jb250YWluZXIuaW5wdXQtZW5hYmxlZC5pbnB1dC1hbGlnbm1lbnQtZW5kLndpZHRoLWF1dG8uaGVhZGluZy1vbmx5LDpob3N0IC5jb250YWluZXIuaW5wdXQtZW5hYmxlZC5pbnB1dC1hbGlnbm1lbnQtZW5kLndpZHRoLWF1dG8uaWNvbi1vbmx5e2Rpc3BsYXk6aW5saW5lLWdyaWQ7Z3JpZC1nYXA6MC43NXJlbTtncmlkLXRlbXBsYXRlLWNvbHVtbnM6bWF4LWNvbnRlbnQgMWZyfTpob3N0IC5jb250YWluZXIuaW5wdXQtZW5hYmxlZC5pbnB1dC1hbGlnbm1lbnQtZW5kLmhlYWRpbmctb25seSw6aG9zdCAuY29udGFpbmVyLmlucHV0LWVuYWJsZWQuaW5wdXQtYWxpZ25tZW50LWVuZC5pY29uLW9ubHl7Z2FwOjAuNzVyZW19Omhvc3QgLmNvbnRhaW5lci5pbnB1dC1lbmFibGVkLmlucHV0LWFsaWdubWVudC1lbmQuZGVzY3JpcHRpb24tb25seSA6OnNsb3R0ZWQoY2FsY2l0ZS1jaGVja2JveCksOmhvc3QgLmNvbnRhaW5lci5pbnB1dC1lbmFibGVkLmlucHV0LWFsaWdubWVudC1lbmQuZGVzY3JpcHRpb24tb25seSA6OnNsb3R0ZWQoY2FsY2l0ZS1yYWRpby1idXR0b24pLDpob3N0IC5jb250YWluZXIuaW5wdXQtZW5hYmxlZC5pbnB1dC1hbGlnbm1lbnQtZW5kLmhlYWRpbmcuZGVzY3JpcHRpb24gOjpzbG90dGVkKGNhbGNpdGUtY2hlY2tib3gpLDpob3N0IC5jb250YWluZXIuaW5wdXQtZW5hYmxlZC5pbnB1dC1hbGlnbm1lbnQtZW5kLmhlYWRpbmcuZGVzY3JpcHRpb24gOjpzbG90dGVkKGNhbGNpdGUtcmFkaW8tYnV0dG9uKSw6aG9zdCAuY29udGFpbmVyLmlucHV0LWVuYWJsZWQuaW5wdXQtYWxpZ25tZW50LWVuZC5pY29uLmRlc2NyaXB0aW9uIDo6c2xvdHRlZChjYWxjaXRlLWNoZWNrYm94KSw6aG9zdCAuY29udGFpbmVyLmlucHV0LWVuYWJsZWQuaW5wdXQtYWxpZ25tZW50LWVuZC5pY29uLmRlc2NyaXB0aW9uIDo6c2xvdHRlZChjYWxjaXRlLXJhZGlvLWJ1dHRvbiksOmhvc3QgLmNvbnRhaW5lci5pbnB1dC1lbmFibGVkLmlucHV0LWFsaWdubWVudC1lbmQuaGVhZGluZy5pY29uLmRlc2NyaXB0aW9uIDo6c2xvdHRlZChjYWxjaXRlLWNoZWNrYm94KSw6aG9zdCAuY29udGFpbmVyLmlucHV0LWVuYWJsZWQuaW5wdXQtYWxpZ25tZW50LWVuZC5oZWFkaW5nLmljb24uZGVzY3JpcHRpb24gOjpzbG90dGVkKGNhbGNpdGUtcmFkaW8tYnV0dG9uKXtwb3NpdGlvbjphYnNvbHV0ZTtpbnNldC1ibG9jay1zdGFydDowLjc1cmVtO2luc2V0LWlubGluZS1lbmQ6MC43NXJlbX06aG9zdCAuY29udGFpbmVyLmlucHV0LWVuYWJsZWQuaW5wdXQtYWxpZ25tZW50LWVuZC5sYXJnZS12aXN1YWwgOjpzbG90dGVkKGNhbGNpdGUtY2hlY2tib3gpLDpob3N0IC5jb250YWluZXIuaW5wdXQtZW5hYmxlZC5pbnB1dC1hbGlnbm1lbnQtZW5kLmxhcmdlLXZpc3VhbCA6OnNsb3R0ZWQoY2FsY2l0ZS1yYWRpby1idXR0b24pe3Bvc2l0aW9uOmFic29sdXRlO2luc2V0LWJsb2NrLXN0YXJ0OjAuNzVyZW07aW5zZXQtaW5saW5lLWVuZDowLjc1cmVtfTpob3N0IC5jb250YWluZXIud2lkdGgtZnVsbHtkaXNwbGF5OmZsZXg7bWF4LWlubGluZS1zaXplOm5vbmV9Omhvc3QgLmNvbnRhaW5lci53aWR0aC1mdWxsIGNhbGNpdGUtdGlsZXtmbGV4OjEgMSBhdXRvfTpob3N0KDpob3ZlcikgLmNvbnRhaW5lcjpub3QoLmlucHV0LWVuYWJsZWQpe2JveC1zaGFkb3c6MCAwIDAgMXB4IHZhcigtLWNhbGNpdGUtdWktYnJhbmQpfTpob3N0KFtkaXNhYmxlZF0pIDo6c2xvdHRlZChbY2FsY2l0ZS1oeWRyYXRlZF1bZGlzYWJsZWRdKSw6aG9zdChbZGlzYWJsZWRdKSBbY2FsY2l0ZS1oeWRyYXRlZF1bZGlzYWJsZWRde29wYWNpdHk6MX06aG9zdChbaGlkZGVuXSl7ZGlzcGxheTpub25lfVtoaWRkZW5de2Rpc3BsYXk6bm9uZX1cIjtcblxuY29uc3QgVGlsZVNlbGVjdCA9IC8qQF9fUFVSRV9fKi8gcHJveHlDdXN0b21FbGVtZW50KGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICB0aGlzLl9fYXR0YWNoU2hhZG93KCk7XG4gICAgdGhpcy5jYWxjaXRlVGlsZVNlbGVjdENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FsY2l0ZVRpbGVTZWxlY3RDaGFuZ2VcIiwgNik7XG4gICAgdGhpcy5ndWlkID0gYGNhbGNpdGUtdGlsZS1zZWxlY3QtJHtndWlkKCl9YDtcbiAgICB0aGlzLmNoZWNrZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmhlYWRpbmcgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5oaWRkZW4gPSBmYWxzZTtcbiAgICB0aGlzLmljb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pY29uRmxpcFJ0bCA9IGZhbHNlO1xuICAgIHRoaXMubmFtZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmlucHV0RW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuaW5wdXRBbGlnbm1lbnQgPSBcInN0YXJ0XCI7XG4gICAgdGhpcy50eXBlID0gXCJyYWRpb1wiO1xuICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy53aWR0aCA9IFwiYXV0b1wiO1xuICAgIHRoaXMuZm9jdXNlZCA9IGZhbHNlO1xuICB9XG4gIGNoZWNrZWRDaGFuZ2VkKG5ld0NoZWNrZWQpIHtcbiAgICB0aGlzLmlucHV0LmNoZWNrZWQgPSBuZXdDaGVja2VkO1xuICB9XG4gIG5hbWVDaGFuZ2VkKG5ld05hbWUpIHtcbiAgICB0aGlzLmlucHV0Lm5hbWUgPSBuZXdOYW1lO1xuICB9XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFB1YmxpYyBNZXRob2RzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLyoqIFNldHMgZm9jdXMgb24gdGhlIGNvbXBvbmVudC4gKi9cbiAgYXN5bmMgc2V0Rm9jdXMoKSB7XG4gICAgYXdhaXQgY29tcG9uZW50Rm9jdXNhYmxlKHRoaXMpO1xuICAgIHJldHVybiB0aGlzLmlucHV0Py5zZXRGb2N1cygpO1xuICB9XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIEV2ZW50IExpc3RlbmVyc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGNoZWNrYm94Q2hhbmdlSGFuZGxlcihldmVudCkge1xuICAgIGNvbnN0IGNoZWNrYm94ID0gZXZlbnQudGFyZ2V0O1xuICAgIGlmIChjaGVja2JveCA9PT0gdGhpcy5pbnB1dCkge1xuICAgICAgdGhpcy5jaGVja2VkID0gY2hlY2tib3guY2hlY2tlZDtcbiAgICB9XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5jYWxjaXRlVGlsZVNlbGVjdENoYW5nZS5lbWl0KCk7XG4gIH1cbiAgY2hlY2tib3hGb2N1c0JsdXJIYW5kbGVyKGV2ZW50KSB7XG4gICAgY29uc3QgY2hlY2tib3ggPSBldmVudC50YXJnZXQ7XG4gICAgaWYgKGNoZWNrYm94ID09PSB0aGlzLmlucHV0KSB7XG4gICAgICB0aGlzLmZvY3VzZWQgPSBldmVudC5kZXRhaWw7XG4gICAgfVxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG4gIHJhZGlvQnV0dG9uQ2hhbmdlSGFuZGxlcihldmVudCkge1xuICAgIGNvbnN0IHJhZGlvQnV0dG9uID0gZXZlbnQudGFyZ2V0O1xuICAgIGlmIChyYWRpb0J1dHRvbiA9PT0gdGhpcy5pbnB1dCkge1xuICAgICAgdGhpcy5jaGVja2VkID0gcmFkaW9CdXR0b24uY2hlY2tlZDtcbiAgICB9XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5jYWxjaXRlVGlsZVNlbGVjdENoYW5nZS5lbWl0KCk7XG4gIH1cbiAgcmFkaW9CdXR0b25DaGVja2VkQ2hhbmdlSGFuZGxlcihldmVudCkge1xuICAgIGNvbnN0IHJhZGlvQnV0dG9uID0gZXZlbnQudGFyZ2V0O1xuICAgIGlmIChyYWRpb0J1dHRvbiA9PT0gdGhpcy5pbnB1dCkge1xuICAgICAgdGhpcy5jaGVja2VkID0gcmFkaW9CdXR0b24uY2hlY2tlZDtcbiAgICB9XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbiAgcmFkaW9CdXR0b25Gb2N1c0JsdXJIYW5kbGVyKGV2ZW50KSB7XG4gICAgY29uc3QgcmFkaW9CdXR0b24gPSBldmVudC50YXJnZXQ7XG4gICAgaWYgKHJhZGlvQnV0dG9uID09PSB0aGlzLmlucHV0KSB7XG4gICAgICB0aGlzLmZvY3VzZWQgPSByYWRpb0J1dHRvbi5mb2N1c2VkO1xuICAgIH1cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuICBjbGlja0hhbmRsZXIoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgY29uc3QgdGFyZ2V0cyA9IFtcImNhbGNpdGUtdGlsZVwiLCBcImNhbGNpdGUtdGlsZS1zZWxlY3RcIl07XG4gICAgaWYgKHRhcmdldHMuaW5jbHVkZXModGFyZ2V0LmxvY2FsTmFtZSkpIHtcbiAgICAgIHRoaXMuaW5wdXQuY2xpY2soKTtcbiAgICB9XG4gIH1cbiAgcG9pbnRlckVudGVySGFuZGxlcigpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IGxvY2FsTmFtZSB9ID0gdGhpcy5pbnB1dDtcbiAgICBpZiAobG9jYWxOYW1lID09PSBcImNhbGNpdGUtcmFkaW8tYnV0dG9uXCIgfHwgbG9jYWxOYW1lID09PSBcImNhbGNpdGUtY2hlY2tib3hcIikge1xuICAgICAgdGhpcy5pbnB1dC5ob3ZlcmVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcG9pbnRlckxlYXZlSGFuZGxlcigpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IGxvY2FsTmFtZSB9ID0gdGhpcy5pbnB1dDtcbiAgICBpZiAobG9jYWxOYW1lID09PSBcImNhbGNpdGUtcmFkaW8tYnV0dG9uXCIgfHwgbG9jYWxOYW1lID09PSBcImNhbGNpdGUtY2hlY2tib3hcIikge1xuICAgICAgdGhpcy5pbnB1dC5ob3ZlcmVkID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIExpZmVjeWNsZVxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMucmVuZGVySW5wdXQoKTtcbiAgICBjb25uZWN0SW50ZXJhY3RpdmUodGhpcyk7XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgc2V0VXBMb2FkYWJsZUNvbXBvbmVudCh0aGlzKTtcbiAgfVxuICBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIHNldENvbXBvbmVudExvYWRlZCh0aGlzKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmlucHV0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5pbnB1dCk7XG4gICAgZGlzY29ubmVjdEludGVyYWN0aXZlKHRoaXMpO1xuICB9XG4gIGNvbXBvbmVudERpZFJlbmRlcigpIHtcbiAgICB1cGRhdGVIb3N0SW50ZXJhY3Rpb24odGhpcyk7XG4gIH1cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFJlbmRlciBNZXRob2RzXG4gIC8vXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHJlbmRlcklucHV0KCkge1xuICAgIHRoaXMuaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMudHlwZSA9PT0gXCJyYWRpb1wiID8gXCJjYWxjaXRlLXJhZGlvLWJ1dHRvblwiIDogXCJjYWxjaXRlLWNoZWNrYm94XCIpO1xuICAgIHRoaXMuaW5wdXQuY2hlY2tlZCA9IHRoaXMuY2hlY2tlZDtcbiAgICB0aGlzLmlucHV0LmRpc2FibGVkID0gdGhpcy5kaXNhYmxlZDtcbiAgICB0aGlzLmlucHV0LmhpZGRlbiA9IHRoaXMuaGlkZGVuO1xuICAgIHRoaXMuaW5wdXQuaWQgPSB0aGlzLmd1aWQ7XG4gICAgdGhpcy5pbnB1dC5sYWJlbCA9IHRoaXMuaGVhZGluZyB8fCB0aGlzLm5hbWUgfHwgXCJcIjtcbiAgICBpZiAodGhpcy5uYW1lKSB7XG4gICAgICB0aGlzLmlucHV0Lm5hbWUgPSB0aGlzLm5hbWU7XG4gICAgfVxuICAgIGlmICh0aGlzLnZhbHVlKSB7XG4gICAgICB0aGlzLmlucHV0LnZhbHVlID0gdGhpcy52YWx1ZSAhPSBudWxsID8gdGhpcy52YWx1ZS50b1N0cmluZygpIDogXCJcIjtcbiAgICB9XG4gICAgdGhpcy5lbC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIiwgdGhpcy5pbnB1dCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY2hlY2tlZCwgZGVzY3JpcHRpb24sIGRpc2FibGVkLCBmb2N1c2VkLCBoZWFkaW5nLCBpY29uLCBpbnB1dEFsaWdubWVudCwgaW5wdXRFbmFibGVkLCB3aWR0aCwgaWNvbkZsaXBSdGwsIH0gPSB0aGlzO1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiB7XG4gICAgICAgIGNoZWNrZWQsXG4gICAgICAgIGNvbnRhaW5lcjogdHJ1ZSxcbiAgICAgICAgW0NTUy5kZXNjcmlwdGlvbl06IEJvb2xlYW4oZGVzY3JpcHRpb24pLFxuICAgICAgICBbQ1NTLmRlc2NyaXB0aW9uT25seV06IEJvb2xlYW4oIWhlYWRpbmcgJiYgIWljb24gJiYgZGVzY3JpcHRpb24pLFxuICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgZm9jdXNlZCxcbiAgICAgICAgW0NTUy5oZWFkaW5nXTogQm9vbGVhbihoZWFkaW5nKSxcbiAgICAgICAgW0NTUy5oZWFkaW5nT25seV06IGhlYWRpbmcgJiYgIWljb24gJiYgIWRlc2NyaXB0aW9uLFxuICAgICAgICBbQ1NTLmljb25dOiBCb29sZWFuKGljb24pLFxuICAgICAgICBbQ1NTLmljb25Pbmx5XTogIWhlYWRpbmcgJiYgaWNvbiAmJiAhZGVzY3JpcHRpb24sXG4gICAgICAgIFtDU1MuaW5wdXRBbGlnbm1lbnRFbmRdOiBpbnB1dEFsaWdubWVudCA9PT0gXCJlbmRcIixcbiAgICAgICAgW0NTUy5pbnB1dEFsaWdubWVudFN0YXJ0XTogaW5wdXRBbGlnbm1lbnQgPT09IFwic3RhcnRcIixcbiAgICAgICAgW0NTUy5pbnB1dEVuYWJsZWRdOiBpbnB1dEVuYWJsZWQsXG4gICAgICAgIFtDU1MubGFyZ2VWaXN1YWxdOiBoZWFkaW5nICYmIGljb24gJiYgIWRlc2NyaXB0aW9uLFxuICAgICAgICBbQ1NTLndpZHRoQXV0b106IHdpZHRoID09PSBcImF1dG9cIixcbiAgICAgICAgW0NTUy53aWR0aEZ1bGxdOiB3aWR0aCA9PT0gXCJmdWxsXCIsXG4gICAgICB9IH0sIGgoXCJjYWxjaXRlLXRpbGVcIiwgeyBhY3RpdmU6IGNoZWNrZWQsIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiwgZW1iZWQ6IHRydWUsIGhlYWRpbmc6IGhlYWRpbmcsIGljb246IGljb24sIGljb25GbGlwUnRsOiBpY29uRmxpcFJ0bCB9KSwgaChcInNsb3RcIiwgbnVsbCkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJjaGVja2VkXCI6IFtcImNoZWNrZWRDaGFuZ2VkXCJdLFxuICAgIFwibmFtZVwiOiBbXCJuYW1lQ2hhbmdlZFwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiB0aWxlU2VsZWN0Q3NzOyB9XG59LCBbMSwgXCJjYWxjaXRlLXRpbGUtc2VsZWN0XCIsIHtcbiAgICBcImNoZWNrZWRcIjogWzE1NDBdLFxuICAgIFwiZGVzY3JpcHRpb25cIjogWzUxM10sXG4gICAgXCJkaXNhYmxlZFwiOiBbNTE2XSxcbiAgICBcImhlYWRpbmdcIjogWzUxM10sXG4gICAgXCJoaWRkZW5cIjogWzUxNl0sXG4gICAgXCJpY29uXCI6IFs1MTNdLFxuICAgIFwiaWNvbkZsaXBSdGxcIjogWzUxNiwgXCJpY29uLWZsaXAtcnRsXCJdLFxuICAgIFwibmFtZVwiOiBbNTIwXSxcbiAgICBcImlucHV0RW5hYmxlZFwiOiBbNTE2LCBcImlucHV0LWVuYWJsZWRcIl0sXG4gICAgXCJpbnB1dEFsaWdubWVudFwiOiBbNTEzLCBcImlucHV0LWFsaWdubWVudFwiXSxcbiAgICBcInR5cGVcIjogWzUxM10sXG4gICAgXCJ2YWx1ZVwiOiBbOF0sXG4gICAgXCJ3aWR0aFwiOiBbNTEzXSxcbiAgICBcImZvY3VzZWRcIjogWzMyXSxcbiAgICBcInNldEZvY3VzXCI6IFs2NF1cbiAgfSwgW1swLCBcImNhbGNpdGVDaGVja2JveENoYW5nZVwiLCBcImNoZWNrYm94Q2hhbmdlSGFuZGxlclwiXSwgWzAsIFwiY2FsY2l0ZUludGVybmFsQ2hlY2tib3hGb2N1c1wiLCBcImNoZWNrYm94Rm9jdXNCbHVySGFuZGxlclwiXSwgWzAsIFwiY2FsY2l0ZUludGVybmFsQ2hlY2tib3hCbHVyXCIsIFwiY2hlY2tib3hGb2N1c0JsdXJIYW5kbGVyXCJdLCBbMCwgXCJjYWxjaXRlUmFkaW9CdXR0b25DaGFuZ2VcIiwgXCJyYWRpb0J1dHRvbkNoYW5nZUhhbmRsZXJcIl0sIFswLCBcImNhbGNpdGVJbnRlcm5hbFJhZGlvQnV0dG9uQ2hlY2tlZENoYW5nZVwiLCBcInJhZGlvQnV0dG9uQ2hlY2tlZENoYW5nZUhhbmRsZXJcIl0sIFswLCBcImNhbGNpdGVJbnRlcm5hbFJhZGlvQnV0dG9uRm9jdXNcIiwgXCJyYWRpb0J1dHRvbkZvY3VzQmx1ckhhbmRsZXJcIl0sIFswLCBcImNhbGNpdGVJbnRlcm5hbFJhZGlvQnV0dG9uQmx1clwiLCBcInJhZGlvQnV0dG9uRm9jdXNCbHVySGFuZGxlclwiXSwgWzAsIFwiY2xpY2tcIiwgXCJjbGlja0hhbmRsZXJcIl0sIFsxLCBcInBvaW50ZXJlbnRlclwiLCBcInBvaW50ZXJFbnRlckhhbmRsZXJcIl0sIFsxLCBcInBvaW50ZXJsZWF2ZVwiLCBcInBvaW50ZXJMZWF2ZUhhbmRsZXJcIl1dXSk7XG5mdW5jdGlvbiBkZWZpbmVDdXN0b21FbGVtZW50JDEoKSB7XG4gIGlmICh0eXBlb2YgY3VzdG9tRWxlbWVudHMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY29tcG9uZW50cyA9IFtcImNhbGNpdGUtdGlsZS1zZWxlY3RcIiwgXCJjYWxjaXRlLWljb25cIiwgXCJjYWxjaXRlLWxpbmtcIiwgXCJjYWxjaXRlLXRpbGVcIl07XG4gIGNvbXBvbmVudHMuZm9yRWFjaCh0YWdOYW1lID0+IHsgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgY2FzZSBcImNhbGNpdGUtdGlsZS1zZWxlY3RcIjpcbiAgICAgIGlmICghY3VzdG9tRWxlbWVudHMuZ2V0KHRhZ05hbWUpKSB7XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBUaWxlU2VsZWN0KTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjYWxjaXRlLWljb25cIjpcbiAgICAgIGlmICghY3VzdG9tRWxlbWVudHMuZ2V0KHRhZ05hbWUpKSB7XG4gICAgICAgIGRlZmluZUN1c3RvbUVsZW1lbnQkNCgpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImNhbGNpdGUtbGlua1wiOlxuICAgICAgaWYgKCFjdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpIHtcbiAgICAgICAgZGVmaW5lQ3VzdG9tRWxlbWVudCQzKCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiY2FsY2l0ZS10aWxlXCI6XG4gICAgICBpZiAoIWN1c3RvbUVsZW1lbnRzLmdldCh0YWdOYW1lKSkge1xuICAgICAgICBkZWZpbmVDdXN0b21FbGVtZW50JDIoKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9IH0pO1xufVxuZGVmaW5lQ3VzdG9tRWxlbWVudCQxKCk7XG5cbmNvbnN0IENhbGNpdGVUaWxlU2VsZWN0ID0gVGlsZVNlbGVjdDtcbmNvbnN0IGRlZmluZUN1c3RvbUVsZW1lbnQgPSBkZWZpbmVDdXN0b21FbGVtZW50JDE7XG5cbmV4cG9ydCB7IENhbGNpdGVUaWxlU2VsZWN0LCBkZWZpbmVDdXN0b21FbGVtZW50IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=