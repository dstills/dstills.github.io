"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_widgets_TableList_js"],{

/***/ "./node_modules/@arcgis/core/support/actions/ActionSlider.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/support/actions/ActionSlider.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _ActionBase_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ActionBase.js */ "./node_modules/@arcgis/core/support/actions/ActionBase.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var o;let r=o=class extends _ActionBase_js__WEBPACK_IMPORTED_MODULE_6__["default"]{constructor(s){super(s),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new o({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],r.prototype,"displayValueEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],r.prototype,"max",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],r.prototype,"min",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],r.prototype,"step",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],r.prototype,"value",void 0),r=o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.support.Action.ActionSlider")],r);const a=r;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/LayerList/support/layerListUtils.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/LayerList/support/layerListUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   canDisplayLayer: () => (/* binding */ a),
/* harmony export */   canSortSublayers: () => (/* binding */ u),
/* harmony export */   findLayerListMode: () => (/* binding */ i),
/* harmony export */   findLayerMaxScale: () => (/* binding */ l),
/* harmony export */   findLayerMinScale: () => (/* binding */ e),
/* harmony export */   findLayerVisibilityMode: () => (/* binding */ r),
/* harmony export */   findSelectedItem: () => (/* binding */ d),
/* harmony export */   getItemLayers: () => (/* binding */ y),
/* harmony export */   getLegendLayerInfo: () => (/* binding */ f),
/* harmony export */   getNormalizedChildLayerProperty: () => (/* binding */ t),
/* harmony export */   isLayerOutsideScaleRange: () => (/* binding */ s),
/* harmony export */   isSublayer: () => (/* binding */ p),
/* harmony export */   sortChildLayersToIds: () => (/* binding */ c),
/* harmony export */   sortLayersToIds: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n={hide:"hide",hideChildren:"hide-children"};function i(n){if(n)return null!=n.listMode?n.listMode:void 0}function e(n){return null!=n&&"minScale"in n&&null!=n.minScale?n.minScale:void 0}function l(n){return null!=n&&"maxScale"in n&&null!=n.maxScale?n.maxScale:void 0}function r(n){if(!n)return"inherited";const i=b(p(n)?n.layer:n);return null!=i?i?"independent":"inherited":"visibilityMode"in n&&null!=n.visibilityMode?n.visibilityMode:"independent"}function t(i){if(i&&(!("type"in i)||"wmts"!==i.type)&&i.listMode!==n.hideChildren)return"sublayers"in i?"sublayers":"layers"in i?"layers":void 0}function u(n){const i=(n?.layer&&p(n.layer)?n.layer.layer:void 0)??n?.layer;return!!i&&(m(i)??!0)}function a(e){return i(e)!==n.hide}function s(n,i){if(!n||null==i||isNaN(i))return!1;const r=e(n),t=l(n),u=null!=r&&!isNaN(r)&&r>0&&i>r,a=null!=t&&!isNaN(t)&&t>0&&i<t;return u||a}function o(n,i){n?.sort(((n,e)=>{const l="uid"in n?i.indexOf(n.uid):-1,r="uid"in e?i.indexOf(e.uid):-1;return l>r?-1:l<r?1:0}))}function c(n,i){const e=n?.layer;if(!e)return;const l=t(e);if(!l)return;let r;"layers"===l&&"layers"in e?r=e.layers:"sublayers"===l&&"sublayers"in e&&(r=e.sublayers),o(r,i)}function y(n){const i=n?.layer;return i&&"layers"in i?i.layers:null}function d(n,i){const e=n.layer?.uid;return null!=e?i.find((n=>n.layer?.uid===e)):null}function f(n){const i=p(n)?n:null,e=n?.parent,l=null!=e&&"type"in e&&"map-image"===e.type?i?.source:null,r="";return l&&e?{layer:e,title:r,sublayerIds:[l.mapLayerId]}:{layer:n,title:r}}function p(n){return null!=n&&"layer"in n&&null!=n.layer}function b(n){const i=h(n);return null!=i&&"supportsSublayerVisibility"in i?i.supportsSublayerVisibility:void 0}function m(n){const i=h(n);return null!=i&&"supportsDynamicLayers"in i?i.supportsDynamicLayers:void 0}function h(n){return n&&"capabilities"in n&&null!=n.capabilities&&"exportMap"in n.capabilities?n.capabilities.exportMap:void 0}


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/TableList.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/TableList.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ L)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_events_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/events.js */ "./node_modules/@arcgis/core/core/events.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Widget_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Widget.js */ "./node_modules/@arcgis/core/widgets/Widget.js");
/* harmony import */ var _support_globalCss_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/globalCss.js */ "./node_modules/@arcgis/core/widgets/support/globalCss.js");
/* harmony import */ var _support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./support/legacyIcon.js */ "./node_modules/@arcgis/core/widgets/support/legacyIcon.js");
/* harmony import */ var _support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/decorators/accessibleHandler.js */ "./node_modules/@arcgis/core/widgets/support/decorators/accessibleHandler.js");
/* harmony import */ var _support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/decorators/messageBundle.js */ "./node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js");
/* harmony import */ var _support_decorators_vmEvent_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./support/decorators/vmEvent.js */ "./node_modules/@arcgis/core/widgets/support/decorators/vmEvent.js");
/* harmony import */ var _support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./support/jsxFactory.js */ "./node_modules/@arcgis/core/widgets/support/jsxFactory.js");
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./support/widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var _TableList_ListItem_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./TableList/ListItem.js */ "./node_modules/@arcgis/core/widgets/TableList/ListItem.js");
/* harmony import */ var _TableList_TableListViewModel_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./TableList/TableListViewModel.js */ "./node_modules/@arcgis/core/widgets/TableList/TableListViewModel.js");
/* harmony import */ var _TableList_support_tableListUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./TableList/support/tableListUtils.js */ "./node_modules/@arcgis/core/widgets/TableList/support/tableListUtils.js");
/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! sortablejs */ "./node_modules/sortablejs/modular/sortable.esm.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function v(t,e,s){t.splice(s,0,t.splice(e,1)[0])}const f=_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(_TableList_ListItem_js__WEBPACK_IMPORTED_MODULE_17__["default"]),A="root-tables",S="data-layer-uid",w="layerUid",C="esri-table-list",T={base:C,widgetIcon:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_11__.legacyIcon.table,noItems:`${C}__no-items`,list:`${C}__list`,listRoot:`${C}__list--root`,item:`${C}__item`,itemChosen:`${C}__item--chosen`,itemMessage:`${C}__item--has-message`,itemSelectable:`${C}__item--selectable`,itemContainer:`${C}__item-container`,actionsMenu:`${C}__item-actions-menu`,actionsMenuItem:`${C}__item-actions-menu-item`,actionsMenuItemActive:`${C}__item-actions-menu-item--active`,actions:`${C}__item-actions`,actionsList:`${C}__item-actions-list`,action:`${C}__item-action`,actionIcon:`${C}__item-action-icon`,actionImage:`${C}__item-action-image`,actionTitle:`${C}__item-action-title`,actionToggle:`${C}__action-toggle`,actionToggleOn:`${C}__action-toggle--on`,message:`${C}__item-message`,title:`${C}__item-title`,publishing:`${C}__publishing`},$={actions:"actions",actionSection:"action-section",items:"items"};function M(t){const{actionsOpen:e}=t;e&&(t.actionsOpen=!1)}const k={statusIndicators:!0,errors:!1};let E=class extends _Widget_js__WEBPACK_IMPORTED_MODULE_9__["default"]{constructor(t,e){super(t,e),this._sortable=null,this._sortableNode=null,this._focusSortUid=null,this.visibleItems=null,this.iconClass=T.widgetIcon,this.icon=null,this.messages=null,this.messagesCommon=null,this.multipleSelectionEnabled=!1,this.selectionEnabled=!1,this.selectedItems=new f,this.viewModel=new _TableList_TableListViewModel_js__WEBPACK_IMPORTED_MODULE_18__["default"],this.visibleElements={...k}}initialize(){this._setVisibleItems(this.tableItems),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.visibleElements),(()=>this._itemsChanged())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.viewModel.tableItems),"change",(()=>this._itemsChanged())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.selectionEnabled),(()=>this._toggleSorting()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial)])}destroy(){this._destroySortable()}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(t){this.viewModel.listItemCreatedFunction=t}get map(){return this.viewModel.map}set map(t){this.viewModel.map=t}get tableItems(){return this.viewModel.tableItems}castVisibleElements(t){return{...k,...t}}triggerAction(t,e){return this.viewModel.triggerAction(t,e)}render(){const{visibleItems:t}=this,e=this.viewModel?.state,s={[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_10__.globalCss.hidden]:"loading"===e,[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_10__.globalCss.disabled]:"disabled"===e};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:this.classes(T.base,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_10__.globalCss.widget,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_10__.globalCss.panel,s)},t?.length?this._renderList():this._renderNoItems())}_renderNoItems(){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:T.noItems},this.messages.noItemsToDisplay)}_renderList(){const{visibleItems:t,messages:e,selectionEnabled:s}=this;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("ul",{afterCreate:this._sortNodeCreated,afterRemoved:this._destroySortable,"aria-label":e.widgetLabel,bind:this,class:this.classes(T.list,T.listRoot),"data-node-ref":"_sortableNode",role:s?"listbox":void 0},t?.map((t=>this._renderItem(t))).toArray())}_renderItem(t){const{id:e,selectionEnabled:s,selectedItems:i}=this,o=`${`${e}_${t.uid}`}__title`,n=this._hasMessage(t),r={[T.itemMessage]:!!n,[T.itemSelectable]:s};if(s){const e={[S]:t.layer?.uid};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("li",{afterCreate:this._focusListItem,afterUpdate:this._focusListItem,"aria-labelledby":o,"aria-selected":(0,_TableList_support_tableListUtils_js__WEBPACK_IMPORTED_MODULE_19__.findSelectedItem)(t,i)?"true":"false",bind:this,class:this.classes(T.item,r),"data-item":t,key:`item-with-selection-${t.uid}`,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,role:"option",tabIndex:0,...e},this._renderItemContent(t,o))}return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("li",{afterCreate:this._focusListItem,afterUpdate:this._focusListItem,"aria-labelledby":o,bind:this,class:this.classes(T.item,r),key:`item-no-selection-${t.uid}`},this._renderItemContent(t,o))}_renderActionsMenuIcon(t,e){const{messagesCommon:s}=this,i={[T.actionsMenuItemActive]:t.actionsOpen};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{"aria-controls":e,"aria-label":s.options,bind:this,class:this.classes(T.actionsMenuItem,i),"data-item":t,key:"actions-menu-toggle",onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,role:"button",tabIndex:0,title:s.options},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("span",{"aria-hidden":"true",class:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_11__.legacyIcon.handleHorizontal}))}_renderActionsMenu(t,e,s,i){const o=1===s&&this._getSingleActionButton(e),n=o?this._renderAction({item:t,action:o,singleAction:!0}):null,r=!o&&s?this._renderActionsMenuIcon(t,i):null;return r||o?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:T.actionsMenu,key:"actions-menu"},n,r):null}_renderItemMessage(t){return t.error?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:T.message,key:"esri-table-list__error",role:"alert"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("span",{"aria-hidden":"true",class:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_11__.legacyIcon.noticeTriangle}),this.messages.tableError):null}_renderItemStatus(t){const{visibleElements:e}=this;if(!e.statusIndicators)return null;const{publishing:s}=t;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("span",{class:this.classes({[T.publishing]:s}),key:"layer-item-status"})}_renderItemContent(t,e){const{id:s}=this,i=`${`${s}_${t.uid}`}_actions`,o=this._filterActions(t.actionsSections),n=this._countActions(o);return[(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{class:T.itemContainer,key:"list-item-container"},this._renderTitle(t,e),this._renderItemStatus(t),this._renderActionsMenu(t,o,n,i)),this._renderItemMessage(t),n?this._renderActionsSections(t,o,i):null]}_renderTitle(t,e){const{messages:s}=this,i=t.title||s.untitledTable;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("span",{class:T.title,id:e,key:"layer-title-container"},i)}_renderActionsSections(t,e,s){const i=e.toArray().map(((e,s)=>(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("ul",{class:T.actionsList,key:`${t}-action-section-${s}`},this._renderActionSection(t,e))));return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{"aria-expanded":t.actionsOpen?"true":"false",class:T.actions,hidden:!t.actionsOpen||null,id:s,key:"actions-section",role:"group"},i)}_renderActionSection(t,e){return(e&&e.toArray()).map((e=>this._renderAction({item:t,action:e})))}_renderActionIcon(t){const{active:e,className:s}=t,i=this._getIconImageStyles(t),o="button"!==t.type||t.image||s?s:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_11__.legacyIcon.defaultAction,n={[T.actionImage]:!e&&!!i["background-image"],[_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_11__.legacyIcon.loadingIndicator]:e,[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_10__.globalCss.rotating]:e};return o&&!e&&(n[o]=!0),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("span",{"aria-hidden":"true",class:this.classes(T.actionIcon,n),key:"action-icon",styles:i})}_renderActionTitle(t,e){return e?null:(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("span",{class:T.actionTitle,key:"action-title"},t)}_renderAction(t){const{item:e,action:s,singleAction:i}=t,{active:o,disabled:n,title:r}=s,a={[T.actionsMenuItem]:i&&"button"===s.type,[T.action]:o||!i&&"toggle"!==s.type,[T.actionToggle]:!o&&"toggle"===s.type,[T.actionToggleOn]:!o&&"toggle"===s.type&&s.value,[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_10__.globalCss.disabledElement]:n},l=[this._renderActionIcon(s),this._renderActionTitle(r,i)];return i?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("div",{"aria-label":r,bind:this,classes:a,"data-action":s,"data-item":e,key:`single-action-${s.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:0,title:r??void 0},l):(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_15__.tsx)("li",{"aria-label":r,bind:this,classes:a,"data-action":s,"data-item":e,key:`action-${s.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:0,title:r??void 0},l)}_hasMessage(t){return!!t.error}_filterActions(t){return t.map((t=>t.filter((t=>t.visible))))}_setVisibleItems(t){this.visibleItems=t?.filter((t=>!t.hidden&&(this.visibleElements.errors||!t.error)))}_destroySortable(){const{_sortable:t}=this;t&&t.destroy(),this._sortable=null}_toggleSorting(){const{_sortable:t,_sortableNode:e,selectionEnabled:s}=this;if(e)if(t)t.option("disabled",!s);else{const t=sortablejs__WEBPACK_IMPORTED_MODULE_20__["default"].create(e,{dataIdAttr:S,group:A,fallbackTolerance:4,disabled:!s,onSort:()=>this._sortTablesToItems(t.toArray()),chosenClass:T.itemChosen});this._sortable=t}}_sortNodeCreated(t){this._sortableNode=t,this._toggleSorting()}_sortTablesToItems(t){const e=this.map?.tables;e&&e.sort(((e,s)=>{const i=t.indexOf(e.uid),o=t.indexOf(s.uid);return i>o?-1:i<o?1:0}))}_getSingleActionButton(t){return t.reduce((t=>t)).filter((t=>t&&"button"===t.type)).at(0)}_focusListItem(t){const{_focusSortUid:e}=this;if(!t||!e)return;const s=O(t);s.layer?.uid===e&&(t.focus(),this._focusSortUid=null)}_watchActionSectionChanges(t){const e=()=>this.scheduleRender();this.addHandles(t.on("change",e),$.actionSection),t.forEach((t=>this._renderOnActionChanges(t)))}_renderOnActionChanges(t){const e=()=>this.scheduleRender();"toggle"!==t.type?"slider"!==t.type?this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[t.className,t.image,t.id,t.title,t.visible]),e,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),$.actions):this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[t.className,t.id,t.title,t.visible,t.value,t.displayValueEnabled,t.max,t.min,t.step]),e,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),$.actions):this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[t.className,t.image,t.id,t.title,t.visible,t.value]),e,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),$.actions)}_renderOnItemChanges(t){const e=()=>this.scheduleRender();this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[t.actionsOpen,t.title,t.error,t.publishing]),e,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[t.hidden,t.error]),(()=>this._setVisibleItems(this.tableItems))),t.actionsSections.on("change",e)],$.items),t.actionsSections.forEach((t=>this._watchActionSectionChanges(t)))}_itemsChanged(){const{tableItems:t}=this.viewModel;this._setVisibleItems(t),this.removeHandles($.actionSection),this.removeHandles($.actions),this.removeHandles($.items),t.forEach((t=>this._renderOnItemChanges(t))),this.scheduleRender()}_countActions(t){return t.reduce(((t,e)=>t+e.length),0)}_getIconImageStyles(t){const e="esri.support.Action.ActionButton"===t.declaredClass||"esri.support.Action.ActionToggle"===t.declaredClass?t.image:null;return{"background-image":e?`url("${e}")`:void 0}}_selectionKeydown(t){const e=["ArrowDown","ArrowUp"],i=(0,_core_events_js__WEBPACK_IMPORTED_MODULE_2__.eventKey)(t);if(!e.includes(i))return void this._toggleSelection(t);t.stopPropagation();const o=t.currentTarget["data-item"],{_sortable:n,selectedItems:r}=this;if(!n)return;const a=(0,_TableList_support_tableListUtils_js__WEBPACK_IMPORTED_MODULE_19__.findSelectedItem)(o,r),l=n.toArray(),c=t.target,d=l.indexOf(c.dataset[w]);if(-1!==d){if("ArrowDown"===i){const t=d+1;if(t>=l.length)return;a?(v(l,d,t),n.sort(l),this._sortTablesToItems(n.toArray()),this._focusSortUid=o.layer?.uid):(this._focusSortUid=o.layer?.uid,this.scheduleRender())}if("ArrowUp"===i){const t=d-1;if(t<=-1)return;a?(v(l,d,t),n.sort(l),this._sortTablesToItems(n.toArray()),this._focusSortUid=o.layer?.uid):(this._focusSortUid=o.layer?.uid,this.scheduleRender())}}}_toggleActionsOpen(t){const e=O(t.currentTarget),{actionsOpen:s}=e,i=!s;i&&this.tableItems.forEach((t=>M(t))),e.actionsOpen=i,t.stopPropagation()}_triggerAction(t){const e=t.currentTarget,s=j(e),i=O(e);"toggle"===s.type&&(s.value=!s.value),this.triggerAction(s,i),t.stopPropagation()}_toggleSelection(t){t.stopPropagation();const{multipleSelectionEnabled:e,selectedItems:s}=this,i=e&&(t.metaKey||t.ctrlKey),o=O(t.currentTarget),n=(0,_TableList_support_tableListUtils_js__WEBPACK_IMPORTED_MODULE_19__.findSelectedItem)(o,s),{length:r}=s;if(!i)return r&&!(n&&1===r)?(s.removeAll(),void s.add(o)):void(n?s.remove(n):s.add(o));n?s.remove(n):s.add(o)}get test(){return{visibleItems:this.visibleItems}}};function j(t){return t["data-action"]}function O(t){return t["data-item"]}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],E.prototype,"visibleItems",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],E.prototype,"iconClass",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],E.prototype,"icon",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],E.prototype,"label",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],E.prototype,"listItemCreatedFunction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],E.prototype,"map",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_13__.messageBundle)("esri/widgets/TableList/t9n/TableList")],E.prototype,"messages",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_13__.messageBundle)("esri/t9n/common")],E.prototype,"messagesCommon",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],E.prototype,"multipleSelectionEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],E.prototype,"selectionEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],E.prototype,"selectedItems",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],E.prototype,"tableItems",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_vmEvent_js__WEBPACK_IMPORTED_MODULE_14__.vmEvent)("trigger-action"),(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_TableList_TableListViewModel_js__WEBPACK_IMPORTED_MODULE_18__["default"]})],E.prototype,"viewModel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],E.prototype,"visibleElements",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_5__.cast)("visibleElements")],E.prototype,"castVisibleElements",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_12__.accessibleHandler)()],E.prototype,"_toggleActionsOpen",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_12__.accessibleHandler)()],E.prototype,"_triggerAction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_12__.accessibleHandler)()],E.prototype,"_toggleSelection",null),E=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.widgets.TableList")],E);const L=E;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/TableList/ListItem.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/TableList/ListItem.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_get_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/get.js */ "./node_modules/@arcgis/core/core/accessorSupport/get.js");
/* harmony import */ var _support_actions_ActionBase_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../support/actions/ActionBase.js */ "./node_modules/@arcgis/core/support/actions/ActionBase.js");
/* harmony import */ var _support_actions_ActionButton_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../support/actions/ActionButton.js */ "./node_modules/@arcgis/core/support/actions/ActionButton.js");
/* harmony import */ var _support_actions_ActionSlider_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../support/actions/ActionSlider.js */ "./node_modules/@arcgis/core/support/actions/ActionSlider.js");
/* harmony import */ var _support_actions_ActionToggle_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../support/actions/ActionToggle.js */ "./node_modules/@arcgis/core/support/actions/ActionToggle.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var d;const y=_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"].ofType({key:"type",defaultKeyValue:"button",base:_support_actions_ActionBase_js__WEBPACK_IMPORTED_MODULE_11__["default"],typeMap:{button:_support_actions_ActionButton_js__WEBPACK_IMPORTED_MODULE_12__["default"],toggle:_support_actions_ActionToggle_js__WEBPACK_IMPORTED_MODULE_14__["default"],slider:_support_actions_ActionSlider_js__WEBPACK_IMPORTED_MODULE_13__["default"]}}),m=_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"].ofType(y),f="layer",b="esri.widgets.TableList.ListItem";let j=d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__.IdentifiableMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){constructor(t){super(t),this.actionsSections=new m,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null}initialize(){if(this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer),(t=>this._watchLayerProperties(t)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.initial)),"function"==typeof this.listItemCreatedFunction){const t={item:this};this.listItemCreatedFunction.call(null,t)}}get error(){return this.layer?.loadError}get publishing(){const{layer:t,checkPublishStatusEnabled:e}=this;return(e&&t&&"publishingInfo"in t&&"publishing"===t.publishingInfo?.status)??!1}get title(){const t=(0,_core_accessorSupport_get_js__WEBPACK_IMPORTED_MODULE_10__.get)(this,"layer.layer");return(!t||t&&(0,_core_accessorSupport_get_js__WEBPACK_IMPORTED_MODULE_10__.get)(this,"layer.layer.loaded")?this.layer?.title:null)??""}set title(t){this._overrideIfSome("title",t)}clone(){return new d({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,title:this.title})}_watchLayerProperties(t){this.removeHandles(f),t&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>t.listMode),(()=>this._watchLayerProperties(t))),f)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:m})],j.prototype,"actionsSections",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],j.prototype,"actionsOpen",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],j.prototype,"checkPublishStatusEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],j.prototype,"error",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],j.prototype,"hidden",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],j.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],j.prototype,"listItemCreatedFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],j.prototype,"publishing",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],j.prototype,"title",null),j=d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)(b)],j);const S=j;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/TableList/TableListViewModel.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/TableList/TableListViewModel.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _LayerList_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../LayerList/support/layerListUtils.js */ "./node_modules/@arcgis/core/widgets/LayerList/support/layerListUtils.js");
/* harmony import */ var _ListItem_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ListItem.js */ "./node_modules/@arcgis/core/widgets/TableList/ListItem.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const c={map:"map",tables:"tables",layerListMode:"layer-list-mode"},d="hide",n=_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(_ListItem_js__WEBPACK_IMPORTED_MODULE_10__["default"]);let p=class extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedAccessor{constructor(t){super(t),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.tableItems=new n,this.map=null}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[this.map,this.map?.loaded]),(()=>this._mapHandles()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled]),(()=>this._recompileList()))],c.map)}destroy(){this.map=null,this.tableItems.removeAll()}get state(){const t=this.map?.loadStatus;return"string"==typeof t?"loaded"===t?"ready":"loading"===t?"loading":"disabled":"disabled"}triggerAction(t,e){t&&!t.disabled&&this.emit("trigger-action",{action:t,item:e})}_mapHandles(){const{map:t}=this;this.removeHandles(c.tables),this._compileList(),t&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.map?.allTables?.toArray()),(()=>this._compileList()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),c.tables)}_removeAllItems(){this.tableItems.removeAll()}_getViewableTables(t){if(t)return t.filter((t=>(0,_LayerList_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_9__.findLayerListMode)(t)!==d))}_watchTablesListMode(t){this.removeHandles(c.layerListMode),t&&t.forEach((t=>{this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>t.listMode),(()=>this._compileList())),c.layerListMode)}))}_compileList(){const t=this.map?.tables;this._watchTablesListMode(t);const e=this._getViewableTables(t);e?.length?(this._createNewItems(e),this._removeItems(e),this._sortItems(e)):this._removeAllItems()}_createNewItems(t){const{tableItems:e,listItemCreatedFunction:s,checkPublishStatusEnabled:i}=this;t.forEach((t=>{e.find((e=>e.layer===t))||e.add(new _ListItem_js__WEBPACK_IMPORTED_MODULE_10__["default"]({checkPublishStatusEnabled:i,layer:t,listItemCreatedFunction:s}))}))}_removeItems(t){const{tableItems:e}=this;e.forEach((s=>{if(!s)return;const i=t?.find((t=>s.layer===t));i||e.remove(s)}))}_sortItems(t){const{tableItems:e}=this;e.sort(((e,s)=>{const i=t.indexOf(e.layer),o=t.indexOf(s.layer);return i>o?-1:i<o?1:0}))}_recompileList(){this._removeAllItems(),this._compileList()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"checkPublishStatusEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"listItemCreatedFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:n,readOnly:!0})],p.prototype,"tableItems",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"map",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],p.prototype,"state",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.widgets.TableList.TableListViewModel")],p);const h=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/TableList/support/tableListUtils.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/TableList/support/tableListUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   findSelectedItem: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(n,l){const u=n.layer?.uid;return null!=u?l.find((n=>n.layer?.uid===u)):null}


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/support/decorators/accessibleHandler.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/support/decorators/accessibleHandler.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   accessibleHandler: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _widgetUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(){return function(n,t){if(!n[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:r(n[t])}}}function e(n){const t=n?.type;return n instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}function r(t){return function(r,...o){e(r)?(0,_widgetUtils_js__WEBPACK_IMPORTED_MODULE_0__.isActivationKey)(r.key)&&(r.preventDefault(),r.stopPropagation(),r.target.click()):t.call(this,r,...o)}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfd2lkZ2V0c19UYWJsZUxpc3RfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDbVYsTUFBTSxzQkFBc0Isc0RBQUMsQ0FBQyxlQUFlLDJHQUEyRyxRQUFRLGNBQWMsb1BBQW9QLElBQUksdURBQUMsRUFBRSxzRkFBQyw4Q0FBOEMsdURBQUMsRUFBRSxzRkFBQyw4QkFBOEIsdURBQUMsRUFBRSxzRkFBQyw4QkFBOEIsdURBQUMsRUFBRSxzRkFBQywrQkFBK0IsdURBQUMsRUFBRSxzRkFBQyxvQ0FBb0MsdURBQUMsRUFBRSxzRkFBQyx5Q0FBeUMsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdGdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywwQ0FBMEMsY0FBYywrQ0FBK0MsY0FBYyxtRUFBbUUsY0FBYyxtRUFBbUUsY0FBYyx3QkFBd0IsMEJBQTBCLHVIQUF1SCxjQUFjLG1JQUFtSSxjQUFjLDhEQUE4RCxzQkFBc0IsY0FBYyxxQkFBcUIsZ0JBQWdCLGtDQUFrQyxrRkFBa0YsWUFBWSxnQkFBZ0IsaUJBQWlCLHNFQUFzRSxzQkFBc0IsR0FBRyxnQkFBZ0IsaUJBQWlCLGFBQWEsYUFBYSxhQUFhLE1BQU0sK0ZBQStGLGNBQWMsaUJBQWlCLHFDQUFxQyxnQkFBZ0IscUJBQXFCLGtEQUFrRCxjQUFjLGdHQUFnRyxhQUFhLDJDQUEyQyxFQUFFLGlCQUFpQixjQUFjLDJDQUEyQyxjQUFjLGFBQWEscUZBQXFGLGNBQWMsYUFBYSwyRUFBMkUsY0FBYyxpSEFBeWM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p0dEU7QUFDQTtBQUNBO0FBQ0E7QUFDeWlDLGtCQUFrQiwrQkFBK0IsUUFBUSwyREFBQyxRQUFRLCtEQUFDLHlFQUF5RSxrQkFBa0IsK0RBQUMsa0JBQWtCLEVBQUUsb0JBQW9CLEVBQUUs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Q0p6dUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCLGtEQUFnRjs7Ozs7Ozs7Ozs7Ozs7OztBQ0pySDtBQUNBO0FBQ0E7QUFDQTtBQUNvRCxhQUFhLHFCQUFxQixxRUFBcUUsVUFBVSxJQUFJLE9BQU8sZ0JBQWdCLGNBQWMsZ0JBQWdCLDhFQUE4RSxjQUFjLHdCQUF3QixLQUFLLGdFQUFDLHdGQUF1SCIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3N1cHBvcnQvYWN0aW9ucy9BY3Rpb25TbGlkZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9MYXllckxpc3Qvc3VwcG9ydC9sYXllckxpc3RVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93aWRnZXRzL1RhYmxlTGlzdC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93aWRnZXRzL1RhYmxlTGlzdC9MaXN0SXRlbS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93aWRnZXRzL1RhYmxlTGlzdC9UYWJsZUxpc3RWaWV3TW9kZWwuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9UYWJsZUxpc3Qvc3VwcG9ydC90YWJsZUxpc3RVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93aWRnZXRzL3N1cHBvcnQvZGVjb3JhdG9ycy9hY2Nlc3NpYmxlSGFuZGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgc31mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgZSBmcm9tXCIuL0FjdGlvbkJhc2UuanNcIjt2YXIgbztsZXQgcj1vPWNsYXNzIGV4dGVuZHMgZXtjb25zdHJ1Y3RvcihzKXtzdXBlcihzKSx0aGlzLmRpc3BsYXlWYWx1ZUVuYWJsZWQ9ITEsdGhpcy5tYXg9MSx0aGlzLm1pbj0wLHRoaXMuc3RlcD0uMSx0aGlzLnR5cGU9XCJzbGlkZXJcIix0aGlzLnZhbHVlPW51bGx9Y2xvbmUoKXtyZXR1cm4gbmV3IG8oe2FjdGl2ZTp0aGlzLmFjdGl2ZSxjbGFzc05hbWU6dGhpcy5jbGFzc05hbWUsZGlzYWJsZWQ6dGhpcy5kaXNhYmxlZCxpZDp0aGlzLmlkLGluZGljYXRvcjp0aGlzLmluZGljYXRvcix0aXRsZTp0aGlzLnRpdGxlLHZpc2libGU6dGhpcy52aXNpYmxlLGRpc3BsYXlWYWx1ZUVuYWJsZWQ6dGhpcy5kaXNwbGF5VmFsdWVFbmFibGVkLG1heDp0aGlzLm1heCxtaW46dGhpcy5taW4sc3RlcDp0aGlzLnN0ZXAsdmFsdWU6dGhpcy52YWx1ZX0pfX07cyhbdCgpXSxyLnByb3RvdHlwZSxcImRpc3BsYXlWYWx1ZUVuYWJsZWRcIix2b2lkIDApLHMoW3QoKV0sci5wcm90b3R5cGUsXCJtYXhcIix2b2lkIDApLHMoW3QoKV0sci5wcm90b3R5cGUsXCJtaW5cIix2b2lkIDApLHMoW3QoKV0sci5wcm90b3R5cGUsXCJzdGVwXCIsdm9pZCAwKSxzKFt0KCldLHIucHJvdG90eXBlLFwidmFsdWVcIix2b2lkIDApLHI9bz1zKFtpKFwiZXNyaS5zdXBwb3J0LkFjdGlvbi5BY3Rpb25TbGlkZXJcIildLHIpO2NvbnN0IGE9cjtleHBvcnR7YSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBuPXtoaWRlOlwiaGlkZVwiLGhpZGVDaGlsZHJlbjpcImhpZGUtY2hpbGRyZW5cIn07ZnVuY3Rpb24gaShuKXtpZihuKXJldHVybiBudWxsIT1uLmxpc3RNb2RlP24ubGlzdE1vZGU6dm9pZCAwfWZ1bmN0aW9uIGUobil7cmV0dXJuIG51bGwhPW4mJlwibWluU2NhbGVcImluIG4mJm51bGwhPW4ubWluU2NhbGU/bi5taW5TY2FsZTp2b2lkIDB9ZnVuY3Rpb24gbChuKXtyZXR1cm4gbnVsbCE9biYmXCJtYXhTY2FsZVwiaW4gbiYmbnVsbCE9bi5tYXhTY2FsZT9uLm1heFNjYWxlOnZvaWQgMH1mdW5jdGlvbiByKG4pe2lmKCFuKXJldHVyblwiaW5oZXJpdGVkXCI7Y29uc3QgaT1iKHAobik/bi5sYXllcjpuKTtyZXR1cm4gbnVsbCE9aT9pP1wiaW5kZXBlbmRlbnRcIjpcImluaGVyaXRlZFwiOlwidmlzaWJpbGl0eU1vZGVcImluIG4mJm51bGwhPW4udmlzaWJpbGl0eU1vZGU/bi52aXNpYmlsaXR5TW9kZTpcImluZGVwZW5kZW50XCJ9ZnVuY3Rpb24gdChpKXtpZihpJiYoIShcInR5cGVcImluIGkpfHxcIndtdHNcIiE9PWkudHlwZSkmJmkubGlzdE1vZGUhPT1uLmhpZGVDaGlsZHJlbilyZXR1cm5cInN1YmxheWVyc1wiaW4gaT9cInN1YmxheWVyc1wiOlwibGF5ZXJzXCJpbiBpP1wibGF5ZXJzXCI6dm9pZCAwfWZ1bmN0aW9uIHUobil7Y29uc3QgaT0obj8ubGF5ZXImJnAobi5sYXllcik/bi5sYXllci5sYXllcjp2b2lkIDApPz9uPy5sYXllcjtyZXR1cm4hIWkmJihtKGkpPz8hMCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gaShlKSE9PW4uaGlkZX1mdW5jdGlvbiBzKG4saSl7aWYoIW58fG51bGw9PWl8fGlzTmFOKGkpKXJldHVybiExO2NvbnN0IHI9ZShuKSx0PWwobiksdT1udWxsIT1yJiYhaXNOYU4ocikmJnI+MCYmaT5yLGE9bnVsbCE9dCYmIWlzTmFOKHQpJiZ0PjAmJmk8dDtyZXR1cm4gdXx8YX1mdW5jdGlvbiBvKG4saSl7bj8uc29ydCgoKG4sZSk9Pntjb25zdCBsPVwidWlkXCJpbiBuP2kuaW5kZXhPZihuLnVpZCk6LTEscj1cInVpZFwiaW4gZT9pLmluZGV4T2YoZS51aWQpOi0xO3JldHVybiBsPnI/LTE6bDxyPzE6MH0pKX1mdW5jdGlvbiBjKG4saSl7Y29uc3QgZT1uPy5sYXllcjtpZighZSlyZXR1cm47Y29uc3QgbD10KGUpO2lmKCFsKXJldHVybjtsZXQgcjtcImxheWVyc1wiPT09bCYmXCJsYXllcnNcImluIGU/cj1lLmxheWVyczpcInN1YmxheWVyc1wiPT09bCYmXCJzdWJsYXllcnNcImluIGUmJihyPWUuc3VibGF5ZXJzKSxvKHIsaSl9ZnVuY3Rpb24geShuKXtjb25zdCBpPW4/LmxheWVyO3JldHVybiBpJiZcImxheWVyc1wiaW4gaT9pLmxheWVyczpudWxsfWZ1bmN0aW9uIGQobixpKXtjb25zdCBlPW4ubGF5ZXI/LnVpZDtyZXR1cm4gbnVsbCE9ZT9pLmZpbmQoKG49Pm4ubGF5ZXI/LnVpZD09PWUpKTpudWxsfWZ1bmN0aW9uIGYobil7Y29uc3QgaT1wKG4pP246bnVsbCxlPW4/LnBhcmVudCxsPW51bGwhPWUmJlwidHlwZVwiaW4gZSYmXCJtYXAtaW1hZ2VcIj09PWUudHlwZT9pPy5zb3VyY2U6bnVsbCxyPVwiXCI7cmV0dXJuIGwmJmU/e2xheWVyOmUsdGl0bGU6cixzdWJsYXllcklkczpbbC5tYXBMYXllcklkXX06e2xheWVyOm4sdGl0bGU6cn19ZnVuY3Rpb24gcChuKXtyZXR1cm4gbnVsbCE9biYmXCJsYXllclwiaW4gbiYmbnVsbCE9bi5sYXllcn1mdW5jdGlvbiBiKG4pe2NvbnN0IGk9aChuKTtyZXR1cm4gbnVsbCE9aSYmXCJzdXBwb3J0c1N1YmxheWVyVmlzaWJpbGl0eVwiaW4gaT9pLnN1cHBvcnRzU3VibGF5ZXJWaXNpYmlsaXR5OnZvaWQgMH1mdW5jdGlvbiBtKG4pe2NvbnN0IGk9aChuKTtyZXR1cm4gbnVsbCE9aSYmXCJzdXBwb3J0c0R5bmFtaWNMYXllcnNcImluIGk/aS5zdXBwb3J0c0R5bmFtaWNMYXllcnM6dm9pZCAwfWZ1bmN0aW9uIGgobil7cmV0dXJuIG4mJlwiY2FwYWJpbGl0aWVzXCJpbiBuJiZudWxsIT1uLmNhcGFiaWxpdGllcyYmXCJleHBvcnRNYXBcImluIG4uY2FwYWJpbGl0aWVzP24uY2FwYWJpbGl0aWVzLmV4cG9ydE1hcDp2b2lkIDB9ZXhwb3J0e2EgYXMgY2FuRGlzcGxheUxheWVyLHUgYXMgY2FuU29ydFN1YmxheWVycyxpIGFzIGZpbmRMYXllckxpc3RNb2RlLGwgYXMgZmluZExheWVyTWF4U2NhbGUsZSBhcyBmaW5kTGF5ZXJNaW5TY2FsZSxyIGFzIGZpbmRMYXllclZpc2liaWxpdHlNb2RlLGQgYXMgZmluZFNlbGVjdGVkSXRlbSx5IGFzIGdldEl0ZW1MYXllcnMsZiBhcyBnZXRMZWdlbmRMYXllckluZm8sdCBhcyBnZXROb3JtYWxpemVkQ2hpbGRMYXllclByb3BlcnR5LHMgYXMgaXNMYXllck91dHNpZGVTY2FsZVJhbmdlLHAgYXMgaXNTdWJsYXllcixjIGFzIHNvcnRDaGlsZExheWVyc1RvSWRzLG8gYXMgc29ydExheWVyc1RvSWRzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnR7ZXZlbnRLZXkgYXMgc31mcm9tXCIuLi9jb3JlL2V2ZW50cy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBpLG9uIGFzIG8saW5pdGlhbCBhcyBufWZyb21cIi4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7Y2FzdCBhcyBhfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvY2FzdC5qc1wiO2ltcG9ydFwiLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBsfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgYyBmcm9tXCIuL1dpZGdldC5qc1wiO2ltcG9ydHtnbG9iYWxDc3MgYXMgZH1mcm9tXCIuL3N1cHBvcnQvZ2xvYmFsQ3NzLmpzXCI7aW1wb3J0e2xlZ2FjeUljb24gYXMgbX1mcm9tXCIuL3N1cHBvcnQvbGVnYWN5SWNvbi5qc1wiO2ltcG9ydHthY2Nlc3NpYmxlSGFuZGxlciBhcyB1fWZyb21cIi4vc3VwcG9ydC9kZWNvcmF0b3JzL2FjY2Vzc2libGVIYW5kbGVyLmpzXCI7aW1wb3J0e21lc3NhZ2VCdW5kbGUgYXMgaH1mcm9tXCIuL3N1cHBvcnQvZGVjb3JhdG9ycy9tZXNzYWdlQnVuZGxlLmpzXCI7aW1wb3J0e3ZtRXZlbnQgYXMgZ31mcm9tXCIuL3N1cHBvcnQvZGVjb3JhdG9ycy92bUV2ZW50LmpzXCI7aW1wb3J0e3RzeCBhcyBwfWZyb21cIi4vc3VwcG9ydC9qc3hGYWN0b3J5LmpzXCI7aW1wb3J0XCIuL3N1cHBvcnQvd2lkZ2V0VXRpbHMuanNcIjtpbXBvcnQgXyBmcm9tXCIuL1RhYmxlTGlzdC9MaXN0SXRlbS5qc1wiO2ltcG9ydCBiIGZyb21cIi4vVGFibGVMaXN0L1RhYmxlTGlzdFZpZXdNb2RlbC5qc1wiO2ltcG9ydHtmaW5kU2VsZWN0ZWRJdGVtIGFzIHl9ZnJvbVwiLi9UYWJsZUxpc3Qvc3VwcG9ydC90YWJsZUxpc3RVdGlscy5qc1wiO2ltcG9ydCBJIGZyb21cInNvcnRhYmxlanNcIjtmdW5jdGlvbiB2KHQsZSxzKXt0LnNwbGljZShzLDAsdC5zcGxpY2UoZSwxKVswXSl9Y29uc3QgZj1lLm9mVHlwZShfKSxBPVwicm9vdC10YWJsZXNcIixTPVwiZGF0YS1sYXllci11aWRcIix3PVwibGF5ZXJVaWRcIixDPVwiZXNyaS10YWJsZS1saXN0XCIsVD17YmFzZTpDLHdpZGdldEljb246bS50YWJsZSxub0l0ZW1zOmAke0N9X19uby1pdGVtc2AsbGlzdDpgJHtDfV9fbGlzdGAsbGlzdFJvb3Q6YCR7Q31fX2xpc3QtLXJvb3RgLGl0ZW06YCR7Q31fX2l0ZW1gLGl0ZW1DaG9zZW46YCR7Q31fX2l0ZW0tLWNob3NlbmAsaXRlbU1lc3NhZ2U6YCR7Q31fX2l0ZW0tLWhhcy1tZXNzYWdlYCxpdGVtU2VsZWN0YWJsZTpgJHtDfV9faXRlbS0tc2VsZWN0YWJsZWAsaXRlbUNvbnRhaW5lcjpgJHtDfV9faXRlbS1jb250YWluZXJgLGFjdGlvbnNNZW51OmAke0N9X19pdGVtLWFjdGlvbnMtbWVudWAsYWN0aW9uc01lbnVJdGVtOmAke0N9X19pdGVtLWFjdGlvbnMtbWVudS1pdGVtYCxhY3Rpb25zTWVudUl0ZW1BY3RpdmU6YCR7Q31fX2l0ZW0tYWN0aW9ucy1tZW51LWl0ZW0tLWFjdGl2ZWAsYWN0aW9uczpgJHtDfV9faXRlbS1hY3Rpb25zYCxhY3Rpb25zTGlzdDpgJHtDfV9faXRlbS1hY3Rpb25zLWxpc3RgLGFjdGlvbjpgJHtDfV9faXRlbS1hY3Rpb25gLGFjdGlvbkljb246YCR7Q31fX2l0ZW0tYWN0aW9uLWljb25gLGFjdGlvbkltYWdlOmAke0N9X19pdGVtLWFjdGlvbi1pbWFnZWAsYWN0aW9uVGl0bGU6YCR7Q31fX2l0ZW0tYWN0aW9uLXRpdGxlYCxhY3Rpb25Ub2dnbGU6YCR7Q31fX2FjdGlvbi10b2dnbGVgLGFjdGlvblRvZ2dsZU9uOmAke0N9X19hY3Rpb24tdG9nZ2xlLS1vbmAsbWVzc2FnZTpgJHtDfV9faXRlbS1tZXNzYWdlYCx0aXRsZTpgJHtDfV9faXRlbS10aXRsZWAscHVibGlzaGluZzpgJHtDfV9fcHVibGlzaGluZ2B9LCQ9e2FjdGlvbnM6XCJhY3Rpb25zXCIsYWN0aW9uU2VjdGlvbjpcImFjdGlvbi1zZWN0aW9uXCIsaXRlbXM6XCJpdGVtc1wifTtmdW5jdGlvbiBNKHQpe2NvbnN0e2FjdGlvbnNPcGVuOmV9PXQ7ZSYmKHQuYWN0aW9uc09wZW49ITEpfWNvbnN0IGs9e3N0YXR1c0luZGljYXRvcnM6ITAsZXJyb3JzOiExfTtsZXQgRT1jbGFzcyBleHRlbmRzIGN7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLHRoaXMuX3NvcnRhYmxlPW51bGwsdGhpcy5fc29ydGFibGVOb2RlPW51bGwsdGhpcy5fZm9jdXNTb3J0VWlkPW51bGwsdGhpcy52aXNpYmxlSXRlbXM9bnVsbCx0aGlzLmljb25DbGFzcz1ULndpZGdldEljb24sdGhpcy5pY29uPW51bGwsdGhpcy5tZXNzYWdlcz1udWxsLHRoaXMubWVzc2FnZXNDb21tb249bnVsbCx0aGlzLm11bHRpcGxlU2VsZWN0aW9uRW5hYmxlZD0hMSx0aGlzLnNlbGVjdGlvbkVuYWJsZWQ9ITEsdGhpcy5zZWxlY3RlZEl0ZW1zPW5ldyBmLHRoaXMudmlld01vZGVsPW5ldyBiLHRoaXMudmlzaWJsZUVsZW1lbnRzPXsuLi5rfX1pbml0aWFsaXplKCl7dGhpcy5fc2V0VmlzaWJsZUl0ZW1zKHRoaXMudGFibGVJdGVtcyksdGhpcy5hZGRIYW5kbGVzKFtpKCgoKT0+dGhpcy52aXNpYmxlRWxlbWVudHMpLCgoKT0+dGhpcy5faXRlbXNDaGFuZ2VkKCkpKSxvKCgoKT0+dGhpcy52aWV3TW9kZWwudGFibGVJdGVtcyksXCJjaGFuZ2VcIiwoKCk9PnRoaXMuX2l0ZW1zQ2hhbmdlZCgpKSksaSgoKCk9PnRoaXMuc2VsZWN0aW9uRW5hYmxlZCksKCgpPT50aGlzLl90b2dnbGVTb3J0aW5nKCkpLG4pXSl9ZGVzdHJveSgpe3RoaXMuX2Rlc3Ryb3lTb3J0YWJsZSgpfWdldCBsYWJlbCgpe3JldHVybiB0aGlzLm1lc3NhZ2VzPy53aWRnZXRMYWJlbD8/XCJcIn1zZXQgbGFiZWwodCl7dGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJsYWJlbFwiLHQpfWdldCBsaXN0SXRlbUNyZWF0ZWRGdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXdNb2RlbC5saXN0SXRlbUNyZWF0ZWRGdW5jdGlvbn1zZXQgbGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb24odCl7dGhpcy52aWV3TW9kZWwubGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb249dH1nZXQgbWFwKCl7cmV0dXJuIHRoaXMudmlld01vZGVsLm1hcH1zZXQgbWFwKHQpe3RoaXMudmlld01vZGVsLm1hcD10fWdldCB0YWJsZUl0ZW1zKCl7cmV0dXJuIHRoaXMudmlld01vZGVsLnRhYmxlSXRlbXN9Y2FzdFZpc2libGVFbGVtZW50cyh0KXtyZXR1cm57Li4uaywuLi50fX10cmlnZ2VyQWN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudmlld01vZGVsLnRyaWdnZXJBY3Rpb24odCxlKX1yZW5kZXIoKXtjb25zdHt2aXNpYmxlSXRlbXM6dH09dGhpcyxlPXRoaXMudmlld01vZGVsPy5zdGF0ZSxzPXtbZC5oaWRkZW5dOlwibG9hZGluZ1wiPT09ZSxbZC5kaXNhYmxlZF06XCJkaXNhYmxlZFwiPT09ZX07cmV0dXJuIHAoXCJkaXZcIix7Y2xhc3M6dGhpcy5jbGFzc2VzKFQuYmFzZSxkLndpZGdldCxkLnBhbmVsLHMpfSx0Py5sZW5ndGg/dGhpcy5fcmVuZGVyTGlzdCgpOnRoaXMuX3JlbmRlck5vSXRlbXMoKSl9X3JlbmRlck5vSXRlbXMoKXtyZXR1cm4gcChcImRpdlwiLHtjbGFzczpULm5vSXRlbXN9LHRoaXMubWVzc2FnZXMubm9JdGVtc1RvRGlzcGxheSl9X3JlbmRlckxpc3QoKXtjb25zdHt2aXNpYmxlSXRlbXM6dCxtZXNzYWdlczplLHNlbGVjdGlvbkVuYWJsZWQ6c309dGhpcztyZXR1cm4gcChcInVsXCIse2FmdGVyQ3JlYXRlOnRoaXMuX3NvcnROb2RlQ3JlYXRlZCxhZnRlclJlbW92ZWQ6dGhpcy5fZGVzdHJveVNvcnRhYmxlLFwiYXJpYS1sYWJlbFwiOmUud2lkZ2V0TGFiZWwsYmluZDp0aGlzLGNsYXNzOnRoaXMuY2xhc3NlcyhULmxpc3QsVC5saXN0Um9vdCksXCJkYXRhLW5vZGUtcmVmXCI6XCJfc29ydGFibGVOb2RlXCIscm9sZTpzP1wibGlzdGJveFwiOnZvaWQgMH0sdD8ubWFwKCh0PT50aGlzLl9yZW5kZXJJdGVtKHQpKSkudG9BcnJheSgpKX1fcmVuZGVySXRlbSh0KXtjb25zdHtpZDplLHNlbGVjdGlvbkVuYWJsZWQ6cyxzZWxlY3RlZEl0ZW1zOml9PXRoaXMsbz1gJHtgJHtlfV8ke3QudWlkfWB9X190aXRsZWAsbj10aGlzLl9oYXNNZXNzYWdlKHQpLHI9e1tULml0ZW1NZXNzYWdlXTohIW4sW1QuaXRlbVNlbGVjdGFibGVdOnN9O2lmKHMpe2NvbnN0IGU9e1tTXTp0LmxheWVyPy51aWR9O3JldHVybiBwKFwibGlcIix7YWZ0ZXJDcmVhdGU6dGhpcy5fZm9jdXNMaXN0SXRlbSxhZnRlclVwZGF0ZTp0aGlzLl9mb2N1c0xpc3RJdGVtLFwiYXJpYS1sYWJlbGxlZGJ5XCI6byxcImFyaWEtc2VsZWN0ZWRcIjp5KHQsaSk/XCJ0cnVlXCI6XCJmYWxzZVwiLGJpbmQ6dGhpcyxjbGFzczp0aGlzLmNsYXNzZXMoVC5pdGVtLHIpLFwiZGF0YS1pdGVtXCI6dCxrZXk6YGl0ZW0td2l0aC1zZWxlY3Rpb24tJHt0LnVpZH1gLG9uY2xpY2s6dGhpcy5fdG9nZ2xlU2VsZWN0aW9uLG9ua2V5ZG93bjp0aGlzLl9zZWxlY3Rpb25LZXlkb3duLHJvbGU6XCJvcHRpb25cIix0YWJJbmRleDowLC4uLmV9LHRoaXMuX3JlbmRlckl0ZW1Db250ZW50KHQsbykpfXJldHVybiBwKFwibGlcIix7YWZ0ZXJDcmVhdGU6dGhpcy5fZm9jdXNMaXN0SXRlbSxhZnRlclVwZGF0ZTp0aGlzLl9mb2N1c0xpc3RJdGVtLFwiYXJpYS1sYWJlbGxlZGJ5XCI6byxiaW5kOnRoaXMsY2xhc3M6dGhpcy5jbGFzc2VzKFQuaXRlbSxyKSxrZXk6YGl0ZW0tbm8tc2VsZWN0aW9uLSR7dC51aWR9YH0sdGhpcy5fcmVuZGVySXRlbUNvbnRlbnQodCxvKSl9X3JlbmRlckFjdGlvbnNNZW51SWNvbih0LGUpe2NvbnN0e21lc3NhZ2VzQ29tbW9uOnN9PXRoaXMsaT17W1QuYWN0aW9uc01lbnVJdGVtQWN0aXZlXTp0LmFjdGlvbnNPcGVufTtyZXR1cm4gcChcImRpdlwiLHtcImFyaWEtY29udHJvbHNcIjplLFwiYXJpYS1sYWJlbFwiOnMub3B0aW9ucyxiaW5kOnRoaXMsY2xhc3M6dGhpcy5jbGFzc2VzKFQuYWN0aW9uc01lbnVJdGVtLGkpLFwiZGF0YS1pdGVtXCI6dCxrZXk6XCJhY3Rpb25zLW1lbnUtdG9nZ2xlXCIsb25jbGljazp0aGlzLl90b2dnbGVBY3Rpb25zT3BlbixvbmtleWRvd246dGhpcy5fdG9nZ2xlQWN0aW9uc09wZW4scm9sZTpcImJ1dHRvblwiLHRhYkluZGV4OjAsdGl0bGU6cy5vcHRpb25zfSxwKFwic3BhblwiLHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsY2xhc3M6bS5oYW5kbGVIb3Jpem9udGFsfSkpfV9yZW5kZXJBY3Rpb25zTWVudSh0LGUscyxpKXtjb25zdCBvPTE9PT1zJiZ0aGlzLl9nZXRTaW5nbGVBY3Rpb25CdXR0b24oZSksbj1vP3RoaXMuX3JlbmRlckFjdGlvbih7aXRlbTp0LGFjdGlvbjpvLHNpbmdsZUFjdGlvbjohMH0pOm51bGwscj0hbyYmcz90aGlzLl9yZW5kZXJBY3Rpb25zTWVudUljb24odCxpKTpudWxsO3JldHVybiByfHxvP3AoXCJkaXZcIix7Y2xhc3M6VC5hY3Rpb25zTWVudSxrZXk6XCJhY3Rpb25zLW1lbnVcIn0sbixyKTpudWxsfV9yZW5kZXJJdGVtTWVzc2FnZSh0KXtyZXR1cm4gdC5lcnJvcj9wKFwiZGl2XCIse2NsYXNzOlQubWVzc2FnZSxrZXk6XCJlc3JpLXRhYmxlLWxpc3RfX2Vycm9yXCIscm9sZTpcImFsZXJ0XCJ9LHAoXCJzcGFuXCIse1wiYXJpYS1oaWRkZW5cIjpcInRydWVcIixjbGFzczptLm5vdGljZVRyaWFuZ2xlfSksdGhpcy5tZXNzYWdlcy50YWJsZUVycm9yKTpudWxsfV9yZW5kZXJJdGVtU3RhdHVzKHQpe2NvbnN0e3Zpc2libGVFbGVtZW50czplfT10aGlzO2lmKCFlLnN0YXR1c0luZGljYXRvcnMpcmV0dXJuIG51bGw7Y29uc3R7cHVibGlzaGluZzpzfT10O3JldHVybiBwKFwic3BhblwiLHtjbGFzczp0aGlzLmNsYXNzZXMoe1tULnB1Ymxpc2hpbmddOnN9KSxrZXk6XCJsYXllci1pdGVtLXN0YXR1c1wifSl9X3JlbmRlckl0ZW1Db250ZW50KHQsZSl7Y29uc3R7aWQ6c309dGhpcyxpPWAke2Ake3N9XyR7dC51aWR9YH1fYWN0aW9uc2Asbz10aGlzLl9maWx0ZXJBY3Rpb25zKHQuYWN0aW9uc1NlY3Rpb25zKSxuPXRoaXMuX2NvdW50QWN0aW9ucyhvKTtyZXR1cm5bcChcImRpdlwiLHtjbGFzczpULml0ZW1Db250YWluZXIsa2V5OlwibGlzdC1pdGVtLWNvbnRhaW5lclwifSx0aGlzLl9yZW5kZXJUaXRsZSh0LGUpLHRoaXMuX3JlbmRlckl0ZW1TdGF0dXModCksdGhpcy5fcmVuZGVyQWN0aW9uc01lbnUodCxvLG4saSkpLHRoaXMuX3JlbmRlckl0ZW1NZXNzYWdlKHQpLG4/dGhpcy5fcmVuZGVyQWN0aW9uc1NlY3Rpb25zKHQsbyxpKTpudWxsXX1fcmVuZGVyVGl0bGUodCxlKXtjb25zdHttZXNzYWdlczpzfT10aGlzLGk9dC50aXRsZXx8cy51bnRpdGxlZFRhYmxlO3JldHVybiBwKFwic3BhblwiLHtjbGFzczpULnRpdGxlLGlkOmUsa2V5OlwibGF5ZXItdGl0bGUtY29udGFpbmVyXCJ9LGkpfV9yZW5kZXJBY3Rpb25zU2VjdGlvbnModCxlLHMpe2NvbnN0IGk9ZS50b0FycmF5KCkubWFwKCgoZSxzKT0+cChcInVsXCIse2NsYXNzOlQuYWN0aW9uc0xpc3Qsa2V5OmAke3R9LWFjdGlvbi1zZWN0aW9uLSR7c31gfSx0aGlzLl9yZW5kZXJBY3Rpb25TZWN0aW9uKHQsZSkpKSk7cmV0dXJuIHAoXCJkaXZcIix7XCJhcmlhLWV4cGFuZGVkXCI6dC5hY3Rpb25zT3Blbj9cInRydWVcIjpcImZhbHNlXCIsY2xhc3M6VC5hY3Rpb25zLGhpZGRlbjohdC5hY3Rpb25zT3Blbnx8bnVsbCxpZDpzLGtleTpcImFjdGlvbnMtc2VjdGlvblwiLHJvbGU6XCJncm91cFwifSxpKX1fcmVuZGVyQWN0aW9uU2VjdGlvbih0LGUpe3JldHVybihlJiZlLnRvQXJyYXkoKSkubWFwKChlPT50aGlzLl9yZW5kZXJBY3Rpb24oe2l0ZW06dCxhY3Rpb246ZX0pKSl9X3JlbmRlckFjdGlvbkljb24odCl7Y29uc3R7YWN0aXZlOmUsY2xhc3NOYW1lOnN9PXQsaT10aGlzLl9nZXRJY29uSW1hZ2VTdHlsZXModCksbz1cImJ1dHRvblwiIT09dC50eXBlfHx0LmltYWdlfHxzP3M6bS5kZWZhdWx0QWN0aW9uLG49e1tULmFjdGlvbkltYWdlXTohZSYmISFpW1wiYmFja2dyb3VuZC1pbWFnZVwiXSxbbS5sb2FkaW5nSW5kaWNhdG9yXTplLFtkLnJvdGF0aW5nXTplfTtyZXR1cm4gbyYmIWUmJihuW29dPSEwKSxwKFwic3BhblwiLHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsY2xhc3M6dGhpcy5jbGFzc2VzKFQuYWN0aW9uSWNvbixuKSxrZXk6XCJhY3Rpb24taWNvblwiLHN0eWxlczppfSl9X3JlbmRlckFjdGlvblRpdGxlKHQsZSl7cmV0dXJuIGU/bnVsbDpwKFwic3BhblwiLHtjbGFzczpULmFjdGlvblRpdGxlLGtleTpcImFjdGlvbi10aXRsZVwifSx0KX1fcmVuZGVyQWN0aW9uKHQpe2NvbnN0e2l0ZW06ZSxhY3Rpb246cyxzaW5nbGVBY3Rpb246aX09dCx7YWN0aXZlOm8sZGlzYWJsZWQ6bix0aXRsZTpyfT1zLGE9e1tULmFjdGlvbnNNZW51SXRlbV06aSYmXCJidXR0b25cIj09PXMudHlwZSxbVC5hY3Rpb25dOm98fCFpJiZcInRvZ2dsZVwiIT09cy50eXBlLFtULmFjdGlvblRvZ2dsZV06IW8mJlwidG9nZ2xlXCI9PT1zLnR5cGUsW1QuYWN0aW9uVG9nZ2xlT25dOiFvJiZcInRvZ2dsZVwiPT09cy50eXBlJiZzLnZhbHVlLFtkLmRpc2FibGVkRWxlbWVudF06bn0sbD1bdGhpcy5fcmVuZGVyQWN0aW9uSWNvbihzKSx0aGlzLl9yZW5kZXJBY3Rpb25UaXRsZShyLGkpXTtyZXR1cm4gaT9wKFwiZGl2XCIse1wiYXJpYS1sYWJlbFwiOnIsYmluZDp0aGlzLGNsYXNzZXM6YSxcImRhdGEtYWN0aW9uXCI6cyxcImRhdGEtaXRlbVwiOmUsa2V5OmBzaW5nbGUtYWN0aW9uLSR7cy51aWR9YCxvbmNsaWNrOnRoaXMuX3RyaWdnZXJBY3Rpb24sb25rZXlkb3duOnRoaXMuX3RyaWdnZXJBY3Rpb24scm9sZTpcImJ1dHRvblwiLHRhYkluZGV4OjAsdGl0bGU6cj8/dm9pZCAwfSxsKTpwKFwibGlcIix7XCJhcmlhLWxhYmVsXCI6cixiaW5kOnRoaXMsY2xhc3NlczphLFwiZGF0YS1hY3Rpb25cIjpzLFwiZGF0YS1pdGVtXCI6ZSxrZXk6YGFjdGlvbi0ke3MudWlkfWAsb25jbGljazp0aGlzLl90cmlnZ2VyQWN0aW9uLG9ua2V5ZG93bjp0aGlzLl90cmlnZ2VyQWN0aW9uLHJvbGU6XCJidXR0b25cIix0YWJJbmRleDowLHRpdGxlOnI/P3ZvaWQgMH0sbCl9X2hhc01lc3NhZ2UodCl7cmV0dXJuISF0LmVycm9yfV9maWx0ZXJBY3Rpb25zKHQpe3JldHVybiB0Lm1hcCgodD0+dC5maWx0ZXIoKHQ9PnQudmlzaWJsZSkpKSl9X3NldFZpc2libGVJdGVtcyh0KXt0aGlzLnZpc2libGVJdGVtcz10Py5maWx0ZXIoKHQ9PiF0LmhpZGRlbiYmKHRoaXMudmlzaWJsZUVsZW1lbnRzLmVycm9yc3x8IXQuZXJyb3IpKSl9X2Rlc3Ryb3lTb3J0YWJsZSgpe2NvbnN0e19zb3J0YWJsZTp0fT10aGlzO3QmJnQuZGVzdHJveSgpLHRoaXMuX3NvcnRhYmxlPW51bGx9X3RvZ2dsZVNvcnRpbmcoKXtjb25zdHtfc29ydGFibGU6dCxfc29ydGFibGVOb2RlOmUsc2VsZWN0aW9uRW5hYmxlZDpzfT10aGlzO2lmKGUpaWYodCl0Lm9wdGlvbihcImRpc2FibGVkXCIsIXMpO2Vsc2V7Y29uc3QgdD1JLmNyZWF0ZShlLHtkYXRhSWRBdHRyOlMsZ3JvdXA6QSxmYWxsYmFja1RvbGVyYW5jZTo0LGRpc2FibGVkOiFzLG9uU29ydDooKT0+dGhpcy5fc29ydFRhYmxlc1RvSXRlbXModC50b0FycmF5KCkpLGNob3NlbkNsYXNzOlQuaXRlbUNob3Nlbn0pO3RoaXMuX3NvcnRhYmxlPXR9fV9zb3J0Tm9kZUNyZWF0ZWQodCl7dGhpcy5fc29ydGFibGVOb2RlPXQsdGhpcy5fdG9nZ2xlU29ydGluZygpfV9zb3J0VGFibGVzVG9JdGVtcyh0KXtjb25zdCBlPXRoaXMubWFwPy50YWJsZXM7ZSYmZS5zb3J0KCgoZSxzKT0+e2NvbnN0IGk9dC5pbmRleE9mKGUudWlkKSxvPXQuaW5kZXhPZihzLnVpZCk7cmV0dXJuIGk+bz8tMTppPG8/MTowfSkpfV9nZXRTaW5nbGVBY3Rpb25CdXR0b24odCl7cmV0dXJuIHQucmVkdWNlKCh0PT50KSkuZmlsdGVyKCh0PT50JiZcImJ1dHRvblwiPT09dC50eXBlKSkuYXQoMCl9X2ZvY3VzTGlzdEl0ZW0odCl7Y29uc3R7X2ZvY3VzU29ydFVpZDplfT10aGlzO2lmKCF0fHwhZSlyZXR1cm47Y29uc3Qgcz1PKHQpO3MubGF5ZXI/LnVpZD09PWUmJih0LmZvY3VzKCksdGhpcy5fZm9jdXNTb3J0VWlkPW51bGwpfV93YXRjaEFjdGlvblNlY3Rpb25DaGFuZ2VzKHQpe2NvbnN0IGU9KCk9PnRoaXMuc2NoZWR1bGVSZW5kZXIoKTt0aGlzLmFkZEhhbmRsZXModC5vbihcImNoYW5nZVwiLGUpLCQuYWN0aW9uU2VjdGlvbiksdC5mb3JFYWNoKCh0PT50aGlzLl9yZW5kZXJPbkFjdGlvbkNoYW5nZXModCkpKX1fcmVuZGVyT25BY3Rpb25DaGFuZ2VzKHQpe2NvbnN0IGU9KCk9PnRoaXMuc2NoZWR1bGVSZW5kZXIoKTtcInRvZ2dsZVwiIT09dC50eXBlP1wic2xpZGVyXCIhPT10LnR5cGU/dGhpcy5hZGRIYW5kbGVzKGkoKCgpPT5bdC5jbGFzc05hbWUsdC5pbWFnZSx0LmlkLHQudGl0bGUsdC52aXNpYmxlXSksZSxuKSwkLmFjdGlvbnMpOnRoaXMuYWRkSGFuZGxlcyhpKCgoKT0+W3QuY2xhc3NOYW1lLHQuaWQsdC50aXRsZSx0LnZpc2libGUsdC52YWx1ZSx0LmRpc3BsYXlWYWx1ZUVuYWJsZWQsdC5tYXgsdC5taW4sdC5zdGVwXSksZSxuKSwkLmFjdGlvbnMpOnRoaXMuYWRkSGFuZGxlcyhpKCgoKT0+W3QuY2xhc3NOYW1lLHQuaW1hZ2UsdC5pZCx0LnRpdGxlLHQudmlzaWJsZSx0LnZhbHVlXSksZSxuKSwkLmFjdGlvbnMpfV9yZW5kZXJPbkl0ZW1DaGFuZ2VzKHQpe2NvbnN0IGU9KCk9PnRoaXMuc2NoZWR1bGVSZW5kZXIoKTt0aGlzLmFkZEhhbmRsZXMoW2koKCgpPT5bdC5hY3Rpb25zT3Blbix0LnRpdGxlLHQuZXJyb3IsdC5wdWJsaXNoaW5nXSksZSxuKSxpKCgoKT0+W3QuaGlkZGVuLHQuZXJyb3JdKSwoKCk9PnRoaXMuX3NldFZpc2libGVJdGVtcyh0aGlzLnRhYmxlSXRlbXMpKSksdC5hY3Rpb25zU2VjdGlvbnMub24oXCJjaGFuZ2VcIixlKV0sJC5pdGVtcyksdC5hY3Rpb25zU2VjdGlvbnMuZm9yRWFjaCgodD0+dGhpcy5fd2F0Y2hBY3Rpb25TZWN0aW9uQ2hhbmdlcyh0KSkpfV9pdGVtc0NoYW5nZWQoKXtjb25zdHt0YWJsZUl0ZW1zOnR9PXRoaXMudmlld01vZGVsO3RoaXMuX3NldFZpc2libGVJdGVtcyh0KSx0aGlzLnJlbW92ZUhhbmRsZXMoJC5hY3Rpb25TZWN0aW9uKSx0aGlzLnJlbW92ZUhhbmRsZXMoJC5hY3Rpb25zKSx0aGlzLnJlbW92ZUhhbmRsZXMoJC5pdGVtcyksdC5mb3JFYWNoKCh0PT50aGlzLl9yZW5kZXJPbkl0ZW1DaGFuZ2VzKHQpKSksdGhpcy5zY2hlZHVsZVJlbmRlcigpfV9jb3VudEFjdGlvbnModCl7cmV0dXJuIHQucmVkdWNlKCgodCxlKT0+dCtlLmxlbmd0aCksMCl9X2dldEljb25JbWFnZVN0eWxlcyh0KXtjb25zdCBlPVwiZXNyaS5zdXBwb3J0LkFjdGlvbi5BY3Rpb25CdXR0b25cIj09PXQuZGVjbGFyZWRDbGFzc3x8XCJlc3JpLnN1cHBvcnQuQWN0aW9uLkFjdGlvblRvZ2dsZVwiPT09dC5kZWNsYXJlZENsYXNzP3QuaW1hZ2U6bnVsbDtyZXR1cm57XCJiYWNrZ3JvdW5kLWltYWdlXCI6ZT9gdXJsKFwiJHtlfVwiKWA6dm9pZCAwfX1fc2VsZWN0aW9uS2V5ZG93bih0KXtjb25zdCBlPVtcIkFycm93RG93blwiLFwiQXJyb3dVcFwiXSxpPXModCk7aWYoIWUuaW5jbHVkZXMoaSkpcmV0dXJuIHZvaWQgdGhpcy5fdG9nZ2xlU2VsZWN0aW9uKHQpO3Quc3RvcFByb3BhZ2F0aW9uKCk7Y29uc3Qgbz10LmN1cnJlbnRUYXJnZXRbXCJkYXRhLWl0ZW1cIl0se19zb3J0YWJsZTpuLHNlbGVjdGVkSXRlbXM6cn09dGhpcztpZighbilyZXR1cm47Y29uc3QgYT15KG8sciksbD1uLnRvQXJyYXkoKSxjPXQudGFyZ2V0LGQ9bC5pbmRleE9mKGMuZGF0YXNldFt3XSk7aWYoLTEhPT1kKXtpZihcIkFycm93RG93blwiPT09aSl7Y29uc3QgdD1kKzE7aWYodD49bC5sZW5ndGgpcmV0dXJuO2E/KHYobCxkLHQpLG4uc29ydChsKSx0aGlzLl9zb3J0VGFibGVzVG9JdGVtcyhuLnRvQXJyYXkoKSksdGhpcy5fZm9jdXNTb3J0VWlkPW8ubGF5ZXI/LnVpZCk6KHRoaXMuX2ZvY3VzU29ydFVpZD1vLmxheWVyPy51aWQsdGhpcy5zY2hlZHVsZVJlbmRlcigpKX1pZihcIkFycm93VXBcIj09PWkpe2NvbnN0IHQ9ZC0xO2lmKHQ8PS0xKXJldHVybjthPyh2KGwsZCx0KSxuLnNvcnQobCksdGhpcy5fc29ydFRhYmxlc1RvSXRlbXMobi50b0FycmF5KCkpLHRoaXMuX2ZvY3VzU29ydFVpZD1vLmxheWVyPy51aWQpOih0aGlzLl9mb2N1c1NvcnRVaWQ9by5sYXllcj8udWlkLHRoaXMuc2NoZWR1bGVSZW5kZXIoKSl9fX1fdG9nZ2xlQWN0aW9uc09wZW4odCl7Y29uc3QgZT1PKHQuY3VycmVudFRhcmdldCkse2FjdGlvbnNPcGVuOnN9PWUsaT0hcztpJiZ0aGlzLnRhYmxlSXRlbXMuZm9yRWFjaCgodD0+TSh0KSkpLGUuYWN0aW9uc09wZW49aSx0LnN0b3BQcm9wYWdhdGlvbigpfV90cmlnZ2VyQWN0aW9uKHQpe2NvbnN0IGU9dC5jdXJyZW50VGFyZ2V0LHM9aihlKSxpPU8oZSk7XCJ0b2dnbGVcIj09PXMudHlwZSYmKHMudmFsdWU9IXMudmFsdWUpLHRoaXMudHJpZ2dlckFjdGlvbihzLGkpLHQuc3RvcFByb3BhZ2F0aW9uKCl9X3RvZ2dsZVNlbGVjdGlvbih0KXt0LnN0b3BQcm9wYWdhdGlvbigpO2NvbnN0e211bHRpcGxlU2VsZWN0aW9uRW5hYmxlZDplLHNlbGVjdGVkSXRlbXM6c309dGhpcyxpPWUmJih0Lm1ldGFLZXl8fHQuY3RybEtleSksbz1PKHQuY3VycmVudFRhcmdldCksbj15KG8scykse2xlbmd0aDpyfT1zO2lmKCFpKXJldHVybiByJiYhKG4mJjE9PT1yKT8ocy5yZW1vdmVBbGwoKSx2b2lkIHMuYWRkKG8pKTp2b2lkKG4/cy5yZW1vdmUobik6cy5hZGQobykpO24/cy5yZW1vdmUobik6cy5hZGQobyl9Z2V0IHRlc3QoKXtyZXR1cm57dmlzaWJsZUl0ZW1zOnRoaXMudmlzaWJsZUl0ZW1zfX19O2Z1bmN0aW9uIGoodCl7cmV0dXJuIHRbXCJkYXRhLWFjdGlvblwiXX1mdW5jdGlvbiBPKHQpe3JldHVybiB0W1wiZGF0YS1pdGVtXCJdfXQoW3IoKV0sRS5wcm90b3R5cGUsXCJ2aXNpYmxlSXRlbXNcIix2b2lkIDApLHQoW3IoKV0sRS5wcm90b3R5cGUsXCJpY29uQ2xhc3NcIix2b2lkIDApLHQoW3IoKV0sRS5wcm90b3R5cGUsXCJpY29uXCIsdm9pZCAwKSx0KFtyKCldLEUucHJvdG90eXBlLFwibGFiZWxcIixudWxsKSx0KFtyKCldLEUucHJvdG90eXBlLFwibGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb25cIixudWxsKSx0KFtyKCldLEUucHJvdG90eXBlLFwibWFwXCIsbnVsbCksdChbcigpLGgoXCJlc3JpL3dpZGdldHMvVGFibGVMaXN0L3Q5bi9UYWJsZUxpc3RcIildLEUucHJvdG90eXBlLFwibWVzc2FnZXNcIix2b2lkIDApLHQoW3IoKSxoKFwiZXNyaS90OW4vY29tbW9uXCIpXSxFLnByb3RvdHlwZSxcIm1lc3NhZ2VzQ29tbW9uXCIsdm9pZCAwKSx0KFtyKCldLEUucHJvdG90eXBlLFwibXVsdGlwbGVTZWxlY3Rpb25FbmFibGVkXCIsdm9pZCAwKSx0KFtyKCldLEUucHJvdG90eXBlLFwic2VsZWN0aW9uRW5hYmxlZFwiLHZvaWQgMCksdChbcigpXSxFLnByb3RvdHlwZSxcInNlbGVjdGVkSXRlbXNcIix2b2lkIDApLHQoW3Ioe3JlYWRPbmx5OiEwfSldLEUucHJvdG90eXBlLFwidGFibGVJdGVtc1wiLG51bGwpLHQoW2coXCJ0cmlnZ2VyLWFjdGlvblwiKSxyKHt0eXBlOmJ9KV0sRS5wcm90b3R5cGUsXCJ2aWV3TW9kZWxcIix2b2lkIDApLHQoW3IoKV0sRS5wcm90b3R5cGUsXCJ2aXNpYmxlRWxlbWVudHNcIix2b2lkIDApLHQoW2EoXCJ2aXNpYmxlRWxlbWVudHNcIildLEUucHJvdG90eXBlLFwiY2FzdFZpc2libGVFbGVtZW50c1wiLG51bGwpLHQoW3UoKV0sRS5wcm90b3R5cGUsXCJfdG9nZ2xlQWN0aW9uc09wZW5cIixudWxsKSx0KFt1KCldLEUucHJvdG90eXBlLFwiX3RyaWdnZXJBY3Rpb25cIixudWxsKSx0KFt1KCldLEUucHJvdG90eXBlLFwiX3RvZ2dsZVNlbGVjdGlvblwiLG51bGwpLEU9dChbbChcImVzcmkud2lkZ2V0cy5UYWJsZUxpc3RcIildLEUpO2NvbnN0IEw9RTtleHBvcnR7TCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0e0lkZW50aWZpYWJsZU1peGluIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9JZGVudGlmaWFibGUuanNcIjtpbXBvcnR7d2F0Y2ggYXMgaSxpbml0aWFsIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG59ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBsfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Z2V0IGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZ2V0LmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vc3VwcG9ydC9hY3Rpb25zL0FjdGlvbkJhc2UuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi9zdXBwb3J0L2FjdGlvbnMvQWN0aW9uQnV0dG9uLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vc3VwcG9ydC9hY3Rpb25zL0FjdGlvblNsaWRlci5qc1wiO2ltcG9ydCBoIGZyb21cIi4uLy4uL3N1cHBvcnQvYWN0aW9ucy9BY3Rpb25Ub2dnbGUuanNcIjt2YXIgZDtjb25zdCB5PW8ub2ZUeXBlKHtrZXk6XCJ0eXBlXCIsZGVmYXVsdEtleVZhbHVlOlwiYnV0dG9uXCIsYmFzZTpjLHR5cGVNYXA6e2J1dHRvbjpwLHRvZ2dsZTpoLHNsaWRlcjp1fX0pLG09by5vZlR5cGUoeSksZj1cImxheWVyXCIsYj1cImVzcmkud2lkZ2V0cy5UYWJsZUxpc3QuTGlzdEl0ZW1cIjtsZXQgaj1kPWNsYXNzIGV4dGVuZHMocyhlKSl7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5hY3Rpb25zU2VjdGlvbnM9bmV3IG0sdGhpcy5hY3Rpb25zT3Blbj0hMSx0aGlzLmNoZWNrUHVibGlzaFN0YXR1c0VuYWJsZWQ9ITEsdGhpcy5oaWRkZW49ITEsdGhpcy5sYXllcj1udWxsLHRoaXMubGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb249bnVsbH1pbml0aWFsaXplKCl7aWYodGhpcy5hZGRIYW5kbGVzKGkoKCgpPT50aGlzLmxheWVyKSwodD0+dGhpcy5fd2F0Y2hMYXllclByb3BlcnRpZXModCkpLHIpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uKXtjb25zdCB0PXtpdGVtOnRoaXN9O3RoaXMubGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb24uY2FsbChudWxsLHQpfX1nZXQgZXJyb3IoKXtyZXR1cm4gdGhpcy5sYXllcj8ubG9hZEVycm9yfWdldCBwdWJsaXNoaW5nKCl7Y29uc3R7bGF5ZXI6dCxjaGVja1B1Ymxpc2hTdGF0dXNFbmFibGVkOmV9PXRoaXM7cmV0dXJuKGUmJnQmJlwicHVibGlzaGluZ0luZm9cImluIHQmJlwicHVibGlzaGluZ1wiPT09dC5wdWJsaXNoaW5nSW5mbz8uc3RhdHVzKT8/ITF9Z2V0IHRpdGxlKCl7Y29uc3QgdD1hKHRoaXMsXCJsYXllci5sYXllclwiKTtyZXR1cm4oIXR8fHQmJmEodGhpcyxcImxheWVyLmxheWVyLmxvYWRlZFwiKT90aGlzLmxheWVyPy50aXRsZTpudWxsKT8/XCJcIn1zZXQgdGl0bGUodCl7dGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJ0aXRsZVwiLHQpfWNsb25lKCl7cmV0dXJuIG5ldyBkKHthY3Rpb25zU2VjdGlvbnM6dGhpcy5hY3Rpb25zU2VjdGlvbnMuY2xvbmUoKSxhY3Rpb25zT3Blbjp0aGlzLmFjdGlvbnNPcGVuLGNoZWNrUHVibGlzaFN0YXR1c0VuYWJsZWQ6dGhpcy5jaGVja1B1Ymxpc2hTdGF0dXNFbmFibGVkLGxheWVyOnRoaXMubGF5ZXIsbGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb246dGhpcy5saXN0SXRlbUNyZWF0ZWRGdW5jdGlvbix0aXRsZTp0aGlzLnRpdGxlfSl9X3dhdGNoTGF5ZXJQcm9wZXJ0aWVzKHQpe3RoaXMucmVtb3ZlSGFuZGxlcyhmKSx0JiZ0aGlzLmFkZEhhbmRsZXMoaSgoKCk9PnQubGlzdE1vZGUpLCgoKT0+dGhpcy5fd2F0Y2hMYXllclByb3BlcnRpZXModCkpKSxmKX19O3QoW24oe3R5cGU6bX0pXSxqLnByb3RvdHlwZSxcImFjdGlvbnNTZWN0aW9uc1wiLHZvaWQgMCksdChbbigpXSxqLnByb3RvdHlwZSxcImFjdGlvbnNPcGVuXCIsdm9pZCAwKSx0KFtuKCldLGoucHJvdG90eXBlLFwiY2hlY2tQdWJsaXNoU3RhdHVzRW5hYmxlZFwiLHZvaWQgMCksdChbbih7cmVhZE9ubHk6ITB9KV0sai5wcm90b3R5cGUsXCJlcnJvclwiLG51bGwpLHQoW24oKV0sai5wcm90b3R5cGUsXCJoaWRkZW5cIix2b2lkIDApLHQoW24oKV0sai5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksdChbbigpXSxqLnByb3RvdHlwZSxcImxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uXCIsdm9pZCAwKSx0KFtuKHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcInB1Ymxpc2hpbmdcIixudWxsKSx0KFtuKCldLGoucHJvdG90eXBlLFwidGl0bGVcIixudWxsKSxqPWQ9dChbbChiKV0saik7Y29uc3QgUz1qO2V4cG9ydHtTIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHt3YXRjaCBhcyBpLGluaXRpYWwgYXMgb31mcm9tXCIuLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtmaW5kTGF5ZXJMaXN0TW9kZSBhcyBsfWZyb21cIi4uL0xheWVyTGlzdC9zdXBwb3J0L2xheWVyTGlzdFV0aWxzLmpzXCI7aW1wb3J0IG0gZnJvbVwiLi9MaXN0SXRlbS5qc1wiO2NvbnN0IGM9e21hcDpcIm1hcFwiLHRhYmxlczpcInRhYmxlc1wiLGxheWVyTGlzdE1vZGU6XCJsYXllci1saXN0LW1vZGVcIn0sZD1cImhpZGVcIixuPWUub2ZUeXBlKG0pO2xldCBwPWNsYXNzIGV4dGVuZHMgcy5FdmVudGVkQWNjZXNzb3J7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jaGVja1B1Ymxpc2hTdGF0dXNFbmFibGVkPSExLHRoaXMubGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb249bnVsbCx0aGlzLnRhYmxlSXRlbXM9bmV3IG4sdGhpcy5tYXA9bnVsbH1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKFtpKCgoKT0+W3RoaXMubWFwLHRoaXMubWFwPy5sb2FkZWRdKSwoKCk9PnRoaXMuX21hcEhhbmRsZXMoKSksbyksaSgoKCk9Plt0aGlzLmxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uLHRoaXMuY2hlY2tQdWJsaXNoU3RhdHVzRW5hYmxlZF0pLCgoKT0+dGhpcy5fcmVjb21waWxlTGlzdCgpKSldLGMubWFwKX1kZXN0cm95KCl7dGhpcy5tYXA9bnVsbCx0aGlzLnRhYmxlSXRlbXMucmVtb3ZlQWxsKCl9Z2V0IHN0YXRlKCl7Y29uc3QgdD10aGlzLm1hcD8ubG9hZFN0YXR1cztyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD9cImxvYWRlZFwiPT09dD9cInJlYWR5XCI6XCJsb2FkaW5nXCI9PT10P1wibG9hZGluZ1wiOlwiZGlzYWJsZWRcIjpcImRpc2FibGVkXCJ9dHJpZ2dlckFjdGlvbih0LGUpe3QmJiF0LmRpc2FibGVkJiZ0aGlzLmVtaXQoXCJ0cmlnZ2VyLWFjdGlvblwiLHthY3Rpb246dCxpdGVtOmV9KX1fbWFwSGFuZGxlcygpe2NvbnN0e21hcDp0fT10aGlzO3RoaXMucmVtb3ZlSGFuZGxlcyhjLnRhYmxlcyksdGhpcy5fY29tcGlsZUxpc3QoKSx0JiZ0aGlzLmFkZEhhbmRsZXMoaSgoKCk9PnRoaXMubWFwPy5hbGxUYWJsZXM/LnRvQXJyYXkoKSksKCgpPT50aGlzLl9jb21waWxlTGlzdCgpKSxvKSxjLnRhYmxlcyl9X3JlbW92ZUFsbEl0ZW1zKCl7dGhpcy50YWJsZUl0ZW1zLnJlbW92ZUFsbCgpfV9nZXRWaWV3YWJsZVRhYmxlcyh0KXtpZih0KXJldHVybiB0LmZpbHRlcigodD0+bCh0KSE9PWQpKX1fd2F0Y2hUYWJsZXNMaXN0TW9kZSh0KXt0aGlzLnJlbW92ZUhhbmRsZXMoYy5sYXllckxpc3RNb2RlKSx0JiZ0LmZvckVhY2goKHQ9Pnt0aGlzLmFkZEhhbmRsZXMoaSgoKCk9PnQubGlzdE1vZGUpLCgoKT0+dGhpcy5fY29tcGlsZUxpc3QoKSkpLGMubGF5ZXJMaXN0TW9kZSl9KSl9X2NvbXBpbGVMaXN0KCl7Y29uc3QgdD10aGlzLm1hcD8udGFibGVzO3RoaXMuX3dhdGNoVGFibGVzTGlzdE1vZGUodCk7Y29uc3QgZT10aGlzLl9nZXRWaWV3YWJsZVRhYmxlcyh0KTtlPy5sZW5ndGg/KHRoaXMuX2NyZWF0ZU5ld0l0ZW1zKGUpLHRoaXMuX3JlbW92ZUl0ZW1zKGUpLHRoaXMuX3NvcnRJdGVtcyhlKSk6dGhpcy5fcmVtb3ZlQWxsSXRlbXMoKX1fY3JlYXRlTmV3SXRlbXModCl7Y29uc3R7dGFibGVJdGVtczplLGxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uOnMsY2hlY2tQdWJsaXNoU3RhdHVzRW5hYmxlZDppfT10aGlzO3QuZm9yRWFjaCgodD0+e2UuZmluZCgoZT0+ZS5sYXllcj09PXQpKXx8ZS5hZGQobmV3IG0oe2NoZWNrUHVibGlzaFN0YXR1c0VuYWJsZWQ6aSxsYXllcjp0LGxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uOnN9KSl9KSl9X3JlbW92ZUl0ZW1zKHQpe2NvbnN0e3RhYmxlSXRlbXM6ZX09dGhpcztlLmZvckVhY2goKHM9PntpZighcylyZXR1cm47Y29uc3QgaT10Py5maW5kKCh0PT5zLmxheWVyPT09dCkpO2l8fGUucmVtb3ZlKHMpfSkpfV9zb3J0SXRlbXModCl7Y29uc3R7dGFibGVJdGVtczplfT10aGlzO2Uuc29ydCgoKGUscyk9Pntjb25zdCBpPXQuaW5kZXhPZihlLmxheWVyKSxvPXQuaW5kZXhPZihzLmxheWVyKTtyZXR1cm4gaT5vPy0xOmk8bz8xOjB9KSl9X3JlY29tcGlsZUxpc3QoKXt0aGlzLl9yZW1vdmVBbGxJdGVtcygpLHRoaXMuX2NvbXBpbGVMaXN0KCl9fTt0KFthKCldLHAucHJvdG90eXBlLFwiY2hlY2tQdWJsaXNoU3RhdHVzRW5hYmxlZFwiLHZvaWQgMCksdChbYSgpXSxwLnByb3RvdHlwZSxcImxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uXCIsdm9pZCAwKSx0KFthKHt0eXBlOm4scmVhZE9ubHk6ITB9KV0scC5wcm90b3R5cGUsXCJ0YWJsZUl0ZW1zXCIsdm9pZCAwKSx0KFthKCldLHAucHJvdG90eXBlLFwibWFwXCIsdm9pZCAwKSx0KFthKHtyZWFkT25seTohMH0pXSxwLnByb3RvdHlwZSxcInN0YXRlXCIsbnVsbCkscD10KFtyKFwiZXNyaS53aWRnZXRzLlRhYmxlTGlzdC5UYWJsZUxpc3RWaWV3TW9kZWxcIildLHApO2NvbnN0IGg9cDtleHBvcnR7aCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBuKG4sbCl7Y29uc3QgdT1uLmxheWVyPy51aWQ7cmV0dXJuIG51bGwhPXU/bC5maW5kKChuPT5uLmxheWVyPy51aWQ9PT11KSk6bnVsbH1leHBvcnR7biBhcyBmaW5kU2VsZWN0ZWRJdGVtfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNBY3RpdmF0aW9uS2V5IGFzIG59ZnJvbVwiLi4vd2lkZ2V0VXRpbHMuanNcIjtmdW5jdGlvbiB0KCl7cmV0dXJuIGZ1bmN0aW9uKG4sdCl7aWYoIW5bdF0pdGhyb3cgbmV3IFR5cGVFcnJvcihgQ2Fubm90IGF1dG8gYmluZCB1bmRlZmluZWQgZnVuY3Rpb24gJyR7U3RyaW5nKHQpfSdgKTtyZXR1cm57dmFsdWU6cihuW3RdKX19fWZ1bmN0aW9uIGUobil7Y29uc3QgdD1uPy50eXBlO3JldHVybiBuIGluc3RhbmNlb2YgS2V5Ym9hcmRFdmVudHx8XCJrZXl1cFwiPT09dHx8XCJrZXlkb3duXCI9PT10fHxcImtleXByZXNzXCI9PT10fWZ1bmN0aW9uIHIodCl7cmV0dXJuIGZ1bmN0aW9uKHIsLi4ubyl7ZShyKT9uKHIua2V5KSYmKHIucHJldmVudERlZmF1bHQoKSxyLnN0b3BQcm9wYWdhdGlvbigpLHIudGFyZ2V0LmNsaWNrKCkpOnQuY2FsbCh0aGlzLHIsLi4ubyl9fWV4cG9ydHt0IGFzIGFjY2Vzc2libGVIYW5kbGVyfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==