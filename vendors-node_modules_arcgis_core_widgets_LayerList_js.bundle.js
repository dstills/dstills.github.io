"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_widgets_LayerList_js"],{

/***/ "./node_modules/@arcgis/core/widgets/LayerList.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/LayerList.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ B)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_events_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/events.js */ "./node_modules/@arcgis/core/core/events.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Widget_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Widget.js */ "./node_modules/@arcgis/core/widgets/Widget.js");
/* harmony import */ var _LayerList_LayerListViewModel_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./LayerList/LayerListViewModel.js */ "./node_modules/@arcgis/core/widgets/LayerList/LayerListViewModel.js");
/* harmony import */ var _LayerList_ListItem_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LayerList/ListItem.js */ "./node_modules/@arcgis/core/widgets/LayerList/ListItem.js");
/* harmony import */ var _LayerList_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LayerList/support/layerListUtils.js */ "./node_modules/@arcgis/core/widgets/LayerList/support/layerListUtils.js");
/* harmony import */ var _support_componentsUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/componentsUtils.js */ "./node_modules/@arcgis/core/widgets/support/componentsUtils.js");
/* harmony import */ var _support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./support/globalCss.js */ "./node_modules/@arcgis/core/widgets/support/globalCss.js");
/* harmony import */ var _support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./support/legacyIcon.js */ "./node_modules/@arcgis/core/widgets/support/legacyIcon.js");
/* harmony import */ var _support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./support/decorators/accessibleHandler.js */ "./node_modules/@arcgis/core/widgets/support/decorators/accessibleHandler.js");
/* harmony import */ var _support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./support/decorators/messageBundle.js */ "./node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js");
/* harmony import */ var _support_decorators_vmEvent_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./support/decorators/vmEvent.js */ "./node_modules/@arcgis/core/widgets/support/decorators/vmEvent.js");
/* harmony import */ var _support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./support/jsxFactory.js */ "./node_modules/@arcgis/core/widgets/support/jsxFactory.js");
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./support/widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! sortablejs */ "./node_modules/sortablejs/modular/sortable.esm.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function $(e,t,i){e.splice(i,0,e.splice(t,1)[0])}const w=_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(_LayerList_ListItem_js__WEBPACK_IMPORTED_MODULE_11__["default"]),k="data-sort-filter",M="data-layer-uid",T="layerUid",E="esri-layer-list",L=`${E}__item`,x={base:E,widgetIcon:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.layers,newUI:`${E}--new-ui`,noItems:`${E}__no-items`,list:`${E}__list`,listRoot:`${E}__list--root`,listExclusive:`${E}__list--exclusive`,listEmpty:`${E}__list--empty`,listEmptyState:`${E}__list-empty-state`,listEmptyStateDragEnabled:`${E}__list-empty-state--drag-enabled`,listInherited:`${E}__list--inherited`,listIndependent:`${E}__list--independent`,item:L,itemContent:`${L}-content`,itemMessage:`${L}--has-message`,itemInvisible:`${L}--invisible`,itemInvisibleAtScale:`${L}--invisible-at-scale`,itemChildren:`${L}--has-children`,itemSelectable:`${L}--selectable`,itemContainer:`${L}-container`,actionsMenu:`${L}-actions-menu`,actionsMenuItem:`${L}-actions-menu-item`,actionsMenuItemActive:`${L}-actions-menu-item--active`,actions:`${L}-actions`,actionsList:`${L}-actions-list`,action:`${L}-action`,actionIcon:`${L}-action-icon`,actionImage:`${L}-action-image`,actionTitle:`${L}-action-title`,actionToggle:`${E}__action-toggle`,actionToggleOn:`${E}__action-toggle--on`,label:`${L}-label`,message:`${L}-message`,title:`${L}-title`,statusIndicator:`${E}__status-indicator`,publishing:`${E}__publishing`,updating:`${E}__updating`,connectionStatus:`${E}__connection-status`,connectionStatusConnected:`${E}__connection-status--connected`,toggleVisible:`${L}-toggle`,toggleVisibleIcon:`${L}-toggle-icon`,toggleIcon:`${L}-toggle-icon`,radioIcon:`${L}-radio-icon`,childToggle:`${E}__child-toggle`,childToggleOpen:`${E}__child-toggle--open`,childOpened:`${E}__child-toggle-icon--opened`,childClosed:`${E}__child-toggle-icon--closed`,childClosed_RTL:`${E}__child-toggle-icon--closed-rtl`,sortableChosen:`${E}--chosen`},R={actions:"actions",actionSection:"action-section",items:"items"},N={exclusive:"exclusive",inherited:"inherited",independent:"independent"};function j(e){const{actionsOpen:t,children:i}=e;t&&(e.actionsOpen=!1),i.forEach((e=>j(e)))}const O="root",U={statusIndicators:!0,errors:!1};let V=class extends _Widget_js__WEBPACK_IMPORTED_MODULE_9__["default"]{constructor(e,t){super(e,t),this._sortableNodes=new Map,this._sortableMap=new Map,this._focusSortUid=null,this._tooltipReferenceMap=new Map,this.visibleItems=null,this.iconClass=x.widgetIcon,this.icon=null,this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.messages=null,this.messagesCommon=null,this.multipleSelectionEnabled=!1,this.selectionEnabled=!1,this.selectedItems=new w,this.style="classic",this.viewModel=new _LayerList_LayerListViewModel_js__WEBPACK_IMPORTED_MODULE_10__["default"],this.visibleElements={...U},this._onSortableSort=({to:e,from:t,item:i,newIndex:s})=>{t&&e&&(t===e?this._sortLayers(this._sortableMap.get(t.dataset.group)):this._moveLayerFromChildList({to:e,from:t,item:i,newIndex:s}))},this._sortableCanSort=(e,t)=>!(!e.el.dataset.group||!t.el.dataset.group),this._sortableCanPull=(e,t,i)=>{const{listItemCanGiveFunction:s}=this,o={selected:P(i),from:P(t.el),to:P(e.el)};return!this._sortableCanSort(e,t)||"function"!=typeof s||s.call(null,o)},this._sortableCanPut=(e,t,i)=>{const{listItemCanReceiveFunction:s}=this,o={selected:P(i),from:P(t.el),to:P(e.el)};return!this._sortableCanSort(e,t)||"function"!=typeof s||s.call(null,o)},this._onSortableEnd=({oldIndex:e,from:t,to:i,item:s})=>{t!==i&&t.insertBefore(s,t.children[e])}}initialize(){const e=this.operationalItems;this._setVisibleItems(e),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.operationalItems),"change",(()=>this._itemsChanged(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.visibleElements),(()=>this._itemsChanged(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.selectionEnabled),(()=>this._toggleAllSorting()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial)])}loadDependencies(){return (0,_support_componentsUtils_js__WEBPACK_IMPORTED_MODULE_13__.loadCalciteComponents)({icon:()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-icon_js").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-icon.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-icon.js")),tooltip:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_debounce_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_floatin-6ba6c0"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-7d86d6")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-tooltip.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-tooltip.js"))})}destroy(){this._destroySortables(),this._tooltipReferenceMap.clear()}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(e){this.viewModel.listItemCreatedFunction=e}get operationalItems(){return this.viewModel.operationalItems}set operationalItems(e){this.viewModel.operationalItems=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...U,...e}}triggerAction(e,t){return this.viewModel.triggerAction(e,t)}render(){const{visibleItems:e,style:t}=this,i=this.viewModel?.state,s={[x.newUI]:"modern"===t,[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.hidden]:"loading"===i,[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.disabled]:"disabled"===i},o=this._renderItemTooltips(),n=this._renderItems();return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:this.classes(x.base,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.widget,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.panel,s)},e.length?[o,n]:this._renderNoItems())}_renderItemTooltip(e){const{_tooltipReferenceMap:t,messages:i}=this;return e?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("calcite-tooltip",{referenceElement:t.get(e.uid)},i.layerIncompatibleTooltip):null}_renderItemTooltipNodes(e){const{incompatible:t,children:i}=e;return[t?this._renderItemTooltip(e):null,...!t&&i?i.toArray().map((e=>this._renderItemTooltipNodes(e))):[]]}_renderItemTooltips(){return this.visibleItems.toArray().map((e=>this._renderItemTooltipNodes(e)))??[]}_renderNoItems(){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:x.noItems},this.messages.noItemsToDisplay)}_renderItems(){const{visibleItems:e,selectionEnabled:t,messages:i}=this;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("ul",{afterCreate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,afterUpdate:this._sortNodeCreated,"aria-label":i.widgetLabel,bind:this,class:this.classes(x.list,x.listRoot,x.listIndependent),"data-group":O,role:t?"listbox":void 0},e.map((e=>this._renderItem(e,null))).toArray())}_renderActionsMenuIcon(e,t){const{messagesCommon:i}=this,s={[x.actionsMenuItemActive]:e.actionsOpen};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{"aria-controls":t,"aria-label":i.options,bind:this,class:this.classes(x.actionsMenuItem,s),"data-item":e,key:"actions-menu-toggle",onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,role:"button",tabIndex:0,title:i.options},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",{"aria-hidden":"true",class:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.handleHorizontal}))}_renderActionsMenu(e,t,i,s){const{panel:o}=e,n=o&&o.visible?this._renderPanelButton(o):null,l=1===i&&this._getSingleActionButton(t),r=l?this._renderAction({item:e,action:l,singleAction:!0}):null,a=!l&&i?this._renderActionsMenuIcon(e,s):null;return a||n||l?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:x.actionsMenu,key:"actions-menu"},n,r,a):null}_renderChildList(e,t){const{selectionEnabled:i}=this,{visibilityMode:s,children:o}=e,n=this._hasChildren(e),l=!n&&i&&"group"===e.layer?.type,{exclusive:r,inherited:a}=N,c={[x.listEmpty]:!n,[x.listExclusive]:s===r,[x.listInherited]:s===a,[x.listIndependent]:s!==a&&s!==r},d={[x.listEmptyState]:!0,[x.listEmptyStateDragEnabled]:i};return n||l?n?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("ul",{afterCreate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,afterUpdate:this._sortNodeCreated,"aria-expanded":e.open?"true":"false",bind:this,class:this.classes(x.list,c),"data-group":e.uid,"data-item":e,hidden:!e.open&&!l||null,id:t,key:"list-items",role:i?"listbox":s===r?"radiogroup":"group"},o?.map((t=>this._renderItem(t,e))).toArray()):(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{afterCreate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,afterUpdate:this._sortNodeCreated,bind:this,class:this.classes(d),"data-group":e.uid,"data-item":e,id:t,key:"list-items"},this.messages.noItemsToDisplay):null}_renderChildrenToggle(e,t){const{messagesCommon:i}=this,s=this._hasChildren(e),o={[x.childToggleOpen]:e.open},n=e.open?i.collapse:i.expand;return s?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",{"aria-controls":t,"aria-label":n,class:this.classes(x.childToggle,o),"data-item":e,key:"toggle-children",onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,role:"button",tabIndex:0,title:n},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",{"aria-hidden":"true",class:this.classes(x.childClosed,_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.rightTriangleArrow)}),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",{"aria-hidden":"true",class:this.classes(x.childOpened,_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.downArrow)}),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",{"aria-hidden":"true",class:this.classes(x.childClosed_RTL,_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.leftTriangleArrow)})):null}_renderItemMessage(e){return e.error?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:x.message,key:"esri-layer-list__error",role:"alert"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",{"aria-hidden":"true",class:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.noticeTriangle}),this.messages.layerError):e.incompatible?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:x.message,key:"esri-layer-list__incompatible",role:"alert"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",{afterCreate:t=>this._setTooltipReference(t,e),"aria-hidden":"true",bind:this,class:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.noticeTriangle,tabIndex:0}),this.messages.layerIncompatible):null}_renderItemContent(e,t,i){const{id:s}=this,o=`${s}_${e.uid}`,n=`${o}_actions`,l=`${o}__list`,{panel:r}=e,a=this._filterActions(e.actionsSections),c=this._countActions(a);return[(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:x.itemContainer,key:"list-item-container"},this._renderChildrenToggle(e,l),this._renderLabel(e,t,i),this._renderActionsMenu(e,a,c,n)),this._renderItemMessage(e),c?this._renderActionsSections(e,a,n):null,r&&r.open&&!r.disabled?r.render():null,this._renderChildList(e,l)]}_renderItem(e,t){const{style:i,id:s,selectionEnabled:o,selectedItems:n}=this,l=`${`${s}_${e.uid}`}__title`,r=this._hasMessage(e),a=this._hasChildren(e),c={[x.itemChildren]:a,[x.itemMessage]:!!r,[x.itemInvisible]:"modern"===i&&!e.visible,[x.itemInvisibleAtScale]:!e.visibleAtCurrentScale,[x.itemSelectable]:o};if(o){const i={[M]:e.layer?.uid,[k]:(!e.sortable).toString()};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("li",{afterCreate:this._focusListItem,afterUpdate:this._focusListItem,"aria-labelledby":l,"aria-selected":(0,_LayerList_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_12__.findSelectedItem)(e,n)?"true":"false",bind:this,class:this.classes(x.item,c),"data-group":t?t.uid:O,"data-item":e,key:`item-with-selection-${e.uid}`,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,role:"option",tabIndex:0,...i},this._renderItemContent(e,t,l))}return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("li",{afterCreate:this._focusListItem,afterUpdate:this._focusListItem,"aria-labelledby":l,bind:this,class:this.classes(x.item,c),key:`item-no-selection-${e.uid}`},this._renderItemContent(e,t,l))}_renderConnectionIcon(e){const{connectionStatus:t}=e;return null!=t?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("calcite-icon",{icon:"connected"===t?"beacon":"offline",scale:"s"}):null}_renderItemStatus(e,t){const{visibleElements:i}=this;if(!i.statusIndicators)return null;const{connectionStatus:s,publishing:o,updating:n}=e,l=n&&!t,r=!!s;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",{class:this.classes({[x.statusIndicator]:!0,[x.publishing]:o,[x.updating]:l,[x.connectionStatus]:r,[x.connectionStatusConnected]:r&&"connected"===s}),key:"layer-item-status"},this._renderConnectionIcon(e))}_renderItemTitle(e,t){const{messages:i}=this;if(!e)return null;const s=e.title||i.untitledLayer,o=e.visibleAtCurrentScale?s:`${s} (${i.layerInvisibleAtScale})`;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",{"aria-label":o,class:x.title,id:t,key:"layer-title-container",title:o},s)}_renderItemToggleIcon({visible:e},t){const{style:i}=this,{exclusive:s}=N,o=t?.visibilityMode,n="modern"===i,l=o===s,r={[x.toggleVisibleIcon]:n,[x.toggleIcon]:n&&!l,[x.radioIcon]:n&&l,[_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.radioChecked]:l&&e,[_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.radioUnchecked]:l&&!e,[_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.visible]:!l&&e,[_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.nonVisible]:!l&&!e};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",{"aria-hidden":"true",class:this.classes(r),key:"item-toggle-icon"})}_renderItemToggle(e,t,i){const{selectionEnabled:s,messages:o}=this,{exclusive:n}=N,l=t?.visibilityMode,r=l===n?"radio":"switch";return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",s?{"aria-checked":e.visible?"true":"false","aria-labelledby":i,bind:this,class:x.toggleVisible,"data-item":e,"data-parent-visibility":l,key:"item-toggle-selection-enabled",onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,role:r,tabIndex:0,title:o.layerVisibility}:{class:x.toggleVisible,key:"item-toggle"},this._renderItemToggleIcon(e,t))}_renderLabel(e,t,i){const{selectionEnabled:s,style:o,messages:n}=this,{inherited:l,exclusive:r}=N,a=t?.visibilityMode,c=a===r?"radio":"switch",d=this._renderItemTitle(e,i),h=this._renderItemStatus(e,t),u=this._renderItemToggle(e,t,i),m="modern"===o?[d,h,u]:[u,d,h],g=(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",s?{class:x.label,key:`item-label-no-selection-${e.uid}`}:{"aria-checked":e.visible?"true":"false","aria-labelledby":i,bind:this,class:x.label,"data-item":e,"data-parent-visibility":a,key:`item-label-with-selection-${e.uid}`,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,role:c,tabIndex:0,title:n.layerVisibility},m);return a===l||e.error?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{class:x.label,key:`item-label-container-${e.uid}`},this._renderItemTitle(e,i),this._renderItemStatus(e,t)):g}_renderPanelButton(e){const{className:t,open:i,title:s,image:o,disabled:n}=e,l=o||t?t:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.defaultAction,r=this._getIconImageStyles(e),a={[x.actionsMenuItemActive]:i&&!n},c={[x.actionImage]:!!r["background-image"],[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.disabledElement]:e.disabled};return l&&(c[l]=!!l),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{"aria-disabled":e.disabled.toString(),"aria-label":s,bind:this,class:this.classes(x.actionsMenuItem,a),"data-panel":e,key:`panel-${e.uid}`,onclick:this._triggerPanel,onkeydown:this._triggerPanel,role:"button",tabIndex:e.disabled?void 0:0,title:s},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",{class:this.classes(c),styles:r}))}_renderActionsSections(e,t,i){const s=t.toArray().map(((t,i)=>(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("ul",{class:x.actionsList,key:`${e}-action-section-${i}`},this._renderActionSection(e,t))));return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{"aria-expanded":e.actionsOpen?"true":"false",class:x.actions,hidden:!e.actionsOpen||null,id:i,key:"actions-section",role:"group"},s)}_renderActionSection(e,t){return(t&&t.toArray()).map((t=>this._renderAction({item:e,action:t})))}_renderActionIcon(e){const{active:t,className:i}=e,s=this._getIconImageStyles(e),o="button"!==e.type||e.image||i?i:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.defaultAction,n={[x.actionImage]:!t&&!!s["background-image"],[_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_15__.legacyIcon.loadingIndicator]:t,[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.rotating]:t};return o&&!t&&(n[o]=!0),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",{"aria-hidden":"true",class:this.classes(x.actionIcon,n),key:"action-icon",styles:s})}_renderActionTitle(e,t){return t?null:(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("span",{class:x.actionTitle,key:"action-title"},e)}_renderAction(e){const{item:t,action:i,singleAction:s}=e,{active:o,disabled:n,title:l}=i,r={[x.actionsMenuItem]:s&&"button"===i.type,[x.action]:o||!s&&"toggle"!==i.type,[x.actionToggle]:!o&&"toggle"===i.type,[x.actionToggleOn]:!o&&"toggle"===i.type&&i.value,[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_14__.globalCss.disabledElement]:n},a=[this._renderActionIcon(i),this._renderActionTitle(l,s)];return s?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("div",{"aria-label":l??void 0,bind:this,classes:r,"data-action":i,"data-item":t,key:`single-action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:0,title:l??void 0},a):(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_19__.tsx)("li",{"aria-label":l??void 0,bind:this,classes:r,"data-action":i,"data-item":t,key:`action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:0,title:l??void 0},a)}_setTooltipReference(e,t){this._tooltipReferenceMap.set(t.uid,e),this.scheduleRender()}_hasMessage(e){return!!e.error||e.incompatible}_hasChildren(e){return!!e.children.length&&!this._hasMessage(e)}_sortNodeRemoved(e){const{_sortableMap:t}=this,i=e.dataset.group,s=t.get(i);s&&s.destroy(),t.delete(i)}_destroySortables(){const{_sortableMap:e,_sortableNodes:t}=this;e.forEach((e=>e&&e.destroy())),e.clear(),t.clear()}_moveLayerFromChildList({to:e,from:t,item:i,newIndex:s}){const o=P(i),n=P(e),l=P(t);this.viewModel.moveListItem(o,l,n,s)}_sortLayers(e){if(!e)return;const t=P(e.el),i=e.toArray();t?(0,_LayerList_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_12__.sortChildLayersToIds)(t,i):(0,_LayerList_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_12__.sortLayersToIds)(this.view?.map?.layers,i)}_toggleSorting(e,t){const{_sortableMap:i,selectionEnabled:s}=this,o=i.get(t),n=P(e),l=(t===O||n?.childrenSortable&&(0,_LayerList_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_12__.canSortSublayers)(n))&&s;if(o)o.option("disabled",!l);else if(l){const s=sortablejs__WEBPACK_IMPORTED_MODULE_21__["default"].create(e,{dataIdAttr:M,group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:`[${k}="true"]`,fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!l,chosenClass:x.sortableChosen});i.set(t,s)}}_toggleAllSorting(){this._sortableNodes.forEach(((e,t)=>this._toggleSorting(e,t)))}_sortNodeCreated(e){const t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))}_setVisibleItems(e){this.visibleItems=e.filter((e=>!e.hidden&&(this.visibleElements.errors||!e.error)))}_getSingleActionButton(e){return e.reduce((e=>e)).filter((e=>e&&"button"===e.type)).at(0)}_focusListItem(e){const{_focusSortUid:t}=this;if(!e||!t)return;const i=P(e);i?.layer?.uid===t&&(e.focus(),this._focusSortUid=null)}_watchActionSectionChanges(e){this.addHandles(e.on("change",this.scheduleRender.bind(this)),R.actionSection),e.forEach((e=>this._renderOnActionChanges(e)))}_renderOnActionChanges(e){"toggle"!==e.type?"slider"!==e.type?this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[e?.className,e?.image,e?.id,e?.title,e?.visible]),(()=>this.scheduleRender()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),R.actions):this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[e?.className,e?.id,e?.title,e?.visible,e?.value,e?.displayValueEnabled,e?.max,e?.min,e?.step]),(()=>this.scheduleRender()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),R.actions):this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[e?.className,e?.image,e?.id,e?.title,e?.visible,e?.value]),(()=>this.scheduleRender()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),R.actions)}_renderOnItemChanges(e){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[e?.actionsOpen,e?.visible,e?.open,e?.updating,e?.connectionStatus,e?.publishing,e?.title,e?.visibleAtCurrentScale,e?.error,e?.visibilityMode,e?.panel,e?.panel?.title,e?.panel?.content,e?.panel?.className,e?.sortable,e?.childrenSortable]),(()=>this.scheduleRender()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[e?.hidden,e?.error]),(()=>this._setVisibleItems(this.operationalItems))),e.actionsSections.on("change",(()=>this.scheduleRender())),e.children.on("change",(()=>this.scheduleRender()))],R.items),e.children.forEach((e=>this._renderOnItemChanges(e))),e.actionsSections.forEach((e=>this._watchActionSectionChanges(e)))}_itemsChanged(e){this.removeHandles(R.items),this.removeHandles(R.actions),this.removeHandles(R.actionSection),e.forEach((e=>this._renderOnItemChanges(e))),this._tooltipReferenceMap.clear(),this._setVisibleItems(e),this.scheduleRender()}_filterActions(e){return e.map((e=>e.filter((e=>e.visible))))}_countActions(e){return e.reduce(((e,t)=>e+t.length),0)}_getIconImageStyles(e){const t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?`url("${t}")`:void 0}}_selectionKeydown(e){const t=["ArrowDown","ArrowUp"],s=(0,_core_events_js__WEBPACK_IMPORTED_MODULE_2__.eventKey)(e);if(!t.includes(s))return void this._toggleSelection(e);e.stopPropagation();const o=e.currentTarget,n=P(o),{_sortableMap:l,selectedItems:r}=this,a=o.dataset.group,c=l.get(a);if(!c||!n)return;const d=(0,_LayerList_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_12__.findSelectedItem)(n,r),h=c.toArray(),u=e.target,g=h.indexOf(u.dataset[T]);if(-1!==g){if("ArrowDown"===s){const e=g+1;if(e>=h.length)return;d?($(h,g,e),c.sort(h),this._sortLayers(c),this._focusSortUid=n.layer?.uid):(this._focusSortUid=n.layer?.uid,this.scheduleRender())}if("ArrowUp"===s){const e=g-1;if(e<=-1)return;d?($(h,g,e),c.sort(h),this._sortLayers(c),this._focusSortUid=n.layer?.uid):(this._focusSortUid=n.layer?.uid,this.scheduleRender())}}}_toggleActionsOpen(e){const t=P(e.currentTarget);if(!t)return;const{actionsOpen:i}=t,s=!i;s&&this.operationalItems.forEach((e=>j(e))),t.actionsOpen=s,e.stopPropagation()}_triggerPanel(e){const t=F(e.currentTarget);e.stopPropagation(),t&&!t.disabled&&(t.open=!t.open)}_triggerAction(e){const t=e.currentTarget,i=H(t),s=P(t);i&&s&&("toggle"===i.type&&(i.value=!i.value),this.triggerAction(i,s),e.stopPropagation())}_toggleVisibility(e){const t=e.currentTarget,i=t.getAttribute("data-parent-visibility"),s=P(t);s&&(i===N.exclusive&&s.visible||(s.visible=!s.visible),e.stopPropagation())}_toggleChildrenClick(e){const t=P(e.currentTarget);t&&(t.open=!t.open,e.stopPropagation())}_toggleSelection(e){e.stopPropagation();const{multipleSelectionEnabled:t,selectedItems:i}=this,s=P(e.currentTarget);if(!s)return;const o=(0,_LayerList_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_12__.findSelectedItem)(s,i),{length:n}=i;if(!t)return n&&!(o&&1===n)?(i.removeAll(),void i.add(s)):void(o?i.remove?.(o):i.add(s));o?i.remove?.(o):i.add(s)}get test(){return{visibleItems:this.visibleItems}}};function P(e){return e?.["data-item"]}function F(e){return e?.["data-panel"]}function H(e){return e?.["data-action"]}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"visibleItems",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"iconClass",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"icon",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"label",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"listItemCanGiveFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"listItemCanReceiveFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"listItemCreatedFunction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_17__.messageBundle)("esri/widgets/LayerList/t9n/LayerList")],V.prototype,"messages",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_17__.messageBundle)("esri/t9n/common")],V.prototype,"messagesCommon",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"multipleSelectionEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"operationalItems",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"selectionEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"selectedItems",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"style",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_vmEvent_js__WEBPACK_IMPORTED_MODULE_18__.vmEvent)("trigger-action"),(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_LayerList_LayerListViewModel_js__WEBPACK_IMPORTED_MODULE_10__["default"]})],V.prototype,"viewModel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],V.prototype,"visibleElements",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_5__.cast)("visibleElements")],V.prototype,"castVisibleElements",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_16__.accessibleHandler)()],V.prototype,"_toggleActionsOpen",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_16__.accessibleHandler)()],V.prototype,"_triggerPanel",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_16__.accessibleHandler)()],V.prototype,"_triggerAction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_16__.accessibleHandler)()],V.prototype,"_toggleVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_16__.accessibleHandler)()],V.prototype,"_toggleChildrenClick",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_support_decorators_accessibleHandler_js__WEBPACK_IMPORTED_MODULE_16__.accessibleHandler)()],V.prototype,"_toggleSelection",null),V=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.widgets.LayerList")],V);const B=V;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/LayerList/LayerListViewModel.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/LayerList/LayerListViewModel.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _ListItem_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ListItem.js */ "./node_modules/@arcgis/core/widgets/LayerList/ListItem.js");
/* harmony import */ var _support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/layerListUtils.js */ "./node_modules/@arcgis/core/widgets/LayerList/support/layerListUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const d={view:"view",viewLayers:"view-layers",mapLayers:"map-layers",layerViews:"layer-views",layerListMode:"layer-list-mode"},m="hide",h=_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(_ListItem_js__WEBPACK_IMPORTED_MODULE_9__["default"]);let p=class extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedAccessor{constructor(e){super(e),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.operationalItems=new h,this.view=null}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[this.view,this.view?.ready]),(()=>this._viewHandles()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled]),(()=>this._recompileList()))],d.view)}destroy(){this.view=null,this.operationalItems.removeAll()}get state(){const{view:e}=this;return e?.ready?"ready":e?"loading":"disabled"}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}moveListItem(e,t,s,i){const r=e?.layer;if(!r)return;const a=this.view?.map?.layers,o=t?(0,_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_10__.getItemLayers)(t):a,l=s?(0,_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_10__.getItemLayers)(s):a;if(!o||!l)return;const{operationalItems:c}=this,d=t?.children||c,m=s?.children||c,h=l.length-i;e.parent=s||null,d.includes(e)&&d.remove(e),o.includes(r)&&o.remove(r),m.includes(e)||m.add(e,h),l.includes(r)||l.add(r,h)}_createLayerViewHandles(e){this.removeHandles(d.layerViews),this._compileList(),e&&this.addHandles(e.on("change",(()=>this._compileList())),d.layerViews)}_createMapLayerHandles(e){this.removeHandles(d.mapLayers),this._compileList(),e&&this.addHandles(e.on("change",(()=>this._compileList())),d.mapLayers)}_createListItem(e){const{view:t,listItemCreatedFunction:s,checkPublishStatusEnabled:i}=this;return new _ListItem_js__WEBPACK_IMPORTED_MODULE_9__["default"]({checkPublishStatusEnabled:i,layer:e,listItemCreatedFunction:s,view:t})}_removeAllItems(){this.operationalItems.removeAll()}_getViewableLayers(e){if(e)return e.filter((e=>(0,_support_layerListUtils_js__WEBPACK_IMPORTED_MODULE_10__.findLayerListMode)(e)!==m))}_watchLayersListMode(e){this.removeHandles(d.layerListMode),e&&e.forEach((e=>{"listMode"in e&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>e.listMode),(()=>this._compileList())),d.layerListMode)}))}_compileList(){const e=this.view?.map?.layers;this._watchLayersListMode(e);const t=this._getViewableLayers(e);t?.length?(this._createNewItems(t),this._removeItems(t),this._sortItems(t)):this._removeAllItems()}_createNewItems(e){const{operationalItems:t}=this;e.forEach((e=>{t.find((t=>t.layer===e))||t.add(this._createListItem(e))}))}_removeItems(e){const{operationalItems:t}=this,s=[];t.forEach((t=>{t&&e&&e.includes(t.layer)||s.push(t)})),t.removeMany(s)}_sortItems(e){const{operationalItems:t}=this;t.sort(((t,s)=>{const i=e.indexOf(t.layer),r=e.indexOf(s.layer);return i>r?-1:i<r?1:0}))}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:e}=this;this.removeHandles([d.mapLayers,d.layerViews,d.viewLayers]),this._recompileList(),e&&e.ready&&this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.view?.map?.allLayers),(e=>this._createMapLayerHandles(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.view?.allLayerViews),(e=>this._createLayerViewHandles(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial)],d.viewLayers)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"checkPublishStatusEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"listItemCreatedFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:h})],p.prototype,"operationalItems",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],p.prototype,"state",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"view",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.widgets.LayerList.LayerListViewModel")],p);const y=p;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfd2lkZ2V0c19MYXllckxpc3RfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDdXNDLGtCQUFrQiwrQkFBK0IsUUFBUSwyREFBQyxRQUFRLCtEQUFDLGdGQUFnRixFQUFFLFdBQVcsa0JBQWtCLCtEQUFDLGlCQUFpQixFQUFFLHFCQUFxQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLCtCQUErQixFQUFFLGdDQUFnQyxFQUFFLGlDQUFpQyxFQUFFLGlEQUFpRCxFQUFFLG1EQUFtRCxFQUFFLHNDQUFzQyxFQUFFLDJDQUEyQyxFQUFFLHlCQUF5QixFQUFFLGdDQUFnQyxFQUFFLHFDQUFxQyxFQUFFLHNDQUFzQyxFQUFFLGtDQUFrQyxFQUFFLCtCQUErQixFQUFFLDJCQUEyQixFQUFFLGtDQUFrQyxFQUFFLDZDQUE2QyxFQUFFLHVDQUF1QyxFQUFFLHlCQUF5QixFQUFFLHlCQUF5QixFQUFFLHVCQUF1QixFQUFFLDZCQUE2QixFQUFFLDhCQUE4QixFQUFFLCtCQUErQixFQUFFLG1DQUFtQyxFQUFFLDhCQUE4QixFQUFFLG1CQUFtQixFQUFFLG1CQUFtQixFQUFFLDJCQUEyQixFQUFFLGtDQUFrQyxFQUFFLDBCQUEwQixFQUFFLGdDQUFnQyxFQUFFLGtEQUFrRCxFQUFFLGlEQUFpRCxFQUFFLDhCQUE4QixFQUFFLDRCQUE0QixFQUFFLDJCQUEyQixFQUFFLDRCQUE0QixFQUFFLG1DQUFtQyxFQUFFLHFDQUFxQyxFQUFFLDRDQUE0QyxFQUFFLGdEQUFnRCxFQUFFLG1EQUFtRCxFQUFFLFVBQVUsSUFBSSwrREFBK0QsSUFBSSx1RUFBdUUsY0FBYyxNQUFNLHlCQUF5QixHQUFHLDJDQUEyQyxrQkFBa0IsK0JBQStCLG9CQUFvQixrREFBQyxDQUFDLGlCQUFpQiwyYUFBMmEseUVBQUMsdUJBQXVCLEtBQUss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SEFBd0gsYUFBYSxpQkFBaUIsNkRBQUMsOERBQThELDJEQUFDLEVBQUUsNkRBQUMsMkdBQTJHLFVBQVUsaURBQWlELFlBQVksTUFBTSxPQUFPLE1BQU0sK0NBQStDLG1CQUFtQiw0Q0FBNEMsZ0JBQWdCLEVBQUUsc0JBQXNCLGlCQUFpQixhQUFhLG1DQUFtQywwRUFBQyxVQUFVLDBFQUFDLE1BQU0saUJBQWlCLE1BQU0sbUJBQW1CLHFEQUFxRCwySEFBMkgsMkJBQTJCLCtIQUErSCwwQkFBMEIsNkhBQTZILG1CQUFtQixNQUFNLDZEQUE2RCxNQUFNLFdBQVcsb0RBQUMsRUFBRSxxRUFBcUUsRUFBRSxrQkFBa0Isa0NBQWtDLHNCQUFzQix5QkFBeUIsOEVBQUMsVUFBVSx3QkFBd0Isc0RBQXNELGdDQUFnQyw2REFBQyw4REFBOEQsR0FBRyxlQUFlLCtCQUErQiw2QkFBNkIsbUNBQW1DLG1HQUFtRyxtQkFBbUIsTUFBTSxtQkFBbUIsTUFBTSxlQUFlLHlEQUF5RCxHQUFHLGdCQUFnQixNQUFNLG1CQUFtQixXQUFXLGVBQWUscUNBQXFDLG1CQUFtQixjQUFjLE1BQU0sbUJBQW1CLE1BQU0sZ0JBQWdCLGdEQUFnRCxzQkFBc0IsR0FBRyxpQkFBaUIsMkNBQTJDLGVBQWUsTUFBTSxPQUFPLE1BQU0sK0dBQStHLDZEQUFDLHFFQUFxRSwyREFBQyxFQUFFLDZEQUFDLHFFQUFxRSwyREFBQyxtQkFBbUIsdURBQUMsRUFBRSxzRkFBQyxvREFBb0QsdURBQUMsRUFBRSxzRkFBQyxrREFBa0QsdURBQUMsRUFBRSxzRkFBQyxFQUFFLE9BQU8sMENBQTBDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLDZCQUE2Qix1REFBQyxFQUFFLHNGQUFDLGlDQUFpQyx1REFBQyxFQUFFLHNGQUFDLGtEQUFrRCxVQUErQiIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvTGF5ZXJMaXN0LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvTGF5ZXJMaXN0L0xheWVyTGlzdFZpZXdNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0e2V2ZW50S2V5IGFzIGl9ZnJvbVwiLi4vY29yZS9ldmVudHMuanNcIjtpbXBvcnR7b24gYXMgcyx3YXRjaCBhcyBvLGluaXRpYWwgYXMgbixzeW5jQW5kSW5pdGlhbCBhcyBsfWZyb21cIi4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7Y2FzdCBhcyBhfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvY2FzdC5qc1wiO2ltcG9ydFwiLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBjfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgZCBmcm9tXCIuL1dpZGdldC5qc1wiO2ltcG9ydCBoIGZyb21cIi4vTGF5ZXJMaXN0L0xheWVyTGlzdFZpZXdNb2RlbC5qc1wiO2ltcG9ydCB1IGZyb21cIi4vTGF5ZXJMaXN0L0xpc3RJdGVtLmpzXCI7aW1wb3J0e2ZpbmRTZWxlY3RlZEl0ZW0gYXMgbSxzb3J0TGF5ZXJzVG9JZHMgYXMgZyxzb3J0Q2hpbGRMYXllcnNUb0lkcyBhcyBwLGNhblNvcnRTdWJsYXllcnMgYXMgX31mcm9tXCIuL0xheWVyTGlzdC9zdXBwb3J0L2xheWVyTGlzdFV0aWxzLmpzXCI7aW1wb3J0e2xvYWRDYWxjaXRlQ29tcG9uZW50cyBhcyBifWZyb21cIi4vc3VwcG9ydC9jb21wb25lbnRzVXRpbHMuanNcIjtpbXBvcnR7Z2xvYmFsQ3NzIGFzIHl9ZnJvbVwiLi9zdXBwb3J0L2dsb2JhbENzcy5qc1wiO2ltcG9ydHtsZWdhY3lJY29uIGFzIEl9ZnJvbVwiLi9zdXBwb3J0L2xlZ2FjeUljb24uanNcIjtpbXBvcnR7YWNjZXNzaWJsZUhhbmRsZXIgYXMgdn1mcm9tXCIuL3N1cHBvcnQvZGVjb3JhdG9ycy9hY2Nlc3NpYmxlSGFuZGxlci5qc1wiO2ltcG9ydHttZXNzYWdlQnVuZGxlIGFzIGZ9ZnJvbVwiLi9zdXBwb3J0L2RlY29yYXRvcnMvbWVzc2FnZUJ1bmRsZS5qc1wiO2ltcG9ydHt2bUV2ZW50IGFzIEN9ZnJvbVwiLi9zdXBwb3J0L2RlY29yYXRvcnMvdm1FdmVudC5qc1wiO2ltcG9ydHt0c3ggYXMgU31mcm9tXCIuL3N1cHBvcnQvanN4RmFjdG9yeS5qc1wiO2ltcG9ydFwiLi9zdXBwb3J0L3dpZGdldFV0aWxzLmpzXCI7aW1wb3J0IEEgZnJvbVwic29ydGFibGVqc1wiO2Z1bmN0aW9uICQoZSx0LGkpe2Uuc3BsaWNlKGksMCxlLnNwbGljZSh0LDEpWzBdKX1jb25zdCB3PXQub2ZUeXBlKHUpLGs9XCJkYXRhLXNvcnQtZmlsdGVyXCIsTT1cImRhdGEtbGF5ZXItdWlkXCIsVD1cImxheWVyVWlkXCIsRT1cImVzcmktbGF5ZXItbGlzdFwiLEw9YCR7RX1fX2l0ZW1gLHg9e2Jhc2U6RSx3aWRnZXRJY29uOkkubGF5ZXJzLG5ld1VJOmAke0V9LS1uZXctdWlgLG5vSXRlbXM6YCR7RX1fX25vLWl0ZW1zYCxsaXN0OmAke0V9X19saXN0YCxsaXN0Um9vdDpgJHtFfV9fbGlzdC0tcm9vdGAsbGlzdEV4Y2x1c2l2ZTpgJHtFfV9fbGlzdC0tZXhjbHVzaXZlYCxsaXN0RW1wdHk6YCR7RX1fX2xpc3QtLWVtcHR5YCxsaXN0RW1wdHlTdGF0ZTpgJHtFfV9fbGlzdC1lbXB0eS1zdGF0ZWAsbGlzdEVtcHR5U3RhdGVEcmFnRW5hYmxlZDpgJHtFfV9fbGlzdC1lbXB0eS1zdGF0ZS0tZHJhZy1lbmFibGVkYCxsaXN0SW5oZXJpdGVkOmAke0V9X19saXN0LS1pbmhlcml0ZWRgLGxpc3RJbmRlcGVuZGVudDpgJHtFfV9fbGlzdC0taW5kZXBlbmRlbnRgLGl0ZW06TCxpdGVtQ29udGVudDpgJHtMfS1jb250ZW50YCxpdGVtTWVzc2FnZTpgJHtMfS0taGFzLW1lc3NhZ2VgLGl0ZW1JbnZpc2libGU6YCR7TH0tLWludmlzaWJsZWAsaXRlbUludmlzaWJsZUF0U2NhbGU6YCR7TH0tLWludmlzaWJsZS1hdC1zY2FsZWAsaXRlbUNoaWxkcmVuOmAke0x9LS1oYXMtY2hpbGRyZW5gLGl0ZW1TZWxlY3RhYmxlOmAke0x9LS1zZWxlY3RhYmxlYCxpdGVtQ29udGFpbmVyOmAke0x9LWNvbnRhaW5lcmAsYWN0aW9uc01lbnU6YCR7TH0tYWN0aW9ucy1tZW51YCxhY3Rpb25zTWVudUl0ZW06YCR7TH0tYWN0aW9ucy1tZW51LWl0ZW1gLGFjdGlvbnNNZW51SXRlbUFjdGl2ZTpgJHtMfS1hY3Rpb25zLW1lbnUtaXRlbS0tYWN0aXZlYCxhY3Rpb25zOmAke0x9LWFjdGlvbnNgLGFjdGlvbnNMaXN0OmAke0x9LWFjdGlvbnMtbGlzdGAsYWN0aW9uOmAke0x9LWFjdGlvbmAsYWN0aW9uSWNvbjpgJHtMfS1hY3Rpb24taWNvbmAsYWN0aW9uSW1hZ2U6YCR7TH0tYWN0aW9uLWltYWdlYCxhY3Rpb25UaXRsZTpgJHtMfS1hY3Rpb24tdGl0bGVgLGFjdGlvblRvZ2dsZTpgJHtFfV9fYWN0aW9uLXRvZ2dsZWAsYWN0aW9uVG9nZ2xlT246YCR7RX1fX2FjdGlvbi10b2dnbGUtLW9uYCxsYWJlbDpgJHtMfS1sYWJlbGAsbWVzc2FnZTpgJHtMfS1tZXNzYWdlYCx0aXRsZTpgJHtMfS10aXRsZWAsc3RhdHVzSW5kaWNhdG9yOmAke0V9X19zdGF0dXMtaW5kaWNhdG9yYCxwdWJsaXNoaW5nOmAke0V9X19wdWJsaXNoaW5nYCx1cGRhdGluZzpgJHtFfV9fdXBkYXRpbmdgLGNvbm5lY3Rpb25TdGF0dXM6YCR7RX1fX2Nvbm5lY3Rpb24tc3RhdHVzYCxjb25uZWN0aW9uU3RhdHVzQ29ubmVjdGVkOmAke0V9X19jb25uZWN0aW9uLXN0YXR1cy0tY29ubmVjdGVkYCx0b2dnbGVWaXNpYmxlOmAke0x9LXRvZ2dsZWAsdG9nZ2xlVmlzaWJsZUljb246YCR7TH0tdG9nZ2xlLWljb25gLHRvZ2dsZUljb246YCR7TH0tdG9nZ2xlLWljb25gLHJhZGlvSWNvbjpgJHtMfS1yYWRpby1pY29uYCxjaGlsZFRvZ2dsZTpgJHtFfV9fY2hpbGQtdG9nZ2xlYCxjaGlsZFRvZ2dsZU9wZW46YCR7RX1fX2NoaWxkLXRvZ2dsZS0tb3BlbmAsY2hpbGRPcGVuZWQ6YCR7RX1fX2NoaWxkLXRvZ2dsZS1pY29uLS1vcGVuZWRgLGNoaWxkQ2xvc2VkOmAke0V9X19jaGlsZC10b2dnbGUtaWNvbi0tY2xvc2VkYCxjaGlsZENsb3NlZF9SVEw6YCR7RX1fX2NoaWxkLXRvZ2dsZS1pY29uLS1jbG9zZWQtcnRsYCxzb3J0YWJsZUNob3NlbjpgJHtFfS0tY2hvc2VuYH0sUj17YWN0aW9uczpcImFjdGlvbnNcIixhY3Rpb25TZWN0aW9uOlwiYWN0aW9uLXNlY3Rpb25cIixpdGVtczpcIml0ZW1zXCJ9LE49e2V4Y2x1c2l2ZTpcImV4Y2x1c2l2ZVwiLGluaGVyaXRlZDpcImluaGVyaXRlZFwiLGluZGVwZW5kZW50OlwiaW5kZXBlbmRlbnRcIn07ZnVuY3Rpb24gaihlKXtjb25zdHthY3Rpb25zT3Blbjp0LGNoaWxkcmVuOml9PWU7dCYmKGUuYWN0aW9uc09wZW49ITEpLGkuZm9yRWFjaCgoZT0+aihlKSkpfWNvbnN0IE89XCJyb290XCIsVT17c3RhdHVzSW5kaWNhdG9yczohMCxlcnJvcnM6ITF9O2xldCBWPWNsYXNzIGV4dGVuZHMgZHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5fc29ydGFibGVOb2Rlcz1uZXcgTWFwLHRoaXMuX3NvcnRhYmxlTWFwPW5ldyBNYXAsdGhpcy5fZm9jdXNTb3J0VWlkPW51bGwsdGhpcy5fdG9vbHRpcFJlZmVyZW5jZU1hcD1uZXcgTWFwLHRoaXMudmlzaWJsZUl0ZW1zPW51bGwsdGhpcy5pY29uQ2xhc3M9eC53aWRnZXRJY29uLHRoaXMuaWNvbj1udWxsLHRoaXMubGlzdEl0ZW1DYW5HaXZlRnVuY3Rpb249bnVsbCx0aGlzLmxpc3RJdGVtQ2FuUmVjZWl2ZUZ1bmN0aW9uPW51bGwsdGhpcy5tZXNzYWdlcz1udWxsLHRoaXMubWVzc2FnZXNDb21tb249bnVsbCx0aGlzLm11bHRpcGxlU2VsZWN0aW9uRW5hYmxlZD0hMSx0aGlzLnNlbGVjdGlvbkVuYWJsZWQ9ITEsdGhpcy5zZWxlY3RlZEl0ZW1zPW5ldyB3LHRoaXMuc3R5bGU9XCJjbGFzc2ljXCIsdGhpcy52aWV3TW9kZWw9bmV3IGgsdGhpcy52aXNpYmxlRWxlbWVudHM9ey4uLlV9LHRoaXMuX29uU29ydGFibGVTb3J0PSh7dG86ZSxmcm9tOnQsaXRlbTppLG5ld0luZGV4OnN9KT0+e3QmJmUmJih0PT09ZT90aGlzLl9zb3J0TGF5ZXJzKHRoaXMuX3NvcnRhYmxlTWFwLmdldCh0LmRhdGFzZXQuZ3JvdXApKTp0aGlzLl9tb3ZlTGF5ZXJGcm9tQ2hpbGRMaXN0KHt0bzplLGZyb206dCxpdGVtOmksbmV3SW5kZXg6c30pKX0sdGhpcy5fc29ydGFibGVDYW5Tb3J0PShlLHQpPT4hKCFlLmVsLmRhdGFzZXQuZ3JvdXB8fCF0LmVsLmRhdGFzZXQuZ3JvdXApLHRoaXMuX3NvcnRhYmxlQ2FuUHVsbD0oZSx0LGkpPT57Y29uc3R7bGlzdEl0ZW1DYW5HaXZlRnVuY3Rpb246c309dGhpcyxvPXtzZWxlY3RlZDpQKGkpLGZyb206UCh0LmVsKSx0bzpQKGUuZWwpfTtyZXR1cm4hdGhpcy5fc29ydGFibGVDYW5Tb3J0KGUsdCl8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN8fHMuY2FsbChudWxsLG8pfSx0aGlzLl9zb3J0YWJsZUNhblB1dD0oZSx0LGkpPT57Y29uc3R7bGlzdEl0ZW1DYW5SZWNlaXZlRnVuY3Rpb246c309dGhpcyxvPXtzZWxlY3RlZDpQKGkpLGZyb206UCh0LmVsKSx0bzpQKGUuZWwpfTtyZXR1cm4hdGhpcy5fc29ydGFibGVDYW5Tb3J0KGUsdCl8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN8fHMuY2FsbChudWxsLG8pfSx0aGlzLl9vblNvcnRhYmxlRW5kPSh7b2xkSW5kZXg6ZSxmcm9tOnQsdG86aSxpdGVtOnN9KT0+e3QhPT1pJiZ0Lmluc2VydEJlZm9yZShzLHQuY2hpbGRyZW5bZV0pfX1pbml0aWFsaXplKCl7Y29uc3QgZT10aGlzLm9wZXJhdGlvbmFsSXRlbXM7dGhpcy5fc2V0VmlzaWJsZUl0ZW1zKGUpLHRoaXMuYWRkSGFuZGxlcyhbcygoKCk9PnRoaXMub3BlcmF0aW9uYWxJdGVtcyksXCJjaGFuZ2VcIiwoKCk9PnRoaXMuX2l0ZW1zQ2hhbmdlZChlKSkpLG8oKCgpPT50aGlzLnZpc2libGVFbGVtZW50cyksKCgpPT50aGlzLl9pdGVtc0NoYW5nZWQoZSkpKSxvKCgoKT0+dGhpcy5zZWxlY3Rpb25FbmFibGVkKSwoKCk9PnRoaXMuX3RvZ2dsZUFsbFNvcnRpbmcoKSksbildKX1sb2FkRGVwZW5kZW5jaWVzKCl7cmV0dXJuIGIoe2ljb246KCk9PmltcG9ydChcIkBlc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1pY29uLmpzXCIpLHRvb2x0aXA6KCk9PmltcG9ydChcIkBlc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS10b29sdGlwLmpzXCIpfSl9ZGVzdHJveSgpe3RoaXMuX2Rlc3Ryb3lTb3J0YWJsZXMoKSx0aGlzLl90b29sdGlwUmVmZXJlbmNlTWFwLmNsZWFyKCl9Z2V0IGxhYmVsKCl7cmV0dXJuIHRoaXMubWVzc2FnZXM/LndpZGdldExhYmVsPz9cIlwifXNldCBsYWJlbChlKXt0aGlzLl9vdmVycmlkZUlmU29tZShcImxhYmVsXCIsZSl9Z2V0IGxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlld01vZGVsLmxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9ufXNldCBsaXN0SXRlbUNyZWF0ZWRGdW5jdGlvbihlKXt0aGlzLnZpZXdNb2RlbC5saXN0SXRlbUNyZWF0ZWRGdW5jdGlvbj1lfWdldCBvcGVyYXRpb25hbEl0ZW1zKCl7cmV0dXJuIHRoaXMudmlld01vZGVsLm9wZXJhdGlvbmFsSXRlbXN9c2V0IG9wZXJhdGlvbmFsSXRlbXMoZSl7dGhpcy52aWV3TW9kZWwub3BlcmF0aW9uYWxJdGVtcz1lfWdldCB2aWV3KCl7cmV0dXJuIHRoaXMudmlld01vZGVsLnZpZXd9c2V0IHZpZXcoZSl7dGhpcy52aWV3TW9kZWwudmlldz1lfWNhc3RWaXNpYmxlRWxlbWVudHMoZSl7cmV0dXJuey4uLlUsLi4uZX19dHJpZ2dlckFjdGlvbihlLHQpe3JldHVybiB0aGlzLnZpZXdNb2RlbC50cmlnZ2VyQWN0aW9uKGUsdCl9cmVuZGVyKCl7Y29uc3R7dmlzaWJsZUl0ZW1zOmUsc3R5bGU6dH09dGhpcyxpPXRoaXMudmlld01vZGVsPy5zdGF0ZSxzPXtbeC5uZXdVSV06XCJtb2Rlcm5cIj09PXQsW3kuaGlkZGVuXTpcImxvYWRpbmdcIj09PWksW3kuZGlzYWJsZWRdOlwiZGlzYWJsZWRcIj09PWl9LG89dGhpcy5fcmVuZGVySXRlbVRvb2x0aXBzKCksbj10aGlzLl9yZW5kZXJJdGVtcygpO3JldHVybiBTKFwiZGl2XCIse2NsYXNzOnRoaXMuY2xhc3Nlcyh4LmJhc2UseS53aWRnZXQseS5wYW5lbCxzKX0sZS5sZW5ndGg/W28sbl06dGhpcy5fcmVuZGVyTm9JdGVtcygpKX1fcmVuZGVySXRlbVRvb2x0aXAoZSl7Y29uc3R7X3Rvb2x0aXBSZWZlcmVuY2VNYXA6dCxtZXNzYWdlczppfT10aGlzO3JldHVybiBlP1MoXCJjYWxjaXRlLXRvb2x0aXBcIix7cmVmZXJlbmNlRWxlbWVudDp0LmdldChlLnVpZCl9LGkubGF5ZXJJbmNvbXBhdGlibGVUb29sdGlwKTpudWxsfV9yZW5kZXJJdGVtVG9vbHRpcE5vZGVzKGUpe2NvbnN0e2luY29tcGF0aWJsZTp0LGNoaWxkcmVuOml9PWU7cmV0dXJuW3Q/dGhpcy5fcmVuZGVySXRlbVRvb2x0aXAoZSk6bnVsbCwuLi4hdCYmaT9pLnRvQXJyYXkoKS5tYXAoKGU9PnRoaXMuX3JlbmRlckl0ZW1Ub29sdGlwTm9kZXMoZSkpKTpbXV19X3JlbmRlckl0ZW1Ub29sdGlwcygpe3JldHVybiB0aGlzLnZpc2libGVJdGVtcy50b0FycmF5KCkubWFwKChlPT50aGlzLl9yZW5kZXJJdGVtVG9vbHRpcE5vZGVzKGUpKSk/P1tdfV9yZW5kZXJOb0l0ZW1zKCl7cmV0dXJuIFMoXCJkaXZcIix7Y2xhc3M6eC5ub0l0ZW1zfSx0aGlzLm1lc3NhZ2VzLm5vSXRlbXNUb0Rpc3BsYXkpfV9yZW5kZXJJdGVtcygpe2NvbnN0e3Zpc2libGVJdGVtczplLHNlbGVjdGlvbkVuYWJsZWQ6dCxtZXNzYWdlczppfT10aGlzO3JldHVybiBTKFwidWxcIix7YWZ0ZXJDcmVhdGU6dGhpcy5fc29ydE5vZGVDcmVhdGVkLGFmdGVyUmVtb3ZlZDp0aGlzLl9zb3J0Tm9kZVJlbW92ZWQsYWZ0ZXJVcGRhdGU6dGhpcy5fc29ydE5vZGVDcmVhdGVkLFwiYXJpYS1sYWJlbFwiOmkud2lkZ2V0TGFiZWwsYmluZDp0aGlzLGNsYXNzOnRoaXMuY2xhc3Nlcyh4Lmxpc3QseC5saXN0Um9vdCx4Lmxpc3RJbmRlcGVuZGVudCksXCJkYXRhLWdyb3VwXCI6Tyxyb2xlOnQ/XCJsaXN0Ym94XCI6dm9pZCAwfSxlLm1hcCgoZT0+dGhpcy5fcmVuZGVySXRlbShlLG51bGwpKSkudG9BcnJheSgpKX1fcmVuZGVyQWN0aW9uc01lbnVJY29uKGUsdCl7Y29uc3R7bWVzc2FnZXNDb21tb246aX09dGhpcyxzPXtbeC5hY3Rpb25zTWVudUl0ZW1BY3RpdmVdOmUuYWN0aW9uc09wZW59O3JldHVybiBTKFwiZGl2XCIse1wiYXJpYS1jb250cm9sc1wiOnQsXCJhcmlhLWxhYmVsXCI6aS5vcHRpb25zLGJpbmQ6dGhpcyxjbGFzczp0aGlzLmNsYXNzZXMoeC5hY3Rpb25zTWVudUl0ZW0scyksXCJkYXRhLWl0ZW1cIjplLGtleTpcImFjdGlvbnMtbWVudS10b2dnbGVcIixvbmNsaWNrOnRoaXMuX3RvZ2dsZUFjdGlvbnNPcGVuLG9ua2V5ZG93bjp0aGlzLl90b2dnbGVBY3Rpb25zT3Blbixyb2xlOlwiYnV0dG9uXCIsdGFiSW5kZXg6MCx0aXRsZTppLm9wdGlvbnN9LFMoXCJzcGFuXCIse1wiYXJpYS1oaWRkZW5cIjpcInRydWVcIixjbGFzczpJLmhhbmRsZUhvcml6b250YWx9KSl9X3JlbmRlckFjdGlvbnNNZW51KGUsdCxpLHMpe2NvbnN0e3BhbmVsOm99PWUsbj1vJiZvLnZpc2libGU/dGhpcy5fcmVuZGVyUGFuZWxCdXR0b24obyk6bnVsbCxsPTE9PT1pJiZ0aGlzLl9nZXRTaW5nbGVBY3Rpb25CdXR0b24odCkscj1sP3RoaXMuX3JlbmRlckFjdGlvbih7aXRlbTplLGFjdGlvbjpsLHNpbmdsZUFjdGlvbjohMH0pOm51bGwsYT0hbCYmaT90aGlzLl9yZW5kZXJBY3Rpb25zTWVudUljb24oZSxzKTpudWxsO3JldHVybiBhfHxufHxsP1MoXCJkaXZcIix7Y2xhc3M6eC5hY3Rpb25zTWVudSxrZXk6XCJhY3Rpb25zLW1lbnVcIn0sbixyLGEpOm51bGx9X3JlbmRlckNoaWxkTGlzdChlLHQpe2NvbnN0e3NlbGVjdGlvbkVuYWJsZWQ6aX09dGhpcyx7dmlzaWJpbGl0eU1vZGU6cyxjaGlsZHJlbjpvfT1lLG49dGhpcy5faGFzQ2hpbGRyZW4oZSksbD0hbiYmaSYmXCJncm91cFwiPT09ZS5sYXllcj8udHlwZSx7ZXhjbHVzaXZlOnIsaW5oZXJpdGVkOmF9PU4sYz17W3gubGlzdEVtcHR5XTohbixbeC5saXN0RXhjbHVzaXZlXTpzPT09cixbeC5saXN0SW5oZXJpdGVkXTpzPT09YSxbeC5saXN0SW5kZXBlbmRlbnRdOnMhPT1hJiZzIT09cn0sZD17W3gubGlzdEVtcHR5U3RhdGVdOiEwLFt4Lmxpc3RFbXB0eVN0YXRlRHJhZ0VuYWJsZWRdOml9O3JldHVybiBufHxsP24/UyhcInVsXCIse2FmdGVyQ3JlYXRlOnRoaXMuX3NvcnROb2RlQ3JlYXRlZCxhZnRlclJlbW92ZWQ6dGhpcy5fc29ydE5vZGVSZW1vdmVkLGFmdGVyVXBkYXRlOnRoaXMuX3NvcnROb2RlQ3JlYXRlZCxcImFyaWEtZXhwYW5kZWRcIjplLm9wZW4/XCJ0cnVlXCI6XCJmYWxzZVwiLGJpbmQ6dGhpcyxjbGFzczp0aGlzLmNsYXNzZXMoeC5saXN0LGMpLFwiZGF0YS1ncm91cFwiOmUudWlkLFwiZGF0YS1pdGVtXCI6ZSxoaWRkZW46IWUub3BlbiYmIWx8fG51bGwsaWQ6dCxrZXk6XCJsaXN0LWl0ZW1zXCIscm9sZTppP1wibGlzdGJveFwiOnM9PT1yP1wicmFkaW9ncm91cFwiOlwiZ3JvdXBcIn0sbz8ubWFwKCh0PT50aGlzLl9yZW5kZXJJdGVtKHQsZSkpKS50b0FycmF5KCkpOlMoXCJkaXZcIix7YWZ0ZXJDcmVhdGU6dGhpcy5fc29ydE5vZGVDcmVhdGVkLGFmdGVyUmVtb3ZlZDp0aGlzLl9zb3J0Tm9kZVJlbW92ZWQsYWZ0ZXJVcGRhdGU6dGhpcy5fc29ydE5vZGVDcmVhdGVkLGJpbmQ6dGhpcyxjbGFzczp0aGlzLmNsYXNzZXMoZCksXCJkYXRhLWdyb3VwXCI6ZS51aWQsXCJkYXRhLWl0ZW1cIjplLGlkOnQsa2V5OlwibGlzdC1pdGVtc1wifSx0aGlzLm1lc3NhZ2VzLm5vSXRlbXNUb0Rpc3BsYXkpOm51bGx9X3JlbmRlckNoaWxkcmVuVG9nZ2xlKGUsdCl7Y29uc3R7bWVzc2FnZXNDb21tb246aX09dGhpcyxzPXRoaXMuX2hhc0NoaWxkcmVuKGUpLG89e1t4LmNoaWxkVG9nZ2xlT3Blbl06ZS5vcGVufSxuPWUub3Blbj9pLmNvbGxhcHNlOmkuZXhwYW5kO3JldHVybiBzP1MoXCJzcGFuXCIse1wiYXJpYS1jb250cm9sc1wiOnQsXCJhcmlhLWxhYmVsXCI6bixjbGFzczp0aGlzLmNsYXNzZXMoeC5jaGlsZFRvZ2dsZSxvKSxcImRhdGEtaXRlbVwiOmUsa2V5OlwidG9nZ2xlLWNoaWxkcmVuXCIsb25jbGljazp0aGlzLl90b2dnbGVDaGlsZHJlbkNsaWNrLG9ua2V5ZG93bjp0aGlzLl90b2dnbGVDaGlsZHJlbkNsaWNrLHJvbGU6XCJidXR0b25cIix0YWJJbmRleDowLHRpdGxlOm59LFMoXCJzcGFuXCIse1wiYXJpYS1oaWRkZW5cIjpcInRydWVcIixjbGFzczp0aGlzLmNsYXNzZXMoeC5jaGlsZENsb3NlZCxJLnJpZ2h0VHJpYW5nbGVBcnJvdyl9KSxTKFwic3BhblwiLHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsY2xhc3M6dGhpcy5jbGFzc2VzKHguY2hpbGRPcGVuZWQsSS5kb3duQXJyb3cpfSksUyhcInNwYW5cIix7XCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwiLGNsYXNzOnRoaXMuY2xhc3Nlcyh4LmNoaWxkQ2xvc2VkX1JUTCxJLmxlZnRUcmlhbmdsZUFycm93KX0pKTpudWxsfV9yZW5kZXJJdGVtTWVzc2FnZShlKXtyZXR1cm4gZS5lcnJvcj9TKFwiZGl2XCIse2NsYXNzOngubWVzc2FnZSxrZXk6XCJlc3JpLWxheWVyLWxpc3RfX2Vycm9yXCIscm9sZTpcImFsZXJ0XCJ9LFMoXCJzcGFuXCIse1wiYXJpYS1oaWRkZW5cIjpcInRydWVcIixjbGFzczpJLm5vdGljZVRyaWFuZ2xlfSksdGhpcy5tZXNzYWdlcy5sYXllckVycm9yKTplLmluY29tcGF0aWJsZT9TKFwiZGl2XCIse2NsYXNzOngubWVzc2FnZSxrZXk6XCJlc3JpLWxheWVyLWxpc3RfX2luY29tcGF0aWJsZVwiLHJvbGU6XCJhbGVydFwifSxTKFwic3BhblwiLHthZnRlckNyZWF0ZTp0PT50aGlzLl9zZXRUb29sdGlwUmVmZXJlbmNlKHQsZSksXCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwiLGJpbmQ6dGhpcyxjbGFzczpJLm5vdGljZVRyaWFuZ2xlLHRhYkluZGV4OjB9KSx0aGlzLm1lc3NhZ2VzLmxheWVySW5jb21wYXRpYmxlKTpudWxsfV9yZW5kZXJJdGVtQ29udGVudChlLHQsaSl7Y29uc3R7aWQ6c309dGhpcyxvPWAke3N9XyR7ZS51aWR9YCxuPWAke299X2FjdGlvbnNgLGw9YCR7b31fX2xpc3RgLHtwYW5lbDpyfT1lLGE9dGhpcy5fZmlsdGVyQWN0aW9ucyhlLmFjdGlvbnNTZWN0aW9ucyksYz10aGlzLl9jb3VudEFjdGlvbnMoYSk7cmV0dXJuW1MoXCJkaXZcIix7Y2xhc3M6eC5pdGVtQ29udGFpbmVyLGtleTpcImxpc3QtaXRlbS1jb250YWluZXJcIn0sdGhpcy5fcmVuZGVyQ2hpbGRyZW5Ub2dnbGUoZSxsKSx0aGlzLl9yZW5kZXJMYWJlbChlLHQsaSksdGhpcy5fcmVuZGVyQWN0aW9uc01lbnUoZSxhLGMsbikpLHRoaXMuX3JlbmRlckl0ZW1NZXNzYWdlKGUpLGM/dGhpcy5fcmVuZGVyQWN0aW9uc1NlY3Rpb25zKGUsYSxuKTpudWxsLHImJnIub3BlbiYmIXIuZGlzYWJsZWQ/ci5yZW5kZXIoKTpudWxsLHRoaXMuX3JlbmRlckNoaWxkTGlzdChlLGwpXX1fcmVuZGVySXRlbShlLHQpe2NvbnN0e3N0eWxlOmksaWQ6cyxzZWxlY3Rpb25FbmFibGVkOm8sc2VsZWN0ZWRJdGVtczpufT10aGlzLGw9YCR7YCR7c31fJHtlLnVpZH1gfV9fdGl0bGVgLHI9dGhpcy5faGFzTWVzc2FnZShlKSxhPXRoaXMuX2hhc0NoaWxkcmVuKGUpLGM9e1t4Lml0ZW1DaGlsZHJlbl06YSxbeC5pdGVtTWVzc2FnZV06ISFyLFt4Lml0ZW1JbnZpc2libGVdOlwibW9kZXJuXCI9PT1pJiYhZS52aXNpYmxlLFt4Lml0ZW1JbnZpc2libGVBdFNjYWxlXTohZS52aXNpYmxlQXRDdXJyZW50U2NhbGUsW3guaXRlbVNlbGVjdGFibGVdOm99O2lmKG8pe2NvbnN0IGk9e1tNXTplLmxheWVyPy51aWQsW2tdOighZS5zb3J0YWJsZSkudG9TdHJpbmcoKX07cmV0dXJuIFMoXCJsaVwiLHthZnRlckNyZWF0ZTp0aGlzLl9mb2N1c0xpc3RJdGVtLGFmdGVyVXBkYXRlOnRoaXMuX2ZvY3VzTGlzdEl0ZW0sXCJhcmlhLWxhYmVsbGVkYnlcIjpsLFwiYXJpYS1zZWxlY3RlZFwiOm0oZSxuKT9cInRydWVcIjpcImZhbHNlXCIsYmluZDp0aGlzLGNsYXNzOnRoaXMuY2xhc3Nlcyh4Lml0ZW0sYyksXCJkYXRhLWdyb3VwXCI6dD90LnVpZDpPLFwiZGF0YS1pdGVtXCI6ZSxrZXk6YGl0ZW0td2l0aC1zZWxlY3Rpb24tJHtlLnVpZH1gLG9uY2xpY2s6dGhpcy5fdG9nZ2xlU2VsZWN0aW9uLG9ua2V5ZG93bjp0aGlzLl9zZWxlY3Rpb25LZXlkb3duLHJvbGU6XCJvcHRpb25cIix0YWJJbmRleDowLC4uLml9LHRoaXMuX3JlbmRlckl0ZW1Db250ZW50KGUsdCxsKSl9cmV0dXJuIFMoXCJsaVwiLHthZnRlckNyZWF0ZTp0aGlzLl9mb2N1c0xpc3RJdGVtLGFmdGVyVXBkYXRlOnRoaXMuX2ZvY3VzTGlzdEl0ZW0sXCJhcmlhLWxhYmVsbGVkYnlcIjpsLGJpbmQ6dGhpcyxjbGFzczp0aGlzLmNsYXNzZXMoeC5pdGVtLGMpLGtleTpgaXRlbS1uby1zZWxlY3Rpb24tJHtlLnVpZH1gfSx0aGlzLl9yZW5kZXJJdGVtQ29udGVudChlLHQsbCkpfV9yZW5kZXJDb25uZWN0aW9uSWNvbihlKXtjb25zdHtjb25uZWN0aW9uU3RhdHVzOnR9PWU7cmV0dXJuIG51bGwhPXQ/UyhcImNhbGNpdGUtaWNvblwiLHtpY29uOlwiY29ubmVjdGVkXCI9PT10P1wiYmVhY29uXCI6XCJvZmZsaW5lXCIsc2NhbGU6XCJzXCJ9KTpudWxsfV9yZW5kZXJJdGVtU3RhdHVzKGUsdCl7Y29uc3R7dmlzaWJsZUVsZW1lbnRzOml9PXRoaXM7aWYoIWkuc3RhdHVzSW5kaWNhdG9ycylyZXR1cm4gbnVsbDtjb25zdHtjb25uZWN0aW9uU3RhdHVzOnMscHVibGlzaGluZzpvLHVwZGF0aW5nOm59PWUsbD1uJiYhdCxyPSEhcztyZXR1cm4gUyhcInNwYW5cIix7Y2xhc3M6dGhpcy5jbGFzc2VzKHtbeC5zdGF0dXNJbmRpY2F0b3JdOiEwLFt4LnB1Ymxpc2hpbmddOm8sW3gudXBkYXRpbmddOmwsW3guY29ubmVjdGlvblN0YXR1c106cixbeC5jb25uZWN0aW9uU3RhdHVzQ29ubmVjdGVkXTpyJiZcImNvbm5lY3RlZFwiPT09c30pLGtleTpcImxheWVyLWl0ZW0tc3RhdHVzXCJ9LHRoaXMuX3JlbmRlckNvbm5lY3Rpb25JY29uKGUpKX1fcmVuZGVySXRlbVRpdGxlKGUsdCl7Y29uc3R7bWVzc2FnZXM6aX09dGhpcztpZighZSlyZXR1cm4gbnVsbDtjb25zdCBzPWUudGl0bGV8fGkudW50aXRsZWRMYXllcixvPWUudmlzaWJsZUF0Q3VycmVudFNjYWxlP3M6YCR7c30gKCR7aS5sYXllckludmlzaWJsZUF0U2NhbGV9KWA7cmV0dXJuIFMoXCJzcGFuXCIse1wiYXJpYS1sYWJlbFwiOm8sY2xhc3M6eC50aXRsZSxpZDp0LGtleTpcImxheWVyLXRpdGxlLWNvbnRhaW5lclwiLHRpdGxlOm99LHMpfV9yZW5kZXJJdGVtVG9nZ2xlSWNvbih7dmlzaWJsZTplfSx0KXtjb25zdHtzdHlsZTppfT10aGlzLHtleGNsdXNpdmU6c309TixvPXQ/LnZpc2liaWxpdHlNb2RlLG49XCJtb2Rlcm5cIj09PWksbD1vPT09cyxyPXtbeC50b2dnbGVWaXNpYmxlSWNvbl06bixbeC50b2dnbGVJY29uXTpuJiYhbCxbeC5yYWRpb0ljb25dOm4mJmwsW0kucmFkaW9DaGVja2VkXTpsJiZlLFtJLnJhZGlvVW5jaGVja2VkXTpsJiYhZSxbSS52aXNpYmxlXTohbCYmZSxbSS5ub25WaXNpYmxlXTohbCYmIWV9O3JldHVybiBTKFwic3BhblwiLHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsY2xhc3M6dGhpcy5jbGFzc2VzKHIpLGtleTpcIml0ZW0tdG9nZ2xlLWljb25cIn0pfV9yZW5kZXJJdGVtVG9nZ2xlKGUsdCxpKXtjb25zdHtzZWxlY3Rpb25FbmFibGVkOnMsbWVzc2FnZXM6b309dGhpcyx7ZXhjbHVzaXZlOm59PU4sbD10Py52aXNpYmlsaXR5TW9kZSxyPWw9PT1uP1wicmFkaW9cIjpcInN3aXRjaFwiO3JldHVybiBTKFwic3BhblwiLHM/e1wiYXJpYS1jaGVja2VkXCI6ZS52aXNpYmxlP1widHJ1ZVwiOlwiZmFsc2VcIixcImFyaWEtbGFiZWxsZWRieVwiOmksYmluZDp0aGlzLGNsYXNzOngudG9nZ2xlVmlzaWJsZSxcImRhdGEtaXRlbVwiOmUsXCJkYXRhLXBhcmVudC12aXNpYmlsaXR5XCI6bCxrZXk6XCJpdGVtLXRvZ2dsZS1zZWxlY3Rpb24tZW5hYmxlZFwiLG9uY2xpY2s6dGhpcy5fdG9nZ2xlVmlzaWJpbGl0eSxvbmtleWRvd246dGhpcy5fdG9nZ2xlVmlzaWJpbGl0eSxyb2xlOnIsdGFiSW5kZXg6MCx0aXRsZTpvLmxheWVyVmlzaWJpbGl0eX06e2NsYXNzOngudG9nZ2xlVmlzaWJsZSxrZXk6XCJpdGVtLXRvZ2dsZVwifSx0aGlzLl9yZW5kZXJJdGVtVG9nZ2xlSWNvbihlLHQpKX1fcmVuZGVyTGFiZWwoZSx0LGkpe2NvbnN0e3NlbGVjdGlvbkVuYWJsZWQ6cyxzdHlsZTpvLG1lc3NhZ2VzOm59PXRoaXMse2luaGVyaXRlZDpsLGV4Y2x1c2l2ZTpyfT1OLGE9dD8udmlzaWJpbGl0eU1vZGUsYz1hPT09cj9cInJhZGlvXCI6XCJzd2l0Y2hcIixkPXRoaXMuX3JlbmRlckl0ZW1UaXRsZShlLGkpLGg9dGhpcy5fcmVuZGVySXRlbVN0YXR1cyhlLHQpLHU9dGhpcy5fcmVuZGVySXRlbVRvZ2dsZShlLHQsaSksbT1cIm1vZGVyblwiPT09bz9bZCxoLHVdOlt1LGQsaF0sZz1TKFwiZGl2XCIscz97Y2xhc3M6eC5sYWJlbCxrZXk6YGl0ZW0tbGFiZWwtbm8tc2VsZWN0aW9uLSR7ZS51aWR9YH06e1wiYXJpYS1jaGVja2VkXCI6ZS52aXNpYmxlP1widHJ1ZVwiOlwiZmFsc2VcIixcImFyaWEtbGFiZWxsZWRieVwiOmksYmluZDp0aGlzLGNsYXNzOngubGFiZWwsXCJkYXRhLWl0ZW1cIjplLFwiZGF0YS1wYXJlbnQtdmlzaWJpbGl0eVwiOmEsa2V5OmBpdGVtLWxhYmVsLXdpdGgtc2VsZWN0aW9uLSR7ZS51aWR9YCxvbmNsaWNrOnRoaXMuX3RvZ2dsZVZpc2liaWxpdHksb25rZXlkb3duOnRoaXMuX3RvZ2dsZVZpc2liaWxpdHkscm9sZTpjLHRhYkluZGV4OjAsdGl0bGU6bi5sYXllclZpc2liaWxpdHl9LG0pO3JldHVybiBhPT09bHx8ZS5lcnJvcj9TKFwiZGl2XCIse2NsYXNzOngubGFiZWwsa2V5OmBpdGVtLWxhYmVsLWNvbnRhaW5lci0ke2UudWlkfWB9LHRoaXMuX3JlbmRlckl0ZW1UaXRsZShlLGkpLHRoaXMuX3JlbmRlckl0ZW1TdGF0dXMoZSx0KSk6Z31fcmVuZGVyUGFuZWxCdXR0b24oZSl7Y29uc3R7Y2xhc3NOYW1lOnQsb3BlbjppLHRpdGxlOnMsaW1hZ2U6byxkaXNhYmxlZDpufT1lLGw9b3x8dD90OkkuZGVmYXVsdEFjdGlvbixyPXRoaXMuX2dldEljb25JbWFnZVN0eWxlcyhlKSxhPXtbeC5hY3Rpb25zTWVudUl0ZW1BY3RpdmVdOmkmJiFufSxjPXtbeC5hY3Rpb25JbWFnZV06ISFyW1wiYmFja2dyb3VuZC1pbWFnZVwiXSxbeS5kaXNhYmxlZEVsZW1lbnRdOmUuZGlzYWJsZWR9O3JldHVybiBsJiYoY1tsXT0hIWwpLFMoXCJkaXZcIix7XCJhcmlhLWRpc2FibGVkXCI6ZS5kaXNhYmxlZC50b1N0cmluZygpLFwiYXJpYS1sYWJlbFwiOnMsYmluZDp0aGlzLGNsYXNzOnRoaXMuY2xhc3Nlcyh4LmFjdGlvbnNNZW51SXRlbSxhKSxcImRhdGEtcGFuZWxcIjplLGtleTpgcGFuZWwtJHtlLnVpZH1gLG9uY2xpY2s6dGhpcy5fdHJpZ2dlclBhbmVsLG9ua2V5ZG93bjp0aGlzLl90cmlnZ2VyUGFuZWwscm9sZTpcImJ1dHRvblwiLHRhYkluZGV4OmUuZGlzYWJsZWQ/dm9pZCAwOjAsdGl0bGU6c30sUyhcInNwYW5cIix7Y2xhc3M6dGhpcy5jbGFzc2VzKGMpLHN0eWxlczpyfSkpfV9yZW5kZXJBY3Rpb25zU2VjdGlvbnMoZSx0LGkpe2NvbnN0IHM9dC50b0FycmF5KCkubWFwKCgodCxpKT0+UyhcInVsXCIse2NsYXNzOnguYWN0aW9uc0xpc3Qsa2V5OmAke2V9LWFjdGlvbi1zZWN0aW9uLSR7aX1gfSx0aGlzLl9yZW5kZXJBY3Rpb25TZWN0aW9uKGUsdCkpKSk7cmV0dXJuIFMoXCJkaXZcIix7XCJhcmlhLWV4cGFuZGVkXCI6ZS5hY3Rpb25zT3Blbj9cInRydWVcIjpcImZhbHNlXCIsY2xhc3M6eC5hY3Rpb25zLGhpZGRlbjohZS5hY3Rpb25zT3Blbnx8bnVsbCxpZDppLGtleTpcImFjdGlvbnMtc2VjdGlvblwiLHJvbGU6XCJncm91cFwifSxzKX1fcmVuZGVyQWN0aW9uU2VjdGlvbihlLHQpe3JldHVybih0JiZ0LnRvQXJyYXkoKSkubWFwKCh0PT50aGlzLl9yZW5kZXJBY3Rpb24oe2l0ZW06ZSxhY3Rpb246dH0pKSl9X3JlbmRlckFjdGlvbkljb24oZSl7Y29uc3R7YWN0aXZlOnQsY2xhc3NOYW1lOml9PWUscz10aGlzLl9nZXRJY29uSW1hZ2VTdHlsZXMoZSksbz1cImJ1dHRvblwiIT09ZS50eXBlfHxlLmltYWdlfHxpP2k6SS5kZWZhdWx0QWN0aW9uLG49e1t4LmFjdGlvbkltYWdlXTohdCYmISFzW1wiYmFja2dyb3VuZC1pbWFnZVwiXSxbSS5sb2FkaW5nSW5kaWNhdG9yXTp0LFt5LnJvdGF0aW5nXTp0fTtyZXR1cm4gbyYmIXQmJihuW29dPSEwKSxTKFwic3BhblwiLHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsY2xhc3M6dGhpcy5jbGFzc2VzKHguYWN0aW9uSWNvbixuKSxrZXk6XCJhY3Rpb24taWNvblwiLHN0eWxlczpzfSl9X3JlbmRlckFjdGlvblRpdGxlKGUsdCl7cmV0dXJuIHQ/bnVsbDpTKFwic3BhblwiLHtjbGFzczp4LmFjdGlvblRpdGxlLGtleTpcImFjdGlvbi10aXRsZVwifSxlKX1fcmVuZGVyQWN0aW9uKGUpe2NvbnN0e2l0ZW06dCxhY3Rpb246aSxzaW5nbGVBY3Rpb246c309ZSx7YWN0aXZlOm8sZGlzYWJsZWQ6bix0aXRsZTpsfT1pLHI9e1t4LmFjdGlvbnNNZW51SXRlbV06cyYmXCJidXR0b25cIj09PWkudHlwZSxbeC5hY3Rpb25dOm98fCFzJiZcInRvZ2dsZVwiIT09aS50eXBlLFt4LmFjdGlvblRvZ2dsZV06IW8mJlwidG9nZ2xlXCI9PT1pLnR5cGUsW3guYWN0aW9uVG9nZ2xlT25dOiFvJiZcInRvZ2dsZVwiPT09aS50eXBlJiZpLnZhbHVlLFt5LmRpc2FibGVkRWxlbWVudF06bn0sYT1bdGhpcy5fcmVuZGVyQWN0aW9uSWNvbihpKSx0aGlzLl9yZW5kZXJBY3Rpb25UaXRsZShsLHMpXTtyZXR1cm4gcz9TKFwiZGl2XCIse1wiYXJpYS1sYWJlbFwiOmw/P3ZvaWQgMCxiaW5kOnRoaXMsY2xhc3NlczpyLFwiZGF0YS1hY3Rpb25cIjppLFwiZGF0YS1pdGVtXCI6dCxrZXk6YHNpbmdsZS1hY3Rpb24tJHtpLnVpZH1gLG9uY2xpY2s6dGhpcy5fdHJpZ2dlckFjdGlvbixvbmtleWRvd246dGhpcy5fdHJpZ2dlckFjdGlvbixyb2xlOlwiYnV0dG9uXCIsdGFiSW5kZXg6MCx0aXRsZTpsPz92b2lkIDB9LGEpOlMoXCJsaVwiLHtcImFyaWEtbGFiZWxcIjpsPz92b2lkIDAsYmluZDp0aGlzLGNsYXNzZXM6cixcImRhdGEtYWN0aW9uXCI6aSxcImRhdGEtaXRlbVwiOnQsa2V5OmBhY3Rpb24tJHtpLnVpZH1gLG9uY2xpY2s6dGhpcy5fdHJpZ2dlckFjdGlvbixvbmtleWRvd246dGhpcy5fdHJpZ2dlckFjdGlvbixyb2xlOlwiYnV0dG9uXCIsdGFiSW5kZXg6MCx0aXRsZTpsPz92b2lkIDB9LGEpfV9zZXRUb29sdGlwUmVmZXJlbmNlKGUsdCl7dGhpcy5fdG9vbHRpcFJlZmVyZW5jZU1hcC5zZXQodC51aWQsZSksdGhpcy5zY2hlZHVsZVJlbmRlcigpfV9oYXNNZXNzYWdlKGUpe3JldHVybiEhZS5lcnJvcnx8ZS5pbmNvbXBhdGlibGV9X2hhc0NoaWxkcmVuKGUpe3JldHVybiEhZS5jaGlsZHJlbi5sZW5ndGgmJiF0aGlzLl9oYXNNZXNzYWdlKGUpfV9zb3J0Tm9kZVJlbW92ZWQoZSl7Y29uc3R7X3NvcnRhYmxlTWFwOnR9PXRoaXMsaT1lLmRhdGFzZXQuZ3JvdXAscz10LmdldChpKTtzJiZzLmRlc3Ryb3koKSx0LmRlbGV0ZShpKX1fZGVzdHJveVNvcnRhYmxlcygpe2NvbnN0e19zb3J0YWJsZU1hcDplLF9zb3J0YWJsZU5vZGVzOnR9PXRoaXM7ZS5mb3JFYWNoKChlPT5lJiZlLmRlc3Ryb3koKSkpLGUuY2xlYXIoKSx0LmNsZWFyKCl9X21vdmVMYXllckZyb21DaGlsZExpc3Qoe3RvOmUsZnJvbTp0LGl0ZW06aSxuZXdJbmRleDpzfSl7Y29uc3Qgbz1QKGkpLG49UChlKSxsPVAodCk7dGhpcy52aWV3TW9kZWwubW92ZUxpc3RJdGVtKG8sbCxuLHMpfV9zb3J0TGF5ZXJzKGUpe2lmKCFlKXJldHVybjtjb25zdCB0PVAoZS5lbCksaT1lLnRvQXJyYXkoKTt0P3AodCxpKTpnKHRoaXMudmlldz8ubWFwPy5sYXllcnMsaSl9X3RvZ2dsZVNvcnRpbmcoZSx0KXtjb25zdHtfc29ydGFibGVNYXA6aSxzZWxlY3Rpb25FbmFibGVkOnN9PXRoaXMsbz1pLmdldCh0KSxuPVAoZSksbD0odD09PU98fG4/LmNoaWxkcmVuU29ydGFibGUmJl8obikpJiZzO2lmKG8pby5vcHRpb24oXCJkaXNhYmxlZFwiLCFsKTtlbHNlIGlmKGwpe2NvbnN0IHM9QS5jcmVhdGUoZSx7ZGF0YUlkQXR0cjpNLGdyb3VwOntuYW1lOnQscHVsbDp0aGlzLl9zb3J0YWJsZUNhblB1bGwscHV0OnRoaXMuX3NvcnRhYmxlQ2FuUHV0fSxmaWx0ZXI6YFske2t9PVwidHJ1ZVwiXWAsZmFsbGJhY2tUb2xlcmFuY2U6NCxvblNvcnQ6dGhpcy5fb25Tb3J0YWJsZVNvcnQsb25FbmQ6dGhpcy5fb25Tb3J0YWJsZUVuZCxkaXNhYmxlZDohbCxjaG9zZW5DbGFzczp4LnNvcnRhYmxlQ2hvc2VufSk7aS5zZXQodCxzKX19X3RvZ2dsZUFsbFNvcnRpbmcoKXt0aGlzLl9zb3J0YWJsZU5vZGVzLmZvckVhY2goKChlLHQpPT50aGlzLl90b2dnbGVTb3J0aW5nKGUsdCkpKX1fc29ydE5vZGVDcmVhdGVkKGUpe2NvbnN0IHQ9ZS5kYXRhc2V0Lmdyb3VwO3QmJih0aGlzLl9zb3J0YWJsZU5vZGVzLnNldCh0LGUpLHRoaXMuX3RvZ2dsZVNvcnRpbmcoZSx0KSl9X3NldFZpc2libGVJdGVtcyhlKXt0aGlzLnZpc2libGVJdGVtcz1lLmZpbHRlcigoZT0+IWUuaGlkZGVuJiYodGhpcy52aXNpYmxlRWxlbWVudHMuZXJyb3JzfHwhZS5lcnJvcikpKX1fZ2V0U2luZ2xlQWN0aW9uQnV0dG9uKGUpe3JldHVybiBlLnJlZHVjZSgoZT0+ZSkpLmZpbHRlcigoZT0+ZSYmXCJidXR0b25cIj09PWUudHlwZSkpLmF0KDApfV9mb2N1c0xpc3RJdGVtKGUpe2NvbnN0e19mb2N1c1NvcnRVaWQ6dH09dGhpcztpZighZXx8IXQpcmV0dXJuO2NvbnN0IGk9UChlKTtpPy5sYXllcj8udWlkPT09dCYmKGUuZm9jdXMoKSx0aGlzLl9mb2N1c1NvcnRVaWQ9bnVsbCl9X3dhdGNoQWN0aW9uU2VjdGlvbkNoYW5nZXMoZSl7dGhpcy5hZGRIYW5kbGVzKGUub24oXCJjaGFuZ2VcIix0aGlzLnNjaGVkdWxlUmVuZGVyLmJpbmQodGhpcykpLFIuYWN0aW9uU2VjdGlvbiksZS5mb3JFYWNoKChlPT50aGlzLl9yZW5kZXJPbkFjdGlvbkNoYW5nZXMoZSkpKX1fcmVuZGVyT25BY3Rpb25DaGFuZ2VzKGUpe1widG9nZ2xlXCIhPT1lLnR5cGU/XCJzbGlkZXJcIiE9PWUudHlwZT90aGlzLmFkZEhhbmRsZXMobygoKCk9PltlPy5jbGFzc05hbWUsZT8uaW1hZ2UsZT8uaWQsZT8udGl0bGUsZT8udmlzaWJsZV0pLCgoKT0+dGhpcy5zY2hlZHVsZVJlbmRlcigpKSxuKSxSLmFjdGlvbnMpOnRoaXMuYWRkSGFuZGxlcyhvKCgoKT0+W2U/LmNsYXNzTmFtZSxlPy5pZCxlPy50aXRsZSxlPy52aXNpYmxlLGU/LnZhbHVlLGU/LmRpc3BsYXlWYWx1ZUVuYWJsZWQsZT8ubWF4LGU/Lm1pbixlPy5zdGVwXSksKCgpPT50aGlzLnNjaGVkdWxlUmVuZGVyKCkpLG4pLFIuYWN0aW9ucyk6dGhpcy5hZGRIYW5kbGVzKG8oKCgpPT5bZT8uY2xhc3NOYW1lLGU/LmltYWdlLGU/LmlkLGU/LnRpdGxlLGU/LnZpc2libGUsZT8udmFsdWVdKSwoKCk9PnRoaXMuc2NoZWR1bGVSZW5kZXIoKSksbiksUi5hY3Rpb25zKX1fcmVuZGVyT25JdGVtQ2hhbmdlcyhlKXt0aGlzLmFkZEhhbmRsZXMoW28oKCgpPT5bZT8uYWN0aW9uc09wZW4sZT8udmlzaWJsZSxlPy5vcGVuLGU/LnVwZGF0aW5nLGU/LmNvbm5lY3Rpb25TdGF0dXMsZT8ucHVibGlzaGluZyxlPy50aXRsZSxlPy52aXNpYmxlQXRDdXJyZW50U2NhbGUsZT8uZXJyb3IsZT8udmlzaWJpbGl0eU1vZGUsZT8ucGFuZWwsZT8ucGFuZWw/LnRpdGxlLGU/LnBhbmVsPy5jb250ZW50LGU/LnBhbmVsPy5jbGFzc05hbWUsZT8uc29ydGFibGUsZT8uY2hpbGRyZW5Tb3J0YWJsZV0pLCgoKT0+dGhpcy5zY2hlZHVsZVJlbmRlcigpKSxsKSxvKCgoKT0+W2U/LmhpZGRlbixlPy5lcnJvcl0pLCgoKT0+dGhpcy5fc2V0VmlzaWJsZUl0ZW1zKHRoaXMub3BlcmF0aW9uYWxJdGVtcykpKSxlLmFjdGlvbnNTZWN0aW9ucy5vbihcImNoYW5nZVwiLCgoKT0+dGhpcy5zY2hlZHVsZVJlbmRlcigpKSksZS5jaGlsZHJlbi5vbihcImNoYW5nZVwiLCgoKT0+dGhpcy5zY2hlZHVsZVJlbmRlcigpKSldLFIuaXRlbXMpLGUuY2hpbGRyZW4uZm9yRWFjaCgoZT0+dGhpcy5fcmVuZGVyT25JdGVtQ2hhbmdlcyhlKSkpLGUuYWN0aW9uc1NlY3Rpb25zLmZvckVhY2goKGU9PnRoaXMuX3dhdGNoQWN0aW9uU2VjdGlvbkNoYW5nZXMoZSkpKX1faXRlbXNDaGFuZ2VkKGUpe3RoaXMucmVtb3ZlSGFuZGxlcyhSLml0ZW1zKSx0aGlzLnJlbW92ZUhhbmRsZXMoUi5hY3Rpb25zKSx0aGlzLnJlbW92ZUhhbmRsZXMoUi5hY3Rpb25TZWN0aW9uKSxlLmZvckVhY2goKGU9PnRoaXMuX3JlbmRlck9uSXRlbUNoYW5nZXMoZSkpKSx0aGlzLl90b29sdGlwUmVmZXJlbmNlTWFwLmNsZWFyKCksdGhpcy5fc2V0VmlzaWJsZUl0ZW1zKGUpLHRoaXMuc2NoZWR1bGVSZW5kZXIoKX1fZmlsdGVyQWN0aW9ucyhlKXtyZXR1cm4gZS5tYXAoKGU9PmUuZmlsdGVyKChlPT5lLnZpc2libGUpKSkpfV9jb3VudEFjdGlvbnMoZSl7cmV0dXJuIGUucmVkdWNlKCgoZSx0KT0+ZSt0Lmxlbmd0aCksMCl9X2dldEljb25JbWFnZVN0eWxlcyhlKXtjb25zdCB0PVwiZXNyaS53aWRnZXRzLkxheWVyTGlzdC5MaXN0SXRlbVBhbmVsXCI9PT1lLmRlY2xhcmVkQ2xhc3N8fFwiZXNyaS5zdXBwb3J0LkFjdGlvbi5BY3Rpb25CdXR0b25cIj09PWUuZGVjbGFyZWRDbGFzc3x8XCJlc3JpLnN1cHBvcnQuQWN0aW9uLkFjdGlvblRvZ2dsZVwiPT09ZS5kZWNsYXJlZENsYXNzP2UuaW1hZ2U6bnVsbDtyZXR1cm57XCJiYWNrZ3JvdW5kLWltYWdlXCI6dD9gdXJsKFwiJHt0fVwiKWA6dm9pZCAwfX1fc2VsZWN0aW9uS2V5ZG93bihlKXtjb25zdCB0PVtcIkFycm93RG93blwiLFwiQXJyb3dVcFwiXSxzPWkoZSk7aWYoIXQuaW5jbHVkZXMocykpcmV0dXJuIHZvaWQgdGhpcy5fdG9nZ2xlU2VsZWN0aW9uKGUpO2Uuc3RvcFByb3BhZ2F0aW9uKCk7Y29uc3Qgbz1lLmN1cnJlbnRUYXJnZXQsbj1QKG8pLHtfc29ydGFibGVNYXA6bCxzZWxlY3RlZEl0ZW1zOnJ9PXRoaXMsYT1vLmRhdGFzZXQuZ3JvdXAsYz1sLmdldChhKTtpZighY3x8IW4pcmV0dXJuO2NvbnN0IGQ9bShuLHIpLGg9Yy50b0FycmF5KCksdT1lLnRhcmdldCxnPWguaW5kZXhPZih1LmRhdGFzZXRbVF0pO2lmKC0xIT09Zyl7aWYoXCJBcnJvd0Rvd25cIj09PXMpe2NvbnN0IGU9ZysxO2lmKGU+PWgubGVuZ3RoKXJldHVybjtkPygkKGgsZyxlKSxjLnNvcnQoaCksdGhpcy5fc29ydExheWVycyhjKSx0aGlzLl9mb2N1c1NvcnRVaWQ9bi5sYXllcj8udWlkKToodGhpcy5fZm9jdXNTb3J0VWlkPW4ubGF5ZXI/LnVpZCx0aGlzLnNjaGVkdWxlUmVuZGVyKCkpfWlmKFwiQXJyb3dVcFwiPT09cyl7Y29uc3QgZT1nLTE7aWYoZTw9LTEpcmV0dXJuO2Q/KCQoaCxnLGUpLGMuc29ydChoKSx0aGlzLl9zb3J0TGF5ZXJzKGMpLHRoaXMuX2ZvY3VzU29ydFVpZD1uLmxheWVyPy51aWQpOih0aGlzLl9mb2N1c1NvcnRVaWQ9bi5sYXllcj8udWlkLHRoaXMuc2NoZWR1bGVSZW5kZXIoKSl9fX1fdG9nZ2xlQWN0aW9uc09wZW4oZSl7Y29uc3QgdD1QKGUuY3VycmVudFRhcmdldCk7aWYoIXQpcmV0dXJuO2NvbnN0e2FjdGlvbnNPcGVuOml9PXQscz0haTtzJiZ0aGlzLm9wZXJhdGlvbmFsSXRlbXMuZm9yRWFjaCgoZT0+aihlKSkpLHQuYWN0aW9uc09wZW49cyxlLnN0b3BQcm9wYWdhdGlvbigpfV90cmlnZ2VyUGFuZWwoZSl7Y29uc3QgdD1GKGUuY3VycmVudFRhcmdldCk7ZS5zdG9wUHJvcGFnYXRpb24oKSx0JiYhdC5kaXNhYmxlZCYmKHQub3Blbj0hdC5vcGVuKX1fdHJpZ2dlckFjdGlvbihlKXtjb25zdCB0PWUuY3VycmVudFRhcmdldCxpPUgodCkscz1QKHQpO2kmJnMmJihcInRvZ2dsZVwiPT09aS50eXBlJiYoaS52YWx1ZT0haS52YWx1ZSksdGhpcy50cmlnZ2VyQWN0aW9uKGkscyksZS5zdG9wUHJvcGFnYXRpb24oKSl9X3RvZ2dsZVZpc2liaWxpdHkoZSl7Y29uc3QgdD1lLmN1cnJlbnRUYXJnZXQsaT10LmdldEF0dHJpYnV0ZShcImRhdGEtcGFyZW50LXZpc2liaWxpdHlcIikscz1QKHQpO3MmJihpPT09Ti5leGNsdXNpdmUmJnMudmlzaWJsZXx8KHMudmlzaWJsZT0hcy52aXNpYmxlKSxlLnN0b3BQcm9wYWdhdGlvbigpKX1fdG9nZ2xlQ2hpbGRyZW5DbGljayhlKXtjb25zdCB0PVAoZS5jdXJyZW50VGFyZ2V0KTt0JiYodC5vcGVuPSF0Lm9wZW4sZS5zdG9wUHJvcGFnYXRpb24oKSl9X3RvZ2dsZVNlbGVjdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpO2NvbnN0e211bHRpcGxlU2VsZWN0aW9uRW5hYmxlZDp0LHNlbGVjdGVkSXRlbXM6aX09dGhpcyxzPVAoZS5jdXJyZW50VGFyZ2V0KTtpZighcylyZXR1cm47Y29uc3Qgbz1tKHMsaSkse2xlbmd0aDpufT1pO2lmKCF0KXJldHVybiBuJiYhKG8mJjE9PT1uKT8oaS5yZW1vdmVBbGwoKSx2b2lkIGkuYWRkKHMpKTp2b2lkKG8/aS5yZW1vdmU/LihvKTppLmFkZChzKSk7bz9pLnJlbW92ZT8uKG8pOmkuYWRkKHMpfWdldCB0ZXN0KCl7cmV0dXJue3Zpc2libGVJdGVtczp0aGlzLnZpc2libGVJdGVtc319fTtmdW5jdGlvbiBQKGUpe3JldHVybiBlPy5bXCJkYXRhLWl0ZW1cIl19ZnVuY3Rpb24gRihlKXtyZXR1cm4gZT8uW1wiZGF0YS1wYW5lbFwiXX1mdW5jdGlvbiBIKGUpe3JldHVybiBlPy5bXCJkYXRhLWFjdGlvblwiXX1lKFtyKCldLFYucHJvdG90eXBlLFwidmlzaWJsZUl0ZW1zXCIsdm9pZCAwKSxlKFtyKCldLFYucHJvdG90eXBlLFwiaWNvbkNsYXNzXCIsdm9pZCAwKSxlKFtyKCldLFYucHJvdG90eXBlLFwiaWNvblwiLHZvaWQgMCksZShbcigpXSxWLnByb3RvdHlwZSxcImxhYmVsXCIsbnVsbCksZShbcigpXSxWLnByb3RvdHlwZSxcImxpc3RJdGVtQ2FuR2l2ZUZ1bmN0aW9uXCIsdm9pZCAwKSxlKFtyKCldLFYucHJvdG90eXBlLFwibGlzdEl0ZW1DYW5SZWNlaXZlRnVuY3Rpb25cIix2b2lkIDApLGUoW3IoKV0sVi5wcm90b3R5cGUsXCJsaXN0SXRlbUNyZWF0ZWRGdW5jdGlvblwiLG51bGwpLGUoW3IoKSxmKFwiZXNyaS93aWRnZXRzL0xheWVyTGlzdC90OW4vTGF5ZXJMaXN0XCIpXSxWLnByb3RvdHlwZSxcIm1lc3NhZ2VzXCIsdm9pZCAwKSxlKFtyKCksZihcImVzcmkvdDluL2NvbW1vblwiKV0sVi5wcm90b3R5cGUsXCJtZXNzYWdlc0NvbW1vblwiLHZvaWQgMCksZShbcigpXSxWLnByb3RvdHlwZSxcIm11bHRpcGxlU2VsZWN0aW9uRW5hYmxlZFwiLHZvaWQgMCksZShbcigpXSxWLnByb3RvdHlwZSxcIm9wZXJhdGlvbmFsSXRlbXNcIixudWxsKSxlKFtyKCldLFYucHJvdG90eXBlLFwic2VsZWN0aW9uRW5hYmxlZFwiLHZvaWQgMCksZShbcigpXSxWLnByb3RvdHlwZSxcInNlbGVjdGVkSXRlbXNcIix2b2lkIDApLGUoW3IoKV0sVi5wcm90b3R5cGUsXCJzdHlsZVwiLHZvaWQgMCksZShbcigpXSxWLnByb3RvdHlwZSxcInZpZXdcIixudWxsKSxlKFtDKFwidHJpZ2dlci1hY3Rpb25cIikscih7dHlwZTpofSldLFYucHJvdG90eXBlLFwidmlld01vZGVsXCIsdm9pZCAwKSxlKFtyKCldLFYucHJvdG90eXBlLFwidmlzaWJsZUVsZW1lbnRzXCIsdm9pZCAwKSxlKFthKFwidmlzaWJsZUVsZW1lbnRzXCIpXSxWLnByb3RvdHlwZSxcImNhc3RWaXNpYmxlRWxlbWVudHNcIixudWxsKSxlKFt2KCldLFYucHJvdG90eXBlLFwiX3RvZ2dsZUFjdGlvbnNPcGVuXCIsbnVsbCksZShbdigpXSxWLnByb3RvdHlwZSxcIl90cmlnZ2VyUGFuZWxcIixudWxsKSxlKFt2KCldLFYucHJvdG90eXBlLFwiX3RyaWdnZXJBY3Rpb25cIixudWxsKSxlKFt2KCldLFYucHJvdG90eXBlLFwiX3RvZ2dsZVZpc2liaWxpdHlcIixudWxsKSxlKFt2KCldLFYucHJvdG90eXBlLFwiX3RvZ2dsZUNoaWxkcmVuQ2xpY2tcIixudWxsKSxlKFt2KCldLFYucHJvdG90eXBlLFwiX3RvZ2dsZVNlbGVjdGlvblwiLG51bGwpLFY9ZShbYyhcImVzcmkud2lkZ2V0cy5MYXllckxpc3RcIildLFYpO2NvbnN0IEI9VjtleHBvcnR7QiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnR7d2F0Y2ggYXMgaSxpbml0aWFsIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbCBmcm9tXCIuL0xpc3RJdGVtLmpzXCI7aW1wb3J0e2dldEl0ZW1MYXllcnMgYXMgbixmaW5kTGF5ZXJMaXN0TW9kZSBhcyBjfWZyb21cIi4vc3VwcG9ydC9sYXllckxpc3RVdGlscy5qc1wiO2NvbnN0IGQ9e3ZpZXc6XCJ2aWV3XCIsdmlld0xheWVyczpcInZpZXctbGF5ZXJzXCIsbWFwTGF5ZXJzOlwibWFwLWxheWVyc1wiLGxheWVyVmlld3M6XCJsYXllci12aWV3c1wiLGxheWVyTGlzdE1vZGU6XCJsYXllci1saXN0LW1vZGVcIn0sbT1cImhpZGVcIixoPXQub2ZUeXBlKGwpO2xldCBwPWNsYXNzIGV4dGVuZHMgcy5FdmVudGVkQWNjZXNzb3J7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jaGVja1B1Ymxpc2hTdGF0dXNFbmFibGVkPSExLHRoaXMubGlzdEl0ZW1DcmVhdGVkRnVuY3Rpb249bnVsbCx0aGlzLm9wZXJhdGlvbmFsSXRlbXM9bmV3IGgsdGhpcy52aWV3PW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyhbaSgoKCk9Plt0aGlzLnZpZXcsdGhpcy52aWV3Py5yZWFkeV0pLCgoKT0+dGhpcy5fdmlld0hhbmRsZXMoKSksciksaSgoKCk9Plt0aGlzLmxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uLHRoaXMuY2hlY2tQdWJsaXNoU3RhdHVzRW5hYmxlZF0pLCgoKT0+dGhpcy5fcmVjb21waWxlTGlzdCgpKSldLGQudmlldyl9ZGVzdHJveSgpe3RoaXMudmlldz1udWxsLHRoaXMub3BlcmF0aW9uYWxJdGVtcy5yZW1vdmVBbGwoKX1nZXQgc3RhdGUoKXtjb25zdHt2aWV3OmV9PXRoaXM7cmV0dXJuIGU/LnJlYWR5P1wicmVhZHlcIjplP1wibG9hZGluZ1wiOlwiZGlzYWJsZWRcIn10cmlnZ2VyQWN0aW9uKGUsdCl7ZSYmIWUuZGlzYWJsZWQmJnRoaXMuZW1pdChcInRyaWdnZXItYWN0aW9uXCIse2FjdGlvbjplLGl0ZW06dH0pfW1vdmVMaXN0SXRlbShlLHQscyxpKXtjb25zdCByPWU/LmxheWVyO2lmKCFyKXJldHVybjtjb25zdCBhPXRoaXMudmlldz8ubWFwPy5sYXllcnMsbz10P24odCk6YSxsPXM/bihzKTphO2lmKCFvfHwhbClyZXR1cm47Y29uc3R7b3BlcmF0aW9uYWxJdGVtczpjfT10aGlzLGQ9dD8uY2hpbGRyZW58fGMsbT1zPy5jaGlsZHJlbnx8YyxoPWwubGVuZ3RoLWk7ZS5wYXJlbnQ9c3x8bnVsbCxkLmluY2x1ZGVzKGUpJiZkLnJlbW92ZShlKSxvLmluY2x1ZGVzKHIpJiZvLnJlbW92ZShyKSxtLmluY2x1ZGVzKGUpfHxtLmFkZChlLGgpLGwuaW5jbHVkZXMocil8fGwuYWRkKHIsaCl9X2NyZWF0ZUxheWVyVmlld0hhbmRsZXMoZSl7dGhpcy5yZW1vdmVIYW5kbGVzKGQubGF5ZXJWaWV3cyksdGhpcy5fY29tcGlsZUxpc3QoKSxlJiZ0aGlzLmFkZEhhbmRsZXMoZS5vbihcImNoYW5nZVwiLCgoKT0+dGhpcy5fY29tcGlsZUxpc3QoKSkpLGQubGF5ZXJWaWV3cyl9X2NyZWF0ZU1hcExheWVySGFuZGxlcyhlKXt0aGlzLnJlbW92ZUhhbmRsZXMoZC5tYXBMYXllcnMpLHRoaXMuX2NvbXBpbGVMaXN0KCksZSYmdGhpcy5hZGRIYW5kbGVzKGUub24oXCJjaGFuZ2VcIiwoKCk9PnRoaXMuX2NvbXBpbGVMaXN0KCkpKSxkLm1hcExheWVycyl9X2NyZWF0ZUxpc3RJdGVtKGUpe2NvbnN0e3ZpZXc6dCxsaXN0SXRlbUNyZWF0ZWRGdW5jdGlvbjpzLGNoZWNrUHVibGlzaFN0YXR1c0VuYWJsZWQ6aX09dGhpcztyZXR1cm4gbmV3IGwoe2NoZWNrUHVibGlzaFN0YXR1c0VuYWJsZWQ6aSxsYXllcjplLGxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uOnMsdmlldzp0fSl9X3JlbW92ZUFsbEl0ZW1zKCl7dGhpcy5vcGVyYXRpb25hbEl0ZW1zLnJlbW92ZUFsbCgpfV9nZXRWaWV3YWJsZUxheWVycyhlKXtpZihlKXJldHVybiBlLmZpbHRlcigoZT0+YyhlKSE9PW0pKX1fd2F0Y2hMYXllcnNMaXN0TW9kZShlKXt0aGlzLnJlbW92ZUhhbmRsZXMoZC5sYXllckxpc3RNb2RlKSxlJiZlLmZvckVhY2goKGU9PntcImxpc3RNb2RlXCJpbiBlJiZ0aGlzLmFkZEhhbmRsZXMoaSgoKCk9PmUubGlzdE1vZGUpLCgoKT0+dGhpcy5fY29tcGlsZUxpc3QoKSkpLGQubGF5ZXJMaXN0TW9kZSl9KSl9X2NvbXBpbGVMaXN0KCl7Y29uc3QgZT10aGlzLnZpZXc/Lm1hcD8ubGF5ZXJzO3RoaXMuX3dhdGNoTGF5ZXJzTGlzdE1vZGUoZSk7Y29uc3QgdD10aGlzLl9nZXRWaWV3YWJsZUxheWVycyhlKTt0Py5sZW5ndGg/KHRoaXMuX2NyZWF0ZU5ld0l0ZW1zKHQpLHRoaXMuX3JlbW92ZUl0ZW1zKHQpLHRoaXMuX3NvcnRJdGVtcyh0KSk6dGhpcy5fcmVtb3ZlQWxsSXRlbXMoKX1fY3JlYXRlTmV3SXRlbXMoZSl7Y29uc3R7b3BlcmF0aW9uYWxJdGVtczp0fT10aGlzO2UuZm9yRWFjaCgoZT0+e3QuZmluZCgodD0+dC5sYXllcj09PWUpKXx8dC5hZGQodGhpcy5fY3JlYXRlTGlzdEl0ZW0oZSkpfSkpfV9yZW1vdmVJdGVtcyhlKXtjb25zdHtvcGVyYXRpb25hbEl0ZW1zOnR9PXRoaXMscz1bXTt0LmZvckVhY2goKHQ9Pnt0JiZlJiZlLmluY2x1ZGVzKHQubGF5ZXIpfHxzLnB1c2godCl9KSksdC5yZW1vdmVNYW55KHMpfV9zb3J0SXRlbXMoZSl7Y29uc3R7b3BlcmF0aW9uYWxJdGVtczp0fT10aGlzO3Quc29ydCgoKHQscyk9Pntjb25zdCBpPWUuaW5kZXhPZih0LmxheWVyKSxyPWUuaW5kZXhPZihzLmxheWVyKTtyZXR1cm4gaT5yPy0xOmk8cj8xOjB9KSl9X3JlY29tcGlsZUxpc3QoKXt0aGlzLl9yZW1vdmVBbGxJdGVtcygpLHRoaXMuX2NvbXBpbGVMaXN0KCl9X3ZpZXdIYW5kbGVzKCl7Y29uc3R7dmlldzplfT10aGlzO3RoaXMucmVtb3ZlSGFuZGxlcyhbZC5tYXBMYXllcnMsZC5sYXllclZpZXdzLGQudmlld0xheWVyc10pLHRoaXMuX3JlY29tcGlsZUxpc3QoKSxlJiZlLnJlYWR5JiZ0aGlzLmFkZEhhbmRsZXMoW2koKCgpPT50aGlzLnZpZXc/Lm1hcD8uYWxsTGF5ZXJzKSwoZT0+dGhpcy5fY3JlYXRlTWFwTGF5ZXJIYW5kbGVzKGUpKSxyKSxpKCgoKT0+dGhpcy52aWV3Py5hbGxMYXllclZpZXdzKSwoZT0+dGhpcy5fY3JlYXRlTGF5ZXJWaWV3SGFuZGxlcyhlKSkscildLGQudmlld0xheWVycyl9fTtlKFthKCldLHAucHJvdG90eXBlLFwiY2hlY2tQdWJsaXNoU3RhdHVzRW5hYmxlZFwiLHZvaWQgMCksZShbYSgpXSxwLnByb3RvdHlwZSxcImxpc3RJdGVtQ3JlYXRlZEZ1bmN0aW9uXCIsdm9pZCAwKSxlKFthKHt0eXBlOmh9KV0scC5wcm90b3R5cGUsXCJvcGVyYXRpb25hbEl0ZW1zXCIsdm9pZCAwKSxlKFthKHtyZWFkT25seTohMH0pXSxwLnByb3RvdHlwZSxcInN0YXRlXCIsbnVsbCksZShbYSgpXSxwLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLHA9ZShbbyhcImVzcmkud2lkZ2V0cy5MYXllckxpc3QuTGF5ZXJMaXN0Vmlld01vZGVsXCIpXSxwKTtjb25zdCB5PXA7ZXhwb3J0e3kgYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=