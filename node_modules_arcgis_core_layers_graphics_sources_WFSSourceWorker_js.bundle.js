"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["node_modules_arcgis_core_layers_graphics_sources_WFSSourceWorker_js"],{

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/WFSSourceWorker.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/WFSSourceWorker.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../data/FeatureStore.js */ "./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js");
/* harmony import */ var _data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _geojson_geojson_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./geojson/geojson.js */ "./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js");
/* harmony import */ var _support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/sourceUtils.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js");
/* harmony import */ var _ogc_wfsUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ogc/wfsUtils.js */ "./node_modules/@arcgis/core/layers/ogc/wfsUtils.js");
/* harmony import */ var _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../time/timeZoneUtils.js */ "./node_modules/@arcgis/core/time/timeZoneUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class F{constructor(){this._queryEngine=null,this._customParameters=null}destroy(){this._queryEngine?.destroy(),this._queryEngine=null}async load(e,r){const{getFeatureUrl:a,getFeatureOutputFormat:i,fields:o,geometryType:n,featureType:l,objectIdField:c,customParameters:m}=e,{spatialReference:y,getFeatureSpatialReference:g}=(0,_ogc_wfsUtils_js__WEBPACK_IMPORTED_MODULE_11__.getGetFeatureSpatialReference)(a,l,e.spatialReference);this._featureType=l,this._customParameters=m,this._getFeatureUrl=a,this._getFeatureOutputFormat=i,this._getFeatureSpatialReference=g;try{await (0,_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_7__.checkProjectionSupport)(g,y)}catch{throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("unsupported-projection","Projection not supported",{inSpatialReference:g,outSpatialReference:y})}(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(r);const F=_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromLayerJSON({fields:o,dateFieldsTimeReference:o.some((e=>"esriFieldTypeDate"===e.type))?{timeZoneIANA:_time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_13__.utc}:null}),w=await this._snapshotFeatures({fieldsIndex:F,geometryType:n,objectIdField:c,spatialReference:y},r.signal);return this._queryEngine=new _data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_8__.QueryEngine({fieldsIndex:F,geometryType:n,hasM:!1,hasZ:!1,objectIdField:c,spatialReference:y,timeInfo:null,featureStore:new _data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_6__["default"]({geometryType:n,hasM:!1,hasZ:!1})}),this._queryEngine.featureStore.addMany(w),{extent:(await this._queryEngine.fetchRecomputedExtents()).fullExtent}}async applyEdits(){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wfs-source:editing-not-supported","applyEdits() is not supported on WFSLayer")}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(s){return this._customParameters=s,this._snapshotTask?.abort(),this._snapshotTask=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.createTask)((e=>this._snapshotFeatures(this._queryEngine,e))),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),e&&this._queryEngine.featureStore.addMany(e)}),(e=>{this._queryEngine.featureStore.clear(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.layers.WFSLayer").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wfs-layer:getfeature-error","An error occurred during the GetFeature request",{error:e}))})),await this._waitSnapshotComplete(),{extent:(await this._queryEngine.fetchRecomputedExtents()).fullExtent}}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _snapshotFeatures({objectIdField:e,geometryType:t,spatialReference:r,fieldsIndex:a},u){const p=await (0,_ogc_wfsUtils_js__WEBPACK_IMPORTED_MODULE_11__.getFeature)(this._getFeatureUrl??"",this._featureType.typeName,this._getFeatureSpatialReference,this._getFeatureOutputFormat,{customParameters:this._customParameters,signal:u});(0,_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_9__.validateGeoJSON)(p,this._getFeatureSpatialReference.wkid),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(u);const h=(0,_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_9__.createOptimizedFeatures)(p,{geometryType:t,hasZ:!1,objectIdField:e});if(!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.equals)(r,this._getFeatureSpatialReference))for(const s of h)null!=s.geometry&&(s.geometry=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertFromGeometry)((0,_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_7__.project)((0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertToGeometry)(s.geometry,t,!1,!1),this._getFeatureSpatialReference,r)));let f=1;for(const s of h){const t={};(0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_10__.mixAttributes)(a,t,s.attributes,!0),s.attributes=t,null==t[e]&&(s.objectId=t[e]=f++)}return h}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2xheWVyc19ncmFwaGljc19zb3VyY2VzX1dGU1NvdXJjZVdvcmtlcl9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDZzNCLFFBQVEsY0FBYyxtREFBbUQsVUFBVSxvREFBb0QsZ0JBQWdCLE1BQU0sa0hBQWtILElBQUksZ0RBQWdELENBQUMsZ0ZBQUMseUJBQXlCLHFJQUFxSSxJQUFJLE1BQU0sa0ZBQUMsTUFBTSxNQUFNLFVBQVUsc0RBQUMsc0RBQXNELDJDQUEyQyxFQUFFLHFFQUFDLElBQUksUUFBUSxnRUFBQyxnQkFBZ0IsNEVBQTRFLGFBQWEsd0RBQUMsQ0FBQyxNQUFNLGtDQUFrQyxnRUFBZ0UsV0FBVyw2QkFBNkIsNkRBQUMsRUFBRSwrR0FBK0csNkRBQUMsRUFBRSwrQkFBK0IsRUFBRSw2Q0FBNkMsc0VBQXNFLG1CQUFtQixVQUFVLHNEQUFDLGlGQUFpRix3QkFBd0IsS0FBSyxFQUFFLHFGQUFxRiw0QkFBNEIsS0FBSyxFQUFFLDZGQUE2Rix5QkFBeUIsS0FBSyxFQUFFLDJGQUEyRixzQkFBc0IsS0FBSyxFQUFFLDhGQUE4RiwwQkFBMEIsRUFBRSxnR0FBZ0csaUJBQWlCLCtFQUErRSwrREFBQyx3RkFBd0Ysb0ZBQW9GLE9BQU8sdUNBQXVDLG1FQUFDLEtBQUssdURBQUMsNkNBQTZDLHNEQUFDLGlGQUFpRixRQUFRLEdBQUcsdUNBQXVDLHNFQUFzRSw4QkFBOEIscURBQXFELElBQUksaUNBQWlDLE9BQU8scUNBQXFDLHlCQUF5QixnRUFBZ0UsSUFBSSxjQUFjLDZEQUFDLG1IQUFtSCxpREFBaUQsRUFBRSxvRUFBQywwQ0FBMEMscUVBQUMsSUFBSSxRQUFRLDRFQUFDLElBQUksdUNBQXVDLEVBQUUsSUFBSSxrRkFBQyxvRkFBb0YsK0VBQUMsQ0FBQyxtRUFBQyxDQUFDLDZFQUFDLDJEQUEyRCxRQUFRLGtCQUFrQixXQUFXLHVFQUFDLHVFQUF1RSxVQUErQiIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9zb3VyY2VzL1dGU1NvdXJjZVdvcmtlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZVRhc2sgYXMgZX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FzeW5jVXRpbHMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgcyxpc0Fib3J0RXJyb3IgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtlcXVhbHMgYXMgaX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtjb252ZXJ0RnJvbUdlb21ldHJ5IGFzIG8sY29udmVydFRvR2VvbWV0cnkgYXMgbn1mcm9tXCIuLi9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vZGF0YS9GZWF0dXJlU3RvcmUuanNcIjtpbXBvcnR7Y2hlY2tQcm9qZWN0aW9uU3VwcG9ydCBhcyBwLHByb2plY3QgYXMgbH1mcm9tXCIuLi9kYXRhL3Byb2plY3Rpb25TdXBwb3J0LmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lIGFzIGh9ZnJvbVwiLi4vZGF0YS9RdWVyeUVuZ2luZS5qc1wiO2ltcG9ydHt2YWxpZGF0ZUdlb0pTT04gYXMgYyxjcmVhdGVPcHRpbWl6ZWRGZWF0dXJlcyBhcyBtfWZyb21cIi4vZ2VvanNvbi9nZW9qc29uLmpzXCI7aW1wb3J0e21peEF0dHJpYnV0ZXMgYXMgeX1mcm9tXCIuL3N1cHBvcnQvc291cmNlVXRpbHMuanNcIjtpbXBvcnR7Z2V0R2V0RmVhdHVyZVNwYXRpYWxSZWZlcmVuY2UgYXMgZixnZXRGZWF0dXJlIGFzIGd9ZnJvbVwiLi4vLi4vb2djL3dmc1V0aWxzLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHt1dGMgYXMgX31mcm9tXCIuLi8uLi8uLi90aW1lL3RpbWVab25lVXRpbHMuanNcIjtjbGFzcyBGe2NvbnN0cnVjdG9yKCl7dGhpcy5fcXVlcnlFbmdpbmU9bnVsbCx0aGlzLl9jdXN0b21QYXJhbWV0ZXJzPW51bGx9ZGVzdHJveSgpe3RoaXMuX3F1ZXJ5RW5naW5lPy5kZXN0cm95KCksdGhpcy5fcXVlcnlFbmdpbmU9bnVsbH1hc3luYyBsb2FkKGUscil7Y29uc3R7Z2V0RmVhdHVyZVVybDphLGdldEZlYXR1cmVPdXRwdXRGb3JtYXQ6aSxmaWVsZHM6byxnZW9tZXRyeVR5cGU6bixmZWF0dXJlVHlwZTpsLG9iamVjdElkRmllbGQ6YyxjdXN0b21QYXJhbWV0ZXJzOm19PWUse3NwYXRpYWxSZWZlcmVuY2U6eSxnZXRGZWF0dXJlU3BhdGlhbFJlZmVyZW5jZTpnfT1mKGEsbCxlLnNwYXRpYWxSZWZlcmVuY2UpO3RoaXMuX2ZlYXR1cmVUeXBlPWwsdGhpcy5fY3VzdG9tUGFyYW1ldGVycz1tLHRoaXMuX2dldEZlYXR1cmVVcmw9YSx0aGlzLl9nZXRGZWF0dXJlT3V0cHV0Rm9ybWF0PWksdGhpcy5fZ2V0RmVhdHVyZVNwYXRpYWxSZWZlcmVuY2U9Zzt0cnl7YXdhaXQgcChnLHkpfWNhdGNoe3Rocm93IG5ldyB0KFwidW5zdXBwb3J0ZWQtcHJvamVjdGlvblwiLFwiUHJvamVjdGlvbiBub3Qgc3VwcG9ydGVkXCIse2luU3BhdGlhbFJlZmVyZW5jZTpnLG91dFNwYXRpYWxSZWZlcmVuY2U6eX0pfXMocik7Y29uc3QgRj1kLmZyb21MYXllckpTT04oe2ZpZWxkczpvLGRhdGVGaWVsZHNUaW1lUmVmZXJlbmNlOm8uc29tZSgoZT0+XCJlc3JpRmllbGRUeXBlRGF0ZVwiPT09ZS50eXBlKSk/e3RpbWVab25lSUFOQTpffTpudWxsfSksdz1hd2FpdCB0aGlzLl9zbmFwc2hvdEZlYXR1cmVzKHtmaWVsZHNJbmRleDpGLGdlb21ldHJ5VHlwZTpuLG9iamVjdElkRmllbGQ6YyxzcGF0aWFsUmVmZXJlbmNlOnl9LHIuc2lnbmFsKTtyZXR1cm4gdGhpcy5fcXVlcnlFbmdpbmU9bmV3IGgoe2ZpZWxkc0luZGV4OkYsZ2VvbWV0cnlUeXBlOm4saGFzTTohMSxoYXNaOiExLG9iamVjdElkRmllbGQ6YyxzcGF0aWFsUmVmZXJlbmNlOnksdGltZUluZm86bnVsbCxmZWF0dXJlU3RvcmU6bmV3IHUoe2dlb21ldHJ5VHlwZTpuLGhhc006ITEsaGFzWjohMX0pfSksdGhpcy5fcXVlcnlFbmdpbmUuZmVhdHVyZVN0b3JlLmFkZE1hbnkodykse2V4dGVudDooYXdhaXQgdGhpcy5fcXVlcnlFbmdpbmUuZmV0Y2hSZWNvbXB1dGVkRXh0ZW50cygpKS5mdWxsRXh0ZW50fX1hc3luYyBhcHBseUVkaXRzKCl7dGhyb3cgbmV3IHQoXCJ3ZnMtc291cmNlOmVkaXRpbmctbm90LXN1cHBvcnRlZFwiLFwiYXBwbHlFZGl0cygpIGlzIG5vdCBzdXBwb3J0ZWQgb24gV0ZTTGF5ZXJcIil9YXN5bmMgcXVlcnlGZWF0dXJlcyhlPXt9LHQ9e30pe3JldHVybiBhd2FpdCB0aGlzLl93YWl0U25hcHNob3RDb21wbGV0ZSgpLHRoaXMuX3F1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeShlLHQuc2lnbmFsKX1hc3luYyBxdWVyeUZlYXR1cmVDb3VudChlPXt9LHQ9e30pe3JldHVybiBhd2FpdCB0aGlzLl93YWl0U25hcHNob3RDb21wbGV0ZSgpLHRoaXMuX3F1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckNvdW50KGUsdC5zaWduYWwpfWFzeW5jIHF1ZXJ5T2JqZWN0SWRzKGU9e30sdD17fSl7cmV0dXJuIGF3YWl0IHRoaXMuX3dhaXRTbmFwc2hvdENvbXBsZXRlKCksdGhpcy5fcXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9ySWRzKGUsdC5zaWduYWwpfWFzeW5jIHF1ZXJ5RXh0ZW50KGU9e30sdD17fSl7cmV0dXJuIGF3YWl0IHRoaXMuX3dhaXRTbmFwc2hvdENvbXBsZXRlKCksdGhpcy5fcXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yRXh0ZW50KGUsdC5zaWduYWwpfWFzeW5jIHF1ZXJ5U25hcHBpbmcoZSx0PXt9KXtyZXR1cm4gYXdhaXQgdGhpcy5fd2FpdFNuYXBzaG90Q29tcGxldGUoKSx0aGlzLl9xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JTbmFwcGluZyhlLHQuc2lnbmFsKX1hc3luYyByZWZyZXNoKHMpe3JldHVybiB0aGlzLl9jdXN0b21QYXJhbWV0ZXJzPXMsdGhpcy5fc25hcHNob3RUYXNrPy5hYm9ydCgpLHRoaXMuX3NuYXBzaG90VGFzaz1lKChlPT50aGlzLl9zbmFwc2hvdEZlYXR1cmVzKHRoaXMuX3F1ZXJ5RW5naW5lLGUpKSksdGhpcy5fc25hcHNob3RUYXNrLnByb21pc2UudGhlbigoZT0+e3RoaXMuX3F1ZXJ5RW5naW5lLmZlYXR1cmVTdG9yZS5jbGVhcigpLGUmJnRoaXMuX3F1ZXJ5RW5naW5lLmZlYXR1cmVTdG9yZS5hZGRNYW55KGUpfSksKGU9Pnt0aGlzLl9xdWVyeUVuZ2luZS5mZWF0dXJlU3RvcmUuY2xlYXIoKSxhKGUpfHxyLmdldExvZ2dlcihcImVzcmkubGF5ZXJzLldGU0xheWVyXCIpLmVycm9yKG5ldyB0KFwid2ZzLWxheWVyOmdldGZlYXR1cmUtZXJyb3JcIixcIkFuIGVycm9yIG9jY3VycmVkIGR1cmluZyB0aGUgR2V0RmVhdHVyZSByZXF1ZXN0XCIse2Vycm9yOmV9KSl9KSksYXdhaXQgdGhpcy5fd2FpdFNuYXBzaG90Q29tcGxldGUoKSx7ZXh0ZW50Oihhd2FpdCB0aGlzLl9xdWVyeUVuZ2luZS5mZXRjaFJlY29tcHV0ZWRFeHRlbnRzKCkpLmZ1bGxFeHRlbnR9fWFzeW5jIF93YWl0U25hcHNob3RDb21wbGV0ZSgpe2lmKHRoaXMuX3NuYXBzaG90VGFzayYmIXRoaXMuX3NuYXBzaG90VGFzay5maW5pc2hlZCl7dHJ5e2F3YWl0IHRoaXMuX3NuYXBzaG90VGFzay5wcm9taXNlfWNhdGNoe31yZXR1cm4gdGhpcy5fd2FpdFNuYXBzaG90Q29tcGxldGUoKX19YXN5bmMgX3NuYXBzaG90RmVhdHVyZXMoe29iamVjdElkRmllbGQ6ZSxnZW9tZXRyeVR5cGU6dCxzcGF0aWFsUmVmZXJlbmNlOnIsZmllbGRzSW5kZXg6YX0sdSl7Y29uc3QgcD1hd2FpdCBnKHRoaXMuX2dldEZlYXR1cmVVcmw/P1wiXCIsdGhpcy5fZmVhdHVyZVR5cGUudHlwZU5hbWUsdGhpcy5fZ2V0RmVhdHVyZVNwYXRpYWxSZWZlcmVuY2UsdGhpcy5fZ2V0RmVhdHVyZU91dHB1dEZvcm1hdCx7Y3VzdG9tUGFyYW1ldGVyczp0aGlzLl9jdXN0b21QYXJhbWV0ZXJzLHNpZ25hbDp1fSk7YyhwLHRoaXMuX2dldEZlYXR1cmVTcGF0aWFsUmVmZXJlbmNlLndraWQpLHModSk7Y29uc3QgaD1tKHAse2dlb21ldHJ5VHlwZTp0LGhhc1o6ITEsb2JqZWN0SWRGaWVsZDplfSk7aWYoIWkocix0aGlzLl9nZXRGZWF0dXJlU3BhdGlhbFJlZmVyZW5jZSkpZm9yKGNvbnN0IHMgb2YgaCludWxsIT1zLmdlb21ldHJ5JiYocy5nZW9tZXRyeT1vKGwobihzLmdlb21ldHJ5LHQsITEsITEpLHRoaXMuX2dldEZlYXR1cmVTcGF0aWFsUmVmZXJlbmNlLHIpKSk7bGV0IGY9MTtmb3IoY29uc3QgcyBvZiBoKXtjb25zdCB0PXt9O3koYSx0LHMuYXR0cmlidXRlcywhMCkscy5hdHRyaWJ1dGVzPXQsbnVsbD09dFtlXSYmKHMub2JqZWN0SWQ9dFtlXT1mKyspfXJldHVybiBofX1leHBvcnR7RiBhcyBkZWZhdWx0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==