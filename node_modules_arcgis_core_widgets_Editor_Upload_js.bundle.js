"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["node_modules_arcgis_core_widgets_Editor_Upload_js"],{

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploadProgressWeights.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/uploadProgressWeights.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   uploadProgressWeights: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const e={upload:{createFromFiles:.8,loadMesh:.2},uploadAssetBlobs:{prepareAssetItems:.9,uploadAssetItems:.1},uploadConvertibleSource:{uploadEditSource:.5,serviceAssetsToGlb:.5},uploadLocalMesh:{meshToAssetBlob:.5,uploadAssetBlobs:.5}};


/***/ }),

/***/ "./node_modules/@arcgis/core/support/progressUtils.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/support/progressUtils.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ProgressManager: () => (/* binding */ n),
/* harmony export */   estimatedConversionTime: () => (/* binding */ m),
/* harmony export */   estimatedTransferTime: () => (/* binding */ h),
/* harmony export */   makeProgressManager: () => (/* binding */ i),
/* harmony export */   simulateProgress: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/time.js */ "./node_modules/@arcgis/core/core/time.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(s,t=(s=>{}),e){return new n(s,t,e)}class n{constructor(s,t=(s=>{}),e){if(this.onProgress=t,this.taskName=e,this._progressMap=new Map,this._startTime=void 0,this._timingsMap=new Map,"number"==typeof s){this._weights={};for(let t=0;t<s;t++){const e=t,r=1/s;this._weights[e]=r,this._progressMap.set(e,0)}}else this._weights=s;this.emitProgress()}emitProgress(){let s=0;for(const[t,e]of this._progressMap.entries()){s+=e*this._weights[t]}if(1===s&&(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("enable-feature:esri-3dofl-upload-timings")){const s=Math.round(performance.now()-(this._startTime??0))/1e3;console.log(`${this.taskName} done in ${s} sec`);for(const[t,e]of this._timingsMap){const r=Math.round(e.end-e.start)/1e3,o=Math.round(r/s*100);console.log(this.taskName??"Task",{stepKey:t,stepTime:r,relativeTime:o})}}this.onProgress(s)}setProgress(s,e){if(this._progressMap.set(s,e),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("enable-feature:esri-3dofl-upload-timings")){const r=performance.now();this._startTime??=r;const o=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(this._timingsMap,s,(()=>({start:r,end:0})));1===e&&(o.end=r)}this.emitProgress()}simulate(s,t){return a((t=>this.setProgress(s,t)),t)}makeOnProgress(s){return t=>this.setProgress(s,t)}}function a(t=(s=>{}),e=l){const r=performance.now();t(0);const o=setInterval((()=>{const s=performance.now()-r,o=1-Math.exp(-s/e);t(o)}),g);return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.makeHandle)((()=>{clearInterval(o),t(1)}))}function h(s,t=c){return (0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.millisecondsFromSeconds)((0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.Seconds)(s*f/t))}function m(s,t=p){return (0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.millisecondsFromSeconds)((0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.Seconds)(s*f/t))}const c=10,p=10,f=8e-6,g=(0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.Milliseconds)(50),l=(0,_core_time_js__WEBPACK_IMPORTED_MODULE_3__.Milliseconds)(1e3);


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Editor/Upload.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Editor/Upload.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Upload: () => (/* binding */ f),
/* harmony export */   clearPromptForFilesStub: () => (/* binding */ j),
/* harmony export */   stubFilePickerToSelect: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_events_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/events.js */ "./node_modules/@arcgis/core/core/events.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _layers_graphics_sources_support_uploadProgressWeights_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../layers/graphics/sources/support/uploadProgressWeights.js */ "./node_modules/@arcgis/core/layers/graphics/sources/support/uploadProgressWeights.js");
/* harmony import */ var _layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../layers/support/infoFor3D.js */ "./node_modules/@arcgis/core/layers/support/infoFor3D.js");
/* harmony import */ var _support_progressUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../support/progressUtils.js */ "./node_modules/@arcgis/core/support/progressUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let f=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super({}),this.files=[],this.progress=0,this._uploadTask=null,this._layer=null}destroy(){this.cancel(),this.files=[],this._layer=null,this._uploadTask=null}get state(){const e=this._uploadTask;return e&&0!==this.files.length?e.finished?e.error?"error":"success":"pending":"default"}get result(){return this._uploadTask?.value??null}get error(){return this._uploadTask?.error??null}uploadTo(e){this.cancel(),this.files=[],this._layer=e,this._uploadTask=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.createTask)((async r=>{const o=await y(e);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(r),this.progress=0,this.files=o;const t=(0,_support_progressUtils_js__WEBPACK_IMPORTED_MODULE_14__.makeProgressManager)(_layers_graphics_sources_support_uploadProgressWeights_js__WEBPACK_IMPORTED_MODULE_12__.uploadProgressWeights.upload,(e=>{this.progress=e}),"Upload.uploadTo");if(0===o.length)return null;const{default:l}=await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_buffer_BufferView_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_mat3_js-node_modules_arcgis_core_chunks_quat_js-node_-8e7410"), __webpack_require__.e("vendors-node_modules_arcgis_core_views_3d_webgl-engine_lib_Geometry_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_triangulationUtils_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_meshUtils_georeference_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_Mesh_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_vec32_js-node_modules_arcgis_core_geometry_support_Me-75ecae"), __webpack_require__.e("node_modules_arcgis_core_geometry_projection_computeTranslationToOriginAndRotation_js-node_mo-2a9358")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../geometry/Mesh.js */ "./node_modules/@arcgis/core/geometry/Mesh.js"));(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(r);const a=await l.extractAndFilterFiles(o,e);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(r),a.length>0&&(this.files=a);const n=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"]({x:0,y:0,z:0,spatialReference:e.spatialReference}),u=await l.createFromFiles(n,a,{layer:e,signal:r,onProgress:t.makeOnProgress("createFromFiles")});if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(r),!u)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("editor:upload","could not upload or convert model");const f=a.reduce(((e,r)=>e+r.size),0),h=t.simulate("loadMesh",(0,_support_progressUtils_js__WEBPACK_IMPORTED_MODULE_14__.estimatedTransferTime)(f));try{await u.load()}finally{h.remove()}return u}))}retry(){this._layer&&this.uploadTo(this._layer)}cancel(){this._uploadTask?.abort()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],f.prototype,"files",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],f.prototype,"progress",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],f.prototype,"state",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],f.prototype,"result",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],f.prototype,"error",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],f.prototype,"_uploadTask",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],f.prototype,"_layer",void 0),f=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.widgets.Editor.Upload")],f);let h=null;async function y(e){const{resolve:r,promise:o}=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.createResolver)(),s=document.createElement("input");s.type="file",s.multiple=!1,s.accept=[...(0,_layers_support_infoFor3D_js__WEBPACK_IMPORTED_MODULE_13__.getSupportedExtensions)(e.infoFor3D),".zip"].join(","),s.style.display="none",document.body.appendChild(s);const i=(0,_core_events_js__WEBPACK_IMPORTED_MODULE_4__.on)(s,"change",(()=>r(s.files?Array.from(s.files):[])));return h?h(s):s.click(),o.finally((()=>{i.remove(),s.remove()}))}function g(e){h=r=>{Promise.resolve().then((()=>e)).then((e=>{if(!h)return;const o=new DataTransfer;e.forEach((e=>o.items.add(e))),r.files=o.files,r.dispatchEvent(new Event("change"))}))}}function j(){h=null}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3dpZGdldHNfRWRpdG9yX1VwbG9hZF9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxRQUFRLCtCQUErQixtQkFBbUIseUNBQXlDLDBCQUEwQiwwQ0FBMEMsa0JBQWtCLHlDQUE0RTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKOVE7QUFDQTtBQUNBO0FBQ0E7QUFDdU8scUJBQXFCLEtBQUssb0JBQW9CLFFBQVEsc0JBQXNCLEtBQUssbUlBQW1JLGlCQUFpQixZQUFZLElBQUksS0FBSyxnQkFBZ0IsK0NBQStDLHFCQUFxQixvQkFBb0IsZUFBZSxRQUFRLDhDQUE4QyxzQkFBc0IsVUFBVSx3REFBRyw4Q0FBOEMsK0RBQStELGVBQWUsZUFBZSxVQUFVLEdBQUcsTUFBTSxtQ0FBbUMsNERBQTRELG1DQUFtQyxvQ0FBb0MsR0FBRyxtQkFBbUIsaUJBQWlCLDhCQUE4Qix3REFBRyw4Q0FBOEMsMEJBQTBCLG9CQUFvQixRQUFRLHNFQUFDLDJCQUEyQixjQUFjLElBQUksaUJBQWlCLG9CQUFvQixjQUFjLHVDQUF1QyxrQkFBa0IsaUNBQWlDLG1CQUFtQixPQUFPLDBCQUEwQixLQUFLLDBCQUEwQiwrQ0FBK0MsS0FBSyxLQUFLLE9BQU8sZ0VBQUMsT0FBTyxzQkFBc0IsR0FBRyxrQkFBa0IsT0FBTyxzRUFBQyxDQUFDLHNEQUFDLFNBQVMsa0JBQWtCLE9BQU8sc0VBQUMsQ0FBQyxzREFBQyxTQUFTLHlCQUF5QiwyREFBQyxPQUFPLDJEQUFDLE1BQTBJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p0d0Q7QUFDQTtBQUNBO0FBQ0E7QUFDczJCLG9CQUFvQix5REFBQyxDQUFDLGNBQWMsUUFBUSx1RUFBdUUsVUFBVSxtRUFBbUUsWUFBWSx5QkFBeUIseUZBQXlGLGFBQWEscUNBQXFDLFlBQVkscUNBQXFDLFlBQVksMkRBQTJELCtEQUFDLFlBQVksbUJBQW1CLHFFQUFDLGlDQUFpQyxRQUFRLCtFQUFDLENBQUMsNkdBQUMsYUFBYSxnQkFBZ0IscUJBQXFCLDRCQUE0QixNQUFNLFVBQVUsT0FBTyxpL0JBQWdDLENBQUMscUVBQUMsSUFBSSwyQ0FBMkMscUVBQUMsK0JBQStCLFlBQVksMkRBQUMsRUFBRSxnREFBZ0QsaUNBQWlDLGdFQUFnRSxFQUFFLEdBQUcscUVBQUMsaUJBQWlCLHNEQUFDLHNEQUFzRCw4REFBOEQsaUZBQUMsS0FBSyxJQUFJLGVBQWUsUUFBUSxXQUFXLFNBQVMsR0FBRyxRQUFRLHdDQUF3QyxTQUFTLDRCQUE0Qix1REFBQyxFQUFFLHNGQUFDLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLG1DQUFtQyx1REFBQyxFQUFFLHNGQUFDLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLCtCQUErQix1REFBQyxFQUFFLHNGQUFDLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLHNDQUFzQyx1REFBQyxFQUFFLHNGQUFDLG1DQUFtQyx1REFBQyxFQUFFLHVGQUFDLG1DQUFtQyxXQUFXLG9CQUFvQixNQUFNLG9CQUFvQixDQUFDLHFFQUFDLHFDQUFxQyx5Q0FBeUMscUZBQUMsb0ZBQW9GLFFBQVEsbURBQUMscURBQXFELHdDQUF3QyxzQkFBc0IsR0FBRyxjQUFjLE1BQU0sMENBQTBDLGFBQWEseUJBQXlCLG9GQUFvRixJQUFJLGFBQWEsT0FBb0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3Mvc291cmNlcy9zdXBwb3J0L3VwbG9hZFByb2dyZXNzV2VpZ2h0cy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zdXBwb3J0L3Byb2dyZXNzVXRpbHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9FZGl0b3IvVXBsb2FkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBlPXt1cGxvYWQ6e2NyZWF0ZUZyb21GaWxlczouOCxsb2FkTWVzaDouMn0sdXBsb2FkQXNzZXRCbG9iczp7cHJlcGFyZUFzc2V0SXRlbXM6LjksdXBsb2FkQXNzZXRJdGVtczouMX0sdXBsb2FkQ29udmVydGlibGVTb3VyY2U6e3VwbG9hZEVkaXRTb3VyY2U6LjUsc2VydmljZUFzc2V0c1RvR2xiOi41fSx1cGxvYWRMb2NhbE1lc2g6e21lc2hUb0Fzc2V0QmxvYjouNSx1cGxvYWRBc3NldEJsb2JzOi41fX07ZXhwb3J0e2UgYXMgdXBsb2FkUHJvZ3Jlc3NXZWlnaHRzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7bWFrZUhhbmRsZSBhcyBzfWZyb21cIi4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2dldE9yQ3JlYXRlTWFwVmFsdWUgYXMgdH1mcm9tXCIuLi9jb3JlL01hcFV0aWxzLmpzXCI7aW1wb3J0e21pbGxpc2Vjb25kc0Zyb21TZWNvbmRzIGFzIGUsU2Vjb25kcyBhcyByLE1pbGxpc2Vjb25kcyBhcyBvfWZyb21cIi4uL2NvcmUvdGltZS5qc1wiO2Z1bmN0aW9uIGkocyx0PShzPT57fSksZSl7cmV0dXJuIG5ldyBuKHMsdCxlKX1jbGFzcyBue2NvbnN0cnVjdG9yKHMsdD0ocz0+e30pLGUpe2lmKHRoaXMub25Qcm9ncmVzcz10LHRoaXMudGFza05hbWU9ZSx0aGlzLl9wcm9ncmVzc01hcD1uZXcgTWFwLHRoaXMuX3N0YXJ0VGltZT12b2lkIDAsdGhpcy5fdGltaW5nc01hcD1uZXcgTWFwLFwibnVtYmVyXCI9PXR5cGVvZiBzKXt0aGlzLl93ZWlnaHRzPXt9O2ZvcihsZXQgdD0wO3Q8czt0Kyspe2NvbnN0IGU9dCxyPTEvczt0aGlzLl93ZWlnaHRzW2VdPXIsdGhpcy5fcHJvZ3Jlc3NNYXAuc2V0KGUsMCl9fWVsc2UgdGhpcy5fd2VpZ2h0cz1zO3RoaXMuZW1pdFByb2dyZXNzKCl9ZW1pdFByb2dyZXNzKCl7bGV0IHM9MDtmb3IoY29uc3RbdCxlXW9mIHRoaXMuX3Byb2dyZXNzTWFwLmVudHJpZXMoKSl7cys9ZSp0aGlzLl93ZWlnaHRzW3RdfWlmKDE9PT1zJiZoYXMoXCJlbmFibGUtZmVhdHVyZTplc3JpLTNkb2ZsLXVwbG9hZC10aW1pbmdzXCIpKXtjb25zdCBzPU1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCktKHRoaXMuX3N0YXJ0VGltZT8/MCkpLzFlMztjb25zb2xlLmxvZyhgJHt0aGlzLnRhc2tOYW1lfSBkb25lIGluICR7c30gc2VjYCk7Zm9yKGNvbnN0W3QsZV1vZiB0aGlzLl90aW1pbmdzTWFwKXtjb25zdCByPU1hdGgucm91bmQoZS5lbmQtZS5zdGFydCkvMWUzLG89TWF0aC5yb3VuZChyL3MqMTAwKTtjb25zb2xlLmxvZyh0aGlzLnRhc2tOYW1lPz9cIlRhc2tcIix7c3RlcEtleTp0LHN0ZXBUaW1lOnIscmVsYXRpdmVUaW1lOm99KX19dGhpcy5vblByb2dyZXNzKHMpfXNldFByb2dyZXNzKHMsZSl7aWYodGhpcy5fcHJvZ3Jlc3NNYXAuc2V0KHMsZSksaGFzKFwiZW5hYmxlLWZlYXR1cmU6ZXNyaS0zZG9mbC11cGxvYWQtdGltaW5nc1wiKSl7Y29uc3Qgcj1wZXJmb3JtYW5jZS5ub3coKTt0aGlzLl9zdGFydFRpbWU/Pz1yO2NvbnN0IG89dCh0aGlzLl90aW1pbmdzTWFwLHMsKCgpPT4oe3N0YXJ0OnIsZW5kOjB9KSkpOzE9PT1lJiYoby5lbmQ9cil9dGhpcy5lbWl0UHJvZ3Jlc3MoKX1zaW11bGF0ZShzLHQpe3JldHVybiBhKCh0PT50aGlzLnNldFByb2dyZXNzKHMsdCkpLHQpfW1ha2VPblByb2dyZXNzKHMpe3JldHVybiB0PT50aGlzLnNldFByb2dyZXNzKHMsdCl9fWZ1bmN0aW9uIGEodD0ocz0+e30pLGU9bCl7Y29uc3Qgcj1wZXJmb3JtYW5jZS5ub3coKTt0KDApO2NvbnN0IG89c2V0SW50ZXJ2YWwoKCgpPT57Y29uc3Qgcz1wZXJmb3JtYW5jZS5ub3coKS1yLG89MS1NYXRoLmV4cCgtcy9lKTt0KG8pfSksZyk7cmV0dXJuIHMoKCgpPT57Y2xlYXJJbnRlcnZhbChvKSx0KDEpfSkpfWZ1bmN0aW9uIGgocyx0PWMpe3JldHVybiBlKHIocypmL3QpKX1mdW5jdGlvbiBtKHMsdD1wKXtyZXR1cm4gZShyKHMqZi90KSl9Y29uc3QgYz0xMCxwPTEwLGY9OGUtNixnPW8oNTApLGw9bygxZTMpO2V4cG9ydHtuIGFzIFByb2dyZXNzTWFuYWdlcixtIGFzIGVzdGltYXRlZENvbnZlcnNpb25UaW1lLGggYXMgZXN0aW1hdGVkVHJhbnNmZXJUaW1lLGkgYXMgbWFrZVByb2dyZXNzTWFuYWdlcixhIGFzIHNpbXVsYXRlUHJvZ3Jlc3N9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7Y3JlYXRlVGFzayBhcyBvfWZyb21cIi4uLy4uL2NvcmUvYXN5bmNVdGlscy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7b24gYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2V2ZW50cy5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBpLGNyZWF0ZVJlc29sdmVyIGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBwIGZyb21cIi4uLy4uL2dlb21ldHJ5L1BvaW50LmpzXCI7aW1wb3J0e3VwbG9hZFByb2dyZXNzV2VpZ2h0cyBhcyBjfWZyb21cIi4uLy4uL2xheWVycy9ncmFwaGljcy9zb3VyY2VzL3N1cHBvcnQvdXBsb2FkUHJvZ3Jlc3NXZWlnaHRzLmpzXCI7aW1wb3J0e2dldFN1cHBvcnRlZEV4dGVuc2lvbnMgYXMgdX1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9pbmZvRm9yM0QuanNcIjtpbXBvcnR7bWFrZVByb2dyZXNzTWFuYWdlciBhcyBkLGVzdGltYXRlZFRyYW5zZmVyVGltZSBhcyBtfWZyb21cIi4uLy4uL3N1cHBvcnQvcHJvZ3Jlc3NVdGlscy5qc1wiO2xldCBmPWNsYXNzIGV4dGVuZHMgcntjb25zdHJ1Y3Rvcigpe3N1cGVyKHt9KSx0aGlzLmZpbGVzPVtdLHRoaXMucHJvZ3Jlc3M9MCx0aGlzLl91cGxvYWRUYXNrPW51bGwsdGhpcy5fbGF5ZXI9bnVsbH1kZXN0cm95KCl7dGhpcy5jYW5jZWwoKSx0aGlzLmZpbGVzPVtdLHRoaXMuX2xheWVyPW51bGwsdGhpcy5fdXBsb2FkVGFzaz1udWxsfWdldCBzdGF0ZSgpe2NvbnN0IGU9dGhpcy5fdXBsb2FkVGFzaztyZXR1cm4gZSYmMCE9PXRoaXMuZmlsZXMubGVuZ3RoP2UuZmluaXNoZWQ/ZS5lcnJvcj9cImVycm9yXCI6XCJzdWNjZXNzXCI6XCJwZW5kaW5nXCI6XCJkZWZhdWx0XCJ9Z2V0IHJlc3VsdCgpe3JldHVybiB0aGlzLl91cGxvYWRUYXNrPy52YWx1ZT8/bnVsbH1nZXQgZXJyb3IoKXtyZXR1cm4gdGhpcy5fdXBsb2FkVGFzaz8uZXJyb3I/P251bGx9dXBsb2FkVG8oZSl7dGhpcy5jYW5jZWwoKSx0aGlzLmZpbGVzPVtdLHRoaXMuX2xheWVyPWUsdGhpcy5fdXBsb2FkVGFzaz1vKChhc3luYyByPT57Y29uc3Qgbz1hd2FpdCB5KGUpO2kociksdGhpcy5wcm9ncmVzcz0wLHRoaXMuZmlsZXM9bztjb25zdCB0PWQoYy51cGxvYWQsKGU9Pnt0aGlzLnByb2dyZXNzPWV9KSxcIlVwbG9hZC51cGxvYWRUb1wiKTtpZigwPT09by5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3R7ZGVmYXVsdDpsfT1hd2FpdCBpbXBvcnQoXCIuLi8uLi9nZW9tZXRyeS9NZXNoLmpzXCIpO2kocik7Y29uc3QgYT1hd2FpdCBsLmV4dHJhY3RBbmRGaWx0ZXJGaWxlcyhvLGUpO2kociksYS5sZW5ndGg+MCYmKHRoaXMuZmlsZXM9YSk7Y29uc3Qgbj1uZXcgcCh7eDowLHk6MCx6OjAsc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2V9KSx1PWF3YWl0IGwuY3JlYXRlRnJvbUZpbGVzKG4sYSx7bGF5ZXI6ZSxzaWduYWw6cixvblByb2dyZXNzOnQubWFrZU9uUHJvZ3Jlc3MoXCJjcmVhdGVGcm9tRmlsZXNcIil9KTtpZihpKHIpLCF1KXRocm93IG5ldyBzKFwiZWRpdG9yOnVwbG9hZFwiLFwiY291bGQgbm90IHVwbG9hZCBvciBjb252ZXJ0IG1vZGVsXCIpO2NvbnN0IGY9YS5yZWR1Y2UoKChlLHIpPT5lK3Iuc2l6ZSksMCksaD10LnNpbXVsYXRlKFwibG9hZE1lc2hcIixtKGYpKTt0cnl7YXdhaXQgdS5sb2FkKCl9ZmluYWxseXtoLnJlbW92ZSgpfXJldHVybiB1fSkpfXJldHJ5KCl7dGhpcy5fbGF5ZXImJnRoaXMudXBsb2FkVG8odGhpcy5fbGF5ZXIpfWNhbmNlbCgpe3RoaXMuX3VwbG9hZFRhc2s/LmFib3J0KCl9fTtlKFthKCldLGYucHJvdG90eXBlLFwiZmlsZXNcIix2b2lkIDApLGUoW2EoKV0sZi5wcm90b3R5cGUsXCJwcm9ncmVzc1wiLHZvaWQgMCksZShbYSgpXSxmLnByb3RvdHlwZSxcInN0YXRlXCIsbnVsbCksZShbYSgpXSxmLnByb3RvdHlwZSxcInJlc3VsdFwiLG51bGwpLGUoW2EoKV0sZi5wcm90b3R5cGUsXCJlcnJvclwiLG51bGwpLGUoW2EoKV0sZi5wcm90b3R5cGUsXCJfdXBsb2FkVGFza1wiLHZvaWQgMCksZShbYSgpXSxmLnByb3RvdHlwZSxcIl9sYXllclwiLHZvaWQgMCksZj1lKFtuKFwiZXNyaS53aWRnZXRzLkVkaXRvci5VcGxvYWRcIildLGYpO2xldCBoPW51bGw7YXN5bmMgZnVuY3Rpb24geShlKXtjb25zdHtyZXNvbHZlOnIscHJvbWlzZTpvfT1sKCkscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7cy50eXBlPVwiZmlsZVwiLHMubXVsdGlwbGU9ITEscy5hY2NlcHQ9Wy4uLnUoZS5pbmZvRm9yM0QpLFwiLnppcFwiXS5qb2luKFwiLFwiKSxzLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTtjb25zdCBpPXQocyxcImNoYW5nZVwiLCgoKT0+cihzLmZpbGVzP0FycmF5LmZyb20ocy5maWxlcyk6W10pKSk7cmV0dXJuIGg/aChzKTpzLmNsaWNrKCksby5maW5hbGx5KCgoKT0+e2kucmVtb3ZlKCkscy5yZW1vdmUoKX0pKX1mdW5jdGlvbiBnKGUpe2g9cj0+e1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oKCgpPT5lKSkudGhlbigoZT0+e2lmKCFoKXJldHVybjtjb25zdCBvPW5ldyBEYXRhVHJhbnNmZXI7ZS5mb3JFYWNoKChlPT5vLml0ZW1zLmFkZChlKSkpLHIuZmlsZXM9by5maWxlcyxyLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwiY2hhbmdlXCIpKX0pKX19ZnVuY3Rpb24gaigpe2g9bnVsbH1leHBvcnR7ZiBhcyBVcGxvYWQsaiBhcyBjbGVhclByb21wdEZvckZpbGVzU3R1YixnIGFzIHN0dWJGaWxlUGlja2VyVG9TZWxlY3R9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9