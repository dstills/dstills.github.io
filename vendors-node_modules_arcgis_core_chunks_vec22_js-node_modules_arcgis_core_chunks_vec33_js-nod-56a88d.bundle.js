"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_chunks_vec22_js-node_modules_arcgis_core_chunks_vec33_js-nod-56a88d"],{

/***/ "./node_modules/@arcgis/core/chunks/scalar.js":
/*!****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/scalar.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   m: () => (/* binding */ e),
/* harmony export */   s: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e,t){const o=e.count;t||(t=new e.TypedArrayConstructor(o));for(let r=0;r<o;r++)t[r]=e.get(r);return t}const t=Object.freeze(Object.defineProperty({__proto__:null,makeDense:e},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/vec22.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec22.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ o),
/* harmony export */   f: () => (/* binding */ l),
/* harmony export */   n: () => (/* binding */ n),
/* harmony export */   v: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(e,t){n(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function n(o,n,l=2,u=l){const i=n.length/2;let a=0,d=0;if((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(n)||(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.isFloat)(n)){for(let e=0;e<i;++e)o[a]=n[d],o[a+1]=n[d+1],a+=l,d+=u;return}const c=(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.maximumValue)(n);if((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.isSigned)(n))for(let e=0;e<i;++e)o[a]=Math.max(n[d]/c,-1),o[a+1]=Math.max(n[d+1]/c,-1),a+=l,d+=u;else for(let e=0;e<i;++e)o[a]=n[d]/c,o[a+1]=n[d+1]/c,a+=l,d+=u}function l(e,t,r,f){const o=e.typedBuffer,n=e.typedBufferStride,l=f?.count??e.count;let u=(f?.dstIndex??0)*n;for(let i=0;i<l;++i)o[u]=t,o[u+1]=r,u+=n}const u=Object.freeze(Object.defineProperty({__proto__:null,fill:l,normalizeIntegerBuffer:n,normalizeIntegerBufferView:o},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/vec33.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec33.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ e),
/* harmony export */   c: () => (/* binding */ t),
/* harmony export */   f: () => (/* binding */ f),
/* harmony export */   v: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e,f){t(e.typedBuffer,f.typedBuffer,e.typedBufferStride,f.typedBufferStride)}function t(e,t,f=3,o=f){const r=t.length/o;let n=0,u=0;for(let c=0;c<r;++c)e[n]=t[u],e[n+1]=t[u+1],e[n+2]=t[u+2],n+=f,u+=o}function f(e,t,f,o,r){const n=e.typedBuffer,u=e.typedBufferStride,c=r?.count??e.count;let d=(r?.dstIndex??0)*u;for(let l=0;l<c;++l)n[d]=t,n[d+1]=f,n[d+2]=o,d+=u}const o=Object.freeze(Object.defineProperty({__proto__:null,copy:t,copyView:e,fill:f},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/vec42.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec42.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ r),
/* harmony export */   b: () => (/* binding */ o),
/* harmony export */   c: () => (/* binding */ t),
/* harmony export */   n: () => (/* binding */ n),
/* harmony export */   s: () => (/* binding */ u),
/* harmony export */   t: () => (/* binding */ f),
/* harmony export */   v: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _geometry_support_buffer_math_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/support/buffer/math/common.js */ "./node_modules/@arcgis/core/geometry/support/buffer/math/common.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t,r,f){if(t.count!==r.count)return void _geometry_support_buffer_math_common_js__WEBPACK_IMPORTED_MODULE_0__.mathLogger.error("source and destination buffers need to have the same number of elements");const n=t.count,o=f[0],u=f[1],s=f[2],d=f[3],a=f[4],i=f[5],c=f[6],p=f[7],l=f[8],m=f[9],y=f[10],B=f[11],h=f[12],S=f[13],b=f[14],g=f[15],M=t.typedBuffer,v=t.typedBufferStride,_=r.typedBuffer,j=r.typedBufferStride;for(let e=0;e<n;e++){const t=e*v,r=e*j,f=_[r],n=_[r+1],w=_[r+2],z=_[r+3];M[t]=o*f+a*n+l*w+h*z,M[t+1]=u*f+i*n+m*w+S*z,M[t+2]=s*f+c*n+y*w+b*z,M[t+3]=d*f+p*n+B*w+g*z}}function r(e,t,r){f(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function f(t,r,f,n=4,o=n){if(t.length/n!=r.length/o)return void _geometry_support_buffer_math_common_js__WEBPACK_IMPORTED_MODULE_0__.mathLogger.error("source and destination buffers need to have the same number of elements");const u=t.length/n,s=f[0],d=f[1],a=f[2],i=f[3],c=f[4],p=f[5],l=f[6],m=f[7],y=f[8];let B=0,h=0;for(let e=0;e<u;e++){const e=r[B],f=r[B+1],u=r[B+2],S=r[B+3];t[h]=s*e+i*f+l*u,t[h+1]=d*e+c*f+m*u,t[h+2]=a*e+p*f+y*u,t[h+3]=S,B+=o,h+=n}}function n(e,t){const r=Math.min(e.count,t.count),f=e.typedBuffer,n=e.typedBufferStride,o=t.typedBuffer,u=t.typedBufferStride;for(let s=0;s<r;s++){const e=s*n,t=s*u,r=o[t],d=o[t+1],a=o[t+2],i=r*r+d*d+a*a;if(i>0){const t=1/Math.sqrt(i);f[e]=t*r,f[e+1]=t*d,f[e+2]=t*a}}}function o(e,t,r){u(e.typedBuffer,t,r,e.typedBufferStride)}function u(e,t,r,f=4){const n=Math.min(e.length/f,t.count),o=t.typedBuffer,u=t.typedBufferStride;let s=0,d=0;for(let a=0;a<n;a++)e[d]=r*o[s],e[d+1]=r*o[s+1],e[d+2]=r*o[s+2],e[d+3]=r*o[s+3],s+=u,d+=f}const s=Object.freeze(Object.defineProperty({__proto__:null,normalize:n,scale:u,scaleView:o,transformMat3:f,transformMat3View:r,transformMat4:t},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/vec43.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec43.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ e),
/* harmony export */   c: () => (/* binding */ t),
/* harmony export */   f: () => (/* binding */ f),
/* harmony export */   v: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e,f){t(e.typedBuffer,f,e.typedBufferStride)}function t(e,t,f=4){const o=t.typedBuffer,r=t.typedBufferStride,n=t.count;let u=0,c=0;for(let d=0;d<n;++d)e[u]=o[c],e[u+1]=o[c+1],e[u+2]=o[c+2],e[u+3]=o[c+3],u+=f,c+=r}function f(e,t,f,o,r,n){const u=e.typedBuffer,c=e.typedBufferStride,d=n?.count??e.count;let l=(n?.dstIndex??0)*c;for(let p=0;p<d;++p)u[l]=t,u[l+1]=f,u[l+2]=o,u[l+3]=r,l+=c}const o=Object.freeze(Object.defineProperty({__proto__:null,copy:t,copyView:e,fill:f},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DefaultLoadingContext: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class n{constructor(r){this._streamDataRequester=r}async loadJSON(r,e){return this._load("json",r,e)}async loadBinary(r,e){return (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.isDataProtocol)(r)?((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(e),(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.dataToArrayBuffer)(r)):this._load("binary",r,e)}async loadImage(r,e){return this._load("image",r,e)}async _load(a,o,i){if(null==this._streamDataRequester)return(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(o,{responseType:m[a]})).data;const n=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.result)(this._streamDataRequester.request(o,a,i));if(!0===n.ok)return n.value;throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAbortError)(n.error),new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("",`Request for resource failed: ${n.error}`)}}const m={image:"image",binary:"array-buffer",json:"json","image+type":void 0};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/LoaderResult.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/LoaderResult.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   makeMaterialParameters: () => (/* binding */ r),
/* harmony export */   makeTextureSource: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(e={}){return{color:[1,1,1],opacity:1,alphaMode:"OPAQUE",alphaCutoff:.5,doubleSided:!1,castShadows:!0,receiveShadows:!0,receiveAmbientOcclustion:!0,textureColor:null,textureNormal:null,textureOcclusion:null,textureEmissive:null,textureMetallicRoughness:null,colorTextureTransform:null,normalTextureTransform:null,occlusionTextureTransform:null,emissiveTextureTransform:null,metallicRoughnessTextureTransform:null,emissiveFactor:[0,0,0],metallicFactor:1,roughnessFactor:1,colorMixMode:"multiply",...e}}function l(r,l={}){return{data:r,parameters:{wrap:{s:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.TextureWrapMode.REPEAT,t:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.TextureWrapMode.REPEAT,...l.wrap},noUnpackFlip:!0,mipmap:!1,...l}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/BinaryStreamReader.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/BinaryStreamReader.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BinaryStreamReader: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t){this._data=t,this._offset4=0,this._dataUint32=new Uint32Array(this._data,0,Math.floor(this._data.byteLength/4))}readUint32(){const t=this._offset4;return this._offset4+=1,this._dataUint32[t]}readUint8Array(t){const s=4*this._offset4;return this._offset4+=t/4,new Uint8Array(this._data,s,t)}remainingBytes(){return this._data.byteLength-4*this._offset4}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GLTFResource: () => (/* binding */ Y),
/* harmony export */   transformGltfToEngine: () => (/* binding */ q)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_Version_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Version.js */ "./node_modules/@arcgis/core/core/Version.js");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ "./node_modules/@arcgis/core/chunks/mat4.js");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ "./node_modules/@arcgis/core/chunks/mat4f64.js");
/* harmony import */ var _chunks_quat_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/quat.js */ "./node_modules/@arcgis/core/chunks/quat.js");
/* harmony import */ var _chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/quatf64.js */ "./node_modules/@arcgis/core/chunks/quatf64.js");
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/buffer/BufferView.js */ "./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js");
/* harmony import */ var _chunks_scalar_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/scalar.js */ "./node_modules/@arcgis/core/chunks/scalar.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _BinaryStreamReader_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./BinaryStreamReader.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/BinaryStreamReader.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/enums.js");
/* harmony import */ var _fillDefaults_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./fillDefaults.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/fillDefaults.js");
/* harmony import */ var _pathUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./pathUtils.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/pathUtils.js");
/* harmony import */ var _resourceUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./resourceUtils.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const K={MAGIC:1179937895,CHUNK_TYPE_JSON:1313821514,CHUNK_TYPE_BIN:5130562,MIN_HEADER_LENGTH:20};class Y{constructor(t,r,o,n){if(this._context=t,this.uri=r,this.json=o,this._glbBuffer=n,this._bufferLoaders=new Map,this._textureLoaders=new Map,this._textureCache=new Map,this._materialCache=new Map,this._nodeParentMap=new Map,this._nodeTransformCache=new Map,this._supportedExtensions=["KHR_texture_basisu"],this._baseUri=(0,_pathUtils_js__WEBPACK_IMPORTED_MODULE_16__.splitURI)(this.uri).dirPart,this._checkVersionSupported(),this._checkRequiredExtensionsSupported(),null==o.scenes)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Scenes must be defined.");if(null==o.meshes)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Meshes must be defined");if(null==o.nodes)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Nodes must be defined.");this._computeNodeParents()}static async load(t,r,o){if((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.isDataProtocol)(r)){const e=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.dataComponents)(r);if(e&&"model/gltf-binary"!==e.mediaType)try{const o=JSON.parse(e.isBase64?atob(e.data):e.data);return new Y(t,r,o)}catch{}const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.dataToArrayBuffer)(r);if(Y._isGLBData(o))return this._fromGLBData(t,r,o)}if(Q.test(r)||"gltf"===o?.expectedType){const e=await t.loadJSON(r,o);return new Y(t,r,e)}const i=await t.loadBinary(r,o);if(Y._isGLBData(i))return this._fromGLBData(t,r,i);if(Z.test(r)||"glb"===o?.expectedType)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-invalid-glb","This is not a valid glb file.");const u=await t.loadJSON(r,o);return new Y(t,r,u)}static _isGLBData(e){if(null==e)return!1;const t=new _BinaryStreamReader_js__WEBPACK_IMPORTED_MODULE_13__.BinaryStreamReader(e);return t.remainingBytes()>=4&&t.readUint32()===K.MAGIC}static async _fromGLBData(e,t,r){const o=await Y._parseGLBData(r);return new Y(e,t,o.json,o.binaryData)}static async _parseGLBData(r){const o=new _BinaryStreamReader_js__WEBPACK_IMPORTED_MODULE_13__.BinaryStreamReader(r);if(o.remainingBytes()<12)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","glb binary data is insufficiently large.");const n=o.readUint32(),s=o.readUint32(),a=o.readUint32();if(n!==K.MAGIC)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","Magic first 4 bytes do not fit to expected glb value.");if(r.byteLength<a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","glb binary data is smaller than header specifies.");if(2!==s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","An unsupported glb container version was detected. Only version 2 is supported.");let i,u,f=0;for(;o.remainingBytes()>=8;){const r=o.readUint32(),n=o.readUint32();if(0===f){if(n!==K.CHUNK_TYPE_JSON)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","First glb chunk must be JSON.");if(r<0)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","No JSON data found.");i=await (0,_resourceUtils_js__WEBPACK_IMPORTED_MODULE_17__.jsonFromBinaryData)(o.readUint8Array(r))}else if(1===f){if(n!==K.CHUNK_TYPE_BIN)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Second glb chunk expected to be BIN.");u=o.readUint8Array(r)}else _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.3d.glTF").warn("[Unsupported Feature] More than 2 glb chunks detected. Skipping.");f+=1}if(!i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","No glb JSON chunk detected.");return{json:i,binaryData:u}}async getBuffer(t,r){const o=this.json.buffers[t];if(null==o.uri){if(null==this._glbBuffer)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","glb buffer not present");return this._glbBuffer}const n=await this._getBufferLoader(t,r);if(n.byteLength!==o.byteLength)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","Buffer byte lengths should match.");return n}async _getBufferLoader(e,t){const r=this._bufferLoaders.get(e);if(r)return r;const o=this.json.buffers[e].uri,n=this._context.loadBinary(this._resolveUri(o),t).then((e=>new Uint8Array(e)));return this._bufferLoaders.set(e,n),n}async getAccessor(t,r){if(!this.json.accessors)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Accessors missing.");const o=this.json.accessors[t];if(null==o?.bufferView)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Some accessor does not specify a bufferView.");if(o.type in[_enums_js__WEBPACK_IMPORTED_MODULE_14__.AttributeType.MAT2,_enums_js__WEBPACK_IMPORTED_MODULE_14__.AttributeType.MAT3,_enums_js__WEBPACK_IMPORTED_MODULE_14__.AttributeType.MAT4])throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature",`AttributeType ${o.type} is not supported`);const n=this.json.bufferViews[o.bufferView],s=await this.getBuffer(n.buffer,r),a=X[o.type],i=$[o.componentType],u=a*i,f=n.byteStride||u;return{raw:s.buffer,byteStride:f,byteOffset:s.byteOffset+(n.byteOffset||0)+(o.byteOffset||0),entryCount:o.count,isDenselyPacked:f===u,componentCount:a,componentByteSize:i,componentType:o.componentType,min:o.min,max:o.max,normalized:!!o.normalized}}async getIndexData(e,t){if(null==e.indices)return;const r=await this.getAccessor(e.indices,t);if(r.isDenselyPacked)switch(r.componentType){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_BYTE:return new Uint8Array(r.raw,r.byteOffset,r.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_SHORT:return new Uint16Array(r.raw,r.byteOffset,r.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_INT:return new Uint32Array(r.raw,r.byteOffset,r.entryCount)}else switch(r.componentType){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_BYTE:return (0,_chunks_scalar_js__WEBPACK_IMPORTED_MODULE_11__.m)(this._wrapAccessor(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewUint8,r));case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_SHORT:return (0,_chunks_scalar_js__WEBPACK_IMPORTED_MODULE_11__.m)(this._wrapAccessor(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewUint16,r));case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_INT:return (0,_chunks_scalar_js__WEBPACK_IMPORTED_MODULE_11__.m)(this._wrapAccessor(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewUint32,r))}}async getPositionData(t,r){if(null==t.attributes.POSITION)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","No POSITION vertex data found.");const o=await this.getAccessor(t.attributes.POSITION,r);if(o.componentType!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Expected type FLOAT for POSITION vertex attribute, but found "+_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType[o.componentType]);if(3!==o.componentCount)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","POSITION vertex attribute must have 3 components, but found "+o.componentCount.toFixed());return this._wrapAccessor(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3f,o)}async getNormalData(t,r){if(null==t.attributes.NORMAL)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","No NORMAL vertex data found.");const o=await this.getAccessor(t.attributes.NORMAL,r);if(o.componentType!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Expected type FLOAT for NORMAL vertex attribute, but found "+_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType[o.componentType]);if(3!==o.componentCount)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","NORMAL vertex attribute must have 3 components, but found "+o.componentCount.toFixed());return this._wrapAccessor(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3f,o)}async getTangentData(t,r){if(null==t.attributes.TANGENT)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","No TANGENT vertex data found.");const o=await this.getAccessor(t.attributes.TANGENT,r);if(o.componentType!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Expected type FLOAT for TANGENT vertex attribute, but found "+_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType[o.componentType]);if(4!==o.componentCount)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","TANGENT vertex attribute must have 4 components, but found "+o.componentCount.toFixed());return new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec4f(o.raw,o.byteOffset,o.byteStride,o.byteOffset+o.byteStride*o.entryCount)}async getTextureCoordinates(t,r){if(null==t.attributes.TEXCOORD_0)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","No TEXCOORD_0 vertex data found.");const o=await this.getAccessor(t.attributes.TEXCOORD_0,r);if(2!==o.componentCount)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","TEXCOORD_0 vertex attribute must have 2 components, but found "+o.componentCount.toFixed());if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT)return this._wrapAccessor(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2f,o);if(!o.normalized)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Integer component types are only supported for a normalized accessor for TEXCOORD_0.");return W(o)}async getVertexColors(t,r){if(null==t.attributes.COLOR_0)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error","No COLOR_0 vertex data found.");const o=await this.getAccessor(t.attributes.COLOR_0,r);if(4!==o.componentCount&&3!==o.componentCount)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","COLOR_0 attribute must have 3 or 4 components, but found "+o.componentCount.toFixed());if(4===o.componentCount){if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT)return this._wrapAccessor(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec4f,o);if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_BYTE)return this._wrapAccessor(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec4u8,o);if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_SHORT)return this._wrapAccessor(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec4u16,o)}else if(3===o.componentCount){if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT)return this._wrapAccessor(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3f,o);if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_BYTE)return this._wrapAccessor(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3u8,o);if(o.componentType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_SHORT)return this._wrapAccessor(_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec3u16,o)}throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Unsupported component type for COLOR_0 attribute: "+_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType[o.componentType])}hasPositions(e){return void 0!==e.attributes.POSITION}hasNormals(e){return void 0!==e.attributes.NORMAL}hasVertexColors(e){return void 0!==e.attributes.COLOR_0}hasTextureCoordinates(e){return void 0!==e.attributes.TEXCOORD_0}hasTangents(e){return void 0!==e.attributes.TANGENT}async getMaterial(e,t,r){let o=e.material?this._materialCache.get(e.material):void 0;if(!o){const n=null!=e.material?(0,_fillDefaults_js__WEBPACK_IMPORTED_MODULE_15__.material)(this.json.materials[e.material]):(0,_fillDefaults_js__WEBPACK_IMPORTED_MODULE_15__.material)(),s=n.pbrMetallicRoughness,a=this.hasVertexColors(e),i=this.getTexture(s.baseColorTexture,t),u=this.getTexture(n.normalTexture,t),f=r?this.getTexture(n.occlusionTexture,t):void 0,c=r?this.getTexture(n.emissiveTexture,t):void 0,d=r?this.getTexture(s.metallicRoughnessTexture,t):void 0,l=null!=e.material?e.material:-1;o={alphaMode:n.alphaMode,alphaCutoff:n.alphaCutoff,color:s.baseColorFactor,doubleSided:!!n.doubleSided,colorTexture:await i,normalTexture:await u,name:n.name,id:l,occlusionTexture:await f,emissiveTexture:await c,emissiveFactor:n.emissiveFactor,metallicFactor:s.metallicFactor,roughnessFactor:s.roughnessFactor,metallicRoughnessTexture:await d,hasVertexColors:a,ESRI_externalColorMixMode:n.extras.ESRI_externalColorMixMode,colorTextureTransform:s?.baseColorTexture?.extensions?.KHR_texture_transform,normalTextureTransform:n.normalTexture?.extensions?.KHR_texture_transform,occlusionTextureTransform:n.occlusionTexture?.extensions?.KHR_texture_transform,emissiveTextureTransform:n.emissiveTexture?.extensions?.KHR_texture_transform,metallicRoughnessTextureTransform:s?.metallicRoughnessTexture?.extensions?.KHR_texture_transform}}return o}async getTexture(t,o){if(!t)return;if(0!==(t.texCoord||0))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Only TEXCOORD with index 0 is supported.");const n=t.index,s=this.json.textures[n],a=(0,_fillDefaults_js__WEBPACK_IMPORTED_MODULE_15__.textureSampler)(null!=s.sampler?this.json.samplers[s.sampler]:{}),i=this._getTextureSourceId(s),u=this.json.images[i],f=await this._loadTextureImageData(n,s,o);return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(this._textureCache,n,(()=>{const t=e=>33071===e||33648===e||10497===e,r=t=>{throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-error",`Unexpected TextureSampler WrapMode: ${t}`)};return{data:f,wrapS:t(a.wrapS)?a.wrapS:r(a.wrapS),wrapT:t(a.wrapT)?a.wrapT:r(a.wrapT),minFilter:a.minFilter,name:u.name,id:n}}))}getNodeTransform(e){if(void 0===e)return q;let t=this._nodeTransformCache.get(e);if(!t){const r=this.getNodeTransform(this._getNodeParent(e)),o=this.json.nodes[e];o.matrix?t=(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__.m)((0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),r,o.matrix):o.translation||o.rotation||o.scale?(t=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__.b)(r),o.translation&&(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__.w)(t,t,o.translation),o.rotation&&(z[3]=(0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_8__.g)(z,o.rotation),(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__.k)(t,t,z[3],z)),o.scale&&(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__.b)(t,t,o.scale)):t=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__.b)(r),this._nodeTransformCache.set(e,t)}return t}_wrapAccessor(e,t){return new e(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*(t.entryCount-1)+t.componentByteSize*t.componentCount)}_resolveUri(e){return (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeAbsolute)(e,this._baseUri)}_getNodeParent(e){return this._nodeParentMap.get(e)}_checkVersionSupported(){const e=_core_Version_js__WEBPACK_IMPORTED_MODULE_5__.Version.parse(this.json.asset.version,"glTF");J.validate(e)}_checkRequiredExtensionsSupported(){const t=this.json;if(t.extensionsRequired){if(!t.extensionsRequired.every((e=>this._supportedExtensions.includes(e))))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","gltf loader was not able to load unsupported feature. Required extensions: "+t.extensionsRequired.join(", "))}}_computeNodeParents(){this.json.nodes.forEach(((e,t)=>{e.children&&e.children.forEach((e=>{this._nodeParentMap.set(e,t)}))}))}async _loadTextureImageData(e,t,r){const o=this._textureLoaders.get(e);if(o)return o;const n=this._createTextureLoader(t,r);return this._textureLoaders.set(e,n),n}_getTextureSourceId(t){if(void 0!==t.extensions&&null!==t.extensions.KHR_texture_basisu)return t.extensions.KHR_texture_basisu.source;if(null!==t.source)return t.source;throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Source is expected to be defined for a texture. It can also be omitted in favour of an KHR_texture_basisu extension tag.")}async _createTextureLoader(t,r){const o=this._getTextureSourceId(t),n=this.json.images[o];if(n.uri){if(n.uri.endsWith(".ktx2")){const e=await this._context.loadBinary(this._resolveUri(n.uri),r);return new _resourceUtils_js__WEBPACK_IMPORTED_MODULE_17__.EncodedMeshTexture(new Uint8Array(e))}return this._context.loadImage(this._resolveUri(n.uri),r)}if(null==n.bufferView)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Image bufferView must be defined.");if(null==n.mimeType)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","Image mimeType must be defined.");const s=this.json.bufferViews[n.bufferView],a=await this.getBuffer(s.buffer,r);if(null!=s.byteStride)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("gltf-loader-unsupported-feature","byteStride not supported for image buffer");const i=a.byteOffset+(s.byteOffset||0);return (0,_resourceUtils_js__WEBPACK_IMPORTED_MODULE_17__.imageFromBinaryData)(new Uint8Array(a.buffer,i,s.byteLength),n.mimeType)}async getLoadedBuffersSize(){if(this._glbBuffer)return this._glbBuffer.byteLength;const e=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.allSettledValues)(Array.from(this._bufferLoaders.values())),t=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.allSettledValues)(Array.from(this._textureLoaders.values()));return e.reduce(((e,t)=>e+(t?.byteLength??0)),0)+t.reduce(((e,t)=>e+(t?(0,_resourceUtils_js__WEBPACK_IMPORTED_MODULE_17__.isEncodedMeshTexture)(t)?t.data.byteLength:t.width*t.height*4:0)),0)}}const q=(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__.A)((0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__.a)(),Math.PI/2),J=new _core_Version_js__WEBPACK_IMPORTED_MODULE_5__.Version(2,0,"glTF"),z=(0,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_9__.a)(),X={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},$={[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.BYTE]:1,[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_BYTE]:1,[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.SHORT]:2,[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_SHORT]:2,[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT]:4,[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.INT]:4,[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_INT]:4};function W(e){switch(e.componentType){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.BYTE:return new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2i8(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_BYTE:return new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2u8(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.SHORT:return new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2i16(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_SHORT:return new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2u16(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.UNSIGNED_INT:return new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2u32(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.DataType.FLOAT:return new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_10__.BufferViewVec2f(e.raw,e.byteOffset,e.byteStride,e.byteOffset+e.byteStride*e.entryCount)}}const Q=/\.gltf$/i,Z=/\.glb$/i;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/enums.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/enums.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AttributeType: () => (/* binding */ A),
/* harmony export */   BufferViewTarget: () => (/* binding */ E)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var A,E;!function(A){A.SCALAR="SCALAR",A.VEC2="VEC2",A.VEC3="VEC3",A.VEC4="VEC4",A.MAT2="MAT2",A.MAT3="MAT3",A.MAT4="MAT4"}(A||(A={})),function(A){A[A.ARRAY_BUFFER=34962]="ARRAY_BUFFER",A[A.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER"}(E||(E={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/fillDefaults.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/fillDefaults.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   material: () => (/* binding */ i),
/* harmony export */   textureSampler: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const t={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1},a={pbrMetallicRoughness:t,emissiveFactor:[0,0,0],alphaMode:"OPAQUE",alphaCutoff:.5,doubleSided:!1},l={ESRI_externalColorMixMode:"tint"},i=(e={})=>{const o={...t,...e.pbrMetallicRoughness},r=s({...l,...e.extras});return{...a,...e,pbrMetallicRoughness:o,extras:r}};function s(o){switch(o.ESRI_externalColorMixMode){case"multiply":case"tint":case"ignore":case"replace":break;default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__.neverReached)(o.ESRI_externalColorMixMode),o.ESRI_externalColorMixMode="tint"}return o}const n={magFilter:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.LINEAR,minFilter:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.LINEAR_MIPMAP_LINEAR,wrapS:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureWrapMode.REPEAT,wrapT:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureWrapMode.REPEAT},c=e=>({...n,...e});


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertPrimitiveToTriangles: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(r,t){switch(t){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PrimitiveType.TRIANGLES:return f(r);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PrimitiveType.TRIANGLE_STRIP:return u(r);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PrimitiveType.TRIANGLE_FAN:return i(r)}}function f(e){return"number"==typeof e?(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_1__.getContinuousIndexArray)(e):(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.isUint8Array)(e)?new Uint16Array(e):e}function u(r){const t="number"==typeof r?r:r.length;if(t<3)return[];const n=t-2,o=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_1__.newIndexArray)(3*n);if("number"==typeof r){let r=0;for(let t=0;t<n;t+=1)t%2==0?(o[r++]=t,o[r++]=t+1,o[r++]=t+2):(o[r++]=t+1,o[r++]=t,o[r++]=t+2)}else{let t=0;for(let e=0;e<n;e+=1)e%2==0?(o[t++]=r[e],o[t++]=r[e+1],o[t++]=r[e+2]):(o[t++]=r[e+1],o[t++]=r[e],o[t++]=r[e+2])}return o}function i(r){const t="number"==typeof r?r:r.length;if(t<3)return new Uint16Array(0);const e=t-2,n=e<=65536?new Uint16Array(3*e):new Uint32Array(3*e);if("number"==typeof r){let r=0;for(let t=0;t<e;++t)n[r++]=0,n[r++]=t+1,n[r++]=t+2;return n}const o=r[0];let f=r[1],u=0;for(let i=0;i<e;++i){const t=r[i+2];n[u++]=o,n[u++]=f,n[u++]=t,f=t}return n}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/pathUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/pathUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   splitURI: () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(r){let e,t;return r.replace(/^(.*\/)?([^/]*)$/,((r,a,i)=>(e=a||"",t=i||"",""))),{dirPart:e,filePart:t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EncodedMeshTexture: () => (/* binding */ t),
/* harmony export */   imageFromBinaryData: () => (/* binding */ o),
/* harmony export */   isEncodedMeshTexture: () => (/* binding */ r),
/* harmony export */   jsonFromBinaryData: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t){this.data=t,this.type="encoded-mesh-texture",this.encoding=_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_1__.TextureEncodingMimeType.KTX2_ENCODING}}function r(e){return"encoded-mesh-texture"===e?.type}async function n(e){const t=new Blob([e]),r=await t.text();return JSON.parse(r)}async function o(r,n){if(n===_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_1__.TextureEncodingMimeType.KTX2_ENCODING)return new t(r);const o=new Blob([r],{type:n}),c=URL.createObjectURL(o),s=new Image;if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-iPhone"))return new Promise(((e,t)=>{const r=()=>{o(),e(s)},n=e=>{o(),t(e)},o=()=>{URL.revokeObjectURL(c),s.removeEventListener("load",r),s.removeEventListener("error",n)};s.addEventListener("load",r),s.addEventListener("error",n),s.src=c}));try{s.src=c,await s.decode()}catch(i){console.warn("Failed decoding HTMLImageElement")}return URL.revokeObjectURL(c),s}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/loader.js":
/*!***********************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/loader.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadGLTF: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/mat4f64.js */ "./node_modules/@arcgis/core/chunks/mat4f64.js");
/* harmony import */ var _LoaderResult_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LoaderResult.js */ "./node_modules/@arcgis/core/views/3d/glTF/LoaderResult.js");
/* harmony import */ var _internal_Resource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/Resource.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let i=0;async function l(t,r,a={},l=!0){const m=await _internal_Resource_js__WEBPACK_IMPORTED_MODULE_3__.GLTFResource.load(t,r,a),p="gltf_"+i++,T={lods:[],materials:new Map,textures:new Map,meta:u(m)},f=!(!m.json.asset.extras||"symbolResource"!==m.json.asset.extras.ESRI_type),x=new Map;await c(m,(async(t,r,s,i)=>{const u=x.get(s)??0;x.set(s,u+1);const c=void 0!==t.mode?t.mode:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType.TRIANGLES,f=c===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType.TRIANGLES||c===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType.TRIANGLE_STRIP||c===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType.TRIANGLE_FAN?c:null;if(null==f)return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.glTF").warn("[Unsupported Feature] Unsupported primitive mode ("+_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PrimitiveType[c]+"). Skipping primitive.");if(!m.hasPositions(t))return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.glTF").warn("Skipping primitive without POSITION vertex attribute.");const g=m.getPositionData(t,a),h=m.getMaterial(t,a,l),w=m.hasNormals(t)?m.getNormalData(t,a):null,v=m.hasTangents(t)?m.getTangentData(t,a):null,R=m.hasTextureCoordinates(t)?m.getTextureCoordinates(t,a):null,S=m.hasVertexColors(t)?m.getVertexColors(t,a):null,_=m.getIndexData(t,a),E={name:i,transform:(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.b)(r),attributes:{position:await g,normal:w?await w:null,texCoord0:R?await R:null,color:S?await S:null,tangent:v?await v:null},indices:await _,primitiveType:f,material:d(T,await h,p)};let I=null;null!=T.meta?.ESRI_lod&&"screenSpaceRadius"===T.meta.ESRI_lod.metric&&(I=T.meta.ESRI_lod.thresholds[s]),T.lods[s]=T.lods[s]||{parts:[],name:i,lodThreshold:I},T.lods[s].parts[u]=E}));for(const e of T.lods)e.parts=e.parts.filter((e=>!!e));const g=await m.getLoadedBuffersSize();return{model:T,meta:{isEsriSymbolResource:f,uri:m.uri},customMeta:{},size:g}}function u(e){const o=e.json;let t=null;return o.nodes.forEach((e=>{const o=e.extras;null!=o&&(o.ESRI_proxyEllipsoid||o.ESRI_lod)&&(t=o)})),t}async function c(o,t){const r=o.json,s=r.scenes[r.scene||0].nodes,a=s.length>1,n=[];for(const e of s){const o=r.nodes[e];if(n.push(i(e,0)),m(o)&&!a){o.extensions.MSFT_lod.ids.forEach(((e,o)=>i(e,o+1)))}}async function i(s,a){const l=r.nodes[s],u=o.getNodeTransform(s);if(null!=l.weights&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.glTF").warn("[Unsupported Feature] Morph targets are not supported."),null!=l.mesh){const e=r.meshes[l.mesh];for(const o of e.primitives)n.push(t(o,u,a,e.name))}for(const e of l.children||[])n.push(i(e,a))}await Promise.all(n)}function m(e){return e.extensions?.MSFT_lod&&Array.isArray(e.extensions.MSFT_lod.ids)}function d(e,o,s){const a=o=>{const t=`${s}_tex_${o&&o.id}${o?.name?"_"+o.name:""}`;if(o&&!e.textures.has(t)){const s=(0,_LoaderResult_js__WEBPACK_IMPORTED_MODULE_2__.makeTextureSource)(o.data,{wrap:{s:o.wrapS,t:o.wrapT},mipmap:p.has(o.minFilter),noUnpackFlip:!0});e.textures.set(t,s)}return t},n=`${s}_mat_${o.id}_${o.name}`;if(!e.materials.has(n)){const r=(0,_LoaderResult_js__WEBPACK_IMPORTED_MODULE_2__.makeMaterialParameters)({color:[o.color[0],o.color[1],o.color[2]],opacity:o.color[3],alphaMode:o.alphaMode,alphaCutoff:o.alphaCutoff,doubleSided:o.doubleSided,colorMixMode:o.ESRI_externalColorMixMode,textureColor:o.colorTexture?a(o.colorTexture):void 0,textureNormal:o.normalTexture?a(o.normalTexture):void 0,textureOcclusion:o.occlusionTexture?a(o.occlusionTexture):void 0,textureEmissive:o.emissiveTexture?a(o.emissiveTexture):void 0,textureMetallicRoughness:o.metallicRoughnessTexture?a(o.metallicRoughnessTexture):void 0,emissiveFactor:[o.emissiveFactor[0],o.emissiveFactor[1],o.emissiveFactor[2]],colorTextureTransform:o.colorTextureTransform,normalTextureTransform:o.normalTextureTransform,occlusionTextureTransform:o.occlusionTextureTransform,emissiveTextureTransform:o.emissiveTextureTransform,metallicRoughnessTextureTransform:o.metallicRoughnessTextureTransform,metallicFactor:o.metallicFactor,roughnessFactor:o.roughnessFactor});e.materials.set(n,r)}return n}const p=new Set([_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.TextureSamplingMode.LINEAR_MIPMAP_LINEAR,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.TextureSamplingMode.LINEAR_MIPMAP_NEAREST]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   colorGamma: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const o=2.1;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfY2h1bmtzX3ZlYzIyX2pzLW5vZGVfbW9kdWxlc19hcmNnaXNfY29yZV9jaHVua3NfdmVjMzNfanMtbm9kLTU2YTg4ZC5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnQkFBZ0Isc0NBQXNDLFlBQVksSUFBSSxrQkFBa0IsU0FBUyw2Q0FBNkMsMkJBQTJCLHFCQUFxQixlQUFlLEdBQXlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnRQO0FBQ0E7QUFDQTtBQUNBO0FBQ2lHLGdCQUFnQix1RUFBdUUsd0JBQXdCLG1CQUFtQixZQUFZLEdBQUcsZ0VBQUMsS0FBSyxnRUFBQyxLQUFLLFlBQVksSUFBSSxzQ0FBc0MsT0FBTyxRQUFRLHFFQUFDLElBQUksR0FBRyxpRUFBQyxnQkFBZ0IsSUFBSSxvRUFBb0UsaUJBQWlCLElBQUksMENBQTBDLG9CQUFvQixnRUFBZ0UseUJBQXlCLFlBQVksSUFBSSx5QkFBeUIsNkNBQTZDLDRFQUE0RSxxQkFBcUIsZUFBZSxHQUFrQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnh6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix1RUFBdUUsd0JBQXdCLG1CQUFtQixZQUFZLFlBQVksSUFBSSxvREFBb0Qsc0JBQXNCLGdFQUFnRSx5QkFBeUIsWUFBWSxJQUFJLGtDQUFrQyw2Q0FBNkMsd0NBQXdDLHFCQUFxQixlQUFlLEdBQWtDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjlnQjtBQUNBO0FBQ0E7QUFDQTtBQUN1RSxrQkFBa0IsaUNBQWlDLCtFQUFDLGtGQUFrRixrTkFBa04sWUFBWSxJQUFJLEtBQUssb0RBQW9ELDJGQUEyRixrQkFBa0IseUVBQXlFLDBCQUEwQixzQ0FBc0MsK0VBQUMsa0ZBQWtGLGtGQUFrRixZQUFZLFlBQVksSUFBSSxLQUFLLHdDQUF3QywyRUFBMkUsZ0JBQWdCLDhHQUE4RyxZQUFZLElB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QXNCLEVBQUUsMEJBQTBCLFFBQVEsbUVBQUMsU0FBUyxNQUFNLG9CQUFvQiwyQ0FBMkMsRUFBRSxvQkFBb0IsU0FBUyxNQUFNLEVBQUUsT0FBTyxLQUFLLEdBQUcsT0FBTyxFQUFFLHdCQUF3QixRQUFRLHdFQUFDLEVBQUUsaTVCQUFpNUIsRUFBRSxxQkFBcUIsU0FBUyxpQkFBaUIsZ0VBQUMsc0JBQXNCLGdFQUFDLHlCQUErQzs7Ozs7Ozs7Ozs7Ozs7O0FDSjcwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL3NjYWxhci5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3MvdmVjMjIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL3ZlYzMzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy92ZWM0Mi5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3MvdmVjNDMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvZ2xURi9EZWZhdWx0TG9hZGluZ0NvbnRleHQuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvZ2xURi9Mb2FkZXJSZXN1bHQuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvZ2xURi9pbnRlcm5hbC9CaW5hcnlTdHJlYW1SZWFkZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvZ2xURi9pbnRlcm5hbC9SZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9nbFRGL2ludGVybmFsL2VudW1zLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2dsVEYvaW50ZXJuYWwvZmlsbERlZmF1bHRzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2dsVEYvaW50ZXJuYWwvaW5kZXhVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9nbFRGL2ludGVybmFsL3BhdGhVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9nbFRGL2ludGVybmFsL3Jlc291cmNlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvZ2xURi9sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL21hdGVyaWFscy9EZWZhdWx0TWF0ZXJpYWxfQ09MT1JfR0FNTUEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGUoZSx0KXtjb25zdCBvPWUuY291bnQ7dHx8KHQ9bmV3IGUuVHlwZWRBcnJheUNvbnN0cnVjdG9yKG8pKTtmb3IobGV0IHI9MDtyPG87cisrKXRbcl09ZS5nZXQocik7cmV0dXJuIHR9Y29uc3QgdD1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsbWFrZURlbnNlOmV9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKTtleHBvcnR7ZSBhcyBtLHQgYXMgc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzQXJyYXkgYXMgZSxpc0Zsb2F0IGFzIHQsbWF4aW11bVZhbHVlIGFzIHIsaXNTaWduZWQgYXMgZn1mcm9tXCIuLi9jb3JlL3R5cGVkQXJyYXlVdGlsLmpzXCI7ZnVuY3Rpb24gbyhlLHQpe24oZS50eXBlZEJ1ZmZlcix0LnR5cGVkQnVmZmVyLGUudHlwZWRCdWZmZXJTdHJpZGUsdC50eXBlZEJ1ZmZlclN0cmlkZSl9ZnVuY3Rpb24gbihvLG4sbD0yLHU9bCl7Y29uc3QgaT1uLmxlbmd0aC8yO2xldCBhPTAsZD0wO2lmKGUobil8fHQobikpe2ZvcihsZXQgZT0wO2U8aTsrK2Upb1thXT1uW2RdLG9bYSsxXT1uW2QrMV0sYSs9bCxkKz11O3JldHVybn1jb25zdCBjPXIobik7aWYoZihuKSlmb3IobGV0IGU9MDtlPGk7KytlKW9bYV09TWF0aC5tYXgobltkXS9jLC0xKSxvW2ErMV09TWF0aC5tYXgobltkKzFdL2MsLTEpLGErPWwsZCs9dTtlbHNlIGZvcihsZXQgZT0wO2U8aTsrK2Upb1thXT1uW2RdL2Msb1thKzFdPW5bZCsxXS9jLGErPWwsZCs9dX1mdW5jdGlvbiBsKGUsdCxyLGYpe2NvbnN0IG89ZS50eXBlZEJ1ZmZlcixuPWUudHlwZWRCdWZmZXJTdHJpZGUsbD1mPy5jb3VudD8/ZS5jb3VudDtsZXQgdT0oZj8uZHN0SW5kZXg/PzApKm47Zm9yKGxldCBpPTA7aTxsOysraSlvW3VdPXQsb1t1KzFdPXIsdSs9bn1jb25zdCB1PU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxmaWxsOmwsbm9ybWFsaXplSW50ZWdlckJ1ZmZlcjpuLG5vcm1hbGl6ZUludGVnZXJCdWZmZXJWaWV3Om99LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKTtleHBvcnR7byBhcyBhLGwgYXMgZixuLHUgYXMgdn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gZShlLGYpe3QoZS50eXBlZEJ1ZmZlcixmLnR5cGVkQnVmZmVyLGUudHlwZWRCdWZmZXJTdHJpZGUsZi50eXBlZEJ1ZmZlclN0cmlkZSl9ZnVuY3Rpb24gdChlLHQsZj0zLG89Zil7Y29uc3Qgcj10Lmxlbmd0aC9vO2xldCBuPTAsdT0wO2ZvcihsZXQgYz0wO2M8cjsrK2MpZVtuXT10W3VdLGVbbisxXT10W3UrMV0sZVtuKzJdPXRbdSsyXSxuKz1mLHUrPW99ZnVuY3Rpb24gZihlLHQsZixvLHIpe2NvbnN0IG49ZS50eXBlZEJ1ZmZlcix1PWUudHlwZWRCdWZmZXJTdHJpZGUsYz1yPy5jb3VudD8/ZS5jb3VudDtsZXQgZD0ocj8uZHN0SW5kZXg/PzApKnU7Zm9yKGxldCBsPTA7bDxjOysrbCluW2RdPXQsbltkKzFdPWYsbltkKzJdPW8sZCs9dX1jb25zdCBvPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxjb3B5OnQsY29weVZpZXc6ZSxmaWxsOmZ9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKTtleHBvcnR7ZSBhcyBhLHQgYXMgYyxmLG8gYXMgdn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e21hdGhMb2dnZXIgYXMgZX1mcm9tXCIuLi9nZW9tZXRyeS9zdXBwb3J0L2J1ZmZlci9tYXRoL2NvbW1vbi5qc1wiO2Z1bmN0aW9uIHQodCxyLGYpe2lmKHQuY291bnQhPT1yLmNvdW50KXJldHVybiB2b2lkIGUuZXJyb3IoXCJzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGJ1ZmZlcnMgbmVlZCB0byBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBlbGVtZW50c1wiKTtjb25zdCBuPXQuY291bnQsbz1mWzBdLHU9ZlsxXSxzPWZbMl0sZD1mWzNdLGE9Zls0XSxpPWZbNV0sYz1mWzZdLHA9Zls3XSxsPWZbOF0sbT1mWzldLHk9ZlsxMF0sQj1mWzExXSxoPWZbMTJdLFM9ZlsxM10sYj1mWzE0XSxnPWZbMTVdLE09dC50eXBlZEJ1ZmZlcix2PXQudHlwZWRCdWZmZXJTdHJpZGUsXz1yLnR5cGVkQnVmZmVyLGo9ci50eXBlZEJ1ZmZlclN0cmlkZTtmb3IobGV0IGU9MDtlPG47ZSsrKXtjb25zdCB0PWUqdixyPWUqaixmPV9bcl0sbj1fW3IrMV0sdz1fW3IrMl0sej1fW3IrM107TVt0XT1vKmYrYSpuK2wqdytoKnosTVt0KzFdPXUqZitpKm4rbSp3K1MqeixNW3QrMl09cypmK2Mqbit5KncrYip6LE1bdCszXT1kKmYrcCpuK0IqdytnKnp9fWZ1bmN0aW9uIHIoZSx0LHIpe2YoZS50eXBlZEJ1ZmZlcix0LnR5cGVkQnVmZmVyLHIsZS50eXBlZEJ1ZmZlclN0cmlkZSx0LnR5cGVkQnVmZmVyU3RyaWRlKX1mdW5jdGlvbiBmKHQscixmLG49NCxvPW4pe2lmKHQubGVuZ3RoL24hPXIubGVuZ3RoL28pcmV0dXJuIHZvaWQgZS5lcnJvcihcInNvdXJjZSBhbmQgZGVzdGluYXRpb24gYnVmZmVycyBuZWVkIHRvIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGVsZW1lbnRzXCIpO2NvbnN0IHU9dC5sZW5ndGgvbixzPWZbMF0sZD1mWzFdLGE9ZlsyXSxpPWZbM10sYz1mWzRdLHA9Zls1XSxsPWZbNl0sbT1mWzddLHk9Zls4XTtsZXQgQj0wLGg9MDtmb3IobGV0IGU9MDtlPHU7ZSsrKXtjb25zdCBlPXJbQl0sZj1yW0IrMV0sdT1yW0IrMl0sUz1yW0IrM107dFtoXT1zKmUraSpmK2wqdSx0W2grMV09ZCplK2MqZittKnUsdFtoKzJdPWEqZStwKmYreSp1LHRbaCszXT1TLEIrPW8saCs9bn19ZnVuY3Rpb24gbihlLHQpe2NvbnN0IHI9TWF0aC5taW4oZS5jb3VudCx0LmNvdW50KSxmPWUudHlwZWRCdWZmZXIsbj1lLnR5cGVkQnVmZmVyU3RyaWRlLG89dC50eXBlZEJ1ZmZlcix1PXQudHlwZWRCdWZmZXJTdHJpZGU7Zm9yKGxldCBzPTA7czxyO3MrKyl7Y29uc3QgZT1zKm4sdD1zKnUscj1vW3RdLGQ9b1t0KzFdLGE9b1t0KzJdLGk9cipyK2QqZCthKmE7aWYoaT4wKXtjb25zdCB0PTEvTWF0aC5zcXJ0KGkpO2ZbZV09dCpyLGZbZSsxXT10KmQsZltlKzJdPXQqYX19fWZ1bmN0aW9uIG8oZSx0LHIpe3UoZS50eXBlZEJ1ZmZlcix0LHIsZS50eXBlZEJ1ZmZlclN0cmlkZSl9ZnVuY3Rpb24gdShlLHQscixmPTQpe2NvbnN0IG49TWF0aC5taW4oZS5sZW5ndGgvZix0LmNvdW50KSxvPXQudHlwZWRCdWZmZXIsdT10LnR5cGVkQnVmZmVyU3RyaWRlO2xldCBzPTAsZD0wO2ZvcihsZXQgYT0wO2E8bjthKyspZVtkXT1yKm9bc10sZVtkKzFdPXIqb1tzKzFdLGVbZCsyXT1yKm9bcysyXSxlW2QrM109cipvW3MrM10scys9dSxkKz1mfWNvbnN0IHM9T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLG5vcm1hbGl6ZTpuLHNjYWxlOnUsc2NhbGVWaWV3Om8sdHJhbnNmb3JtTWF0MzpmLHRyYW5zZm9ybU1hdDNWaWV3OnIsdHJhbnNmb3JtTWF0NDp0fSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e3IgYXMgYSxvIGFzIGIsdCBhcyBjLG4sdSBhcyBzLGYgYXMgdCxzIGFzIHZ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGUoZSxmKXt0KGUudHlwZWRCdWZmZXIsZixlLnR5cGVkQnVmZmVyU3RyaWRlKX1mdW5jdGlvbiB0KGUsdCxmPTQpe2NvbnN0IG89dC50eXBlZEJ1ZmZlcixyPXQudHlwZWRCdWZmZXJTdHJpZGUsbj10LmNvdW50O2xldCB1PTAsYz0wO2ZvcihsZXQgZD0wO2Q8bjsrK2QpZVt1XT1vW2NdLGVbdSsxXT1vW2MrMV0sZVt1KzJdPW9bYysyXSxlW3UrM109b1tjKzNdLHUrPWYsYys9cn1mdW5jdGlvbiBmKGUsdCxmLG8scixuKXtjb25zdCB1PWUudHlwZWRCdWZmZXIsYz1lLnR5cGVkQnVmZmVyU3RyaWRlLGQ9bj8uY291bnQ/P2UuY291bnQ7bGV0IGw9KG4/LmRzdEluZGV4Pz8wKSpjO2ZvcihsZXQgcD0wO3A8ZDsrK3ApdVtsXT10LHVbbCsxXT1mLHVbbCsyXT1vLHVbbCszXT1yLGwrPWN9Y29uc3Qgbz1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsY29weTp0LGNvcHlWaWV3OmUsZmlsbDpmfSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSk7ZXhwb3J0e2UgYXMgYSx0IGFzIGMsZixvIGFzIHZ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCByIGZyb21cIi4uLy4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnR7cmVzdWx0IGFzIGV9ZnJvbVwiLi4vLi4vLi4vY29yZS9hc3luY1V0aWxzLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBhLHRocm93SWZBYm9ydEVycm9yIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7aXNEYXRhUHJvdG9jb2wgYXMgbyxkYXRhVG9BcnJheUJ1ZmZlciBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtjbGFzcyBue2NvbnN0cnVjdG9yKHIpe3RoaXMuX3N0cmVhbURhdGFSZXF1ZXN0ZXI9cn1hc3luYyBsb2FkSlNPTihyLGUpe3JldHVybiB0aGlzLl9sb2FkKFwianNvblwiLHIsZSl9YXN5bmMgbG9hZEJpbmFyeShyLGUpe3JldHVybiBvKHIpPyhhKGUpLGkocikpOnRoaXMuX2xvYWQoXCJiaW5hcnlcIixyLGUpfWFzeW5jIGxvYWRJbWFnZShyLGUpe3JldHVybiB0aGlzLl9sb2FkKFwiaW1hZ2VcIixyLGUpfWFzeW5jIF9sb2FkKGEsbyxpKXtpZihudWxsPT10aGlzLl9zdHJlYW1EYXRhUmVxdWVzdGVyKXJldHVybihhd2FpdCByKG8se3Jlc3BvbnNlVHlwZTptW2FdfSkpLmRhdGE7Y29uc3Qgbj1hd2FpdCBlKHRoaXMuX3N0cmVhbURhdGFSZXF1ZXN0ZXIucmVxdWVzdChvLGEsaSkpO2lmKCEwPT09bi5vaylyZXR1cm4gbi52YWx1ZTt0aHJvdyBzKG4uZXJyb3IpLG5ldyB0KFwiXCIsYFJlcXVlc3QgZm9yIHJlc291cmNlIGZhaWxlZDogJHtuLmVycm9yfWApfX1jb25zdCBtPXtpbWFnZTpcImltYWdlXCIsYmluYXJ5OlwiYXJyYXktYnVmZmVyXCIsanNvbjpcImpzb25cIixcImltYWdlK3R5cGVcIjp2b2lkIDB9O2V4cG9ydHtuIGFzIERlZmF1bHRMb2FkaW5nQ29udGV4dH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1RleHR1cmVXcmFwTW9kZSBhcyBlfWZyb21cIi4uLy4uL3dlYmdsL2VudW1zLmpzXCI7ZnVuY3Rpb24gcihlPXt9KXtyZXR1cm57Y29sb3I6WzEsMSwxXSxvcGFjaXR5OjEsYWxwaGFNb2RlOlwiT1BBUVVFXCIsYWxwaGFDdXRvZmY6LjUsZG91YmxlU2lkZWQ6ITEsY2FzdFNoYWRvd3M6ITAscmVjZWl2ZVNoYWRvd3M6ITAscmVjZWl2ZUFtYmllbnRPY2NsdXN0aW9uOiEwLHRleHR1cmVDb2xvcjpudWxsLHRleHR1cmVOb3JtYWw6bnVsbCx0ZXh0dXJlT2NjbHVzaW9uOm51bGwsdGV4dHVyZUVtaXNzaXZlOm51bGwsdGV4dHVyZU1ldGFsbGljUm91Z2huZXNzOm51bGwsY29sb3JUZXh0dXJlVHJhbnNmb3JtOm51bGwsbm9ybWFsVGV4dHVyZVRyYW5zZm9ybTpudWxsLG9jY2x1c2lvblRleHR1cmVUcmFuc2Zvcm06bnVsbCxlbWlzc2l2ZVRleHR1cmVUcmFuc2Zvcm06bnVsbCxtZXRhbGxpY1JvdWdobmVzc1RleHR1cmVUcmFuc2Zvcm06bnVsbCxlbWlzc2l2ZUZhY3RvcjpbMCwwLDBdLG1ldGFsbGljRmFjdG9yOjEscm91Z2huZXNzRmFjdG9yOjEsY29sb3JNaXhNb2RlOlwibXVsdGlwbHlcIiwuLi5lfX1mdW5jdGlvbiBsKHIsbD17fSl7cmV0dXJue2RhdGE6cixwYXJhbWV0ZXJzOnt3cmFwOntzOmUuUkVQRUFULHQ6ZS5SRVBFQVQsLi4ubC53cmFwfSxub1VucGFja0ZsaXA6ITAsbWlwbWFwOiExLC4uLmx9fX1leHBvcnR7ciBhcyBtYWtlTWF0ZXJpYWxQYXJhbWV0ZXJzLGwgYXMgbWFrZVRleHR1cmVTb3VyY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5fZGF0YT10LHRoaXMuX29mZnNldDQ9MCx0aGlzLl9kYXRhVWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLl9kYXRhLDAsTWF0aC5mbG9vcih0aGlzLl9kYXRhLmJ5dGVMZW5ndGgvNCkpfXJlYWRVaW50MzIoKXtjb25zdCB0PXRoaXMuX29mZnNldDQ7cmV0dXJuIHRoaXMuX29mZnNldDQrPTEsdGhpcy5fZGF0YVVpbnQzMlt0XX1yZWFkVWludDhBcnJheSh0KXtjb25zdCBzPTQqdGhpcy5fb2Zmc2V0NDtyZXR1cm4gdGhpcy5fb2Zmc2V0NCs9dC80LG5ldyBVaW50OEFycmF5KHRoaXMuX2RhdGEscyx0KX1yZW1haW5pbmdCeXRlcygpe3JldHVybiB0aGlzLl9kYXRhLmJ5dGVMZW5ndGgtNCp0aGlzLl9vZmZzZXQ0fX1leHBvcnR7dCBhcyBCaW5hcnlTdHJlYW1SZWFkZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtnZXRPckNyZWF0ZU1hcFZhbHVlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9NYXBVdGlscy5qc1wiO2ltcG9ydHthbGxTZXR0bGVkVmFsdWVzIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7aXNEYXRhUHJvdG9jb2wgYXMgbixkYXRhQ29tcG9uZW50cyBhcyBzLGRhdGFUb0FycmF5QnVmZmVyIGFzIGEsbWFrZUFic29sdXRlIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydHtWZXJzaW9uIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9WZXJzaW9uLmpzXCI7aW1wb3J0e0EgYXMgZixtIGFzIGMsdyBhcyBkLGsgYXMgbCxiIGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL21hdDQuanNcIjtpbXBvcnR7YSBhcyBoLGIgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvbWF0NGY2NC5qc1wiO2ltcG9ydHtnIGFzIHd9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3F1YXQuanNcIjtpbXBvcnR7YSBhcyBifWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9xdWF0ZjY0LmpzXCI7aW1wb3J0e0J1ZmZlclZpZXdVaW50MzIgYXMgeSxCdWZmZXJWaWV3VWludDE2IGFzIFQsQnVmZmVyVmlld1VpbnQ4IGFzIGcsQnVmZmVyVmlld1ZlYzNmIGFzIF8sQnVmZmVyVmlld1ZlYzRmIGFzIHgsQnVmZmVyVmlld1ZlYzJmIGFzIE8sQnVmZmVyVmlld1ZlYzR1OCBhcyBOLEJ1ZmZlclZpZXdWZWM0dTE2IGFzIFMsQnVmZmVyVmlld1ZlYzN1OCBhcyBDLEJ1ZmZlclZpZXdWZWMzdTE2IGFzIEEsQnVmZmVyVmlld1ZlYzJ1MzIgYXMgRSxCdWZmZXJWaWV3VmVjMnUxNiBhcyBMLEJ1ZmZlclZpZXdWZWMyaTE2IGFzIEksQnVmZmVyVmlld1ZlYzJ1OCBhcyBSLEJ1ZmZlclZpZXdWZWMyaTggYXMgdn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2J1ZmZlci9CdWZmZXJWaWV3LmpzXCI7aW1wb3J0e20gYXMgVX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3Mvc2NhbGFyLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtCaW5hcnlTdHJlYW1SZWFkZXIgYXMgRH1mcm9tXCIuL0JpbmFyeVN0cmVhbVJlYWRlci5qc1wiO2ltcG9ydHtBdHRyaWJ1dGVUeXBlIGFzIEJ9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHttYXRlcmlhbCBhcyBNLHRleHR1cmVTYW1wbGVyIGFzIGp9ZnJvbVwiLi9maWxsRGVmYXVsdHMuanNcIjtpbXBvcnR7c3BsaXRVUkkgYXMgR31mcm9tXCIuL3BhdGhVdGlscy5qc1wiO2ltcG9ydHtqc29uRnJvbUJpbmFyeURhdGEgYXMgRixFbmNvZGVkTWVzaFRleHR1cmUgYXMgSCxpbWFnZUZyb21CaW5hcnlEYXRhIGFzIFAsaXNFbmNvZGVkTWVzaFRleHR1cmUgYXMgVn1mcm9tXCIuL3Jlc291cmNlVXRpbHMuanNcIjtpbXBvcnR7RGF0YVR5cGUgYXMga31mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2NvbnN0IEs9e01BR0lDOjExNzk5Mzc4OTUsQ0hVTktfVFlQRV9KU09OOjEzMTM4MjE1MTQsQ0hVTktfVFlQRV9CSU46NTEzMDU2MixNSU5fSEVBREVSX0xFTkdUSDoyMH07Y2xhc3MgWXtjb25zdHJ1Y3Rvcih0LHIsbyxuKXtpZih0aGlzLl9jb250ZXh0PXQsdGhpcy51cmk9cix0aGlzLmpzb249byx0aGlzLl9nbGJCdWZmZXI9bix0aGlzLl9idWZmZXJMb2FkZXJzPW5ldyBNYXAsdGhpcy5fdGV4dHVyZUxvYWRlcnM9bmV3IE1hcCx0aGlzLl90ZXh0dXJlQ2FjaGU9bmV3IE1hcCx0aGlzLl9tYXRlcmlhbENhY2hlPW5ldyBNYXAsdGhpcy5fbm9kZVBhcmVudE1hcD1uZXcgTWFwLHRoaXMuX25vZGVUcmFuc2Zvcm1DYWNoZT1uZXcgTWFwLHRoaXMuX3N1cHBvcnRlZEV4dGVuc2lvbnM9W1wiS0hSX3RleHR1cmVfYmFzaXN1XCJdLHRoaXMuX2Jhc2VVcmk9Ryh0aGlzLnVyaSkuZGlyUGFydCx0aGlzLl9jaGVja1ZlcnNpb25TdXBwb3J0ZWQoKSx0aGlzLl9jaGVja1JlcXVpcmVkRXh0ZW5zaW9uc1N1cHBvcnRlZCgpLG51bGw9PW8uc2NlbmVzKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItdW5zdXBwb3J0ZWQtZmVhdHVyZVwiLFwiU2NlbmVzIG11c3QgYmUgZGVmaW5lZC5cIik7aWYobnVsbD09by5tZXNoZXMpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJNZXNoZXMgbXVzdCBiZSBkZWZpbmVkXCIpO2lmKG51bGw9PW8ubm9kZXMpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJOb2RlcyBtdXN0IGJlIGRlZmluZWQuXCIpO3RoaXMuX2NvbXB1dGVOb2RlUGFyZW50cygpfXN0YXRpYyBhc3luYyBsb2FkKHQscixvKXtpZihuKHIpKXtjb25zdCBlPXMocik7aWYoZSYmXCJtb2RlbC9nbHRmLWJpbmFyeVwiIT09ZS5tZWRpYVR5cGUpdHJ5e2NvbnN0IG89SlNPTi5wYXJzZShlLmlzQmFzZTY0P2F0b2IoZS5kYXRhKTplLmRhdGEpO3JldHVybiBuZXcgWSh0LHIsbyl9Y2F0Y2h7fWNvbnN0IG89YShyKTtpZihZLl9pc0dMQkRhdGEobykpcmV0dXJuIHRoaXMuX2Zyb21HTEJEYXRhKHQscixvKX1pZihRLnRlc3Qocil8fFwiZ2x0ZlwiPT09bz8uZXhwZWN0ZWRUeXBlKXtjb25zdCBlPWF3YWl0IHQubG9hZEpTT04ocixvKTtyZXR1cm4gbmV3IFkodCxyLGUpfWNvbnN0IGk9YXdhaXQgdC5sb2FkQmluYXJ5KHIsbyk7aWYoWS5faXNHTEJEYXRhKGkpKXJldHVybiB0aGlzLl9mcm9tR0xCRGF0YSh0LHIsaSk7aWYoWi50ZXN0KHIpfHxcImdsYlwiPT09bz8uZXhwZWN0ZWRUeXBlKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItaW52YWxpZC1nbGJcIixcIlRoaXMgaXMgbm90IGEgdmFsaWQgZ2xiIGZpbGUuXCIpO2NvbnN0IHU9YXdhaXQgdC5sb2FkSlNPTihyLG8pO3JldHVybiBuZXcgWSh0LHIsdSl9c3RhdGljIF9pc0dMQkRhdGEoZSl7aWYobnVsbD09ZSlyZXR1cm4hMTtjb25zdCB0PW5ldyBEKGUpO3JldHVybiB0LnJlbWFpbmluZ0J5dGVzKCk+PTQmJnQucmVhZFVpbnQzMigpPT09Sy5NQUdJQ31zdGF0aWMgYXN5bmMgX2Zyb21HTEJEYXRhKGUsdCxyKXtjb25zdCBvPWF3YWl0IFkuX3BhcnNlR0xCRGF0YShyKTtyZXR1cm4gbmV3IFkoZSx0LG8uanNvbixvLmJpbmFyeURhdGEpfXN0YXRpYyBhc3luYyBfcGFyc2VHTEJEYXRhKHIpe2NvbnN0IG89bmV3IEQocik7aWYoby5yZW1haW5pbmdCeXRlcygpPDEyKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItZXJyb3JcIixcImdsYiBiaW5hcnkgZGF0YSBpcyBpbnN1ZmZpY2llbnRseSBsYXJnZS5cIik7Y29uc3Qgbj1vLnJlYWRVaW50MzIoKSxzPW8ucmVhZFVpbnQzMigpLGE9by5yZWFkVWludDMyKCk7aWYobiE9PUsuTUFHSUMpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci1lcnJvclwiLFwiTWFnaWMgZmlyc3QgNCBieXRlcyBkbyBub3QgZml0IHRvIGV4cGVjdGVkIGdsYiB2YWx1ZS5cIik7aWYoci5ieXRlTGVuZ3RoPGEpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci1lcnJvclwiLFwiZ2xiIGJpbmFyeSBkYXRhIGlzIHNtYWxsZXIgdGhhbiBoZWFkZXIgc3BlY2lmaWVzLlwiKTtpZigyIT09cyl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIkFuIHVuc3VwcG9ydGVkIGdsYiBjb250YWluZXIgdmVyc2lvbiB3YXMgZGV0ZWN0ZWQuIE9ubHkgdmVyc2lvbiAyIGlzIHN1cHBvcnRlZC5cIik7bGV0IGksdSxmPTA7Zm9yKDtvLnJlbWFpbmluZ0J5dGVzKCk+PTg7KXtjb25zdCByPW8ucmVhZFVpbnQzMigpLG49by5yZWFkVWludDMyKCk7aWYoMD09PWYpe2lmKG4hPT1LLkNIVU5LX1RZUEVfSlNPTil0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLWVycm9yXCIsXCJGaXJzdCBnbGIgY2h1bmsgbXVzdCBiZSBKU09OLlwiKTtpZihyPDApdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci1lcnJvclwiLFwiTm8gSlNPTiBkYXRhIGZvdW5kLlwiKTtpPWF3YWl0IEYoby5yZWFkVWludDhBcnJheShyKSl9ZWxzZSBpZigxPT09Zil7aWYobiE9PUsuQ0hVTktfVFlQRV9CSU4pdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJTZWNvbmQgZ2xiIGNodW5rIGV4cGVjdGVkIHRvIGJlIEJJTi5cIik7dT1vLnJlYWRVaW50OEFycmF5KHIpfWVsc2UgdC5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjNkLmdsVEZcIikud2FybihcIltVbnN1cHBvcnRlZCBGZWF0dXJlXSBNb3JlIHRoYW4gMiBnbGIgY2h1bmtzIGRldGVjdGVkLiBTa2lwcGluZy5cIik7Zis9MX1pZighaSl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLWVycm9yXCIsXCJObyBnbGIgSlNPTiBjaHVuayBkZXRlY3RlZC5cIik7cmV0dXJue2pzb246aSxiaW5hcnlEYXRhOnV9fWFzeW5jIGdldEJ1ZmZlcih0LHIpe2NvbnN0IG89dGhpcy5qc29uLmJ1ZmZlcnNbdF07aWYobnVsbD09by51cmkpe2lmKG51bGw9PXRoaXMuX2dsYkJ1ZmZlcil0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLWVycm9yXCIsXCJnbGIgYnVmZmVyIG5vdCBwcmVzZW50XCIpO3JldHVybiB0aGlzLl9nbGJCdWZmZXJ9Y29uc3Qgbj1hd2FpdCB0aGlzLl9nZXRCdWZmZXJMb2FkZXIodCxyKTtpZihuLmJ5dGVMZW5ndGghPT1vLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci1lcnJvclwiLFwiQnVmZmVyIGJ5dGUgbGVuZ3RocyBzaG91bGQgbWF0Y2guXCIpO3JldHVybiBufWFzeW5jIF9nZXRCdWZmZXJMb2FkZXIoZSx0KXtjb25zdCByPXRoaXMuX2J1ZmZlckxvYWRlcnMuZ2V0KGUpO2lmKHIpcmV0dXJuIHI7Y29uc3Qgbz10aGlzLmpzb24uYnVmZmVyc1tlXS51cmksbj10aGlzLl9jb250ZXh0LmxvYWRCaW5hcnkodGhpcy5fcmVzb2x2ZVVyaShvKSx0KS50aGVuKChlPT5uZXcgVWludDhBcnJheShlKSkpO3JldHVybiB0aGlzLl9idWZmZXJMb2FkZXJzLnNldChlLG4pLG59YXN5bmMgZ2V0QWNjZXNzb3IodCxyKXtpZighdGhpcy5qc29uLmFjY2Vzc29ycyl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIkFjY2Vzc29ycyBtaXNzaW5nLlwiKTtjb25zdCBvPXRoaXMuanNvbi5hY2Nlc3NvcnNbdF07aWYobnVsbD09bz8uYnVmZmVyVmlldyl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIlNvbWUgYWNjZXNzb3IgZG9lcyBub3Qgc3BlY2lmeSBhIGJ1ZmZlclZpZXcuXCIpO2lmKG8udHlwZSBpbltCLk1BVDIsQi5NQVQzLEIuTUFUNF0pdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsYEF0dHJpYnV0ZVR5cGUgJHtvLnR5cGV9IGlzIG5vdCBzdXBwb3J0ZWRgKTtjb25zdCBuPXRoaXMuanNvbi5idWZmZXJWaWV3c1tvLmJ1ZmZlclZpZXddLHM9YXdhaXQgdGhpcy5nZXRCdWZmZXIobi5idWZmZXIsciksYT1YW28udHlwZV0saT0kW28uY29tcG9uZW50VHlwZV0sdT1hKmksZj1uLmJ5dGVTdHJpZGV8fHU7cmV0dXJue3JhdzpzLmJ1ZmZlcixieXRlU3RyaWRlOmYsYnl0ZU9mZnNldDpzLmJ5dGVPZmZzZXQrKG4uYnl0ZU9mZnNldHx8MCkrKG8uYnl0ZU9mZnNldHx8MCksZW50cnlDb3VudDpvLmNvdW50LGlzRGVuc2VseVBhY2tlZDpmPT09dSxjb21wb25lbnRDb3VudDphLGNvbXBvbmVudEJ5dGVTaXplOmksY29tcG9uZW50VHlwZTpvLmNvbXBvbmVudFR5cGUsbWluOm8ubWluLG1heDpvLm1heCxub3JtYWxpemVkOiEhby5ub3JtYWxpemVkfX1hc3luYyBnZXRJbmRleERhdGEoZSx0KXtpZihudWxsPT1lLmluZGljZXMpcmV0dXJuO2NvbnN0IHI9YXdhaXQgdGhpcy5nZXRBY2Nlc3NvcihlLmluZGljZXMsdCk7aWYoci5pc0RlbnNlbHlQYWNrZWQpc3dpdGNoKHIuY29tcG9uZW50VHlwZSl7Y2FzZSBrLlVOU0lHTkVEX0JZVEU6cmV0dXJuIG5ldyBVaW50OEFycmF5KHIucmF3LHIuYnl0ZU9mZnNldCxyLmVudHJ5Q291bnQpO2Nhc2Ugay5VTlNJR05FRF9TSE9SVDpyZXR1cm4gbmV3IFVpbnQxNkFycmF5KHIucmF3LHIuYnl0ZU9mZnNldCxyLmVudHJ5Q291bnQpO2Nhc2Ugay5VTlNJR05FRF9JTlQ6cmV0dXJuIG5ldyBVaW50MzJBcnJheShyLnJhdyxyLmJ5dGVPZmZzZXQsci5lbnRyeUNvdW50KX1lbHNlIHN3aXRjaChyLmNvbXBvbmVudFR5cGUpe2Nhc2Ugay5VTlNJR05FRF9CWVRFOnJldHVybiBVKHRoaXMuX3dyYXBBY2Nlc3NvcihnLHIpKTtjYXNlIGsuVU5TSUdORURfU0hPUlQ6cmV0dXJuIFUodGhpcy5fd3JhcEFjY2Vzc29yKFQscikpO2Nhc2Ugay5VTlNJR05FRF9JTlQ6cmV0dXJuIFUodGhpcy5fd3JhcEFjY2Vzc29yKHkscikpfX1hc3luYyBnZXRQb3NpdGlvbkRhdGEodCxyKXtpZihudWxsPT10LmF0dHJpYnV0ZXMuUE9TSVRJT04pdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJObyBQT1NJVElPTiB2ZXJ0ZXggZGF0YSBmb3VuZC5cIik7Y29uc3Qgbz1hd2FpdCB0aGlzLmdldEFjY2Vzc29yKHQuYXR0cmlidXRlcy5QT1NJVElPTixyKTtpZihvLmNvbXBvbmVudFR5cGUhPT1rLkZMT0FUKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItdW5zdXBwb3J0ZWQtZmVhdHVyZVwiLFwiRXhwZWN0ZWQgdHlwZSBGTE9BVCBmb3IgUE9TSVRJT04gdmVydGV4IGF0dHJpYnV0ZSwgYnV0IGZvdW5kIFwiK2tbby5jb21wb25lbnRUeXBlXSk7aWYoMyE9PW8uY29tcG9uZW50Q291bnQpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJQT1NJVElPTiB2ZXJ0ZXggYXR0cmlidXRlIG11c3QgaGF2ZSAzIGNvbXBvbmVudHMsIGJ1dCBmb3VuZCBcIitvLmNvbXBvbmVudENvdW50LnRvRml4ZWQoKSk7cmV0dXJuIHRoaXMuX3dyYXBBY2Nlc3NvcihfLG8pfWFzeW5jIGdldE5vcm1hbERhdGEodCxyKXtpZihudWxsPT10LmF0dHJpYnV0ZXMuTk9STUFMKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItZXJyb3JcIixcIk5vIE5PUk1BTCB2ZXJ0ZXggZGF0YSBmb3VuZC5cIik7Y29uc3Qgbz1hd2FpdCB0aGlzLmdldEFjY2Vzc29yKHQuYXR0cmlidXRlcy5OT1JNQUwscik7aWYoby5jb21wb25lbnRUeXBlIT09ay5GTE9BVCl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIkV4cGVjdGVkIHR5cGUgRkxPQVQgZm9yIE5PUk1BTCB2ZXJ0ZXggYXR0cmlidXRlLCBidXQgZm91bmQgXCIra1tvLmNvbXBvbmVudFR5cGVdKTtpZigzIT09by5jb21wb25lbnRDb3VudCl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIk5PUk1BTCB2ZXJ0ZXggYXR0cmlidXRlIG11c3QgaGF2ZSAzIGNvbXBvbmVudHMsIGJ1dCBmb3VuZCBcIitvLmNvbXBvbmVudENvdW50LnRvRml4ZWQoKSk7cmV0dXJuIHRoaXMuX3dyYXBBY2Nlc3NvcihfLG8pfWFzeW5jIGdldFRhbmdlbnREYXRhKHQscil7aWYobnVsbD09dC5hdHRyaWJ1dGVzLlRBTkdFTlQpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci1lcnJvclwiLFwiTm8gVEFOR0VOVCB2ZXJ0ZXggZGF0YSBmb3VuZC5cIik7Y29uc3Qgbz1hd2FpdCB0aGlzLmdldEFjY2Vzc29yKHQuYXR0cmlidXRlcy5UQU5HRU5ULHIpO2lmKG8uY29tcG9uZW50VHlwZSE9PWsuRkxPQVQpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJFeHBlY3RlZCB0eXBlIEZMT0FUIGZvciBUQU5HRU5UIHZlcnRleCBhdHRyaWJ1dGUsIGJ1dCBmb3VuZCBcIitrW28uY29tcG9uZW50VHlwZV0pO2lmKDQhPT1vLmNvbXBvbmVudENvdW50KXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItdW5zdXBwb3J0ZWQtZmVhdHVyZVwiLFwiVEFOR0VOVCB2ZXJ0ZXggYXR0cmlidXRlIG11c3QgaGF2ZSA0IGNvbXBvbmVudHMsIGJ1dCBmb3VuZCBcIitvLmNvbXBvbmVudENvdW50LnRvRml4ZWQoKSk7cmV0dXJuIG5ldyB4KG8ucmF3LG8uYnl0ZU9mZnNldCxvLmJ5dGVTdHJpZGUsby5ieXRlT2Zmc2V0K28uYnl0ZVN0cmlkZSpvLmVudHJ5Q291bnQpfWFzeW5jIGdldFRleHR1cmVDb29yZGluYXRlcyh0LHIpe2lmKG51bGw9PXQuYXR0cmlidXRlcy5URVhDT09SRF8wKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItZXJyb3JcIixcIk5vIFRFWENPT1JEXzAgdmVydGV4IGRhdGEgZm91bmQuXCIpO2NvbnN0IG89YXdhaXQgdGhpcy5nZXRBY2Nlc3Nvcih0LmF0dHJpYnV0ZXMuVEVYQ09PUkRfMCxyKTtpZigyIT09by5jb21wb25lbnRDb3VudCl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIlRFWENPT1JEXzAgdmVydGV4IGF0dHJpYnV0ZSBtdXN0IGhhdmUgMiBjb21wb25lbnRzLCBidXQgZm91bmQgXCIrby5jb21wb25lbnRDb3VudC50b0ZpeGVkKCkpO2lmKG8uY29tcG9uZW50VHlwZT09PWsuRkxPQVQpcmV0dXJuIHRoaXMuX3dyYXBBY2Nlc3NvcihPLG8pO2lmKCFvLm5vcm1hbGl6ZWQpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJJbnRlZ2VyIGNvbXBvbmVudCB0eXBlcyBhcmUgb25seSBzdXBwb3J0ZWQgZm9yIGEgbm9ybWFsaXplZCBhY2Nlc3NvciBmb3IgVEVYQ09PUkRfMC5cIik7cmV0dXJuIFcobyl9YXN5bmMgZ2V0VmVydGV4Q29sb3JzKHQscil7aWYobnVsbD09dC5hdHRyaWJ1dGVzLkNPTE9SXzApdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci1lcnJvclwiLFwiTm8gQ09MT1JfMCB2ZXJ0ZXggZGF0YSBmb3VuZC5cIik7Y29uc3Qgbz1hd2FpdCB0aGlzLmdldEFjY2Vzc29yKHQuYXR0cmlidXRlcy5DT0xPUl8wLHIpO2lmKDQhPT1vLmNvbXBvbmVudENvdW50JiYzIT09by5jb21wb25lbnRDb3VudCl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIkNPTE9SXzAgYXR0cmlidXRlIG11c3QgaGF2ZSAzIG9yIDQgY29tcG9uZW50cywgYnV0IGZvdW5kIFwiK28uY29tcG9uZW50Q291bnQudG9GaXhlZCgpKTtpZig0PT09by5jb21wb25lbnRDb3VudCl7aWYoby5jb21wb25lbnRUeXBlPT09ay5GTE9BVClyZXR1cm4gdGhpcy5fd3JhcEFjY2Vzc29yKHgsbyk7aWYoby5jb21wb25lbnRUeXBlPT09ay5VTlNJR05FRF9CWVRFKXJldHVybiB0aGlzLl93cmFwQWNjZXNzb3IoTixvKTtpZihvLmNvbXBvbmVudFR5cGU9PT1rLlVOU0lHTkVEX1NIT1JUKXJldHVybiB0aGlzLl93cmFwQWNjZXNzb3IoUyxvKX1lbHNlIGlmKDM9PT1vLmNvbXBvbmVudENvdW50KXtpZihvLmNvbXBvbmVudFR5cGU9PT1rLkZMT0FUKXJldHVybiB0aGlzLl93cmFwQWNjZXNzb3IoXyxvKTtpZihvLmNvbXBvbmVudFR5cGU9PT1rLlVOU0lHTkVEX0JZVEUpcmV0dXJuIHRoaXMuX3dyYXBBY2Nlc3NvcihDLG8pO2lmKG8uY29tcG9uZW50VHlwZT09PWsuVU5TSUdORURfU0hPUlQpcmV0dXJuIHRoaXMuX3dyYXBBY2Nlc3NvcihBLG8pfXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItdW5zdXBwb3J0ZWQtZmVhdHVyZVwiLFwiVW5zdXBwb3J0ZWQgY29tcG9uZW50IHR5cGUgZm9yIENPTE9SXzAgYXR0cmlidXRlOiBcIitrW28uY29tcG9uZW50VHlwZV0pfWhhc1Bvc2l0aW9ucyhlKXtyZXR1cm4gdm9pZCAwIT09ZS5hdHRyaWJ1dGVzLlBPU0lUSU9OfWhhc05vcm1hbHMoZSl7cmV0dXJuIHZvaWQgMCE9PWUuYXR0cmlidXRlcy5OT1JNQUx9aGFzVmVydGV4Q29sb3JzKGUpe3JldHVybiB2b2lkIDAhPT1lLmF0dHJpYnV0ZXMuQ09MT1JfMH1oYXNUZXh0dXJlQ29vcmRpbmF0ZXMoZSl7cmV0dXJuIHZvaWQgMCE9PWUuYXR0cmlidXRlcy5URVhDT09SRF8wfWhhc1RhbmdlbnRzKGUpe3JldHVybiB2b2lkIDAhPT1lLmF0dHJpYnV0ZXMuVEFOR0VOVH1hc3luYyBnZXRNYXRlcmlhbChlLHQscil7bGV0IG89ZS5tYXRlcmlhbD90aGlzLl9tYXRlcmlhbENhY2hlLmdldChlLm1hdGVyaWFsKTp2b2lkIDA7aWYoIW8pe2NvbnN0IG49bnVsbCE9ZS5tYXRlcmlhbD9NKHRoaXMuanNvbi5tYXRlcmlhbHNbZS5tYXRlcmlhbF0pOk0oKSxzPW4ucGJyTWV0YWxsaWNSb3VnaG5lc3MsYT10aGlzLmhhc1ZlcnRleENvbG9ycyhlKSxpPXRoaXMuZ2V0VGV4dHVyZShzLmJhc2VDb2xvclRleHR1cmUsdCksdT10aGlzLmdldFRleHR1cmUobi5ub3JtYWxUZXh0dXJlLHQpLGY9cj90aGlzLmdldFRleHR1cmUobi5vY2NsdXNpb25UZXh0dXJlLHQpOnZvaWQgMCxjPXI/dGhpcy5nZXRUZXh0dXJlKG4uZW1pc3NpdmVUZXh0dXJlLHQpOnZvaWQgMCxkPXI/dGhpcy5nZXRUZXh0dXJlKHMubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlLHQpOnZvaWQgMCxsPW51bGwhPWUubWF0ZXJpYWw/ZS5tYXRlcmlhbDotMTtvPXthbHBoYU1vZGU6bi5hbHBoYU1vZGUsYWxwaGFDdXRvZmY6bi5hbHBoYUN1dG9mZixjb2xvcjpzLmJhc2VDb2xvckZhY3Rvcixkb3VibGVTaWRlZDohIW4uZG91YmxlU2lkZWQsY29sb3JUZXh0dXJlOmF3YWl0IGksbm9ybWFsVGV4dHVyZTphd2FpdCB1LG5hbWU6bi5uYW1lLGlkOmwsb2NjbHVzaW9uVGV4dHVyZTphd2FpdCBmLGVtaXNzaXZlVGV4dHVyZTphd2FpdCBjLGVtaXNzaXZlRmFjdG9yOm4uZW1pc3NpdmVGYWN0b3IsbWV0YWxsaWNGYWN0b3I6cy5tZXRhbGxpY0ZhY3Rvcixyb3VnaG5lc3NGYWN0b3I6cy5yb3VnaG5lc3NGYWN0b3IsbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlOmF3YWl0IGQsaGFzVmVydGV4Q29sb3JzOmEsRVNSSV9leHRlcm5hbENvbG9yTWl4TW9kZTpuLmV4dHJhcy5FU1JJX2V4dGVybmFsQ29sb3JNaXhNb2RlLGNvbG9yVGV4dHVyZVRyYW5zZm9ybTpzPy5iYXNlQ29sb3JUZXh0dXJlPy5leHRlbnNpb25zPy5LSFJfdGV4dHVyZV90cmFuc2Zvcm0sbm9ybWFsVGV4dHVyZVRyYW5zZm9ybTpuLm5vcm1hbFRleHR1cmU/LmV4dGVuc2lvbnM/LktIUl90ZXh0dXJlX3RyYW5zZm9ybSxvY2NsdXNpb25UZXh0dXJlVHJhbnNmb3JtOm4ub2NjbHVzaW9uVGV4dHVyZT8uZXh0ZW5zaW9ucz8uS0hSX3RleHR1cmVfdHJhbnNmb3JtLGVtaXNzaXZlVGV4dHVyZVRyYW5zZm9ybTpuLmVtaXNzaXZlVGV4dHVyZT8uZXh0ZW5zaW9ucz8uS0hSX3RleHR1cmVfdHJhbnNmb3JtLG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZVRyYW5zZm9ybTpzPy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmU/LmV4dGVuc2lvbnM/LktIUl90ZXh0dXJlX3RyYW5zZm9ybX19cmV0dXJuIG99YXN5bmMgZ2V0VGV4dHVyZSh0LG8pe2lmKCF0KXJldHVybjtpZigwIT09KHQudGV4Q29vcmR8fDApKXRocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItdW5zdXBwb3J0ZWQtZmVhdHVyZVwiLFwiT25seSBURVhDT09SRCB3aXRoIGluZGV4IDAgaXMgc3VwcG9ydGVkLlwiKTtjb25zdCBuPXQuaW5kZXgscz10aGlzLmpzb24udGV4dHVyZXNbbl0sYT1qKG51bGwhPXMuc2FtcGxlcj90aGlzLmpzb24uc2FtcGxlcnNbcy5zYW1wbGVyXTp7fSksaT10aGlzLl9nZXRUZXh0dXJlU291cmNlSWQocyksdT10aGlzLmpzb24uaW1hZ2VzW2ldLGY9YXdhaXQgdGhpcy5fbG9hZFRleHR1cmVJbWFnZURhdGEobixzLG8pO3JldHVybiByKHRoaXMuX3RleHR1cmVDYWNoZSxuLCgoKT0+e2NvbnN0IHQ9ZT0+MzMwNzE9PT1lfHwzMzY0OD09PWV8fDEwNDk3PT09ZSxyPXQ9Pnt0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLWVycm9yXCIsYFVuZXhwZWN0ZWQgVGV4dHVyZVNhbXBsZXIgV3JhcE1vZGU6ICR7dH1gKX07cmV0dXJue2RhdGE6Zix3cmFwUzp0KGEud3JhcFMpP2Eud3JhcFM6cihhLndyYXBTKSx3cmFwVDp0KGEud3JhcFQpP2Eud3JhcFQ6cihhLndyYXBUKSxtaW5GaWx0ZXI6YS5taW5GaWx0ZXIsbmFtZTp1Lm5hbWUsaWQ6bn19KSl9Z2V0Tm9kZVRyYW5zZm9ybShlKXtpZih2b2lkIDA9PT1lKXJldHVybiBxO2xldCB0PXRoaXMuX25vZGVUcmFuc2Zvcm1DYWNoZS5nZXQoZSk7aWYoIXQpe2NvbnN0IHI9dGhpcy5nZXROb2RlVHJhbnNmb3JtKHRoaXMuX2dldE5vZGVQYXJlbnQoZSkpLG89dGhpcy5qc29uLm5vZGVzW2VdO28ubWF0cml4P3Q9YyhoKCkscixvLm1hdHJpeCk6by50cmFuc2xhdGlvbnx8by5yb3RhdGlvbnx8by5zY2FsZT8odD1tKHIpLG8udHJhbnNsYXRpb24mJmQodCx0LG8udHJhbnNsYXRpb24pLG8ucm90YXRpb24mJih6WzNdPXcoeixvLnJvdGF0aW9uKSxsKHQsdCx6WzNdLHopKSxvLnNjYWxlJiZwKHQsdCxvLnNjYWxlKSk6dD1tKHIpLHRoaXMuX25vZGVUcmFuc2Zvcm1DYWNoZS5zZXQoZSx0KX1yZXR1cm4gdH1fd3JhcEFjY2Vzc29yKGUsdCl7cmV0dXJuIG5ldyBlKHQucmF3LHQuYnl0ZU9mZnNldCx0LmJ5dGVTdHJpZGUsdC5ieXRlT2Zmc2V0K3QuYnl0ZVN0cmlkZSoodC5lbnRyeUNvdW50LTEpK3QuY29tcG9uZW50Qnl0ZVNpemUqdC5jb21wb25lbnRDb3VudCl9X3Jlc29sdmVVcmkoZSl7cmV0dXJuIGkoZSx0aGlzLl9iYXNlVXJpKX1fZ2V0Tm9kZVBhcmVudChlKXtyZXR1cm4gdGhpcy5fbm9kZVBhcmVudE1hcC5nZXQoZSl9X2NoZWNrVmVyc2lvblN1cHBvcnRlZCgpe2NvbnN0IGU9dS5wYXJzZSh0aGlzLmpzb24uYXNzZXQudmVyc2lvbixcImdsVEZcIik7Si52YWxpZGF0ZShlKX1fY2hlY2tSZXF1aXJlZEV4dGVuc2lvbnNTdXBwb3J0ZWQoKXtjb25zdCB0PXRoaXMuanNvbjtpZih0LmV4dGVuc2lvbnNSZXF1aXJlZCl7aWYoIXQuZXh0ZW5zaW9uc1JlcXVpcmVkLmV2ZXJ5KChlPT50aGlzLl9zdXBwb3J0ZWRFeHRlbnNpb25zLmluY2x1ZGVzKGUpKSkpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJnbHRmIGxvYWRlciB3YXMgbm90IGFibGUgdG8gbG9hZCB1bnN1cHBvcnRlZCBmZWF0dXJlLiBSZXF1aXJlZCBleHRlbnNpb25zOiBcIit0LmV4dGVuc2lvbnNSZXF1aXJlZC5qb2luKFwiLCBcIikpfX1fY29tcHV0ZU5vZGVQYXJlbnRzKCl7dGhpcy5qc29uLm5vZGVzLmZvckVhY2goKChlLHQpPT57ZS5jaGlsZHJlbiYmZS5jaGlsZHJlbi5mb3JFYWNoKChlPT57dGhpcy5fbm9kZVBhcmVudE1hcC5zZXQoZSx0KX0pKX0pKX1hc3luYyBfbG9hZFRleHR1cmVJbWFnZURhdGEoZSx0LHIpe2NvbnN0IG89dGhpcy5fdGV4dHVyZUxvYWRlcnMuZ2V0KGUpO2lmKG8pcmV0dXJuIG87Y29uc3Qgbj10aGlzLl9jcmVhdGVUZXh0dXJlTG9hZGVyKHQscik7cmV0dXJuIHRoaXMuX3RleHR1cmVMb2FkZXJzLnNldChlLG4pLG59X2dldFRleHR1cmVTb3VyY2VJZCh0KXtpZih2b2lkIDAhPT10LmV4dGVuc2lvbnMmJm51bGwhPT10LmV4dGVuc2lvbnMuS0hSX3RleHR1cmVfYmFzaXN1KXJldHVybiB0LmV4dGVuc2lvbnMuS0hSX3RleHR1cmVfYmFzaXN1LnNvdXJjZTtpZihudWxsIT09dC5zb3VyY2UpcmV0dXJuIHQuc291cmNlO3Rocm93IG5ldyBlKFwiZ2x0Zi1sb2FkZXItdW5zdXBwb3J0ZWQtZmVhdHVyZVwiLFwiU291cmNlIGlzIGV4cGVjdGVkIHRvIGJlIGRlZmluZWQgZm9yIGEgdGV4dHVyZS4gSXQgY2FuIGFsc28gYmUgb21pdHRlZCBpbiBmYXZvdXIgb2YgYW4gS0hSX3RleHR1cmVfYmFzaXN1IGV4dGVuc2lvbiB0YWcuXCIpfWFzeW5jIF9jcmVhdGVUZXh0dXJlTG9hZGVyKHQscil7Y29uc3Qgbz10aGlzLl9nZXRUZXh0dXJlU291cmNlSWQodCksbj10aGlzLmpzb24uaW1hZ2VzW29dO2lmKG4udXJpKXtpZihuLnVyaS5lbmRzV2l0aChcIi5rdHgyXCIpKXtjb25zdCBlPWF3YWl0IHRoaXMuX2NvbnRleHQubG9hZEJpbmFyeSh0aGlzLl9yZXNvbHZlVXJpKG4udXJpKSxyKTtyZXR1cm4gbmV3IEgobmV3IFVpbnQ4QXJyYXkoZSkpfXJldHVybiB0aGlzLl9jb250ZXh0LmxvYWRJbWFnZSh0aGlzLl9yZXNvbHZlVXJpKG4udXJpKSxyKX1pZihudWxsPT1uLmJ1ZmZlclZpZXcpdGhyb3cgbmV3IGUoXCJnbHRmLWxvYWRlci11bnN1cHBvcnRlZC1mZWF0dXJlXCIsXCJJbWFnZSBidWZmZXJWaWV3IG11c3QgYmUgZGVmaW5lZC5cIik7aWYobnVsbD09bi5taW1lVHlwZSl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcIkltYWdlIG1pbWVUeXBlIG11c3QgYmUgZGVmaW5lZC5cIik7Y29uc3Qgcz10aGlzLmpzb24uYnVmZmVyVmlld3Nbbi5idWZmZXJWaWV3XSxhPWF3YWl0IHRoaXMuZ2V0QnVmZmVyKHMuYnVmZmVyLHIpO2lmKG51bGwhPXMuYnl0ZVN0cmlkZSl0aHJvdyBuZXcgZShcImdsdGYtbG9hZGVyLXVuc3VwcG9ydGVkLWZlYXR1cmVcIixcImJ5dGVTdHJpZGUgbm90IHN1cHBvcnRlZCBmb3IgaW1hZ2UgYnVmZmVyXCIpO2NvbnN0IGk9YS5ieXRlT2Zmc2V0KyhzLmJ5dGVPZmZzZXR8fDApO3JldHVybiBQKG5ldyBVaW50OEFycmF5KGEuYnVmZmVyLGkscy5ieXRlTGVuZ3RoKSxuLm1pbWVUeXBlKX1hc3luYyBnZXRMb2FkZWRCdWZmZXJzU2l6ZSgpe2lmKHRoaXMuX2dsYkJ1ZmZlcilyZXR1cm4gdGhpcy5fZ2xiQnVmZmVyLmJ5dGVMZW5ndGg7Y29uc3QgZT1hd2FpdCBvKEFycmF5LmZyb20odGhpcy5fYnVmZmVyTG9hZGVycy52YWx1ZXMoKSkpLHQ9YXdhaXQgbyhBcnJheS5mcm9tKHRoaXMuX3RleHR1cmVMb2FkZXJzLnZhbHVlcygpKSk7cmV0dXJuIGUucmVkdWNlKCgoZSx0KT0+ZSsodD8uYnl0ZUxlbmd0aD8/MCkpLDApK3QucmVkdWNlKCgoZSx0KT0+ZSsodD9WKHQpP3QuZGF0YS5ieXRlTGVuZ3RoOnQud2lkdGgqdC5oZWlnaHQqNDowKSksMCl9fWNvbnN0IHE9ZihoKCksTWF0aC5QSS8yKSxKPW5ldyB1KDIsMCxcImdsVEZcIiksej1iKCksWD17U0NBTEFSOjEsVkVDMjoyLFZFQzM6MyxWRUM0OjQsTUFUMjo0LE1BVDM6OSxNQVQ0OjE2fSwkPXtbay5CWVRFXToxLFtrLlVOU0lHTkVEX0JZVEVdOjEsW2suU0hPUlRdOjIsW2suVU5TSUdORURfU0hPUlRdOjIsW2suRkxPQVRdOjQsW2suSU5UXTo0LFtrLlVOU0lHTkVEX0lOVF06NH07ZnVuY3Rpb24gVyhlKXtzd2l0Y2goZS5jb21wb25lbnRUeXBlKXtjYXNlIGsuQllURTpyZXR1cm4gbmV3IHYoZS5yYXcsZS5ieXRlT2Zmc2V0LGUuYnl0ZVN0cmlkZSxlLmJ5dGVPZmZzZXQrZS5ieXRlU3RyaWRlKmUuZW50cnlDb3VudCk7Y2FzZSBrLlVOU0lHTkVEX0JZVEU6cmV0dXJuIG5ldyBSKGUucmF3LGUuYnl0ZU9mZnNldCxlLmJ5dGVTdHJpZGUsZS5ieXRlT2Zmc2V0K2UuYnl0ZVN0cmlkZSplLmVudHJ5Q291bnQpO2Nhc2Ugay5TSE9SVDpyZXR1cm4gbmV3IEkoZS5yYXcsZS5ieXRlT2Zmc2V0LGUuYnl0ZVN0cmlkZSxlLmJ5dGVPZmZzZXQrZS5ieXRlU3RyaWRlKmUuZW50cnlDb3VudCk7Y2FzZSBrLlVOU0lHTkVEX1NIT1JUOnJldHVybiBuZXcgTChlLnJhdyxlLmJ5dGVPZmZzZXQsZS5ieXRlU3RyaWRlLGUuYnl0ZU9mZnNldCtlLmJ5dGVTdHJpZGUqZS5lbnRyeUNvdW50KTtjYXNlIGsuVU5TSUdORURfSU5UOnJldHVybiBuZXcgRShlLnJhdyxlLmJ5dGVPZmZzZXQsZS5ieXRlU3RyaWRlLGUuYnl0ZU9mZnNldCtlLmJ5dGVTdHJpZGUqZS5lbnRyeUNvdW50KTtjYXNlIGsuRkxPQVQ6cmV0dXJuIG5ldyBPKGUucmF3LGUuYnl0ZU9mZnNldCxlLmJ5dGVTdHJpZGUsZS5ieXRlT2Zmc2V0K2UuYnl0ZVN0cmlkZSplLmVudHJ5Q291bnQpfX1jb25zdCBRPS9cXC5nbHRmJC9pLFo9L1xcLmdsYiQvaTtleHBvcnR7WSBhcyBHTFRGUmVzb3VyY2UscSBhcyB0cmFuc2Zvcm1HbHRmVG9FbmdpbmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbnZhciBBLEU7IWZ1bmN0aW9uKEEpe0EuU0NBTEFSPVwiU0NBTEFSXCIsQS5WRUMyPVwiVkVDMlwiLEEuVkVDMz1cIlZFQzNcIixBLlZFQzQ9XCJWRUM0XCIsQS5NQVQyPVwiTUFUMlwiLEEuTUFUMz1cIk1BVDNcIixBLk1BVDQ9XCJNQVQ0XCJ9KEF8fChBPXt9KSksZnVuY3Rpb24oQSl7QVtBLkFSUkFZX0JVRkZFUj0zNDk2Ml09XCJBUlJBWV9CVUZGRVJcIixBW0EuRUxFTUVOVF9BUlJBWV9CVUZGRVI9MzQ5NjNdPVwiRUxFTUVOVF9BUlJBWV9CVUZGRVJcIn0oRXx8KEU9e30pKTtleHBvcnR7QSBhcyBBdHRyaWJ1dGVUeXBlLEUgYXMgQnVmZmVyVmlld1RhcmdldH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e25ldmVyUmVhY2hlZCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvY29tcGlsZXJVdGlscy5qc1wiO2ltcG9ydHtUZXh0dXJlU2FtcGxpbmdNb2RlIGFzIG8sVGV4dHVyZVdyYXBNb2RlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtjb25zdCB0PXtiYXNlQ29sb3JGYWN0b3I6WzEsMSwxLDFdLG1ldGFsbGljRmFjdG9yOjEscm91Z2huZXNzRmFjdG9yOjF9LGE9e3Bick1ldGFsbGljUm91Z2huZXNzOnQsZW1pc3NpdmVGYWN0b3I6WzAsMCwwXSxhbHBoYU1vZGU6XCJPUEFRVUVcIixhbHBoYUN1dG9mZjouNSxkb3VibGVTaWRlZDohMX0sbD17RVNSSV9leHRlcm5hbENvbG9yTWl4TW9kZTpcInRpbnRcIn0saT0oZT17fSk9Pntjb25zdCBvPXsuLi50LC4uLmUucGJyTWV0YWxsaWNSb3VnaG5lc3N9LHI9cyh7Li4ubCwuLi5lLmV4dHJhc30pO3JldHVybnsuLi5hLC4uLmUscGJyTWV0YWxsaWNSb3VnaG5lc3M6byxleHRyYXM6cn19O2Z1bmN0aW9uIHMobyl7c3dpdGNoKG8uRVNSSV9leHRlcm5hbENvbG9yTWl4TW9kZSl7Y2FzZVwibXVsdGlwbHlcIjpjYXNlXCJ0aW50XCI6Y2FzZVwiaWdub3JlXCI6Y2FzZVwicmVwbGFjZVwiOmJyZWFrO2RlZmF1bHQ6ZShvLkVTUklfZXh0ZXJuYWxDb2xvck1peE1vZGUpLG8uRVNSSV9leHRlcm5hbENvbG9yTWl4TW9kZT1cInRpbnRcIn1yZXR1cm4gb31jb25zdCBuPXttYWdGaWx0ZXI6by5MSU5FQVIsbWluRmlsdGVyOm8uTElORUFSX01JUE1BUF9MSU5FQVIsd3JhcFM6ci5SRVBFQVQsd3JhcFQ6ci5SRVBFQVR9LGM9ZT0+KHsuLi5uLC4uLmV9KTtleHBvcnR7aSBhcyBtYXRlcmlhbCxjIGFzIHRleHR1cmVTYW1wbGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNVaW50OEFycmF5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS90eXBlZEFycmF5VXRpbC5qc1wiO2ltcG9ydHtnZXRDb250aW51b3VzSW5kZXhBcnJheSBhcyB0LG5ld0luZGV4QXJyYXkgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L0luZGljZXMuanNcIjtpbXBvcnR7UHJpbWl0aXZlVHlwZSBhcyBufWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7ZnVuY3Rpb24gbyhyLHQpe3N3aXRjaCh0KXtjYXNlIG4uVFJJQU5HTEVTOnJldHVybiBmKHIpO2Nhc2Ugbi5UUklBTkdMRV9TVFJJUDpyZXR1cm4gdShyKTtjYXNlIG4uVFJJQU5HTEVfRkFOOnJldHVybiBpKHIpfX1mdW5jdGlvbiBmKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlP3QoZSk6cihlKT9uZXcgVWludDE2QXJyYXkoZSk6ZX1mdW5jdGlvbiB1KHIpe2NvbnN0IHQ9XCJudW1iZXJcIj09dHlwZW9mIHI/cjpyLmxlbmd0aDtpZih0PDMpcmV0dXJuW107Y29uc3Qgbj10LTIsbz1lKDMqbik7aWYoXCJudW1iZXJcIj09dHlwZW9mIHIpe2xldCByPTA7Zm9yKGxldCB0PTA7dDxuO3QrPTEpdCUyPT0wPyhvW3IrK109dCxvW3IrK109dCsxLG9bcisrXT10KzIpOihvW3IrK109dCsxLG9bcisrXT10LG9bcisrXT10KzIpfWVsc2V7bGV0IHQ9MDtmb3IobGV0IGU9MDtlPG47ZSs9MSllJTI9PTA/KG9bdCsrXT1yW2VdLG9bdCsrXT1yW2UrMV0sb1t0KytdPXJbZSsyXSk6KG9bdCsrXT1yW2UrMV0sb1t0KytdPXJbZV0sb1t0KytdPXJbZSsyXSl9cmV0dXJuIG99ZnVuY3Rpb24gaShyKXtjb25zdCB0PVwibnVtYmVyXCI9PXR5cGVvZiByP3I6ci5sZW5ndGg7aWYodDwzKXJldHVybiBuZXcgVWludDE2QXJyYXkoMCk7Y29uc3QgZT10LTIsbj1lPD02NTUzNj9uZXcgVWludDE2QXJyYXkoMyplKTpuZXcgVWludDMyQXJyYXkoMyplKTtpZihcIm51bWJlclwiPT10eXBlb2Ygcil7bGV0IHI9MDtmb3IobGV0IHQ9MDt0PGU7Kyt0KW5bcisrXT0wLG5bcisrXT10KzEsbltyKytdPXQrMjtyZXR1cm4gbn1jb25zdCBvPXJbMF07bGV0IGY9clsxXSx1PTA7Zm9yKGxldCBpPTA7aTxlOysraSl7Y29uc3QgdD1yW2krMl07blt1KytdPW8sblt1KytdPWYsblt1KytdPXQsZj10fXJldHVybiBufWV4cG9ydHtvIGFzIGNvbnZlcnRQcmltaXRpdmVUb1RyaWFuZ2xlc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gcihyKXtsZXQgZSx0O3JldHVybiByLnJlcGxhY2UoL14oLipcXC8pPyhbXi9dKikkLywoKHIsYSxpKT0+KGU9YXx8XCJcIix0PWl8fFwiXCIsXCJcIikpKSx7ZGlyUGFydDplLGZpbGVQYXJ0OnR9fWV4cG9ydHtyIGFzIHNwbGl0VVJJfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e1RleHR1cmVFbmNvZGluZ01pbWVUeXBlIGFzIGV9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9iYXNpY0ludGVyZmFjZXMuanNcIjtjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuZGF0YT10LHRoaXMudHlwZT1cImVuY29kZWQtbWVzaC10ZXh0dXJlXCIsdGhpcy5lbmNvZGluZz1lLktUWDJfRU5DT0RJTkd9fWZ1bmN0aW9uIHIoZSl7cmV0dXJuXCJlbmNvZGVkLW1lc2gtdGV4dHVyZVwiPT09ZT8udHlwZX1hc3luYyBmdW5jdGlvbiBuKGUpe2NvbnN0IHQ9bmV3IEJsb2IoW2VdKSxyPWF3YWl0IHQudGV4dCgpO3JldHVybiBKU09OLnBhcnNlKHIpfWFzeW5jIGZ1bmN0aW9uIG8ocixuKXtpZihuPT09ZS5LVFgyX0VOQ09ESU5HKXJldHVybiBuZXcgdChyKTtjb25zdCBvPW5ldyBCbG9iKFtyXSx7dHlwZTpufSksYz1VUkwuY3JlYXRlT2JqZWN0VVJMKG8pLHM9bmV3IEltYWdlO2lmKGhhcyhcImVzcmktaVBob25lXCIpKXJldHVybiBuZXcgUHJvbWlzZSgoKGUsdCk9Pntjb25zdCByPSgpPT57bygpLGUocyl9LG49ZT0+e28oKSx0KGUpfSxvPSgpPT57VVJMLnJldm9rZU9iamVjdFVSTChjKSxzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIscikscy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIixuKX07cy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHIpLHMuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsbikscy5zcmM9Y30pKTt0cnl7cy5zcmM9Yyxhd2FpdCBzLmRlY29kZSgpfWNhdGNoKGkpe2NvbnNvbGUud2FybihcIkZhaWxlZCBkZWNvZGluZyBIVE1MSW1hZ2VFbGVtZW50XCIpfXJldHVybiBVUkwucmV2b2tlT2JqZWN0VVJMKGMpLHN9ZXhwb3J0e3QgYXMgRW5jb2RlZE1lc2hUZXh0dXJlLG8gYXMgaW1hZ2VGcm9tQmluYXJ5RGF0YSxyIGFzIGlzRW5jb2RlZE1lc2hUZXh0dXJlLG4gYXMganNvbkZyb21CaW5hcnlEYXRhfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtiIGFzIG99ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL21hdDRmNjQuanNcIjtpbXBvcnR7bWFrZU1hdGVyaWFsUGFyYW1ldGVycyBhcyB0LG1ha2VUZXh0dXJlU291cmNlIGFzIHJ9ZnJvbVwiLi9Mb2FkZXJSZXN1bHQuanNcIjtpbXBvcnR7R0xURlJlc291cmNlIGFzIHN9ZnJvbVwiLi9pbnRlcm5hbC9SZXNvdXJjZS5qc1wiO2ltcG9ydHtUZXh0dXJlU2FtcGxpbmdNb2RlIGFzIGEsUHJpbWl0aXZlVHlwZSBhcyBufWZyb21cIi4uLy4uL3dlYmdsL2VudW1zLmpzXCI7bGV0IGk9MDthc3luYyBmdW5jdGlvbiBsKHQscixhPXt9LGw9ITApe2NvbnN0IG09YXdhaXQgcy5sb2FkKHQscixhKSxwPVwiZ2x0Zl9cIitpKyssVD17bG9kczpbXSxtYXRlcmlhbHM6bmV3IE1hcCx0ZXh0dXJlczpuZXcgTWFwLG1ldGE6dShtKX0sZj0hKCFtLmpzb24uYXNzZXQuZXh0cmFzfHxcInN5bWJvbFJlc291cmNlXCIhPT1tLmpzb24uYXNzZXQuZXh0cmFzLkVTUklfdHlwZSkseD1uZXcgTWFwO2F3YWl0IGMobSwoYXN5bmModCxyLHMsaSk9Pntjb25zdCB1PXguZ2V0KHMpPz8wO3guc2V0KHMsdSsxKTtjb25zdCBjPXZvaWQgMCE9PXQubW9kZT90Lm1vZGU6bi5UUklBTkdMRVMsZj1jPT09bi5UUklBTkdMRVN8fGM9PT1uLlRSSUFOR0xFX1NUUklQfHxjPT09bi5UUklBTkdMRV9GQU4/YzpudWxsO2lmKG51bGw9PWYpcmV0dXJuIHZvaWQgZS5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjNkLmdsVEZcIikud2FybihcIltVbnN1cHBvcnRlZCBGZWF0dXJlXSBVbnN1cHBvcnRlZCBwcmltaXRpdmUgbW9kZSAoXCIrbltjXStcIikuIFNraXBwaW5nIHByaW1pdGl2ZS5cIik7aWYoIW0uaGFzUG9zaXRpb25zKHQpKXJldHVybiB2b2lkIGUuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4zZC5nbFRGXCIpLndhcm4oXCJTa2lwcGluZyBwcmltaXRpdmUgd2l0aG91dCBQT1NJVElPTiB2ZXJ0ZXggYXR0cmlidXRlLlwiKTtjb25zdCBnPW0uZ2V0UG9zaXRpb25EYXRhKHQsYSksaD1tLmdldE1hdGVyaWFsKHQsYSxsKSx3PW0uaGFzTm9ybWFscyh0KT9tLmdldE5vcm1hbERhdGEodCxhKTpudWxsLHY9bS5oYXNUYW5nZW50cyh0KT9tLmdldFRhbmdlbnREYXRhKHQsYSk6bnVsbCxSPW0uaGFzVGV4dHVyZUNvb3JkaW5hdGVzKHQpP20uZ2V0VGV4dHVyZUNvb3JkaW5hdGVzKHQsYSk6bnVsbCxTPW0uaGFzVmVydGV4Q29sb3JzKHQpP20uZ2V0VmVydGV4Q29sb3JzKHQsYSk6bnVsbCxfPW0uZ2V0SW5kZXhEYXRhKHQsYSksRT17bmFtZTppLHRyYW5zZm9ybTpvKHIpLGF0dHJpYnV0ZXM6e3Bvc2l0aW9uOmF3YWl0IGcsbm9ybWFsOnc/YXdhaXQgdzpudWxsLHRleENvb3JkMDpSP2F3YWl0IFI6bnVsbCxjb2xvcjpTP2F3YWl0IFM6bnVsbCx0YW5nZW50OnY/YXdhaXQgdjpudWxsfSxpbmRpY2VzOmF3YWl0IF8scHJpbWl0aXZlVHlwZTpmLG1hdGVyaWFsOmQoVCxhd2FpdCBoLHApfTtsZXQgST1udWxsO251bGwhPVQubWV0YT8uRVNSSV9sb2QmJlwic2NyZWVuU3BhY2VSYWRpdXNcIj09PVQubWV0YS5FU1JJX2xvZC5tZXRyaWMmJihJPVQubWV0YS5FU1JJX2xvZC50aHJlc2hvbGRzW3NdKSxULmxvZHNbc109VC5sb2RzW3NdfHx7cGFydHM6W10sbmFtZTppLGxvZFRocmVzaG9sZDpJfSxULmxvZHNbc10ucGFydHNbdV09RX0pKTtmb3IoY29uc3QgZSBvZiBULmxvZHMpZS5wYXJ0cz1lLnBhcnRzLmZpbHRlcigoZT0+ISFlKSk7Y29uc3QgZz1hd2FpdCBtLmdldExvYWRlZEJ1ZmZlcnNTaXplKCk7cmV0dXJue21vZGVsOlQsbWV0YTp7aXNFc3JpU3ltYm9sUmVzb3VyY2U6Zix1cmk6bS51cml9LGN1c3RvbU1ldGE6e30sc2l6ZTpnfX1mdW5jdGlvbiB1KGUpe2NvbnN0IG89ZS5qc29uO2xldCB0PW51bGw7cmV0dXJuIG8ubm9kZXMuZm9yRWFjaCgoZT0+e2NvbnN0IG89ZS5leHRyYXM7bnVsbCE9byYmKG8uRVNSSV9wcm94eUVsbGlwc29pZHx8by5FU1JJX2xvZCkmJih0PW8pfSkpLHR9YXN5bmMgZnVuY3Rpb24gYyhvLHQpe2NvbnN0IHI9by5qc29uLHM9ci5zY2VuZXNbci5zY2VuZXx8MF0ubm9kZXMsYT1zLmxlbmd0aD4xLG49W107Zm9yKGNvbnN0IGUgb2Ygcyl7Y29uc3Qgbz1yLm5vZGVzW2VdO2lmKG4ucHVzaChpKGUsMCkpLG0obykmJiFhKXtvLmV4dGVuc2lvbnMuTVNGVF9sb2QuaWRzLmZvckVhY2goKChlLG8pPT5pKGUsbysxKSkpfX1hc3luYyBmdW5jdGlvbiBpKHMsYSl7Y29uc3QgbD1yLm5vZGVzW3NdLHU9by5nZXROb2RlVHJhbnNmb3JtKHMpO2lmKG51bGwhPWwud2VpZ2h0cyYmZS5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjNkLmdsVEZcIikud2FybihcIltVbnN1cHBvcnRlZCBGZWF0dXJlXSBNb3JwaCB0YXJnZXRzIGFyZSBub3Qgc3VwcG9ydGVkLlwiKSxudWxsIT1sLm1lc2gpe2NvbnN0IGU9ci5tZXNoZXNbbC5tZXNoXTtmb3IoY29uc3QgbyBvZiBlLnByaW1pdGl2ZXMpbi5wdXNoKHQobyx1LGEsZS5uYW1lKSl9Zm9yKGNvbnN0IGUgb2YgbC5jaGlsZHJlbnx8W10pbi5wdXNoKGkoZSxhKSl9YXdhaXQgUHJvbWlzZS5hbGwobil9ZnVuY3Rpb24gbShlKXtyZXR1cm4gZS5leHRlbnNpb25zPy5NU0ZUX2xvZCYmQXJyYXkuaXNBcnJheShlLmV4dGVuc2lvbnMuTVNGVF9sb2QuaWRzKX1mdW5jdGlvbiBkKGUsbyxzKXtjb25zdCBhPW89Pntjb25zdCB0PWAke3N9X3RleF8ke28mJm8uaWR9JHtvPy5uYW1lP1wiX1wiK28ubmFtZTpcIlwifWA7aWYobyYmIWUudGV4dHVyZXMuaGFzKHQpKXtjb25zdCBzPXIoby5kYXRhLHt3cmFwOntzOm8ud3JhcFMsdDpvLndyYXBUfSxtaXBtYXA6cC5oYXMoby5taW5GaWx0ZXIpLG5vVW5wYWNrRmxpcDohMH0pO2UudGV4dHVyZXMuc2V0KHQscyl9cmV0dXJuIHR9LG49YCR7c31fbWF0XyR7by5pZH1fJHtvLm5hbWV9YDtpZighZS5tYXRlcmlhbHMuaGFzKG4pKXtjb25zdCByPXQoe2NvbG9yOltvLmNvbG9yWzBdLG8uY29sb3JbMV0sby5jb2xvclsyXV0sb3BhY2l0eTpvLmNvbG9yWzNdLGFscGhhTW9kZTpvLmFscGhhTW9kZSxhbHBoYUN1dG9mZjpvLmFscGhhQ3V0b2ZmLGRvdWJsZVNpZGVkOm8uZG91YmxlU2lkZWQsY29sb3JNaXhNb2RlOm8uRVNSSV9leHRlcm5hbENvbG9yTWl4TW9kZSx0ZXh0dXJlQ29sb3I6by5jb2xvclRleHR1cmU/YShvLmNvbG9yVGV4dHVyZSk6dm9pZCAwLHRleHR1cmVOb3JtYWw6by5ub3JtYWxUZXh0dXJlP2Eoby5ub3JtYWxUZXh0dXJlKTp2b2lkIDAsdGV4dHVyZU9jY2x1c2lvbjpvLm9jY2x1c2lvblRleHR1cmU/YShvLm9jY2x1c2lvblRleHR1cmUpOnZvaWQgMCx0ZXh0dXJlRW1pc3NpdmU6by5lbWlzc2l2ZVRleHR1cmU/YShvLmVtaXNzaXZlVGV4dHVyZSk6dm9pZCAwLHRleHR1cmVNZXRhbGxpY1JvdWdobmVzczpvLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZT9hKG8ubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlKTp2b2lkIDAsZW1pc3NpdmVGYWN0b3I6W28uZW1pc3NpdmVGYWN0b3JbMF0sby5lbWlzc2l2ZUZhY3RvclsxXSxvLmVtaXNzaXZlRmFjdG9yWzJdXSxjb2xvclRleHR1cmVUcmFuc2Zvcm06by5jb2xvclRleHR1cmVUcmFuc2Zvcm0sbm9ybWFsVGV4dHVyZVRyYW5zZm9ybTpvLm5vcm1hbFRleHR1cmVUcmFuc2Zvcm0sb2NjbHVzaW9uVGV4dHVyZVRyYW5zZm9ybTpvLm9jY2x1c2lvblRleHR1cmVUcmFuc2Zvcm0sZW1pc3NpdmVUZXh0dXJlVHJhbnNmb3JtOm8uZW1pc3NpdmVUZXh0dXJlVHJhbnNmb3JtLG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZVRyYW5zZm9ybTpvLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZVRyYW5zZm9ybSxtZXRhbGxpY0ZhY3RvcjpvLm1ldGFsbGljRmFjdG9yLHJvdWdobmVzc0ZhY3RvcjpvLnJvdWdobmVzc0ZhY3Rvcn0pO2UubWF0ZXJpYWxzLnNldChuLHIpfXJldHVybiBufWNvbnN0IHA9bmV3IFNldChbYS5MSU5FQVJfTUlQTUFQX0xJTkVBUixhLkxJTkVBUl9NSVBNQVBfTkVBUkVTVF0pO2V4cG9ydHtsIGFzIGxvYWRHTFRGfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBvPTIuMTtleHBvcnR7byBhcyBjb2xvckdhbW1hfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==