"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_views_3d_interactive_visualElements_ExtendedLineVisualElement_js"],{

/***/ "./node_modules/@arcgis/core/chunks/vec4f32.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec4f32.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ l),
/* harmony export */   U: () => (/* binding */ _),
/* harmony export */   Z: () => (/* binding */ f),
/* harmony export */   a: () => (/* binding */ n),
/* harmony export */   b: () => (/* binding */ e),
/* harmony export */   c: () => (/* binding */ t),
/* harmony export */   d: () => (/* binding */ s),
/* harmony export */   e: () => (/* binding */ c),
/* harmony export */   f: () => (/* binding */ r),
/* harmony export */   g: () => (/* binding */ i),
/* harmony export */   h: () => (/* binding */ y),
/* harmony export */   i: () => (/* binding */ w),
/* harmony export */   j: () => (/* binding */ N),
/* harmony export */   o: () => (/* binding */ o),
/* harmony export */   u: () => (/* binding */ u),
/* harmony export */   v: () => (/* binding */ O),
/* harmony export */   z: () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(){return new Float32Array(4)}function t(n){const t=new Float32Array(4);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(n,t,r,e){const a=new Float32Array(4);return a[0]=n,a[1]=t,a[2]=r,a[3]=e,a}function e(n,t){return new Float32Array(n,t,4)}function a(){return n()}function o(){return r(1,1,1,1)}function u(){return r(1,0,0,0)}function s(){return r(0,1,0,0)}function c(){return r(0,0,1,0)}function i(){return r(0,0,0,1)}const f=a(),l=o(),_=u(),y=s(),w=c(),N=i(),O=Object.freeze(Object.defineProperty({__proto__:null,ONES:l,UNIT_W:N,UNIT_X:_,UNIT_Y:y,UNIT_Z:w,ZEROS:f,clone:t,create:n,createView:e,fromValues:r,ones:o,unitW:i,unitX:u,unitY:s,unitZ:c,zeros:a},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrapedVisualElementResources: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js");
/* harmony import */ var _webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl-engine/lib/ModelDirtyTypes.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class n{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1,this._renderGroup=_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.DrapedRenderGroup.Outline}destroy(){this._destroyResources()}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}get renderGroup(){return this._renderGroup}set renderGroup(e){this._renderGroup=e;const r=this._resources?.layerView;r&&(r.renderGroup=e)}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?null!=this._resources&&(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?null==this._resources&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory.createResources(),r=new d({view:this._resourceFactory.view,renderGroup:this._renderGroup}),s=this._resourceFactory.view.basemapTerrain?.overlayManager;this._resources={layerView:new d({view:this._resourceFactory.view,renderGroup:this._renderGroup}),external:e,geometriesAdded:!1},s&&(this._resources.drapeSourceRenderer=s.registerGeometryDrapeSource(r)),this._syncGeometriesToRenderer()}_destroyResources(){if(null==this._resources)return;this._ensureRenderGeometriesRemoved();const e=this._resourceFactory.view.basemapTerrain?.overlayManager;e&&e.unregisterDrapeSource(this._resources.layerView),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){if(null==this._resources?.drapeSourceRenderer)return;if(!this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_9__.DirtyOperation.UPDATE),this._resources.geometriesAdded=!1}_ensureRenderGeometriesAdded(){if(null==this._resources?.drapeSourceRenderer)return;if(this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_9__.DirtyOperation.UPDATE),this._resources.geometriesAdded=!0}}let d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__.IdentifiableMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){constructor(e){super(e),this.drapeSourceType=_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.DrapeSourceType.Features,this.updatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_10__.UpdatePolicy.SYNC,this.renderGroup=_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.DrapedRenderGroup.Outline}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],d.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],d.prototype,"drapeSourceType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],d.prototype,"renderGroup",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("DrapedVisualElementLayerView")],d);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EngineVisualElement: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _DrapedVisualElementResources_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DrapedVisualElementResources.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js");
/* harmony import */ var _VisualElement_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./VisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js");
/* harmony import */ var _VisualElementResources_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./VisualElementResources.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t extends _VisualElement_js__WEBPACK_IMPORTED_MODULE_1__.VisualElement{constructor(s){super(s),this._isDraped=!1,this.object3dResources=new _VisualElementResources_js__WEBPACK_IMPORTED_MODULE_2__.VisualElementResources(this.createObject3DResourceFactory(s.view)),this.drapedResources=new _DrapedVisualElementResources_js__WEBPACK_IMPORTED_MODULE_0__.DrapedVisualElementResources(this.createDrapedResourceFactory(s.view)),this.isDraped=s.isDraped??!1}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.object3dResources.attached=this.attached&&!e,this.drapedResources.attached=this.attached&&e)}get renderGroup(){return this.drapedResources.renderGroup}set renderGroup(e){this.drapedResources.renderGroup=e}createResources(){this.object3dResources.attached=!this._isDraped,this.drapedResources.attached=this._isDraped}destroyResources(){this.object3dResources.attached=!1,this.drapedResources.attached=!1}recreate(){this.object3dResources.recreate(),this.drapedResources.recreate()}recreateGeometry(){this.object3dResources.recreateGeometry(),this.drapedResources.recreateGeometry()}destroy(){this.object3dResources.destroy(),this.drapedResources.destroy(),super.destroy()}updateVisibility(e){this.object3dResources.visible=e,this.drapedResources.visible=e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExtendedLineVisualElement: () => (/* binding */ G),
/* harmony export */   ExtensionType: () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "./node_modules/@arcgis/core/chunks/vec4.js");
/* harmony import */ var _chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec4f32.js */ "./node_modules/@arcgis/core/chunks/vec4f32.js");
/* harmony import */ var _geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/clipRay.js */ "./node_modules/@arcgis/core/geometry/support/clipRay.js");
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/frustum.js */ "./node_modules/@arcgis/core/geometry/support/frustum.js");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _EngineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./EngineVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js");
/* harmony import */ var _LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./LaserlineVisualElement.js */ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js");
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../terrain/OverlayRenderer.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl-engine/materials/RibbonLineMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class G extends _EngineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__.EngineVisualElement{constructor(e){super(e),this._ray=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_8__.create)(),this._isWorldDown=!1,this._start=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),this._end=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(1,0,0),this._width=1,this._color=(0,_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_4__.f)(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=(0,_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_4__.f)(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=V.LINE,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.OccludeAndTransparent,this._fadedExtensions=T,this._laserline=new _LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_10__.LaserlineVisualElement({view:this.view,isDecoration:e.isDecoration}),this.applyProperties(e)}destroy(){this._laserline.destroy(),super.destroy()}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:e=>this._destroyExternalResources(e),recreateGeometry:(e,t)=>this._recreateObject3DGeometry(e,t),cameraChanged:()=>this._updateGeometry()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:e=>this._destroyExternalResources(e),recreateGeometry:e=>this._recreateDrapedGeometry(e)}}updateVisibility(e){super.updateVisibility(e),this._laserline.visible=e}onAttachedChange(){this._laserline.attached=this._laserlineAttached}setStartEndFromWorldDownAtLocation(r){this._isWorldDown=!0,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(this._start,r),this.view.renderCoordsHelper.worldUpAtPosition(r,this._end),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(this._end,r,this._end),(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_8__.fromPoints)(this._start,this._end,this._ray),this._updateGeometry()}get start(){return this._start}set start(t){this._isWorldDown=!1,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.h)(this._start,t)||((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(this._start,t),(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_8__.fromPoints)(this._start,this._end,this._ray),this._updateGeometry())}get end(){return this._end}set end(t){this._isWorldDown=!1,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.h)(this._end,t)||((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(this._end,t),(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_8__.fromPoints)(this._start,this._end,this._ray),this._updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.h)(e,this._color)||((0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.c)(this._color,e),this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.h)(e,this._innerColor)||((0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.c)(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const t=null!=e!=(null!=this._stipplePattern);this._stipplePattern=e,t?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){null!=e&&null!=this._stippleOffColor&&(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.h)(e,this._stippleOffColor)||(this._stippleOffColor=null!=e?(0,_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_4__.c)(e):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this.recreateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&null!=this._laserlineStyle&&this.attached&&!this.isDraped}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,this._laserline.attached=this._laserlineAttached,null!=e&&(this._laserline.style=e)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this._laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get _normalizedRenderOccluded(){return this.isDraped&&this._renderOccluded===_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.OccludeAndTransparentStencil?_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.RenderOccludedFlag.OccludeAndTransparent:this._renderOccluded}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=e??T,this.recreateGeometry()}_updateMaterial(){const{materialParameters:e}=this;this.object3dResources.resources?.material.setParameters(e),this.drapedResources.resources?.material.setParameters(e)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._normalizedRenderOccluded,isDecoration:this.isDecoration,writeDepth:this._writeDepthEnabled}}_createObject3DResources(e){const t=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_16__.RibbonLineMaterial(this.materialParameters),r=new Array;return this._createObject3DGeometry(t,e,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_destroyExternalResources(e){e.geometries=[]}_recreateObject3DGeometry(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}_createObject3DGeometry(e,t,r){const s=this._createGeometry(e);r.push(s),t.addGeometry(s),this._updateVerticesObject3D(t)}_createDrapedResources(){const e=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_16__.RibbonLineMaterial(this.materialParameters);return{material:e,geometries:[this._createDrapedGeometry(e)]}}_recreateDrapedGeometry(e){e.geometries=[this._createDrapedGeometry(e.material)]}_createDrapedGeometry(e){const t=this._createGeometry(e);return this._updateVerticesDraped(t),new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_14__.RenderGeometry(t)}_createGeometry(e){const t=this.extensionType===V.FADED,r=t?[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)()]:[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)()];return (0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_12__.createPolylineGeometry)(e,r,null,t?[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]:null)}_updateGeometry(){if(this.isDraped)this.drapedResources.recreateGeometry();else{const e=this.object3dResources.object;e&&this._updateVerticesObject3D(e)}}_updateVerticesObject3D(e){const t=this._lineSegment;this._updateVertexAttributesObject3D(e,t),this._laserline.intersectsLine=t}_updateVerticesDraped(e){this._updateVertexAttributesDraped(e,this._lineSegment)}get _lineSegment(){return this._extensionType===V.FADED?this._updateLineSegmentFinite(S):this._updateLineSegmentInfinite(this._extensionType,S)}_updateLineSegmentFinite(e){return (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.fromPoints)(this._start,this._end,e)}_updateLineSegmentInfinite(e,t){const r=this.view.state.camera;switch((0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_5__.fromRay)(this._ray,P),e){case V.LINE:P.c0=-Number.MAX_VALUE;break;case V.RAY:case V.GROUND_RAY:{const e=this._ray.origin,t=this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,"ground")??0,r=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&r<t&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.E)(P.ray.direction,P.ray.direction),this._extensionType===V.GROUND_RAY&&null!=t&&(P.c1=Math.abs(r-t));break}}if(!(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_6__.intersectClipRay)(r.frustum,P))return this._updateLineSegmentFinite(t);const i=(0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_5__.getStart)(P,x),n=(0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_5__.getEnd)(P,v);return (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.fromPoints)(i,n,t)}_updateVertexAttributesObject3D(e,t){const r=e.geometries[0].getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_15__.VertexAttribute.POSITION)?.data;if(!r)return;let s=0;for(const i of this._lineVertices(t))r[s++]=i[0],r[s++]=i[1],r[s++]=i[2];e.geometryVertexAttributeUpdated(e.geometries[0],_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_15__.VertexAttribute.POSITION)}_updateVertexAttributesDraped(e,t){const r=e.getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_15__.VertexAttribute.POSITION)?.data;if(!r)return;let s=0;for(const i of this._lineVertices(t))r[s++]=i[0],r[s++]=i[1],r[s++]=_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_11__.drapedZ;e.invalidateBoundingInfo()}*_lineVertices(e){this.extensionType===V.FADED?(yield (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e,-this.fadedExtensions.start,x),yield (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e,0,x),yield (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e,1,x),yield (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e,1+this.fadedExtensions.end,x)):(yield (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e,0,x),yield (0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.pointAt)(e,1,x))}}const P=(0,_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_5__.create)(),x=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),v=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),S=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__.create)();var V;!function(e){e[e.LINE=0]="LINE",e[e.RAY=1]="RAY",e[e.GROUND_RAY=2]="GROUND_RAY",e[e.FADED=3]="FADED"}(V||(V={}));const M=1/3,T={start:M,end:M};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VisualElementResources: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../webgl-engine/lib/ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3D.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webgl-engine/lib/WebGLLayer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class c{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return null!=this._resources?this._resources.object:null}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view._stage;if(null==this._resources||!e)return;const s=this._resources.object;this._resources.external.forEach((s=>{s.type!==_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Mesh&&s.type!==_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Line&&s.type!==_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Point||e.remove(s)})),s.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,s,this._resources.layer),this._resources.external.forEach((s=>{s.type!==_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Mesh&&s.type!==_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Line&&s.type!==_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Point||e.add(s)}))}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const c=this._resourceFactory,a=c.view,h=a._stage;if(!h)return;const u=new _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_4__.WebGLLayer(h,{pickable:!1,updatePolicy:_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_3__.UpdatePolicy.SYNC}),l=new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_2__.Object3D({castShadow:!1}),n=c.createResources(l,u);n.forEach((e=>{h.add(e),e.type===_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Texture&&e.load(h.renderView.renderingContext)})),h.add(l),u.add(l);const _=c.cameraChanged,y=_?(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__.watch)((()=>a.state.camera),(e=>_(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_0__.initial):null;this._resources={layer:u,object:l,external:n,cameraHandle:y},this._syncVisible()}_destroyResources(){if(null==this._resources)return;const e=this._resourceFactory.view._stage;e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this._resources.external.forEach((s=>{e.remove(s),s.type===_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_1__.ContentObjectType.Texture&&s.unload()}))),this._resources.object.dispose(),this._resources.cameraHandle?.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncVisible(){null!=this._resources&&(this._resources.object.visible=this._visible)}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfaW50ZXJhY3RpdmVfdmlzdWFsRWxlbWVudHNfRXh0ZW5kZWRMaW5lVmlzdWFsRWxlbWVudF9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkJBQTJCLGNBQWMsNEJBQTRCLGlEQUFpRCxvQkFBb0IsNEJBQTRCLHFDQUFxQyxnQkFBZ0IsK0JBQStCLGFBQWEsV0FBVyxhQUFhLGtCQUFrQixhQUFhLGtCQUFrQixhQUFhLGtCQUFrQixhQUFhLGtCQUFrQixhQUFhLGtCQUFrQixpRkFBaUYsNEpBQTRKLHFCQUFxQixlQUFlLEdBQXdIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0puMEI7QUFDQTtBQUNBO0FBQ0E7QUFDOHFCLFFBQVEsZUFBZSxrR0FBa0csb0VBQUMsU0FBUyxVQUFVLHlCQUF5QixnQkFBZ0IsMkRBQTJELGNBQWMscUJBQXFCLGVBQWUsc0VBQXNFLGVBQWUsc0JBQXNCLGdCQUFnQix3RUFBd0Usa0JBQWtCLHlCQUF5QixtQkFBbUIsb0JBQW9CLG1DQUFtQyxxQkFBcUIsV0FBVyx1Q0FBdUMsbUJBQW1CLHdOQUF3Tiw0QkFBNEIsdUZBQXVGLG1CQUFtQix5QkFBeUIseURBQXlELDhEQUE4RCw4REFBOEQsaUJBQWlCLGlCQUFpQiw4REFBOEQsZ0NBQWdDLDRHQUE0RyxvQkFBb0IsZ0NBQWdDLHNDQUFzQyxrRUFBa0UsNElBQTRJLDRCQUE0Qix3RkFBd0YsaUNBQWlDLHFEQUFxRCwyQ0FBMkMseUZBQXlGLGdGQUFDLDRDQUE0QywrQkFBK0IscURBQXFELDBDQUEwQyxzRkFBc0YsZ0ZBQUMsNkNBQTZDLG9CQUFvQix3RUFBQyxDQUFDLHlEQUFDLEdBQUcsZUFBZSw4QkFBOEIsa0VBQUMsNEJBQTRCLDRFQUFDLHVCQUF1QixvRUFBQyxXQUFXLHVEQUFDLEVBQUUsc0ZBQUMs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LDJHQUEyRyxxQkFBcUIscUZBQUMscUJBQXFCLGtLQUFrSyxlQUFlLHVFQUEyRyIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy92ZWM0ZjMyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2ludGVyYWN0aXZlL3Zpc3VhbEVsZW1lbnRzL0RyYXBlZFZpc3VhbEVsZW1lbnRSZXNvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvaW50ZXJhY3RpdmUvdmlzdWFsRWxlbWVudHMvRW5naW5lVmlzdWFsRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9pbnRlcmFjdGl2ZS92aXN1YWxFbGVtZW50cy9FeHRlbmRlZExpbmVWaXN1YWxFbGVtZW50LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2ludGVyYWN0aXZlL3Zpc3VhbEVsZW1lbnRzL1Zpc3VhbEVsZW1lbnRSZXNvdXJjZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG4oKXtyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSg0KX1mdW5jdGlvbiB0KG4pe2NvbnN0IHQ9bmV3IEZsb2F0MzJBcnJheSg0KTtyZXR1cm4gdFswXT1uWzBdLHRbMV09blsxXSx0WzJdPW5bMl0sdFszXT1uWzNdLHR9ZnVuY3Rpb24gcihuLHQscixlKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoNCk7cmV0dXJuIGFbMF09bixhWzFdPXQsYVsyXT1yLGFbM109ZSxhfWZ1bmN0aW9uIGUobix0KXtyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShuLHQsNCl9ZnVuY3Rpb24gYSgpe3JldHVybiBuKCl9ZnVuY3Rpb24gbygpe3JldHVybiByKDEsMSwxLDEpfWZ1bmN0aW9uIHUoKXtyZXR1cm4gcigxLDAsMCwwKX1mdW5jdGlvbiBzKCl7cmV0dXJuIHIoMCwxLDAsMCl9ZnVuY3Rpb24gYygpe3JldHVybiByKDAsMCwxLDApfWZ1bmN0aW9uIGkoKXtyZXR1cm4gcigwLDAsMCwxKX1jb25zdCBmPWEoKSxsPW8oKSxfPXUoKSx5PXMoKSx3PWMoKSxOPWkoKSxPPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxPTkVTOmwsVU5JVF9XOk4sVU5JVF9YOl8sVU5JVF9ZOnksVU5JVF9aOncsWkVST1M6ZixjbG9uZTp0LGNyZWF0ZTpuLGNyZWF0ZVZpZXc6ZSxmcm9tVmFsdWVzOnIsb25lczpvLHVuaXRXOmksdW5pdFg6dSx1bml0WTpzLHVuaXRaOmMsemVyb3M6YX0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHtsIGFzIE8sXyBhcyBVLGYgYXMgWixuIGFzIGEsZSBhcyBiLHQgYXMgYyxzIGFzIGQsYyBhcyBlLHIgYXMgZixpIGFzIGcseSBhcyBoLHcgYXMgaSxOIGFzIGosbyx1LE8gYXMgdixhIGFzIHp9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7SWRlbnRpZmlhYmxlTWl4aW4gYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0lkZW50aWZpYWJsZS5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e0RyYXBlU291cmNlVHlwZSBhcyBpLERyYXBlZFJlbmRlckdyb3VwIGFzIGN9ZnJvbVwiLi4vLi4vbGF5ZXJzL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7RGlydHlPcGVyYXRpb24gYXMgdX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL01vZGVsRGlydHlUeXBlcy5qc1wiO2ltcG9ydHtVcGRhdGVQb2xpY3kgYXMgYX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL1VwZGF0ZVBvbGljeS5qc1wiO2NsYXNzIG57Y29uc3RydWN0b3IoZSl7dGhpcy5fcmVzb3VyY2VGYWN0b3J5PWUsdGhpcy5fcmVzb3VyY2VzPW51bGwsdGhpcy5fdmlzaWJsZT0hMCx0aGlzLl9hdHRhY2hlZD0hMSx0aGlzLl9yZW5kZXJHcm91cD1jLk91dGxpbmV9ZGVzdHJveSgpe3RoaXMuX2Rlc3Ryb3lSZXNvdXJjZXMoKX1nZXQgcmVzb3VyY2VzKCl7cmV0dXJuIG51bGwhPXRoaXMuX3Jlc291cmNlcz90aGlzLl9yZXNvdXJjZXMuZXh0ZXJuYWw6bnVsbH1nZXQgdmlzaWJsZSgpe3JldHVybiB0aGlzLl92aXNpYmxlfXNldCB2aXNpYmxlKGUpe2UhPT10aGlzLl92aXNpYmxlJiYodGhpcy5fdmlzaWJsZT1lLHRoaXMuX3N5bmNHZW9tZXRyaWVzVG9SZW5kZXJlcigpKX1nZXQgYXR0YWNoZWQoKXtyZXR1cm4gdGhpcy5fYXR0YWNoZWR9c2V0IGF0dGFjaGVkKGUpe2UhPT10aGlzLl9hdHRhY2hlZCYmKHRoaXMuX2F0dGFjaGVkPWUsdGhpcy5fY3JlYXRlT3JEZXN0cm95UmVzb3VyY2VzKCkpfWdldCByZW5kZXJHcm91cCgpe3JldHVybiB0aGlzLl9yZW5kZXJHcm91cH1zZXQgcmVuZGVyR3JvdXAoZSl7dGhpcy5fcmVuZGVyR3JvdXA9ZTtjb25zdCByPXRoaXMuX3Jlc291cmNlcz8ubGF5ZXJWaWV3O3ImJihyLnJlbmRlckdyb3VwPWUpfXJlY3JlYXRlKCl7dGhpcy5hdHRhY2hlZCYmdGhpcy5fY3JlYXRlUmVzb3VyY2VzKCl9cmVjcmVhdGVHZW9tZXRyeSgpe3RoaXMuX3Jlc291cmNlRmFjdG9yeS5yZWNyZWF0ZUdlb21ldHJ5P251bGwhPXRoaXMuX3Jlc291cmNlcyYmKHRoaXMuX2Vuc3VyZVJlbmRlckdlb21ldHJpZXNSZW1vdmVkKCksdGhpcy5fcmVzb3VyY2VGYWN0b3J5LnJlY3JlYXRlR2VvbWV0cnkodGhpcy5fcmVzb3VyY2VzLmV4dGVybmFsKSx0aGlzLl9zeW5jR2VvbWV0cmllc1RvUmVuZGVyZXIoKSk6dGhpcy5yZWNyZWF0ZSgpfV9jcmVhdGVPckRlc3Ryb3lSZXNvdXJjZXMoKXt0aGlzLl9hdHRhY2hlZD9udWxsPT10aGlzLl9yZXNvdXJjZXMmJnRoaXMuX2NyZWF0ZVJlc291cmNlcygpOnRoaXMuX2Rlc3Ryb3lSZXNvdXJjZXMoKX1fY3JlYXRlUmVzb3VyY2VzKCl7dGhpcy5fZGVzdHJveVJlc291cmNlcygpO2NvbnN0IGU9dGhpcy5fcmVzb3VyY2VGYWN0b3J5LmNyZWF0ZVJlc291cmNlcygpLHI9bmV3IGQoe3ZpZXc6dGhpcy5fcmVzb3VyY2VGYWN0b3J5LnZpZXcscmVuZGVyR3JvdXA6dGhpcy5fcmVuZGVyR3JvdXB9KSxzPXRoaXMuX3Jlc291cmNlRmFjdG9yeS52aWV3LmJhc2VtYXBUZXJyYWluPy5vdmVybGF5TWFuYWdlcjt0aGlzLl9yZXNvdXJjZXM9e2xheWVyVmlldzpuZXcgZCh7dmlldzp0aGlzLl9yZXNvdXJjZUZhY3RvcnkudmlldyxyZW5kZXJHcm91cDp0aGlzLl9yZW5kZXJHcm91cH0pLGV4dGVybmFsOmUsZ2VvbWV0cmllc0FkZGVkOiExfSxzJiYodGhpcy5fcmVzb3VyY2VzLmRyYXBlU291cmNlUmVuZGVyZXI9cy5yZWdpc3Rlckdlb21ldHJ5RHJhcGVTb3VyY2UocikpLHRoaXMuX3N5bmNHZW9tZXRyaWVzVG9SZW5kZXJlcigpfV9kZXN0cm95UmVzb3VyY2VzKCl7aWYobnVsbD09dGhpcy5fcmVzb3VyY2VzKXJldHVybjt0aGlzLl9lbnN1cmVSZW5kZXJHZW9tZXRyaWVzUmVtb3ZlZCgpO2NvbnN0IGU9dGhpcy5fcmVzb3VyY2VGYWN0b3J5LnZpZXcuYmFzZW1hcFRlcnJhaW4/Lm92ZXJsYXlNYW5hZ2VyO2UmJmUudW5yZWdpc3RlckRyYXBlU291cmNlKHRoaXMuX3Jlc291cmNlcy5sYXllclZpZXcpLHRoaXMuX3Jlc291cmNlRmFjdG9yeS5kZXN0cm95UmVzb3VyY2VzKHRoaXMuX3Jlc291cmNlcy5leHRlcm5hbCksdGhpcy5fcmVzb3VyY2VzPW51bGx9X3N5bmNHZW9tZXRyaWVzVG9SZW5kZXJlcigpe3RoaXMuX3Zpc2libGU/dGhpcy5fZW5zdXJlUmVuZGVyR2VvbWV0cmllc0FkZGVkKCk6dGhpcy5fZW5zdXJlUmVuZGVyR2VvbWV0cmllc1JlbW92ZWQoKX1fZW5zdXJlUmVuZGVyR2VvbWV0cmllc1JlbW92ZWQoKXtpZihudWxsPT10aGlzLl9yZXNvdXJjZXM/LmRyYXBlU291cmNlUmVuZGVyZXIpcmV0dXJuO2lmKCF0aGlzLl9yZXNvdXJjZXMuZ2VvbWV0cmllc0FkZGVkKXJldHVybjt0aGlzLl9yZXNvdXJjZXMuZHJhcGVTb3VyY2VSZW5kZXJlci5yZW1vdmVHZW9tZXRyaWVzKHRoaXMuX3Jlc291cmNlcy5leHRlcm5hbC5nZW9tZXRyaWVzLHUuVVBEQVRFKSx0aGlzLl9yZXNvdXJjZXMuZ2VvbWV0cmllc0FkZGVkPSExfV9lbnN1cmVSZW5kZXJHZW9tZXRyaWVzQWRkZWQoKXtpZihudWxsPT10aGlzLl9yZXNvdXJjZXM/LmRyYXBlU291cmNlUmVuZGVyZXIpcmV0dXJuO2lmKHRoaXMuX3Jlc291cmNlcy5nZW9tZXRyaWVzQWRkZWQpcmV0dXJuO3RoaXMuX3Jlc291cmNlcy5kcmFwZVNvdXJjZVJlbmRlcmVyLmFkZEdlb21ldHJpZXModGhpcy5fcmVzb3VyY2VzLmV4dGVybmFsLmdlb21ldHJpZXMsdS5VUERBVEUpLHRoaXMuX3Jlc291cmNlcy5nZW9tZXRyaWVzQWRkZWQ9ITB9fWxldCBkPWNsYXNzIGV4dGVuZHMocyhyKSl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5kcmFwZVNvdXJjZVR5cGU9aS5GZWF0dXJlcyx0aGlzLnVwZGF0ZVBvbGljeT1hLlNZTkMsdGhpcy5yZW5kZXJHcm91cD1jLk91dGxpbmV9fTtlKFt0KHtjb25zdHJ1Y3RPbmx5OiEwfSldLGQucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbdCh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJkcmFwZVNvdXJjZVR5cGVcIix2b2lkIDApLGUoW3QoKV0sZC5wcm90b3R5cGUsXCJyZW5kZXJHcm91cFwiLHZvaWQgMCksZD1lKFtvKFwiRHJhcGVkVmlzdWFsRWxlbWVudExheWVyVmlld1wiKV0sZCk7ZXhwb3J0e24gYXMgRHJhcGVkVmlzdWFsRWxlbWVudFJlc291cmNlc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0RyYXBlZFZpc3VhbEVsZW1lbnRSZXNvdXJjZXMgYXMgZX1mcm9tXCIuL0RyYXBlZFZpc3VhbEVsZW1lbnRSZXNvdXJjZXMuanNcIjtpbXBvcnR7VmlzdWFsRWxlbWVudCBhcyBzfWZyb21cIi4vVmlzdWFsRWxlbWVudC5qc1wiO2ltcG9ydHtWaXN1YWxFbGVtZW50UmVzb3VyY2VzIGFzIHJ9ZnJvbVwiLi9WaXN1YWxFbGVtZW50UmVzb3VyY2VzLmpzXCI7Y2xhc3MgdCBleHRlbmRzIHN7Y29uc3RydWN0b3Iocyl7c3VwZXIocyksdGhpcy5faXNEcmFwZWQ9ITEsdGhpcy5vYmplY3QzZFJlc291cmNlcz1uZXcgcih0aGlzLmNyZWF0ZU9iamVjdDNEUmVzb3VyY2VGYWN0b3J5KHMudmlldykpLHRoaXMuZHJhcGVkUmVzb3VyY2VzPW5ldyBlKHRoaXMuY3JlYXRlRHJhcGVkUmVzb3VyY2VGYWN0b3J5KHMudmlldykpLHRoaXMuaXNEcmFwZWQ9cy5pc0RyYXBlZD8/ITF9Z2V0IGlzRHJhcGVkKCl7cmV0dXJuIHRoaXMuX2lzRHJhcGVkfXNldCBpc0RyYXBlZChlKXtlIT09dGhpcy5faXNEcmFwZWQmJih0aGlzLl9pc0RyYXBlZD1lLHRoaXMub2JqZWN0M2RSZXNvdXJjZXMuYXR0YWNoZWQ9dGhpcy5hdHRhY2hlZCYmIWUsdGhpcy5kcmFwZWRSZXNvdXJjZXMuYXR0YWNoZWQ9dGhpcy5hdHRhY2hlZCYmZSl9Z2V0IHJlbmRlckdyb3VwKCl7cmV0dXJuIHRoaXMuZHJhcGVkUmVzb3VyY2VzLnJlbmRlckdyb3VwfXNldCByZW5kZXJHcm91cChlKXt0aGlzLmRyYXBlZFJlc291cmNlcy5yZW5kZXJHcm91cD1lfWNyZWF0ZVJlc291cmNlcygpe3RoaXMub2JqZWN0M2RSZXNvdXJjZXMuYXR0YWNoZWQ9IXRoaXMuX2lzRHJhcGVkLHRoaXMuZHJhcGVkUmVzb3VyY2VzLmF0dGFjaGVkPXRoaXMuX2lzRHJhcGVkfWRlc3Ryb3lSZXNvdXJjZXMoKXt0aGlzLm9iamVjdDNkUmVzb3VyY2VzLmF0dGFjaGVkPSExLHRoaXMuZHJhcGVkUmVzb3VyY2VzLmF0dGFjaGVkPSExfXJlY3JlYXRlKCl7dGhpcy5vYmplY3QzZFJlc291cmNlcy5yZWNyZWF0ZSgpLHRoaXMuZHJhcGVkUmVzb3VyY2VzLnJlY3JlYXRlKCl9cmVjcmVhdGVHZW9tZXRyeSgpe3RoaXMub2JqZWN0M2RSZXNvdXJjZXMucmVjcmVhdGVHZW9tZXRyeSgpLHRoaXMuZHJhcGVkUmVzb3VyY2VzLnJlY3JlYXRlR2VvbWV0cnkoKX1kZXN0cm95KCl7dGhpcy5vYmplY3QzZFJlc291cmNlcy5kZXN0cm95KCksdGhpcy5kcmFwZWRSZXNvdXJjZXMuZGVzdHJveSgpLHN1cGVyLmRlc3Ryb3koKX11cGRhdGVWaXNpYmlsaXR5KGUpe3RoaXMub2JqZWN0M2RSZXNvdXJjZXMudmlzaWJsZT1lLHRoaXMuZHJhcGVkUmVzb3VyY2VzLnZpc2libGU9ZX19ZXhwb3J0e3QgYXMgRW5naW5lVmlzdWFsRWxlbWVudH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtjIGFzIGUsZiBhcyB0LGggYXMgcixFIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7YyBhcyBpLGYgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjM2Y2NC5qc1wiO2ltcG9ydHtoIGFzIGEsYyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWM0LmpzXCI7aW1wb3J0e2YgYXMgbCxjIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzRmMzIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGQsZnJvbVJheSBhcyBfLGdldFN0YXJ0IGFzIGMsZ2V0RW5kIGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9jbGlwUmF5LmpzXCI7aW1wb3J0e2ludGVyc2VjdENsaXBSYXkgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2ZydXN0dW0uanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGYsZnJvbVBvaW50cyBhcyBtLHBvaW50QXQgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2xpbmVTZWdtZW50LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBnLGZyb21Qb2ludHMgYXMgRH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3JheS5qc1wiO2ltcG9ydHtFbmdpbmVWaXN1YWxFbGVtZW50IGFzIGJ9ZnJvbVwiLi9FbmdpbmVWaXN1YWxFbGVtZW50LmpzXCI7aW1wb3J0e0xhc2VybGluZVZpc3VhbEVsZW1lbnQgYXMgT31mcm9tXCIuL0xhc2VybGluZVZpc3VhbEVsZW1lbnQuanNcIjtpbXBvcnR7ZHJhcGVkWiBhcyB3fWZyb21cIi4uLy4uL3RlcnJhaW4vT3ZlcmxheVJlbmRlcmVyLmpzXCI7aW1wb3J0e2NyZWF0ZVBvbHlsaW5lR2VvbWV0cnkgYXMgRX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0dlb21ldHJ5VXRpbC5qc1wiO2ltcG9ydHtSZW5kZXJPY2NsdWRlZEZsYWcgYXMgUn1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL01hdGVyaWFsLmpzXCI7aW1wb3J0e1JlbmRlckdlb21ldHJ5IGFzIEF9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9SZW5kZXJHZW9tZXRyeS5qc1wiO2ltcG9ydHtWZXJ0ZXhBdHRyaWJ1dGUgYXMgan1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2ltcG9ydHtSaWJib25MaW5lTWF0ZXJpYWwgYXMgQ31mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbWF0ZXJpYWxzL1JpYmJvbkxpbmVNYXRlcmlhbC5qc1wiO2NsYXNzIEcgZXh0ZW5kcyBie2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3JheT1nKCksdGhpcy5faXNXb3JsZERvd249ITEsdGhpcy5fc3RhcnQ9aSgpLHRoaXMuX2VuZD1uKDEsMCwwKSx0aGlzLl93aWR0aD0xLHRoaXMuX2NvbG9yPWwoMSwwLDEsMSksdGhpcy5fcG9seWdvbk9mZnNldD0hMSx0aGlzLl93cml0ZURlcHRoRW5hYmxlZD0hMCx0aGlzLl9pbm5lcldpZHRoPTAsdGhpcy5faW5uZXJDb2xvcj1sKDEsMSwxLDEpLHRoaXMuX3N0aXBwbGVQYXR0ZXJuPW51bGwsdGhpcy5fc3RpcHBsZU9mZkNvbG9yPW51bGwsdGhpcy5fc3RpcHBsZVByZWZlckNvbnRpbnVvdXM9ITAsdGhpcy5fZmFsbG9mZj0wLHRoaXMuX2V4dGVuc2lvblR5cGU9Vi5MSU5FLHRoaXMuX2xhc2VybGluZVN0eWxlPW51bGwsdGhpcy5fbGFzZXJsaW5lRW5hYmxlZD0hMSx0aGlzLl9yZW5kZXJPY2NsdWRlZD1SLk9jY2x1ZGVBbmRUcmFuc3BhcmVudCx0aGlzLl9mYWRlZEV4dGVuc2lvbnM9VCx0aGlzLl9sYXNlcmxpbmU9bmV3IE8oe3ZpZXc6dGhpcy52aWV3LGlzRGVjb3JhdGlvbjplLmlzRGVjb3JhdGlvbn0pLHRoaXMuYXBwbHlQcm9wZXJ0aWVzKGUpfWRlc3Ryb3koKXt0aGlzLl9sYXNlcmxpbmUuZGVzdHJveSgpLHN1cGVyLmRlc3Ryb3koKX1jcmVhdGVPYmplY3QzRFJlc291cmNlRmFjdG9yeShlKXtyZXR1cm57dmlldzplLGNyZWF0ZVJlc291cmNlczplPT50aGlzLl9jcmVhdGVPYmplY3QzRFJlc291cmNlcyhlKSxkZXN0cm95UmVzb3VyY2VzOmU9PnRoaXMuX2Rlc3Ryb3lFeHRlcm5hbFJlc291cmNlcyhlKSxyZWNyZWF0ZUdlb21ldHJ5OihlLHQpPT50aGlzLl9yZWNyZWF0ZU9iamVjdDNER2VvbWV0cnkoZSx0KSxjYW1lcmFDaGFuZ2VkOigpPT50aGlzLl91cGRhdGVHZW9tZXRyeSgpfX1jcmVhdGVEcmFwZWRSZXNvdXJjZUZhY3RvcnkoZSl7cmV0dXJue3ZpZXc6ZSxjcmVhdGVSZXNvdXJjZXM6KCk9PnRoaXMuX2NyZWF0ZURyYXBlZFJlc291cmNlcygpLGRlc3Ryb3lSZXNvdXJjZXM6ZT0+dGhpcy5fZGVzdHJveUV4dGVybmFsUmVzb3VyY2VzKGUpLHJlY3JlYXRlR2VvbWV0cnk6ZT0+dGhpcy5fcmVjcmVhdGVEcmFwZWRHZW9tZXRyeShlKX19dXBkYXRlVmlzaWJpbGl0eShlKXtzdXBlci51cGRhdGVWaXNpYmlsaXR5KGUpLHRoaXMuX2xhc2VybGluZS52aXNpYmxlPWV9b25BdHRhY2hlZENoYW5nZSgpe3RoaXMuX2xhc2VybGluZS5hdHRhY2hlZD10aGlzLl9sYXNlcmxpbmVBdHRhY2hlZH1zZXRTdGFydEVuZEZyb21Xb3JsZERvd25BdExvY2F0aW9uKHIpe3RoaXMuX2lzV29ybGREb3duPSEwLGUodGhpcy5fc3RhcnQsciksdGhpcy52aWV3LnJlbmRlckNvb3Jkc0hlbHBlci53b3JsZFVwQXRQb3NpdGlvbihyLHRoaXMuX2VuZCksdCh0aGlzLl9lbmQscix0aGlzLl9lbmQpLEQodGhpcy5fc3RhcnQsdGhpcy5fZW5kLHRoaXMuX3JheSksdGhpcy5fdXBkYXRlR2VvbWV0cnkoKX1nZXQgc3RhcnQoKXtyZXR1cm4gdGhpcy5fc3RhcnR9c2V0IHN0YXJ0KHQpe3RoaXMuX2lzV29ybGREb3duPSExLHIodGhpcy5fc3RhcnQsdCl8fChlKHRoaXMuX3N0YXJ0LHQpLEQodGhpcy5fc3RhcnQsdGhpcy5fZW5kLHRoaXMuX3JheSksdGhpcy5fdXBkYXRlR2VvbWV0cnkoKSl9Z2V0IGVuZCgpe3JldHVybiB0aGlzLl9lbmR9c2V0IGVuZCh0KXt0aGlzLl9pc1dvcmxkRG93bj0hMSxyKHRoaXMuX2VuZCx0KXx8KGUodGhpcy5fZW5kLHQpLEQodGhpcy5fc3RhcnQsdGhpcy5fZW5kLHRoaXMuX3JheSksdGhpcy5fdXBkYXRlR2VvbWV0cnkoKSl9Z2V0IHdpZHRoKCl7cmV0dXJuIHRoaXMuX3dpZHRofXNldCB3aWR0aChlKXtlIT09dGhpcy5fd2lkdGgmJih0aGlzLl93aWR0aD1lLHRoaXMuX3VwZGF0ZU1hdGVyaWFsKCkpfWdldCBjb2xvcigpe3JldHVybiB0aGlzLl9jb2xvcn1zZXQgY29sb3IoZSl7YShlLHRoaXMuX2NvbG9yKXx8KG8odGhpcy5fY29sb3IsZSksdGhpcy5fdXBkYXRlTWF0ZXJpYWwoKSl9Z2V0IHBvbHlnb25PZmZzZXQoKXtyZXR1cm4gdGhpcy5fcG9seWdvbk9mZnNldH1zZXQgcG9seWdvbk9mZnNldChlKXtlIT09dGhpcy5fcG9seWdvbk9mZnNldCYmKHRoaXMuX3BvbHlnb25PZmZzZXQ9ZSx0aGlzLl91cGRhdGVNYXRlcmlhbCgpKX1nZXQgd3JpdGVEZXB0aEVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fd3JpdGVEZXB0aEVuYWJsZWR9c2V0IHdyaXRlRGVwdGhFbmFibGVkKGUpe3RoaXMuX3dyaXRlRGVwdGhFbmFibGVkIT09ZSYmKHRoaXMuX3dyaXRlRGVwdGhFbmFibGVkPWUsdGhpcy5fdXBkYXRlTWF0ZXJpYWwoKSl9Z2V0IGlubmVyV2lkdGgoKXtyZXR1cm4gdGhpcy5faW5uZXJXaWR0aH1zZXQgaW5uZXJXaWR0aChlKXtlIT09dGhpcy5faW5uZXJXaWR0aCYmKHRoaXMuX2lubmVyV2lkdGg9ZSx0aGlzLl91cGRhdGVNYXRlcmlhbCgpKX1nZXQgaW5uZXJDb2xvcigpe3JldHVybiB0aGlzLl9pbm5lckNvbG9yfXNldCBpbm5lckNvbG9yKGUpe2EoZSx0aGlzLl9pbm5lckNvbG9yKXx8KG8odGhpcy5faW5uZXJDb2xvcixlKSx0aGlzLl91cGRhdGVNYXRlcmlhbCgpKX1nZXQgc3RpcHBsZVBhdHRlcm4oKXtyZXR1cm4gdGhpcy5fc3RpcHBsZVBhdHRlcm59c2V0IHN0aXBwbGVQYXR0ZXJuKGUpe2NvbnN0IHQ9bnVsbCE9ZSE9KG51bGwhPXRoaXMuX3N0aXBwbGVQYXR0ZXJuKTt0aGlzLl9zdGlwcGxlUGF0dGVybj1lLHQ/dGhpcy5yZWNyZWF0ZSgpOnRoaXMuX3VwZGF0ZU1hdGVyaWFsKCl9Z2V0IHN0aXBwbGVPZmZDb2xvcigpe3JldHVybiB0aGlzLl9zdGlwcGxlT2ZmQ29sb3J9c2V0IHN0aXBwbGVPZmZDb2xvcihlKXtudWxsIT1lJiZudWxsIT10aGlzLl9zdGlwcGxlT2ZmQ29sb3ImJmEoZSx0aGlzLl9zdGlwcGxlT2ZmQ29sb3IpfHwodGhpcy5fc3RpcHBsZU9mZkNvbG9yPW51bGwhPWU/aChlKTpudWxsLHRoaXMuX3VwZGF0ZU1hdGVyaWFsKCkpfWdldCBzdGlwcGxlUHJlZmVyQ29udGludW91cygpe3JldHVybiB0aGlzLl9zdGlwcGxlUHJlZmVyQ29udGludW91c31zZXQgc3RpcHBsZVByZWZlckNvbnRpbnVvdXMoZSl7ZSE9PXRoaXMuX3N0aXBwbGVQcmVmZXJDb250aW51b3VzJiYodGhpcy5fc3RpcHBsZVByZWZlckNvbnRpbnVvdXM9ZSx0aGlzLl91cGRhdGVNYXRlcmlhbCgpKX1nZXQgZmFsbG9mZigpe3JldHVybiB0aGlzLl9mYWxsb2ZmfXNldCBmYWxsb2ZmKGUpe2UhPT10aGlzLl9mYWxsb2ZmJiYodGhpcy5fZmFsbG9mZj1lLHRoaXMuX3VwZGF0ZU1hdGVyaWFsKCkpfWdldCBleHRlbnNpb25UeXBlKCl7cmV0dXJuIHRoaXMuX2V4dGVuc2lvblR5cGV9c2V0IGV4dGVuc2lvblR5cGUoZSl7ZSE9PXRoaXMuX2V4dGVuc2lvblR5cGUmJih0aGlzLl9leHRlbnNpb25UeXBlPWUsdGhpcy5yZWNyZWF0ZUdlb21ldHJ5KCkpfWdldCBfbGFzZXJsaW5lQXR0YWNoZWQoKXtyZXR1cm4gdGhpcy5fbGFzZXJsaW5lRW5hYmxlZCYmbnVsbCE9dGhpcy5fbGFzZXJsaW5lU3R5bGUmJnRoaXMuYXR0YWNoZWQmJiF0aGlzLmlzRHJhcGVkfWdldCBsYXNlcmxpbmVTdHlsZSgpe3JldHVybiB0aGlzLl9sYXNlcmxpbmVTdHlsZX1zZXQgbGFzZXJsaW5lU3R5bGUoZSl7dGhpcy5fbGFzZXJsaW5lU3R5bGU9ZSx0aGlzLl9sYXNlcmxpbmUuYXR0YWNoZWQ9dGhpcy5fbGFzZXJsaW5lQXR0YWNoZWQsbnVsbCE9ZSYmKHRoaXMuX2xhc2VybGluZS5zdHlsZT1lKX1nZXQgbGFzZXJsaW5lRW5hYmxlZCgpe3JldHVybiB0aGlzLl9sYXNlcmxpbmVFbmFibGVkfXNldCBsYXNlcmxpbmVFbmFibGVkKGUpe3RoaXMuX2xhc2VybGluZUVuYWJsZWQhPT1lJiYodGhpcy5fbGFzZXJsaW5lRW5hYmxlZD1lLHRoaXMuX2xhc2VybGluZS5hdHRhY2hlZD10aGlzLl9sYXNlcmxpbmVBdHRhY2hlZCl9Z2V0IHJlbmRlck9jY2x1ZGVkKCl7cmV0dXJuIHRoaXMuX3JlbmRlck9jY2x1ZGVkfXNldCByZW5kZXJPY2NsdWRlZChlKXtlIT09dGhpcy5fcmVuZGVyT2NjbHVkZWQmJih0aGlzLl9yZW5kZXJPY2NsdWRlZD1lLHRoaXMuX3VwZGF0ZU1hdGVyaWFsKCkpfWdldCBfbm9ybWFsaXplZFJlbmRlck9jY2x1ZGVkKCl7cmV0dXJuIHRoaXMuaXNEcmFwZWQmJnRoaXMuX3JlbmRlck9jY2x1ZGVkPT09Ui5PY2NsdWRlQW5kVHJhbnNwYXJlbnRTdGVuY2lsP1IuT2NjbHVkZUFuZFRyYW5zcGFyZW50OnRoaXMuX3JlbmRlck9jY2x1ZGVkfWdldCBmYWRlZEV4dGVuc2lvbnMoKXtyZXR1cm4gdGhpcy5fZmFkZWRFeHRlbnNpb25zfXNldCBmYWRlZEV4dGVuc2lvbnMoZSl7dGhpcy5fZmFkZWRFeHRlbnNpb25zPWU/P1QsdGhpcy5yZWNyZWF0ZUdlb21ldHJ5KCl9X3VwZGF0ZU1hdGVyaWFsKCl7Y29uc3R7bWF0ZXJpYWxQYXJhbWV0ZXJzOmV9PXRoaXM7dGhpcy5vYmplY3QzZFJlc291cmNlcy5yZXNvdXJjZXM/Lm1hdGVyaWFsLnNldFBhcmFtZXRlcnMoZSksdGhpcy5kcmFwZWRSZXNvdXJjZXMucmVzb3VyY2VzPy5tYXRlcmlhbC5zZXRQYXJhbWV0ZXJzKGUpfWdldCBtYXRlcmlhbFBhcmFtZXRlcnMoKXtyZXR1cm57d2lkdGg6dGhpcy5fd2lkdGgsY29sb3I6dGhpcy5fY29sb3Isc3RpcHBsZU9mZkNvbG9yOnRoaXMuX3N0aXBwbGVPZmZDb2xvcixzdGlwcGxlUGF0dGVybjp0aGlzLl9zdGlwcGxlUGF0dGVybixzdGlwcGxlUHJlZmVyQ29udGludW91czp0aGlzLl9zdGlwcGxlUHJlZmVyQ29udGludW91cyxpbm5lcldpZHRoOnRoaXMuX2lubmVyV2lkdGgsaW5uZXJDb2xvcjp0aGlzLl9pbm5lckNvbG9yLGZhbGxvZmY6dGhpcy5fZmFsbG9mZixoYXNQb2x5Z29uT2Zmc2V0OnRoaXMuX3BvbHlnb25PZmZzZXQscmVuZGVyT2NjbHVkZWQ6dGhpcy5fbm9ybWFsaXplZFJlbmRlck9jY2x1ZGVkLGlzRGVjb3JhdGlvbjp0aGlzLmlzRGVjb3JhdGlvbix3cml0ZURlcHRoOnRoaXMuX3dyaXRlRGVwdGhFbmFibGVkfX1fY3JlYXRlT2JqZWN0M0RSZXNvdXJjZXMoZSl7Y29uc3QgdD1uZXcgQyh0aGlzLm1hdGVyaWFsUGFyYW1ldGVycykscj1uZXcgQXJyYXk7cmV0dXJuIHRoaXMuX2NyZWF0ZU9iamVjdDNER2VvbWV0cnkodCxlLHIpLHttYXRlcmlhbDp0LGdlb21ldHJpZXM6cixmb3JFYWNoOmU9PntlKHQpLHIuZm9yRWFjaChlKX19fV9kZXN0cm95RXh0ZXJuYWxSZXNvdXJjZXMoZSl7ZS5nZW9tZXRyaWVzPVtdfV9yZWNyZWF0ZU9iamVjdDNER2VvbWV0cnkoZSx0KXtlLmdlb21ldHJpZXMubGVuZ3RoPTAsdGhpcy5fY3JlYXRlT2JqZWN0M0RHZW9tZXRyeShlLm1hdGVyaWFsLHQsZS5nZW9tZXRyaWVzKX1fY3JlYXRlT2JqZWN0M0RHZW9tZXRyeShlLHQscil7Y29uc3Qgcz10aGlzLl9jcmVhdGVHZW9tZXRyeShlKTtyLnB1c2gocyksdC5hZGRHZW9tZXRyeShzKSx0aGlzLl91cGRhdGVWZXJ0aWNlc09iamVjdDNEKHQpfV9jcmVhdGVEcmFwZWRSZXNvdXJjZXMoKXtjb25zdCBlPW5ldyBDKHRoaXMubWF0ZXJpYWxQYXJhbWV0ZXJzKTtyZXR1cm57bWF0ZXJpYWw6ZSxnZW9tZXRyaWVzOlt0aGlzLl9jcmVhdGVEcmFwZWRHZW9tZXRyeShlKV19fV9yZWNyZWF0ZURyYXBlZEdlb21ldHJ5KGUpe2UuZ2VvbWV0cmllcz1bdGhpcy5fY3JlYXRlRHJhcGVkR2VvbWV0cnkoZS5tYXRlcmlhbCldfV9jcmVhdGVEcmFwZWRHZW9tZXRyeShlKXtjb25zdCB0PXRoaXMuX2NyZWF0ZUdlb21ldHJ5KGUpO3JldHVybiB0aGlzLl91cGRhdGVWZXJ0aWNlc0RyYXBlZCh0KSxuZXcgQSh0KX1fY3JlYXRlR2VvbWV0cnkoZSl7Y29uc3QgdD10aGlzLmV4dGVuc2lvblR5cGU9PT1WLkZBREVELHI9dD9baSgpLGkoKSxpKCksaSgpXTpbaSgpLGkoKV07cmV0dXJuIEUoZSxyLG51bGwsdD9bMSwxLDEsMCwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMF06bnVsbCl9X3VwZGF0ZUdlb21ldHJ5KCl7aWYodGhpcy5pc0RyYXBlZCl0aGlzLmRyYXBlZFJlc291cmNlcy5yZWNyZWF0ZUdlb21ldHJ5KCk7ZWxzZXtjb25zdCBlPXRoaXMub2JqZWN0M2RSZXNvdXJjZXMub2JqZWN0O2UmJnRoaXMuX3VwZGF0ZVZlcnRpY2VzT2JqZWN0M0QoZSl9fV91cGRhdGVWZXJ0aWNlc09iamVjdDNEKGUpe2NvbnN0IHQ9dGhpcy5fbGluZVNlZ21lbnQ7dGhpcy5fdXBkYXRlVmVydGV4QXR0cmlidXRlc09iamVjdDNEKGUsdCksdGhpcy5fbGFzZXJsaW5lLmludGVyc2VjdHNMaW5lPXR9X3VwZGF0ZVZlcnRpY2VzRHJhcGVkKGUpe3RoaXMuX3VwZGF0ZVZlcnRleEF0dHJpYnV0ZXNEcmFwZWQoZSx0aGlzLl9saW5lU2VnbWVudCl9Z2V0IF9saW5lU2VnbWVudCgpe3JldHVybiB0aGlzLl9leHRlbnNpb25UeXBlPT09Vi5GQURFRD90aGlzLl91cGRhdGVMaW5lU2VnbWVudEZpbml0ZShTKTp0aGlzLl91cGRhdGVMaW5lU2VnbWVudEluZmluaXRlKHRoaXMuX2V4dGVuc2lvblR5cGUsUyl9X3VwZGF0ZUxpbmVTZWdtZW50RmluaXRlKGUpe3JldHVybiBtKHRoaXMuX3N0YXJ0LHRoaXMuX2VuZCxlKX1fdXBkYXRlTGluZVNlZ21lbnRJbmZpbml0ZShlLHQpe2NvbnN0IHI9dGhpcy52aWV3LnN0YXRlLmNhbWVyYTtzd2l0Y2goXyh0aGlzLl9yYXksUCksZSl7Y2FzZSBWLkxJTkU6UC5jMD0tTnVtYmVyLk1BWF9WQUxVRTticmVhaztjYXNlIFYuUkFZOmNhc2UgVi5HUk9VTkRfUkFZOntjb25zdCBlPXRoaXMuX3JheS5vcmlnaW4sdD10aGlzLnZpZXcuZWxldmF0aW9uUHJvdmlkZXIuZ2V0RWxldmF0aW9uKGVbMF0sZVsxXSxlWzJdLHRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIuc3BhdGlhbFJlZmVyZW5jZSxcImdyb3VuZFwiKT8/MCxyPXRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIuZ2V0QWx0aXR1ZGUoZSk7dGhpcy5faXNXb3JsZERvd24mJnI8dCYmcyhQLnJheS5kaXJlY3Rpb24sUC5yYXkuZGlyZWN0aW9uKSx0aGlzLl9leHRlbnNpb25UeXBlPT09Vi5HUk9VTkRfUkFZJiZudWxsIT10JiYoUC5jMT1NYXRoLmFicyhyLXQpKTticmVha319aWYoIXUoci5mcnVzdHVtLFApKXJldHVybiB0aGlzLl91cGRhdGVMaW5lU2VnbWVudEZpbml0ZSh0KTtjb25zdCBpPWMoUCx4KSxuPXAoUCx2KTtyZXR1cm4gbShpLG4sdCl9X3VwZGF0ZVZlcnRleEF0dHJpYnV0ZXNPYmplY3QzRChlLHQpe2NvbnN0IHI9ZS5nZW9tZXRyaWVzWzBdLmdldE11dGFibGVBdHRyaWJ1dGUoai5QT1NJVElPTik/LmRhdGE7aWYoIXIpcmV0dXJuO2xldCBzPTA7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fbGluZVZlcnRpY2VzKHQpKXJbcysrXT1pWzBdLHJbcysrXT1pWzFdLHJbcysrXT1pWzJdO2UuZ2VvbWV0cnlWZXJ0ZXhBdHRyaWJ1dGVVcGRhdGVkKGUuZ2VvbWV0cmllc1swXSxqLlBPU0lUSU9OKX1fdXBkYXRlVmVydGV4QXR0cmlidXRlc0RyYXBlZChlLHQpe2NvbnN0IHI9ZS5nZXRNdXRhYmxlQXR0cmlidXRlKGouUE9TSVRJT04pPy5kYXRhO2lmKCFyKXJldHVybjtsZXQgcz0wO2Zvcihjb25zdCBpIG9mIHRoaXMuX2xpbmVWZXJ0aWNlcyh0KSlyW3MrK109aVswXSxyW3MrK109aVsxXSxyW3MrK109dztlLmludmFsaWRhdGVCb3VuZGluZ0luZm8oKX0qX2xpbmVWZXJ0aWNlcyhlKXt0aGlzLmV4dGVuc2lvblR5cGU9PT1WLkZBREVEPyh5aWVsZCB5KGUsLXRoaXMuZmFkZWRFeHRlbnNpb25zLnN0YXJ0LHgpLHlpZWxkIHkoZSwwLHgpLHlpZWxkIHkoZSwxLHgpLHlpZWxkIHkoZSwxK3RoaXMuZmFkZWRFeHRlbnNpb25zLmVuZCx4KSk6KHlpZWxkIHkoZSwwLHgpLHlpZWxkIHkoZSwxLHgpKX19Y29uc3QgUD1kKCkseD1pKCksdj1pKCksUz1mKCk7dmFyIFY7IWZ1bmN0aW9uKGUpe2VbZS5MSU5FPTBdPVwiTElORVwiLGVbZS5SQVk9MV09XCJSQVlcIixlW2UuR1JPVU5EX1JBWT0yXT1cIkdST1VORF9SQVlcIixlW2UuRkFERUQ9M109XCJGQURFRFwifShWfHwoVj17fSkpO2NvbnN0IE09MS8zLFQ9e3N0YXJ0Ok0sZW5kOk19O2V4cG9ydHtHIGFzIEV4dGVuZGVkTGluZVZpc3VhbEVsZW1lbnQsViBhcyBFeHRlbnNpb25UeXBlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7d2F0Y2ggYXMgZSxpbml0aWFsIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e0NvbnRlbnRPYmplY3RUeXBlIGFzIHJ9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9Db250ZW50T2JqZWN0VHlwZS5qc1wiO2ltcG9ydHtPYmplY3QzRCBhcyB0fWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvT2JqZWN0M0QuanNcIjtpbXBvcnR7VXBkYXRlUG9saWN5IGFzIG99ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9VcGRhdGVQb2xpY3kuanNcIjtpbXBvcnR7V2ViR0xMYXllciBhcyBpfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvV2ViR0xMYXllci5qc1wiO2NsYXNzIGN7Y29uc3RydWN0b3IoZSl7dGhpcy5fcmVzb3VyY2VGYWN0b3J5PWUsdGhpcy5fcmVzb3VyY2VzPW51bGwsdGhpcy5fdmlzaWJsZT0hMCx0aGlzLl9hdHRhY2hlZD0hMX1kZXN0cm95KCl7dGhpcy5fZGVzdHJveVJlc291cmNlcygpfWdldCBvYmplY3QoKXtyZXR1cm4gbnVsbCE9dGhpcy5fcmVzb3VyY2VzP3RoaXMuX3Jlc291cmNlcy5vYmplY3Q6bnVsbH1nZXQgcmVzb3VyY2VzKCl7cmV0dXJuIG51bGwhPXRoaXMuX3Jlc291cmNlcz90aGlzLl9yZXNvdXJjZXMuZXh0ZXJuYWw6bnVsbH1nZXQgdmlzaWJsZSgpe3JldHVybiB0aGlzLl92aXNpYmxlfXNldCB2aXNpYmxlKGUpe2UhPT10aGlzLl92aXNpYmxlJiYodGhpcy5fdmlzaWJsZT1lLHRoaXMuX3N5bmNWaXNpYmxlKCkpfWdldCBhdHRhY2hlZCgpe3JldHVybiB0aGlzLl9hdHRhY2hlZH1zZXQgYXR0YWNoZWQoZSl7ZSE9PXRoaXMuX2F0dGFjaGVkJiYodGhpcy5fYXR0YWNoZWQ9ZSx0aGlzLl9jcmVhdGVPckRlc3Ryb3lSZXNvdXJjZXMoKSl9cmVjcmVhdGUoKXt0aGlzLmF0dGFjaGVkJiZ0aGlzLl9jcmVhdGVSZXNvdXJjZXMoKX1yZWNyZWF0ZUdlb21ldHJ5KCl7aWYoIXRoaXMuX3Jlc291cmNlRmFjdG9yeS5yZWNyZWF0ZUdlb21ldHJ5KXJldHVybiB2b2lkIHRoaXMucmVjcmVhdGUoKTtjb25zdCBlPXRoaXMuX3Jlc291cmNlRmFjdG9yeS52aWV3Ll9zdGFnZTtpZihudWxsPT10aGlzLl9yZXNvdXJjZXN8fCFlKXJldHVybjtjb25zdCBzPXRoaXMuX3Jlc291cmNlcy5vYmplY3Q7dGhpcy5fcmVzb3VyY2VzLmV4dGVybmFsLmZvckVhY2goKHM9PntzLnR5cGUhPT1yLk1lc2gmJnMudHlwZSE9PXIuTGluZSYmcy50eXBlIT09ci5Qb2ludHx8ZS5yZW1vdmUocyl9KSkscy5yZW1vdmVBbGxHZW9tZXRyaWVzKCksdGhpcy5fcmVzb3VyY2VGYWN0b3J5LnJlY3JlYXRlR2VvbWV0cnkodGhpcy5fcmVzb3VyY2VzLmV4dGVybmFsLHMsdGhpcy5fcmVzb3VyY2VzLmxheWVyKSx0aGlzLl9yZXNvdXJjZXMuZXh0ZXJuYWwuZm9yRWFjaCgocz0+e3MudHlwZSE9PXIuTWVzaCYmcy50eXBlIT09ci5MaW5lJiZzLnR5cGUhPT1yLlBvaW50fHxlLmFkZChzKX0pKX1fY3JlYXRlT3JEZXN0cm95UmVzb3VyY2VzKCl7dGhpcy5fYXR0YWNoZWQ/dGhpcy5fcmVzb3VyY2VzfHx0aGlzLl9jcmVhdGVSZXNvdXJjZXMoKTp0aGlzLl9kZXN0cm95UmVzb3VyY2VzKCl9X2NyZWF0ZVJlc291cmNlcygpe3RoaXMuX2Rlc3Ryb3lSZXNvdXJjZXMoKTtjb25zdCBjPXRoaXMuX3Jlc291cmNlRmFjdG9yeSxhPWMudmlldyxoPWEuX3N0YWdlO2lmKCFoKXJldHVybjtjb25zdCB1PW5ldyBpKGgse3BpY2thYmxlOiExLHVwZGF0ZVBvbGljeTpvLlNZTkN9KSxsPW5ldyB0KHtjYXN0U2hhZG93OiExfSksbj1jLmNyZWF0ZVJlc291cmNlcyhsLHUpO24uZm9yRWFjaCgoZT0+e2guYWRkKGUpLGUudHlwZT09PXIuVGV4dHVyZSYmZS5sb2FkKGgucmVuZGVyVmlldy5yZW5kZXJpbmdDb250ZXh0KX0pKSxoLmFkZChsKSx1LmFkZChsKTtjb25zdCBfPWMuY2FtZXJhQ2hhbmdlZCx5PV8/ZSgoKCk9PmEuc3RhdGUuY2FtZXJhKSwoZT0+XyhlKSkscyk6bnVsbDt0aGlzLl9yZXNvdXJjZXM9e2xheWVyOnUsb2JqZWN0OmwsZXh0ZXJuYWw6bixjYW1lcmFIYW5kbGU6eX0sdGhpcy5fc3luY1Zpc2libGUoKX1fZGVzdHJveVJlc291cmNlcygpe2lmKG51bGw9PXRoaXMuX3Jlc291cmNlcylyZXR1cm47Y29uc3QgZT10aGlzLl9yZXNvdXJjZUZhY3Rvcnkudmlldy5fc3RhZ2U7ZSYmKGUucmVtb3ZlKHRoaXMuX3Jlc291cmNlcy5vYmplY3QpLHRoaXMuX3Jlc291cmNlcy5sYXllci5kZXN0cm95KCksdGhpcy5fcmVzb3VyY2VzLmV4dGVybmFsLmZvckVhY2goKHM9PntlLnJlbW92ZShzKSxzLnR5cGU9PT1yLlRleHR1cmUmJnMudW5sb2FkKCl9KSkpLHRoaXMuX3Jlc291cmNlcy5vYmplY3QuZGlzcG9zZSgpLHRoaXMuX3Jlc291cmNlcy5jYW1lcmFIYW5kbGU/LnJlbW92ZSgpLHRoaXMuX3Jlc291cmNlRmFjdG9yeS5kZXN0cm95UmVzb3VyY2VzKHRoaXMuX3Jlc291cmNlcy5leHRlcm5hbCksdGhpcy5fcmVzb3VyY2VzPW51bGx9X3N5bmNWaXNpYmxlKCl7bnVsbCE9dGhpcy5fcmVzb3VyY2VzJiYodGhpcy5fcmVzb3VyY2VzLm9iamVjdC52aXNpYmxlPXRoaXMuX3Zpc2libGUpfX1leHBvcnR7YyBhcyBWaXN1YWxFbGVtZW50UmVzb3VyY2VzfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==