"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-56b5bc"],{

/***/ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-input-time-zone.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-input-time-zone.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CalciteInputTimeZone: () => (/* binding */ CalciteInputTimeZone),
/* harmony export */   defineCustomElement: () => (/* binding */ defineCustomElement)
/* harmony export */ });
/* harmony import */ var _stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @stencil/core/internal/client/index.js */ "./node_modules/@stencil/core/internal/client/index.js");
/* harmony import */ var _label2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./label2.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/label2.js");
/* harmony import */ var _interactive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interactive.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/interactive.js");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/locale.js");
/* harmony import */ var _t9n_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./t9n.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/t9n.js");
/* harmony import */ var _loadable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./loadable.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/loadable.js");
/* harmony import */ var _form_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./form.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/form.js");
/* harmony import */ var _chip_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chip.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/chip.js");
/* harmony import */ var _combobox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./combobox.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/combobox.js");
/* harmony import */ var _combobox_item_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./combobox-item.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/combobox-item.js");
/* harmony import */ var _icon_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./icon.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/icon.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.11.0
 */












const hourToMinutes = 60;
const timeZoneNameBlockList = [
  "CET",
  "CST6CDT",
  "EET",
  "EST",
  "EST5EDT",
  "Factory",
  "HST",
  "MET",
  "MST",
  "MST7MDT",
  "PST8PDT",
  "UTC",
  "WET",
];
function timeZoneOffsetToDecimal(shortOffsetTimeZoneName) {
  const minusSign = "âˆ’";
  const hyphen = "-";
  return (shortOffsetTimeZoneName
    .replace(":15", ".25")
    .replace(":30", ".5")
    .replace(":45", ".75")
    // ensures decimal string representation is parseable
    .replace(minusSign, hyphen));
}
function toOffsetValue(timeZoneName, referenceDateInMs) {
  // we use "en-US" to allow us to reliably remove the standard time token
  const offset = getTimeZoneShortOffset(timeZoneName, "en-US", referenceDateInMs).replace("GMT", "");
  if (offset === "") {
    return 0;
  }
  return Number(timeZoneOffsetToDecimal(offset)) * hourToMinutes;
}
function getUserTimeZoneOffset() {
  const localDate = new Date();
  return localDate.getTimezoneOffset() * -1;
}
function getUserTimeZoneName() {
  const dateFormatter = new Intl.DateTimeFormat();
  return dateFormatter.resolvedOptions().timeZone;
}
/**
 * The lazy-loaded timezone-groups lib to be used across instances.
 */
let timeZoneGroups;
async function createTimeZoneItems(locale, messages, mode, referenceDate) {
  const referenceDateInMs = referenceDate.getTime();
  const timeZoneNames = Intl.supportedValuesOf("timeZone");
  if (mode === "offset") {
    if (!timeZoneGroups) {
      timeZoneGroups = Promise.all([
        __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_index3_js").then(__webpack_require__.bind(__webpack_require__, /*! ./index3.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/index3.js")),
        __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_index4_js").then(__webpack_require__.bind(__webpack_require__, /*! ./index4.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/index4.js")),
      ]);
    }
    return timeZoneGroups.then(async ([{ groupTimeZones }, { DateEngine }]) => {
      const timeZoneGroups = await groupTimeZones({
        dateEngine: new DateEngine(),
        groupDateRange: 1,
        startDate: new Date(referenceDateInMs).toISOString(),
      });
      const listFormatter = new Intl.ListFormat(locale, { style: "long", type: "conjunction" });
      // we remove blocked entries from tzs and adjust label indices accordingly
      timeZoneGroups.forEach((group) => {
        const indexOffsets = [];
        let removedSoFar = 0;
        group.tzs.forEach((tz, index) => {
          if (timeZoneNameBlockList.includes(tz)) {
            removedSoFar++;
          }
          indexOffsets[index] = removedSoFar;
        });
        group.tzs = group.tzs.filter((tz) => !timeZoneNameBlockList.includes(tz));
        group.labelTzIndices = group.labelTzIndices
          .map((index) => index - indexOffsets[index])
          .filter((index) => index >= 0 && index < group.tzs.length);
      });
      return timeZoneGroups
        .map(({ labelTzIndices, tzs }) => {
        const groupRepTz = tzs[0];
        const decimalOffset = timeZoneOffsetToDecimal(getTimeZoneShortOffset(groupRepTz, locale, referenceDateInMs));
        const value = toOffsetValue(groupRepTz, referenceDateInMs);
        const tzLabels = labelTzIndices.map((index) => {
          const timeZone = tzs[index];
          const timeZoneLabel = messages[timeZone];
          return (timeZoneLabel ||
            // get city token
            timeZone.split("/").pop());
        });
        const label = createTimeZoneOffsetLabel(messages, decimalOffset, listFormatter.format(tzLabels));
        return {
          label,
          value,
          filterValue: tzs.map((tz) => toUserFriendlyName(tz)),
        };
      })
        .filter((group) => !!group)
        .sort((groupA, groupB) => groupA.value - groupB.value);
    });
  }
  return timeZoneNames
    .map((timeZone) => {
    const label = toUserFriendlyName(timeZone);
    const value = timeZone;
    return {
      label,
      value,
      filterValue: timeZone,
    };
  })
    .filter((group) => !!group)
    .sort();
}
/**
 * Exported for testing purposes only
 *
 * @internal
 */
function toUserFriendlyName(timeZoneName) {
  return timeZoneName.replace(/_/g, " ");
}
function createTimeZoneOffsetLabel(messages, offsetLabel, groupLabel) {
  return messages.timeZoneLabel.replace("{offset}", offsetLabel).replace("{cities}", groupLabel);
}
function getTimeZoneShortOffset(timeZone, locale, referenceDateInMs = Date.now()) {
  const dateTimeFormat = (0,_locale_js__WEBPACK_IMPORTED_MODULE_2__.b)(locale, { timeZone, timeZoneName: "shortOffset" });
  const parts = dateTimeFormat.formatToParts(referenceDateInMs);
  return parts.find(({ type }) => type === "timeZoneName").value;
}

const inputTimeZoneCss = ":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}";

const InputTimeZone = /*@__PURE__*/ (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_10__.proxyCustomElement)(class extends _stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_10__.HTMLElement {
  constructor() {
    super();
    this.__registerHost();
    this.__attachShadow();
    this.calciteInputTimeZoneBeforeClose = (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_10__.createEvent)(this, "calciteInputTimeZoneBeforeClose", 6);
    this.calciteInputTimeZoneBeforeOpen = (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_10__.createEvent)(this, "calciteInputTimeZoneBeforeOpen", 6);
    this.calciteInputTimeZoneChange = (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_10__.createEvent)(this, "calciteInputTimeZoneChange", 6);
    this.calciteInputTimeZoneClose = (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_10__.createEvent)(this, "calciteInputTimeZoneClose", 6);
    this.calciteInputTimeZoneOpen = (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_10__.createEvent)(this, "calciteInputTimeZoneOpen", 6);
    this.setComboboxRef = (el) => {
      this.comboboxEl = el;
    };
    this.onComboboxBeforeClose = (event) => {
      event.stopPropagation();
      this.calciteInputTimeZoneBeforeClose.emit();
    };
    this.onComboboxBeforeOpen = (event) => {
      event.stopPropagation();
      this.calciteInputTimeZoneBeforeOpen.emit();
    };
    this.onComboboxChange = (event) => {
      event.stopPropagation();
      const combobox = event.target;
      const selected = this.findTimeZoneItem(combobox.selectedItems[0].getAttribute("data-value"));
      const selectedValue = `${selected.value}`;
      if (this.value === selectedValue) {
        return;
      }
      this.value = selectedValue;
      this.selectedTimeZoneItem = selected;
      this.calciteInputTimeZoneChange.emit();
    };
    this.onComboboxClose = (event) => {
      event.stopPropagation();
      this.open = false;
      this.calciteInputTimeZoneClose.emit();
    };
    this.onComboboxOpen = (event) => {
      this.open = true;
      event.stopPropagation();
      this.calciteInputTimeZoneOpen.emit();
    };
    this.disabled = false;
    this.form = undefined;
    this.maxItems = 0;
    this.messages = undefined;
    this.messageOverrides = undefined;
    this.mode = "offset";
    this.name = undefined;
    this.open = false;
    this.overlayPositioning = "absolute";
    this.referenceDate = undefined;
    this.required = false;
    this.scale = "m";
    this.value = undefined;
    this.defaultMessages = undefined;
    this.effectiveLocale = "";
  }
  onMessagesChange() {
    /* wired up by t9n util */
  }
  handleTimeZoneItemPropsChange() {
    this.createTimeZoneItems();
  }
  handleValueChange(value, oldValue) {
    const timeZoneItem = this.findTimeZoneItem(value);
    if (!timeZoneItem) {
      this.value = oldValue;
      return;
    }
    this.selectedTimeZoneItem = timeZoneItem;
  }
  //--------------------------------------------------------------------------
  //
  //  Public Methods
  //
  //--------------------------------------------------------------------------
  async setFocus() {
    await (0,_loadable_js__WEBPACK_IMPORTED_MODULE_4__.c)(this);
    await this.comboboxEl.setFocus();
  }
  effectiveLocaleWatcher() {
    (0,_t9n_js__WEBPACK_IMPORTED_MODULE_3__.u)(this, this.effectiveLocale);
  }
  //--------------------------------------------------------------------------
  //
  //  Private Methods
  //
  //--------------------------------------------------------------------------
  onLabelClick() {
    this.setFocus();
  }
  findTimeZoneItem(value) {
    const valueToMatch = value;
    return this.timeZoneItems.find(({ value }) => 
    // intentional == to match string to number
    value == valueToMatch);
  }
  async createTimeZoneItems() {
    if (!this.effectiveLocale || !this.messages) {
      return [];
    }
    return createTimeZoneItems(this.effectiveLocale, this.messages, this.mode, this.referenceDate instanceof Date
      ? this.referenceDate
      : new Date(this.referenceDate ?? Date.now()));
  }
  // --------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  //--------------------------------------------------------------------------
  connectedCallback() {
    (0,_form_js__WEBPACK_IMPORTED_MODULE_5__.c)(this);
    (0,_label2_js__WEBPACK_IMPORTED_MODULE_0__.c)(this);
    (0,_locale_js__WEBPACK_IMPORTED_MODULE_2__.c)(this);
    (0,_t9n_js__WEBPACK_IMPORTED_MODULE_3__.c)(this);
  }
  disconnectedCallback() {
    (0,_form_js__WEBPACK_IMPORTED_MODULE_5__.d)(this);
    (0,_label2_js__WEBPACK_IMPORTED_MODULE_0__.d)(this);
    (0,_locale_js__WEBPACK_IMPORTED_MODULE_2__.d)(this);
    (0,_t9n_js__WEBPACK_IMPORTED_MODULE_3__.d)(this);
  }
  async componentWillLoad() {
    (0,_loadable_js__WEBPACK_IMPORTED_MODULE_4__.a)(this);
    await (0,_t9n_js__WEBPACK_IMPORTED_MODULE_3__.s)(this);
    this.timeZoneItems = await this.createTimeZoneItems();
    const fallbackValue = this.mode === "offset" ? getUserTimeZoneOffset() : getUserTimeZoneName();
    const valueToMatch = this.value ?? fallbackValue;
    this.selectedTimeZoneItem = this.findTimeZoneItem(valueToMatch);
    if (!this.selectedTimeZoneItem) {
      this.selectedTimeZoneItem = this.findTimeZoneItem(fallbackValue);
    }
    const selectedValue = `${this.selectedTimeZoneItem.value}`;
    (0,_form_js__WEBPACK_IMPORTED_MODULE_5__.a)(this, selectedValue);
    this.value = selectedValue;
  }
  componentDidLoad() {
    (0,_loadable_js__WEBPACK_IMPORTED_MODULE_4__.s)(this);
  }
  componentDidRender() {
    (0,_interactive_js__WEBPACK_IMPORTED_MODULE_1__.u)(this);
  }
  render() {
    return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_10__.h)(_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_10__.Host, null, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_10__.h)("calcite-combobox", { clearDisabled: true, disabled: this.disabled, label: this.messages.chooseTimeZone, lang: this.effectiveLocale, maxItems: this.maxItems, onCalciteComboboxBeforeClose: this.onComboboxBeforeClose, onCalciteComboboxBeforeOpen: this.onComboboxBeforeOpen, onCalciteComboboxChange: this.onComboboxChange, onCalciteComboboxClose: this.onComboboxClose, onCalciteComboboxOpen: this.onComboboxOpen, open: this.open, overlayPositioning: this.overlayPositioning, scale: this.scale, selectionMode: "single-persist",
      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)
      ref: this.setComboboxRef }, this.timeZoneItems.map((group) => {
      const selected = this.selectedTimeZoneItem === group;
      const { label, value } = group;
      return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_10__.h)("calcite-combobox-item", { "data-value": value, key: label, selected: selected, textLabel: label, value: `${group.filterValue}` }));
    })), (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_10__.h)(_form_js__WEBPACK_IMPORTED_MODULE_5__.H, { component: this })));
  }
  static get delegatesFocus() { return true; }
  static get assetsDirs() { return ["assets"]; }
  get el() { return this; }
  static get watchers() { return {
    "messageOverrides": ["onMessagesChange"],
    "effectiveLocale": ["handleTimeZoneItemPropsChange", "effectiveLocaleWatcher"],
    "messages": ["handleTimeZoneItemPropsChange"],
    "mode": ["handleTimeZoneItemPropsChange"],
    "referenceDate": ["handleTimeZoneItemPropsChange"],
    "value": ["handleValueChange"]
  }; }
  static get style() { return inputTimeZoneCss; }
}, [17, "calcite-input-time-zone", {
    "disabled": [516],
    "form": [513],
    "maxItems": [514, "max-items"],
    "messages": [1040],
    "messageOverrides": [1040],
    "mode": [513],
    "name": [513],
    "open": [1540],
    "overlayPositioning": [513, "overlay-positioning"],
    "referenceDate": [1, "reference-date"],
    "required": [516],
    "scale": [513],
    "value": [1025],
    "defaultMessages": [32],
    "effectiveLocale": [32],
    "setFocus": [64]
  }]);
function defineCustomElement$1() {
  if (typeof customElements === "undefined") {
    return;
  }
  const components = ["calcite-input-time-zone", "calcite-chip", "calcite-combobox", "calcite-combobox-item", "calcite-icon"];
  components.forEach(tagName => { switch (tagName) {
    case "calcite-input-time-zone":
      if (!customElements.get(tagName)) {
        customElements.define(tagName, InputTimeZone);
      }
      break;
    case "calcite-chip":
      if (!customElements.get(tagName)) {
        (0,_chip_js__WEBPACK_IMPORTED_MODULE_6__.d)();
      }
      break;
    case "calcite-combobox":
      if (!customElements.get(tagName)) {
        (0,_combobox_js__WEBPACK_IMPORTED_MODULE_7__.d)();
      }
      break;
    case "calcite-combobox-item":
      if (!customElements.get(tagName)) {
        (0,_combobox_item_js__WEBPACK_IMPORTED_MODULE_8__.d)();
      }
      break;
    case "calcite-icon":
      if (!customElements.get(tagName)) {
        (0,_icon_js__WEBPACK_IMPORTED_MODULE_9__.d)();
      }
      break;
  } });
}
defineCustomElement$1();

const CalciteInputTimeZone = InputTimeZone;
const defineCustomElement = defineCustomElement$1;




/***/ }),

/***/ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/combobox-item.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/combobox-item.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ ComboboxItem),
/* harmony export */   d: () => (/* binding */ defineCustomElement)
/* harmony export */ });
/* harmony import */ var _stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @stencil/core/internal/client/index.js */ "./node_modules/@stencil/core/internal/client/index.js");
/* harmony import */ var _conditionalSlot_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./conditionalSlot.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/conditionalSlot.js");
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/dom.js");
/* harmony import */ var _guid_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./guid.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/guid.js");
/* harmony import */ var _interactive_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./interactive.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/interactive.js");
/* harmony import */ var _utils2_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils2.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/utils2.js");
/* harmony import */ var _component_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./component.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/component.js");
/* harmony import */ var _icon_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./icon.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/icon.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.11.0
 */









const CSS = {
  icon: "icon",
  iconActive: "icon--active",
  iconIndent: "icon--indent",
  custom: "icon--custom",
  dot: "icon--dot",
  single: "label--single",
  label: "label",
  active: "label--active",
  selected: "label--selected",
  title: "title",
  textContainer: "text-container",
};

const comboboxItemCss = "@charset \"UTF-8\";:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host([hidden]){display:none}[hidden]{display:none}.scale--s{font-size:var(--calcite-font-size--2);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-item-spacing-indent:0.5rem;--calcite-combobox-item-selector-icon-size:1rem}.scale--m{font-size:var(--calcite-font-size--1);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-item-spacing-indent:0.75rem;--calcite-combobox-item-selector-icon-size:1rem}.scale--l{font-size:var(--calcite-font-size-0);line-height:1.25rem;--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.625rem;--calcite-combobox-item-spacing-indent:1rem;--calcite-combobox-item-selector-icon-size:1.5rem}.container{--calcite-combobox-item-indent-value:calc(\n    var(--calcite-combobox-item-spacing-indent) * var(--calcite-combobox-item-spacing-indent-multiplier)\n  )}:host(:focus){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host,ul{margin:0px;display:flex;flex-direction:column;padding:0px}:host(:focus),ul:focus{outline:2px solid transparent;outline-offset:2px}.label{position:relative;box-sizing:border-box;display:flex;inline-size:100%;min-inline-size:100%;cursor:pointer;align-items:center;color:var(--calcite-ui-text-3);text-decoration-line:none;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);outline-color:transparent;word-wrap:break-word;word-break:break-word;padding-block:var(--calcite-combobox-item-spacing-unit-s);padding-inline:var(--calcite-combobox-item-spacing-unit-l)}:host([disabled]) .label{cursor:default}.label--selected{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}.label--active{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\n            -2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-ui-focus-offset-invert),\n                1\n              )\n            )\n          )}.label:hover,.label:active{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1);text-decoration-line:none;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.title{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.icon{display:inline-flex;opacity:0;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);color:var(--calcite-ui-border-1)}.icon--indent{padding-inline-start:var(--calcite-combobox-item-indent-value)}.icon--custom{margin-block-start:-1px;padding-inline-start:var(--calcite-combobox-item-spacing-unit-l);color:var(--calcite-ui-text-3)}.icon--active{color:var(--calcite-ui-text-1)}.icon--dot{display:flex;justify-content:center;min-inline-size:var(--calcite-combobox-item-selector-icon-size)}.icon--dot:before{text-align:start;content:\"â€¢\"}.label--active .icon{opacity:1}.label--selected .icon{opacity:1;color:var(--calcite-ui-brand)}:host(:hover[disabled]) .icon{opacity:1}";

const ComboboxItem = /*@__PURE__*/ (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__.proxyCustomElement)(class extends _stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__.HTMLElement {
  constructor() {
    super();
    this.__registerHost();
    this.__attachShadow();
    this.calciteComboboxItemChange = (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__.createEvent)(this, "calciteComboboxItemChange", 6);
    this.itemClickHandler = () => {
      this.toggleSelected();
    };
    this.disabled = false;
    this.selected = false;
    this.active = false;
    this.ancestors = undefined;
    this.guid = (0,_guid_js__WEBPACK_IMPORTED_MODULE_2__.g)();
    this.icon = undefined;
    this.iconFlipRtl = false;
    this.textLabel = undefined;
    this.value = undefined;
    this.filterDisabled = undefined;
    this.selectionMode = "multiple";
    this.scale = "m";
  }
  selectedWatchHandler() {
    this.calciteComboboxItemChange.emit();
  }
  // --------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  // --------------------------------------------------------------------------
  connectedCallback() {
    this.ancestors = (0,_utils2_js__WEBPACK_IMPORTED_MODULE_4__.g)(this.el);
    (0,_conditionalSlot_js__WEBPACK_IMPORTED_MODULE_0__.c)(this);
    (0,_interactive_js__WEBPACK_IMPORTED_MODULE_3__.c)(this);
  }
  disconnectedCallback() {
    (0,_conditionalSlot_js__WEBPACK_IMPORTED_MODULE_0__.d)(this);
    (0,_interactive_js__WEBPACK_IMPORTED_MODULE_3__.d)(this);
  }
  componentDidRender() {
    (0,_interactive_js__WEBPACK_IMPORTED_MODULE_3__.u)(this);
  }
  // --------------------------------------------------------------------------
  //
  //  Private Methods
  //
  // --------------------------------------------------------------------------
  toggleSelected() {
    const isSinglePersistSelect = this.selectionMode === "single-persist";
    if (this.disabled || (isSinglePersistSelect && this.selected)) {
      return;
    }
    this.selected = !this.selected;
  }
  // --------------------------------------------------------------------------
  //
  //  Render Methods
  //
  // --------------------------------------------------------------------------
  renderIcon(iconPath) {
    return this.icon ? ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__.h)("calcite-icon", { class: {
        [CSS.custom]: !!this.icon,
        [CSS.iconActive]: this.icon && this.selected,
        [CSS.iconIndent]: true,
      }, flipRtl: this.iconFlipRtl, icon: this.icon || iconPath, key: "icon", scale: (0,_component_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.scale) })) : null;
  }
  renderSelectIndicator(showDot, iconPath) {
    return showDot ? ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__.h)("span", { class: {
        [CSS.icon]: true,
        [CSS.dot]: true,
        [CSS.iconIndent]: true,
      } })) : ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__.h)("calcite-icon", { class: {
        [CSS.icon]: true,
        [CSS.iconActive]: this.selected,
        [CSS.iconIndent]: true,
      }, flipRtl: this.iconFlipRtl, icon: iconPath, key: "indicator", scale: (0,_component_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.scale) }));
  }
  renderChildren() {
    if ((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.el)) {
      return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__.h)("ul", { key: "default-slot-container" }, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__.h)("slot", null)));
    }
    return null;
  }
  render() {
    const isSingleSelect = (0,_utils2_js__WEBPACK_IMPORTED_MODULE_4__.i)(this.selectionMode);
    const showDot = isSingleSelect && !this.disabled;
    const defaultIcon = isSingleSelect ? "dot" : "check";
    const iconPath = this.disabled ? "" : defaultIcon;
    const classes = {
      [CSS.label]: true,
      [CSS.selected]: this.selected,
      [CSS.active]: this.active,
      [CSS.single]: isSingleSelect,
    };
    const depth = (0,_utils2_js__WEBPACK_IMPORTED_MODULE_4__.a)(this.el);
    return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__.h)(_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__.Host, { "aria-hidden": "true" }, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__.h)("div", { class: `container scale--${this.scale}`, style: { "--calcite-combobox-item-spacing-indent-multiplier": `${depth}` } }, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__.h)("li", { class: classes, id: this.guid, onClick: this.itemClickHandler }, this.renderSelectIndicator(showDot, iconPath), this.renderIcon(iconPath), (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_7__.h)("span", { class: "title" }, this.textLabel)), this.renderChildren())));
  }
  get el() { return this; }
  static get watchers() { return {
    "selected": ["selectedWatchHandler"]
  }; }
  static get style() { return comboboxItemCss; }
}, [1, "calcite-combobox-item", {
    "disabled": [516],
    "selected": [1540],
    "active": [516],
    "ancestors": [1040],
    "guid": [513],
    "icon": [513],
    "iconFlipRtl": [516, "icon-flip-rtl"],
    "textLabel": [513, "text-label"],
    "value": [8],
    "filterDisabled": [516, "filter-disabled"],
    "selectionMode": [513, "selection-mode"],
    "scale": [1]
  }]);
function defineCustomElement() {
  if (typeof customElements === "undefined") {
    return;
  }
  const components = ["calcite-combobox-item", "calcite-icon"];
  components.forEach(tagName => { switch (tagName) {
    case "calcite-combobox-item":
      if (!customElements.get(tagName)) {
        customElements.define(tagName, ComboboxItem);
      }
      break;
    case "calcite-icon":
      if (!customElements.get(tagName)) {
        (0,_icon_js__WEBPACK_IMPORTED_MODULE_6__.d)();
      }
      break;
  } });
}
defineCustomElement();




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfbm9kZV9tb2R1bGVzX2VzcmlfY2FsY2l0ZS1jb21wb25lbnRzX2Rpc3RfY29tcG9uZW50c19jYWxjaXRlLTU2YjViYy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0c7QUFDekM7QUFDUjtBQUN3QztBQUNZO0FBQ0o7QUFDZ0I7QUFDdkU7QUFDSTtBQUNLO0FBQ1Q7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzU0FBcUI7QUFDN0IsUUFBUSxzU0FBcUI7QUFDN0I7QUFDQTtBQUNBLHlDQUF5QyxnQkFBZ0IsSUFBSSxZQUFZO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLDBEQUEwRCxvQ0FBb0M7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsZ0JBQWdCLHFCQUFxQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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UywrQkFBK0IsRUFBRSx5RUFBQztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw2Q0FBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNkNBQVE7QUFDMUIsWUFBWSx5RUFBQyxDQUFDLHdFQUFJLElBQUksdUJBQXVCLEVBQUUseUVBQUMsVUFBVSwyQkFBMkIsV0FBVyxZQUFZLHdEQUF3RCxNQUFNLEtBQUssRUFBRSx5RUFBQyxTQUFTLCtEQUErRCw0RUFBNEUseUVBQUMsV0FBVyxnQkFBZ0I7QUFDbFc7QUFDQSxhQUFhO0FBQ2IsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyQ0FBcUI7QUFDN0I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUV1RCIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtaW5wdXQtdGltZS16b25lLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NvbWJvYm94LWl0ZW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL21haW4vTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbiAqIHYxLjExLjBcbiAqL1xuaW1wb3J0IHsgcHJveHlDdXN0b21FbGVtZW50LCBIVE1MRWxlbWVudCwgY3JlYXRlRXZlbnQsIGgsIEhvc3QgfSBmcm9tICdAc3RlbmNpbC9jb3JlL2ludGVybmFsL2NsaWVudC9pbmRleC5qcyc7XG5pbXBvcnQgeyBjIGFzIGNvbm5lY3RMYWJlbCwgZCBhcyBkaXNjb25uZWN0TGFiZWwgfSBmcm9tICcuL2xhYmVsMi5qcyc7XG5pbXBvcnQgeyB1IGFzIHVwZGF0ZUhvc3RJbnRlcmFjdGlvbiB9IGZyb20gJy4vaW50ZXJhY3RpdmUuanMnO1xuaW1wb3J0IHsgYiBhcyBnZXREYXRlVGltZUZvcm1hdCwgYyBhcyBjb25uZWN0TG9jYWxpemVkLCBkIGFzIGRpc2Nvbm5lY3RMb2NhbGl6ZWQgfSBmcm9tICcuL2xvY2FsZS5qcyc7XG5pbXBvcnQgeyB1IGFzIHVwZGF0ZU1lc3NhZ2VzLCBjIGFzIGNvbm5lY3RNZXNzYWdlcywgZCBhcyBkaXNjb25uZWN0TWVzc2FnZXMsIHMgYXMgc2V0VXBNZXNzYWdlcyB9IGZyb20gJy4vdDluLmpzJztcbmltcG9ydCB7IGMgYXMgY29tcG9uZW50Rm9jdXNhYmxlLCBhIGFzIHNldFVwTG9hZGFibGVDb21wb25lbnQsIHMgYXMgc2V0Q29tcG9uZW50TG9hZGVkIH0gZnJvbSAnLi9sb2FkYWJsZS5qcyc7XG5pbXBvcnQgeyBjIGFzIGNvbm5lY3RGb3JtLCBkIGFzIGRpc2Nvbm5lY3RGb3JtLCBhIGFzIGFmdGVyQ29ubmVjdERlZmF1bHRWYWx1ZVNldCwgSCBhcyBIaWRkZW5Gb3JtSW5wdXRTbG90IH0gZnJvbSAnLi9mb3JtLmpzJztcbmltcG9ydCB7IGQgYXMgZGVmaW5lQ3VzdG9tRWxlbWVudCQ1IH0gZnJvbSAnLi9jaGlwLmpzJztcbmltcG9ydCB7IGQgYXMgZGVmaW5lQ3VzdG9tRWxlbWVudCQ0IH0gZnJvbSAnLi9jb21ib2JveC5qcyc7XG5pbXBvcnQgeyBkIGFzIGRlZmluZUN1c3RvbUVsZW1lbnQkMyB9IGZyb20gJy4vY29tYm9ib3gtaXRlbS5qcyc7XG5pbXBvcnQgeyBkIGFzIGRlZmluZUN1c3RvbUVsZW1lbnQkMiB9IGZyb20gJy4vaWNvbi5qcyc7XG5cbmNvbnN0IGhvdXJUb01pbnV0ZXMgPSA2MDtcbmNvbnN0IHRpbWVab25lTmFtZUJsb2NrTGlzdCA9IFtcbiAgXCJDRVRcIixcbiAgXCJDU1Q2Q0RUXCIsXG4gIFwiRUVUXCIsXG4gIFwiRVNUXCIsXG4gIFwiRVNUNUVEVFwiLFxuICBcIkZhY3RvcnlcIixcbiAgXCJIU1RcIixcbiAgXCJNRVRcIixcbiAgXCJNU1RcIixcbiAgXCJNU1Q3TURUXCIsXG4gIFwiUFNUOFBEVFwiLFxuICBcIlVUQ1wiLFxuICBcIldFVFwiLFxuXTtcbmZ1bmN0aW9uIHRpbWVab25lT2Zmc2V0VG9EZWNpbWFsKHNob3J0T2Zmc2V0VGltZVpvbmVOYW1lKSB7XG4gIGNvbnN0IG1pbnVzU2lnbiA9IFwi4oiSXCI7XG4gIGNvbnN0IGh5cGhlbiA9IFwiLVwiO1xuICByZXR1cm4gKHNob3J0T2Zmc2V0VGltZVpvbmVOYW1lXG4gICAgLnJlcGxhY2UoXCI6MTVcIiwgXCIuMjVcIilcbiAgICAucmVwbGFjZShcIjozMFwiLCBcIi41XCIpXG4gICAgLnJlcGxhY2UoXCI6NDVcIiwgXCIuNzVcIilcbiAgICAvLyBlbnN1cmVzIGRlY2ltYWwgc3RyaW5nIHJlcHJlc2VudGF0aW9uIGlzIHBhcnNlYWJsZVxuICAgIC5yZXBsYWNlKG1pbnVzU2lnbiwgaHlwaGVuKSk7XG59XG5mdW5jdGlvbiB0b09mZnNldFZhbHVlKHRpbWVab25lTmFtZSwgcmVmZXJlbmNlRGF0ZUluTXMpIHtcbiAgLy8gd2UgdXNlIFwiZW4tVVNcIiB0byBhbGxvdyB1cyB0byByZWxpYWJseSByZW1vdmUgdGhlIHN0YW5kYXJkIHRpbWUgdG9rZW5cbiAgY29uc3Qgb2Zmc2V0ID0gZ2V0VGltZVpvbmVTaG9ydE9mZnNldCh0aW1lWm9uZU5hbWUsIFwiZW4tVVNcIiwgcmVmZXJlbmNlRGF0ZUluTXMpLnJlcGxhY2UoXCJHTVRcIiwgXCJcIik7XG4gIGlmIChvZmZzZXQgPT09IFwiXCIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICByZXR1cm4gTnVtYmVyKHRpbWVab25lT2Zmc2V0VG9EZWNpbWFsKG9mZnNldCkpICogaG91clRvTWludXRlcztcbn1cbmZ1bmN0aW9uIGdldFVzZXJUaW1lWm9uZU9mZnNldCgpIHtcbiAgY29uc3QgbG9jYWxEYXRlID0gbmV3IERhdGUoKTtcbiAgcmV0dXJuIGxvY2FsRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogLTE7XG59XG5mdW5jdGlvbiBnZXRVc2VyVGltZVpvbmVOYW1lKCkge1xuICBjb25zdCBkYXRlRm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoKTtcbiAgcmV0dXJuIGRhdGVGb3JtYXR0ZXIucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7XG59XG4vKipcbiAqIFRoZSBsYXp5LWxvYWRlZCB0aW1lem9uZS1ncm91cHMgbGliIHRvIGJlIHVzZWQgYWNyb3NzIGluc3RhbmNlcy5cbiAqL1xubGV0IHRpbWVab25lR3JvdXBzO1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlVGltZVpvbmVJdGVtcyhsb2NhbGUsIG1lc3NhZ2VzLCBtb2RlLCByZWZlcmVuY2VEYXRlKSB7XG4gIGNvbnN0IHJlZmVyZW5jZURhdGVJbk1zID0gcmVmZXJlbmNlRGF0ZS5nZXRUaW1lKCk7XG4gIGNvbnN0IHRpbWVab25lTmFtZXMgPSBJbnRsLnN1cHBvcnRlZFZhbHVlc09mKFwidGltZVpvbmVcIik7XG4gIGlmIChtb2RlID09PSBcIm9mZnNldFwiKSB7XG4gICAgaWYgKCF0aW1lWm9uZUdyb3Vwcykge1xuICAgICAgdGltZVpvbmVHcm91cHMgPSBQcm9taXNlLmFsbChbXG4gICAgICAgIGltcG9ydCgnLi9pbmRleDMuanMnKSxcbiAgICAgICAgaW1wb3J0KCcuL2luZGV4NC5qcycpLFxuICAgICAgXSk7XG4gICAgfVxuICAgIHJldHVybiB0aW1lWm9uZUdyb3Vwcy50aGVuKGFzeW5jIChbeyBncm91cFRpbWVab25lcyB9LCB7IERhdGVFbmdpbmUgfV0pID0+IHtcbiAgICAgIGNvbnN0IHRpbWVab25lR3JvdXBzID0gYXdhaXQgZ3JvdXBUaW1lWm9uZXMoe1xuICAgICAgICBkYXRlRW5naW5lOiBuZXcgRGF0ZUVuZ2luZSgpLFxuICAgICAgICBncm91cERhdGVSYW5nZTogMSxcbiAgICAgICAgc3RhcnREYXRlOiBuZXcgRGF0ZShyZWZlcmVuY2VEYXRlSW5NcykudG9JU09TdHJpbmcoKSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgbGlzdEZvcm1hdHRlciA9IG5ldyBJbnRsLkxpc3RGb3JtYXQobG9jYWxlLCB7IHN0eWxlOiBcImxvbmdcIiwgdHlwZTogXCJjb25qdW5jdGlvblwiIH0pO1xuICAgICAgLy8gd2UgcmVtb3ZlIGJsb2NrZWQgZW50cmllcyBmcm9tIHR6cyBhbmQgYWRqdXN0IGxhYmVsIGluZGljZXMgYWNjb3JkaW5nbHlcbiAgICAgIHRpbWVab25lR3JvdXBzLmZvckVhY2goKGdyb3VwKSA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4T2Zmc2V0cyA9IFtdO1xuICAgICAgICBsZXQgcmVtb3ZlZFNvRmFyID0gMDtcbiAgICAgICAgZ3JvdXAudHpzLmZvckVhY2goKHR6LCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmICh0aW1lWm9uZU5hbWVCbG9ja0xpc3QuaW5jbHVkZXModHopKSB7XG4gICAgICAgICAgICByZW1vdmVkU29GYXIrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5kZXhPZmZzZXRzW2luZGV4XSA9IHJlbW92ZWRTb0ZhcjtcbiAgICAgICAgfSk7XG4gICAgICAgIGdyb3VwLnR6cyA9IGdyb3VwLnR6cy5maWx0ZXIoKHR6KSA9PiAhdGltZVpvbmVOYW1lQmxvY2tMaXN0LmluY2x1ZGVzKHR6KSk7XG4gICAgICAgIGdyb3VwLmxhYmVsVHpJbmRpY2VzID0gZ3JvdXAubGFiZWxUekluZGljZXNcbiAgICAgICAgICAubWFwKChpbmRleCkgPT4gaW5kZXggLSBpbmRleE9mZnNldHNbaW5kZXhdKVxuICAgICAgICAgIC5maWx0ZXIoKGluZGV4KSA9PiBpbmRleCA+PSAwICYmIGluZGV4IDwgZ3JvdXAudHpzLmxlbmd0aCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aW1lWm9uZUdyb3Vwc1xuICAgICAgICAubWFwKCh7IGxhYmVsVHpJbmRpY2VzLCB0enMgfSkgPT4ge1xuICAgICAgICBjb25zdCBncm91cFJlcFR6ID0gdHpzWzBdO1xuICAgICAgICBjb25zdCBkZWNpbWFsT2Zmc2V0ID0gdGltZVpvbmVPZmZzZXRUb0RlY2ltYWwoZ2V0VGltZVpvbmVTaG9ydE9mZnNldChncm91cFJlcFR6LCBsb2NhbGUsIHJlZmVyZW5jZURhdGVJbk1zKSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdG9PZmZzZXRWYWx1ZShncm91cFJlcFR6LCByZWZlcmVuY2VEYXRlSW5Ncyk7XG4gICAgICAgIGNvbnN0IHR6TGFiZWxzID0gbGFiZWxUekluZGljZXMubWFwKChpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRpbWVab25lID0gdHpzW2luZGV4XTtcbiAgICAgICAgICBjb25zdCB0aW1lWm9uZUxhYmVsID0gbWVzc2FnZXNbdGltZVpvbmVdO1xuICAgICAgICAgIHJldHVybiAodGltZVpvbmVMYWJlbCB8fFxuICAgICAgICAgICAgLy8gZ2V0IGNpdHkgdG9rZW5cbiAgICAgICAgICAgIHRpbWVab25lLnNwbGl0KFwiL1wiKS5wb3AoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGNyZWF0ZVRpbWVab25lT2Zmc2V0TGFiZWwobWVzc2FnZXMsIGRlY2ltYWxPZmZzZXQsIGxpc3RGb3JtYXR0ZXIuZm9ybWF0KHR6TGFiZWxzKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgZmlsdGVyVmFsdWU6IHR6cy5tYXAoKHR6KSA9PiB0b1VzZXJGcmllbmRseU5hbWUodHopKSxcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgICAgIC5maWx0ZXIoKGdyb3VwKSA9PiAhIWdyb3VwKVxuICAgICAgICAuc29ydCgoZ3JvdXBBLCBncm91cEIpID0+IGdyb3VwQS52YWx1ZSAtIGdyb3VwQi52YWx1ZSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRpbWVab25lTmFtZXNcbiAgICAubWFwKCh0aW1lWm9uZSkgPT4ge1xuICAgIGNvbnN0IGxhYmVsID0gdG9Vc2VyRnJpZW5kbHlOYW1lKHRpbWVab25lKTtcbiAgICBjb25zdCB2YWx1ZSA9IHRpbWVab25lO1xuICAgIHJldHVybiB7XG4gICAgICBsYWJlbCxcbiAgICAgIHZhbHVlLFxuICAgICAgZmlsdGVyVmFsdWU6IHRpbWVab25lLFxuICAgIH07XG4gIH0pXG4gICAgLmZpbHRlcigoZ3JvdXApID0+ICEhZ3JvdXApXG4gICAgLnNvcnQoKTtcbn1cbi8qKlxuICogRXhwb3J0ZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMgb25seVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiB0b1VzZXJGcmllbmRseU5hbWUodGltZVpvbmVOYW1lKSB7XG4gIHJldHVybiB0aW1lWm9uZU5hbWUucmVwbGFjZSgvXy9nLCBcIiBcIik7XG59XG5mdW5jdGlvbiBjcmVhdGVUaW1lWm9uZU9mZnNldExhYmVsKG1lc3NhZ2VzLCBvZmZzZXRMYWJlbCwgZ3JvdXBMYWJlbCkge1xuICByZXR1cm4gbWVzc2FnZXMudGltZVpvbmVMYWJlbC5yZXBsYWNlKFwie29mZnNldH1cIiwgb2Zmc2V0TGFiZWwpLnJlcGxhY2UoXCJ7Y2l0aWVzfVwiLCBncm91cExhYmVsKTtcbn1cbmZ1bmN0aW9uIGdldFRpbWVab25lU2hvcnRPZmZzZXQodGltZVpvbmUsIGxvY2FsZSwgcmVmZXJlbmNlRGF0ZUluTXMgPSBEYXRlLm5vdygpKSB7XG4gIGNvbnN0IGRhdGVUaW1lRm9ybWF0ID0gZ2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7IHRpbWVab25lLCB0aW1lWm9uZU5hbWU6IFwic2hvcnRPZmZzZXRcIiB9KTtcbiAgY29uc3QgcGFydHMgPSBkYXRlVGltZUZvcm1hdC5mb3JtYXRUb1BhcnRzKHJlZmVyZW5jZURhdGVJbk1zKTtcbiAgcmV0dXJuIHBhcnRzLmZpbmQoKHsgdHlwZSB9KSA9PiB0eXBlID09PSBcInRpbWVab25lTmFtZVwiKS52YWx1ZTtcbn1cblxuY29uc3QgaW5wdXRUaW1lWm9uZUNzcyA9IFwiOmhvc3QoW2Rpc2FibGVkXSl7Y3Vyc29yOmRlZmF1bHQ7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7b3BhY2l0eTp2YXIoLS1jYWxjaXRlLXVpLW9wYWNpdHktZGlzYWJsZWQpfTpob3N0KFtkaXNhYmxlZF0pICosOmhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKCope3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3R7ZGlzcGxheTpibG9ja306aG9zdChbaGlkZGVuXSl7ZGlzcGxheTpub25lfVtoaWRkZW5de2Rpc3BsYXk6bm9uZX06aG9zdChbZGlzYWJsZWRdKSA6OnNsb3R0ZWQoW2NhbGNpdGUtaHlkcmF0ZWRdW2Rpc2FibGVkXSksOmhvc3QoW2Rpc2FibGVkXSkgW2NhbGNpdGUtaHlkcmF0ZWRdW2Rpc2FibGVkXXtvcGFjaXR5OjF9OjpzbG90dGVkKGlucHV0W3Nsb3Q9aGlkZGVuLWZvcm0taW5wdXRdKXttYXJnaW46MCAhaW1wb3J0YW50O29wYWNpdHk6MCAhaW1wb3J0YW50O291dGxpbmU6bm9uZSAhaW1wb3J0YW50O3BhZGRpbmc6MCAhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlICFpbXBvcnRhbnQ7aW5zZXQ6MCAhaW1wb3J0YW50O3RyYW5zZm9ybTpub25lICFpbXBvcnRhbnQ7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmUgIWltcG9ydGFudDt6LWluZGV4Oi0xICFpbXBvcnRhbnR9XCI7XG5cbmNvbnN0IElucHV0VGltZVpvbmUgPSAvKkBfX1BVUkVfXyovIHByb3h5Q3VzdG9tRWxlbWVudChjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgdGhpcy5fX2F0dGFjaFNoYWRvdygpO1xuICAgIHRoaXMuY2FsY2l0ZUlucHV0VGltZVpvbmVCZWZvcmVDbG9zZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FsY2l0ZUlucHV0VGltZVpvbmVCZWZvcmVDbG9zZVwiLCA2KTtcbiAgICB0aGlzLmNhbGNpdGVJbnB1dFRpbWVab25lQmVmb3JlT3BlbiA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FsY2l0ZUlucHV0VGltZVpvbmVCZWZvcmVPcGVuXCIsIDYpO1xuICAgIHRoaXMuY2FsY2l0ZUlucHV0VGltZVpvbmVDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcImNhbGNpdGVJbnB1dFRpbWVab25lQ2hhbmdlXCIsIDYpO1xuICAgIHRoaXMuY2FsY2l0ZUlucHV0VGltZVpvbmVDbG9zZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FsY2l0ZUlucHV0VGltZVpvbmVDbG9zZVwiLCA2KTtcbiAgICB0aGlzLmNhbGNpdGVJbnB1dFRpbWVab25lT3BlbiA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FsY2l0ZUlucHV0VGltZVpvbmVPcGVuXCIsIDYpO1xuICAgIHRoaXMuc2V0Q29tYm9ib3hSZWYgPSAoZWwpID0+IHtcbiAgICAgIHRoaXMuY29tYm9ib3hFbCA9IGVsO1xuICAgIH07XG4gICAgdGhpcy5vbkNvbWJvYm94QmVmb3JlQ2xvc2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5jYWxjaXRlSW5wdXRUaW1lWm9uZUJlZm9yZUNsb3NlLmVtaXQoKTtcbiAgICB9O1xuICAgIHRoaXMub25Db21ib2JveEJlZm9yZU9wZW4gPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5jYWxjaXRlSW5wdXRUaW1lWm9uZUJlZm9yZU9wZW4uZW1pdCgpO1xuICAgIH07XG4gICAgdGhpcy5vbkNvbWJvYm94Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IGNvbWJvYm94ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLmZpbmRUaW1lWm9uZUl0ZW0oY29tYm9ib3guc2VsZWN0ZWRJdGVtc1swXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXZhbHVlXCIpKTtcbiAgICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBgJHtzZWxlY3RlZC52YWx1ZX1gO1xuICAgICAgaWYgKHRoaXMudmFsdWUgPT09IHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gICAgICB0aGlzLnNlbGVjdGVkVGltZVpvbmVJdGVtID0gc2VsZWN0ZWQ7XG4gICAgICB0aGlzLmNhbGNpdGVJbnB1dFRpbWVab25lQ2hhbmdlLmVtaXQoKTtcbiAgICB9O1xuICAgIHRoaXMub25Db21ib2JveENsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgICAgdGhpcy5jYWxjaXRlSW5wdXRUaW1lWm9uZUNsb3NlLmVtaXQoKTtcbiAgICB9O1xuICAgIHRoaXMub25Db21ib2JveE9wZW4gPSAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMub3BlbiA9IHRydWU7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuY2FsY2l0ZUlucHV0VGltZVpvbmVPcGVuLmVtaXQoKTtcbiAgICB9O1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmZvcm0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5tYXhJdGVtcyA9IDA7XG4gICAgdGhpcy5tZXNzYWdlcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm1lc3NhZ2VPdmVycmlkZXMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5tb2RlID0gXCJvZmZzZXRcIjtcbiAgICB0aGlzLm5hbWUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgdGhpcy5vdmVybGF5UG9zaXRpb25pbmcgPSBcImFic29sdXRlXCI7XG4gICAgdGhpcy5yZWZlcmVuY2VEYXRlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucmVxdWlyZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNjYWxlID0gXCJtXCI7XG4gICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmRlZmF1bHRNZXNzYWdlcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmVmZmVjdGl2ZUxvY2FsZSA9IFwiXCI7XG4gIH1cbiAgb25NZXNzYWdlc0NoYW5nZSgpIHtcbiAgICAvKiB3aXJlZCB1cCBieSB0OW4gdXRpbCAqL1xuICB9XG4gIGhhbmRsZVRpbWVab25lSXRlbVByb3BzQ2hhbmdlKCkge1xuICAgIHRoaXMuY3JlYXRlVGltZVpvbmVJdGVtcygpO1xuICB9XG4gIGhhbmRsZVZhbHVlQ2hhbmdlKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgIGNvbnN0IHRpbWVab25lSXRlbSA9IHRoaXMuZmluZFRpbWVab25lSXRlbSh2YWx1ZSk7XG4gICAgaWYgKCF0aW1lWm9uZUl0ZW0pIHtcbiAgICAgIHRoaXMudmFsdWUgPSBvbGRWYWx1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZWxlY3RlZFRpbWVab25lSXRlbSA9IHRpbWVab25lSXRlbTtcbiAgfVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQdWJsaWMgTWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGFzeW5jIHNldEZvY3VzKCkge1xuICAgIGF3YWl0IGNvbXBvbmVudEZvY3VzYWJsZSh0aGlzKTtcbiAgICBhd2FpdCB0aGlzLmNvbWJvYm94RWwuc2V0Rm9jdXMoKTtcbiAgfVxuICBlZmZlY3RpdmVMb2NhbGVXYXRjaGVyKCkge1xuICAgIHVwZGF0ZU1lc3NhZ2VzKHRoaXMsIHRoaXMuZWZmZWN0aXZlTG9jYWxlKTtcbiAgfVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQcml2YXRlIE1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBvbkxhYmVsQ2xpY2soKSB7XG4gICAgdGhpcy5zZXRGb2N1cygpO1xuICB9XG4gIGZpbmRUaW1lWm9uZUl0ZW0odmFsdWUpIHtcbiAgICBjb25zdCB2YWx1ZVRvTWF0Y2ggPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcy50aW1lWm9uZUl0ZW1zLmZpbmQoKHsgdmFsdWUgfSkgPT4gXG4gICAgLy8gaW50ZW50aW9uYWwgPT0gdG8gbWF0Y2ggc3RyaW5nIHRvIG51bWJlclxuICAgIHZhbHVlID09IHZhbHVlVG9NYXRjaCk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlVGltZVpvbmVJdGVtcygpIHtcbiAgICBpZiAoIXRoaXMuZWZmZWN0aXZlTG9jYWxlIHx8ICF0aGlzLm1lc3NhZ2VzKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVUaW1lWm9uZUl0ZW1zKHRoaXMuZWZmZWN0aXZlTG9jYWxlLCB0aGlzLm1lc3NhZ2VzLCB0aGlzLm1vZGUsIHRoaXMucmVmZXJlbmNlRGF0ZSBpbnN0YW5jZW9mIERhdGVcbiAgICAgID8gdGhpcy5yZWZlcmVuY2VEYXRlXG4gICAgICA6IG5ldyBEYXRlKHRoaXMucmVmZXJlbmNlRGF0ZSA/PyBEYXRlLm5vdygpKSk7XG4gIH1cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIExpZmVjeWNsZVxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGNvbm5lY3RGb3JtKHRoaXMpO1xuICAgIGNvbm5lY3RMYWJlbCh0aGlzKTtcbiAgICBjb25uZWN0TG9jYWxpemVkKHRoaXMpO1xuICAgIGNvbm5lY3RNZXNzYWdlcyh0aGlzKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBkaXNjb25uZWN0Rm9ybSh0aGlzKTtcbiAgICBkaXNjb25uZWN0TGFiZWwodGhpcyk7XG4gICAgZGlzY29ubmVjdExvY2FsaXplZCh0aGlzKTtcbiAgICBkaXNjb25uZWN0TWVzc2FnZXModGhpcyk7XG4gIH1cbiAgYXN5bmMgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgc2V0VXBMb2FkYWJsZUNvbXBvbmVudCh0aGlzKTtcbiAgICBhd2FpdCBzZXRVcE1lc3NhZ2VzKHRoaXMpO1xuICAgIHRoaXMudGltZVpvbmVJdGVtcyA9IGF3YWl0IHRoaXMuY3JlYXRlVGltZVpvbmVJdGVtcygpO1xuICAgIGNvbnN0IGZhbGxiYWNrVmFsdWUgPSB0aGlzLm1vZGUgPT09IFwib2Zmc2V0XCIgPyBnZXRVc2VyVGltZVpvbmVPZmZzZXQoKSA6IGdldFVzZXJUaW1lWm9uZU5hbWUoKTtcbiAgICBjb25zdCB2YWx1ZVRvTWF0Y2ggPSB0aGlzLnZhbHVlID8/IGZhbGxiYWNrVmFsdWU7XG4gICAgdGhpcy5zZWxlY3RlZFRpbWVab25lSXRlbSA9IHRoaXMuZmluZFRpbWVab25lSXRlbSh2YWx1ZVRvTWF0Y2gpO1xuICAgIGlmICghdGhpcy5zZWxlY3RlZFRpbWVab25lSXRlbSkge1xuICAgICAgdGhpcy5zZWxlY3RlZFRpbWVab25lSXRlbSA9IHRoaXMuZmluZFRpbWVab25lSXRlbShmYWxsYmFja1ZhbHVlKTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGAke3RoaXMuc2VsZWN0ZWRUaW1lWm9uZUl0ZW0udmFsdWV9YDtcbiAgICBhZnRlckNvbm5lY3REZWZhdWx0VmFsdWVTZXQodGhpcywgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgdGhpcy52YWx1ZSA9IHNlbGVjdGVkVmFsdWU7XG4gIH1cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICBzZXRDb21wb25lbnRMb2FkZWQodGhpcyk7XG4gIH1cbiAgY29tcG9uZW50RGlkUmVuZGVyKCkge1xuICAgIHVwZGF0ZUhvc3RJbnRlcmFjdGlvbih0aGlzKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKEhvc3QsIG51bGwsIGgoXCJjYWxjaXRlLWNvbWJvYm94XCIsIHsgY2xlYXJEaXNhYmxlZDogdHJ1ZSwgZGlzYWJsZWQ6IHRoaXMuZGlzYWJsZWQsIGxhYmVsOiB0aGlzLm1lc3NhZ2VzLmNob29zZVRpbWVab25lLCBsYW5nOiB0aGlzLmVmZmVjdGl2ZUxvY2FsZSwgbWF4SXRlbXM6IHRoaXMubWF4SXRlbXMsIG9uQ2FsY2l0ZUNvbWJvYm94QmVmb3JlQ2xvc2U6IHRoaXMub25Db21ib2JveEJlZm9yZUNsb3NlLCBvbkNhbGNpdGVDb21ib2JveEJlZm9yZU9wZW46IHRoaXMub25Db21ib2JveEJlZm9yZU9wZW4sIG9uQ2FsY2l0ZUNvbWJvYm94Q2hhbmdlOiB0aGlzLm9uQ29tYm9ib3hDaGFuZ2UsIG9uQ2FsY2l0ZUNvbWJvYm94Q2xvc2U6IHRoaXMub25Db21ib2JveENsb3NlLCBvbkNhbGNpdGVDb21ib2JveE9wZW46IHRoaXMub25Db21ib2JveE9wZW4sIG9wZW46IHRoaXMub3Blbiwgb3ZlcmxheVBvc2l0aW9uaW5nOiB0aGlzLm92ZXJsYXlQb3NpdGlvbmluZywgc2NhbGU6IHRoaXMuc2NhbGUsIHNlbGVjdGlvbk1vZGU6IFwic2luZ2xlLXBlcnNpc3RcIixcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9qc3gtc29ydC1wcm9wcyAtLSByZWYgc2hvdWxkIGJlIGxhc3Qgc28gbm9kZSBhdHRycy9wcm9wcyBhcmUgaW4gc3luYyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9wdWxsLzY1MzApXG4gICAgICByZWY6IHRoaXMuc2V0Q29tYm9ib3hSZWYgfSwgdGhpcy50aW1lWm9uZUl0ZW1zLm1hcCgoZ3JvdXApID0+IHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZFRpbWVab25lSXRlbSA9PT0gZ3JvdXA7XG4gICAgICBjb25zdCB7IGxhYmVsLCB2YWx1ZSB9ID0gZ3JvdXA7XG4gICAgICByZXR1cm4gKGgoXCJjYWxjaXRlLWNvbWJvYm94LWl0ZW1cIiwgeyBcImRhdGEtdmFsdWVcIjogdmFsdWUsIGtleTogbGFiZWwsIHNlbGVjdGVkOiBzZWxlY3RlZCwgdGV4dExhYmVsOiBsYWJlbCwgdmFsdWU6IGAke2dyb3VwLmZpbHRlclZhbHVlfWAgfSkpO1xuICAgIH0pKSwgaChIaWRkZW5Gb3JtSW5wdXRTbG90LCB7IGNvbXBvbmVudDogdGhpcyB9KSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgZGVsZWdhdGVzRm9jdXMoKSB7IHJldHVybiB0cnVlOyB9XG4gIHN0YXRpYyBnZXQgYXNzZXRzRGlycygpIHsgcmV0dXJuIFtcImFzc2V0c1wiXTsgfVxuICBnZXQgZWwoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJtZXNzYWdlT3ZlcnJpZGVzXCI6IFtcIm9uTWVzc2FnZXNDaGFuZ2VcIl0sXG4gICAgXCJlZmZlY3RpdmVMb2NhbGVcIjogW1wiaGFuZGxlVGltZVpvbmVJdGVtUHJvcHNDaGFuZ2VcIiwgXCJlZmZlY3RpdmVMb2NhbGVXYXRjaGVyXCJdLFxuICAgIFwibWVzc2FnZXNcIjogW1wiaGFuZGxlVGltZVpvbmVJdGVtUHJvcHNDaGFuZ2VcIl0sXG4gICAgXCJtb2RlXCI6IFtcImhhbmRsZVRpbWVab25lSXRlbVByb3BzQ2hhbmdlXCJdLFxuICAgIFwicmVmZXJlbmNlRGF0ZVwiOiBbXCJoYW5kbGVUaW1lWm9uZUl0ZW1Qcm9wc0NoYW5nZVwiXSxcbiAgICBcInZhbHVlXCI6IFtcImhhbmRsZVZhbHVlQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGlucHV0VGltZVpvbmVDc3M7IH1cbn0sIFsxNywgXCJjYWxjaXRlLWlucHV0LXRpbWUtem9uZVwiLCB7XG4gICAgXCJkaXNhYmxlZFwiOiBbNTE2XSxcbiAgICBcImZvcm1cIjogWzUxM10sXG4gICAgXCJtYXhJdGVtc1wiOiBbNTE0LCBcIm1heC1pdGVtc1wiXSxcbiAgICBcIm1lc3NhZ2VzXCI6IFsxMDQwXSxcbiAgICBcIm1lc3NhZ2VPdmVycmlkZXNcIjogWzEwNDBdLFxuICAgIFwibW9kZVwiOiBbNTEzXSxcbiAgICBcIm5hbWVcIjogWzUxM10sXG4gICAgXCJvcGVuXCI6IFsxNTQwXSxcbiAgICBcIm92ZXJsYXlQb3NpdGlvbmluZ1wiOiBbNTEzLCBcIm92ZXJsYXktcG9zaXRpb25pbmdcIl0sXG4gICAgXCJyZWZlcmVuY2VEYXRlXCI6IFsxLCBcInJlZmVyZW5jZS1kYXRlXCJdLFxuICAgIFwicmVxdWlyZWRcIjogWzUxNl0sXG4gICAgXCJzY2FsZVwiOiBbNTEzXSxcbiAgICBcInZhbHVlXCI6IFsxMDI1XSxcbiAgICBcImRlZmF1bHRNZXNzYWdlc1wiOiBbMzJdLFxuICAgIFwiZWZmZWN0aXZlTG9jYWxlXCI6IFszMl0sXG4gICAgXCJzZXRGb2N1c1wiOiBbNjRdXG4gIH1dKTtcbmZ1bmN0aW9uIGRlZmluZUN1c3RvbUVsZW1lbnQkMSgpIHtcbiAgaWYgKHR5cGVvZiBjdXN0b21FbGVtZW50cyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBjb21wb25lbnRzID0gW1wiY2FsY2l0ZS1pbnB1dC10aW1lLXpvbmVcIiwgXCJjYWxjaXRlLWNoaXBcIiwgXCJjYWxjaXRlLWNvbWJvYm94XCIsIFwiY2FsY2l0ZS1jb21ib2JveC1pdGVtXCIsIFwiY2FsY2l0ZS1pY29uXCJdO1xuICBjb21wb25lbnRzLmZvckVhY2godGFnTmFtZSA9PiB7IHN3aXRjaCAodGFnTmFtZSkge1xuICAgIGNhc2UgXCJjYWxjaXRlLWlucHV0LXRpbWUtem9uZVwiOlxuICAgICAgaWYgKCFjdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpIHtcbiAgICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIElucHV0VGltZVpvbmUpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImNhbGNpdGUtY2hpcFwiOlxuICAgICAgaWYgKCFjdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpIHtcbiAgICAgICAgZGVmaW5lQ3VzdG9tRWxlbWVudCQ1KCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiY2FsY2l0ZS1jb21ib2JveFwiOlxuICAgICAgaWYgKCFjdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpIHtcbiAgICAgICAgZGVmaW5lQ3VzdG9tRWxlbWVudCQ0KCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiY2FsY2l0ZS1jb21ib2JveC1pdGVtXCI6XG4gICAgICBpZiAoIWN1c3RvbUVsZW1lbnRzLmdldCh0YWdOYW1lKSkge1xuICAgICAgICBkZWZpbmVDdXN0b21FbGVtZW50JDMoKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjYWxjaXRlLWljb25cIjpcbiAgICAgIGlmICghY3VzdG9tRWxlbWVudHMuZ2V0KHRhZ05hbWUpKSB7XG4gICAgICAgIGRlZmluZUN1c3RvbUVsZW1lbnQkMigpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH0gfSk7XG59XG5kZWZpbmVDdXN0b21FbGVtZW50JDEoKTtcblxuY29uc3QgQ2FsY2l0ZUlucHV0VGltZVpvbmUgPSBJbnB1dFRpbWVab25lO1xuY29uc3QgZGVmaW5lQ3VzdG9tRWxlbWVudCA9IGRlZmluZUN1c3RvbUVsZW1lbnQkMTtcblxuZXhwb3J0IHsgQ2FsY2l0ZUlucHV0VGltZVpvbmUsIGRlZmluZUN1c3RvbUVsZW1lbnQgfTtcbiIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9tYWluL0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG4gKiB2MS4xMS4wXG4gKi9cbmltcG9ydCB7IHByb3h5Q3VzdG9tRWxlbWVudCwgSFRNTEVsZW1lbnQsIGNyZWF0ZUV2ZW50LCBoLCBIb3N0IH0gZnJvbSAnQHN0ZW5jaWwvY29yZS9pbnRlcm5hbC9jbGllbnQvaW5kZXguanMnO1xuaW1wb3J0IHsgYyBhcyBjb25uZWN0Q29uZGl0aW9uYWxTbG90Q29tcG9uZW50LCBkIGFzIGRpc2Nvbm5lY3RDb25kaXRpb25hbFNsb3RDb21wb25lbnQgfSBmcm9tICcuL2NvbmRpdGlvbmFsU2xvdC5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldFNsb3R0ZWQgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBnIGFzIGd1aWQgfSBmcm9tICcuL2d1aWQuanMnO1xuaW1wb3J0IHsgYyBhcyBjb25uZWN0SW50ZXJhY3RpdmUsIGQgYXMgZGlzY29ubmVjdEludGVyYWN0aXZlLCB1IGFzIHVwZGF0ZUhvc3RJbnRlcmFjdGlvbiB9IGZyb20gJy4vaW50ZXJhY3RpdmUuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRBbmNlc3RvcnMsIGkgYXMgaXNTaW5nbGVMaWtlLCBhIGFzIGdldERlcHRoIH0gZnJvbSAnLi91dGlsczIuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRJY29uU2NhbGUgfSBmcm9tICcuL2NvbXBvbmVudC5qcyc7XG5pbXBvcnQgeyBkIGFzIGRlZmluZUN1c3RvbUVsZW1lbnQkMSB9IGZyb20gJy4vaWNvbi5qcyc7XG5cbmNvbnN0IENTUyA9IHtcbiAgaWNvbjogXCJpY29uXCIsXG4gIGljb25BY3RpdmU6IFwiaWNvbi0tYWN0aXZlXCIsXG4gIGljb25JbmRlbnQ6IFwiaWNvbi0taW5kZW50XCIsXG4gIGN1c3RvbTogXCJpY29uLS1jdXN0b21cIixcbiAgZG90OiBcImljb24tLWRvdFwiLFxuICBzaW5nbGU6IFwibGFiZWwtLXNpbmdsZVwiLFxuICBsYWJlbDogXCJsYWJlbFwiLFxuICBhY3RpdmU6IFwibGFiZWwtLWFjdGl2ZVwiLFxuICBzZWxlY3RlZDogXCJsYWJlbC0tc2VsZWN0ZWRcIixcbiAgdGl0bGU6IFwidGl0bGVcIixcbiAgdGV4dENvbnRhaW5lcjogXCJ0ZXh0LWNvbnRhaW5lclwiLFxufTtcblxuY29uc3QgY29tYm9ib3hJdGVtQ3NzID0gXCJAY2hhcnNldCBcXFwiVVRGLThcXFwiOzpob3N0KFtkaXNhYmxlZF0pe2N1cnNvcjpkZWZhdWx0Oy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO29wYWNpdHk6dmFyKC0tY2FsY2l0ZS11aS1vcGFjaXR5LWRpc2FibGVkKX06aG9zdChbZGlzYWJsZWRdKSAqLDpob3N0KFtkaXNhYmxlZF0pIDo6c2xvdHRlZCgqKXtwb2ludGVyLWV2ZW50czpub25lfTpob3N0KFtoaWRkZW5dKXtkaXNwbGF5Om5vbmV9W2hpZGRlbl17ZGlzcGxheTpub25lfS5zY2FsZS0tc3tmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTIpO2xpbmUtaGVpZ2h0OjFyZW07LS1jYWxjaXRlLWNvbWJvYm94LWl0ZW0tc3BhY2luZy11bml0LWw6MC41cmVtOy0tY2FsY2l0ZS1jb21ib2JveC1pdGVtLXNwYWNpbmctdW5pdC1zOjAuMjVyZW07LS1jYWxjaXRlLWNvbWJvYm94LWl0ZW0tc3BhY2luZy1pbmRlbnQ6MC41cmVtOy0tY2FsY2l0ZS1jb21ib2JveC1pdGVtLXNlbGVjdG9yLWljb24tc2l6ZToxcmVtfS5zY2FsZS0tbXtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTEpO2xpbmUtaGVpZ2h0OjFyZW07LS1jYWxjaXRlLWNvbWJvYm94LWl0ZW0tc3BhY2luZy11bml0LWw6MC43NXJlbTstLWNhbGNpdGUtY29tYm9ib3gtaXRlbS1zcGFjaW5nLXVuaXQtczowLjVyZW07LS1jYWxjaXRlLWNvbWJvYm94LWl0ZW0tc3BhY2luZy1pbmRlbnQ6MC43NXJlbTstLWNhbGNpdGUtY29tYm9ib3gtaXRlbS1zZWxlY3Rvci1pY29uLXNpemU6MXJlbX0uc2NhbGUtLWx7Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLTApO2xpbmUtaGVpZ2h0OjEuMjVyZW07LS1jYWxjaXRlLWNvbWJvYm94LWl0ZW0tc3BhY2luZy11bml0LWw6MXJlbTstLWNhbGNpdGUtY29tYm9ib3gtaXRlbS1zcGFjaW5nLXVuaXQtczowLjYyNXJlbTstLWNhbGNpdGUtY29tYm9ib3gtaXRlbS1zcGFjaW5nLWluZGVudDoxcmVtOy0tY2FsY2l0ZS1jb21ib2JveC1pdGVtLXNlbGVjdG9yLWljb24tc2l6ZToxLjVyZW19LmNvbnRhaW5lcnstLWNhbGNpdGUtY29tYm9ib3gtaXRlbS1pbmRlbnQtdmFsdWU6Y2FsYyhcXG4gICAgdmFyKC0tY2FsY2l0ZS1jb21ib2JveC1pdGVtLXNwYWNpbmctaW5kZW50KSAqIHZhcigtLWNhbGNpdGUtY29tYm9ib3gtaXRlbS1zcGFjaW5nLWluZGVudC1tdWx0aXBsaWVyKVxcbiAgKX06aG9zdCg6Zm9jdXMpey0tdHctc2hhZG93OjAgMCAjMDAwMDstLXR3LXNoYWRvdy1jb2xvcmVkOjAgMCAjMDAwMDtib3gtc2hhZG93OnZhcigtLXR3LXJpbmctb2Zmc2V0LXNoYWRvdywgMCAwICMwMDAwKSwgdmFyKC0tdHctcmluZy1zaGFkb3csIDAgMCAjMDAwMCksIHZhcigtLXR3LXNoYWRvdyl9Omhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF0pLDpob3N0KFtkaXNhYmxlZF0pIFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF17b3BhY2l0eToxfTpob3N0LHVse21hcmdpbjowcHg7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtwYWRkaW5nOjBweH06aG9zdCg6Zm9jdXMpLHVsOmZvY3Vze291dGxpbmU6MnB4IHNvbGlkIHRyYW5zcGFyZW50O291dGxpbmUtb2Zmc2V0OjJweH0ubGFiZWx7cG9zaXRpb246cmVsYXRpdmU7Ym94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6ZmxleDtpbmxpbmUtc2l6ZToxMDAlO21pbi1pbmxpbmUtc2l6ZToxMDAlO2N1cnNvcjpwb2ludGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLXRleHQtMyk7dGV4dC1kZWNvcmF0aW9uLWxpbmU6bm9uZTt0cmFuc2l0aW9uLWR1cmF0aW9uOjE1MG1zO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7b3V0bGluZS1jb2xvcjp0cmFuc3BhcmVudDt3b3JkLXdyYXA6YnJlYWstd29yZDt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7cGFkZGluZy1ibG9jazp2YXIoLS1jYWxjaXRlLWNvbWJvYm94LWl0ZW0tc3BhY2luZy11bml0LXMpO3BhZGRpbmctaW5saW5lOnZhcigtLWNhbGNpdGUtY29tYm9ib3gtaXRlbS1zcGFjaW5nLXVuaXQtbCl9Omhvc3QoW2Rpc2FibGVkXSkgLmxhYmVse2N1cnNvcjpkZWZhdWx0fS5sYWJlbC0tc2VsZWN0ZWR7Zm9udC13ZWlnaHQ6dmFyKC0tY2FsY2l0ZS1mb250LXdlaWdodC1tZWRpdW0pO2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0xKX0ubGFiZWwtLWFjdGl2ZXtvdXRsaW5lOjJweCBzb2xpZCB2YXIoLS1jYWxjaXRlLXVpLWZvY3VzLWNvbG9yLCB2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKSk7b3V0bGluZS1vZmZzZXQ6Y2FsYyhcXG4gICAgICAgICAgICAtMnB4ICpcXG4gICAgICAgICAgICBjYWxjKFxcbiAgICAgICAgICAgICAgMSAtXFxuICAgICAgICAgICAgICAyICogY2xhbXAoXFxuICAgICAgICAgICAgICAgIDAsXFxuICAgICAgICAgICAgICAgIHZhcigtLWNhbGNpdGUtdWktZm9jdXMtb2Zmc2V0LWludmVydCksXFxuICAgICAgICAgICAgICAgIDFcXG4gICAgICAgICAgICAgIClcXG4gICAgICAgICAgICApXFxuICAgICAgICAgICl9LmxhYmVsOmhvdmVyLC5sYWJlbDphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMik7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LTEpO3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7LS10dy1zaGFkb3c6MCAwICMwMDAwOy0tdHctc2hhZG93LWNvbG9yZWQ6MCAwICMwMDAwO2JveC1zaGFkb3c6dmFyKC0tdHctcmluZy1vZmZzZXQtc2hhZG93LCAwIDAgIzAwMDApLCB2YXIoLS10dy1yaW5nLXNoYWRvdywgMCAwICMwMDAwKSwgdmFyKC0tdHctc2hhZG93KX0udGl0bGV7cGFkZGluZy1ibG9jazowO3BhZGRpbmctaW5saW5lOnZhcigtLWNhbGNpdGUtY29tYm9ib3gtaXRlbS1zcGFjaW5nLXVuaXQtbCl9Lmljb257ZGlzcGxheTppbmxpbmUtZmxleDtvcGFjaXR5OjA7dHJhbnNpdGlvbi1kdXJhdGlvbjoxNTBtczt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpO2NvbG9yOnZhcigtLWNhbGNpdGUtdWktYm9yZGVyLTEpfS5pY29uLS1pbmRlbnR7cGFkZGluZy1pbmxpbmUtc3RhcnQ6dmFyKC0tY2FsY2l0ZS1jb21ib2JveC1pdGVtLWluZGVudC12YWx1ZSl9Lmljb24tLWN1c3RvbXttYXJnaW4tYmxvY2stc3RhcnQ6LTFweDtwYWRkaW5nLWlubGluZS1zdGFydDp2YXIoLS1jYWxjaXRlLWNvbWJvYm94LWl0ZW0tc3BhY2luZy11bml0LWwpO2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0zKX0uaWNvbi0tYWN0aXZle2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0xKX0uaWNvbi0tZG90e2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO21pbi1pbmxpbmUtc2l6ZTp2YXIoLS1jYWxjaXRlLWNvbWJvYm94LWl0ZW0tc2VsZWN0b3ItaWNvbi1zaXplKX0uaWNvbi0tZG90OmJlZm9yZXt0ZXh0LWFsaWduOnN0YXJ0O2NvbnRlbnQ6XFxcIuKAolxcXCJ9LmxhYmVsLS1hY3RpdmUgLmljb257b3BhY2l0eToxfS5sYWJlbC0tc2VsZWN0ZWQgLmljb257b3BhY2l0eToxO2NvbG9yOnZhcigtLWNhbGNpdGUtdWktYnJhbmQpfTpob3N0KDpob3ZlcltkaXNhYmxlZF0pIC5pY29ue29wYWNpdHk6MX1cIjtcblxuY29uc3QgQ29tYm9ib3hJdGVtID0gLypAX19QVVJFX18qLyBwcm94eUN1c3RvbUVsZW1lbnQoY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIHRoaXMuX19hdHRhY2hTaGFkb3coKTtcbiAgICB0aGlzLmNhbGNpdGVDb21ib2JveEl0ZW1DaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcImNhbGNpdGVDb21ib2JveEl0ZW1DaGFuZ2VcIiwgNik7XG4gICAgdGhpcy5pdGVtQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgdGhpcy50b2dnbGVTZWxlY3RlZCgpO1xuICAgIH07XG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuYW5jZXN0b3JzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZ3VpZCA9IGd1aWQoKTtcbiAgICB0aGlzLmljb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pY29uRmxpcFJ0bCA9IGZhbHNlO1xuICAgIHRoaXMudGV4dExhYmVsID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5maWx0ZXJEaXNhYmxlZCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnNlbGVjdGlvbk1vZGUgPSBcIm11bHRpcGxlXCI7XG4gICAgdGhpcy5zY2FsZSA9IFwibVwiO1xuICB9XG4gIHNlbGVjdGVkV2F0Y2hIYW5kbGVyKCkge1xuICAgIHRoaXMuY2FsY2l0ZUNvbWJvYm94SXRlbUNoYW5nZS5lbWl0KCk7XG4gIH1cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIExpZmVjeWNsZVxuICAvL1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmFuY2VzdG9ycyA9IGdldEFuY2VzdG9ycyh0aGlzLmVsKTtcbiAgICBjb25uZWN0Q29uZGl0aW9uYWxTbG90Q29tcG9uZW50KHRoaXMpO1xuICAgIGNvbm5lY3RJbnRlcmFjdGl2ZSh0aGlzKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBkaXNjb25uZWN0Q29uZGl0aW9uYWxTbG90Q29tcG9uZW50KHRoaXMpO1xuICAgIGRpc2Nvbm5lY3RJbnRlcmFjdGl2ZSh0aGlzKTtcbiAgfVxuICBjb21wb25lbnREaWRSZW5kZXIoKSB7XG4gICAgdXBkYXRlSG9zdEludGVyYWN0aW9uKHRoaXMpO1xuICB9XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQcml2YXRlIE1ldGhvZHNcbiAgLy9cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdG9nZ2xlU2VsZWN0ZWQoKSB7XG4gICAgY29uc3QgaXNTaW5nbGVQZXJzaXN0U2VsZWN0ID0gdGhpcy5zZWxlY3Rpb25Nb2RlID09PSBcInNpbmdsZS1wZXJzaXN0XCI7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgKGlzU2luZ2xlUGVyc2lzdFNlbGVjdCAmJiB0aGlzLnNlbGVjdGVkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNlbGVjdGVkID0gIXRoaXMuc2VsZWN0ZWQ7XG4gIH1cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFJlbmRlciBNZXRob2RzXG4gIC8vXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHJlbmRlckljb24oaWNvblBhdGgpIHtcbiAgICByZXR1cm4gdGhpcy5pY29uID8gKGgoXCJjYWxjaXRlLWljb25cIiwgeyBjbGFzczoge1xuICAgICAgICBbQ1NTLmN1c3RvbV06ICEhdGhpcy5pY29uLFxuICAgICAgICBbQ1NTLmljb25BY3RpdmVdOiB0aGlzLmljb24gJiYgdGhpcy5zZWxlY3RlZCxcbiAgICAgICAgW0NTUy5pY29uSW5kZW50XTogdHJ1ZSxcbiAgICAgIH0sIGZsaXBSdGw6IHRoaXMuaWNvbkZsaXBSdGwsIGljb246IHRoaXMuaWNvbiB8fCBpY29uUGF0aCwga2V5OiBcImljb25cIiwgc2NhbGU6IGdldEljb25TY2FsZSh0aGlzLnNjYWxlKSB9KSkgOiBudWxsO1xuICB9XG4gIHJlbmRlclNlbGVjdEluZGljYXRvcihzaG93RG90LCBpY29uUGF0aCkge1xuICAgIHJldHVybiBzaG93RG90ID8gKGgoXCJzcGFuXCIsIHsgY2xhc3M6IHtcbiAgICAgICAgW0NTUy5pY29uXTogdHJ1ZSxcbiAgICAgICAgW0NTUy5kb3RdOiB0cnVlLFxuICAgICAgICBbQ1NTLmljb25JbmRlbnRdOiB0cnVlLFxuICAgICAgfSB9KSkgOiAoaChcImNhbGNpdGUtaWNvblwiLCB7IGNsYXNzOiB7XG4gICAgICAgIFtDU1MuaWNvbl06IHRydWUsXG4gICAgICAgIFtDU1MuaWNvbkFjdGl2ZV06IHRoaXMuc2VsZWN0ZWQsXG4gICAgICAgIFtDU1MuaWNvbkluZGVudF06IHRydWUsXG4gICAgICB9LCBmbGlwUnRsOiB0aGlzLmljb25GbGlwUnRsLCBpY29uOiBpY29uUGF0aCwga2V5OiBcImluZGljYXRvclwiLCBzY2FsZTogZ2V0SWNvblNjYWxlKHRoaXMuc2NhbGUpIH0pKTtcbiAgfVxuICByZW5kZXJDaGlsZHJlbigpIHtcbiAgICBpZiAoZ2V0U2xvdHRlZCh0aGlzLmVsKSkge1xuICAgICAgcmV0dXJuIChoKFwidWxcIiwgeyBrZXk6IFwiZGVmYXVsdC1zbG90LWNvbnRhaW5lclwiIH0sIGgoXCJzbG90XCIsIG51bGwpKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1NpbmdsZVNlbGVjdCA9IGlzU2luZ2xlTGlrZSh0aGlzLnNlbGVjdGlvbk1vZGUpO1xuICAgIGNvbnN0IHNob3dEb3QgPSBpc1NpbmdsZVNlbGVjdCAmJiAhdGhpcy5kaXNhYmxlZDtcbiAgICBjb25zdCBkZWZhdWx0SWNvbiA9IGlzU2luZ2xlU2VsZWN0ID8gXCJkb3RcIiA6IFwiY2hlY2tcIjtcbiAgICBjb25zdCBpY29uUGF0aCA9IHRoaXMuZGlzYWJsZWQgPyBcIlwiIDogZGVmYXVsdEljb247XG4gICAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICAgIFtDU1MubGFiZWxdOiB0cnVlLFxuICAgICAgW0NTUy5zZWxlY3RlZF06IHRoaXMuc2VsZWN0ZWQsXG4gICAgICBbQ1NTLmFjdGl2ZV06IHRoaXMuYWN0aXZlLFxuICAgICAgW0NTUy5zaW5nbGVdOiBpc1NpbmdsZVNlbGVjdCxcbiAgICB9O1xuICAgIGNvbnN0IGRlcHRoID0gZ2V0RGVwdGgodGhpcy5lbCk7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIiB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IGBjb250YWluZXIgc2NhbGUtLSR7dGhpcy5zY2FsZX1gLCBzdHlsZTogeyBcIi0tY2FsY2l0ZS1jb21ib2JveC1pdGVtLXNwYWNpbmctaW5kZW50LW11bHRpcGxpZXJcIjogYCR7ZGVwdGh9YCB9IH0sIGgoXCJsaVwiLCB7IGNsYXNzOiBjbGFzc2VzLCBpZDogdGhpcy5ndWlkLCBvbkNsaWNrOiB0aGlzLml0ZW1DbGlja0hhbmRsZXIgfSwgdGhpcy5yZW5kZXJTZWxlY3RJbmRpY2F0b3Ioc2hvd0RvdCwgaWNvblBhdGgpLCB0aGlzLnJlbmRlckljb24oaWNvblBhdGgpLCBoKFwic3BhblwiLCB7IGNsYXNzOiBcInRpdGxlXCIgfSwgdGhpcy50ZXh0TGFiZWwpKSwgdGhpcy5yZW5kZXJDaGlsZHJlbigpKSkpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInNlbGVjdGVkXCI6IFtcInNlbGVjdGVkV2F0Y2hIYW5kbGVyXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGNvbWJvYm94SXRlbUNzczsgfVxufSwgWzEsIFwiY2FsY2l0ZS1jb21ib2JveC1pdGVtXCIsIHtcbiAgICBcImRpc2FibGVkXCI6IFs1MTZdLFxuICAgIFwic2VsZWN0ZWRcIjogWzE1NDBdLFxuICAgIFwiYWN0aXZlXCI6IFs1MTZdLFxuICAgIFwiYW5jZXN0b3JzXCI6IFsxMDQwXSxcbiAgICBcImd1aWRcIjogWzUxM10sXG4gICAgXCJpY29uXCI6IFs1MTNdLFxuICAgIFwiaWNvbkZsaXBSdGxcIjogWzUxNiwgXCJpY29uLWZsaXAtcnRsXCJdLFxuICAgIFwidGV4dExhYmVsXCI6IFs1MTMsIFwidGV4dC1sYWJlbFwiXSxcbiAgICBcInZhbHVlXCI6IFs4XSxcbiAgICBcImZpbHRlckRpc2FibGVkXCI6IFs1MTYsIFwiZmlsdGVyLWRpc2FibGVkXCJdLFxuICAgIFwic2VsZWN0aW9uTW9kZVwiOiBbNTEzLCBcInNlbGVjdGlvbi1tb2RlXCJdLFxuICAgIFwic2NhbGVcIjogWzFdXG4gIH1dKTtcbmZ1bmN0aW9uIGRlZmluZUN1c3RvbUVsZW1lbnQoKSB7XG4gIGlmICh0eXBlb2YgY3VzdG9tRWxlbWVudHMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY29tcG9uZW50cyA9IFtcImNhbGNpdGUtY29tYm9ib3gtaXRlbVwiLCBcImNhbGNpdGUtaWNvblwiXTtcbiAgY29tcG9uZW50cy5mb3JFYWNoKHRhZ05hbWUgPT4geyBzd2l0Y2ggKHRhZ05hbWUpIHtcbiAgICBjYXNlIFwiY2FsY2l0ZS1jb21ib2JveC1pdGVtXCI6XG4gICAgICBpZiAoIWN1c3RvbUVsZW1lbnRzLmdldCh0YWdOYW1lKSkge1xuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgQ29tYm9ib3hJdGVtKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjYWxjaXRlLWljb25cIjpcbiAgICAgIGlmICghY3VzdG9tRWxlbWVudHMuZ2V0KHRhZ05hbWUpKSB7XG4gICAgICAgIGRlZmluZUN1c3RvbUVsZW1lbnQkMSgpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH0gfSk7XG59XG5kZWZpbmVDdXN0b21FbGVtZW50KCk7XG5cbmV4cG9ydCB7IENvbWJvYm94SXRlbSBhcyBDLCBkZWZpbmVDdXN0b21FbGVtZW50IGFzIGQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==