"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_views_3d_layers_ImageryTileLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calculateTolerance: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t,e){return e?"xoffset"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):"yoffset"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const o=t[r].size;"number"==typeof o&&(e+=o,n++)}return e/n}function n(t,n){return"number"==typeof t?t:t?.stops?.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>"size"===t.type)).map((e=>{const{maxSize:r,minSize:o}=e;return(n(r,t)+n(o,t))/2}));let o=0;const s=r.length;if(0===s)return t;for(let n=0;n<s;n++)o+=r[n];const f=Math.floor(o/s);return Math.max(f,t)}function o(e){const n=e?.renderer,o=e?.event?.pointerType,s="touch"===o?9:6;if(!n)return s;const f="visualVariables"in n?r(s,n.visualVariables):s;if("simple"===n.type)return t(f,n.symbol);if("unique-value"===n.type){let e=f;return n.uniqueValueInfos?.forEach((n=>{e=t(e,n.symbol)})),e}if("class-breaks"===n.type){let e=f;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return"dot-density"===n.type||n.type,f}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/ImageryTileLayerView3D.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/ImageryTileLayerView3D.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../layers/support/rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _TiledLayerView3D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./TiledLayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/TiledLayerView3D.js");
/* harmony import */ var _terrain_RasterTile_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../terrain/RasterTile.js */ "./node_modules/@arcgis/core/views/3d/terrain/RasterTile.js");
/* harmony import */ var _layers_ImageryTileLayerView_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../layers/ImageryTileLayerView.js */ "./node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _support_drapedUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../support/drapedUtils.js */ "./node_modules/@arcgis/core/views/support/drapedUtils.js");
/* harmony import */ var _webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl/capabilities.js */ "./node_modules/@arcgis/core/views/webgl/capabilities.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends((0,_layers_ImageryTileLayerView_js__WEBPACK_IMPORTED_MODULE_12__["default"])((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_14__["default"])((0,_TiledLayerView3D_js__WEBPACK_IMPORTED_MODULE_10__.TiledLayerView3D)((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_9__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_13__["default"]))))){constructor(){super(...arguments),this.type="imagery-tile-3d",this.isAlignedMapTile=!0}initialize(){this.layer.increaseRasterJobHandlerUsage(),null==this.fullExtent&&this.addResolvingPromise(Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layerview:spatial-reference-incompatible","The layer extent cannot be projected to the view's spatial reference",{layer:this.layer})));const e=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.whenOnce)((()=>this.view?.basemapTerrain?.tilingSchemeLocked)).then((()=>{const e=this.view.basemapTerrain.tilingScheme,r=this.layer.tileInfo,t=["png","png24","png32","jpg","mixed"].includes(r.format)&&e.compatibleWith(r);this.isAlignedMapTile=t;const i=t?r:e.toTileInfo();this.tileInfo=i,this._updatingHandles.add((()=>[this.layer.renderer,this.layer.interpolation,this.layer.bandIds,this.layer.multidimensionalDefinition,this.layer.multidimensionalSubset,this.layer.rasterFunction,this.timeExtent]),(()=>this.refresh()))}));this.addResolvingPromise(e)}destroy(){this.layer.decreaseRasterJobHandlerUsage(),this.view=null}get _blankTile(){const e=document.createElement("canvas"),r=e.getContext("2d"),[t,i]=this.tileInfo.size;return e.width=t,e.height=i,r.clearRect(0,0,t,i),r.getImageData(0,0,t,i)}get imageFormatIsOpaque(){return"jpg"===this.layer.tileInfo.format}get hasMixedImageFormats(){return"mixed"===this.layer.tileInfo.format}get dataLevelRange(){const e=this.layer.tileInfo,r=this.tileInfo.lodAt(0)?.scale,t=this.layer.tileInfo.lodAt(e.lods.length-1)?.scale;return this.levelRangeFromScaleRange(r,t)}_getfullExtent(){return (0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_8__.projectDatasetExtent)(this.layer.rasterInfo,null!=this.view.basemapTerrain?.spatialReference?this.view.basemapTerrain.spatialReference:this.view.spatialReference)}async fetchTile(e,r,t,i){const s=this.tileInfo,a=this._canSymbolizeInWebGL(),l={tileInfo:s,requestRawData:a,signal:i.signal,timeExtent:this.timeExtent,requestAsImageElement:this.isAlignedMapTile},n=await this.layer.fetchTile(e,r,t,l);if(n instanceof HTMLImageElement)return n;let m=n?.pixelBlock;if(null==m)return this._blankTile;if(!a&&(m=await this.layer.applyRenderer(n),null==m))return this._blankTile;const p=new _terrain_RasterTile_js__WEBPACK_IMPORTED_MODULE_11__.RasterTile([e,r,t],m,s.size[0],s.size[1]);return a?(p.symbolizerRenderer=this.layer.symbolizer.rendererJSON,p.symbolizerParameters=this.layer.symbolizer.generateWebGLParameters(this._getSymbolizerOptions(e)),p.transformGrid=n.transformGrid):p.isRendereredSource=!0,p.interpolation=this.layer.interpolation,p.bandIds=this.layer.bandIds,p}_getSymbolizerOptions(e){const r=this.tileInfo.lodAt(e).resolution;return{pixelBlock:null,isGCS:null!=this.view.basemapTerrain?.spatialReference?this.view.basemapTerrain.spatialReference.isGeographic:this.view.spatialReference.isGeographic,resolution:{x:r,y:r},bandIds:this.layer.bandIds}}ensureSymbolizerParameters(e){this._canSymbolizeInWebGL()&&JSON.stringify(e.symbolizerRenderer)!==JSON.stringify(this.layer.symbolizer.rendererJSON)&&(e.symbolizerParameters=this.layer.symbolizer.generateWebGLParameters(this._getSymbolizerOptions(e.lij[0])))}createFetchPopupFeaturesQueryGeometry(e,r){return (0,_support_drapedUtils_js__WEBPACK_IMPORTED_MODULE_15__.createQueryGeometry)(e,r,this.view)}refresh(){this.emit("data-changed")}async doRefresh(){this.suspended||this.emit("data-changed")}_canSymbolizeInWebGL(){const e=(0,_webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_16__.getWebGLCapabilities)("3d"),{symbolizer:r}=this.layer,t=r.lookup?.colormapLut?.indexedColormap,i=t&&t.length>4*(e.maxTextureSize||4906);return e.supportsTextureFloat&&r.canRenderInWebGL&&!i}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],d.prototype,"_blankTile",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],d.prototype,"imageFormatIsOpaque",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],d.prototype,"hasMixedImageFormats",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],d.prototype,"dataLevelRange",null),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.ImageryTileLayerView3D")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerView3D: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/heightModelInfoUtils.js */ "./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.supportsHeightModelInfo)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>e.abort()))),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(o);const i=(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.rejectLayerError)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e?.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"slicePlaneEnabled",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.LayerView3D")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/TiledLayerView3D.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/TiledLayerView3D.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TiledLayerView3D: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/updatingProperties.js */ "./node_modules/@arcgis/core/views/3d/support/updatingProperties.js");
/* harmony import */ var _terrain_terrainUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../terrain/terrainUtils.js */ "./node_modules/@arcgis/core/views/3d/terrain/terrainUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const o=o=>{let c=class extends o{get imageFormatIsOpaque(){return!1}get fullExtent(){return this.layer.fullExtent}get isOpaque(){return this.fullOpacity>=1&&this.imageFormatIsOpaque}get dataScaleRange(){const e=this.tileInfo.lods;let t=e[0].scale,i=e[e.length-1].scale;if("tilemapCache"in this.layer&&this.layer.tilemapCache){const{effectiveMinLOD:e,effectiveMaxLOD:r}=this.layer.tilemapCache;t=this.tileInfo.lodAt(e).scale,i=this.tileInfo.lodAt(r).scale}return{minScale:t,maxScale:i}}get dataLevelRange(){const{minScale:e,maxScale:t}=this.dataScaleRange;return this.levelRangeFromScaleRange(e,t)}get displayLevelRange(){const e=this.layer.minScale||this.dataScaleRange.minScale,t=this.layer.maxScale||this.dataScaleRange.maxScale,i=this.levelRangeFromScaleRange(e,t);return this.layer.maxScale&&i.maxLevel++,i}getTileUrl(e,t,i){return this.layer.getTileUrl(e,t,i)}_addTilingSchemeMatchPromise(){if(null==this.fullExtent)return this.addResolvingPromise(Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("tilingscheme:extent-not-defined","This layer doesn't define a fullExtent.")));const e=this._getTileInfoSupportError(this.tileInfo,this.fullExtent);if(null!=e)return this.addResolvingPromise(Promise.reject(e));const r=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.whenOnce)((()=>this.view?.basemapTerrain?.tilingSchemeLocked)).then((()=>{const e=this.view.basemapTerrain.tilingScheme,t=this._getTileInfoCompatibilityError(this.tileInfo,e);if(t)throw t}));this.addResolvingPromise(r)}_getTileInfoSupportError(e,i){const r=(0,_terrain_terrainUtils_js__WEBPACK_IMPORTED_MODULE_9__.checkIfTileInfoSupportedForView)(e,i,this.view.spatialReference,this.view.state.viewingMode);if(r){const e={layer:this.layer,error:r};let i;switch(r.name){case"tilingscheme:spatial-reference-mismatch":case"tilingscheme:global-unsupported-spatial-reference":case"tilingscheme:local-unsupported-spatial-reference":i=new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",e);break;default:i=new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layerview:tiling-scheme-unsupported","The tiling scheme of this layer is not supported by SceneView",e)}return i}return null}_getTileInfoCompatibilityError(e,i){return null!=e&&i.compatibleWith(e)?null:new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layerview:tiling-scheme-incompatible","The tiling scheme of this layer is incompatible with the tiling scheme of the surface")}levelRangeFromScaleRange(e,t){const i={minLevel:0,maxLevel:1/0},r=this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.tilingScheme;if(!r)return i;const a=r.levels[0],l=e=>{const t=Math.log(a.scale/e)/Math.LN2;return.5-Math.abs(.5-t%1)<1e-9?Math.round(t):Math.ceil(t)};return null!=e&&e>0&&(i.minLevel=Math.max(0,l(e))),null!=t&&t>0&&(i.maxLevel=Math.max(0,l(t))),i}isUpdating(){return!!(this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.updating)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],c.prototype,"imageFormatIsOpaque",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],c.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_8__.updatingProgress)],c.prototype,"updatingProgress",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_8__.updatingProgressValue)],c.prototype,"updatingProgressValue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"fullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],c.prototype,"isOpaque",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"dataScaleRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],c.prototype,"dataLevelRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],c.prototype,"displayLevelRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"tileInfo",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.TiledLayerView3D")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/support/rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const p=p=>{let u=class extends p{constructor(){super(...arguments),this._rasterFieldPrefix="Raster.",this.layer=null,this.view=null,this.tileInfo=null}get fullExtent(){return this._getfullExtent()}_getfullExtent(){return (0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_9__.projectDatasetExtent)(this.layer.rasterInfo,this.view.spatialReference)}get hasTilingEffects(){return!!(this.layer.renderer&&"dynamicRangeAdjustment"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment)}get datumTransformation(){return (0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_9__.getDefaultDatumTransformationForDataset)(this.layer.fullExtent,this.view.spatialReference,!0)}supportsSpatialReference(e){return!!(0,_layers_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_9__.projectDatasetExtent)(this.layer.rasterInfo,e)}async fetchPopupFeatures(e,o){const{layer:s}=this;if(!e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imageryTileLayerView:fetchPopupFeatures","Nothing to fetch without area",{layer:s});const{popupEnabled:i}=s,a=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_10__.getFetchPopupTemplate)(s,o);if(!i||null==a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imageryTileLayerView:fetchPopupFeatures","Missing required popupTemplate or popupEnabled",{popupEnabled:i,popupTemplate:a});const n=[],{value:p,magdirValue:u,processedValue:c}=await s.identify(e,{timeExtent:this.timeExtent});let f="";if(p&&p.length){f="imagery-tile"===s.type&&s.hasStandardTime()&&null!=p[0]?p.map((e=>s.getStandardTimeValue(e))).join(", "):p.join(", ");const e={ObjectId:0},r="Raster.ServicePixelValue";e[r]=c?.join(", ")??f,e[r+".Raw"]=f;const o=s.rasterInfo.attributeTable;if(null!=o){const{fields:t,features:r}=o,s=t.find((({name:e})=>"value"===e.toLowerCase())),i=s?r.find((e=>String(e.attributes[s.name])===f)):null;if(i)for(const o in i.attributes)if(i.attributes.hasOwnProperty(o)){e[this._rasterFieldPrefix+o]=i.attributes[o]}}const i=s.rasterInfo.dataType;"vector-magdir"!==i&&"vector-uv"!==i||(e["Raster.Magnitude"]=u?.[0],e["Raster.Direction"]=u?.[1]);const a=new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"](this.fullExtent.clone(),null,e);a.layer=s,a.sourceLayer=a.layer,n.push(a)}return n}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__.combinedViewLayerTimeExtentProperty)],u.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"fullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"tileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],u.prototype,"hasTilingEffects",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],u.prototype,"datumTransformation",null),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.layers.ImageryTileLayerView")],u),u};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__.IdentifiableMixin)((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"view",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.layers.LayerView")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const a=a=>{let c=class extends a{initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.layer),"refresh",(r=>{this.doRefresh(r.dataChanged).catch((r=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(r)}))})),"RefreshableLayerView")}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"layer",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.mixins.RefreshableLayerView")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFetchPopupTemplate: () => (/* binding */ p),
/* harmony export */   getRequiredFields: () => (/* binding */ n),
/* harmony export */   hasPopupTemplate: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes("*"))return["*"];const o=t?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureEditFields)(n):[],f=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.fixFields)(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/drapedUtils.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/drapedUtils.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createQueryGeometry: () => (/* binding */ r),
/* harmony export */   intersectsDrapedGeometry: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../renderers/support/clickToleranceUtils.js */ "./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(t,r,i,a=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"]){let o=0;if("2d"===i.type)o=r*(i.resolution??0);else if("3d"===i.type){const n=i.overlayPixelSizeInMapUnits(t),a=i.basemapSpatialReference;o=null==a||a.equals(i.spatialReference)?r*n:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(a)/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(i.spatialReference)}const s=t.x-o,l=t.y-o,m=t.x+o,p=t.y+o,{spatialReference:c}=i;return a.xmin=Math.min(s,m),a.ymin=Math.min(l,p),a.xmax=Math.max(s,m),a.ymax=Math.max(l,p),a.spatialReference=c,a}function i(e,n,i){const o=i.toMap(e);if(null==o)return!1;return r(o,(0,_renderers_support_clickToleranceUtils_js__WEBPACK_IMPORTED_MODULE_2__.calculateTolerance)(),i,a).intersects(n)}const a=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"];


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfbGF5ZXJzX0ltYWdlcnlUaWxlTGF5ZXJWaWV3M0RfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrSUFBa0ksY0FBYyxZQUFZLFlBQVksV0FBVyxLQUFLLGtCQUFrQiwrQkFBK0IsV0FBVyxnQkFBZ0IseURBQXlELGdCQUFnQixlQUFlLGdEQUFnRCxNQUFNLG9CQUFvQixHQUFHLHdCQUF3QixHQUFHLFFBQVEsaUJBQWlCLGtCQUFrQixZQUFZLElBQUksWUFBWSx3QkFBd0IscUJBQXFCLGNBQWMsOERBQThELGVBQWUsdURBQXVELDBDQUEwQyw0QkFBNEIsUUFBUSx3Q0FBd0MsZ0JBQWdCLEtBQUssNEJBQTRCLFFBQVEsc0NBQXNDLGdCQUFnQixLQUFLLHVDQUF1RTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKM2dDO0FBQ0E7QUFDQTtBQUNBO0FBQ284QixvQkFBb0IsNEVBQUMsQ0FBQyw0RUFBQyxDQUFDLHVFQUFDLENBQUMsNERBQUMsQ0FBQyw2REFBQyxNQUFNLGNBQWMseUVBQXlFLGFBQWEsOEdBQThHLHNEQUFDLG9IQUFvSCxpQkFBaUIsSUFBSSxRQUFRLGdFQUFDLGlFQUFpRSxvSkFBb0osd0JBQXdCLDJCQUEyQiwwUEFBMFAsR0FBRyw0QkFBNEIsVUFBVSwwREFBMEQsaUJBQWlCLHVGQUF1Rix5RUFBeUUsMEJBQTBCLHlDQUF5QywyQkFBMkIsMkNBQTJDLHFCQUFxQixnSEFBZ0gsMENBQTBDLGlCQUFpQixPQUFPLCtHQUFDLDhJQUE4SSx5QkFBeUIsdURBQXVELG1IQUFtSCx1Q0FBdUMsMENBQTBDLG9CQUFvQixrQ0FBa0MsNEVBQTRFLFlBQVksK0RBQUMsZ0NBQWdDLHVTQUF1Uyx5QkFBeUIsMENBQTBDLE9BQU8sa0xBQWtMLFFBQVEsNkJBQTZCLDhCQUE4QixxT0FBcU8sMkNBQTJD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LGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSx3Q0FBd0MsdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSx1RkFBQyxvQ0FBb0MsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p6NEU7QUFDQTtBQUNBO0FBQ0E7QUFDbWMsWUFBWSxzQkFBc0IsYUFBYSxnQkFBZ0IsMERBQUMsaUNBQWlDLHlDQUF5QyxtRUFBQyxLQUFLLHVEQUFDLDBCQUEwQixHQUFHLDZCQUE2QixPQUFPLHVEQUFDLEVBQUUsc0ZBQUMsa0NBQWtDLHVEQUFDLEVBQUUsc0ZBQUMsbURBQXdFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdndCO0FBQ0E7QUFDQTtBQUNBO0FBQzRGLHNDQUFzQyxvQkFBb0Isa0RBQWtELHNCQUFzQixJQUFJLDhEQUE4RCxHQUFHLCtCQUErQixVQUFVLG1GQUFDLFNBQVMsd0VBQUMsNEJBQTRCLG9KQUFvSixNQUFNLFdBQVcsR0FBRyx1REFBdUQsS0FBSyxnQkFBZ0Isd0lBQXdJLGdCQUFnQixrQkFBa0IsOEJBQThCLEVBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pqNEI7QUFDQTtBQUNBO0FBQ0E7QUFDc04sdUJBQXVCLDJEQUFDLEVBQUUsUUFBUSx1Q0FBdUMsdUJBQXVCLG9FQUFvRSw0Q0FBNEMseUVBQUMsSUFBSSx5RUFBQyxxQkFBcUIsdUNBQXVDLG1CQUFtQixHQUFHLGtIQUFrSCxrQkFBa0IsbUJBQW1CLG9CQUFvQixXQUFXLDZGQUFDLHNCQUFzQixZQUFZLDJEQUFDLENBQWdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVuZGVyZXJzL3N1cHBvcnQvY2xpY2tUb2xlcmFuY2VVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvSW1hZ2VyeVRpbGVMYXllclZpZXczRC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvTGF5ZXJWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL1RpbGVkTGF5ZXJWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL0ltYWdlcnlUaWxlTGF5ZXJWaWV3LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9MYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL1JlZnJlc2hhYmxlTGF5ZXJWaWV3LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9zdXBwb3J0L3BvcHVwVXRpbHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3Mvc3VwcG9ydC9kcmFwZWRVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gdCh0LGUpe3JldHVybiBlP1wieG9mZnNldFwiaW4gZSYmZS54b2Zmc2V0P01hdGgubWF4KHQsTWF0aC5hYnMoZS54b2Zmc2V0KSk6XCJ5b2Zmc2V0XCJpbiBlJiZlLnlvZmZzZXQ/TWF0aC5tYXgodCxNYXRoLmFicyhlLnlvZmZzZXR8fDApKTp0OnR9ZnVuY3Rpb24gZSh0KXtsZXQgZT0wLG49MDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbz10W3JdLnNpemU7XCJudW1iZXJcIj09dHlwZW9mIG8mJihlKz1vLG4rKyl9cmV0dXJuIGUvbn1mdW5jdGlvbiBuKHQsbil7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/dDp0Py5zdG9wcz8ubGVuZ3RoP2UodC5zdG9wcyk6bn1mdW5jdGlvbiByKHQsZSl7aWYoIWUpcmV0dXJuIHQ7Y29uc3Qgcj1lLmZpbHRlcigodD0+XCJzaXplXCI9PT10LnR5cGUpKS5tYXAoKGU9Pntjb25zdHttYXhTaXplOnIsbWluU2l6ZTpvfT1lO3JldHVybihuKHIsdCkrbihvLHQpKS8yfSkpO2xldCBvPTA7Y29uc3Qgcz1yLmxlbmd0aDtpZigwPT09cylyZXR1cm4gdDtmb3IobGV0IG49MDtuPHM7bisrKW8rPXJbbl07Y29uc3QgZj1NYXRoLmZsb29yKG8vcyk7cmV0dXJuIE1hdGgubWF4KGYsdCl9ZnVuY3Rpb24gbyhlKXtjb25zdCBuPWU/LnJlbmRlcmVyLG89ZT8uZXZlbnQ/LnBvaW50ZXJUeXBlLHM9XCJ0b3VjaFwiPT09bz85OjY7aWYoIW4pcmV0dXJuIHM7Y29uc3QgZj1cInZpc3VhbFZhcmlhYmxlc1wiaW4gbj9yKHMsbi52aXN1YWxWYXJpYWJsZXMpOnM7aWYoXCJzaW1wbGVcIj09PW4udHlwZSlyZXR1cm4gdChmLG4uc3ltYm9sKTtpZihcInVuaXF1ZS12YWx1ZVwiPT09bi50eXBlKXtsZXQgZT1mO3JldHVybiBuLnVuaXF1ZVZhbHVlSW5mb3M/LmZvckVhY2goKG49PntlPXQoZSxuLnN5bWJvbCl9KSksZX1pZihcImNsYXNzLWJyZWFrc1wiPT09bi50eXBlKXtsZXQgZT1mO3JldHVybiBuLmNsYXNzQnJlYWtJbmZvcy5mb3JFYWNoKChuPT57ZT10KGUsbi5zeW1ib2wpfSkpLGV9cmV0dXJuXCJkb3QtZGVuc2l0eVwiPT09bi50eXBlfHxuLnR5cGUsZn1leHBvcnR7byBhcyBjYWxjdWxhdGVUb2xlcmFuY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7d2hlbk9uY2UgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtwcm9qZWN0RGF0YXNldEV4dGVudCBhcyBhfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L3Jhc3RlckZ1bmN0aW9ucy9yYXN0ZXJQcm9qZWN0aW9uSGVscGVyLmpzXCI7aW1wb3J0e0xheWVyVmlldzNEIGFzIGx9ZnJvbVwiLi9MYXllclZpZXczRC5qc1wiO2ltcG9ydHtUaWxlZExheWVyVmlldzNEIGFzIG59ZnJvbVwiLi9UaWxlZExheWVyVmlldzNELmpzXCI7aW1wb3J0e1Jhc3RlclRpbGUgYXMgb31mcm9tXCIuLi90ZXJyYWluL1Jhc3RlclRpbGUuanNcIjtpbXBvcnQgbSBmcm9tXCIuLi8uLi9sYXllcnMvSW1hZ2VyeVRpbGVMYXllclZpZXcuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi9sYXllcnMvTGF5ZXJWaWV3LmpzXCI7aW1wb3J0IGggZnJvbVwiLi4vLi4vbGF5ZXJzL1JlZnJlc2hhYmxlTGF5ZXJWaWV3LmpzXCI7aW1wb3J0e2NyZWF0ZVF1ZXJ5R2VvbWV0cnkgYXMgY31mcm9tXCIuLi8uLi9zdXBwb3J0L2RyYXBlZFV0aWxzLmpzXCI7aW1wb3J0e2dldFdlYkdMQ2FwYWJpbGl0aWVzIGFzIHl9ZnJvbVwiLi4vLi4vd2ViZ2wvY2FwYWJpbGl0aWVzLmpzXCI7bGV0IGQ9Y2xhc3MgZXh0ZW5kcyhtKGgobihsKHApKSkpKXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPVwiaW1hZ2VyeS10aWxlLTNkXCIsdGhpcy5pc0FsaWduZWRNYXBUaWxlPSEwfWluaXRpYWxpemUoKXt0aGlzLmxheWVyLmluY3JlYXNlUmFzdGVySm9iSGFuZGxlclVzYWdlKCksbnVsbD09dGhpcy5mdWxsRXh0ZW50JiZ0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UoUHJvbWlzZS5yZWplY3QobmV3IHIoXCJsYXllcnZpZXc6c3BhdGlhbC1yZWZlcmVuY2UtaW5jb21wYXRpYmxlXCIsXCJUaGUgbGF5ZXIgZXh0ZW50IGNhbm5vdCBiZSBwcm9qZWN0ZWQgdG8gdGhlIHZpZXcncyBzcGF0aWFsIHJlZmVyZW5jZVwiLHtsYXllcjp0aGlzLmxheWVyfSkpKTtjb25zdCBlPXQoKCgpPT50aGlzLnZpZXc/LmJhc2VtYXBUZXJyYWluPy50aWxpbmdTY2hlbWVMb2NrZWQpKS50aGVuKCgoKT0+e2NvbnN0IGU9dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLnRpbGluZ1NjaGVtZSxyPXRoaXMubGF5ZXIudGlsZUluZm8sdD1bXCJwbmdcIixcInBuZzI0XCIsXCJwbmczMlwiLFwianBnXCIsXCJtaXhlZFwiXS5pbmNsdWRlcyhyLmZvcm1hdCkmJmUuY29tcGF0aWJsZVdpdGgocik7dGhpcy5pc0FsaWduZWRNYXBUaWxlPXQ7Y29uc3QgaT10P3I6ZS50b1RpbGVJbmZvKCk7dGhpcy50aWxlSW5mbz1pLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT5bdGhpcy5sYXllci5yZW5kZXJlcix0aGlzLmxheWVyLmludGVycG9sYXRpb24sdGhpcy5sYXllci5iYW5kSWRzLHRoaXMubGF5ZXIubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24sdGhpcy5sYXllci5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0LHRoaXMubGF5ZXIucmFzdGVyRnVuY3Rpb24sdGhpcy50aW1lRXh0ZW50XSksKCgpPT50aGlzLnJlZnJlc2goKSkpfSkpO3RoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShlKX1kZXN0cm95KCl7dGhpcy5sYXllci5kZWNyZWFzZVJhc3RlckpvYkhhbmRsZXJVc2FnZSgpLHRoaXMudmlldz1udWxsfWdldCBfYmxhbmtUaWxlKCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHI9ZS5nZXRDb250ZXh0KFwiMmRcIiksW3QsaV09dGhpcy50aWxlSW5mby5zaXplO3JldHVybiBlLndpZHRoPXQsZS5oZWlnaHQ9aSxyLmNsZWFyUmVjdCgwLDAsdCxpKSxyLmdldEltYWdlRGF0YSgwLDAsdCxpKX1nZXQgaW1hZ2VGb3JtYXRJc09wYXF1ZSgpe3JldHVyblwianBnXCI9PT10aGlzLmxheWVyLnRpbGVJbmZvLmZvcm1hdH1nZXQgaGFzTWl4ZWRJbWFnZUZvcm1hdHMoKXtyZXR1cm5cIm1peGVkXCI9PT10aGlzLmxheWVyLnRpbGVJbmZvLmZvcm1hdH1nZXQgZGF0YUxldmVsUmFuZ2UoKXtjb25zdCBlPXRoaXMubGF5ZXIudGlsZUluZm8scj10aGlzLnRpbGVJbmZvLmxvZEF0KDApPy5zY2FsZSx0PXRoaXMubGF5ZXIudGlsZUluZm8ubG9kQXQoZS5sb2RzLmxlbmd0aC0xKT8uc2NhbGU7cmV0dXJuIHRoaXMubGV2ZWxSYW5nZUZyb21TY2FsZVJhbmdlKHIsdCl9X2dldGZ1bGxFeHRlbnQoKXtyZXR1cm4gYSh0aGlzLmxheWVyLnJhc3RlckluZm8sbnVsbCE9dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluPy5zcGF0aWFsUmVmZXJlbmNlP3RoaXMudmlldy5iYXNlbWFwVGVycmFpbi5zcGF0aWFsUmVmZXJlbmNlOnRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKX1hc3luYyBmZXRjaFRpbGUoZSxyLHQsaSl7Y29uc3Qgcz10aGlzLnRpbGVJbmZvLGE9dGhpcy5fY2FuU3ltYm9saXplSW5XZWJHTCgpLGw9e3RpbGVJbmZvOnMscmVxdWVzdFJhd0RhdGE6YSxzaWduYWw6aS5zaWduYWwsdGltZUV4dGVudDp0aGlzLnRpbWVFeHRlbnQscmVxdWVzdEFzSW1hZ2VFbGVtZW50OnRoaXMuaXNBbGlnbmVkTWFwVGlsZX0sbj1hd2FpdCB0aGlzLmxheWVyLmZldGNoVGlsZShlLHIsdCxsKTtpZihuIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudClyZXR1cm4gbjtsZXQgbT1uPy5waXhlbEJsb2NrO2lmKG51bGw9PW0pcmV0dXJuIHRoaXMuX2JsYW5rVGlsZTtpZighYSYmKG09YXdhaXQgdGhpcy5sYXllci5hcHBseVJlbmRlcmVyKG4pLG51bGw9PW0pKXJldHVybiB0aGlzLl9ibGFua1RpbGU7Y29uc3QgcD1uZXcgbyhbZSxyLHRdLG0scy5zaXplWzBdLHMuc2l6ZVsxXSk7cmV0dXJuIGE/KHAuc3ltYm9saXplclJlbmRlcmVyPXRoaXMubGF5ZXIuc3ltYm9saXplci5yZW5kZXJlckpTT04scC5zeW1ib2xpemVyUGFyYW1ldGVycz10aGlzLmxheWVyLnN5bWJvbGl6ZXIuZ2VuZXJhdGVXZWJHTFBhcmFtZXRlcnModGhpcy5fZ2V0U3ltYm9saXplck9wdGlvbnMoZSkpLHAudHJhbnNmb3JtR3JpZD1uLnRyYW5zZm9ybUdyaWQpOnAuaXNSZW5kZXJlcmVkU291cmNlPSEwLHAuaW50ZXJwb2xhdGlvbj10aGlzLmxheWVyLmludGVycG9sYXRpb24scC5iYW5kSWRzPXRoaXMubGF5ZXIuYmFuZElkcyxwfV9nZXRTeW1ib2xpemVyT3B0aW9ucyhlKXtjb25zdCByPXRoaXMudGlsZUluZm8ubG9kQXQoZSkucmVzb2x1dGlvbjtyZXR1cm57cGl4ZWxCbG9jazpudWxsLGlzR0NTOm51bGwhPXRoaXMudmlldy5iYXNlbWFwVGVycmFpbj8uc3BhdGlhbFJlZmVyZW5jZT90aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4uc3BhdGlhbFJlZmVyZW5jZS5pc0dlb2dyYXBoaWM6dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UuaXNHZW9ncmFwaGljLHJlc29sdXRpb246e3g6cix5OnJ9LGJhbmRJZHM6dGhpcy5sYXllci5iYW5kSWRzfX1lbnN1cmVTeW1ib2xpemVyUGFyYW1ldGVycyhlKXt0aGlzLl9jYW5TeW1ib2xpemVJbldlYkdMKCkmJkpTT04uc3RyaW5naWZ5KGUuc3ltYm9saXplclJlbmRlcmVyKSE9PUpTT04uc3RyaW5naWZ5KHRoaXMubGF5ZXIuc3ltYm9saXplci5yZW5kZXJlckpTT04pJiYoZS5zeW1ib2xpemVyUGFyYW1ldGVycz10aGlzLmxheWVyLnN5bWJvbGl6ZXIuZ2VuZXJhdGVXZWJHTFBhcmFtZXRlcnModGhpcy5fZ2V0U3ltYm9saXplck9wdGlvbnMoZS5saWpbMF0pKSl9Y3JlYXRlRmV0Y2hQb3B1cEZlYXR1cmVzUXVlcnlHZW9tZXRyeShlLHIpe3JldHVybiBjKGUscix0aGlzLnZpZXcpfXJlZnJlc2goKXt0aGlzLmVtaXQoXCJkYXRhLWNoYW5nZWRcIil9YXN5bmMgZG9SZWZyZXNoKCl7dGhpcy5zdXNwZW5kZWR8fHRoaXMuZW1pdChcImRhdGEtY2hhbmdlZFwiKX1fY2FuU3ltYm9saXplSW5XZWJHTCgpe2NvbnN0IGU9eShcIjNkXCIpLHtzeW1ib2xpemVyOnJ9PXRoaXMubGF5ZXIsdD1yLmxvb2t1cD8uY29sb3JtYXBMdXQ/LmluZGV4ZWRDb2xvcm1hcCxpPXQmJnQubGVuZ3RoPjQqKGUubWF4VGV4dHVyZVNpemV8fDQ5MDYpO3JldHVybiBlLnN1cHBvcnRzVGV4dHVyZUZsb2F0JiZyLmNhblJlbmRlckluV2ViR0wmJiFpfX07ZShbaSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJfYmxhbmtUaWxlXCIsbnVsbCksZShbaSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJpbWFnZUZvcm1hdElzT3BhcXVlXCIsbnVsbCksZShbaSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJoYXNNaXhlZEltYWdlRm9ybWF0c1wiLG51bGwpLGUoW2koe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwiZGF0YUxldmVsUmFuZ2VcIixudWxsKSxkPWUoW3MoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5JbWFnZXJ5VGlsZUxheWVyVmlldzNEXCIpXSxkKTtjb25zdCB1PWQ7ZXhwb3J0e3UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2hlbk9uY2UgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtzdXBwb3J0c0hlaWdodE1vZGVsSW5mbyBhcyBhLHJlamVjdExheWVyRXJyb3IgYXMgbH1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2hlaWdodE1vZGVsSW5mb1V0aWxzLmpzXCI7Y29uc3Qgbj1uPT57bGV0IGM9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnNsaWNlUGxhbmVFbmFibGVkPSExLHRoaXMuc3VwcG9ydHNIZWlnaHRVbml0Q29udmVyc2lvbj0hMX1wb3N0c2NyaXB0KGUpe3N1cGVyLnBvc3RzY3JpcHQoZSksYSh0aGlzLmxheWVyKSYmdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMuX3ZhbGlkYXRlSGVpZ2h0TW9kZWxJbmZvKCkpfWFzeW5jIF92YWxpZGF0ZUhlaWdodE1vZGVsSW5mbygpe2NvbnN0IGU9bmV3IEFib3J0Q29udHJvbGxlcixvPWUuc2lnbmFsO3RoaXMuYWRkSGFuZGxlcyhzKCgoKT0+ZS5hYm9ydCgpKSkpLGF3YWl0IHIoKCgpPT50aGlzLnZpZXcuZGVmYXVsdHNGcm9tTWFwPy5oZWlnaHRNb2RlbEluZm9SZWFkeSksbyksdChvKTtjb25zdCBpPWwodGhpcy5sYXllcix0aGlzLnZpZXcuaGVpZ2h0TW9kZWxJbmZvLHRoaXMuc3VwcG9ydHNIZWlnaHRVbml0Q29udmVyc2lvbik7aWYoaSl0aHJvdyBpfWNhblJlc3VtZSgpe2NvbnN0IGU9dGhpcy5sYXllciYmXCJlZmZlY3RpdmVTY2FsZVJhbmdlXCJpbiB0aGlzLmxheWVyP3RoaXMubGF5ZXIuZWZmZWN0aXZlU2NhbGVSYW5nZTpudWxsO3JldHVybiBzdXBlci5jYW5SZXN1bWUoKSYmKCFlPy5taW5TY2FsZXx8IWUubWF4U2NhbGV8fGUubWluU2NhbGU+PWUubWF4U2NhbGUpfWdldFN1c3BlbmRJbmZvKCl7Y29uc3QgZT1zdXBlci5nZXRTdXNwZW5kSW5mbygpLHM9dGhpcy5sYXllciYmXCJlZmZlY3RpdmVTY2FsZVJhbmdlXCJpbiB0aGlzLmxheWVyP3RoaXMubGF5ZXIuZWZmZWN0aXZlU2NhbGVSYW5nZTpudWxsO3JldHVybiBzJiZzLm1pblNjYWxlJiZzLm1heFNjYWxlJiZzLm1pblNjYWxlPHMubWF4U2NhbGUmJihlLm91dHNpZGVTY2FsZVJhbmdlPSEwKSxlfX07cmV0dXJuIGUoW28oKV0sYy5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtvKCldLGMucHJvdG90eXBlLFwic2xpY2VQbGFuZUVuYWJsZWRcIix2b2lkIDApLGM9ZShbaShcImVzcmkudmlld3MuM2QubGF5ZXJzLkxheWVyVmlldzNEXCIpXSxjKSxjfTtleHBvcnR7biBhcyBMYXllclZpZXczRH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHt3aGVuT25jZSBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e3VwZGF0aW5nUHJvZ3Jlc3MgYXMgbCx1cGRhdGluZ1Byb2dyZXNzVmFsdWUgYXMgc31mcm9tXCIuLi9zdXBwb3J0L3VwZGF0aW5nUHJvcGVydGllcy5qc1wiO2ltcG9ydHtjaGVja0lmVGlsZUluZm9TdXBwb3J0ZWRGb3JWaWV3IGFzIG59ZnJvbVwiLi4vdGVycmFpbi90ZXJyYWluVXRpbHMuanNcIjtjb25zdCBvPW89PntsZXQgYz1jbGFzcyBleHRlbmRzIG97Z2V0IGltYWdlRm9ybWF0SXNPcGFxdWUoKXtyZXR1cm4hMX1nZXQgZnVsbEV4dGVudCgpe3JldHVybiB0aGlzLmxheWVyLmZ1bGxFeHRlbnR9Z2V0IGlzT3BhcXVlKCl7cmV0dXJuIHRoaXMuZnVsbE9wYWNpdHk+PTEmJnRoaXMuaW1hZ2VGb3JtYXRJc09wYXF1ZX1nZXQgZGF0YVNjYWxlUmFuZ2UoKXtjb25zdCBlPXRoaXMudGlsZUluZm8ubG9kcztsZXQgdD1lWzBdLnNjYWxlLGk9ZVtlLmxlbmd0aC0xXS5zY2FsZTtpZihcInRpbGVtYXBDYWNoZVwiaW4gdGhpcy5sYXllciYmdGhpcy5sYXllci50aWxlbWFwQ2FjaGUpe2NvbnN0e2VmZmVjdGl2ZU1pbkxPRDplLGVmZmVjdGl2ZU1heExPRDpyfT10aGlzLmxheWVyLnRpbGVtYXBDYWNoZTt0PXRoaXMudGlsZUluZm8ubG9kQXQoZSkuc2NhbGUsaT10aGlzLnRpbGVJbmZvLmxvZEF0KHIpLnNjYWxlfXJldHVybnttaW5TY2FsZTp0LG1heFNjYWxlOml9fWdldCBkYXRhTGV2ZWxSYW5nZSgpe2NvbnN0e21pblNjYWxlOmUsbWF4U2NhbGU6dH09dGhpcy5kYXRhU2NhbGVSYW5nZTtyZXR1cm4gdGhpcy5sZXZlbFJhbmdlRnJvbVNjYWxlUmFuZ2UoZSx0KX1nZXQgZGlzcGxheUxldmVsUmFuZ2UoKXtjb25zdCBlPXRoaXMubGF5ZXIubWluU2NhbGV8fHRoaXMuZGF0YVNjYWxlUmFuZ2UubWluU2NhbGUsdD10aGlzLmxheWVyLm1heFNjYWxlfHx0aGlzLmRhdGFTY2FsZVJhbmdlLm1heFNjYWxlLGk9dGhpcy5sZXZlbFJhbmdlRnJvbVNjYWxlUmFuZ2UoZSx0KTtyZXR1cm4gdGhpcy5sYXllci5tYXhTY2FsZSYmaS5tYXhMZXZlbCsrLGl9Z2V0VGlsZVVybChlLHQsaSl7cmV0dXJuIHRoaXMubGF5ZXIuZ2V0VGlsZVVybChlLHQsaSl9X2FkZFRpbGluZ1NjaGVtZU1hdGNoUHJvbWlzZSgpe2lmKG51bGw9PXRoaXMuZnVsbEV4dGVudClyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKFByb21pc2UucmVqZWN0KG5ldyB0KFwidGlsaW5nc2NoZW1lOmV4dGVudC1ub3QtZGVmaW5lZFwiLFwiVGhpcyBsYXllciBkb2Vzbid0IGRlZmluZSBhIGZ1bGxFeHRlbnQuXCIpKSk7Y29uc3QgZT10aGlzLl9nZXRUaWxlSW5mb1N1cHBvcnRFcnJvcih0aGlzLnRpbGVJbmZvLHRoaXMuZnVsbEV4dGVudCk7aWYobnVsbCE9ZSlyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKFByb21pc2UucmVqZWN0KGUpKTtjb25zdCByPWkoKCgpPT50aGlzLnZpZXc/LmJhc2VtYXBUZXJyYWluPy50aWxpbmdTY2hlbWVMb2NrZWQpKS50aGVuKCgoKT0+e2NvbnN0IGU9dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLnRpbGluZ1NjaGVtZSx0PXRoaXMuX2dldFRpbGVJbmZvQ29tcGF0aWJpbGl0eUVycm9yKHRoaXMudGlsZUluZm8sZSk7aWYodCl0aHJvdyB0fSkpO3RoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShyKX1fZ2V0VGlsZUluZm9TdXBwb3J0RXJyb3IoZSxpKXtjb25zdCByPW4oZSxpLHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMudmlldy5zdGF0ZS52aWV3aW5nTW9kZSk7aWYocil7Y29uc3QgZT17bGF5ZXI6dGhpcy5sYXllcixlcnJvcjpyfTtsZXQgaTtzd2l0Y2goci5uYW1lKXtjYXNlXCJ0aWxpbmdzY2hlbWU6c3BhdGlhbC1yZWZlcmVuY2UtbWlzbWF0Y2hcIjpjYXNlXCJ0aWxpbmdzY2hlbWU6Z2xvYmFsLXVuc3VwcG9ydGVkLXNwYXRpYWwtcmVmZXJlbmNlXCI6Y2FzZVwidGlsaW5nc2NoZW1lOmxvY2FsLXVuc3VwcG9ydGVkLXNwYXRpYWwtcmVmZXJlbmNlXCI6aT1uZXcgdChcImxheWVydmlldzpzcGF0aWFsLXJlZmVyZW5jZS1pbmNvbXBhdGlibGVcIixcIlRoZSBzcGF0aWFsIHJlZmVyZW5jZSBvZiB0aGlzIGxheWVyIGRvZXMgbm90IG1lZXQgdGhlIHJlcXVpcmVtZW50cyBvZiB0aGUgdmlld1wiLGUpO2JyZWFrO2RlZmF1bHQ6aT1uZXcgdChcImxheWVydmlldzp0aWxpbmctc2NoZW1lLXVuc3VwcG9ydGVkXCIsXCJUaGUgdGlsaW5nIHNjaGVtZSBvZiB0aGlzIGxheWVyIGlzIG5vdCBzdXBwb3J0ZWQgYnkgU2NlbmVWaWV3XCIsZSl9cmV0dXJuIGl9cmV0dXJuIG51bGx9X2dldFRpbGVJbmZvQ29tcGF0aWJpbGl0eUVycm9yKGUsaSl7cmV0dXJuIG51bGwhPWUmJmkuY29tcGF0aWJsZVdpdGgoZSk/bnVsbDpuZXcgdChcImxheWVydmlldzp0aWxpbmctc2NoZW1lLWluY29tcGF0aWJsZVwiLFwiVGhlIHRpbGluZyBzY2hlbWUgb2YgdGhpcyBsYXllciBpcyBpbmNvbXBhdGlibGUgd2l0aCB0aGUgdGlsaW5nIHNjaGVtZSBvZiB0aGUgc3VyZmFjZVwiKX1sZXZlbFJhbmdlRnJvbVNjYWxlUmFuZ2UoZSx0KXtjb25zdCBpPXttaW5MZXZlbDowLG1heExldmVsOjEvMH0scj10aGlzLnZpZXcmJnRoaXMudmlldy5iYXNlbWFwVGVycmFpbiYmdGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLnRpbGluZ1NjaGVtZTtpZighcilyZXR1cm4gaTtjb25zdCBhPXIubGV2ZWxzWzBdLGw9ZT0+e2NvbnN0IHQ9TWF0aC5sb2coYS5zY2FsZS9lKS9NYXRoLkxOMjtyZXR1cm4uNS1NYXRoLmFicyguNS10JTEpPDFlLTk/TWF0aC5yb3VuZCh0KTpNYXRoLmNlaWwodCl9O3JldHVybiBudWxsIT1lJiZlPjAmJihpLm1pbkxldmVsPU1hdGgubWF4KDAsbChlKSkpLG51bGwhPXQmJnQ+MCYmKGkubWF4TGV2ZWw9TWF0aC5tYXgoMCxsKHQpKSksaX1pc1VwZGF0aW5nKCl7cmV0dXJuISEodGhpcy52aWV3JiZ0aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4mJnRoaXMudmlldy5iYXNlbWFwVGVycmFpbi51cGRhdGluZyl9fTtyZXR1cm4gZShbcih7cmVhZE9ubHk6ITB9KV0sYy5wcm90b3R5cGUsXCJpbWFnZUZvcm1hdElzT3BhcXVlXCIsbnVsbCksZShbcih7cmVhZE9ubHk6ITB9KV0sYy5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLHZvaWQgMCksZShbcihsKV0sYy5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzXCIsdm9pZCAwKSxlKFtyKHMpXSxjLnByb3RvdHlwZSxcInVwZGF0aW5nUHJvZ3Jlc3NWYWx1ZVwiLHZvaWQgMCksZShbcigpXSxjLnByb3RvdHlwZSxcImZ1bGxFeHRlbnRcIixudWxsKSxlKFtyKHtyZWFkT25seTohMH0pXSxjLnByb3RvdHlwZSxcImlzT3BhcXVlXCIsbnVsbCksZShbcigpXSxjLnByb3RvdHlwZSxcImRhdGFTY2FsZVJhbmdlXCIsbnVsbCksZShbcih7cmVhZE9ubHk6ITB9KV0sYy5wcm90b3R5cGUsXCJkYXRhTGV2ZWxSYW5nZVwiLG51bGwpLGUoW3Ioe3JlYWRPbmx5OiEwfSldLGMucHJvdG90eXBlLFwiZGlzcGxheUxldmVsUmFuZ2VcIixudWxsKSxlKFtyKCldLGMucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW3IoKV0sYy5wcm90b3R5cGUsXCJ0aWxlSW5mb1wiLHZvaWQgMCksYz1lKFthKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuVGlsZWRMYXllclZpZXczRFwiKV0sYyksY307ZXhwb3J0e28gYXMgVGlsZWRMYXllclZpZXczRH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vR3JhcGhpYy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtjb21iaW5lZFZpZXdMYXllclRpbWVFeHRlbnRQcm9wZXJ0eSBhcyBpfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2NvbW1vblByb3BlcnRpZXMuanNcIjtpbXBvcnR7cHJvamVjdERhdGFzZXRFeHRlbnQgYXMgYSxnZXREZWZhdWx0RGF0dW1UcmFuc2Zvcm1hdGlvbkZvckRhdGFzZXQgYXMgbn1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvcmFzdGVyUHJvamVjdGlvbkhlbHBlci5qc1wiO2ltcG9ydHtnZXRGZXRjaFBvcHVwVGVtcGxhdGUgYXMgbH1mcm9tXCIuL3N1cHBvcnQvcG9wdXBVdGlscy5qc1wiO2NvbnN0IHA9cD0+e2xldCB1PWNsYXNzIGV4dGVuZHMgcHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fcmFzdGVyRmllbGRQcmVmaXg9XCJSYXN0ZXIuXCIsdGhpcy5sYXllcj1udWxsLHRoaXMudmlldz1udWxsLHRoaXMudGlsZUluZm89bnVsbH1nZXQgZnVsbEV4dGVudCgpe3JldHVybiB0aGlzLl9nZXRmdWxsRXh0ZW50KCl9X2dldGZ1bGxFeHRlbnQoKXtyZXR1cm4gYSh0aGlzLmxheWVyLnJhc3RlckluZm8sdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpfWdldCBoYXNUaWxpbmdFZmZlY3RzKCl7cmV0dXJuISEodGhpcy5sYXllci5yZW5kZXJlciYmXCJkeW5hbWljUmFuZ2VBZGp1c3RtZW50XCJpbiB0aGlzLmxheWVyLnJlbmRlcmVyJiZ0aGlzLmxheWVyLnJlbmRlcmVyLmR5bmFtaWNSYW5nZUFkanVzdG1lbnQpfWdldCBkYXR1bVRyYW5zZm9ybWF0aW9uKCl7cmV0dXJuIG4odGhpcy5sYXllci5mdWxsRXh0ZW50LHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlLCEwKX1zdXBwb3J0c1NwYXRpYWxSZWZlcmVuY2UoZSl7cmV0dXJuISFhKHRoaXMubGF5ZXIucmFzdGVySW5mbyxlKX1hc3luYyBmZXRjaFBvcHVwRmVhdHVyZXMoZSxvKXtjb25zdHtsYXllcjpzfT10aGlzO2lmKCFlKXRocm93IG5ldyByKFwiaW1hZ2VyeVRpbGVMYXllclZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJOb3RoaW5nIHRvIGZldGNoIHdpdGhvdXQgYXJlYVwiLHtsYXllcjpzfSk7Y29uc3R7cG9wdXBFbmFibGVkOml9PXMsYT1sKHMsbyk7aWYoIWl8fG51bGw9PWEpdGhyb3cgbmV3IHIoXCJpbWFnZXJ5VGlsZUxheWVyVmlldzpmZXRjaFBvcHVwRmVhdHVyZXNcIixcIk1pc3NpbmcgcmVxdWlyZWQgcG9wdXBUZW1wbGF0ZSBvciBwb3B1cEVuYWJsZWRcIix7cG9wdXBFbmFibGVkOmkscG9wdXBUZW1wbGF0ZTphfSk7Y29uc3Qgbj1bXSx7dmFsdWU6cCxtYWdkaXJWYWx1ZTp1LHByb2Nlc3NlZFZhbHVlOmN9PWF3YWl0IHMuaWRlbnRpZnkoZSx7dGltZUV4dGVudDp0aGlzLnRpbWVFeHRlbnR9KTtsZXQgZj1cIlwiO2lmKHAmJnAubGVuZ3RoKXtmPVwiaW1hZ2VyeS10aWxlXCI9PT1zLnR5cGUmJnMuaGFzU3RhbmRhcmRUaW1lKCkmJm51bGwhPXBbMF0/cC5tYXAoKGU9PnMuZ2V0U3RhbmRhcmRUaW1lVmFsdWUoZSkpKS5qb2luKFwiLCBcIik6cC5qb2luKFwiLCBcIik7Y29uc3QgZT17T2JqZWN0SWQ6MH0scj1cIlJhc3Rlci5TZXJ2aWNlUGl4ZWxWYWx1ZVwiO2Vbcl09Yz8uam9pbihcIiwgXCIpPz9mLGVbcitcIi5SYXdcIl09Zjtjb25zdCBvPXMucmFzdGVySW5mby5hdHRyaWJ1dGVUYWJsZTtpZihudWxsIT1vKXtjb25zdHtmaWVsZHM6dCxmZWF0dXJlczpyfT1vLHM9dC5maW5kKCgoe25hbWU6ZX0pPT5cInZhbHVlXCI9PT1lLnRvTG93ZXJDYXNlKCkpKSxpPXM/ci5maW5kKChlPT5TdHJpbmcoZS5hdHRyaWJ1dGVzW3MubmFtZV0pPT09ZikpOm51bGw7aWYoaSlmb3IoY29uc3QgbyBpbiBpLmF0dHJpYnV0ZXMpaWYoaS5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KG8pKXtlW3RoaXMuX3Jhc3RlckZpZWxkUHJlZml4K29dPWkuYXR0cmlidXRlc1tvXX19Y29uc3QgaT1zLnJhc3RlckluZm8uZGF0YVR5cGU7XCJ2ZWN0b3ItbWFnZGlyXCIhPT1pJiZcInZlY3Rvci11dlwiIT09aXx8KGVbXCJSYXN0ZXIuTWFnbml0dWRlXCJdPXU/LlswXSxlW1wiUmFzdGVyLkRpcmVjdGlvblwiXT11Py5bMV0pO2NvbnN0IGE9bmV3IHQodGhpcy5mdWxsRXh0ZW50LmNsb25lKCksbnVsbCxlKTthLmxheWVyPXMsYS5zb3VyY2VMYXllcj1hLmxheWVyLG4ucHVzaChhKX1yZXR1cm4gbn19O3JldHVybiBlKFtvKCldLHUucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW28oaSldLHUucHJvdG90eXBlLFwidGltZUV4dGVudFwiLHZvaWQgMCksZShbbygpXSx1LnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGUoW28oKV0sdS5wcm90b3R5cGUsXCJmdWxsRXh0ZW50XCIsbnVsbCksZShbbygpXSx1LnByb3RvdHlwZSxcInRpbGVJbmZvXCIsdm9pZCAwKSxlKFtvKHtyZWFkT25seTohMH0pXSx1LnByb3RvdHlwZSxcImhhc1RpbGluZ0VmZmVjdHNcIixudWxsKSxlKFtvKCldLHUucHJvdG90eXBlLFwiZGF0dW1UcmFuc2Zvcm1hdGlvblwiLG51bGwpLHU9ZShbcyhcImVzcmkudmlld3MubGF5ZXJzLkltYWdlcnlUaWxlTGF5ZXJWaWV3XCIpXSx1KSx1fTtleHBvcnR7cCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0e0lkZW50aWZpYWJsZU1peGluIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9JZGVudGlmaWFibGUuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgb31mcm9tXCIuLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e0VzcmlQcm9taXNlTWl4aW4gYXMgbn1mcm9tXCIuLi8uLi9jb3JlL1Byb21pc2UuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgcH1mcm9tXCIuLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7bGV0IGQ9Y2xhc3MgZXh0ZW5kcyhzKG4oci5FdmVudGVkTWl4aW4odCkpKSl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzPW5ldyBwLHRoaXMubGF5ZXI9bnVsbCx0aGlzLnBhcmVudD1udWxsfWluaXRpYWxpemUoKXt0aGlzLndoZW4oKS5jYXRjaCgoZT0+e2lmKFwibGF5ZXJ2aWV3OmNyZWF0ZS1lcnJvclwiIT09ZS5uYW1lKXtjb25zdCB0PXRoaXMubGF5ZXImJnRoaXMubGF5ZXIuaWR8fFwibm8gaWRcIixyPXRoaXMubGF5ZXI/LnRpdGxlfHxcIm5vIHRpdGxlXCI7aS5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCIjcmVzb2x2ZSgpXCIsYEZhaWxlZCB0byByZXNvbHZlIGxheWVyIHZpZXcgKGxheWVyIHRpdGxlOiAnJHtyfScsIGlkOiAnJHt0fScpYCxlKX19KSl9ZGVzdHJveSgpe3RoaXMuX3VwZGF0aW5nSGFuZGxlcz1vKHRoaXMuX3VwZGF0aW5nSGFuZGxlcyl9Z2V0IGZ1bGxPcGFjaXR5KCl7cmV0dXJuKHRoaXMubGF5ZXI/Lm9wYWNpdHk/PzEpKih0aGlzLnBhcmVudD8uZnVsbE9wYWNpdHk/PzEpfWdldCBzdXNwZW5kZWQoKXtyZXR1cm4hdGhpcy5jYW5SZXN1bWUoKX1nZXQgc3VzcGVuZEluZm8oKXtyZXR1cm4gdGhpcy5nZXRTdXNwZW5kSW5mbygpfWdldCBsZWdlbmRFbmFibGVkKCl7cmV0dXJuIXRoaXMuc3VzcGVuZGVkJiYhMD09PXRoaXMubGF5ZXI/LmxlZ2VuZEVuYWJsZWR9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuISghdGhpcy5fdXBkYXRpbmdIYW5kbGVzPy51cGRhdGluZyYmIXRoaXMuaXNVcGRhdGluZygpKX1nZXQgdXBkYXRpbmdQcm9ncmVzcygpe3JldHVybiB0aGlzLnVwZGF0aW5nPzA6MX1nZXQgdmlzaWJsZSgpe3JldHVybiEwPT09dGhpcy5sYXllcj8udmlzaWJsZX1zZXQgdmlzaWJsZShlKXt0aGlzLl9vdmVycmlkZUlmU29tZShcInZpc2libGVcIixlKX1jYW5SZXN1bWUoKXtyZXR1cm4gdGhpcy52aXNpYmxlJiZ0aGlzLmxheWVyPy5sb2FkZWQmJiF0aGlzLnBhcmVudD8uc3VzcGVuZGVkJiZ0aGlzLnZpZXc/LnJlYWR5fHwhMX1nZXRTdXNwZW5kSW5mbygpe2NvbnN0IGU9dGhpcy5wYXJlbnQ/LnN1c3BlbmRlZD90aGlzLnBhcmVudC5zdXNwZW5kSW5mbzp7fSx0PXRoaXM7cmV0dXJuIHQudmlldz8ucmVhZHl8fChlLnZpZXdOb3RSZWFkeT0hMCksdGhpcy5sYXllciYmdGhpcy5sYXllci5sb2FkZWR8fChlLmxheWVyTm90TG9hZGVkPSEwKSx0aGlzLnZpc2libGV8fChlLmxheWVySW52aXNpYmxlPSEwKSxlfWlzVXBkYXRpbmcoKXtyZXR1cm4hMX19O2UoW2EoKV0sZC5wcm90b3R5cGUsXCJmdWxsT3BhY2l0eVwiLG51bGwpLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbYSgpXSxkLnByb3RvdHlwZSxcInBhcmVudFwiLHZvaWQgMCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIixudWxsKSxlKFthKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInN1c3BlbmRJbmZvXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJsZWdlbmRFbmFibGVkXCIsbnVsbCksZShbYSh7dHlwZTpCb29sZWFuLHJlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxlKFthKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInVwZGF0aW5nUHJvZ3Jlc3NcIixudWxsKSxlKFthKCldLGQucHJvdG90eXBlLFwidmlzaWJsZVwiLG51bGwpLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxkPWUoW2woXCJlc3JpLnZpZXdzLmxheWVycy5MYXllclZpZXdcIildLGQpO2NvbnN0IHU9ZDtleHBvcnR7dSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyByfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtpc0Fib3J0RXJyb3IgYXMgc31mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtvbiBhcyBvfWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7Y29uc3QgYT1hPT57bGV0IGM9Y2xhc3MgZXh0ZW5kcyBhe2luaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXMobygoKCk9PnRoaXMubGF5ZXIpLFwicmVmcmVzaFwiLChyPT57dGhpcy5kb1JlZnJlc2goci5kYXRhQ2hhbmdlZCkuY2F0Y2goKHI9PntzKHIpfHxlLmdldExvZ2dlcih0aGlzKS5lcnJvcihyKX0pKX0pKSxcIlJlZnJlc2hhYmxlTGF5ZXJWaWV3XCIpfX07cmV0dXJuIHIoW3QoKV0sYy5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksYz1yKFtpKFwiZXNyaS5sYXllcnMubWl4aW5zLlJlZnJlc2hhYmxlTGF5ZXJWaWV3XCIpXSxjKSxjfTtleHBvcnR7YSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0RmVhdHVyZUVkaXRGaWVsZHMgYXMgZSxmaXhGaWVsZHMgYXMgbH1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7YXN5bmMgZnVuY3Rpb24gbihuLHA9bi5wb3B1cFRlbXBsYXRlKXtpZihudWxsPT1wKXJldHVybltdO2NvbnN0IHU9YXdhaXQgcC5nZXRSZXF1aXJlZEZpZWxkcyhuLmZpZWxkc0luZGV4KSx7bGFzdEVkaXRJbmZvRW5hYmxlZDp0fT1wLHtvYmplY3RJZEZpZWxkOmQsdHlwZUlkRmllbGQ6cyxnbG9iYWxJZEZpZWxkOmkscmVsYXRpb25zaGlwczphfT1uO2lmKHUuaW5jbHVkZXMoXCIqXCIpKXJldHVybltcIipcIl07Y29uc3Qgbz10P2Uobik6W10sZj1sKG4uZmllbGRzSW5kZXgsWy4uLnUsLi4ub10pO3JldHVybiBzJiZmLnB1c2gocyksZiYmZCYmbi5maWVsZHNJbmRleD8uaGFzKGQpJiYhZi5pbmNsdWRlcyhkKSYmZi5wdXNoKGQpLGYmJmkmJm4uZmllbGRzSW5kZXg/LmhhcyhpKSYmIWYuaW5jbHVkZXMoaSkmJmYucHVzaChpKSxhJiZhLmZvckVhY2goKGU9Pntjb25zdHtrZXlGaWVsZDpsfT1lO2YmJmwmJm4uZmllbGRzSW5kZXg/LmhhcyhsKSYmIWYuaW5jbHVkZXMobCkmJmYucHVzaChsKX0pKSxmfWZ1bmN0aW9uIHAoZSxsKXtyZXR1cm4gZS5wb3B1cFRlbXBsYXRlP2UucG9wdXBUZW1wbGF0ZTpudWxsIT1sJiZsLmRlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZCYmbnVsbCE9ZS5kZWZhdWx0UG9wdXBUZW1wbGF0ZT9lLmRlZmF1bHRQb3B1cFRlbXBsYXRlOm51bGx9ZnVuY3Rpb24gdShlLGwpe3JldHVybiBudWxsIT1wKGUse2RlZmF1bHRQb3B1cFRlbXBsYXRlRW5hYmxlZDpsfSl9ZXhwb3J0e3AgYXMgZ2V0RmV0Y2hQb3B1cFRlbXBsYXRlLG4gYXMgZ2V0UmVxdWlyZWRGaWVsZHMsdSBhcyBoYXNQb3B1cFRlbXBsYXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0e2dldE1ldGVyc1BlclVuaXRGb3JTUiBhcyBlfWZyb21cIi4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0e2NhbGN1bGF0ZVRvbGVyYW5jZSBhcyB0fWZyb21cIi4uLy4uL3JlbmRlcmVycy9zdXBwb3J0L2NsaWNrVG9sZXJhbmNlVXRpbHMuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtmdW5jdGlvbiByKHQscixpLGE9bmV3IG4pe2xldCBvPTA7aWYoXCIyZFwiPT09aS50eXBlKW89ciooaS5yZXNvbHV0aW9uPz8wKTtlbHNlIGlmKFwiM2RcIj09PWkudHlwZSl7Y29uc3Qgbj1pLm92ZXJsYXlQaXhlbFNpemVJbk1hcFVuaXRzKHQpLGE9aS5iYXNlbWFwU3BhdGlhbFJlZmVyZW5jZTtvPW51bGw9PWF8fGEuZXF1YWxzKGkuc3BhdGlhbFJlZmVyZW5jZSk/cipuOmUoYSkvZShpLnNwYXRpYWxSZWZlcmVuY2UpfWNvbnN0IHM9dC54LW8sbD10LnktbyxtPXQueCtvLHA9dC55K28se3NwYXRpYWxSZWZlcmVuY2U6Y309aTtyZXR1cm4gYS54bWluPU1hdGgubWluKHMsbSksYS55bWluPU1hdGgubWluKGwscCksYS54bWF4PU1hdGgubWF4KHMsbSksYS55bWF4PU1hdGgubWF4KGwscCksYS5zcGF0aWFsUmVmZXJlbmNlPWMsYX1mdW5jdGlvbiBpKGUsbixpKXtjb25zdCBvPWkudG9NYXAoZSk7aWYobnVsbD09bylyZXR1cm4hMTtyZXR1cm4gcihvLHQoKSxpLGEpLmludGVyc2VjdHMobil9Y29uc3QgYT1uZXcgbjtleHBvcnR7ciBhcyBjcmVhdGVRdWVyeUdlb21ldHJ5LGkgYXMgaW50ZXJzZWN0c0RyYXBlZEdlb21ldHJ5fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==