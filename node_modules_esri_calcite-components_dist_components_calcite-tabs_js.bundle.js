"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["node_modules_esri_calcite-components_dist_components_calcite-tabs_js"],{

/***/ "./node_modules/@esri/calcite-components/dist/components/calcite-tabs.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/calcite-tabs.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CalciteTabs: () => (/* binding */ CalciteTabs),
/* harmony export */   defineCustomElement: () => (/* binding */ defineCustomElement)
/* harmony export */ });
/* harmony import */ var _tabs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tabs.js */ "./node_modules/@esri/calcite-components/dist/components/tabs.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.7.0
 */


const CalciteTabs = _tabs_js__WEBPACK_IMPORTED_MODULE_0__.T;
const defineCustomElement = _tabs_js__WEBPACK_IMPORTED_MODULE_0__.d;




/***/ }),

/***/ "./node_modules/@esri/calcite-components/dist/components/tabs.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/tabs.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   T: () => (/* binding */ Tabs),
/* harmony export */   d: () => (/* binding */ defineCustomElement)
/* harmony export */ });
/* harmony import */ var _stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stencil/core/internal/client/index.js */ "./node_modules/@stencil/core/internal/client/index.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.7.0
 */


const SLOTS = {
  titleGroup: "title-group",
};

const tabsCss = ":host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-ui-border-1);background-color:var(--calcite-ui-foreground-1)}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-ui-border-1), inset 0 -1px 0 var(--calcite-ui-border-1)}:host([bordered]) section{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-1)}:host([bordered][scale=s]) section{padding:0.75rem}:host([bordered][scale=m]) section{padding:0.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]){flex-direction:column-reverse}section{display:flex;flex-grow:1;overflow:hidden;border-block-start-width:1px;border-block-start-color:var(--calcite-ui-border-1);border-block-start-style:solid}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px;border-block-end-color:var(--calcite-ui-border-1)}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}:host([hidden]){display:none}[hidden]{display:none}";

const Tabs = /*@__PURE__*/ (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(class extends _stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_0__.HTMLElement {
  constructor() {
    super();
    this.__registerHost();
    this.__attachShadow();
    this.layout = "inline";
    this.position = "top";
    this.scale = "m";
    this.bordered = false;
    this.titles = [];
    this.tabs = [];
  }
  //--------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  //--------------------------------------------------------------------------
  render() {
    return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", { name: SLOTS.titleGroup }), (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_0__.h)("section", null, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", null))));
  }
  //--------------------------------------------------------------------------
  //
  //  Event Listeners
  //
  //--------------------------------------------------------------------------
  /**
   * @param event
   * @internal
   */
  calciteInternalTabTitleRegister(event) {
    this.titles = [...this.titles, event.target];
    this.registryHandler();
    event.stopPropagation();
  }
  /**
   * @param event
   * @internal
   */
  calciteTabTitleUnregister(event) {
    this.titles = this.titles.filter((el) => el !== event.detail);
    this.registryHandler();
    event.stopPropagation();
  }
  /**
   * @param event
   * @internal
   */
  calciteInternalTabRegister(event) {
    this.tabs = [...this.tabs, event.target];
    this.registryHandler();
    event.stopPropagation();
  }
  /**
   * @param event
   * @internal
   */
  calciteTabUnregister(event) {
    this.tabs = this.tabs.filter((el) => el !== event.detail);
    this.registryHandler();
    event.stopPropagation();
  }
  //--------------------------------------------------------------------------
  //
  //  Private Methods
  //
  //--------------------------------------------------------------------------
  /**
   *
   * Matches up elements from the internal `tabs` and `titles` to automatically
   * update the ARIA attributes and link `<calcite-tab>` and
   * `<calcite-tab-title>` components.
   */
  async registryHandler() {
    let tabIds;
    let titleIds;
    // determine if we are using `tab` based or `index` based tab identifiers.
    if (this.tabs.some((el) => el.tab) || this.titles.some((el) => el.tab)) {
      // if we are using `tab` based identifiers sort by `tab` to account for
      // possible out of order tabs and get the id of each tab
      tabIds = this.tabs.sort((a, b) => a.tab.localeCompare(b.tab)).map((el) => el.id);
      titleIds = this.titles.sort((a, b) => a.tab.localeCompare(b.tab)).map((el) => el.id);
    }
    else {
      // if we are using index based tabs then the `<calcite-tab>` and
      // `<calcite-tab-title>` might have been rendered out of order so the
      // order of `this.tabs` and `this.titles` might not reflect the DOM state,
      // and might not match each other so we need to get the index of all the
      // tabs and titles in the DOM order to match them up as a source of truth
      const tabDomIndexes = await Promise.all(this.tabs.map((el) => el.getTabIndex()));
      const titleDomIndexes = await Promise.all(this.titles.map((el) => el.getTabIndex()));
      // once we have the DOM order as a source of truth we can build the
      // matching tabIds and titleIds arrays
      tabIds = tabDomIndexes.reduce((ids, indexInDOM, registryIndex) => {
        ids[indexInDOM] = this.tabs[registryIndex].id;
        return ids;
      }, []);
      titleIds = titleDomIndexes.reduce((ids, indexInDOM, registryIndex) => {
        ids[indexInDOM] = this.titles[registryIndex].id;
        return ids;
      }, []);
    }
    // pass all our new aria information to each `<calcite-tab>` and
    // `<calcite-tab-title>` which will check if they can update their internal
    // `controlled` or `labeledBy` states and re-render if necessary
    this.tabs.forEach((el) => el.updateAriaInfo(tabIds, titleIds));
    this.titles.forEach((el) => el.updateAriaInfo(tabIds, titleIds));
  }
  get el() { return this; }
  static get style() { return tabsCss; }
}, [1, "calcite-tabs", {
    "layout": [513],
    "position": [513],
    "scale": [513],
    "bordered": [4],
    "titles": [32],
    "tabs": [32]
  }, [[0, "calciteInternalTabTitleRegister", "calciteInternalTabTitleRegister"], [16, "calciteTabTitleUnregister", "calciteTabTitleUnregister"], [0, "calciteInternalTabRegister", "calciteInternalTabRegister"], [16, "calciteTabUnregister", "calciteTabUnregister"]]]);
function defineCustomElement() {
  if (typeof customElements === "undefined") {
    return;
  }
  const components = ["calcite-tabs"];
  components.forEach(tagName => { switch (tagName) {
    case "calcite-tabs":
      if (!customElements.get(tagName)) {
        customElements.define(tagName, Tabs);
      }
      break;
  } });
}
defineCustomElement();




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2VzcmlfY2FsY2l0ZS1jb21wb25lbnRzX2Rpc3RfY29tcG9uZW50c19jYWxjaXRlLXRhYnNfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0U7O0FBRWxFLG9CQUFvQix1Q0FBSTtBQUN4Qiw0QkFBNEIsdUNBQXFCOztBQUVMOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1Y1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3NHOztBQUV0RztBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLGFBQWEsc0JBQXNCLGtCQUFrQixvREFBb0QsZ0RBQWdELG9FQUFvRSxzQkFBc0IsbUNBQW1DLCtGQUErRiwwQkFBMEIsaUJBQWlCLG1CQUFtQix3Q0FBd0MsbUNBQW1DLGdCQUFnQixtQ0FBbUMsZUFBZSxtQ0FBbUMsYUFBYSx5QkFBeUIsOEJBQThCLFFBQVEsYUFBYSxZQUFZLGdCQUFnQiw2QkFBNkIsb0RBQW9ELCtCQUErQixpQ0FBaUMsOEJBQThCLDZCQUE2QiwyQkFBMkIsa0RBQWtELGlEQUFpRCw2QkFBNkIsK0JBQStCLDBCQUEwQiw2QkFBNkIsMkJBQTJCLDJDQUEyQyw2QkFBNkIsNEJBQTRCLGdCQUFnQixhQUFhLFNBQVMsYUFBYTs7QUFFOTFDLDJCQUEyQiwwRkFBa0IsZUFBZSwrRUFBVztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5RUFBQyxDQUFDLDRFQUFRLFFBQVEseUVBQUMsV0FBVyx3QkFBd0IsR0FBRyx5RUFBQyxrQkFBa0IseUVBQUM7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHVCQUF1QjtBQUN2QixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUUrQyIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLXRhYnMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL3RhYnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL21haW4vTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbiAqIHYxLjcuMFxuICovXG5pbXBvcnQgeyBUIGFzIFRhYnMsIGQgYXMgZGVmaW5lQ3VzdG9tRWxlbWVudCQxIH0gZnJvbSAnLi90YWJzLmpzJztcblxuY29uc3QgQ2FsY2l0ZVRhYnMgPSBUYWJzO1xuY29uc3QgZGVmaW5lQ3VzdG9tRWxlbWVudCA9IGRlZmluZUN1c3RvbUVsZW1lbnQkMTtcblxuZXhwb3J0IHsgQ2FsY2l0ZVRhYnMsIGRlZmluZUN1c3RvbUVsZW1lbnQgfTtcbiIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWRlc2lnbi1zeXN0ZW0vYmxvYi9tYWluL0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG4gKiB2MS43LjBcbiAqL1xuaW1wb3J0IHsgcHJveHlDdXN0b21FbGVtZW50LCBIVE1MRWxlbWVudCwgaCwgRnJhZ21lbnQgfSBmcm9tICdAc3RlbmNpbC9jb3JlL2ludGVybmFsL2NsaWVudC9pbmRleC5qcyc7XG5cbmNvbnN0IFNMT1RTID0ge1xuICB0aXRsZUdyb3VwOiBcInRpdGxlLWdyb3VwXCIsXG59O1xuXG5jb25zdCB0YWJzQ3NzID0gXCI6aG9zdHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufTpob3N0KFtib3JkZXJlZF0pe2JveC1zaGFkb3c6aW5zZXQgMCAxcHggMCB2YXIoLS1jYWxjaXRlLXVpLWJvcmRlci0xKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktZm9yZWdyb3VuZC0xKX06aG9zdChbYm9yZGVyZWRdOm5vdChbcG9zaXRpb249Ym90dG9tXSkpIDo6c2xvdHRlZChjYWxjaXRlLXRhYi1uYXYpe21hcmdpbi1ibG9jay1lbmQ6LTFweH06aG9zdChbYm9yZGVyZWRdW3Bvc2l0aW9uPWJvdHRvbV0pe2JveC1zaGFkb3c6aW5zZXQgMCAxcHggMCB2YXIoLS1jYWxjaXRlLXVpLWJvcmRlci0xKSwgaW5zZXQgMCAtMXB4IDAgdmFyKC0tY2FsY2l0ZS11aS1ib3JkZXItMSl9Omhvc3QoW2JvcmRlcmVkXSkgc2VjdGlvbntib3JkZXItd2lkdGg6MXB4O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1ib3JkZXItMSl9Omhvc3QoW2JvcmRlcmVkXVtzY2FsZT1zXSkgc2VjdGlvbntwYWRkaW5nOjAuNzVyZW19Omhvc3QoW2JvcmRlcmVkXVtzY2FsZT1tXSkgc2VjdGlvbntwYWRkaW5nOjAuNXJlbX06aG9zdChbYm9yZGVyZWRdW3NjYWxlPWxdKSBzZWN0aW9ue3BhZGRpbmc6MXJlbX06aG9zdChbcG9zaXRpb249Ym90dG9tXSl7ZmxleC1kaXJlY3Rpb246Y29sdW1uLXJldmVyc2V9c2VjdGlvbntkaXNwbGF5OmZsZXg7ZmxleC1ncm93OjE7b3ZlcmZsb3c6aGlkZGVuO2JvcmRlci1ibG9jay1zdGFydC13aWR0aDoxcHg7Ym9yZGVyLWJsb2NrLXN0YXJ0LWNvbG9yOnZhcigtLWNhbGNpdGUtdWktYm9yZGVyLTEpO2JvcmRlci1ibG9jay1zdGFydC1zdHlsZTpzb2xpZH06aG9zdChbcG9zaXRpb249Ym90dG9tXSkgc2VjdGlvbntmbGV4LWRpcmVjdGlvbjpjb2x1bW4tcmV2ZXJzZTtib3JkZXItYmxvY2stc3RhcnQtd2lkdGg6MHB4O2JvcmRlci1ibG9jay1lbmQtd2lkdGg6MXB4O2JvcmRlci1ibG9jay1lbmQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1ib3JkZXItMSl9Omhvc3QoW3Bvc2l0aW9uPWJvdHRvbV06bm90KFtib3JkZXJlZF0pKSBzZWN0aW9ue2JvcmRlci1ibG9jay1lbmQtc3R5bGU6c29saWR9QG1lZGlhIChmb3JjZWQtY29sb3JzOiBhY3RpdmUpezpob3N0KFtib3JkZXJlZF0pIHNlY3Rpb257Ym9yZGVyLWJsb2NrLXN0YXJ0LXdpZHRoOjBweDtib3JkZXItYmxvY2stZW5kLXdpZHRoOjFweH06aG9zdChbcG9zaXRpb249Ym90dG9tXVtib3JkZXJlZF0pIHNlY3Rpb257Ym9yZGVyLWJsb2NrLXN0YXJ0LXdpZHRoOjFweDtib3JkZXItYmxvY2stZW5kLXdpZHRoOjBweH19Omhvc3QoW2hpZGRlbl0pe2Rpc3BsYXk6bm9uZX1baGlkZGVuXXtkaXNwbGF5Om5vbmV9XCI7XG5cbmNvbnN0IFRhYnMgPSAvKkBfX1BVUkVfXyovIHByb3h5Q3VzdG9tRWxlbWVudChjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgdGhpcy5fX2F0dGFjaFNoYWRvdygpO1xuICAgIHRoaXMubGF5b3V0ID0gXCJpbmxpbmVcIjtcbiAgICB0aGlzLnBvc2l0aW9uID0gXCJ0b3BcIjtcbiAgICB0aGlzLnNjYWxlID0gXCJtXCI7XG4gICAgdGhpcy5ib3JkZXJlZCA9IGZhbHNlO1xuICAgIHRoaXMudGl0bGVzID0gW107XG4gICAgdGhpcy50YWJzID0gW107XG4gIH1cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgTGlmZWN5Y2xlXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChGcmFnbWVudCwgbnVsbCwgaChcInNsb3RcIiwgeyBuYW1lOiBTTE9UUy50aXRsZUdyb3VwIH0pLCBoKFwic2VjdGlvblwiLCBudWxsLCBoKFwic2xvdFwiLCBudWxsKSkpKTtcbiAgfVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBFdmVudCBMaXN0ZW5lcnNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvKipcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY2FsY2l0ZUludGVybmFsVGFiVGl0bGVSZWdpc3RlcihldmVudCkge1xuICAgIHRoaXMudGl0bGVzID0gWy4uLnRoaXMudGl0bGVzLCBldmVudC50YXJnZXRdO1xuICAgIHRoaXMucmVnaXN0cnlIYW5kbGVyKCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNhbGNpdGVUYWJUaXRsZVVucmVnaXN0ZXIoZXZlbnQpIHtcbiAgICB0aGlzLnRpdGxlcyA9IHRoaXMudGl0bGVzLmZpbHRlcigoZWwpID0+IGVsICE9PSBldmVudC5kZXRhaWwpO1xuICAgIHRoaXMucmVnaXN0cnlIYW5kbGVyKCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNhbGNpdGVJbnRlcm5hbFRhYlJlZ2lzdGVyKGV2ZW50KSB7XG4gICAgdGhpcy50YWJzID0gWy4uLnRoaXMudGFicywgZXZlbnQudGFyZ2V0XTtcbiAgICB0aGlzLnJlZ2lzdHJ5SGFuZGxlcigpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQGludGVybmFsXG4gICAqL1xuICBjYWxjaXRlVGFiVW5yZWdpc3RlcihldmVudCkge1xuICAgIHRoaXMudGFicyA9IHRoaXMudGFicy5maWx0ZXIoKGVsKSA9PiBlbCAhPT0gZXZlbnQuZGV0YWlsKTtcbiAgICB0aGlzLnJlZ2lzdHJ5SGFuZGxlcigpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFByaXZhdGUgTWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8qKlxuICAgKlxuICAgKiBNYXRjaGVzIHVwIGVsZW1lbnRzIGZyb20gdGhlIGludGVybmFsIGB0YWJzYCBhbmQgYHRpdGxlc2AgdG8gYXV0b21hdGljYWxseVxuICAgKiB1cGRhdGUgdGhlIEFSSUEgYXR0cmlidXRlcyBhbmQgbGluayBgPGNhbGNpdGUtdGFiPmAgYW5kXG4gICAqIGA8Y2FsY2l0ZS10YWItdGl0bGU+YCBjb21wb25lbnRzLlxuICAgKi9cbiAgYXN5bmMgcmVnaXN0cnlIYW5kbGVyKCkge1xuICAgIGxldCB0YWJJZHM7XG4gICAgbGV0IHRpdGxlSWRzO1xuICAgIC8vIGRldGVybWluZSBpZiB3ZSBhcmUgdXNpbmcgYHRhYmAgYmFzZWQgb3IgYGluZGV4YCBiYXNlZCB0YWIgaWRlbnRpZmllcnMuXG4gICAgaWYgKHRoaXMudGFicy5zb21lKChlbCkgPT4gZWwudGFiKSB8fCB0aGlzLnRpdGxlcy5zb21lKChlbCkgPT4gZWwudGFiKSkge1xuICAgICAgLy8gaWYgd2UgYXJlIHVzaW5nIGB0YWJgIGJhc2VkIGlkZW50aWZpZXJzIHNvcnQgYnkgYHRhYmAgdG8gYWNjb3VudCBmb3JcbiAgICAgIC8vIHBvc3NpYmxlIG91dCBvZiBvcmRlciB0YWJzIGFuZCBnZXQgdGhlIGlkIG9mIGVhY2ggdGFiXG4gICAgICB0YWJJZHMgPSB0aGlzLnRhYnMuc29ydCgoYSwgYikgPT4gYS50YWIubG9jYWxlQ29tcGFyZShiLnRhYikpLm1hcCgoZWwpID0+IGVsLmlkKTtcbiAgICAgIHRpdGxlSWRzID0gdGhpcy50aXRsZXMuc29ydCgoYSwgYikgPT4gYS50YWIubG9jYWxlQ29tcGFyZShiLnRhYikpLm1hcCgoZWwpID0+IGVsLmlkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBpZiB3ZSBhcmUgdXNpbmcgaW5kZXggYmFzZWQgdGFicyB0aGVuIHRoZSBgPGNhbGNpdGUtdGFiPmAgYW5kXG4gICAgICAvLyBgPGNhbGNpdGUtdGFiLXRpdGxlPmAgbWlnaHQgaGF2ZSBiZWVuIHJlbmRlcmVkIG91dCBvZiBvcmRlciBzbyB0aGVcbiAgICAgIC8vIG9yZGVyIG9mIGB0aGlzLnRhYnNgIGFuZCBgdGhpcy50aXRsZXNgIG1pZ2h0IG5vdCByZWZsZWN0IHRoZSBET00gc3RhdGUsXG4gICAgICAvLyBhbmQgbWlnaHQgbm90IG1hdGNoIGVhY2ggb3RoZXIgc28gd2UgbmVlZCB0byBnZXQgdGhlIGluZGV4IG9mIGFsbCB0aGVcbiAgICAgIC8vIHRhYnMgYW5kIHRpdGxlcyBpbiB0aGUgRE9NIG9yZGVyIHRvIG1hdGNoIHRoZW0gdXAgYXMgYSBzb3VyY2Ugb2YgdHJ1dGhcbiAgICAgIGNvbnN0IHRhYkRvbUluZGV4ZXMgPSBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLnRhYnMubWFwKChlbCkgPT4gZWwuZ2V0VGFiSW5kZXgoKSkpO1xuICAgICAgY29uc3QgdGl0bGVEb21JbmRleGVzID0gYXdhaXQgUHJvbWlzZS5hbGwodGhpcy50aXRsZXMubWFwKChlbCkgPT4gZWwuZ2V0VGFiSW5kZXgoKSkpO1xuICAgICAgLy8gb25jZSB3ZSBoYXZlIHRoZSBET00gb3JkZXIgYXMgYSBzb3VyY2Ugb2YgdHJ1dGggd2UgY2FuIGJ1aWxkIHRoZVxuICAgICAgLy8gbWF0Y2hpbmcgdGFiSWRzIGFuZCB0aXRsZUlkcyBhcnJheXNcbiAgICAgIHRhYklkcyA9IHRhYkRvbUluZGV4ZXMucmVkdWNlKChpZHMsIGluZGV4SW5ET00sIHJlZ2lzdHJ5SW5kZXgpID0+IHtcbiAgICAgICAgaWRzW2luZGV4SW5ET01dID0gdGhpcy50YWJzW3JlZ2lzdHJ5SW5kZXhdLmlkO1xuICAgICAgICByZXR1cm4gaWRzO1xuICAgICAgfSwgW10pO1xuICAgICAgdGl0bGVJZHMgPSB0aXRsZURvbUluZGV4ZXMucmVkdWNlKChpZHMsIGluZGV4SW5ET00sIHJlZ2lzdHJ5SW5kZXgpID0+IHtcbiAgICAgICAgaWRzW2luZGV4SW5ET01dID0gdGhpcy50aXRsZXNbcmVnaXN0cnlJbmRleF0uaWQ7XG4gICAgICAgIHJldHVybiBpZHM7XG4gICAgICB9LCBbXSk7XG4gICAgfVxuICAgIC8vIHBhc3MgYWxsIG91ciBuZXcgYXJpYSBpbmZvcm1hdGlvbiB0byBlYWNoIGA8Y2FsY2l0ZS10YWI+YCBhbmRcbiAgICAvLyBgPGNhbGNpdGUtdGFiLXRpdGxlPmAgd2hpY2ggd2lsbCBjaGVjayBpZiB0aGV5IGNhbiB1cGRhdGUgdGhlaXIgaW50ZXJuYWxcbiAgICAvLyBgY29udHJvbGxlZGAgb3IgYGxhYmVsZWRCeWAgc3RhdGVzIGFuZCByZS1yZW5kZXIgaWYgbmVjZXNzYXJ5XG4gICAgdGhpcy50YWJzLmZvckVhY2goKGVsKSA9PiBlbC51cGRhdGVBcmlhSW5mbyh0YWJJZHMsIHRpdGxlSWRzKSk7XG4gICAgdGhpcy50aXRsZXMuZm9yRWFjaCgoZWwpID0+IGVsLnVwZGF0ZUFyaWFJbmZvKHRhYklkcywgdGl0bGVJZHMpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiB0YWJzQ3NzOyB9XG59LCBbMSwgXCJjYWxjaXRlLXRhYnNcIiwge1xuICAgIFwibGF5b3V0XCI6IFs1MTNdLFxuICAgIFwicG9zaXRpb25cIjogWzUxM10sXG4gICAgXCJzY2FsZVwiOiBbNTEzXSxcbiAgICBcImJvcmRlcmVkXCI6IFs0XSxcbiAgICBcInRpdGxlc1wiOiBbMzJdLFxuICAgIFwidGFic1wiOiBbMzJdXG4gIH0sIFtbMCwgXCJjYWxjaXRlSW50ZXJuYWxUYWJUaXRsZVJlZ2lzdGVyXCIsIFwiY2FsY2l0ZUludGVybmFsVGFiVGl0bGVSZWdpc3RlclwiXSwgWzE2LCBcImNhbGNpdGVUYWJUaXRsZVVucmVnaXN0ZXJcIiwgXCJjYWxjaXRlVGFiVGl0bGVVbnJlZ2lzdGVyXCJdLCBbMCwgXCJjYWxjaXRlSW50ZXJuYWxUYWJSZWdpc3RlclwiLCBcImNhbGNpdGVJbnRlcm5hbFRhYlJlZ2lzdGVyXCJdLCBbMTYsIFwiY2FsY2l0ZVRhYlVucmVnaXN0ZXJcIiwgXCJjYWxjaXRlVGFiVW5yZWdpc3RlclwiXV1dKTtcbmZ1bmN0aW9uIGRlZmluZUN1c3RvbUVsZW1lbnQoKSB7XG4gIGlmICh0eXBlb2YgY3VzdG9tRWxlbWVudHMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY29tcG9uZW50cyA9IFtcImNhbGNpdGUtdGFic1wiXTtcbiAgY29tcG9uZW50cy5mb3JFYWNoKHRhZ05hbWUgPT4geyBzd2l0Y2ggKHRhZ05hbWUpIHtcbiAgICBjYXNlIFwiY2FsY2l0ZS10YWJzXCI6XG4gICAgICBpZiAoIWN1c3RvbUVsZW1lbnRzLmdldCh0YWdOYW1lKSkge1xuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgVGFicyk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfSB9KTtcbn1cbmRlZmluZUN1c3RvbUVsZW1lbnQoKTtcblxuZXhwb3J0IHsgVGFicyBhcyBULCBkZWZpbmVDdXN0b21FbGVtZW50IGFzIGQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==