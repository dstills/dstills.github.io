"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_layers_WMSLayer_js"],{

/***/ "./node_modules/@arcgis/core/core/CollectionFlattener.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/CollectionFlattener.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _accessorSupport_watch_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./accessorSupport/watch.js */ "./node_modules/@arcgis/core/core/accessorSupport/watch.js");
/* harmony import */ var _accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./accessorSupport/trackingUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js");
/* harmony import */ var _accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let i=class extends _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles((0,_accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_6__.autorun)((()=>this._refresh())))}destroy(){this.getCollections=null}_refresh(){const t=null!=this.getCollections?this.getCollections():null;if(null==t)return void this.removeAll();let o=0;for(const s of t)null!=s&&(o=this._processCollection(o,s));this.splice(o,this.length)}_createNewInstance(t){return new _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"](t)}_processCollection(t,o){if(!o)return t;const s=this.itemFilterFunction??(t=>!!t);for(const e of o)if(e){if(s(e)){const o=this.indexOf(e,t);o>=0?o!==t&&this.reorder(e,t):this.add(e,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(e);if(Array.isArray(o))for(const s of o)t=this._processCollection(t,s);else t=this._processCollection(t,o)}}return t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],i.prototype,"getCollections",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],i.prototype,"getChildrenFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],i.prototype,"itemFilterFunction",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.core.CollectionFlattener")],i);const l=i;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/scaleUtils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getExtentForScale: () => (/* binding */ f),
/* harmony export */   getResolutionForScale: () => (/* binding */ o),
/* harmony export */   getResolutionInMetersForScale: () => (/* binding */ u),
/* harmony export */   getScale: () => (/* binding */ i),
/* harmony export */   getScaleForResolution: () => (/* binding */ c),
/* harmony export */   isInScaleRange: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const r=96;function i(t,i){const o=i||t.extent,u=t.width,c=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(o?.spatialReference);return o&&u?o.width/u*c*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.inchesPerMeter*r:0}function o(t,i){return t/((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(i)*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.inchesPerMeter*r)}function u(t){return t/(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.inchesPerMeter*r)}function c(t,i){return t*((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(i)*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.inchesPerMeter*r)}function f(t,n){const e=t.extent,r=t.width-(t.padding?t.padding.left+t.padding.right:0),i=o(n,e.spatialReference);return e.clone().expand(i*r/e.width)}function d(t,n,e){return a(t,n)&&p(t,e)}function a(n,e){return 0===e||(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.floatEqualAbsolute)(n,e)||n<e}function p(n,e){return 0===e||(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.floatEqualAbsolute)(n,e)||n>e}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/WMSLayer.js":
/*!******************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/WMSLayer.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../PopupTemplate.js */ "./node_modules/@arcgis/core/PopupTemplate.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/CollectionFlattener.js */ "./node_modules/@arcgis/core/core/CollectionFlattener.js");
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/jsonMap.js */ "./node_modules/@arcgis/core/core/jsonMap.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _core_accessorSupport_write_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../core/accessorSupport/write.js */ "./node_modules/@arcgis/core/core/accessorSupport/write.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../geometry/support/scaleUtils.js */ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ "./node_modules/@arcgis/core/layers/mixins/BlendLayer.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ "./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js");
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ "./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js");
/* harmony import */ var _mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./mixins/TemporalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js");
/* harmony import */ var _ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./ogc/crsUtils.js */ "./node_modules/@arcgis/core/layers/ogc/crsUtils.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./support/ExportWMSImageParameters.js */ "./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js");
/* harmony import */ var _support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./support/imageBitmapUtils.js */ "./node_modules/@arcgis/core/layers/support/imageBitmapUtils.js");
/* harmony import */ var _support_WMSSublayer_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./support/WMSSublayer.js */ "./node_modules/@arcgis/core/layers/support/WMSSublayer.js");
/* harmony import */ var _support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./support/wmsUtils.js */ "./node_modules/@arcgis/core/layers/support/wmsUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const J=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_7__.JSONMap({bmp:"image/bmp",gif:"image/gif",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},{ignoreUnknown:!1});function V(e){return"text/html"===e}function z(e){return"text/plain"===e}let Q=class extends((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_24__.BlendLayer)((0,_mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_29__.TemporalLayer)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_27__.RefreshableLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_28__.ScaleRangeLayer)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_25__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_26__.PortalLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_9__.MultiOriginJSONMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_23__["default"])))))))){constructor(...e){super(...e),this.allSublayers=new _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_6__["default"]({getCollections:()=>[this.sublayers],getChildrenFunction:e=>e.sublayers}),this.customParameters=null,this.customLayerParameters=null,this.copyright=null,this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.featureInfoFormats=null,this.featureInfoUrl=null,this.fetchFeatureInfoFunction=null,this.imageFormat=null,this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.legendEnabled=!0,this.mapUrl=null,this.isReference=null,this.operationalLayerType="WMS",this.spatialReference=null,this.spatialReferences=null,this.sublayers=null,this.type="wms",this.version=null,this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.on)((()=>this.sublayers),"after-add",(({item:e})=>{e.parent=e.layer=this}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.on)((()=>this.sublayers),"after-remove",(({item:e})=>{e.layer=e.parent=null}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.sublayers),((e,t)=>{if(t)for(const r of t)r.layer=r.parent=null;if(e)for(const r of e)r.parent=r.layer=this}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync)])}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}destroy(){this.allSublayers.destroy()}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WMS"]},e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.throwIfAbortError).then((()=>this._fetchService(t)))),Promise.resolve(this)}readFullExtentFromItemOrMap(e,t){const r=t.extent;return r?new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_19__["default"]({xmin:r[0][0],ymin:r[0][1],xmax:r[1][0],ymax:r[1][1]}):null}writeFullExtent(e,t){t.extent=[[e.xmin,e.ymin],[e.xmax,e.ymax]]}get featureInfoFormat(){return null==this.featureInfoFormats?null:this.featureInfoFormats.find(V)??this.featureInfoFormats.find(z)??null}set featureInfoFormat(e){null==e?(this.revert("featureInfoFormat","service"),this._clearOverride("featureInfoFormat")):(V(e)||z(e))&&this._override("featureInfoFormat",e)}readImageFormat(e,t){const r=t.supportedImageFormatTypes;return r&&r.includes("image/png")?"image/png":r&&r[0]}readSpatialReferenceFromItemOrDocument(e,t){return new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__["default"](t.spatialReferences[0])}writeSpatialReferences(e,t){const r=this.spatialReference?.wkid;e&&r?(t.spatialReferences=e.filter((e=>e!==r)),t.spatialReferences.unshift(r)):t.spatialReferences=e}readSublayersFromItemOrMap(e,t,r){return X(t.layers,r,t.visibleLayers)}readSublayers(e,t,r){return X(t.layers,r)}writeSublayers(e,t,r,o){t.layers=[];const s=new Map,i=e.flatten((({sublayers:e})=>e??[]));for(const a of i)if("number"==typeof a.parent?.id){const e=s.get(a.parent.id);null!=e?e.push(a.id):s.set(a.parent.id,[a.id])}for(const a of i){const e={sublayer:a,...o},r=a.write({parentLayerId:"number"==typeof a.parent?.id?a.parent.id:-1},e);if(s.has(a.id)&&(r.sublayerIds=s.get(a.id)),!a.sublayers&&a.name){const r=a.write({},e);delete r.id,t.layers.push(r)}}t.visibleLayers=i.filter((({visible:e,sublayers:t})=>e&&!t)).map((({name:e})=>e)).toArray()}set url(e){if(!e)return void this._set("url",e);const{path:t,query:r}=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.urlToObject)(e);for(const s in r)/^(request|service)$/i.test(s)&&delete r[s];const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.addQueryParameters)(t,r??{});this._set("url",o)}createExportImageParameters(e,t,r,o){const s=o?.pixelRatio??1,i=(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_21__.getScale)({extent:e,width:t})*s,a=new _support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_33__.ExportWMSImageParameters({layer:this,scale:i}),{xmin:n,ymin:l,xmax:p,ymax:m,spatialReference:u}=e,c=(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.normalizeWKID)(u,this.spatialReferences),f="1.3.0"===this.version&&(0,_ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_30__.isAxesOrderReversedForWkid)(c)?`${l},${n},${m},${p}`:`${n},${l},${p},${m}`,y=a.toJSON();return{bbox:f,["1.3.0"===this.version?"crs":"srs"]:null==c||isNaN(c)?void 0:"EPSG:"+c,...y}}async fetchImage(e,t,r,o){const i=this.mapUrl,a=this.createExportImageParameters(e,t,r,o);if(!a.layers){const e=document.createElement("canvas");return e.width=t,e.height=r,e}const n=o?.timeExtent?.start,l=o?.timeExtent?.end,p=null!=n&&null!=l?n.getTime()===l.getTime()?(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(n):`${(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(n)}/${(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(l)}`:void 0,m={responseType:"image",query:this._mixCustomParameters({width:t,height:r,...a,time:p,...this.refreshParameters}),signal:o?.signal};return (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(i??"",m).then((e=>e.data))}async fetchImageBitmap(e,t,r,o){const i=this.mapUrl??"",a=this.createExportImageParameters(e,t,r,o);if(!a.layers){const e=document.createElement("canvas");return e.width=t,e.height=r,e}const n=o?.timeExtent?.start,l=o?.timeExtent?.end,p=null!=n&&null!=l?n.getTime()===l.getTime()?(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(n):`${(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(n)}/${(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.toISOString)(l)}`:void 0,m={responseType:"blob",query:this._mixCustomParameters({width:t,height:r,...a,time:p,...this.refreshParameters}),signal:o?.signal},{data:u}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(i,m);return (0,_support_imageBitmapUtils_js__WEBPACK_IMPORTED_MODULE_34__.createBitmap)(u,i,o?.signal)}fetchFeatureInfo(e,t,r,o,s){const i=(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_21__.getScale)({extent:e,width:t}),a=new _support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_33__.ExportWMSImageParameters({layer:this,scale:i}),n=(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.getPopupLayers)(a.visibleSublayers);if(null==this.featureInfoUrl||null==n)return Promise.resolve([]);if(null==this.fetchFeatureInfoFunction&&null==this.featureInfoFormat)return Promise.resolve([]);const l="1.3.0"===this.version?{I:o,J:s}:{x:o,y:s},p={query_layers:n,request:"GetFeatureInfo",info_format:this.featureInfoFormat,feature_count:25,width:t,height:r,...l},m={...this.createExportImageParameters(e,t,r),...p},u=this._mixCustomParameters(m);return null!=this.fetchFeatureInfoFunction?this.fetchFeatureInfoFunction(u):this._defaultFetchFeatureInfoFunction((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.addQueryParameters)(this.featureInfoUrl,u))}findSublayerById(e){return this.allSublayers.find((t=>t.id===e))}findSublayerByName(e){return this.allSublayers.find((t=>t.name===e))}serviceSupportsSpatialReference(e){return (0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_31__.isWmsServer)(this.url)||null!=this.spatialReferences&&this.spatialReferences.some((t=>{const r=900913===t?_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__["default"].WebMercator:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__["default"]({wkid:t});return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_22__.equals)(r,e)}))}_defaultFetchFeatureInfoFunction(e){const t=document.createElement("iframe");t.src=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.addProxy)(e),t.style.border="none",t.style.margin="0",t.style.width="100%",t.setAttribute("sandbox","");const s=new _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_3__["default"]({title:this.title,content:t}),i=new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({sourceLayer:this,popupTemplate:s});return Promise.resolve([i])}async _fetchService(e){if(!this.resourceInfo&&this.parsedUrl?.path){const{path:t,query:r}=this.parsedUrl,{data:o}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_4__["default"])(t,{query:{SERVICE:"WMS",REQUEST:"GetCapabilities",...r,...this.customParameters},responseType:"xml",signal:e});this.resourceInfo=(0,_support_wmsUtils_js__WEBPACK_IMPORTED_MODULE_36__.parseCapabilities)(o)}if(this.parsedUrl){const e=new _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_12__.Url(this.parsedUrl.path),{httpsDomains:r}=_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].request;"https"!==e.scheme||e.port&&"443"!==e.port||!e.host||r.includes(e.host)||r.push(e.host)}this.read(this.resourceInfo,{origin:"service"})}_mixCustomParameters(e){if(!this.customLayerParameters&&!this.customParameters)return e;const t={...this.customParameters,...this.customLayerParameters};for(const r in t)e[r.toLowerCase()]=t[r];return e}};function K(e,t){return e.some((e=>{for(const r in e)if((0,_core_accessorSupport_write_js__WEBPACK_IMPORTED_MODULE_18__.willPropertyWrite)(e,r,null,t))return!0;return!1}))}function X(e,t,r){e=e??[];const o=new Map;e.every((e=>null==e.id))&&(e=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_8__.clone)(e)).forEach(((e,t)=>e.id=t));for(const i of e){const e=new _support_WMSSublayer_js__WEBPACK_IMPORTED_MODULE_35__["default"];e.read(i,t),r&&!r.includes(e.name)&&(e.visible=!1),o.set(e.id,e)}const s=[];for(const a of e){const e=null!=a.id?o.get(a.id):null;if(e)if(null!=a.parentLayerId&&a.parentLayerId>=0){const t=o.get(a.parentLayerId);if(!t)continue;t.sublayers||(t.sublayers=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_5__["default"]),t.sublayers.push(e)}else s.push(e)}return s}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],Q.prototype,"allSublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:{type:Object,write:!0}})],Q.prototype,"customParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:{type:Object,write:!0}})],Q.prototype,"customLayerParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:!0}})],Q.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"description",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({readOnly:!0})],Q.prototype,"dimensions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:{type:[[Number]],read:{source:"extent"},write:{target:"extent"},origins:{"web-document":{write:{ignoreOrigin:!0}},"portal-item":{write:{ignoreOrigin:!0}}}}})],Q.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)(["web-document","portal-item"],"fullExtent",["extent"])],Q.prototype,"readFullExtentFromItemOrMap",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_17__.writer)(["web-document","portal-item"],"fullExtent",{extent:{type:[[Number]]}})],Q.prototype,"writeFullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"fullExtents",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],Q.prototype,"featureInfoFormat",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:[String],readOnly:!0})],Q.prototype,"featureInfoFormats",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],Q.prototype,"featureInfoUrl",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"fetchFeatureInfoFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{origins:{"web-document":{default:"image/png",type:J.jsonValues,read:{reader:J.read,source:"format"},write:{writer:J.write,target:"format"}}}}})],Q.prototype,"imageFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)("imageFormat",["supportedImageFormatTypes"])],Q.prototype,"readImageFormat",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Number,json:{read:{source:"maxHeight"},write:{target:"maxHeight"}}})],Q.prototype,"imageMaxHeight",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Number,json:{read:{source:"maxWidth"},write:{target:"maxWidth"}}})],Q.prototype,"imageMaxWidth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"imageTransparency",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_32__.legendEnabled)],Q.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:["show","hide","hide-children"]})],Q.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],Q.prototype,"mapUrl",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],Q.prototype,"isReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:["WMS"]})],Q.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)()],Q.prototype,"resourceInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_20__["default"],json:{origins:{service:{read:{source:"extent.spatialReference"}}},write:!1}})],Q.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)(["web-document","portal-item"],"spatialReference",["spatialReferences"])],Q.prototype,"readSpatialReferenceFromItemOrDocument",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_14__.Integer],json:{read:!1,origins:{service:{read:!0},"web-document":{read:!1,write:{ignoreOrigin:!0}},"portal-item":{read:!1,write:{ignoreOrigin:!0}}}}})],Q.prototype,"spatialReferences",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_17__.writer)(["web-document","portal-item"],"spatialReferences")],Q.prototype,"writeSpatialReferences",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:_core_Collection_js__WEBPACK_IMPORTED_MODULE_5__["default"].ofType(_support_WMSSublayer_js__WEBPACK_IMPORTED_MODULE_35__["default"]),json:{write:{target:"layers",overridePolicy(e,t,r){if(K(this.allSublayers,r))return{ignoreOrigin:!0}}}}})],Q.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)(["web-document","portal-item"],"sublayers",["layers","visibleLayers"])],Q.prototype,"readSublayersFromItemOrMap",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_15__.reader)("service","sublayers",["layers"])],Q.prototype,"readSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_17__.writer)("sublayers",{layers:{type:[_support_WMSSublayer_js__WEBPACK_IMPORTED_MODULE_35__["default"]]},visibleLayers:{type:[String]}})],Q.prototype,"writeSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({json:{read:!1},readOnly:!0,value:"wms"})],Q.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_32__.url)],Q.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_13__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],Q.prototype,"version",void 0),Q=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__.subclass)("esri.layers.WMSLayer")],Q);const Y=Q;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/ogc/crsUtils.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ogc/crsUtils.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isAxesOrderReversedForWkid: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function o(o){return null!=o&&n.some((([n,t])=>o>=n&&o<=t))}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExportWMSImageParameters: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const a={visible:"visibleSublayers"};let o=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.scale=0}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.removeHandles("layer"),e&&this.addHandles([e.sublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("wms-sublayer-update",(e=>this.notifyChange(a[e.propertyName])))],"layer"))}get layers(){return this.visibleSublayers.filter((({name:e})=>e)).map((({name:e})=>e)).join()}get version(){this.commitProperty("layers");const e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=e?.sublayers,t=[],a=e=>{const{minScale:s,maxScale:o,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===o||r>=o))&&(l?l.forEach(a):t.push(e))};return s?.forEach(a),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:a}=e;return{format:s,request:"GetMap",service:"WMS",styles:"",transparent:t?"TRUE":"FALSE",version:a,layers:r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],o.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],o.prototype,"layers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number})],o.prototype,"scale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],o.prototype,"version",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],o.prototype,"visibleSublayers",null),o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.ExportWMSImageParameters")],o);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/WMSSublayer.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/WMSSublayer.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var h;let c=0,m=h=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__.IdentifiableMixin)(_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_3__.MultiOriginJSONSupport)){constructor(e){super(e),this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.legendUrl=null,this.legendEnabled=!0,this.layer=null,this.maxScale=0,this.minScale=0,this.name=null,this.parent=null,this.popupEnabled=!1,this.queryable=!1,this.sublayers=null,this.spatialReferences=null,this.title=null,this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.on)((()=>this.sublayers),"after-add",(({item:e})=>{e.parent=this,e.layer=this.layer}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.on)((()=>this.sublayers),"after-remove",(({item:e})=>{e.layer=e.parent=null}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.sublayers),((e,t)=>{if(t)for(const r of t)r.layer=r.parent=null;if(e)for(const r of e)r.parent=this,r.layer=this.layer}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.layer),(e=>{if(this.sublayers)for(const t of this.sublayers)t.layer=e}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync)])}get id(){const e=this._get("id");return e??c++}set id(e){this._set("id",e)}readLegendUrl(e,t){return t.legendUrl??t.legendURL??null}get effectiveScaleRange(){const{minScale:e,maxScale:t}=this;return{minScale:e,maxScale:t}}castSublayers(e){return (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__.ensureType)(_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].ofType(h),e)}set visible(e){this._setAndNotifyLayer("visible",e)}clone(){const e=new h;return this.hasOwnProperty("description")&&(e.description=this.description),this.hasOwnProperty("fullExtent")&&(e.fullExtent=this.fullExtent.clone()),this.hasOwnProperty("fullExtents")&&(e.fullExtents=this.fullExtents?.map((e=>e.clone()))??null),this.hasOwnProperty("legendUrl")&&(e.legendUrl=this.legendUrl),this.hasOwnProperty("legendEnabled")&&(e.legendEnabled=this.legendEnabled),this.hasOwnProperty("layer")&&(e.layer=this.layer),this.hasOwnProperty("name")&&(e.name=this.name),this.hasOwnProperty("parent")&&(e.parent=this.parent),this.hasOwnProperty("queryable")&&(e.queryable=this.queryable),this.hasOwnProperty("sublayers")&&(e.sublayers=this.sublayers?.map((e=>e.clone()))),this.hasOwnProperty("spatialReferences")&&(e.spatialReferences=this.spatialReferences?.map((e=>e))),this.hasOwnProperty("visible")&&(e.visible=this.visible),this.hasOwnProperty("title")&&(e.title=this.title),e}_setAndNotifyLayer(e,t){const r=this.layer;this._get(e)!==t&&(this._set(e,t),r&&r.emit("wms-sublayer-update",{propertyName:e,id:this.id}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"description",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],m.prototype,"dimensions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__["default"],json:{name:"extent"}})],m.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"fullExtents",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Number,json:{write:{enabled:!1,overridePolicy:()=>({ignoreOrigin:!0,enabled:!0})}}})],m.prototype,"id",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{name:"legendUrl",write:{ignoreOrigin:!0}}})],m.prototype,"legendUrl",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__.reader)("legendUrl",["legendUrl","legendURL"])],m.prototype,"readLegendUrl",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,json:{name:"showLegend",origins:{"web-map":{read:!1,write:!1},"web-scene":{read:!1,write:!1}}}})],m.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"maxScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"minScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],m.prototype,"effectiveScaleRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],m.prototype,"name",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,json:{read:{source:"showPopup"},write:{ignoreOrigin:!0,target:"showPopup"}}})],m.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,json:{write:{ignoreOrigin:!0}}})],m.prototype,"queryable",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],m.prototype,"sublayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_6__.cast)("sublayers")],m.prototype,"castSublayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:[Number],json:{read:{source:"spatialReferences"}}})],m.prototype,"spatialReferences",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:{ignoreOrigin:!0}}})],m.prototype,"title",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"}}})],m.prototype,"visible",null),m=h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.layers.support.WMSSublayer")],m);const f=m;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/wmsUtils.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/wmsUtils.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fromISODuration: () => (/* binding */ R),
/* harmony export */   getPopupLayers: () => (/* binding */ a),
/* harmony export */   isDimensionInterval: () => (/* binding */ E),
/* harmony export */   isElevationDimension: () => (/* binding */ w),
/* harmony export */   isGenericDimension: () => (/* binding */ L),
/* harmony export */   isTimeDimension: () => (/* binding */ F),
/* harmony export */   normalizeWKID: () => (/* binding */ _),
/* harmony export */   parseCapabilities: () => (/* binding */ l),
/* harmony export */   toISOString: () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ogc/crsUtils.js */ "./node_modules/@arcgis/core/layers/ogc/crsUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const o={84:4326,83:4269,27:4267};function l(n){if(!n)return null;const i={idCounter:-1};if("string"==typeof n){n=(new DOMParser).parseFromString(n,"text/xml")}const s=n.documentElement;if("ServiceExceptionReport"===s.nodeName){const e=Array.prototype.slice.call(s.childNodes).map((e=>e.textContent)).join("\r\n");throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayer:wms-capabilities-xml-is-not-valid","The server returned errors when the WMS capabilities were requested.",e)}const o=d("Capability",s),l=d("Service",s),a=o&&d("Request",o);if(!o||!l||!a)return null;const m=d("Layer",o);if(!m)return null;const f="WMS_Capabilities"===s.nodeName||"WMT_MS_Capabilities"===s.nodeName?s.getAttribute("version"):"1.3.0",p=h("Title",l,"")||h("Name",l,""),x=h("AccessConstraints",l,""),y=/^none$/i.test(x)?"":x,S=h("Abstract",l,""),E=parseInt(h("MaxWidth",l,"5000"),10),w=parseInt(h("MaxHeight",l,"5000"),10),L=N(a,"GetMap"),M=g(a,"GetMap"),C=b(m,f,i);if(!C)return null;let v,I=0;const R=Array.prototype.slice.call(o.childNodes),U=C.sublayers??[],T=e=>{null!=e&&U.push(e)};R.forEach((e=>{"Layer"===e.nodeName&&(0===I?v=e:1===I?(C.name&&(C.name="",T(b(v,f,i))),T(b(e,f,i))):T(b(e,f,i)),I++)}));let V=C.sublayers,O=C.extent;const _=C.fullExtents??[];if(V||(V=[]),0===V.length&&V.push(C),!O){const e=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"](V[0].extent);C.extent=e.toJSON(),O=C.extent}const B=C.spatialReferences.length>0?C.spatialReferences:u(C),D=g(a,"GetFeatureInfo"),j=D?N(a,"GetFeatureInfo"):null,k=c(V),q=C.minScale||0,X=C.maxScale||0,G=C.dimensions??[],W=k.reduce(((e,t)=>e.concat(t.dimensions??[])),[]),P=G.concat(W).filter(F);let $=null;if(P.length){const t=P.map((e=>{const{extent:t}=e;return A(t)?t.map((e=>e.getTime())):t?.map((e=>[e.min.getTime(),e.max.getTime()]))})).flat(2).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome);$={startTimeField:null,endTimeField:null,trackIdField:void 0,timeExtent:[Math.min(...t),Math.max(...t)]}}return{copyright:y,description:S,dimensions:G,extent:O,fullExtents:_,featureInfoFormats:j,featureInfoUrl:D,mapUrl:M,maxWidth:E,maxHeight:w,maxScale:X,minScale:q,layers:k,spatialReferences:B,supportedImageFormatTypes:L,timeInfo:$,title:p,version:f}}function a(e){const t=e.filter((e=>e.popupEnabled&&e.name&&e.queryable));return t.length?t.map((({name:e})=>e)).join():null}function u(e){if(e.spatialReferences.length>0)return e.spatialReferences;if(e.sublayers)for(const t of e.sublayers){const e=u(t);if(e.length>0)return e}return[]}function c(e){let t=[];for(const n of e)t.push(n),n.sublayers?.length&&(t=t.concat(c(n.sublayers)),delete n.sublayers);return t}function m(e,t,n){return t.getAttribute(e)??n}function f(e,t,n,r){const i=d(e,n);return i?m(t,i,r):r}function d(e,t){for(let n=0;n<t.childNodes.length;n++){const r=t.childNodes[n];if(S(r)&&r.nodeName===e)return r}return null}function p(e,t){if(null==t)return[];const n=[];for(let r=0;r<t.childNodes.length;r++){const i=t.childNodes[r];S(i)&&i.nodeName===e&&n.push(i)}return n}function h(e,t,n){return d(e,t)?.textContent??n}function x(e,t,n){if(!e)return null;const s=parseFloat(e.getAttribute("minx")),o=parseFloat(e.getAttribute("miny")),l=parseFloat(e.getAttribute("maxx")),a=parseFloat(e.getAttribute("maxy"));let u,c,m,f;n?(u=isNaN(o)?-Number.MAX_VALUE:o,c=isNaN(s)?-Number.MAX_VALUE:s,m=isNaN(a)?Number.MAX_VALUE:a,f=isNaN(l)?Number.MAX_VALUE:l):(u=isNaN(s)?-Number.MAX_VALUE:s,c=isNaN(o)?-Number.MAX_VALUE:o,m=isNaN(l)?Number.MAX_VALUE:l,f=isNaN(a)?Number.MAX_VALUE:a);const d=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"]({wkid:t});return new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"]({xmin:u,ymin:c,xmax:m,ymax:f,spatialReference:d})}function g(e,t){const n=d(t,e);if(n){const e=d("DCPType",n);if(e){const t=d("HTTP",e);if(t){const e=d("Get",t);if(e){let t=f("OnlineResource","xlink:href",e,null);if(t)return t.indexOf("&")===t.length-1&&(t=t.substring(0,t.length-1)),M(t,["service","request"])}}}}return null}function N(t,n){const r=p("Operation",t);if(!r.length){return p("Format",d(n,t)).map((({textContent:e})=>e)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome)}const i=[];for(const e of r)if(e.getAttribute("name")===n){const t=p("Format",e);for(const{textContent:e}of t)null!=e&&i.push(e)}return i}function y(e,t,n){const r=d(t,e);if(!r)return n;const{textContent:i}=r;if(null==i||""===i)return n;const s=Number(i);return isNaN(s)?n:s}function b(e,t,n){if(!e)return null;const l={id:n.idCounter++,fullExtents:[],parentLayerId:null,queryable:"1"===e.getAttribute("queryable"),spatialReferences:[],sublayers:null},a=d("LatLonBoundingBox",e),u=d("EX_GeographicBoundingBox",e);let c=null;a&&(c=x(a,4326)),u&&(c=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"](0,0,0,0,new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"]({wkid:4326})),c.xmin=parseFloat(h("westBoundLongitude",u,"0")),c.ymin=parseFloat(h("southBoundLatitude",u,"0")),c.xmax=parseFloat(h("eastBoundLongitude",u,"0")),c.ymax=parseFloat(h("northBoundLatitude",u,"0"))),a||u||(c=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_3__["default"](-180,-90,180,90,new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"]({wkid:4326}))),l.minScale=y(e,"MaxScaleDenominator",0),l.maxScale=y(e,"MinScaleDenominator",0);const f=["1.0.0","1.1.0","1.1.1"].includes(t)?"SRS":"CRS";return Array.prototype.slice.call(e.childNodes).forEach((e=>{if("Name"===e.nodeName)l.name=e.textContent||"";else if("Title"===e.nodeName)l.title=e.textContent||"";else if("Abstract"===e.nodeName)l.description=e.textContent||"";else if("BoundingBox"===e.nodeName){const n=e.getAttribute(f);if(n&&0===n.indexOf("EPSG:")){const r=parseInt(n.substring(5),10);0===r||isNaN(r)||c||(c="1.3.0"===t?x(e,r,(0,_ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAxesOrderReversedForWkid)(r)):x(e,r))}const r=n&&n.indexOf(":");if(r&&r>-1){let i=parseInt(n.substring(r+1,n.length),10);0===i||isNaN(i)||(i=o[i]??i);const a="1.3.0"===t?x(e,i,(0,_ogc_crsUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAxesOrderReversedForWkid)(i)):x(e,i);a&&l.fullExtents&&l.fullExtents.push(a)}}else if(e.nodeName===f){(e.textContent?.split(" ")??[]).forEach((e=>{const t=e.includes(":")?parseInt(e.split(":")[1],10):parseInt(e,10);if(0!==t&&!isNaN(t)){const e=o[t]??t;l.spatialReferences.includes(e)||l.spatialReferences.push(e)}}))}else if("Style"!==e.nodeName||l.legendUrl){if("Layer"===e.nodeName){const r=b(e,t,n);r&&(r.parentLayerId=l.id,l.sublayers||(l.sublayers=[]),l.sublayers.push(r))}}else{const t=d("LegendURL",e);if(t){const e=d("OnlineResource",t);e&&(l.legendUrl=e.getAttribute("xlink:href"))}}})),l.extent=c?.toJSON(),l.dimensions=p("Dimension",e).filter((e=>e.getAttribute("name")&&e.getAttribute("units")&&e.textContent)).map((e=>{const t=e.getAttribute("name"),n=e.getAttribute("units"),r=e.textContent,i=e.getAttribute("unitSymbol")??void 0,s=e.getAttribute("default")??void 0,o="0"!==m("default",e,"0"),l="0"!==m("nearestValue",e,"0"),a="0"!==m("current",e,"0");if(F({name:t,units:n})){return{name:"time",units:"ISO8601",extent:I(r),default:I(s),multipleValues:o,nearestValue:l,current:a}}if(w({name:t,units:n})){return{name:"elevation",units:n,extent:C(r),unitSymbol:i,default:C(s),multipleValues:o,nearestValue:l}}return{name:t,units:n,extent:v(r),unitSymbol:i,default:v(s),multipleValues:o,nearestValue:l}})),l}function A(e){return Array.isArray(e)&&e.length>0&&e[0]instanceof Date}function S(e){return e.nodeType===Node.ELEMENT_NODE}function E(e){return void 0!==e.min&&void 0!==e.max}function w(e){return/^elevation$/i.test(e.name)&&/^(epsg|crs):\d+$/i.test(e.units)}function L(e){return!F(e)&&!w(e)}function F(e){return/^time$/i.test(e.name)&&/^iso8601$/i.test(e.units)}function M(e,t){const r=[],i=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.urlToObject)(e);for(const n in i.query)i.query.hasOwnProperty(n)&&(t.includes(n.toLowerCase())||r.push(n+"="+i.query[n]));return i.path+(r.length?"?"+r.join("&"):"")}function C(t){if(!t)return;const n=t.includes("/"),r=t.split(",");return n?r.map((e=>{const t=e.split("/");if(t.length<2)return null;return{min:parseFloat(t[0]),max:parseFloat(t[1]),resolution:t.length>=3&&"0"!==t[2]?parseFloat(t[2]):void 0}})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome):r.map((e=>parseFloat(e)))}function v(t){if(!t)return;const n=t.includes("/"),r=t.split(",");return n?r.map((e=>{const t=e.split("/");if(t.length<2)return null;return{min:t[0],max:t[1],resolution:t.length>=3&&"0"!==t[2]?t[2]:void 0}})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome):r}function I(t){if(!t)return;const n=t.includes("/"),r=t.split(",");return n?r.map((e=>{const t=e.split("/");if(t.length<2)return null;return{min:new Date(t[0]),max:new Date(t[1]),resolution:t.length>=3&&"0"!==t[2]?R(t[2]):void 0}})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome):r.map((e=>new Date(e)))}function R(e){const t=/(?:p(\d+y|\d+(?:\.|,)\d+y)?(\d+m|\d+(?:\.|,)\d+m)?(\d+d|\d+(?:\.|,)\d+d)?)?(?:t(\d+h|\d+(?:\.|,)\d+h)?(\d+m|\d+(?:\.|,)\d+m)?(\d+s|\d+(?:\.|,)\d+s)?)?/i,n=e.match(t);if(!n)return null;return{years:U(n[1]),months:U(n[2]),days:U(n[3]),hours:U(n[4]),minutes:U(n[5]),seconds:U(n[6])}}function U(e){if(!e)return 0;const t=/(?:\d+(?:\.|,)\d+|\d+)/,n=e.match(t);if(!n)return 0;const r=n[0].replace(",",".");return Number(r)}function T(e){return e.toISOString().replace(/\.[0-9]{3}/,"")}const V=new Set([102100,3857,102113,900913]),O=new Set([3395,54004]);function _(e,t){let n=e.wkid;return null==t?n:(null!=n&&t.includes(n)||!e.latestWkid||(n=e.latestWkid),null!=n&&V.has(n)?t.find((e=>V.has(e)))||t.find((e=>O.has(e)))||102100:n)}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfbGF5ZXJzX1dNU0xheWVyX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDaVgsb0JBQW9CLHNEQUFDLENBQUMsZUFBZSxrQ0FBa0MsYUFBYSxnQkFBZ0IsMEVBQUMseUJBQXlCLFVBQVUseUJBQXlCLFdBQVcsNkRBQTZELHdDQUF3QyxRQUFRLDJEQUEyRCwyQkFBMkIsc0JBQXNCLFdBQVcsc0RBQUMsSUFBSSx3QkFBd0IsZUFBZSwwQ0FBMEMsdUJBQXVCLFNBQVMsMEJBQTBCLGdEQUFnRCw2QkFBNkIsb0NBQW9DLG9FQUFvRSxxQ0FBcUMsV0FBVyx1REFBQyxFQUFFLGlGQUFDLHlDQUF5Qyx1REFBQyxFQUFFLGlGQUFDLDhDQUE4Qyx1REFBQyxFQUFFLGlGQUFDLCtDQUErQyx1REFBQyxFQUFFLGlGQUFDLHNDQUFzQyxVQUErQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pqMUM7QUFDQTtBQUNBO0FBQ0E7QUFDaUosV0FBVyxnQkFBZ0IsZ0NBQWdDLHlFQUFDLHNCQUFzQix3QkFBd0IsOERBQUMsS0FBSyxnQkFBZ0IsVUFBVSx5RUFBQyxJQUFJLDhEQUFDLElBQUksY0FBYyxVQUFVLDhEQUFDLElBQUksZ0JBQWdCLFVBQVUseUVBQUMsSUFBSSw4REFBQyxJQUFJLGdCQUFnQixrR0FBa0cscUNBQXFDLGtCQUFrQixzQkFBc0IsZ0JBQWdCLGNBQWMsc0VBQUMsV0FBVyxnQkFBZ0IsY0FBYyxzRUFBQyxXQUFxSzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pueEI7QUFDQTtBQUNBO0FBQ0E7QUFDcWxFLFlBQVkscURBQUMsRUFBRSxxRkFBcUYsRUFBRSxpQkFBaUIsRUFBRSxjQUFjLHNCQUFzQixjQUFjLHVCQUF1QixvQkFBb0Isa0VBQUMsQ0FBQyx3RUFBQyxDQUFDLDhFQUFD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MkRBQUMscUJBQXFCLHFFQUFDLEVBQUUsVUFBVSxvRkFBb0YsMERBQTBELDZEQUE2RCxnREFBZ0QsdURBQXVELGdFQUFnRSxvQ0FBb0MsMEJBQTBCLDhCQUE4QixvQ0FBb0MseUNBQXlDLDRFQUFDLGFBQWEsMEJBQTBCLFlBQVksNkNBQTZDLDZCQUE2QiwwQkFBMEIsNEVBQUMsWUFBWSx5Q0FBeUMsd0JBQXdCLDZDQUE2QyxvRUFBb0UscUJBQXFCLGdCQUFnQiw4REFBOEQsR0FBRywyQ0FBMkMseUJBQXlCLGlCQUFpQiw2RUFBNkUsS0FBSyx5QkFBeUIsTUFBTSw4QkFBOEIsZ0RBQWdELDJJQUEySSwwT0FBME8sTUFBTSxlQUFlLEdBQUcsT0FBTyxnR0FBZ0csTUFBTSxlQUFlLEdBQUcsT0FBTyxnR0FBZ0csT0FBTyxzRkFBc0YsS0FBSyxjQUFjLHlEQUF5RCxjQUFjLHNDQUFzQyxjQUFjLHNDQUFzQyxjQUFjLHFFQUFxRSxjQUFjLG1CQUFtQixjQUFjLHlEQUF5RCxnQkFBZ0IsYUFBYSw4REFBQyxJQUFJLDBHQUEwRyw0Q0FBNEMsY0FBYyxhQUFhLHVDQUF1QyxvQkFBb0IscUJBQXFCLDBCQUEwQixPQUFPLHNHQUFzRyxVQUFVLHVEQUFDLDRCQUE0QixjQUFjLGFBQWEsdUNBQXVDLG9CQUFvQixxQkFBcUIsMEJBQTBCLE9BQU8sa0VBQWtFLFVBQVUsdURBQUMsSUFBSSxjQUFjLGFBQWEsdUNBQXVDLG9CQUFvQixxQkFBcUIsMEJBQTBCLE9BQU8seUZBQXlGLFVBQVUsdURBQUMsMEJBQTBCLGNBQWMsK0tBQStLLGtCQUFrQixPQUFPLHlGQUF5RixjQUFjLGVBQWUsOENBQThDLGVBQWUsOEJBQThCLGlCQUFpQixjQUFjLHdDQUF3QyxFQUFFLE1BQU0scUVBQXFFLGdCQUFnQixhQUFhLG9KQUFnVyIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvQ29sbGVjdGlvbkZsYXR0ZW5lci5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L3NjYWxlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL1dNU0xheWVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9vZ2MvY3JzVXRpbHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvRXhwb3J0V01TSW1hZ2VQYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L1dNU1N1YmxheWVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3dtc1V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgbyBmcm9tXCIuL0NvbGxlY3Rpb24uanNcIjtpbXBvcnRcIi4vYXN5bmNVdGlscy5qc1wiO2ltcG9ydFwiLi9FcnJvci5qc1wiO2ltcG9ydFwiLi9Mb2dnZXIuanNcIjtpbXBvcnRcIi4vYWNjZXNzb3JTdXBwb3J0L3dhdGNoLmpzXCI7aW1wb3J0e2F1dG9ydW4gYXMgc31mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC90cmFja2luZ1V0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGV9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyByfWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtsZXQgaT1jbGFzcyBleHRlbmRzIG97Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5nZXRDb2xsZWN0aW9ucz1udWxsfWluaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXMocygoKCk9PnRoaXMuX3JlZnJlc2goKSkpKX1kZXN0cm95KCl7dGhpcy5nZXRDb2xsZWN0aW9ucz1udWxsfV9yZWZyZXNoKCl7Y29uc3QgdD1udWxsIT10aGlzLmdldENvbGxlY3Rpb25zP3RoaXMuZ2V0Q29sbGVjdGlvbnMoKTpudWxsO2lmKG51bGw9PXQpcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVBbGwoKTtsZXQgbz0wO2Zvcihjb25zdCBzIG9mIHQpbnVsbCE9cyYmKG89dGhpcy5fcHJvY2Vzc0NvbGxlY3Rpb24obyxzKSk7dGhpcy5zcGxpY2Uobyx0aGlzLmxlbmd0aCl9X2NyZWF0ZU5ld0luc3RhbmNlKHQpe3JldHVybiBuZXcgbyh0KX1fcHJvY2Vzc0NvbGxlY3Rpb24odCxvKXtpZighbylyZXR1cm4gdDtjb25zdCBzPXRoaXMuaXRlbUZpbHRlckZ1bmN0aW9uPz8odD0+ISF0KTtmb3IoY29uc3QgZSBvZiBvKWlmKGUpe2lmKHMoZSkpe2NvbnN0IG89dGhpcy5pbmRleE9mKGUsdCk7bz49MD9vIT09dCYmdGhpcy5yZW9yZGVyKGUsdCk6dGhpcy5hZGQoZSx0KSwrK3R9aWYodGhpcy5nZXRDaGlsZHJlbkZ1bmN0aW9uKXtjb25zdCBvPXRoaXMuZ2V0Q2hpbGRyZW5GdW5jdGlvbihlKTtpZihBcnJheS5pc0FycmF5KG8pKWZvcihjb25zdCBzIG9mIG8pdD10aGlzLl9wcm9jZXNzQ29sbGVjdGlvbih0LHMpO2Vsc2UgdD10aGlzLl9wcm9jZXNzQ29sbGVjdGlvbih0LG8pfX1yZXR1cm4gdH19O3QoW2UoKV0saS5wcm90b3R5cGUsXCJnZXRDb2xsZWN0aW9uc1wiLHZvaWQgMCksdChbZSgpXSxpLnByb3RvdHlwZSxcImdldENoaWxkcmVuRnVuY3Rpb25cIix2b2lkIDApLHQoW2UoKV0saS5wcm90b3R5cGUsXCJpdGVtRmlsdGVyRnVuY3Rpb25cIix2b2lkIDApLGk9dChbcihcImVzcmkuY29yZS5Db2xsZWN0aW9uRmxhdHRlbmVyXCIpXSxpKTtjb25zdCBsPWk7ZXhwb3J0e2wgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Zsb2F0RXF1YWxBYnNvbHV0ZSBhcyB0fWZyb21cIi4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e2dldE1ldGVyc1BlclVuaXRGb3JTUiBhcyBuLGluY2hlc1Blck1ldGVyIGFzIGV9ZnJvbVwiLi4vLi4vY29yZS91bml0VXRpbHMuanNcIjtjb25zdCByPTk2O2Z1bmN0aW9uIGkodCxpKXtjb25zdCBvPWl8fHQuZXh0ZW50LHU9dC53aWR0aCxjPW4obz8uc3BhdGlhbFJlZmVyZW5jZSk7cmV0dXJuIG8mJnU/by53aWR0aC91KmMqZSpyOjB9ZnVuY3Rpb24gbyh0LGkpe3JldHVybiB0LyhuKGkpKmUqcil9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdC8oZSpyKX1mdW5jdGlvbiBjKHQsaSl7cmV0dXJuIHQqKG4oaSkqZSpyKX1mdW5jdGlvbiBmKHQsbil7Y29uc3QgZT10LmV4dGVudCxyPXQud2lkdGgtKHQucGFkZGluZz90LnBhZGRpbmcubGVmdCt0LnBhZGRpbmcucmlnaHQ6MCksaT1vKG4sZS5zcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm4gZS5jbG9uZSgpLmV4cGFuZChpKnIvZS53aWR0aCl9ZnVuY3Rpb24gZCh0LG4sZSl7cmV0dXJuIGEodCxuKSYmcCh0LGUpfWZ1bmN0aW9uIGEobixlKXtyZXR1cm4gMD09PWV8fHQobixlKXx8bjxlfWZ1bmN0aW9uIHAobixlKXtyZXR1cm4gMD09PWV8fHQobixlKXx8bj5lfWV4cG9ydHtmIGFzIGdldEV4dGVudEZvclNjYWxlLG8gYXMgZ2V0UmVzb2x1dGlvbkZvclNjYWxlLHUgYXMgZ2V0UmVzb2x1dGlvbkluTWV0ZXJzRm9yU2NhbGUsaSBhcyBnZXRTY2FsZSxjIGFzIGdldFNjYWxlRm9yUmVzb2x1dGlvbixkIGFzIGlzSW5TY2FsZVJhbmdlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi9jb25maWcuanNcIjtpbXBvcnQgciBmcm9tXCIuLi9HcmFwaGljLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vUG9wdXBUZW1wbGF0ZS5qc1wiO2ltcG9ydCBzIGZyb21cIi4uL3JlcXVlc3QuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnQgYSBmcm9tXCIuLi9jb3JlL0NvbGxlY3Rpb25GbGF0dGVuZXIuanNcIjtpbXBvcnR7SlNPTk1hcCBhcyBufWZyb21cIi4uL2NvcmUvanNvbk1hcC5qc1wiO2ltcG9ydHtjbG9uZSBhcyBsfWZyb21cIi4uL2NvcmUvbGFuZy5qc1wiO2ltcG9ydHtNdWx0aU9yaWdpbkpTT05NaXhpbiBhcyBwfWZyb21cIi4uL2NvcmUvTXVsdGlPcmlnaW5KU09OU3VwcG9ydC5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRFcnJvciBhcyBtfWZyb21cIi4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e29uIGFzIHUsd2F0Y2ggYXMgYyxzeW5jIGFzIGZ9ZnJvbVwiLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3VybFRvT2JqZWN0IGFzIHksYWRkUXVlcnlQYXJhbWV0ZXJzIGFzIGQsYWRkUHJveHkgYXMgaCxVcmwgYXMgZ31mcm9tXCIuLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGJ9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtJbnRlZ2VyIGFzIHd9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgdn1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB4fWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7d3JpdGVyIGFzIGp9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy93cml0ZXIuanNcIjtpbXBvcnR7d2lsbFByb3BlcnR5V3JpdGUgYXMgSX1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC93cml0ZS5qc1wiO2ltcG9ydCBTIGZyb21cIi4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2ltcG9ydCBGIGZyb21cIi4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7Z2V0U2NhbGUgYXMgUH1mcm9tXCIuLi9nZW9tZXRyeS9zdXBwb3J0L3NjYWxlVXRpbHMuanNcIjtpbXBvcnR7ZXF1YWxzIGFzIFJ9ZnJvbVwiLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnQgRSBmcm9tXCIuL0xheWVyLmpzXCI7aW1wb3J0e0JsZW5kTGF5ZXIgYXMgT31mcm9tXCIuL21peGlucy9CbGVuZExheWVyLmpzXCI7aW1wb3J0e09wZXJhdGlvbmFsTGF5ZXIgYXMgTH1mcm9tXCIuL21peGlucy9PcGVyYXRpb25hbExheWVyLmpzXCI7aW1wb3J0e1BvcnRhbExheWVyIGFzIFV9ZnJvbVwiLi9taXhpbnMvUG9ydGFsTGF5ZXIuanNcIjtpbXBvcnR7UmVmcmVzaGFibGVMYXllciBhcyBNfWZyb21cIi4vbWl4aW5zL1JlZnJlc2hhYmxlTGF5ZXIuanNcIjtpbXBvcnR7U2NhbGVSYW5nZUxheWVyIGFzIFR9ZnJvbVwiLi9taXhpbnMvU2NhbGVSYW5nZUxheWVyLmpzXCI7aW1wb3J0e1RlbXBvcmFsTGF5ZXIgYXMgX31mcm9tXCIuL21peGlucy9UZW1wb3JhbExheWVyLmpzXCI7aW1wb3J0e2lzQXhlc09yZGVyUmV2ZXJzZWRGb3JXa2lkIGFzICR9ZnJvbVwiLi9vZ2MvY3JzVXRpbHMuanNcIjtpbXBvcnR7aXNXbXNTZXJ2ZXIgYXMgQ31mcm9tXCIuL3N1cHBvcnQvYXJjZ2lzTGF5ZXJVcmwuanNcIjtpbXBvcnR7bGVnZW5kRW5hYmxlZCBhcyBXLHVybCBhcyBxfWZyb21cIi4vc3VwcG9ydC9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0e0V4cG9ydFdNU0ltYWdlUGFyYW1ldGVycyBhcyBOfWZyb21cIi4vc3VwcG9ydC9FeHBvcnRXTVNJbWFnZVBhcmFtZXRlcnMuanNcIjtpbXBvcnR7Y3JlYXRlQml0bWFwIGFzIEJ9ZnJvbVwiLi9zdXBwb3J0L2ltYWdlQml0bWFwVXRpbHMuanNcIjtpbXBvcnQgSCBmcm9tXCIuL3N1cHBvcnQvV01TU3VibGF5ZXIuanNcIjtpbXBvcnR7bm9ybWFsaXplV0tJRCBhcyBrLHRvSVNPU3RyaW5nIGFzIEcsZ2V0UG9wdXBMYXllcnMgYXMgQSxwYXJzZUNhcGFiaWxpdGllcyBhcyBEfWZyb21cIi4vc3VwcG9ydC93bXNVdGlscy5qc1wiO2NvbnN0IEo9bmV3IG4oe2JtcDpcImltYWdlL2JtcFwiLGdpZjpcImltYWdlL2dpZlwiLGpwZzpcImltYWdlL2pwZWdcIixwbmc6XCJpbWFnZS9wbmdcIixzdmc6XCJpbWFnZS9zdmcreG1sXCJ9LHtpZ25vcmVVbmtub3duOiExfSk7ZnVuY3Rpb24gVihlKXtyZXR1cm5cInRleHQvaHRtbFwiPT09ZX1mdW5jdGlvbiB6KGUpe3JldHVyblwidGV4dC9wbGFpblwiPT09ZX1sZXQgUT1jbGFzcyBleHRlbmRzKE8oXyhNKFQoTChVKHAoRSkpKSkpKSkpe2NvbnN0cnVjdG9yKC4uLmUpe3N1cGVyKC4uLmUpLHRoaXMuYWxsU3VibGF5ZXJzPW5ldyBhKHtnZXRDb2xsZWN0aW9uczooKT0+W3RoaXMuc3VibGF5ZXJzXSxnZXRDaGlsZHJlbkZ1bmN0aW9uOmU9PmUuc3VibGF5ZXJzfSksdGhpcy5jdXN0b21QYXJhbWV0ZXJzPW51bGwsdGhpcy5jdXN0b21MYXllclBhcmFtZXRlcnM9bnVsbCx0aGlzLmNvcHlyaWdodD1udWxsLHRoaXMuZGVzY3JpcHRpb249bnVsbCx0aGlzLmRpbWVuc2lvbnM9bnVsbCx0aGlzLmZ1bGxFeHRlbnQ9bnVsbCx0aGlzLmZ1bGxFeHRlbnRzPW51bGwsdGhpcy5mZWF0dXJlSW5mb0Zvcm1hdHM9bnVsbCx0aGlzLmZlYXR1cmVJbmZvVXJsPW51bGwsdGhpcy5mZXRjaEZlYXR1cmVJbmZvRnVuY3Rpb249bnVsbCx0aGlzLmltYWdlRm9ybWF0PW51bGwsdGhpcy5pbWFnZU1heEhlaWdodD0yMDQ4LHRoaXMuaW1hZ2VNYXhXaWR0aD0yMDQ4LHRoaXMuaW1hZ2VUcmFuc3BhcmVuY3k9ITAsdGhpcy5sZWdlbmRFbmFibGVkPSEwLHRoaXMubWFwVXJsPW51bGwsdGhpcy5pc1JlZmVyZW5jZT1udWxsLHRoaXMub3BlcmF0aW9uYWxMYXllclR5cGU9XCJXTVNcIix0aGlzLnNwYXRpYWxSZWZlcmVuY2U9bnVsbCx0aGlzLnNwYXRpYWxSZWZlcmVuY2VzPW51bGwsdGhpcy5zdWJsYXllcnM9bnVsbCx0aGlzLnR5cGU9XCJ3bXNcIix0aGlzLnZlcnNpb249bnVsbCx0aGlzLmFkZEhhbmRsZXMoW3UoKCgpPT50aGlzLnN1YmxheWVycyksXCJhZnRlci1hZGRcIiwoKHtpdGVtOmV9KT0+e2UucGFyZW50PWUubGF5ZXI9dGhpc30pLGYpLHUoKCgpPT50aGlzLnN1YmxheWVycyksXCJhZnRlci1yZW1vdmVcIiwoKHtpdGVtOmV9KT0+e2UubGF5ZXI9ZS5wYXJlbnQ9bnVsbH0pLGYpLGMoKCgpPT50aGlzLnN1YmxheWVycyksKChlLHQpPT57aWYodClmb3IoY29uc3QgciBvZiB0KXIubGF5ZXI9ci5wYXJlbnQ9bnVsbDtpZihlKWZvcihjb25zdCByIG9mIGUpci5wYXJlbnQ9ci5sYXllcj10aGlzfSksZildKX1ub3JtYWxpemVDdG9yQXJncyhlLHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3t1cmw6ZSwuLi50fTplfWRlc3Ryb3koKXt0aGlzLmFsbFN1YmxheWVycy5kZXN0cm95KCl9bG9hZChlKXtjb25zdCB0PW51bGwhPWU/ZS5zaWduYWw6bnVsbDtyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMubG9hZEZyb21Qb3J0YWwoe3N1cHBvcnRlZFR5cGVzOltcIldNU1wiXX0sZSkuY2F0Y2gobSkudGhlbigoKCk9PnRoaXMuX2ZldGNoU2VydmljZSh0KSkpKSxQcm9taXNlLnJlc29sdmUodGhpcyl9cmVhZEZ1bGxFeHRlbnRGcm9tSXRlbU9yTWFwKGUsdCl7Y29uc3Qgcj10LmV4dGVudDtyZXR1cm4gcj9uZXcgUyh7eG1pbjpyWzBdWzBdLHltaW46clswXVsxXSx4bWF4OnJbMV1bMF0seW1heDpyWzFdWzFdfSk6bnVsbH13cml0ZUZ1bGxFeHRlbnQoZSx0KXt0LmV4dGVudD1bW2UueG1pbixlLnltaW5dLFtlLnhtYXgsZS55bWF4XV19Z2V0IGZlYXR1cmVJbmZvRm9ybWF0KCl7cmV0dXJuIG51bGw9PXRoaXMuZmVhdHVyZUluZm9Gb3JtYXRzP251bGw6dGhpcy5mZWF0dXJlSW5mb0Zvcm1hdHMuZmluZChWKT8/dGhpcy5mZWF0dXJlSW5mb0Zvcm1hdHMuZmluZCh6KT8/bnVsbH1zZXQgZmVhdHVyZUluZm9Gb3JtYXQoZSl7bnVsbD09ZT8odGhpcy5yZXZlcnQoXCJmZWF0dXJlSW5mb0Zvcm1hdFwiLFwic2VydmljZVwiKSx0aGlzLl9jbGVhck92ZXJyaWRlKFwiZmVhdHVyZUluZm9Gb3JtYXRcIikpOihWKGUpfHx6KGUpKSYmdGhpcy5fb3ZlcnJpZGUoXCJmZWF0dXJlSW5mb0Zvcm1hdFwiLGUpfXJlYWRJbWFnZUZvcm1hdChlLHQpe2NvbnN0IHI9dC5zdXBwb3J0ZWRJbWFnZUZvcm1hdFR5cGVzO3JldHVybiByJiZyLmluY2x1ZGVzKFwiaW1hZ2UvcG5nXCIpP1wiaW1hZ2UvcG5nXCI6ciYmclswXX1yZWFkU3BhdGlhbFJlZmVyZW5jZUZyb21JdGVtT3JEb2N1bWVudChlLHQpe3JldHVybiBuZXcgRih0LnNwYXRpYWxSZWZlcmVuY2VzWzBdKX13cml0ZVNwYXRpYWxSZWZlcmVuY2VzKGUsdCl7Y29uc3Qgcj10aGlzLnNwYXRpYWxSZWZlcmVuY2U/LndraWQ7ZSYmcj8odC5zcGF0aWFsUmVmZXJlbmNlcz1lLmZpbHRlcigoZT0+ZSE9PXIpKSx0LnNwYXRpYWxSZWZlcmVuY2VzLnVuc2hpZnQocikpOnQuc3BhdGlhbFJlZmVyZW5jZXM9ZX1yZWFkU3VibGF5ZXJzRnJvbUl0ZW1Pck1hcChlLHQscil7cmV0dXJuIFgodC5sYXllcnMscix0LnZpc2libGVMYXllcnMpfXJlYWRTdWJsYXllcnMoZSx0LHIpe3JldHVybiBYKHQubGF5ZXJzLHIpfXdyaXRlU3VibGF5ZXJzKGUsdCxyLG8pe3QubGF5ZXJzPVtdO2NvbnN0IHM9bmV3IE1hcCxpPWUuZmxhdHRlbigoKHtzdWJsYXllcnM6ZX0pPT5lPz9bXSkpO2Zvcihjb25zdCBhIG9mIGkpaWYoXCJudW1iZXJcIj09dHlwZW9mIGEucGFyZW50Py5pZCl7Y29uc3QgZT1zLmdldChhLnBhcmVudC5pZCk7bnVsbCE9ZT9lLnB1c2goYS5pZCk6cy5zZXQoYS5wYXJlbnQuaWQsW2EuaWRdKX1mb3IoY29uc3QgYSBvZiBpKXtjb25zdCBlPXtzdWJsYXllcjphLC4uLm99LHI9YS53cml0ZSh7cGFyZW50TGF5ZXJJZDpcIm51bWJlclwiPT10eXBlb2YgYS5wYXJlbnQ/LmlkP2EucGFyZW50LmlkOi0xfSxlKTtpZihzLmhhcyhhLmlkKSYmKHIuc3VibGF5ZXJJZHM9cy5nZXQoYS5pZCkpLCFhLnN1YmxheWVycyYmYS5uYW1lKXtjb25zdCByPWEud3JpdGUoe30sZSk7ZGVsZXRlIHIuaWQsdC5sYXllcnMucHVzaChyKX19dC52aXNpYmxlTGF5ZXJzPWkuZmlsdGVyKCgoe3Zpc2libGU6ZSxzdWJsYXllcnM6dH0pPT5lJiYhdCkpLm1hcCgoKHtuYW1lOmV9KT0+ZSkpLnRvQXJyYXkoKX1zZXQgdXJsKGUpe2lmKCFlKXJldHVybiB2b2lkIHRoaXMuX3NldChcInVybFwiLGUpO2NvbnN0e3BhdGg6dCxxdWVyeTpyfT15KGUpO2Zvcihjb25zdCBzIGluIHIpL14ocmVxdWVzdHxzZXJ2aWNlKSQvaS50ZXN0KHMpJiZkZWxldGUgcltzXTtjb25zdCBvPWQodCxyPz97fSk7dGhpcy5fc2V0KFwidXJsXCIsbyl9Y3JlYXRlRXhwb3J0SW1hZ2VQYXJhbWV0ZXJzKGUsdCxyLG8pe2NvbnN0IHM9bz8ucGl4ZWxSYXRpbz8/MSxpPVAoe2V4dGVudDplLHdpZHRoOnR9KSpzLGE9bmV3IE4oe2xheWVyOnRoaXMsc2NhbGU6aX0pLHt4bWluOm4seW1pbjpsLHhtYXg6cCx5bWF4Om0sc3BhdGlhbFJlZmVyZW5jZTp1fT1lLGM9ayh1LHRoaXMuc3BhdGlhbFJlZmVyZW5jZXMpLGY9XCIxLjMuMFwiPT09dGhpcy52ZXJzaW9uJiYkKGMpP2Ake2x9LCR7bn0sJHttfSwke3B9YDpgJHtufSwke2x9LCR7cH0sJHttfWAseT1hLnRvSlNPTigpO3JldHVybntiYm94OmYsW1wiMS4zLjBcIj09PXRoaXMudmVyc2lvbj9cImNyc1wiOlwic3JzXCJdOm51bGw9PWN8fGlzTmFOKGMpP3ZvaWQgMDpcIkVQU0c6XCIrYywuLi55fX1hc3luYyBmZXRjaEltYWdlKGUsdCxyLG8pe2NvbnN0IGk9dGhpcy5tYXBVcmwsYT10aGlzLmNyZWF0ZUV4cG9ydEltYWdlUGFyYW1ldGVycyhlLHQscixvKTtpZighYS5sYXllcnMpe2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4gZS53aWR0aD10LGUuaGVpZ2h0PXIsZX1jb25zdCBuPW8/LnRpbWVFeHRlbnQ/LnN0YXJ0LGw9bz8udGltZUV4dGVudD8uZW5kLHA9bnVsbCE9biYmbnVsbCE9bD9uLmdldFRpbWUoKT09PWwuZ2V0VGltZSgpP0cobik6YCR7RyhuKX0vJHtHKGwpfWA6dm9pZCAwLG09e3Jlc3BvbnNlVHlwZTpcImltYWdlXCIscXVlcnk6dGhpcy5fbWl4Q3VzdG9tUGFyYW1ldGVycyh7d2lkdGg6dCxoZWlnaHQ6ciwuLi5hLHRpbWU6cCwuLi50aGlzLnJlZnJlc2hQYXJhbWV0ZXJzfSksc2lnbmFsOm8/LnNpZ25hbH07cmV0dXJuIHMoaT8/XCJcIixtKS50aGVuKChlPT5lLmRhdGEpKX1hc3luYyBmZXRjaEltYWdlQml0bWFwKGUsdCxyLG8pe2NvbnN0IGk9dGhpcy5tYXBVcmw/P1wiXCIsYT10aGlzLmNyZWF0ZUV4cG9ydEltYWdlUGFyYW1ldGVycyhlLHQscixvKTtpZighYS5sYXllcnMpe2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4gZS53aWR0aD10LGUuaGVpZ2h0PXIsZX1jb25zdCBuPW8/LnRpbWVFeHRlbnQ/LnN0YXJ0LGw9bz8udGltZUV4dGVudD8uZW5kLHA9bnVsbCE9biYmbnVsbCE9bD9uLmdldFRpbWUoKT09PWwuZ2V0VGltZSgpP0cobik6YCR7RyhuKX0vJHtHKGwpfWA6dm9pZCAwLG09e3Jlc3BvbnNlVHlwZTpcImJsb2JcIixxdWVyeTp0aGlzLl9taXhDdXN0b21QYXJhbWV0ZXJzKHt3aWR0aDp0LGhlaWdodDpyLC4uLmEsdGltZTpwLC4uLnRoaXMucmVmcmVzaFBhcmFtZXRlcnN9KSxzaWduYWw6bz8uc2lnbmFsfSx7ZGF0YTp1fT1hd2FpdCBzKGksbSk7cmV0dXJuIEIodSxpLG8/LnNpZ25hbCl9ZmV0Y2hGZWF0dXJlSW5mbyhlLHQscixvLHMpe2NvbnN0IGk9UCh7ZXh0ZW50OmUsd2lkdGg6dH0pLGE9bmV3IE4oe2xheWVyOnRoaXMsc2NhbGU6aX0pLG49QShhLnZpc2libGVTdWJsYXllcnMpO2lmKG51bGw9PXRoaXMuZmVhdHVyZUluZm9Vcmx8fG51bGw9PW4pcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7aWYobnVsbD09dGhpcy5mZXRjaEZlYXR1cmVJbmZvRnVuY3Rpb24mJm51bGw9PXRoaXMuZmVhdHVyZUluZm9Gb3JtYXQpcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7Y29uc3QgbD1cIjEuMy4wXCI9PT10aGlzLnZlcnNpb24/e0k6byxKOnN9Ont4Om8seTpzfSxwPXtxdWVyeV9sYXllcnM6bixyZXF1ZXN0OlwiR2V0RmVhdHVyZUluZm9cIixpbmZvX2Zvcm1hdDp0aGlzLmZlYXR1cmVJbmZvRm9ybWF0LGZlYXR1cmVfY291bnQ6MjUsd2lkdGg6dCxoZWlnaHQ6ciwuLi5sfSxtPXsuLi50aGlzLmNyZWF0ZUV4cG9ydEltYWdlUGFyYW1ldGVycyhlLHQsciksLi4ucH0sdT10aGlzLl9taXhDdXN0b21QYXJhbWV0ZXJzKG0pO3JldHVybiBudWxsIT10aGlzLmZldGNoRmVhdHVyZUluZm9GdW5jdGlvbj90aGlzLmZldGNoRmVhdHVyZUluZm9GdW5jdGlvbih1KTp0aGlzLl9kZWZhdWx0RmV0Y2hGZWF0dXJlSW5mb0Z1bmN0aW9uKGQodGhpcy5mZWF0dXJlSW5mb1VybCx1KSl9ZmluZFN1YmxheWVyQnlJZChlKXtyZXR1cm4gdGhpcy5hbGxTdWJsYXllcnMuZmluZCgodD0+dC5pZD09PWUpKX1maW5kU3VibGF5ZXJCeU5hbWUoZSl7cmV0dXJuIHRoaXMuYWxsU3VibGF5ZXJzLmZpbmQoKHQ9PnQubmFtZT09PWUpKX1zZXJ2aWNlU3VwcG9ydHNTcGF0aWFsUmVmZXJlbmNlKGUpe3JldHVybiBDKHRoaXMudXJsKXx8bnVsbCE9dGhpcy5zcGF0aWFsUmVmZXJlbmNlcyYmdGhpcy5zcGF0aWFsUmVmZXJlbmNlcy5zb21lKCh0PT57Y29uc3Qgcj05MDA5MTM9PT10P0YuV2ViTWVyY2F0b3I6bmV3IEYoe3draWQ6dH0pO3JldHVybiBSKHIsZSl9KSl9X2RlZmF1bHRGZXRjaEZlYXR1cmVJbmZvRnVuY3Rpb24oZSl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3Quc3JjPWgoZSksdC5zdHlsZS5ib3JkZXI9XCJub25lXCIsdC5zdHlsZS5tYXJnaW49XCIwXCIsdC5zdHlsZS53aWR0aD1cIjEwMCVcIix0LnNldEF0dHJpYnV0ZShcInNhbmRib3hcIixcIlwiKTtjb25zdCBzPW5ldyBvKHt0aXRsZTp0aGlzLnRpdGxlLGNvbnRlbnQ6dH0pLGk9bmV3IHIoe3NvdXJjZUxheWVyOnRoaXMscG9wdXBUZW1wbGF0ZTpzfSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShbaV0pfWFzeW5jIF9mZXRjaFNlcnZpY2UoZSl7aWYoIXRoaXMucmVzb3VyY2VJbmZvJiZ0aGlzLnBhcnNlZFVybD8ucGF0aCl7Y29uc3R7cGF0aDp0LHF1ZXJ5OnJ9PXRoaXMucGFyc2VkVXJsLHtkYXRhOm99PWF3YWl0IHModCx7cXVlcnk6e1NFUlZJQ0U6XCJXTVNcIixSRVFVRVNUOlwiR2V0Q2FwYWJpbGl0aWVzXCIsLi4uciwuLi50aGlzLmN1c3RvbVBhcmFtZXRlcnN9LHJlc3BvbnNlVHlwZTpcInhtbFwiLHNpZ25hbDplfSk7dGhpcy5yZXNvdXJjZUluZm89RChvKX1pZih0aGlzLnBhcnNlZFVybCl7Y29uc3QgZT1uZXcgZyh0aGlzLnBhcnNlZFVybC5wYXRoKSx7aHR0cHNEb21haW5zOnJ9PXQucmVxdWVzdDtcImh0dHBzXCIhPT1lLnNjaGVtZXx8ZS5wb3J0JiZcIjQ0M1wiIT09ZS5wb3J0fHwhZS5ob3N0fHxyLmluY2x1ZGVzKGUuaG9zdCl8fHIucHVzaChlLmhvc3QpfXRoaXMucmVhZCh0aGlzLnJlc291cmNlSW5mbyx7b3JpZ2luOlwic2VydmljZVwifSl9X21peEN1c3RvbVBhcmFtZXRlcnMoZSl7aWYoIXRoaXMuY3VzdG9tTGF5ZXJQYXJhbWV0ZXJzJiYhdGhpcy5jdXN0b21QYXJhbWV0ZXJzKXJldHVybiBlO2NvbnN0IHQ9ey4uLnRoaXMuY3VzdG9tUGFyYW1ldGVycywuLi50aGlzLmN1c3RvbUxheWVyUGFyYW1ldGVyc307Zm9yKGNvbnN0IHIgaW4gdCllW3IudG9Mb3dlckNhc2UoKV09dFtyXTtyZXR1cm4gZX19O2Z1bmN0aW9uIEsoZSx0KXtyZXR1cm4gZS5zb21lKChlPT57Zm9yKGNvbnN0IHIgaW4gZSlpZihJKGUscixudWxsLHQpKXJldHVybiEwO3JldHVybiExfSkpfWZ1bmN0aW9uIFgoZSx0LHIpe2U9ZT8/W107Y29uc3Qgbz1uZXcgTWFwO2UuZXZlcnkoKGU9Pm51bGw9PWUuaWQpKSYmKGU9bChlKSkuZm9yRWFjaCgoKGUsdCk9PmUuaWQ9dCkpO2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9bmV3IEg7ZS5yZWFkKGksdCksciYmIXIuaW5jbHVkZXMoZS5uYW1lKSYmKGUudmlzaWJsZT0hMSksby5zZXQoZS5pZCxlKX1jb25zdCBzPVtdO2Zvcihjb25zdCBhIG9mIGUpe2NvbnN0IGU9bnVsbCE9YS5pZD9vLmdldChhLmlkKTpudWxsO2lmKGUpaWYobnVsbCE9YS5wYXJlbnRMYXllcklkJiZhLnBhcmVudExheWVySWQ+PTApe2NvbnN0IHQ9by5nZXQoYS5wYXJlbnRMYXllcklkKTtpZighdCljb250aW51ZTt0LnN1YmxheWVyc3x8KHQuc3VibGF5ZXJzPW5ldyBpKSx0LnN1YmxheWVycy5wdXNoKGUpfWVsc2Ugcy5wdXNoKGUpfXJldHVybiBzfWUoW2Ioe3JlYWRPbmx5OiEwfSldLFEucHJvdG90eXBlLFwiYWxsU3VibGF5ZXJzXCIsdm9pZCAwKSxlKFtiKHtqc29uOnt0eXBlOk9iamVjdCx3cml0ZTohMH19KV0sUS5wcm90b3R5cGUsXCJjdXN0b21QYXJhbWV0ZXJzXCIsdm9pZCAwKSxlKFtiKHtqc29uOnt0eXBlOk9iamVjdCx3cml0ZTohMH19KV0sUS5wcm90b3R5cGUsXCJjdXN0b21MYXllclBhcmFtZXRlcnNcIix2b2lkIDApLGUoW2Ioe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxRLnByb3RvdHlwZSxcImNvcHlyaWdodFwiLHZvaWQgMCksZShbYigpXSxRLnByb3RvdHlwZSxcImRlc2NyaXB0aW9uXCIsdm9pZCAwKSxlKFtiKHtyZWFkT25seTohMH0pXSxRLnByb3RvdHlwZSxcImRpbWVuc2lvbnNcIix2b2lkIDApLGUoW2Ioe2pzb246e3R5cGU6W1tOdW1iZXJdXSxyZWFkOntzb3VyY2U6XCJleHRlbnRcIn0sd3JpdGU6e3RhcmdldDpcImV4dGVudFwifSxvcmlnaW5zOntcIndlYi1kb2N1bWVudFwiOnt3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX0sXCJwb3J0YWwtaXRlbVwiOnt3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19fX0pXSxRLnByb3RvdHlwZSxcImZ1bGxFeHRlbnRcIix2b2lkIDApLGUoW3YoW1wid2ViLWRvY3VtZW50XCIsXCJwb3J0YWwtaXRlbVwiXSxcImZ1bGxFeHRlbnRcIixbXCJleHRlbnRcIl0pXSxRLnByb3RvdHlwZSxcInJlYWRGdWxsRXh0ZW50RnJvbUl0ZW1Pck1hcFwiLG51bGwpLGUoW2ooW1wid2ViLWRvY3VtZW50XCIsXCJwb3J0YWwtaXRlbVwiXSxcImZ1bGxFeHRlbnRcIix7ZXh0ZW50Ont0eXBlOltbTnVtYmVyXV19fSldLFEucHJvdG90eXBlLFwid3JpdGVGdWxsRXh0ZW50XCIsbnVsbCksZShbYigpXSxRLnByb3RvdHlwZSxcImZ1bGxFeHRlbnRzXCIsdm9pZCAwKSxlKFtiKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sUS5wcm90b3R5cGUsXCJmZWF0dXJlSW5mb0Zvcm1hdFwiLG51bGwpLGUoW2Ioe3R5cGU6W1N0cmluZ10scmVhZE9ubHk6ITB9KV0sUS5wcm90b3R5cGUsXCJmZWF0dXJlSW5mb0Zvcm1hdHNcIix2b2lkIDApLGUoW2Ioe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOntpZ25vcmVPcmlnaW46ITB9fX0pXSxRLnByb3RvdHlwZSxcImZlYXR1cmVJbmZvVXJsXCIsdm9pZCAwKSxlKFtiKCldLFEucHJvdG90eXBlLFwiZmV0Y2hGZWF0dXJlSW5mb0Z1bmN0aW9uXCIsdm9pZCAwKSxlKFtiKHt0eXBlOlN0cmluZyxqc29uOntvcmlnaW5zOntcIndlYi1kb2N1bWVudFwiOntkZWZhdWx0OlwiaW1hZ2UvcG5nXCIsdHlwZTpKLmpzb25WYWx1ZXMscmVhZDp7cmVhZGVyOkoucmVhZCxzb3VyY2U6XCJmb3JtYXRcIn0sd3JpdGU6e3dyaXRlcjpKLndyaXRlLHRhcmdldDpcImZvcm1hdFwifX19fX0pXSxRLnByb3RvdHlwZSxcImltYWdlRm9ybWF0XCIsdm9pZCAwKSxlKFt2KFwiaW1hZ2VGb3JtYXRcIixbXCJzdXBwb3J0ZWRJbWFnZUZvcm1hdFR5cGVzXCJdKV0sUS5wcm90b3R5cGUsXCJyZWFkSW1hZ2VGb3JtYXRcIixudWxsKSxlKFtiKHt0eXBlOk51bWJlcixqc29uOntyZWFkOntzb3VyY2U6XCJtYXhIZWlnaHRcIn0sd3JpdGU6e3RhcmdldDpcIm1heEhlaWdodFwifX19KV0sUS5wcm90b3R5cGUsXCJpbWFnZU1heEhlaWdodFwiLHZvaWQgMCksZShbYih7dHlwZTpOdW1iZXIsanNvbjp7cmVhZDp7c291cmNlOlwibWF4V2lkdGhcIn0sd3JpdGU6e3RhcmdldDpcIm1heFdpZHRoXCJ9fX0pXSxRLnByb3RvdHlwZSxcImltYWdlTWF4V2lkdGhcIix2b2lkIDApLGUoW2IoKV0sUS5wcm90b3R5cGUsXCJpbWFnZVRyYW5zcGFyZW5jeVwiLHZvaWQgMCksZShbYihXKV0sUS5wcm90b3R5cGUsXCJsZWdlbmRFbmFibGVkXCIsdm9pZCAwKSxlKFtiKHt0eXBlOltcInNob3dcIixcImhpZGVcIixcImhpZGUtY2hpbGRyZW5cIl19KV0sUS5wcm90b3R5cGUsXCJsaXN0TW9kZVwiLHZvaWQgMCksZShbYih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fSldLFEucHJvdG90eXBlLFwibWFwVXJsXCIsdm9pZCAwKSxlKFtiKHt0eXBlOkJvb2xlYW4sanNvbjp7cmVhZDohMSx3cml0ZTp7ZW5hYmxlZDohMCxvdmVycmlkZVBvbGljeTooKT0+KHtlbmFibGVkOiExfSl9fX0pXSxRLnByb3RvdHlwZSxcImlzUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFtiKHt0eXBlOltcIldNU1wiXX0pXSxRLnByb3RvdHlwZSxcIm9wZXJhdGlvbmFsTGF5ZXJUeXBlXCIsdm9pZCAwKSxlKFtiKCldLFEucHJvdG90eXBlLFwicmVzb3VyY2VJbmZvXCIsdm9pZCAwKSxlKFtiKHt0eXBlOkYsanNvbjp7b3JpZ2luczp7c2VydmljZTp7cmVhZDp7c291cmNlOlwiZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2VcIn19fSx3cml0ZTohMX19KV0sUS5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFt2KFtcIndlYi1kb2N1bWVudFwiLFwicG9ydGFsLWl0ZW1cIl0sXCJzcGF0aWFsUmVmZXJlbmNlXCIsW1wic3BhdGlhbFJlZmVyZW5jZXNcIl0pXSxRLnByb3RvdHlwZSxcInJlYWRTcGF0aWFsUmVmZXJlbmNlRnJvbUl0ZW1PckRvY3VtZW50XCIsbnVsbCksZShbYih7dHlwZTpbd10sanNvbjp7cmVhZDohMSxvcmlnaW5zOntzZXJ2aWNlOntyZWFkOiEwfSxcIndlYi1kb2N1bWVudFwiOntyZWFkOiExLHdyaXRlOntpZ25vcmVPcmlnaW46ITB9fSxcInBvcnRhbC1pdGVtXCI6e3JlYWQ6ITEsd3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fX19KV0sUS5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlc1wiLHZvaWQgMCksZShbaihbXCJ3ZWItZG9jdW1lbnRcIixcInBvcnRhbC1pdGVtXCJdLFwic3BhdGlhbFJlZmVyZW5jZXNcIildLFEucHJvdG90eXBlLFwid3JpdGVTcGF0aWFsUmVmZXJlbmNlc1wiLG51bGwpLGUoW2Ioe3R5cGU6aS5vZlR5cGUoSCksanNvbjp7d3JpdGU6e3RhcmdldDpcImxheWVyc1wiLG92ZXJyaWRlUG9saWN5KGUsdCxyKXtpZihLKHRoaXMuYWxsU3VibGF5ZXJzLHIpKXJldHVybntpZ25vcmVPcmlnaW46ITB9fX19fSldLFEucHJvdG90eXBlLFwic3VibGF5ZXJzXCIsdm9pZCAwKSxlKFt2KFtcIndlYi1kb2N1bWVudFwiLFwicG9ydGFsLWl0ZW1cIl0sXCJzdWJsYXllcnNcIixbXCJsYXllcnNcIixcInZpc2libGVMYXllcnNcIl0pXSxRLnByb3RvdHlwZSxcInJlYWRTdWJsYXllcnNGcm9tSXRlbU9yTWFwXCIsbnVsbCksZShbdihcInNlcnZpY2VcIixcInN1YmxheWVyc1wiLFtcImxheWVyc1wiXSldLFEucHJvdG90eXBlLFwicmVhZFN1YmxheWVyc1wiLG51bGwpLGUoW2ooXCJzdWJsYXllcnNcIix7bGF5ZXJzOnt0eXBlOltIXX0sdmlzaWJsZUxheWVyczp7dHlwZTpbU3RyaW5nXX19KV0sUS5wcm90b3R5cGUsXCJ3cml0ZVN1YmxheWVyc1wiLG51bGwpLGUoW2Ioe2pzb246e3JlYWQ6ITF9LHJlYWRPbmx5OiEwLHZhbHVlOlwid21zXCJ9KV0sUS5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxlKFtiKHEpXSxRLnByb3RvdHlwZSxcInVybFwiLG51bGwpLGUoW2Ioe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOntpZ25vcmVPcmlnaW46ITB9fX0pXSxRLnByb3RvdHlwZSxcInZlcnNpb25cIix2b2lkIDApLFE9ZShbeChcImVzcmkubGF5ZXJzLldNU0xheWVyXCIpXSxRKTtjb25zdCBZPVE7ZXhwb3J0e1kgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3Qgbj1bWzM4MTksMzgxOV0sWzM4MjEsMzgyNF0sWzM4ODksMzg4OV0sWzM5MDYsMzkwNl0sWzQwMDEsNDAyNV0sWzQwMjcsNDAzNl0sWzQwMzksNDA0N10sWzQwNTIsNDA1NV0sWzQwNzQsNDA3NV0sWzQwODAsNDA4MV0sWzQxMjAsNDE3Nl0sWzQxNzgsNDE4NV0sWzQxODgsNDIxNl0sWzQyMTgsNDI4OV0sWzQyOTEsNDMwNF0sWzQzMDYsNDMxOV0sWzQzMjIsNDMyNl0sWzQ0NjMsNDQ2M10sWzQ0NzAsNDQ3MF0sWzQ0NzUsNDQ3NV0sWzQ0ODMsNDQ4M10sWzQ0OTAsNDQ5MF0sWzQ1NTUsNDU1OF0sWzQ2MDAsNDY0Nl0sWzQ2NTcsNDc2NV0sWzQ4MDEsNDgxMV0sWzQ4MTMsNDgyMV0sWzQ4MjMsNDgyNF0sWzQ5MDEsNDkwNF0sWzUwMTMsNTAxM10sWzUxMzIsNTEzMl0sWzUyMjgsNTIyOV0sWzUyMzMsNTIzM10sWzUyNDYsNTI0Nl0sWzUyNTIsNTI1Ml0sWzUyNjQsNTI2NF0sWzUzMjQsNTM0MF0sWzUzNTQsNTM1NF0sWzUzNjAsNTM2MF0sWzUzNjUsNTM2NV0sWzUzNzAsNTM3M10sWzUzODEsNTM4MV0sWzUzOTMsNTM5M10sWzU0NTEsNTQ1MV0sWzU0NjQsNTQ2NF0sWzU0NjcsNTQ2N10sWzU0ODksNTQ4OV0sWzU1MjQsNTUyNF0sWzU1MjcsNTUyN10sWzU1NDYsNTU0Nl0sWzIwNDQsMjA0NV0sWzIwODEsMjA4M10sWzIwODUsMjA4Nl0sWzIwOTMsMjA5M10sWzIwOTYsMjA5OF0sWzIxMDUsMjEzMl0sWzIxNjksMjE3MF0sWzIxNzYsMjE4MF0sWzIxOTMsMjE5M10sWzIyMDAsMjIwMF0sWzIyMDYsMjIxMl0sWzIzMTksMjMxOV0sWzIzMjAsMjQ2Ml0sWzI1MjMsMjU0OV0sWzI1NTEsMjczNV0sWzI3MzgsMjc1OF0sWzI5MzUsMjk0MV0sWzI5NTMsMjk1M10sWzMwMDYsMzAzMF0sWzMwMzQsMzAzNV0sWzMwMzgsMzA1MV0sWzMwNTgsMzA1OV0sWzMwNjgsMzA2OF0sWzMxMTQsMzExOF0sWzMxMjYsMzEzOF0sWzMxNTAsMzE1MV0sWzMzMDAsMzMwMV0sWzMzMjgsMzMzNV0sWzMzNDYsMzM0Nl0sWzMzNTAsMzM1Ml0sWzMzNjYsMzM2Nl0sWzMzODksMzM5MF0sWzM0MTYsMzQxN10sWzM4MzMsMzg0MV0sWzM4NDQsMzg1MF0sWzM4NTQsMzg1NF0sWzM4NzMsMzg4NV0sWzM5MDcsMzkxMF0sWzQwMjYsNDAyNl0sWzQwMzcsNDAzOF0sWzQ0MTcsNDQxN10sWzQ0MzQsNDQzNF0sWzQ0OTEsNDU1NF0sWzQ4MzksNDgzOV0sWzUwNDgsNTA0OF0sWzUxMDUsNTEzMF0sWzUyNTMsNTI1OV0sWzUyNjksNTI3NV0sWzUzNDMsNTM0OV0sWzU0NzksNTQ4Ml0sWzU1MTgsNTUxOV0sWzU1MjAsNTUyMF0sWzIwMDA0LDIwMDMyXSxbMjAwNjQsMjAwOTJdLFsyMTQxMywyMTQyM10sWzIxNDczLDIxNDgzXSxbMjE4OTYsMjE4OTldLFsyMjE3MSwyMjE3N10sWzIyMTgxLDIyMTg3XSxbMjIxOTEsMjIxOTddLFsyNTg4NCwyNTg4NF0sWzI3MjA1LDI3MjMyXSxbMjczOTEsMjczOThdLFsyNzQ5MiwyNzQ5Ml0sWzI4NDAyLDI4NDMyXSxbMjg0NjIsMjg0OTJdLFszMDE2MSwzMDE3OV0sWzMwODAwLDMwODAwXSxbMzEyNTEsMzEyNTldLFszMTI3NSwzMTI3OV0sWzMxMjgxLDMxMjkwXSxbMzE0NjYsMzE3MDBdXTtmdW5jdGlvbiBvKG8pe3JldHVybiBudWxsIT1vJiZuLnNvbWUoKChbbix0XSk9Pm8+PW4mJm88PXQpKX1leHBvcnR7byBhcyBpc0F4ZXNPcmRlclJldmVyc2VkRm9yV2tpZH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7Y29uc3QgYT17dmlzaWJsZTpcInZpc2libGVTdWJsYXllcnNcIn07bGV0IG89Y2xhc3MgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuc2NhbGU9MH1zZXQgbGF5ZXIoZSl7dGhpcy5fZ2V0KFwibGF5ZXJcIikhPT1lJiYodGhpcy5fc2V0KFwibGF5ZXJcIixlKSx0aGlzLnJlbW92ZUhhbmRsZXMoXCJsYXllclwiKSxlJiZ0aGlzLmFkZEhhbmRsZXMoW2Uuc3VibGF5ZXJzLm9uKFwiY2hhbmdlXCIsKCgpPT50aGlzLm5vdGlmeUNoYW5nZShcInZpc2libGVTdWJsYXllcnNcIikpKSxlLm9uKFwid21zLXN1YmxheWVyLXVwZGF0ZVwiLChlPT50aGlzLm5vdGlmeUNoYW5nZShhW2UucHJvcGVydHlOYW1lXSkpKV0sXCJsYXllclwiKSl9Z2V0IGxheWVycygpe3JldHVybiB0aGlzLnZpc2libGVTdWJsYXllcnMuZmlsdGVyKCgoe25hbWU6ZX0pPT5lKSkubWFwKCgoe25hbWU6ZX0pPT5lKSkuam9pbigpfWdldCB2ZXJzaW9uKCl7dGhpcy5jb21taXRQcm9wZXJ0eShcImxheWVyc1wiKTtjb25zdCBlPXRoaXMubGF5ZXI7cmV0dXJuIGUmJmUuY29tbWl0UHJvcGVydHkoXCJpbWFnZVRyYW5zcGFyZW5jeVwiKSwodGhpcy5fZ2V0KFwidmVyc2lvblwiKXx8MCkrMX1nZXQgdmlzaWJsZVN1YmxheWVycygpe2NvbnN0e2xheWVyOmUsc2NhbGU6cn09dGhpcyxzPWU/LnN1YmxheWVycyx0PVtdLGE9ZT0+e2NvbnN0e21pblNjYWxlOnMsbWF4U2NhbGU6byxzdWJsYXllcnM6bCx2aXNpYmxlOml9PWU7aSYmKDA9PT1yfHwoMD09PXN8fHI8PXMpJiYoMD09PW98fHI+PW8pKSYmKGw/bC5mb3JFYWNoKGEpOnQucHVzaChlKSl9O3JldHVybiBzPy5mb3JFYWNoKGEpLHR9dG9KU09OKCl7Y29uc3R7bGF5ZXI6ZSxsYXllcnM6cn09dGhpcyx7aW1hZ2VGb3JtYXQ6cyxpbWFnZVRyYW5zcGFyZW5jeTp0LHZlcnNpb246YX09ZTtyZXR1cm57Zm9ybWF0OnMscmVxdWVzdDpcIkdldE1hcFwiLHNlcnZpY2U6XCJXTVNcIixzdHlsZXM6XCJcIix0cmFuc3BhcmVudDp0P1wiVFJVRVwiOlwiRkFMU0VcIix2ZXJzaW9uOmEsbGF5ZXJzOnJ9fX07ZShbcygpXSxvLnByb3RvdHlwZSxcImxheWVyXCIsbnVsbCksZShbcyh7cmVhZE9ubHk6ITB9KV0sby5wcm90b3R5cGUsXCJsYXllcnNcIixudWxsKSxlKFtzKHt0eXBlOk51bWJlcn0pXSxvLnByb3RvdHlwZSxcInNjYWxlXCIsdm9pZCAwKSxlKFtzKHtyZWFkT25seTohMH0pXSxvLnByb3RvdHlwZSxcInZlcnNpb25cIixudWxsKSxlKFtzKHtyZWFkT25seTohMH0pXSxvLnByb3RvdHlwZSxcInZpc2libGVTdWJsYXllcnNcIixudWxsKSxvPWUoW3QoXCJlc3JpLmxheWVycy5zdXBwb3J0LkV4cG9ydFdNU0ltYWdlUGFyYW1ldGVyc1wiKV0sbyk7ZXhwb3J0e28gYXMgRXhwb3J0V01TSW1hZ2VQYXJhbWV0ZXJzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnR7SWRlbnRpZmlhYmxlTWl4aW4gYXMgcn1mcm9tXCIuLi8uLi9jb3JlL0lkZW50aWZpYWJsZS5qc1wiO2ltcG9ydHtNdWx0aU9yaWdpbkpTT05TdXBwb3J0IGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9NdWx0aU9yaWdpbkpTT05TdXBwb3J0LmpzXCI7aW1wb3J0e29uIGFzIG8sd2F0Y2ggYXMgaSxzeW5jIGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG59ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtjYXN0IGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9jYXN0LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3JlYWRlciBhcyBwfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHl9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtlbnN1cmVUeXBlIGFzIGR9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO3ZhciBoO2xldCBjPTAsbT1oPWNsYXNzIGV4dGVuZHMocihzKSl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5kZXNjcmlwdGlvbj1udWxsLHRoaXMuZGltZW5zaW9ucz1udWxsLHRoaXMuZnVsbEV4dGVudD1udWxsLHRoaXMuZnVsbEV4dGVudHM9bnVsbCx0aGlzLmxlZ2VuZFVybD1udWxsLHRoaXMubGVnZW5kRW5hYmxlZD0hMCx0aGlzLmxheWVyPW51bGwsdGhpcy5tYXhTY2FsZT0wLHRoaXMubWluU2NhbGU9MCx0aGlzLm5hbWU9bnVsbCx0aGlzLnBhcmVudD1udWxsLHRoaXMucG9wdXBFbmFibGVkPSExLHRoaXMucXVlcnlhYmxlPSExLHRoaXMuc3VibGF5ZXJzPW51bGwsdGhpcy5zcGF0aWFsUmVmZXJlbmNlcz1udWxsLHRoaXMudGl0bGU9bnVsbCx0aGlzLmFkZEhhbmRsZXMoW28oKCgpPT50aGlzLnN1YmxheWVycyksXCJhZnRlci1hZGRcIiwoKHtpdGVtOmV9KT0+e2UucGFyZW50PXRoaXMsZS5sYXllcj10aGlzLmxheWVyfSksbCksbygoKCk9PnRoaXMuc3VibGF5ZXJzKSxcImFmdGVyLXJlbW92ZVwiLCgoe2l0ZW06ZX0pPT57ZS5sYXllcj1lLnBhcmVudD1udWxsfSksbCksaSgoKCk9PnRoaXMuc3VibGF5ZXJzKSwoKGUsdCk9PntpZih0KWZvcihjb25zdCByIG9mIHQpci5sYXllcj1yLnBhcmVudD1udWxsO2lmKGUpZm9yKGNvbnN0IHIgb2YgZSlyLnBhcmVudD10aGlzLHIubGF5ZXI9dGhpcy5sYXllcn0pLGwpLGkoKCgpPT50aGlzLmxheWVyKSwoZT0+e2lmKHRoaXMuc3VibGF5ZXJzKWZvcihjb25zdCB0IG9mIHRoaXMuc3VibGF5ZXJzKXQubGF5ZXI9ZX0pLGwpXSl9Z2V0IGlkKCl7Y29uc3QgZT10aGlzLl9nZXQoXCJpZFwiKTtyZXR1cm4gZT8/YysrfXNldCBpZChlKXt0aGlzLl9zZXQoXCJpZFwiLGUpfXJlYWRMZWdlbmRVcmwoZSx0KXtyZXR1cm4gdC5sZWdlbmRVcmw/P3QubGVnZW5kVVJMPz9udWxsfWdldCBlZmZlY3RpdmVTY2FsZVJhbmdlKCl7Y29uc3R7bWluU2NhbGU6ZSxtYXhTY2FsZTp0fT10aGlzO3JldHVybnttaW5TY2FsZTplLG1heFNjYWxlOnR9fWNhc3RTdWJsYXllcnMoZSl7cmV0dXJuIGQodC5vZlR5cGUoaCksZSl9c2V0IHZpc2libGUoZSl7dGhpcy5fc2V0QW5kTm90aWZ5TGF5ZXIoXCJ2aXNpYmxlXCIsZSl9Y2xvbmUoKXtjb25zdCBlPW5ldyBoO3JldHVybiB0aGlzLmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIikmJihlLmRlc2NyaXB0aW9uPXRoaXMuZGVzY3JpcHRpb24pLHRoaXMuaGFzT3duUHJvcGVydHkoXCJmdWxsRXh0ZW50XCIpJiYoZS5mdWxsRXh0ZW50PXRoaXMuZnVsbEV4dGVudC5jbG9uZSgpKSx0aGlzLmhhc093blByb3BlcnR5KFwiZnVsbEV4dGVudHNcIikmJihlLmZ1bGxFeHRlbnRzPXRoaXMuZnVsbEV4dGVudHM/Lm1hcCgoZT0+ZS5jbG9uZSgpKSk/P251bGwpLHRoaXMuaGFzT3duUHJvcGVydHkoXCJsZWdlbmRVcmxcIikmJihlLmxlZ2VuZFVybD10aGlzLmxlZ2VuZFVybCksdGhpcy5oYXNPd25Qcm9wZXJ0eShcImxlZ2VuZEVuYWJsZWRcIikmJihlLmxlZ2VuZEVuYWJsZWQ9dGhpcy5sZWdlbmRFbmFibGVkKSx0aGlzLmhhc093blByb3BlcnR5KFwibGF5ZXJcIikmJihlLmxheWVyPXRoaXMubGF5ZXIpLHRoaXMuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYoZS5uYW1lPXRoaXMubmFtZSksdGhpcy5oYXNPd25Qcm9wZXJ0eShcInBhcmVudFwiKSYmKGUucGFyZW50PXRoaXMucGFyZW50KSx0aGlzLmhhc093blByb3BlcnR5KFwicXVlcnlhYmxlXCIpJiYoZS5xdWVyeWFibGU9dGhpcy5xdWVyeWFibGUpLHRoaXMuaGFzT3duUHJvcGVydHkoXCJzdWJsYXllcnNcIikmJihlLnN1YmxheWVycz10aGlzLnN1YmxheWVycz8ubWFwKChlPT5lLmNsb25lKCkpKSksdGhpcy5oYXNPd25Qcm9wZXJ0eShcInNwYXRpYWxSZWZlcmVuY2VzXCIpJiYoZS5zcGF0aWFsUmVmZXJlbmNlcz10aGlzLnNwYXRpYWxSZWZlcmVuY2VzPy5tYXAoKGU9PmUpKSksdGhpcy5oYXNPd25Qcm9wZXJ0eShcInZpc2libGVcIikmJihlLnZpc2libGU9dGhpcy52aXNpYmxlKSx0aGlzLmhhc093blByb3BlcnR5KFwidGl0bGVcIikmJihlLnRpdGxlPXRoaXMudGl0bGUpLGV9X3NldEFuZE5vdGlmeUxheWVyKGUsdCl7Y29uc3Qgcj10aGlzLmxheWVyO3RoaXMuX2dldChlKSE9PXQmJih0aGlzLl9zZXQoZSx0KSxyJiZyLmVtaXQoXCJ3bXMtc3VibGF5ZXItdXBkYXRlXCIse3Byb3BlcnR5TmFtZTplLGlkOnRoaXMuaWR9KSl9fTtlKFtuKCldLG0ucHJvdG90eXBlLFwiZGVzY3JpcHRpb25cIix2b2lkIDApLGUoW24oe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwiZGltZW5zaW9uc1wiLHZvaWQgMCksZShbbih7dHlwZTp1LGpzb246e25hbWU6XCJleHRlbnRcIn19KV0sbS5wcm90b3R5cGUsXCJmdWxsRXh0ZW50XCIsdm9pZCAwKSxlKFtuKCldLG0ucHJvdG90eXBlLFwiZnVsbEV4dGVudHNcIix2b2lkIDApLGUoW24oe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOntlbmFibGVkOiExLG92ZXJyaWRlUG9saWN5OigpPT4oe2lnbm9yZU9yaWdpbjohMCxlbmFibGVkOiEwfSl9fX0pXSxtLnByb3RvdHlwZSxcImlkXCIsbnVsbCksZShbbih7dHlwZTpTdHJpbmcsanNvbjp7bmFtZTpcImxlZ2VuZFVybFwiLHdyaXRlOntpZ25vcmVPcmlnaW46ITB9fX0pXSxtLnByb3RvdHlwZSxcImxlZ2VuZFVybFwiLHZvaWQgMCksZShbcChcImxlZ2VuZFVybFwiLFtcImxlZ2VuZFVybFwiLFwibGVnZW5kVVJMXCJdKV0sbS5wcm90b3R5cGUsXCJyZWFkTGVnZW5kVXJsXCIsbnVsbCksZShbbih7dHlwZTpCb29sZWFuLGpzb246e25hbWU6XCJzaG93TGVnZW5kXCIsb3JpZ2luczp7XCJ3ZWItbWFwXCI6e3JlYWQ6ITEsd3JpdGU6ITF9LFwid2ViLXNjZW5lXCI6e3JlYWQ6ITEsd3JpdGU6ITF9fX19KV0sbS5wcm90b3R5cGUsXCJsZWdlbmRFbmFibGVkXCIsdm9pZCAwKSxlKFtuKCldLG0ucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW24oKV0sbS5wcm90b3R5cGUsXCJtYXhTY2FsZVwiLHZvaWQgMCksZShbbigpXSxtLnByb3RvdHlwZSxcIm1pblNjYWxlXCIsdm9pZCAwKSxlKFtuKHtyZWFkT25seTohMH0pXSxtLnByb3RvdHlwZSxcImVmZmVjdGl2ZVNjYWxlUmFuZ2VcIixudWxsKSxlKFtuKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sbS5wcm90b3R5cGUsXCJuYW1lXCIsdm9pZCAwKSxlKFtuKCldLG0ucHJvdG90eXBlLFwicGFyZW50XCIsdm9pZCAwKSxlKFtuKHt0eXBlOkJvb2xlYW4sanNvbjp7cmVhZDp7c291cmNlOlwic2hvd1BvcHVwXCJ9LHdyaXRlOntpZ25vcmVPcmlnaW46ITAsdGFyZ2V0Olwic2hvd1BvcHVwXCJ9fX0pXSxtLnByb3RvdHlwZSxcInBvcHVwRW5hYmxlZFwiLHZvaWQgMCksZShbbih7dHlwZTpCb29sZWFuLGpzb246e3dyaXRlOntpZ25vcmVPcmlnaW46ITB9fX0pXSxtLnByb3RvdHlwZSxcInF1ZXJ5YWJsZVwiLHZvaWQgMCksZShbbigpXSxtLnByb3RvdHlwZSxcInN1YmxheWVyc1wiLHZvaWQgMCksZShbYShcInN1YmxheWVyc1wiKV0sbS5wcm90b3R5cGUsXCJjYXN0U3VibGF5ZXJzXCIsbnVsbCksZShbbih7dHlwZTpbTnVtYmVyXSxqc29uOntyZWFkOntzb3VyY2U6XCJzcGF0aWFsUmVmZXJlbmNlc1wifX19KV0sbS5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlc1wiLHZvaWQgMCksZShbbih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6e2lnbm9yZU9yaWdpbjohMH19fSldLG0ucHJvdG90eXBlLFwidGl0bGVcIix2b2lkIDApLGUoW24oe3R5cGU6Qm9vbGVhbix2YWx1ZTohMCxqc29uOntyZWFkOntzb3VyY2U6XCJkZWZhdWx0VmlzaWJpbGl0eVwifX19KV0sbS5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsbnVsbCksbT1oPWUoW3koXCJlc3JpLmxheWVycy5zdXBwb3J0LldNU1N1YmxheWVyXCIpXSxtKTtjb25zdCBmPW07ZXhwb3J0e2YgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzU29tZSBhcyBlfWZyb21cIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7dXJsVG9PYmplY3QgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL3VybFV0aWxzLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydHtpc0F4ZXNPcmRlclJldmVyc2VkRm9yV2tpZCBhcyBzfWZyb21cIi4uL29nYy9jcnNVdGlscy5qc1wiO2NvbnN0IG89ezg0OjQzMjYsODM6NDI2OSwyNzo0MjY3fTtmdW5jdGlvbiBsKG4pe2lmKCFuKXJldHVybiBudWxsO2NvbnN0IGk9e2lkQ291bnRlcjotMX07aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4pe249KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhuLFwidGV4dC94bWxcIil9Y29uc3Qgcz1uLmRvY3VtZW50RWxlbWVudDtpZihcIlNlcnZpY2VFeGNlcHRpb25SZXBvcnRcIj09PXMubm9kZU5hbWUpe2NvbnN0IGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwocy5jaGlsZE5vZGVzKS5tYXAoKGU9PmUudGV4dENvbnRlbnQpKS5qb2luKFwiXFxyXFxuXCIpO3Rocm93IG5ldyB0KFwid21zbGF5ZXI6d21zLWNhcGFiaWxpdGllcy14bWwtaXMtbm90LXZhbGlkXCIsXCJUaGUgc2VydmVyIHJldHVybmVkIGVycm9ycyB3aGVuIHRoZSBXTVMgY2FwYWJpbGl0aWVzIHdlcmUgcmVxdWVzdGVkLlwiLGUpfWNvbnN0IG89ZChcIkNhcGFiaWxpdHlcIixzKSxsPWQoXCJTZXJ2aWNlXCIscyksYT1vJiZkKFwiUmVxdWVzdFwiLG8pO2lmKCFvfHwhbHx8IWEpcmV0dXJuIG51bGw7Y29uc3QgbT1kKFwiTGF5ZXJcIixvKTtpZighbSlyZXR1cm4gbnVsbDtjb25zdCBmPVwiV01TX0NhcGFiaWxpdGllc1wiPT09cy5ub2RlTmFtZXx8XCJXTVRfTVNfQ2FwYWJpbGl0aWVzXCI9PT1zLm5vZGVOYW1lP3MuZ2V0QXR0cmlidXRlKFwidmVyc2lvblwiKTpcIjEuMy4wXCIscD1oKFwiVGl0bGVcIixsLFwiXCIpfHxoKFwiTmFtZVwiLGwsXCJcIikseD1oKFwiQWNjZXNzQ29uc3RyYWludHNcIixsLFwiXCIpLHk9L15ub25lJC9pLnRlc3QoeCk/XCJcIjp4LFM9aChcIkFic3RyYWN0XCIsbCxcIlwiKSxFPXBhcnNlSW50KGgoXCJNYXhXaWR0aFwiLGwsXCI1MDAwXCIpLDEwKSx3PXBhcnNlSW50KGgoXCJNYXhIZWlnaHRcIixsLFwiNTAwMFwiKSwxMCksTD1OKGEsXCJHZXRNYXBcIiksTT1nKGEsXCJHZXRNYXBcIiksQz1iKG0sZixpKTtpZighQylyZXR1cm4gbnVsbDtsZXQgdixJPTA7Y29uc3QgUj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvLmNoaWxkTm9kZXMpLFU9Qy5zdWJsYXllcnM/P1tdLFQ9ZT0+e251bGwhPWUmJlUucHVzaChlKX07Ui5mb3JFYWNoKChlPT57XCJMYXllclwiPT09ZS5ub2RlTmFtZSYmKDA9PT1JP3Y9ZToxPT09ST8oQy5uYW1lJiYoQy5uYW1lPVwiXCIsVChiKHYsZixpKSkpLFQoYihlLGYsaSkpKTpUKGIoZSxmLGkpKSxJKyspfSkpO2xldCBWPUMuc3VibGF5ZXJzLE89Qy5leHRlbnQ7Y29uc3QgXz1DLmZ1bGxFeHRlbnRzPz9bXTtpZihWfHwoVj1bXSksMD09PVYubGVuZ3RoJiZWLnB1c2goQyksIU8pe2NvbnN0IGU9bmV3IHIoVlswXS5leHRlbnQpO0MuZXh0ZW50PWUudG9KU09OKCksTz1DLmV4dGVudH1jb25zdCBCPUMuc3BhdGlhbFJlZmVyZW5jZXMubGVuZ3RoPjA/Qy5zcGF0aWFsUmVmZXJlbmNlczp1KEMpLEQ9ZyhhLFwiR2V0RmVhdHVyZUluZm9cIiksaj1EP04oYSxcIkdldEZlYXR1cmVJbmZvXCIpOm51bGwsaz1jKFYpLHE9Qy5taW5TY2FsZXx8MCxYPUMubWF4U2NhbGV8fDAsRz1DLmRpbWVuc2lvbnM/P1tdLFc9ay5yZWR1Y2UoKChlLHQpPT5lLmNvbmNhdCh0LmRpbWVuc2lvbnM/P1tdKSksW10pLFA9Ry5jb25jYXQoVykuZmlsdGVyKEYpO2xldCAkPW51bGw7aWYoUC5sZW5ndGgpe2NvbnN0IHQ9UC5tYXAoKGU9Pntjb25zdHtleHRlbnQ6dH09ZTtyZXR1cm4gQSh0KT90Lm1hcCgoZT0+ZS5nZXRUaW1lKCkpKTp0Py5tYXAoKGU9PltlLm1pbi5nZXRUaW1lKCksZS5tYXguZ2V0VGltZSgpXSkpfSkpLmZsYXQoMikuZmlsdGVyKGUpOyQ9e3N0YXJ0VGltZUZpZWxkOm51bGwsZW5kVGltZUZpZWxkOm51bGwsdHJhY2tJZEZpZWxkOnZvaWQgMCx0aW1lRXh0ZW50OltNYXRoLm1pbiguLi50KSxNYXRoLm1heCguLi50KV19fXJldHVybntjb3B5cmlnaHQ6eSxkZXNjcmlwdGlvbjpTLGRpbWVuc2lvbnM6RyxleHRlbnQ6TyxmdWxsRXh0ZW50czpfLGZlYXR1cmVJbmZvRm9ybWF0czpqLGZlYXR1cmVJbmZvVXJsOkQsbWFwVXJsOk0sbWF4V2lkdGg6RSxtYXhIZWlnaHQ6dyxtYXhTY2FsZTpYLG1pblNjYWxlOnEsbGF5ZXJzOmssc3BhdGlhbFJlZmVyZW5jZXM6QixzdXBwb3J0ZWRJbWFnZUZvcm1hdFR5cGVzOkwsdGltZUluZm86JCx0aXRsZTpwLHZlcnNpb246Zn19ZnVuY3Rpb24gYShlKXtjb25zdCB0PWUuZmlsdGVyKChlPT5lLnBvcHVwRW5hYmxlZCYmZS5uYW1lJiZlLnF1ZXJ5YWJsZSkpO3JldHVybiB0Lmxlbmd0aD90Lm1hcCgoKHtuYW1lOmV9KT0+ZSkpLmpvaW4oKTpudWxsfWZ1bmN0aW9uIHUoZSl7aWYoZS5zcGF0aWFsUmVmZXJlbmNlcy5sZW5ndGg+MClyZXR1cm4gZS5zcGF0aWFsUmVmZXJlbmNlcztpZihlLnN1YmxheWVycylmb3IoY29uc3QgdCBvZiBlLnN1YmxheWVycyl7Y29uc3QgZT11KHQpO2lmKGUubGVuZ3RoPjApcmV0dXJuIGV9cmV0dXJuW119ZnVuY3Rpb24gYyhlKXtsZXQgdD1bXTtmb3IoY29uc3QgbiBvZiBlKXQucHVzaChuKSxuLnN1YmxheWVycz8ubGVuZ3RoJiYodD10LmNvbmNhdChjKG4uc3VibGF5ZXJzKSksZGVsZXRlIG4uc3VibGF5ZXJzKTtyZXR1cm4gdH1mdW5jdGlvbiBtKGUsdCxuKXtyZXR1cm4gdC5nZXRBdHRyaWJ1dGUoZSk/P259ZnVuY3Rpb24gZihlLHQsbixyKXtjb25zdCBpPWQoZSxuKTtyZXR1cm4gaT9tKHQsaSxyKTpyfWZ1bmN0aW9uIGQoZSx0KXtmb3IobGV0IG49MDtuPHQuY2hpbGROb2Rlcy5sZW5ndGg7bisrKXtjb25zdCByPXQuY2hpbGROb2Rlc1tuXTtpZihTKHIpJiZyLm5vZGVOYW1lPT09ZSlyZXR1cm4gcn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBwKGUsdCl7aWYobnVsbD09dClyZXR1cm5bXTtjb25zdCBuPVtdO2ZvcihsZXQgcj0wO3I8dC5jaGlsZE5vZGVzLmxlbmd0aDtyKyspe2NvbnN0IGk9dC5jaGlsZE5vZGVzW3JdO1MoaSkmJmkubm9kZU5hbWU9PT1lJiZuLnB1c2goaSl9cmV0dXJuIG59ZnVuY3Rpb24gaChlLHQsbil7cmV0dXJuIGQoZSx0KT8udGV4dENvbnRlbnQ/P259ZnVuY3Rpb24geChlLHQsbil7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3Qgcz1wYXJzZUZsb2F0KGUuZ2V0QXR0cmlidXRlKFwibWlueFwiKSksbz1wYXJzZUZsb2F0KGUuZ2V0QXR0cmlidXRlKFwibWlueVwiKSksbD1wYXJzZUZsb2F0KGUuZ2V0QXR0cmlidXRlKFwibWF4eFwiKSksYT1wYXJzZUZsb2F0KGUuZ2V0QXR0cmlidXRlKFwibWF4eVwiKSk7bGV0IHUsYyxtLGY7bj8odT1pc05hTihvKT8tTnVtYmVyLk1BWF9WQUxVRTpvLGM9aXNOYU4ocyk/LU51bWJlci5NQVhfVkFMVUU6cyxtPWlzTmFOKGEpP051bWJlci5NQVhfVkFMVUU6YSxmPWlzTmFOKGwpP051bWJlci5NQVhfVkFMVUU6bCk6KHU9aXNOYU4ocyk/LU51bWJlci5NQVhfVkFMVUU6cyxjPWlzTmFOKG8pPy1OdW1iZXIuTUFYX1ZBTFVFOm8sbT1pc05hTihsKT9OdW1iZXIuTUFYX1ZBTFVFOmwsZj1pc05hTihhKT9OdW1iZXIuTUFYX1ZBTFVFOmEpO2NvbnN0IGQ9bmV3IGkoe3draWQ6dH0pO3JldHVybiBuZXcgcih7eG1pbjp1LHltaW46Yyx4bWF4Om0seW1heDpmLHNwYXRpYWxSZWZlcmVuY2U6ZH0pfWZ1bmN0aW9uIGcoZSx0KXtjb25zdCBuPWQodCxlKTtpZihuKXtjb25zdCBlPWQoXCJEQ1BUeXBlXCIsbik7aWYoZSl7Y29uc3QgdD1kKFwiSFRUUFwiLGUpO2lmKHQpe2NvbnN0IGU9ZChcIkdldFwiLHQpO2lmKGUpe2xldCB0PWYoXCJPbmxpbmVSZXNvdXJjZVwiLFwieGxpbms6aHJlZlwiLGUsbnVsbCk7aWYodClyZXR1cm4gdC5pbmRleE9mKFwiJlwiKT09PXQubGVuZ3RoLTEmJih0PXQuc3Vic3RyaW5nKDAsdC5sZW5ndGgtMSkpLE0odCxbXCJzZXJ2aWNlXCIsXCJyZXF1ZXN0XCJdKX19fX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBOKHQsbil7Y29uc3Qgcj1wKFwiT3BlcmF0aW9uXCIsdCk7aWYoIXIubGVuZ3RoKXtyZXR1cm4gcChcIkZvcm1hdFwiLGQobix0KSkubWFwKCgoe3RleHRDb250ZW50OmV9KT0+ZSkpLmZpbHRlcihlKX1jb25zdCBpPVtdO2Zvcihjb25zdCBlIG9mIHIpaWYoZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpPT09bil7Y29uc3QgdD1wKFwiRm9ybWF0XCIsZSk7Zm9yKGNvbnN0e3RleHRDb250ZW50OmV9b2YgdCludWxsIT1lJiZpLnB1c2goZSl9cmV0dXJuIGl9ZnVuY3Rpb24geShlLHQsbil7Y29uc3Qgcj1kKHQsZSk7aWYoIXIpcmV0dXJuIG47Y29uc3R7dGV4dENvbnRlbnQ6aX09cjtpZihudWxsPT1pfHxcIlwiPT09aSlyZXR1cm4gbjtjb25zdCBzPU51bWJlcihpKTtyZXR1cm4gaXNOYU4ocyk/bjpzfWZ1bmN0aW9uIGIoZSx0LG4pe2lmKCFlKXJldHVybiBudWxsO2NvbnN0IGw9e2lkOm4uaWRDb3VudGVyKyssZnVsbEV4dGVudHM6W10scGFyZW50TGF5ZXJJZDpudWxsLHF1ZXJ5YWJsZTpcIjFcIj09PWUuZ2V0QXR0cmlidXRlKFwicXVlcnlhYmxlXCIpLHNwYXRpYWxSZWZlcmVuY2VzOltdLHN1YmxheWVyczpudWxsfSxhPWQoXCJMYXRMb25Cb3VuZGluZ0JveFwiLGUpLHU9ZChcIkVYX0dlb2dyYXBoaWNCb3VuZGluZ0JveFwiLGUpO2xldCBjPW51bGw7YSYmKGM9eChhLDQzMjYpKSx1JiYoYz1uZXcgcigwLDAsMCwwLG5ldyBpKHt3a2lkOjQzMjZ9KSksYy54bWluPXBhcnNlRmxvYXQoaChcIndlc3RCb3VuZExvbmdpdHVkZVwiLHUsXCIwXCIpKSxjLnltaW49cGFyc2VGbG9hdChoKFwic291dGhCb3VuZExhdGl0dWRlXCIsdSxcIjBcIikpLGMueG1heD1wYXJzZUZsb2F0KGgoXCJlYXN0Qm91bmRMb25naXR1ZGVcIix1LFwiMFwiKSksYy55bWF4PXBhcnNlRmxvYXQoaChcIm5vcnRoQm91bmRMYXRpdHVkZVwiLHUsXCIwXCIpKSksYXx8dXx8KGM9bmV3IHIoLTE4MCwtOTAsMTgwLDkwLG5ldyBpKHt3a2lkOjQzMjZ9KSkpLGwubWluU2NhbGU9eShlLFwiTWF4U2NhbGVEZW5vbWluYXRvclwiLDApLGwubWF4U2NhbGU9eShlLFwiTWluU2NhbGVEZW5vbWluYXRvclwiLDApO2NvbnN0IGY9W1wiMS4wLjBcIixcIjEuMS4wXCIsXCIxLjEuMVwiXS5pbmNsdWRlcyh0KT9cIlNSU1wiOlwiQ1JTXCI7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUuY2hpbGROb2RlcykuZm9yRWFjaCgoZT0+e2lmKFwiTmFtZVwiPT09ZS5ub2RlTmFtZSlsLm5hbWU9ZS50ZXh0Q29udGVudHx8XCJcIjtlbHNlIGlmKFwiVGl0bGVcIj09PWUubm9kZU5hbWUpbC50aXRsZT1lLnRleHRDb250ZW50fHxcIlwiO2Vsc2UgaWYoXCJBYnN0cmFjdFwiPT09ZS5ub2RlTmFtZSlsLmRlc2NyaXB0aW9uPWUudGV4dENvbnRlbnR8fFwiXCI7ZWxzZSBpZihcIkJvdW5kaW5nQm94XCI9PT1lLm5vZGVOYW1lKXtjb25zdCBuPWUuZ2V0QXR0cmlidXRlKGYpO2lmKG4mJjA9PT1uLmluZGV4T2YoXCJFUFNHOlwiKSl7Y29uc3Qgcj1wYXJzZUludChuLnN1YnN0cmluZyg1KSwxMCk7MD09PXJ8fGlzTmFOKHIpfHxjfHwoYz1cIjEuMy4wXCI9PT10P3goZSxyLHMocikpOngoZSxyKSl9Y29uc3Qgcj1uJiZuLmluZGV4T2YoXCI6XCIpO2lmKHImJnI+LTEpe2xldCBpPXBhcnNlSW50KG4uc3Vic3RyaW5nKHIrMSxuLmxlbmd0aCksMTApOzA9PT1pfHxpc05hTihpKXx8KGk9b1tpXT8/aSk7Y29uc3QgYT1cIjEuMy4wXCI9PT10P3goZSxpLHMoaSkpOngoZSxpKTthJiZsLmZ1bGxFeHRlbnRzJiZsLmZ1bGxFeHRlbnRzLnB1c2goYSl9fWVsc2UgaWYoZS5ub2RlTmFtZT09PWYpeyhlLnRleHRDb250ZW50Py5zcGxpdChcIiBcIik/P1tdKS5mb3JFYWNoKChlPT57Y29uc3QgdD1lLmluY2x1ZGVzKFwiOlwiKT9wYXJzZUludChlLnNwbGl0KFwiOlwiKVsxXSwxMCk6cGFyc2VJbnQoZSwxMCk7aWYoMCE9PXQmJiFpc05hTih0KSl7Y29uc3QgZT1vW3RdPz90O2wuc3BhdGlhbFJlZmVyZW5jZXMuaW5jbHVkZXMoZSl8fGwuc3BhdGlhbFJlZmVyZW5jZXMucHVzaChlKX19KSl9ZWxzZSBpZihcIlN0eWxlXCIhPT1lLm5vZGVOYW1lfHxsLmxlZ2VuZFVybCl7aWYoXCJMYXllclwiPT09ZS5ub2RlTmFtZSl7Y29uc3Qgcj1iKGUsdCxuKTtyJiYoci5wYXJlbnRMYXllcklkPWwuaWQsbC5zdWJsYXllcnN8fChsLnN1YmxheWVycz1bXSksbC5zdWJsYXllcnMucHVzaChyKSl9fWVsc2V7Y29uc3QgdD1kKFwiTGVnZW5kVVJMXCIsZSk7aWYodCl7Y29uc3QgZT1kKFwiT25saW5lUmVzb3VyY2VcIix0KTtlJiYobC5sZWdlbmRVcmw9ZS5nZXRBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpKX19fSkpLGwuZXh0ZW50PWM/LnRvSlNPTigpLGwuZGltZW5zaW9ucz1wKFwiRGltZW5zaW9uXCIsZSkuZmlsdGVyKChlPT5lLmdldEF0dHJpYnV0ZShcIm5hbWVcIikmJmUuZ2V0QXR0cmlidXRlKFwidW5pdHNcIikmJmUudGV4dENvbnRlbnQpKS5tYXAoKGU9Pntjb25zdCB0PWUuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSxuPWUuZ2V0QXR0cmlidXRlKFwidW5pdHNcIikscj1lLnRleHRDb250ZW50LGk9ZS5nZXRBdHRyaWJ1dGUoXCJ1bml0U3ltYm9sXCIpPz92b2lkIDAscz1lLmdldEF0dHJpYnV0ZShcImRlZmF1bHRcIik/P3ZvaWQgMCxvPVwiMFwiIT09bShcImRlZmF1bHRcIixlLFwiMFwiKSxsPVwiMFwiIT09bShcIm5lYXJlc3RWYWx1ZVwiLGUsXCIwXCIpLGE9XCIwXCIhPT1tKFwiY3VycmVudFwiLGUsXCIwXCIpO2lmKEYoe25hbWU6dCx1bml0czpufSkpe3JldHVybntuYW1lOlwidGltZVwiLHVuaXRzOlwiSVNPODYwMVwiLGV4dGVudDpJKHIpLGRlZmF1bHQ6SShzKSxtdWx0aXBsZVZhbHVlczpvLG5lYXJlc3RWYWx1ZTpsLGN1cnJlbnQ6YX19aWYodyh7bmFtZTp0LHVuaXRzOm59KSl7cmV0dXJue25hbWU6XCJlbGV2YXRpb25cIix1bml0czpuLGV4dGVudDpDKHIpLHVuaXRTeW1ib2w6aSxkZWZhdWx0OkMocyksbXVsdGlwbGVWYWx1ZXM6byxuZWFyZXN0VmFsdWU6bH19cmV0dXJue25hbWU6dCx1bml0czpuLGV4dGVudDp2KHIpLHVuaXRTeW1ib2w6aSxkZWZhdWx0OnYocyksbXVsdGlwbGVWYWx1ZXM6byxuZWFyZXN0VmFsdWU6bH19KSksbH1mdW5jdGlvbiBBKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wJiZlWzBdaW5zdGFuY2VvZiBEYXRlfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX1mdW5jdGlvbiBFKGUpe3JldHVybiB2b2lkIDAhPT1lLm1pbiYmdm9pZCAwIT09ZS5tYXh9ZnVuY3Rpb24gdyhlKXtyZXR1cm4vXmVsZXZhdGlvbiQvaS50ZXN0KGUubmFtZSkmJi9eKGVwc2d8Y3JzKTpcXGQrJC9pLnRlc3QoZS51bml0cyl9ZnVuY3Rpb24gTChlKXtyZXR1cm4hRihlKSYmIXcoZSl9ZnVuY3Rpb24gRihlKXtyZXR1cm4vXnRpbWUkL2kudGVzdChlLm5hbWUpJiYvXmlzbzg2MDEkL2kudGVzdChlLnVuaXRzKX1mdW5jdGlvbiBNKGUsdCl7Y29uc3Qgcj1bXSxpPW4oZSk7Zm9yKGNvbnN0IG4gaW4gaS5xdWVyeSlpLnF1ZXJ5Lmhhc093blByb3BlcnR5KG4pJiYodC5pbmNsdWRlcyhuLnRvTG93ZXJDYXNlKCkpfHxyLnB1c2gobitcIj1cIitpLnF1ZXJ5W25dKSk7cmV0dXJuIGkucGF0aCsoci5sZW5ndGg/XCI/XCIrci5qb2luKFwiJlwiKTpcIlwiKX1mdW5jdGlvbiBDKHQpe2lmKCF0KXJldHVybjtjb25zdCBuPXQuaW5jbHVkZXMoXCIvXCIpLHI9dC5zcGxpdChcIixcIik7cmV0dXJuIG4/ci5tYXAoKGU9Pntjb25zdCB0PWUuc3BsaXQoXCIvXCIpO2lmKHQubGVuZ3RoPDIpcmV0dXJuIG51bGw7cmV0dXJue21pbjpwYXJzZUZsb2F0KHRbMF0pLG1heDpwYXJzZUZsb2F0KHRbMV0pLHJlc29sdXRpb246dC5sZW5ndGg+PTMmJlwiMFwiIT09dFsyXT9wYXJzZUZsb2F0KHRbMl0pOnZvaWQgMH19KSkuZmlsdGVyKGUpOnIubWFwKChlPT5wYXJzZUZsb2F0KGUpKSl9ZnVuY3Rpb24gdih0KXtpZighdClyZXR1cm47Y29uc3Qgbj10LmluY2x1ZGVzKFwiL1wiKSxyPXQuc3BsaXQoXCIsXCIpO3JldHVybiBuP3IubWFwKChlPT57Y29uc3QgdD1lLnNwbGl0KFwiL1wiKTtpZih0Lmxlbmd0aDwyKXJldHVybiBudWxsO3JldHVybnttaW46dFswXSxtYXg6dFsxXSxyZXNvbHV0aW9uOnQubGVuZ3RoPj0zJiZcIjBcIiE9PXRbMl0/dFsyXTp2b2lkIDB9fSkpLmZpbHRlcihlKTpyfWZ1bmN0aW9uIEkodCl7aWYoIXQpcmV0dXJuO2NvbnN0IG49dC5pbmNsdWRlcyhcIi9cIikscj10LnNwbGl0KFwiLFwiKTtyZXR1cm4gbj9yLm1hcCgoZT0+e2NvbnN0IHQ9ZS5zcGxpdChcIi9cIik7aWYodC5sZW5ndGg8MilyZXR1cm4gbnVsbDtyZXR1cm57bWluOm5ldyBEYXRlKHRbMF0pLG1heDpuZXcgRGF0ZSh0WzFdKSxyZXNvbHV0aW9uOnQubGVuZ3RoPj0zJiZcIjBcIiE9PXRbMl0/Uih0WzJdKTp2b2lkIDB9fSkpLmZpbHRlcihlKTpyLm1hcCgoZT0+bmV3IERhdGUoZSkpKX1mdW5jdGlvbiBSKGUpe2NvbnN0IHQ9Lyg/OnAoXFxkK3l8XFxkKyg/OlxcLnwsKVxcZCt5KT8oXFxkK218XFxkKyg/OlxcLnwsKVxcZCttKT8oXFxkK2R8XFxkKyg/OlxcLnwsKVxcZCtkKT8pPyg/OnQoXFxkK2h8XFxkKyg/OlxcLnwsKVxcZCtoKT8oXFxkK218XFxkKyg/OlxcLnwsKVxcZCttKT8oXFxkK3N8XFxkKyg/OlxcLnwsKVxcZCtzKT8pPy9pLG49ZS5tYXRjaCh0KTtpZighbilyZXR1cm4gbnVsbDtyZXR1cm57eWVhcnM6VShuWzFdKSxtb250aHM6VShuWzJdKSxkYXlzOlUoblszXSksaG91cnM6VShuWzRdKSxtaW51dGVzOlUobls1XSksc2Vjb25kczpVKG5bNl0pfX1mdW5jdGlvbiBVKGUpe2lmKCFlKXJldHVybiAwO2NvbnN0IHQ9Lyg/OlxcZCsoPzpcXC58LClcXGQrfFxcZCspLyxuPWUubWF0Y2godCk7aWYoIW4pcmV0dXJuIDA7Y29uc3Qgcj1uWzBdLnJlcGxhY2UoXCIsXCIsXCIuXCIpO3JldHVybiBOdW1iZXIocil9ZnVuY3Rpb24gVChlKXtyZXR1cm4gZS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1xcLlswLTldezN9LyxcIlwiKX1jb25zdCBWPW5ldyBTZXQoWzEwMjEwMCwzODU3LDEwMjExMyw5MDA5MTNdKSxPPW5ldyBTZXQoWzMzOTUsNTQwMDRdKTtmdW5jdGlvbiBfKGUsdCl7bGV0IG49ZS53a2lkO3JldHVybiBudWxsPT10P246KG51bGwhPW4mJnQuaW5jbHVkZXMobil8fCFlLmxhdGVzdFdraWR8fChuPWUubGF0ZXN0V2tpZCksbnVsbCE9biYmVi5oYXMobik/dC5maW5kKChlPT5WLmhhcyhlKSkpfHx0LmZpbmQoKGU9Pk8uaGFzKGUpKSl8fDEwMjEwMDpuKX1leHBvcnR7UiBhcyBmcm9tSVNPRHVyYXRpb24sYSBhcyBnZXRQb3B1cExheWVycyxFIGFzIGlzRGltZW5zaW9uSW50ZXJ2YWwsdyBhcyBpc0VsZXZhdGlvbkRpbWVuc2lvbixMIGFzIGlzR2VuZXJpY0RpbWVuc2lvbixGIGFzIGlzVGltZURpbWVuc2lvbixfIGFzIG5vcm1hbGl6ZVdLSUQsbCBhcyBwYXJzZUNhcGFiaWxpdGllcyxUIGFzIHRvSVNPU3RyaW5nfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==