"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_views_3d_layers_DynamicLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ m),
/* harmony export */   b: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/TransparencyPassType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function v(v){const m=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_9__.ShaderBuilder,{vertex:f,fragment:u}=m;return (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_6__.addProjViewLocalOrigin)(f,v),m.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Transform,v),m.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.POSITION,"vec3"),m.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.UV0,"vec2"),v.perspectiveInterpolation&&m.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.PERSPECTIVEDIVIDE,"float"),m.varyings.add("vpos","vec3"),v.multipassEnabled&&m.varyings.add("depth","float"),f.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`
    void main(void) {
      vpos = position;
      ${v.multipassEnabled?"depth = (view * vec4(vpos, 1.0)).z;":""}
      vTexCoord = uv0;
      gl_Position = transformPosition(proj, view, vpos);

      ${v.perspectiveInterpolation?"gl_Position *= perspectiveDivide;":""}
    }
  `),m.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__.SliceDraw,v),m.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_3__.multipassTerrainTest,v),u.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_10__.Texture2DPassUniform("tex",(e=>e.texture)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_7__.FloatPassUniform("opacity",(e=>e.opacity))),m.varyings.add("vTexCoord","vec2"),v.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Alpha?u.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`
    void main() {
      discardBySlice(vpos);
      ${v.multipassEnabled?"terrainDepthTest(depth);":""}

      float alpha = texture(tex, vTexCoord).a * opacity;
      if (alpha  < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_4__.defaultMaskAlphaCutoff)}) {
        discard;
      }

      fragColor = vec4(alpha);
    }
    `):(u.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_5__.ColorConversion),u.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`
    void main() {
      discardBySlice(vpos);
      ${v.multipassEnabled?"terrainDepthTest(depth);":""}
      fragColor = texture(tex, vTexCoord) * opacity;

      if (fragColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_4__.defaultMaskAlphaCutoff)}) {
        discard;
      }

      fragColor = highlightSlice(fragColor, vpos);
      ${v.transparencyPassType===_views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_11__.TransparencyPassType.Color?"fragColor = premultiplyAlpha(fragColor);":""}
    }
    `)),m}const m=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ N)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _support_overlayImageUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./support/overlayImageUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js");
/* harmony import */ var _support_projectExtentUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./support/projectExtentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../terrain/interfaces.js */ "./node_modules/@arcgis/core/views/3d/terrain/interfaces.js");
/* harmony import */ var _webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../webgl-engine/lib/ModelDirtyTypes.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js");
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../webgl-engine/lib/RenderGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js");
/* harmony import */ var _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../webgl-engine/lib/Texture.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _webgl_engine_materials_ImageMaterial_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../webgl-engine/materials/ImageMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let V=class extends((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_26__["default"])((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_15__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_25__["default"]))){constructor(){super(...arguments),this.drapeSourceType=_interfaces_js__WEBPACK_IMPORTED_MODULE_14__.DrapeSourceType.RasterImage,this.updatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_23__.UpdatePolicy.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.debounce)((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(e)}))}),2e3)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise((0,_support_projectExtentUtils_js__WEBPACK_IMPORTED_MODULE_17__.toViewIfLocal)(this).then((e=>this._set("fullExtentInLocalViewSpatialReference",e)))),this._updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler())),this.addHandles(this.view.resourceController.scheduler.registerIdleStateCallbacks((()=>{this._isScaleRangeActive()&&this.notifyChange("suspended")}),(()=>{}))),this._isScaleRangeLayer()&&this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.notifyChange("suspended")))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach(((e,t)=>{this._overlays[t]=e,this._updateImageExtent(e,t)}))}_updateImageExtent(e,t){const r=this._clippedExtent(e.extent,z);if(null==r)return;const i=(0,_support_overlayImageUtils_js__WEBPACK_IMPORTED_MODULE_16__.computeImageExportSize)(e.extent,r,e.resolution);let a=e.pixelRatio*this.view.state.pixelRatio;const{layer:n}=this;if("imageMaxWidth"in n&&null!=n.imageMaxWidth||"imageMaxHeight"in n&&null!=n.imageMaxHeight){const e=n.imageMaxWidth,t=n.imageMaxHeight;if(i.width>e){const t=e/i.width;i.height=Math.floor(i.height*t),i.width=e,a*=t}if(i.height>t){const e=t/i.height;i.width=Math.floor(i.width*e),i.height=t,a*=e}}const l=this._extents[t];l&&(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.equals)(l.extent,r)&&this._imageSizeEquals(r,l.imageSize,i)||(this._extents[t]={extent:(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)(r),imageSize:i,pixelRatio:a},this.suspended||this._fetch(t).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await Promise.allSettled(t)}canResume(){if(!super.canResume())return!1;const e=this.layer;if(this._isScaleRangeActive()){const{minScale:t,maxScale:r}=e.effectiveScaleRange,i=this.view.scale;if(i<r||t>0&&i>t)return!1}return!0}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__["default"](r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,r){await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.forEach)(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.width)(e)/this.maximumDataResolution.x,s=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.height)(e)/this.maximumDataResolution.y,a=i/t.width,n=s/t.height,o=i/r.width,l=s/r.height,h=Math.abs(a-o),m=Math.abs(n-l),c=_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_18__.debugFlags.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=c&&m<=c}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)(i)});const n=this._images[e];n.loadingAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.abortMaybe)(n.loadingAbortController);const d=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__["default"](i[0],i[1],i[2],i[3],this._spatialReference);if(0===d.width||0===d.height)return void this._clearImage(e);const g=new AbortController;n.loadingAbortController=g,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.onAbort)(t,(()=>g.abort()));const u=g.signal,f=this._waitFetchReady(u).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:u},{height:i,width:s}=r.imageSize;return this.layer.fetchImage(d,s,i,t)})).then((e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAborted)(u))throw _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).warnOnce("A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true."),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.createAbortError)();return this.processResult(n,e)})).then((()=>{(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.copy)(n.renderExtent,i)}));n.loadingPromise=f,await this._updatingHandles.addPromise(f.then((async()=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(u),await this._createStageObjects(e,n.image,u)})).catch((e=>{throw e&&!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e)&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(e),e})).finally((()=>{f===n.loadingPromise&&(n.loadingPromise=null,n.loadingAbortController=null)})))}_clearImage(e){const t=this._images[e];if(t){null!=t.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_20__.DirtyOperation.UPDATE),t.renderGeometry=null);const e=this.view._stage,r=t.texture;r?.unload(),e.remove(r),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.abortMaybe)(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const s=this.view._stage,a=this._images[e],n=()=>{a.texture?.unload(),s.remove(a.texture),a.texture=null,a.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([a.renderGeometry],_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_20__.DirtyOperation.UPDATE),a.renderGeometry=null)};if(t){const o=new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_22__.Texture(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_28__.TextureWrapMode.CLAMP_TO_EDGE,t:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_28__.TextureWrapMode.CLAMP_TO_EDGE}});let l;if(await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.result)(this._images[e===_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.OverlayIndex.INNER?_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.OverlayIndex.OUTER:_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.OverlayIndex.INNER].loadingPromise),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(i),n(),await s.schedule((()=>o.load(s.renderView.renderingContext)),i),s.add(o),a.texture=o,null==a.material?(a.material=new _webgl_engine_materials_ImageMaterial_js__WEBPACK_IMPORTED_MODULE_24__.ImageMaterial({transparent:!0,textureId:o.id}),s.add(a.material)):a.material.setParameters({textureId:o.id}),e===_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.OverlayIndex.INNER)l=(0,_support_overlayImageUtils_js__WEBPACK_IMPORTED_MODULE_16__.createGeometryForExtent)(a.material,a.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void n();l=(0,_support_overlayImageUtils_js__WEBPACK_IMPORTED_MODULE_16__.createOuterImageGeometry)(a.material,e,a.renderExtent)}a.renderGeometry=new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_21__.RenderGeometry(l),a.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([a.renderGeometry],_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_20__.DirtyOperation.UPDATE)}else n(),s.remove(a.material),a.material=null}_isScaleRangeLayer(){return"effectiveScaleRange"in this.layer}_isScaleRangeActive(){const e=this.layer;if(!this._isScaleRangeLayer())return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_27__.isScaleRangeActive)(t,r)}_clippedExtent(e,t){if("local"!==this.view.viewingMode)return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.copy)(t,e);const r=this.view.basemapTerrain;return r.ready?(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.intersection)(e,r.extent,t):(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.copy)(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.whenOnce)((()=>this.view.stationary),e),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(e)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],V.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],V.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],V.prototype,"fullExtentInLocalViewSpatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],V.prototype,"updating",void 0),V=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.3d.layers.DynamicLayerView3D")],V);const N=V,z=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerView3D: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/heightModelInfoUtils.js */ "./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.supportsHeightModelInfo)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>e.abort()))),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(o);const i=(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.rejectLayerError)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e?.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"slicePlaneEnabled",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.LayerView3D")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   computeImageExportSize: () => (/* binding */ u),
/* harmony export */   createGeometryForExtent: () => (/* binding */ l),
/* harmony export */   createOuterImageGeometry: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/FloatArray.js */ "./node_modules/@arcgis/core/geometry/support/FloatArray.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function u(r,o,n){const i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.width)(r)/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.height)(r),m={width:n,height:n};return i>1.0001?m.height=n/i:i<.9999&&(m.width=n*i),m.width=Math.round(m.width/((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.width)(r)/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.width)(o))),m.height=Math.round(m.height/((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.height)(r)/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.height)(o))),m}function l(t,e){return (0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_5__.createSquareGeometry)(t,[[e[0],e[1],-1],[e[2],e[1],-1],[e[2],e[3],-1],[e[0],e[3],-1]])}function s(t,e,h){if(!(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.intersects)(e,h))return l(t,h);const u=[e[1]-h[1],Math.min(e[3],h[3])-Math.max(e[1],h[1]),h[3]-e[3],123456],s=[e[0]-h[0],Math.min(e[2],h[2])-Math.max(e[0],h[0]),h[2]-e[2],123456],f=h[2]-h[0],p=h[3]-h[1],w=s[0]>0&&s[2]>0?3:2,b=u[0]>0&&u[2]>0?3:2,c=(b+1)*(w+1),y=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.newDoubleArray)(3*c),d=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_2__.newFloatArray)(2*c),j=new Array(6*(b*w-1));let A=0,M=0,x=0,O=0,G=0;for(let r=0;r<4;r++){const t=u[r];if(t<=0)continue;let e=0;for(let o=0;o<4;o++){const t=s[o];t<=0||(y[M++]=h[0]+e,y[M++]=h[1]+A,y[M++]=-1,d[x++]=e/f,d[x++]=A/p,o<3&&r<3&&(1!==o||1!==r)&&(j[G++]=O,j[G++]=O+1,j[G++]=O+w+1,j[G++]=O+1,j[G++]=O+w+2,j[G++]=O+w+1),O++,e+=t)}A+=t}const I=new Array(j.length);return new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_4__.Geometry(t,[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_3__.Attribute(y,j,3,!0)],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.NORMAL,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_3__.Attribute(a,I,3,!0)],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.UV0,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_3__.Attribute(d,j,2,!0)]])}const a=[0,0,1];


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   toViewIfLocal: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _portal_support_geometryServiceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../portal/support/geometryServiceUtils.js */ "./node_modules/@arcgis/core/portal/support/geometryServiceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(l){const t=l.view.spatialReference,o=l.layer.fullExtent,s=null!=o&&o.spatialReference;if(null==o||!s)return Promise.resolve(null);if(s.equals(t))return Promise.resolve(o.clone());const n=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_0__.project)(o,t);return null!=n?Promise.resolve(n):l.view.state.isLocal?(0,_portal_support_geometryServiceUtils_js__WEBPACK_IMPORTED_MODULE_1__.projectGeometry)(o,t,l.layer.portalItem).then((e=>!l.destroyed&&e?e:null)).catch((()=>null)):Promise.resolve(null)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImageMaterial: () => (/* binding */ g),
/* harmony export */   Parameters: () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/buffer/BufferView.js */ "./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/GLTextureMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DefaultBufferWriter.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js");
/* harmony import */ var _DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DefaultLayouts.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js");
/* harmony import */ var _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./TriangleMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js");
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./internal/bufferWriterUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js");
/* harmony import */ var _shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../shaders/ImageMaterialTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class g extends _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_11__.TriangleMaterial{constructor(t){super(t,new T),this.supportsEdges=!0,this._vertexAttributeLocations=_shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__.vertexAttributeLocations,this._configuration=new _shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__.ImageMaterialTechniqueConfiguration}getConfiguration(t,e){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=e.transparencyPassType,this._configuration.enableOffset=e.camera.relativeElevation<_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.OITPolygonOffsetLimit,this._configuration.multipassEnabled=e.multipassEnabled,this._configuration.cullAboveGround=e.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}produces(t,r){if(r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color||r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha||r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight){if(t===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.DRAPED_MATERIAL)return!0;if(r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight)return t===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.OPAQUE_MATERIAL;return t===(this.parameters.transparent?this.parameters.writeDepth?_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.TRANSPARENT_MATERIAL:_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.OPAQUE_MATERIAL)}return!1}createGLMaterial(t){return new E(t)}createBufferWriter(){const t=_DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_10__.PositionUVLayout.clone();return this.parameters.perspectiveInterpolation&&t.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.PERSPECTIVEDIVIDE),new A(t)}}class E extends _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_3__.GLTextureMaterial{constructor(t){super({...t,...t.material.parameters})}_updateParameters(t){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(_shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__.ImageMaterialTechnique,t)}_updateOccludeeState(t){t.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:t.hasOccludees}),this._updateParameters(t))}beginSlot(t){return this._output!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color&&this._output!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class A extends _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_9__.DefaultBufferWriter{write(e,r,s,i,a){for(const n of this.vertexBufferLayout.fields.keys()){const l=s.attributes.get(n);if(l)if(n===_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.PERSPECTIVEDIVIDE){(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_7__.assert)(1===l.size);const e=i.getField(n,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__.BufferViewFloat);e&&(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_12__.writeBufferFloat)(l,e,a)}else (0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_12__.writeDefaultAttribute)(n,l,e,r,i,a)}}}class T extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_4__.MaterialParameters{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__.CullFaceOptions.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImageMaterialPassParameters: () => (/* binding */ I),
/* harmony export */   ImageMaterialTechnique: () => (/* binding */ N),
/* harmony export */   ImageMaterialTechniqueConfiguration: () => (/* binding */ C),
/* harmony export */   vertexAttributeLocations: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/Program.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/TransparencyPassType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/* harmony import */ var _chunks_ImageMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/ImageMaterial.glsl.js */ "./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class I extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.NoParameters{}class N extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_4__.ShaderTechnique{initializeProgram(e){return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_8__.Program(e.rctx,N.shader.get().build(this.configuration),_)}_setPipelineState(e,r){const o=this.configuration,i=e===_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__.TransparencyPassType.NONE,s=e===_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__.TransparencyPassType.FrontFace;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.makePipelineState)({blending:o.output!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color&&o.output!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Alpha||!o.transparent?null:i?E:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.oitBlending)(e),culling:(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.cullingParams)(o.cullFace),depthTest:{func:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.oitDepthTest)(e)},depthWrite:i?o.writeDepth?_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.defaultDepthWriteParams:null:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.oitDepthWrite)(e),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.defaultColorWriteParams,stencilWrite:o.hasOccludees?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_9__.stencilWriteMaskOn:null,stencilTest:o.hasOccludees?r?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_9__.stencilToolMaskBaseParams:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_9__.stencilBaseAllZerosParams:null,polygonOffset:i||s?null:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.getOITPolygonOffset)(o.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}N.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_3__.ReloadableShaderModule(_chunks_ImageMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_13__.I,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_ImageMaterial_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./ImageMaterial.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterial.glsl.js"))));const E=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_15__.simpleBlendingParams)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.BlendFactor.ONE_MINUS_SRC_ALPHA);class C extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.output=_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color,this.cullFace=_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__.CullFaceOptions.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__.TransparencyPassType.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({count:_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.COUNT})],C.prototype,"output",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({count:_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__.CullFaceOptions.COUNT})],C.prototype,"cullFace",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"transparent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"enableOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"writeDepth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({count:_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__.TransparencyPassType.COUNT})],C.prototype,"transparencyPassType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"multipassEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"cullAboveGround",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],C.prototype,"perspectiveInterpolation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({constValue:!1})],C.prototype,"occlusionPass",void 0);const _=new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.POSITION,0],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.UV0,2],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.PERSPECTIVEDIVIDE,3]]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__.IdentifiableMixin)((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"view",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.layers.LayerView")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const a=a=>{let c=class extends a{initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)((()=>this.layer),"refresh",(r=>{this.doRefresh(r.dataChanged).catch((r=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(r)}))})),"RefreshableLayerView")}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"layer",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.mixins.RefreshableLayerView")],c),c};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfbGF5ZXJzX0R5bmFtaWNMYXllclZpZXczRF9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDd3VDLGNBQWMsWUFBWSxxR0FBQyxFQUFFLG9CQUFvQixHQUFHLE9BQU8sbUhBQUMsZ0JBQWdCLGtHQUFDLHFCQUFxQiwyRkFBQyxtQ0FBbUMsMkZBQUMsMERBQTBELDJGQUFDLHlIQUF5SCw2RkFBQztBQUNwaUQ7QUFDQTtBQUNBLFFBQVEsdURBQXVEO0FBQy9EO0FBQ0E7O0FBRUEsUUFBUSw2REFBNkQ7QUFDckU7QUFDQSxlQUFlLDhGQUFDLGNBQWMsZ0lBQUMsdUJBQXVCLG9IQUFDLDJCQUEyQiwyR0FBQywwRUFBMEUsbUdBQUMsa0JBQWtCLDZGQUFDO0FBQ2pMO0FBQ0E7QUFDQSxRQUFRLDRDQUE0Qzs7QUFFcEQ7QUFDQSxxQkFBcUIseUZBQUMsT0FBTyxpSEFBQyxFQUFFO0FBQ2hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixtSEFBQyxhQUFhLDZGQUFDO0FBQ2pDO0FBQ0E7QUFDQSxRQUFRLDRDQUE0QztBQUNwRDs7QUFFQSwwQkFBMEIseUZBQUMsT0FBTyxpSEFBQyxFQUFFO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLHlCQUF5QixxR0FBQyxnREFBZ0Q7QUFDbEY7QUFDQSxVQUFVLDZDQUE2Qyx1QkFBdUIscUJBQXFCLGVBQWUsR0FBeUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEMzSTtBQUNBO0FBQ0E7QUFDQTtBQUN3MUQsb0JBQW9CLDRFQUFDLENBQUMsNkRBQUMsQ0FBQyw2REFBQyxJQUFJLGNBQWMseUNBQXlDLDREQUFDLCtCQUErQiw0RUFBQyxnUEFBZ1AsK0RBQUMsWUFBWSxvREFBb0QsbUVBQUMsS0FBSyx1REFBQywwQkFBMEIsR0FB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RUFBRSxZQUFZLHFDQUFxQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUseUJBQXlCLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSx3Q0FBd0MsdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSx1RkFBQyxvQ0FBb0MsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p6NEU7QUFDQTtBQUNBO0FBQ0E7QUFDbWMsWUFBWSxzQkFBc0IsYUFBYSxnQkFBZ0IsMERBQUMsaUNBQWlDLHlDQUF5QyxtRUFBQyxLQUFLLHVEQUFDLDBCQUEwQixHQUFHLDZCQUE2QixPQUFPLHVEQUFDLEVBQUUsc0ZBQUMsa0NBQWtDLHVEQUFDLEVBQUUsc0ZBQUMsbURBQXdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY2h1bmtzL0ltYWdlTWF0ZXJpYWwuZ2xzbC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvRHluYW1pY0xheWVyVmlldzNELmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9MYXllclZpZXczRC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9vdmVybGF5SW1hZ2VVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9wcm9qZWN0RXh0ZW50VXRpbHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL21hdGVyaWFscy9JbWFnZU1hdGVyaWFsLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9zaGFkZXJzL0ltYWdlTWF0ZXJpYWxUZWNobmlxdWUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL0xheWVyVmlldy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvUmVmcmVzaGFibGVMYXllclZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtTaGFkZXJPdXRwdXQgYXMgZX1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L1NoYWRlck91dHB1dC5qc1wiO2ltcG9ydHtTbGljZURyYXcgYXMgcn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L1NsaWNlLmdsc2wuanNcIjtpbXBvcnR7VHJhbnNmb3JtIGFzIGl9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9UcmFuc2Zvcm0uZ2xzbC5qc1wiO2ltcG9ydHttdWx0aXBhc3NUZXJyYWluVGVzdCBhcyBvfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvc2hhZGluZy9NdWx0aXBhc3NUZXJyYWluVGVzdC5nbHNsLmpzXCI7aW1wb3J0e2RlZmF1bHRNYXNrQWxwaGFDdXRvZmYgYXMgc31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L3V0aWwvQWxwaGFDdXRvZmYuanNcIjtpbXBvcnR7Q29sb3JDb252ZXJzaW9uIGFzIGF9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS91dGlsL0NvbG9yQ29udmVyc2lvbi5nbHNsLmpzXCI7aW1wb3J0e2FkZFByb2pWaWV3TG9jYWxPcmlnaW4gYXMgdH1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L3V0aWwvVmlldy5nbHNsLmpzXCI7aW1wb3J0e0Zsb2F0UGFzc1VuaWZvcm0gYXMgZH1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL0Zsb2F0UGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7Z2xzbCBhcyBsfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtTaGFkZXJCdWlsZGVyIGFzIG59ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9TaGFkZXJCdWlsZGVyLmpzXCI7aW1wb3J0e1RleHR1cmUyRFBhc3NVbmlmb3JtIGFzIHB9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9UZXh0dXJlMkRQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtUcmFuc3BhcmVuY3lQYXNzVHlwZSBhcyBnfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9saWIvVHJhbnNwYXJlbmN5UGFzc1R5cGUuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIGN9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtmdW5jdGlvbiB2KHYpe2NvbnN0IG09bmV3IG4se3ZlcnRleDpmLGZyYWdtZW50OnV9PW07cmV0dXJuIHQoZix2KSxtLmluY2x1ZGUoaSx2KSxtLmF0dHJpYnV0ZXMuYWRkKGMuUE9TSVRJT04sXCJ2ZWMzXCIpLG0uYXR0cmlidXRlcy5hZGQoYy5VVjAsXCJ2ZWMyXCIpLHYucGVyc3BlY3RpdmVJbnRlcnBvbGF0aW9uJiZtLmF0dHJpYnV0ZXMuYWRkKGMuUEVSU1BFQ1RJVkVESVZJREUsXCJmbG9hdFwiKSxtLnZhcnlpbmdzLmFkZChcInZwb3NcIixcInZlYzNcIiksdi5tdWx0aXBhc3NFbmFibGVkJiZtLnZhcnlpbmdzLmFkZChcImRlcHRoXCIsXCJmbG9hdFwiKSxmLmNvZGUuYWRkKGxgXG4gICAgdm9pZCBtYWluKHZvaWQpIHtcbiAgICAgIHZwb3MgPSBwb3NpdGlvbjtcbiAgICAgICR7di5tdWx0aXBhc3NFbmFibGVkP1wiZGVwdGggPSAodmlldyAqIHZlYzQodnBvcywgMS4wKSkuejtcIjpcIlwifVxuICAgICAgdlRleENvb3JkID0gdXYwO1xuICAgICAgZ2xfUG9zaXRpb24gPSB0cmFuc2Zvcm1Qb3NpdGlvbihwcm9qLCB2aWV3LCB2cG9zKTtcblxuICAgICAgJHt2LnBlcnNwZWN0aXZlSW50ZXJwb2xhdGlvbj9cImdsX1Bvc2l0aW9uICo9IHBlcnNwZWN0aXZlRGl2aWRlO1wiOlwiXCJ9XG4gICAgfVxuICBgKSxtLmluY2x1ZGUocix2KSxtLmluY2x1ZGUobyx2KSx1LnVuaWZvcm1zLmFkZChuZXcgcChcInRleFwiLChlPT5lLnRleHR1cmUpKSxuZXcgZChcIm9wYWNpdHlcIiwoZT0+ZS5vcGFjaXR5KSkpLG0udmFyeWluZ3MuYWRkKFwidlRleENvb3JkXCIsXCJ2ZWMyXCIpLHYub3V0cHV0PT09ZS5BbHBoYT91LmNvZGUuYWRkKGxgXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgZGlzY2FyZEJ5U2xpY2UodnBvcyk7XG4gICAgICAke3YubXVsdGlwYXNzRW5hYmxlZD9cInRlcnJhaW5EZXB0aFRlc3QoZGVwdGgpO1wiOlwiXCJ9XG5cbiAgICAgIGZsb2F0IGFscGhhID0gdGV4dHVyZSh0ZXgsIHZUZXhDb29yZCkuYSAqIG9wYWNpdHk7XG4gICAgICBpZiAoYWxwaGEgIDwgJHtsLmZsb2F0KHMpfSkge1xuICAgICAgICBkaXNjYXJkO1xuICAgICAgfVxuXG4gICAgICBmcmFnQ29sb3IgPSB2ZWM0KGFscGhhKTtcbiAgICB9XG4gICAgYCk6KHUuaW5jbHVkZShhKSx1LmNvZGUuYWRkKGxgXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgZGlzY2FyZEJ5U2xpY2UodnBvcyk7XG4gICAgICAke3YubXVsdGlwYXNzRW5hYmxlZD9cInRlcnJhaW5EZXB0aFRlc3QoZGVwdGgpO1wiOlwiXCJ9XG4gICAgICBmcmFnQ29sb3IgPSB0ZXh0dXJlKHRleCwgdlRleENvb3JkKSAqIG9wYWNpdHk7XG5cbiAgICAgIGlmIChmcmFnQ29sb3IuYSA8ICR7bC5mbG9hdChzKX0pIHtcbiAgICAgICAgZGlzY2FyZDtcbiAgICAgIH1cblxuICAgICAgZnJhZ0NvbG9yID0gaGlnaGxpZ2h0U2xpY2UoZnJhZ0NvbG9yLCB2cG9zKTtcbiAgICAgICR7di50cmFuc3BhcmVuY3lQYXNzVHlwZT09PWcuQ29sb3I/XCJmcmFnQ29sb3IgPSBwcmVtdWx0aXBseUFscGhhKGZyYWdDb2xvcik7XCI6XCJcIn1cbiAgICB9XG4gICAgYCkpLG19Y29uc3QgbT1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsYnVpbGQ6dn0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHttIGFzIEksdiBhcyBifTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7Zm9yRWFjaCBhcyB0LHJlc3VsdCBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvYXN5bmNVdGlscy5qc1wiO2ltcG9ydHttYWtlSGFuZGxlIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Fib3J0TWF5YmUgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e2RlYm91bmNlIGFzIG4saXNBYm9ydEVycm9yIGFzIG8sb25BYm9ydCBhcyBsLGlzQWJvcnRlZCBhcyBoLGNyZWF0ZUFib3J0RXJyb3IgYXMgbSx0aHJvd0lmQWJvcnRlZCBhcyBjfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3doZW5PbmNlIGFzIGR9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGd9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB1fWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnR7ZXF1YWxzIGFzIGYsY3JlYXRlIGFzIHksd2lkdGggYXMgXyxoZWlnaHQgYXMgdyxjb3B5IGFzIHgsaW50ZXJzZWN0aW9uIGFzIFJ9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtEcmFwZVNvdXJjZVR5cGUgYXMgdn1mcm9tXCIuL2ludGVyZmFjZXMuanNcIjtpbXBvcnR7TGF5ZXJWaWV3M0QgYXMgU31mcm9tXCIuL0xheWVyVmlldzNELmpzXCI7aW1wb3J0e2NvbXB1dGVJbWFnZUV4cG9ydFNpemUgYXMgYixjcmVhdGVHZW9tZXRyeUZvckV4dGVudCBhcyBFLGNyZWF0ZU91dGVySW1hZ2VHZW9tZXRyeSBhcyBqfWZyb21cIi4vc3VwcG9ydC9vdmVybGF5SW1hZ2VVdGlscy5qc1wiO2ltcG9ydHt0b1ZpZXdJZkxvY2FsIGFzIEl9ZnJvbVwiLi9zdXBwb3J0L3Byb2plY3RFeHRlbnRVdGlscy5qc1wiO2ltcG9ydHtkZWJ1Z0ZsYWdzIGFzIEF9ZnJvbVwiLi4vc3VwcG9ydC9kZWJ1Z0ZsYWdzLmpzXCI7aW1wb3J0e092ZXJsYXlJbmRleCBhcyBEfWZyb21cIi4uL3RlcnJhaW4vaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtEaXJ0eU9wZXJhdGlvbiBhcyBMfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvTW9kZWxEaXJ0eVR5cGVzLmpzXCI7aW1wb3J0e1JlbmRlckdlb21ldHJ5IGFzIE19ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2xpYi9SZW5kZXJHZW9tZXRyeS5qc1wiO2ltcG9ydHtUZXh0dXJlIGFzIEN9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2xpYi9UZXh0dXJlLmpzXCI7aW1wb3J0e1VwZGF0ZVBvbGljeSBhcyBUfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvVXBkYXRlUG9saWN5LmpzXCI7aW1wb3J0e0ltYWdlTWF0ZXJpYWwgYXMgUH1mcm9tXCIuLi93ZWJnbC1lbmdpbmUvbWF0ZXJpYWxzL0ltYWdlTWF0ZXJpYWwuanNcIjtpbXBvcnQgRyBmcm9tXCIuLi8uLi9sYXllcnMvTGF5ZXJWaWV3LmpzXCI7aW1wb3J0IE8gZnJvbVwiLi4vLi4vbGF5ZXJzL1JlZnJlc2hhYmxlTGF5ZXJWaWV3LmpzXCI7aW1wb3J0e2lzU2NhbGVSYW5nZUFjdGl2ZSBhcyBVfWZyb21cIi4uLy4uL3N1cHBvcnQvbGF5ZXJWaWV3VXRpbHMuanNcIjtpbXBvcnR7VGV4dHVyZVdyYXBNb2RlIGFzIEh9ZnJvbVwiLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtsZXQgVj1jbGFzcyBleHRlbmRzKE8oUyhHKSkpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmRyYXBlU291cmNlVHlwZT12LlJhc3RlckltYWdlLHRoaXMudXBkYXRlUG9saWN5PVQuU1lOQyx0aGlzLmZ1bGxFeHRlbnRJbkxvY2FsVmlld1NwYXRpYWxSZWZlcmVuY2U9bnVsbCx0aGlzLm1heGltdW1EYXRhUmVzb2x1dGlvbj1udWxsLHRoaXMuX2ltYWdlcz1uZXcgQXJyYXksdGhpcy5fZXh0ZW50cz1uZXcgQXJyYXksdGhpcy5fb3ZlcmxheXM9bmV3IEFycmF5LHRoaXMudXBkYXRlV2hlblN0YXRpb25hcnk9ITAsdGhpcy5fZHJhcGVTb3VyY2VSZW5kZXJlcj1udWxsLHRoaXMucmVmcmVzaERlYm91bmNlZD1uKChhc3luYyBlPT57dGhpcy5kZXN0cm95ZWR8fGF3YWl0IHRoaXMuX2RvUmVmcmVzaChlKS5jYXRjaCgoZT0+e28oZSl8fHMuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGUpfSkpfSksMmUzKX1pbml0aWFsaXplKCl7dGhpcy5fZHJhcGVTb3VyY2VSZW5kZXJlcj10aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4ub3ZlcmxheU1hbmFnZXIucmVnaXN0ZXJHZW9tZXRyeURyYXBlU291cmNlKHRoaXMpLHRoaXMuYWRkSGFuZGxlcyhpKCgoKT0+dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLm92ZXJsYXlNYW5hZ2VyLnVucmVnaXN0ZXJEcmFwZVNvdXJjZSh0aGlzKSkpKSx0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UoSSh0aGlzKS50aGVuKChlPT50aGlzLl9zZXQoXCJmdWxsRXh0ZW50SW5Mb2NhbFZpZXdTcGF0aWFsUmVmZXJlbmNlXCIsZSkpKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuc3VzcGVuZGVkKSwoKCk9PnRoaXMuX3N1c3BlbmRlZENoYW5nZUhhbmRsZXIoKSkpLHRoaXMuYWRkSGFuZGxlcyh0aGlzLnZpZXcucmVzb3VyY2VDb250cm9sbGVyLnNjaGVkdWxlci5yZWdpc3RlcklkbGVTdGF0ZUNhbGxiYWNrcygoKCk9Pnt0aGlzLl9pc1NjYWxlUmFuZ2VBY3RpdmUoKSYmdGhpcy5ub3RpZnlDaGFuZ2UoXCJzdXNwZW5kZWRcIil9KSwoKCk9Pnt9KSkpLHRoaXMuX2lzU2NhbGVSYW5nZUxheWVyKCkmJnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2UpLCgoKT0+dGhpcy5ub3RpZnlDaGFuZ2UoXCJzdXNwZW5kZWRcIikpKX1kZXN0cm95KCl7dGhpcy5jbGVhcigpfXNldERyYXBpbmdFeHRlbnQoZSx0KXt0aGlzLl9zcGF0aWFsUmVmZXJlbmNlPXQsZS5mb3JFYWNoKCgoZSx0KT0+e3RoaXMuX292ZXJsYXlzW3RdPWUsdGhpcy5fdXBkYXRlSW1hZ2VFeHRlbnQoZSx0KX0pKX1fdXBkYXRlSW1hZ2VFeHRlbnQoZSx0KXtjb25zdCByPXRoaXMuX2NsaXBwZWRFeHRlbnQoZS5leHRlbnQseik7aWYobnVsbD09cilyZXR1cm47Y29uc3QgaT1iKGUuZXh0ZW50LHIsZS5yZXNvbHV0aW9uKTtsZXQgYT1lLnBpeGVsUmF0aW8qdGhpcy52aWV3LnN0YXRlLnBpeGVsUmF0aW87Y29uc3R7bGF5ZXI6bn09dGhpcztpZihcImltYWdlTWF4V2lkdGhcImluIG4mJm51bGwhPW4uaW1hZ2VNYXhXaWR0aHx8XCJpbWFnZU1heEhlaWdodFwiaW4gbiYmbnVsbCE9bi5pbWFnZU1heEhlaWdodCl7Y29uc3QgZT1uLmltYWdlTWF4V2lkdGgsdD1uLmltYWdlTWF4SGVpZ2h0O2lmKGkud2lkdGg+ZSl7Y29uc3QgdD1lL2kud2lkdGg7aS5oZWlnaHQ9TWF0aC5mbG9vcihpLmhlaWdodCp0KSxpLndpZHRoPWUsYSo9dH1pZihpLmhlaWdodD50KXtjb25zdCBlPXQvaS5oZWlnaHQ7aS53aWR0aD1NYXRoLmZsb29yKGkud2lkdGgqZSksaS5oZWlnaHQ9dCxhKj1lfX1jb25zdCBsPXRoaXMuX2V4dGVudHNbdF07bCYmZihsLmV4dGVudCxyKSYmdGhpcy5faW1hZ2VTaXplRXF1YWxzKHIsbC5pbWFnZVNpemUsaSl8fCh0aGlzLl9leHRlbnRzW3RdPXtleHRlbnQ6eShyKSxpbWFnZVNpemU6aSxwaXhlbFJhdGlvOmF9LHRoaXMuc3VzcGVuZGVkfHx0aGlzLl9mZXRjaCh0KS5jYXRjaCgoZT0+e28oZSl8fHMuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGUpfSkpKX1jbGVhcigpe2ZvcihsZXQgZT0wO2U8dGhpcy5faW1hZ2VzLmxlbmd0aDtlKyspdGhpcy5fY2xlYXJJbWFnZShlKX1hc3luYyBkb1JlZnJlc2goKXtyZXR1cm4gdGhpcy5fZG9SZWZyZXNoKCl9YXN5bmMgX2RvUmVmcmVzaChlKXtpZih0aGlzLnN1c3BlbmRlZClyZXR1cm47Y29uc3QgdD1bXTtmb3IobGV0IHI9MDtyPHRoaXMuX2V4dGVudHMubGVuZ3RoO3IrKyl0aGlzLl9leHRlbnRzW3JdJiZ0LnB1c2godGhpcy5fZmV0Y2gocixlKSk7YXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHQpfWNhblJlc3VtZSgpe2lmKCFzdXBlci5jYW5SZXN1bWUoKSlyZXR1cm4hMTtjb25zdCBlPXRoaXMubGF5ZXI7aWYodGhpcy5faXNTY2FsZVJhbmdlQWN0aXZlKCkpe2NvbnN0e21pblNjYWxlOnQsbWF4U2NhbGU6cn09ZS5lZmZlY3RpdmVTY2FsZVJhbmdlLGk9dGhpcy52aWV3LnNjYWxlO2lmKGk8cnx8dD4wJiZpPnQpcmV0dXJuITF9cmV0dXJuITB9YXN5bmMgcHJvY2Vzc1Jlc3VsdChlLHQscil7KHQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50fHx0IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpJiYoZS5pbWFnZT10KX1maW5kRXh0ZW50SW5mb0F0KGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2V4dGVudHMpe2NvbnN0IHI9dC5leHRlbnQ7aWYobmV3IHAoclswXSxyWzFdLHJbMl0sclszXSx0aGlzLl9zcGF0aWFsUmVmZXJlbmNlKS5jb250YWlucyhlKSlyZXR1cm4gdH1yZXR1cm4gbnVsbH1nZXRGZXRjaE9wdGlvbnMoKXt9YXN5bmMgcmVkcmF3KGUscil7YXdhaXQgdCh0aGlzLl9pbWFnZXMsKGFzeW5jKHQsaSk9Pnt0JiYoYXdhaXQgZSh0LHIpLGF3YWl0IHRoaXMuX2NyZWF0ZVN0YWdlT2JqZWN0cyhpLHQuaW1hZ2UscikpfSkpfV9pbWFnZVNpemVFcXVhbHMoZSx0LHIpe2lmKCF0aGlzLm1heGltdW1EYXRhUmVzb2x1dGlvbilyZXR1cm4hMTtjb25zdCBpPV8oZSkvdGhpcy5tYXhpbXVtRGF0YVJlc29sdXRpb24ueCxzPXcoZSkvdGhpcy5tYXhpbXVtRGF0YVJlc29sdXRpb24ueSxhPWkvdC53aWR0aCxuPXMvdC5oZWlnaHQsbz1pL3Iud2lkdGgsbD1zL3IuaGVpZ2h0LGg9TWF0aC5hYnMoYS1vKSxtPU1hdGguYWJzKG4tbCksYz1BLlRFU1RTX0RJU0FCTEVfT1BUSU1JWkFUSU9OUz8wOjEuNTtyZXR1cm4gaDw9YyYmbTw9Y31hc3luYyBfZmV0Y2goZSx0KXtpZih0aGlzLnN1c3BlbmRlZClyZXR1cm47Y29uc3Qgcj10aGlzLl9leHRlbnRzW2VdLGk9ci5leHRlbnQ7dGhpcy5faW1hZ2VzW2VdfHwodGhpcy5faW1hZ2VzW2VdPXt0ZXh0dXJlOm51bGwsbWF0ZXJpYWw6bnVsbCxyZW5kZXJHZW9tZXRyeTpudWxsLGxvYWRpbmdQcm9taXNlOm51bGwsbG9hZGluZ0Fib3J0Q29udHJvbGxlcjpudWxsLGltYWdlOm51bGwscGl4ZWxEYXRhOm51bGwscmVuZGVyRXh0ZW50OnkoaSl9KTtjb25zdCBuPXRoaXMuX2ltYWdlc1tlXTtuLmxvYWRpbmdBYm9ydENvbnRyb2xsZXI9YShuLmxvYWRpbmdBYm9ydENvbnRyb2xsZXIpO2NvbnN0IGQ9bmV3IHAoaVswXSxpWzFdLGlbMl0saVszXSx0aGlzLl9zcGF0aWFsUmVmZXJlbmNlKTtpZigwPT09ZC53aWR0aHx8MD09PWQuaGVpZ2h0KXJldHVybiB2b2lkIHRoaXMuX2NsZWFySW1hZ2UoZSk7Y29uc3QgZz1uZXcgQWJvcnRDb250cm9sbGVyO24ubG9hZGluZ0Fib3J0Q29udHJvbGxlcj1nLGwodCwoKCk9PmcuYWJvcnQoKSkpO2NvbnN0IHU9Zy5zaWduYWwsZj10aGlzLl93YWl0RmV0Y2hSZWFkeSh1KS50aGVuKChhc3luYygpPT57Y29uc3QgdD17cmVxdWVzdEFzSW1hZ2VFbGVtZW50OiEwLHBpeGVsUmF0aW86dGhpcy5fb3ZlcmxheXNbZV0ucGl4ZWxSYXRpbywuLi50aGlzLmdldEZldGNoT3B0aW9ucygpLHNpZ25hbDp1fSx7aGVpZ2h0Omksd2lkdGg6c309ci5pbWFnZVNpemU7cmV0dXJuIHRoaXMubGF5ZXIuZmV0Y2hJbWFnZShkLHMsaSx0KX0pKS50aGVuKChlPT57aWYoaCh1KSl0aHJvdyBzLmdldExvZ2dlcih0aGlzKS53YXJuT25jZShcIkEgY2FsbCB0byBmZXRjaEltYWdlIHJlc29sdmVkIGV2ZW4gdGhvdWdoIHRoZSByZXF1ZXN0IHdhcyBhYm9ydGVkLiBmZXRjaEltYWdlIHNob3VsZCBub3QgcmVzb2x2ZSBpZiBvcHRpb25zLnNpZ25hbC5hYm9ydGVkIGlzIHRydWUuXCIpLG0oKTtyZXR1cm4gdGhpcy5wcm9jZXNzUmVzdWx0KG4sZSl9KSkudGhlbigoKCk9Pnt4KG4ucmVuZGVyRXh0ZW50LGkpfSkpO24ubG9hZGluZ1Byb21pc2U9Zixhd2FpdCB0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZShmLnRoZW4oKGFzeW5jKCk9PntjKHUpLGF3YWl0IHRoaXMuX2NyZWF0ZVN0YWdlT2JqZWN0cyhlLG4uaW1hZ2UsdSl9KSkuY2F0Y2goKGU9Pnt0aHJvdyBlJiYhbyhlKSYmcy5nZXRMb2dnZXIodGhpcykuZXJyb3IoZSksZX0pKS5maW5hbGx5KCgoKT0+e2Y9PT1uLmxvYWRpbmdQcm9taXNlJiYobi5sb2FkaW5nUHJvbWlzZT1udWxsLG4ubG9hZGluZ0Fib3J0Q29udHJvbGxlcj1udWxsKX0pKSl9X2NsZWFySW1hZ2UoZSl7Y29uc3QgdD10aGlzLl9pbWFnZXNbZV07aWYodCl7bnVsbCE9dC5yZW5kZXJHZW9tZXRyeSYmKHRoaXMuX2RyYXBlU291cmNlUmVuZGVyZXIucmVtb3ZlR2VvbWV0cmllcyhbdC5yZW5kZXJHZW9tZXRyeV0sTC5VUERBVEUpLHQucmVuZGVyR2VvbWV0cnk9bnVsbCk7Y29uc3QgZT10aGlzLnZpZXcuX3N0YWdlLHI9dC50ZXh0dXJlO3I/LnVubG9hZCgpLGUucmVtb3ZlKHIpLHQudGV4dHVyZT1udWxsLGUucmVtb3ZlKHQubWF0ZXJpYWwpLHQubWF0ZXJpYWw9bnVsbCx0LmxvYWRpbmdBYm9ydENvbnRyb2xsZXI9YSh0LmxvYWRpbmdBYm9ydENvbnRyb2xsZXIpLHQubG9hZGluZ1Byb21pc2U9bnVsbCx0LmltYWdlPW51bGwsdC5waXhlbERhdGE9bnVsbH19YXN5bmMgX2NyZWF0ZVN0YWdlT2JqZWN0cyhlLHQsaSl7Y29uc3Qgcz10aGlzLnZpZXcuX3N0YWdlLGE9dGhpcy5faW1hZ2VzW2VdLG49KCk9PnthLnRleHR1cmU/LnVubG9hZCgpLHMucmVtb3ZlKGEudGV4dHVyZSksYS50ZXh0dXJlPW51bGwsYS5yZW5kZXJHZW9tZXRyeSYmKHRoaXMuX2RyYXBlU291cmNlUmVuZGVyZXIucmVtb3ZlR2VvbWV0cmllcyhbYS5yZW5kZXJHZW9tZXRyeV0sTC5VUERBVEUpLGEucmVuZGVyR2VvbWV0cnk9bnVsbCl9O2lmKHQpe2NvbnN0IG89bmV3IEModCx7d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHQscHJlTXVsdGlwbHlBbHBoYTohMCx3cmFwOntzOkguQ0xBTVBfVE9fRURHRSx0OkguQ0xBTVBfVE9fRURHRX19KTtsZXQgbDtpZihhd2FpdCByKHRoaXMuX2ltYWdlc1tlPT09RC5JTk5FUj9ELk9VVEVSOkQuSU5ORVJdLmxvYWRpbmdQcm9taXNlKSxjKGkpLG4oKSxhd2FpdCBzLnNjaGVkdWxlKCgoKT0+by5sb2FkKHMucmVuZGVyVmlldy5yZW5kZXJpbmdDb250ZXh0KSksaSkscy5hZGQobyksYS50ZXh0dXJlPW8sbnVsbD09YS5tYXRlcmlhbD8oYS5tYXRlcmlhbD1uZXcgUCh7dHJhbnNwYXJlbnQ6ITAsdGV4dHVyZUlkOm8uaWR9KSxzLmFkZChhLm1hdGVyaWFsKSk6YS5tYXRlcmlhbC5zZXRQYXJhbWV0ZXJzKHt0ZXh0dXJlSWQ6by5pZH0pLGU9PT1ELklOTkVSKWw9RShhLm1hdGVyaWFsLGEucmVuZGVyRXh0ZW50KTtlbHNle2NvbnN0IGU9dGhpcy5faW1hZ2VzWzBdLnJlbmRlckV4dGVudDtpZighZSlyZXR1cm4gdm9pZCBuKCk7bD1qKGEubWF0ZXJpYWwsZSxhLnJlbmRlckV4dGVudCl9YS5yZW5kZXJHZW9tZXRyeT1uZXcgTShsKSxhLnJlbmRlckdlb21ldHJ5LmxvY2FsT3JpZ2luPXRoaXMuX292ZXJsYXlzW2VdLnJlbmRlckxvY2FsT3JpZ2luLHRoaXMuX2RyYXBlU291cmNlUmVuZGVyZXIuYWRkR2VvbWV0cmllcyhbYS5yZW5kZXJHZW9tZXRyeV0sTC5VUERBVEUpfWVsc2UgbigpLHMucmVtb3ZlKGEubWF0ZXJpYWwpLGEubWF0ZXJpYWw9bnVsbH1faXNTY2FsZVJhbmdlTGF5ZXIoKXtyZXR1cm5cImVmZmVjdGl2ZVNjYWxlUmFuZ2VcImluIHRoaXMubGF5ZXJ9X2lzU2NhbGVSYW5nZUFjdGl2ZSgpe2NvbnN0IGU9dGhpcy5sYXllcjtpZighdGhpcy5faXNTY2FsZVJhbmdlTGF5ZXIoKSlyZXR1cm4hMTtjb25zdHttaW5TY2FsZTp0LG1heFNjYWxlOnJ9PWUuZWZmZWN0aXZlU2NhbGVSYW5nZTtyZXR1cm4gVSh0LHIpfV9jbGlwcGVkRXh0ZW50KGUsdCl7aWYoXCJsb2NhbFwiIT09dGhpcy52aWV3LnZpZXdpbmdNb2RlKXJldHVybiB4KHQsZSk7Y29uc3Qgcj10aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW47cmV0dXJuIHIucmVhZHk/UihlLHIuZXh0ZW50LHQpOngodCxlKX1fc3VzcGVuZGVkQ2hhbmdlSGFuZGxlcigpe3RoaXMuc3VzcGVuZGVkP3RoaXMuY2xlYXIoKTp0aGlzLnJlZnJlc2hEZWJvdW5jZWQoKX1hc3luYyBfd2FpdEZldGNoUmVhZHkoZSl7YXdhaXQgZCgoKCk9PnRoaXMudmlldy5zdGF0aW9uYXJ5KSxlKSxjKGUpfX07ZShbZygpXSxWLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFtnKCldLFYucHJvdG90eXBlLFwic3VzcGVuZGVkXCIsdm9pZCAwKSxlKFtnKHtyZWFkT25seTohMH0pXSxWLnByb3RvdHlwZSxcImZ1bGxFeHRlbnRJbkxvY2FsVmlld1NwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLGUoW2coKV0sVi5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLHZvaWQgMCksVj1lKFt1KFwiZXNyaS52aWV3cy4zZC5sYXllcnMuRHluYW1pY0xheWVyVmlldzNEXCIpXSxWKTtjb25zdCBOPVYsej15KCk7ZXhwb3J0e04gYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2hlbk9uY2UgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtzdXBwb3J0c0hlaWdodE1vZGVsSW5mbyBhcyBhLHJlamVjdExheWVyRXJyb3IgYXMgbH1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2hlaWdodE1vZGVsSW5mb1V0aWxzLmpzXCI7Y29uc3Qgbj1uPT57bGV0IGM9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnNsaWNlUGxhbmVFbmFibGVkPSExLHRoaXMuc3VwcG9ydHNIZWlnaHRVbml0Q29udmVyc2lvbj0hMX1wb3N0c2NyaXB0KGUpe3N1cGVyLnBvc3RzY3JpcHQoZSksYSh0aGlzLmxheWVyKSYmdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMuX3ZhbGlkYXRlSGVpZ2h0TW9kZWxJbmZvKCkpfWFzeW5jIF92YWxpZGF0ZUhlaWdodE1vZGVsSW5mbygpe2NvbnN0IGU9bmV3IEFib3J0Q29udHJvbGxlcixvPWUuc2lnbmFsO3RoaXMuYWRkSGFuZGxlcyhzKCgoKT0+ZS5hYm9ydCgpKSkpLGF3YWl0IHIoKCgpPT50aGlzLnZpZXcuZGVmYXVsdHNGcm9tTWFwPy5oZWlnaHRNb2RlbEluZm9SZWFkeSksbyksdChvKTtjb25zdCBpPWwodGhpcy5sYXllcix0aGlzLnZpZXcuaGVpZ2h0TW9kZWxJbmZvLHRoaXMuc3VwcG9ydHNIZWlnaHRVbml0Q29udmVyc2lvbik7aWYoaSl0aHJvdyBpfWNhblJlc3VtZSgpe2NvbnN0IGU9dGhpcy5sYXllciYmXCJlZmZlY3RpdmVTY2FsZVJhbmdlXCJpbiB0aGlzLmxheWVyP3RoaXMubGF5ZXIuZWZmZWN0aXZlU2NhbGVSYW5nZTpudWxsO3JldHVybiBzdXBlci5jYW5SZXN1bWUoKSYmKCFlPy5taW5TY2FsZXx8IWUubWF4U2NhbGV8fGUubWluU2NhbGU+PWUubWF4U2NhbGUpfWdldFN1c3BlbmRJbmZvKCl7Y29uc3QgZT1zdXBlci5nZXRTdXNwZW5kSW5mbygpLHM9dGhpcy5sYXllciYmXCJlZmZlY3RpdmVTY2FsZVJhbmdlXCJpbiB0aGlzLmxheWVyP3RoaXMubGF5ZXIuZWZmZWN0aXZlU2NhbGVSYW5nZTpudWxsO3JldHVybiBzJiZzLm1pblNjYWxlJiZzLm1heFNjYWxlJiZzLm1pblNjYWxlPHMubWF4U2NhbGUmJihlLm91dHNpZGVTY2FsZVJhbmdlPSEwKSxlfX07cmV0dXJuIGUoW28oKV0sYy5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtvKCldLGMucHJvdG90eXBlLFwic2xpY2VQbGFuZUVuYWJsZWRcIix2b2lkIDApLGM9ZShbaShcImVzcmkudmlld3MuM2QubGF5ZXJzLkxheWVyVmlldzNEXCIpXSxjKSxjfTtleHBvcnR7biBhcyBMYXllclZpZXczRH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3dpZHRoIGFzIHQsaGVpZ2h0IGFzIGUsaW50ZXJzZWN0cyBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7bmV3RG91YmxlQXJyYXkgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L0RvdWJsZUFycmF5LmpzXCI7aW1wb3J0e25ld0Zsb2F0QXJyYXkgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L0Zsb2F0QXJyYXkuanNcIjtpbXBvcnR7QXR0cmlidXRlIGFzIGl9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9BdHRyaWJ1dGUuanNcIjtpbXBvcnR7R2VvbWV0cnkgYXMgbX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0dlb21ldHJ5LmpzXCI7aW1wb3J0e2NyZWF0ZVNxdWFyZUdlb21ldHJ5IGFzIGh9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9HZW9tZXRyeVV0aWwuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIGd9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtmdW5jdGlvbiB1KHIsbyxuKXtjb25zdCBpPXQocikvZShyKSxtPXt3aWR0aDpuLGhlaWdodDpufTtyZXR1cm4gaT4xLjAwMDE/bS5oZWlnaHQ9bi9pOmk8Ljk5OTkmJihtLndpZHRoPW4qaSksbS53aWR0aD1NYXRoLnJvdW5kKG0ud2lkdGgvKHQocikvdChvKSkpLG0uaGVpZ2h0PU1hdGgucm91bmQobS5oZWlnaHQvKGUocikvZShvKSkpLG19ZnVuY3Rpb24gbCh0LGUpe3JldHVybiBoKHQsW1tlWzBdLGVbMV0sLTFdLFtlWzJdLGVbMV0sLTFdLFtlWzJdLGVbM10sLTFdLFtlWzBdLGVbM10sLTFdXSl9ZnVuY3Rpb24gcyh0LGUsaCl7aWYoIXIoZSxoKSlyZXR1cm4gbCh0LGgpO2NvbnN0IHU9W2VbMV0taFsxXSxNYXRoLm1pbihlWzNdLGhbM10pLU1hdGgubWF4KGVbMV0saFsxXSksaFszXS1lWzNdLDEyMzQ1Nl0scz1bZVswXS1oWzBdLE1hdGgubWluKGVbMl0saFsyXSktTWF0aC5tYXgoZVswXSxoWzBdKSxoWzJdLWVbMl0sMTIzNDU2XSxmPWhbMl0taFswXSxwPWhbM10taFsxXSx3PXNbMF0+MCYmc1syXT4wPzM6MixiPXVbMF0+MCYmdVsyXT4wPzM6MixjPShiKzEpKih3KzEpLHk9bygzKmMpLGQ9bigyKmMpLGo9bmV3IEFycmF5KDYqKGIqdy0xKSk7bGV0IEE9MCxNPTAseD0wLE89MCxHPTA7Zm9yKGxldCByPTA7cjw0O3IrKyl7Y29uc3QgdD11W3JdO2lmKHQ8PTApY29udGludWU7bGV0IGU9MDtmb3IobGV0IG89MDtvPDQ7bysrKXtjb25zdCB0PXNbb107dDw9MHx8KHlbTSsrXT1oWzBdK2UseVtNKytdPWhbMV0rQSx5W00rK109LTEsZFt4KytdPWUvZixkW3grK109QS9wLG88MyYmcjwzJiYoMSE9PW98fDEhPT1yKSYmKGpbRysrXT1PLGpbRysrXT1PKzEsaltHKytdPU8rdysxLGpbRysrXT1PKzEsaltHKytdPU8rdysyLGpbRysrXT1PK3crMSksTysrLGUrPXQpfUErPXR9Y29uc3QgST1uZXcgQXJyYXkoai5sZW5ndGgpO3JldHVybiBuZXcgbSh0LFtbZy5QT1NJVElPTixuZXcgaSh5LGosMywhMCldLFtnLk5PUk1BTCxuZXcgaShhLEksMywhMCldLFtnLlVWMCxuZXcgaShkLGosMiwhMCldXSl9Y29uc3QgYT1bMCwwLDFdO2V4cG9ydHt1IGFzIGNvbXB1dGVJbWFnZUV4cG9ydFNpemUsbCBhcyBjcmVhdGVHZW9tZXRyeUZvckV4dGVudCxzIGFzIGNyZWF0ZU91dGVySW1hZ2VHZW9tZXRyeX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3Byb2plY3QgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3dlYk1lcmNhdG9yVXRpbHMuanNcIjtpbXBvcnR7cHJvamVjdEdlb21ldHJ5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vcG9ydGFsL3N1cHBvcnQvZ2VvbWV0cnlTZXJ2aWNlVXRpbHMuanNcIjtmdW5jdGlvbiBsKGwpe2NvbnN0IHQ9bC52aWV3LnNwYXRpYWxSZWZlcmVuY2Usbz1sLmxheWVyLmZ1bGxFeHRlbnQscz1udWxsIT1vJiZvLnNwYXRpYWxSZWZlcmVuY2U7aWYobnVsbD09b3x8IXMpcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtpZihzLmVxdWFscyh0KSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG8uY2xvbmUoKSk7Y29uc3Qgbj1lKG8sdCk7cmV0dXJuIG51bGwhPW4/UHJvbWlzZS5yZXNvbHZlKG4pOmwudmlldy5zdGF0ZS5pc0xvY2FsP3Iobyx0LGwubGF5ZXIucG9ydGFsSXRlbSkudGhlbigoZT0+IWwuZGVzdHJveWVkJiZlP2U6bnVsbCkpLmNhdGNoKCgoKT0+bnVsbCkpOlByb21pc2UucmVzb2x2ZShudWxsKX1leHBvcnR7bCBhcyB0b1ZpZXdJZkxvY2FsfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7QnVmZmVyVmlld0Zsb2F0IGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9idWZmZXIvQnVmZmVyVmlldy5qc1wiO2ltcG9ydHtTaGFkZXJPdXRwdXQgYXMgZX1mcm9tXCIuLi9jb3JlL3NoYWRlckxpYnJhcnkvU2hhZGVyT3V0cHV0LmpzXCI7aW1wb3J0e0N1bGxGYWNlT3B0aW9ucyBhcyByfWZyb21cIi4uL2xpYi9iYXNpY0ludGVyZmFjZXMuanNcIjtpbXBvcnR7R0xUZXh0dXJlTWF0ZXJpYWwgYXMgc31mcm9tXCIuLi9saWIvR0xUZXh0dXJlTWF0ZXJpYWwuanNcIjtpbXBvcnR7TWF0ZXJpYWxQYXJhbWV0ZXJzIGFzIGl9ZnJvbVwiLi4vbGliL01hdGVyaWFsLmpzXCI7aW1wb3J0e09JVFBvbHlnb25PZmZzZXRMaW1pdCBhcyBhfWZyb21cIi4uL2xpYi9PcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5LmpzXCI7aW1wb3J0e1JlbmRlclNsb3QgYXMgbn1mcm9tXCIuLi9saWIvUmVuZGVyU2xvdC5qc1wiO2ltcG9ydHthc3NlcnQgYXMgb31mcm9tXCIuLi9saWIvVXRpbC5qc1wiO2ltcG9ydHtWZXJ0ZXhBdHRyaWJ1dGUgYXMgdX1mcm9tXCIuLi9saWIvVmVydGV4QXR0cmlidXRlLmpzXCI7aW1wb3J0e0RlZmF1bHRCdWZmZXJXcml0ZXIgYXMgbH1mcm9tXCIuL0RlZmF1bHRCdWZmZXJXcml0ZXIuanNcIjtpbXBvcnR7UG9zaXRpb25VVkxheW91dCBhcyBwfWZyb21cIi4vRGVmYXVsdExheW91dHMuanNcIjtpbXBvcnR7VHJpYW5nbGVNYXRlcmlhbCBhcyBjfWZyb21cIi4vVHJpYW5nbGVNYXRlcmlhbC5qc1wiO2ltcG9ydHt3cml0ZUJ1ZmZlckZsb2F0IGFzIGgsd3JpdGVEZWZhdWx0QXR0cmlidXRlIGFzIG19ZnJvbVwiLi9pbnRlcm5hbC9idWZmZXJXcml0ZXJVdGlscy5qc1wiO2ltcG9ydHt2ZXJ0ZXhBdHRyaWJ1dGVMb2NhdGlvbnMgYXMgZixJbWFnZU1hdGVyaWFsVGVjaG5pcXVlQ29uZmlndXJhdGlvbiBhcyBkLEltYWdlTWF0ZXJpYWxUZWNobmlxdWUgYXMgX31mcm9tXCIuLi9zaGFkZXJzL0ltYWdlTWF0ZXJpYWxUZWNobmlxdWUuanNcIjtjbGFzcyBnIGV4dGVuZHMgY3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LG5ldyBUKSx0aGlzLnN1cHBvcnRzRWRnZXM9ITAsdGhpcy5fdmVydGV4QXR0cmlidXRlTG9jYXRpb25zPWYsdGhpcy5fY29uZmlndXJhdGlvbj1uZXcgZH1nZXRDb25maWd1cmF0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2NvbmZpZ3VyYXRpb24ub3V0cHV0PXQsdGhpcy5fY29uZmlndXJhdGlvbi5jdWxsRmFjZT10aGlzLnBhcmFtZXRlcnMuY3VsbEZhY2UsdGhpcy5fY29uZmlndXJhdGlvbi5oYXNTbGljZVBsYW5lPXRoaXMucGFyYW1ldGVycy5oYXNTbGljZVBsYW5lLHRoaXMuX2NvbmZpZ3VyYXRpb24udHJhbnNwYXJlbnQ9dGhpcy5wYXJhbWV0ZXJzLnRyYW5zcGFyZW50LHRoaXMuX2NvbmZpZ3VyYXRpb24ud3JpdGVEZXB0aD10aGlzLnBhcmFtZXRlcnMud3JpdGVEZXB0aCx0aGlzLl9jb25maWd1cmF0aW9uLmhhc09jY2x1ZGVlcz10aGlzLnBhcmFtZXRlcnMuaGFzT2NjbHVkZWVzLHRoaXMuX2NvbmZpZ3VyYXRpb24udHJhbnNwYXJlbmN5UGFzc1R5cGU9ZS50cmFuc3BhcmVuY3lQYXNzVHlwZSx0aGlzLl9jb25maWd1cmF0aW9uLmVuYWJsZU9mZnNldD1lLmNhbWVyYS5yZWxhdGl2ZUVsZXZhdGlvbjxhLHRoaXMuX2NvbmZpZ3VyYXRpb24ubXVsdGlwYXNzRW5hYmxlZD1lLm11bHRpcGFzc0VuYWJsZWQsdGhpcy5fY29uZmlndXJhdGlvbi5jdWxsQWJvdmVHcm91bmQ9ZS5tdWx0aXBhc3NUZXJyYWluLmN1bGxBYm92ZUdyb3VuZCx0aGlzLl9jb25maWd1cmF0aW9uLnBlcnNwZWN0aXZlSW50ZXJwb2xhdGlvbj10aGlzLnBhcmFtZXRlcnMucGVyc3BlY3RpdmVJbnRlcnBvbGF0aW9uLHRoaXMuX2NvbmZpZ3VyYXRpb259cHJvZHVjZXModCxyKXtpZihyPT09ZS5Db2xvcnx8cj09PWUuQWxwaGF8fHI9PT1lLkhpZ2hsaWdodCl7aWYodD09PW4uRFJBUEVEX01BVEVSSUFMKXJldHVybiEwO2lmKHI9PT1lLkhpZ2hsaWdodClyZXR1cm4gdD09PW4uT1BBUVVFX01BVEVSSUFMO3JldHVybiB0PT09KHRoaXMucGFyYW1ldGVycy50cmFuc3BhcmVudD90aGlzLnBhcmFtZXRlcnMud3JpdGVEZXB0aD9uLlRSQU5TUEFSRU5UX01BVEVSSUFMOm4uVFJBTlNQQVJFTlRfREVQVEhfV1JJVEVfRElTQUJMRURfTUFURVJJQUw6bi5PUEFRVUVfTUFURVJJQUwpfXJldHVybiExfWNyZWF0ZUdMTWF0ZXJpYWwodCl7cmV0dXJuIG5ldyBFKHQpfWNyZWF0ZUJ1ZmZlcldyaXRlcigpe2NvbnN0IHQ9cC5jbG9uZSgpO3JldHVybiB0aGlzLnBhcmFtZXRlcnMucGVyc3BlY3RpdmVJbnRlcnBvbGF0aW9uJiZ0LmYzMih1LlBFUlNQRUNUSVZFRElWSURFKSxuZXcgQSh0KX19Y2xhc3MgRSBleHRlbmRzIHN7Y29uc3RydWN0b3IodCl7c3VwZXIoey4uLnQsLi4udC5tYXRlcmlhbC5wYXJhbWV0ZXJzfSl9X3VwZGF0ZVBhcmFtZXRlcnModCl7cmV0dXJuIHRoaXMudXBkYXRlVGV4dHVyZSh0aGlzLl9tYXRlcmlhbC5wYXJhbWV0ZXJzLnRleHR1cmVJZCksdGhpcy5fbWF0ZXJpYWwuc2V0UGFyYW1ldGVycyh0aGlzLnRleHR1cmVCaW5kUGFyYW1ldGVycyksdGhpcy5lbnN1cmVUZWNobmlxdWUoXyx0KX1fdXBkYXRlT2NjbHVkZWVTdGF0ZSh0KXt0Lmhhc09jY2x1ZGVlcyE9PXRoaXMuX21hdGVyaWFsLnBhcmFtZXRlcnMuaGFzT2NjbHVkZWVzJiYodGhpcy5fbWF0ZXJpYWwuc2V0UGFyYW1ldGVycyh7aGFzT2NjbHVkZWVzOnQuaGFzT2NjbHVkZWVzfSksdGhpcy5fdXBkYXRlUGFyYW1ldGVycyh0KSl9YmVnaW5TbG90KHQpe3JldHVybiB0aGlzLl9vdXRwdXQhPT1lLkNvbG9yJiZ0aGlzLl9vdXRwdXQhPT1lLkFscGhhfHx0aGlzLl91cGRhdGVPY2NsdWRlZVN0YXRlKHQpLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnModCl9fWNsYXNzIEEgZXh0ZW5kcyBse3dyaXRlKGUscixzLGksYSl7Zm9yKGNvbnN0IG4gb2YgdGhpcy52ZXJ0ZXhCdWZmZXJMYXlvdXQuZmllbGRzLmtleXMoKSl7Y29uc3QgbD1zLmF0dHJpYnV0ZXMuZ2V0KG4pO2lmKGwpaWYobj09PXUuUEVSU1BFQ1RJVkVESVZJREUpe28oMT09PWwuc2l6ZSk7Y29uc3QgZT1pLmdldEZpZWxkKG4sdCk7ZSYmaChsLGUsYSl9ZWxzZSBtKG4sbCxlLHIsaSxhKX19fWNsYXNzIFQgZXh0ZW5kcyBpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnRyYW5zcGFyZW50PSExLHRoaXMud3JpdGVEZXB0aD0hMCx0aGlzLmhhc1NsaWNlUGxhbmU9ITEsdGhpcy5jdWxsRmFjZT1yLk5vbmUsdGhpcy5oYXNPY2NsdWRlZXM9ITEsdGhpcy5vcGFjaXR5PTEsdGhpcy50ZXh0dXJlSWQ9bnVsbCx0aGlzLmluaXRUZXh0dXJlVHJhbnNwYXJlbnQ9ITAsdGhpcy5wZXJzcGVjdGl2ZUludGVycG9sYXRpb249ITF9fWV4cG9ydHtnIGFzIEltYWdlTWF0ZXJpYWwsVCBhcyBQYXJhbWV0ZXJzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7U2hhZGVyT3V0cHV0IGFzIHR9ZnJvbVwiLi4vY29yZS9zaGFkZXJMaWJyYXJ5L1NoYWRlck91dHB1dC5qc1wiO2ltcG9ydHtOb1BhcmFtZXRlcnMgYXMgcn1mcm9tXCIuLi9jb3JlL3NoYWRlck1vZHVsZXMvaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtSZWxvYWRhYmxlU2hhZGVyTW9kdWxlIGFzIG99ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvUmVsb2FkYWJsZVNoYWRlck1vZHVsZS5qc1wiO2ltcG9ydHtTaGFkZXJUZWNobmlxdWUgYXMgaX1mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWUuanNcIjtpbXBvcnR7cGFyYW1ldGVyIGFzIHN9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvU2hhZGVyVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtDdWxsRmFjZU9wdGlvbnMgYXMgbn1mcm9tXCIuLi9saWIvYmFzaWNJbnRlcmZhY2VzLmpzXCI7aW1wb3J0e29pdEJsZW5kaW5nIGFzIGEsb2l0RGVwdGhUZXN0IGFzIGwsb2l0RGVwdGhXcml0ZSBhcyBwLGdldE9JVFBvbHlnb25PZmZzZXQgYXMgY31mcm9tXCIuLi9saWIvT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeS5qc1wiO2ltcG9ydHtQcm9ncmFtIGFzIHV9ZnJvbVwiLi4vbGliL1Byb2dyYW0uanNcIjtpbXBvcnR7c3RlbmNpbFdyaXRlTWFza09uIGFzIGgsc3RlbmNpbFRvb2xNYXNrQmFzZVBhcmFtcyBhcyBkLHN0ZW5jaWxCYXNlQWxsWmVyb3NQYXJhbXMgYXMgbX1mcm9tXCIuLi9saWIvU3RlbmNpbFV0aWxzLmpzXCI7aW1wb3J0e1RyYW5zcGFyZW5jeVBhc3NUeXBlIGFzIGZ9ZnJvbVwiLi4vbGliL1RyYW5zcGFyZW5jeVBhc3NUeXBlLmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyB5fWZyb21cIi4uL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7RGVmYXVsdFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24gYXMgYn1mcm9tXCIuLi9tYXRlcmlhbHMvRGVmYXVsdFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7SSBhcyBQfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9JbWFnZU1hdGVyaWFsLmdsc2wuanNcIjtpbXBvcnR7QmxlbmRGYWN0b3IgYXMgZ31mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtzaW1wbGVCbGVuZGluZ1BhcmFtcyBhcyBULG1ha2VQaXBlbGluZVN0YXRlIGFzIE8sY3VsbGluZ1BhcmFtcyBhcyBqLGRlZmF1bHREZXB0aFdyaXRlUGFyYW1zIGFzIFMsZGVmYXVsdENvbG9yV3JpdGVQYXJhbXMgYXMgdn1mcm9tXCIuLi8uLi8uLi93ZWJnbC9yZW5kZXJTdGF0ZS5qc1wiO2NsYXNzIEkgZXh0ZW5kcyBye31jbGFzcyBOIGV4dGVuZHMgaXtpbml0aWFsaXplUHJvZ3JhbShlKXtyZXR1cm4gbmV3IHUoZS5yY3R4LE4uc2hhZGVyLmdldCgpLmJ1aWxkKHRoaXMuY29uZmlndXJhdGlvbiksXyl9X3NldFBpcGVsaW5lU3RhdGUoZSxyKXtjb25zdCBvPXRoaXMuY29uZmlndXJhdGlvbixpPWU9PT1mLk5PTkUscz1lPT09Zi5Gcm9udEZhY2U7cmV0dXJuIE8oe2JsZW5kaW5nOm8ub3V0cHV0IT09dC5Db2xvciYmby5vdXRwdXQhPT10LkFscGhhfHwhby50cmFuc3BhcmVudD9udWxsOmk/RTphKGUpLGN1bGxpbmc6aihvLmN1bGxGYWNlKSxkZXB0aFRlc3Q6e2Z1bmM6bChlKX0sZGVwdGhXcml0ZTppP28ud3JpdGVEZXB0aD9TOm51bGw6cChlKSxjb2xvcldyaXRlOnYsc3RlbmNpbFdyaXRlOm8uaGFzT2NjbHVkZWVzP2g6bnVsbCxzdGVuY2lsVGVzdDpvLmhhc09jY2x1ZGVlcz9yP2Q6bTpudWxsLHBvbHlnb25PZmZzZXQ6aXx8cz9udWxsOmMoby5lbmFibGVPZmZzZXQpfSl9aW5pdGlhbGl6ZVBpcGVsaW5lKCl7cmV0dXJuIHRoaXMuX29jY2x1ZGVlUGlwZWxpbmVTdGF0ZT10aGlzLl9zZXRQaXBlbGluZVN0YXRlKHRoaXMuY29uZmlndXJhdGlvbi50cmFuc3BhcmVuY3lQYXNzVHlwZSwhMCksdGhpcy5fc2V0UGlwZWxpbmVTdGF0ZSh0aGlzLmNvbmZpZ3VyYXRpb24udHJhbnNwYXJlbmN5UGFzc1R5cGUsITEpfWdldFBpcGVsaW5lKGUpe3JldHVybiBlP3RoaXMuX29jY2x1ZGVlUGlwZWxpbmVTdGF0ZTpzdXBlci5nZXRQaXBlbGluZSgpfX1OLnNoYWRlcj1uZXcgbyhQLCgoKT0+aW1wb3J0KFwiLi9JbWFnZU1hdGVyaWFsLmdsc2wuanNcIikpKTtjb25zdCBFPVQoZy5PTkUsZy5PTkVfTUlOVVNfU1JDX0FMUEhBKTtjbGFzcyBDIGV4dGVuZHMgYntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5vdXRwdXQ9dC5Db2xvcix0aGlzLmN1bGxGYWNlPW4uTm9uZSx0aGlzLmhhc1NsaWNlUGxhbmU9ITEsdGhpcy50cmFuc3BhcmVudD0hMSx0aGlzLmVuYWJsZU9mZnNldD0hMCx0aGlzLndyaXRlRGVwdGg9ITAsdGhpcy5oYXNPY2NsdWRlZXM9ITEsdGhpcy50cmFuc3BhcmVuY3lQYXNzVHlwZT1mLk5PTkUsdGhpcy5tdWx0aXBhc3NFbmFibGVkPSExLHRoaXMuY3VsbEFib3ZlR3JvdW5kPSExLHRoaXMucGVyc3BlY3RpdmVJbnRlcnBvbGF0aW9uPSEwfX1lKFtzKHtjb3VudDp0LkNPVU5UfSldLEMucHJvdG90eXBlLFwib3V0cHV0XCIsdm9pZCAwKSxlKFtzKHtjb3VudDpuLkNPVU5UfSldLEMucHJvdG90eXBlLFwiY3VsbEZhY2VcIix2b2lkIDApLGUoW3MoKV0sQy5wcm90b3R5cGUsXCJoYXNTbGljZVBsYW5lXCIsdm9pZCAwKSxlKFtzKCldLEMucHJvdG90eXBlLFwidHJhbnNwYXJlbnRcIix2b2lkIDApLGUoW3MoKV0sQy5wcm90b3R5cGUsXCJlbmFibGVPZmZzZXRcIix2b2lkIDApLGUoW3MoKV0sQy5wcm90b3R5cGUsXCJ3cml0ZURlcHRoXCIsdm9pZCAwKSxlKFtzKCldLEMucHJvdG90eXBlLFwiaGFzT2NjbHVkZWVzXCIsdm9pZCAwKSxlKFtzKHtjb3VudDpmLkNPVU5UfSldLEMucHJvdG90eXBlLFwidHJhbnNwYXJlbmN5UGFzc1R5cGVcIix2b2lkIDApLGUoW3MoKV0sQy5wcm90b3R5cGUsXCJtdWx0aXBhc3NFbmFibGVkXCIsdm9pZCAwKSxlKFtzKCldLEMucHJvdG90eXBlLFwiY3VsbEFib3ZlR3JvdW5kXCIsdm9pZCAwKSxlKFtzKCldLEMucHJvdG90eXBlLFwicGVyc3BlY3RpdmVJbnRlcnBvbGF0aW9uXCIsdm9pZCAwKSxlKFtzKHtjb25zdFZhbHVlOiExfSldLEMucHJvdG90eXBlLFwib2NjbHVzaW9uUGFzc1wiLHZvaWQgMCk7Y29uc3QgXz1uZXcgTWFwKFtbeS5QT1NJVElPTiwwXSxbeS5VVjAsMl0sW3kuUEVSU1BFQ1RJVkVESVZJREUsM11dKTtleHBvcnR7SSBhcyBJbWFnZU1hdGVyaWFsUGFzc1BhcmFtZXRlcnMsTiBhcyBJbWFnZU1hdGVyaWFsVGVjaG5pcXVlLEMgYXMgSW1hZ2VNYXRlcmlhbFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24sXyBhcyB2ZXJ0ZXhBdHRyaWJ1dGVMb2NhdGlvbnN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnR7SWRlbnRpZmlhYmxlTWl4aW4gYXMgc31mcm9tXCIuLi8uLi9jb3JlL0lkZW50aWZpYWJsZS5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyBvfWZyb21cIi4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7RXNyaVByb21pc2VNaXhpbiBhcyBufWZyb21cIi4uLy4uL2NvcmUvUHJvbWlzZS5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBwfWZyb21cIi4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtsZXQgZD1jbGFzcyBleHRlbmRzKHMobihyLkV2ZW50ZWRNaXhpbih0KSkpKXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IHAsdGhpcy5sYXllcj1udWxsLHRoaXMucGFyZW50PW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMud2hlbigpLmNhdGNoKChlPT57aWYoXCJsYXllcnZpZXc6Y3JlYXRlLWVycm9yXCIhPT1lLm5hbWUpe2NvbnN0IHQ9dGhpcy5sYXllciYmdGhpcy5sYXllci5pZHx8XCJubyBpZFwiLHI9dGhpcy5sYXllcj8udGl0bGV8fFwibm8gdGl0bGVcIjtpLmdldExvZ2dlcih0aGlzKS5lcnJvcihcIiNyZXNvbHZlKClcIixgRmFpbGVkIHRvIHJlc29sdmUgbGF5ZXIgdmlldyAobGF5ZXIgdGl0bGU6ICcke3J9JywgaWQ6ICcke3R9JylgLGUpfX0pKX1kZXN0cm95KCl7dGhpcy5fdXBkYXRpbmdIYW5kbGVzPW8odGhpcy5fdXBkYXRpbmdIYW5kbGVzKX1nZXQgZnVsbE9wYWNpdHkoKXtyZXR1cm4odGhpcy5sYXllcj8ub3BhY2l0eT8/MSkqKHRoaXMucGFyZW50Py5mdWxsT3BhY2l0eT8/MSl9Z2V0IHN1c3BlbmRlZCgpe3JldHVybiF0aGlzLmNhblJlc3VtZSgpfWdldCBzdXNwZW5kSW5mbygpe3JldHVybiB0aGlzLmdldFN1c3BlbmRJbmZvKCl9Z2V0IGxlZ2VuZEVuYWJsZWQoKXtyZXR1cm4hdGhpcy5zdXNwZW5kZWQmJiEwPT09dGhpcy5sYXllcj8ubGVnZW5kRW5hYmxlZH1nZXQgdXBkYXRpbmcoKXtyZXR1cm4hKCF0aGlzLl91cGRhdGluZ0hhbmRsZXM/LnVwZGF0aW5nJiYhdGhpcy5pc1VwZGF0aW5nKCkpfWdldCB1cGRhdGluZ1Byb2dyZXNzKCl7cmV0dXJuIHRoaXMudXBkYXRpbmc/MDoxfWdldCB2aXNpYmxlKCl7cmV0dXJuITA9PT10aGlzLmxheWVyPy52aXNpYmxlfXNldCB2aXNpYmxlKGUpe3RoaXMuX292ZXJyaWRlSWZTb21lKFwidmlzaWJsZVwiLGUpfWNhblJlc3VtZSgpe3JldHVybiB0aGlzLnZpc2libGUmJnRoaXMubGF5ZXI/LmxvYWRlZCYmIXRoaXMucGFyZW50Py5zdXNwZW5kZWQmJnRoaXMudmlldz8ucmVhZHl8fCExfWdldFN1c3BlbmRJbmZvKCl7Y29uc3QgZT10aGlzLnBhcmVudD8uc3VzcGVuZGVkP3RoaXMucGFyZW50LnN1c3BlbmRJbmZvOnt9LHQ9dGhpcztyZXR1cm4gdC52aWV3Py5yZWFkeXx8KGUudmlld05vdFJlYWR5PSEwKSx0aGlzLmxheWVyJiZ0aGlzLmxheWVyLmxvYWRlZHx8KGUubGF5ZXJOb3RMb2FkZWQ9ITApLHRoaXMudmlzaWJsZXx8KGUubGF5ZXJJbnZpc2libGU9ITApLGV9aXNVcGRhdGluZygpe3JldHVybiExfX07ZShbYSgpXSxkLnByb3RvdHlwZSxcImZ1bGxPcGFjaXR5XCIsbnVsbCksZShbYSgpXSxkLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFthKCldLGQucHJvdG90eXBlLFwicGFyZW50XCIsdm9pZCAwKSxlKFthKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInN1c3BlbmRlZFwiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwic3VzcGVuZEluZm9cIixudWxsKSxlKFthKHtyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcImxlZ2VuZEVuYWJsZWRcIixudWxsKSxlKFthKHt0eXBlOkJvb2xlYW4scmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwidXBkYXRpbmdQcm9ncmVzc1wiLG51bGwpLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsbnVsbCksZShbYSgpXSxkLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGQ9ZShbbChcImVzcmkudmlld3MubGF5ZXJzLkxheWVyVmlld1wiKV0sZCk7Y29uc3QgdT1kO2V4cG9ydHt1IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHJ9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2lzQWJvcnRFcnJvciBhcyBzfWZyb21cIi4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e29uIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtjb25zdCBhPWE9PntsZXQgYz1jbGFzcyBleHRlbmRzIGF7aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyhvKCgoKT0+dGhpcy5sYXllciksXCJyZWZyZXNoXCIsKHI9Pnt0aGlzLmRvUmVmcmVzaChyLmRhdGFDaGFuZ2VkKS5jYXRjaCgocj0+e3Mocil8fGUuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKHIpfSkpfSkpLFwiUmVmcmVzaGFibGVMYXllclZpZXdcIil9fTtyZXR1cm4gcihbdCgpXSxjLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxjPXIoW2koXCJlc3JpLmxheWVycy5taXhpbnMuUmVmcmVzaGFibGVMYXllclZpZXdcIildLGMpLGN9O2V4cG9ydHthIGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9