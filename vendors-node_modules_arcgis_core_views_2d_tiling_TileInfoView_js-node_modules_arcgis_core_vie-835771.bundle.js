"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_views_2d_tiling_TileInfoView_js-node_modules_arcgis_core_vie-835771"],{

/***/ "./node_modules/@arcgis/core/core/ReactiveMap.js":
/*!*******************************************************!*\
  !*** ./node_modules/@arcgis/core/core/ReactiveMap.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./accessorSupport/tracking.js */ "./node_modules/@arcgis/core/core/accessorSupport/tracking.js");
/* harmony import */ var _accessorSupport_tracking_SimpleObservable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./accessorSupport/tracking/SimpleObservable.js */ "./node_modules/@arcgis/core/core/accessorSupport/tracking/SimpleObservable.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class s{constructor(){this._map=new Map,this._observable=new _accessorSupport_tracking_SimpleObservable_js__WEBPACK_IMPORTED_MODULE_1__.SimpleObservable}get size(){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const t=this._map.delete(e);return t&&this._observable.notify(),t}entries(){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._map.entries()}forEach(t,s){(0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._map.forEach(((e,r)=>t.call(s,e,r,this)),s)}get(t){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._map.get(t)}has(t){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._map.has(t)}keys(){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._map.keys()}set(e,t){return this._map.set(e,t),this._observable.notify(),this}values(){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._map.values()}[Symbol.iterator](){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__.trackAccess)(this._observable),this._map[Symbol.iterator]()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/LODInfo.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/LODInfo.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(t,r){return[t,r]}function i(t,r,o){return t[0]=r,t[1]=o,t}function e(t,r,o,i,e){return t[0]=r,t[1]=o,t[2]=i,t[3]=e,t}const s=new _TileKey_js__WEBPACK_IMPORTED_MODULE_1__["default"]("0/0/0/0");class n{static create(r,e,s=null){const l=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__.getInfo)(r.spatialReference),h=e.origin||o(r.origin.x,r.origin.y),a=o(r.size[0]*e.resolution,r.size[1]*e.resolution),u=o(-1/0,-1/0),m=o(1/0,1/0),g=o(1/0,1/0);null!=s&&(i(u,Math.max(0,Math.floor((s.xmin-h[0])/a[0])),Math.max(0,Math.floor((h[1]-s.ymax)/a[1]))),i(m,Math.max(0,Math.floor((s.xmax-h[0])/a[0])),Math.max(0,Math.floor((h[1]-s.ymin)/a[1]))),i(g,m[0]-u[0]+1,m[1]-u[1]+1));const{cols:w,rows:c}=e;let d,f,F,z;return!s&&w&&c&&(i(u,w[0],c[0]),i(m,w[1],c[1]),i(g,w[1]-w[0]+1,c[1]-c[0]+1)),r.isWrappable?(d=o(Math.ceil(Math.round((l.valid[1]-l.valid[0])/e.resolution)/r.size[0]),g[1]),f=o(Math.floor((l.origin[0]-h[0])/a[0]),u[1]),F=o(d[0]+f[0]-1,m[1]),z=!0):(f=u,F=m,d=g,z=!1),new n(e.level,e.resolution,e.scale,h,u,m,g,a,f,F,d,z)}constructor(t,r,o,i,e,s,n,l,h,a,u,m){this.level=t,this.resolution=r,this.scale=o,this.origin=i,this.first=e,this.last=s,this.size=n,this.norm=l,this.worldStart=h,this.worldEnd=a,this.worldSize=u,this.wrap=m}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,o=!1){s.set(r);const i=o?s.col:this.denormalizeCol(s.col,s.world),n=s.row;return e(t,this.getXForColumn(i),this.getYForRow(n+1),this.getXForColumn(i+1),this.getYForRow(n)),t}getTileCoords(t,r,o=!1){s.set(r);const e=o?s.col:this.denormalizeCol(s.col,s.world);return Array.isArray(t)?i(t,this.getXForColumn(e),this.getYForRow(s.row)):(t.x=this.getXForColumn(e),t.y=this.getYForRow(s.row)),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/ObjectPool.js */ "./node_modules/@arcgis/core/core/ObjectPool.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class l{constructor(){this.spans=[]}acquire(o){this.lodInfo=o}release(){this.lodInfo=null,this.spans.length=0}forEach(o,l){const{spans:s,lodInfo:t}=this,{level:e}=t;if(0!==s.length)for(const{row:r,colFrom:n,colTo:c}of s)for(let s=n;s<=c;s++)o.call(l,e,r,t.normalizeCol(s),t.getWorldForColumn(s))}}l.pool=new _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__["default"](l);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _LODInfo_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LODInfo.js */ "./node_modules/@arcgis/core/views/2d/tiling/LODInfo.js");
/* harmony import */ var _TileCoverage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TileCoverage.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/* harmony import */ var _TileSpan_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TileSpan.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileSpan.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const i=new _TileKey_js__WEBPACK_IMPORTED_MODULE_3__["default"]("0/0/0/0");class n{static create(e,t){e[1]>t[1]&&([e,t]=[t,e]);const[o,l]=e,[s,i]=t,r=s-o,a=i-l,h=0!==a?r/a:0,c=(Math.ceil(l)-l)*h,f=(Math.floor(l)-l)*h;return new n(o,Math.floor(l),Math.ceil(i),h,r<0?c:f,r<0?f:c,r<0?s:o,r<0?o:s)}constructor(e,t,o,l,s,i,n,r){this.x=e,this.ymin=t,this.ymax=o,this.invM=l,this.leftAdjust=s,this.rightAdjust=i,this.leftBound=n,this.rightBound=r}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const r=[[0,0],[0,0],[0,0],[0,0]],a=1e-6;class h{constructor(e,o=null,l=e.lods[0].level,s=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=o,this.scales=[],this._infoByScale={},this._infoByLevel={};const i=e.lods.filter((e=>e.level>=l&&e.level<=s));this.minScale=i[0].scale,this.maxScale=i[i.length-1].scale;const n=this._lodInfos=i.map((l=>_LODInfo_js__WEBPACK_IMPORTED_MODULE_1__["default"].create(e,l,o)));i.forEach(((e,t)=>{this._infoByLevel[e.level]=n[t],this._infoByScale[e.scale]=n[t],this.scales[t]=e.scale}),this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel["number"==typeof e?e:e.level]}getTileBounds(e,t,o=!1){i.set(t);const l=this._infoByLevel[i.level];return l?l.getTileBounds(e,i,o):e}getTileCoords(e,t,o=!1){i.set(t);const l=this._infoByLevel[i.level];return l?l.getTileCoords(e,i,o):e}getTileCoverage(e,t=192,l=!0,i="closest"){if(!l&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const a="closest"===i?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),h=_TileCoverage_js__WEBPACK_IMPORTED_MODULE_2__["default"].pool.acquire(a),c=this._wrap;let f,u,m,g=1/0,d=-1/0;const v=h.spans;r[0][0]=r[0][1]=r[1][1]=r[3][0]=-t,r[1][0]=r[2][0]=e.size[0]+t,r[2][1]=r[3][1]=e.size[1]+t;for(const o of r)e.toMap(o,o),o[0]=a.getColumnForX(o[0]),o[1]=a.getRowForY(o[1]);const y=[];let _=3;for(let o=0;o<4;o++){if(r[o][1]===r[_][1]){_=o;continue}const e=n.create(r[o],r[_]);g=Math.min(e.ymin,g),d=Math.max(e.ymax,d),void 0===y[e.ymin]&&(y[e.ymin]=[]),y[e.ymin].push(e),_=o}if(null==g||null==d||d-g>100)return null;let p=[];for(f=g;f<d;){null!=y[f]&&(p=p.concat(y[f])),u=1/0,m=-1/0;for(let e=p.length-1;e>=0;e--){const t=p[e];u=Math.min(u,t.getLeftCol()),m=Math.max(m,t.getRightCol())}if(u=Math.floor(u),m=Math.floor(m),f>=a.first[1]&&f<=a.last[1])if(c)if(a.size[0]<a.worldSize[0]){const e=Math.floor(m/a.worldSize[0]);for(let t=Math.floor(u/a.worldSize[0]);t<=e;t++)v.push(new _TileSpan_js__WEBPACK_IMPORTED_MODULE_4__["default"](f,Math.max(a.getFirstColumnForWorld(t),u),Math.min(a.getLastColumnForWorld(t),m)))}else v.push(new _TileSpan_js__WEBPACK_IMPORTED_MODULE_4__["default"](f,u,m));else u>a.last[0]||m<a.first[0]||(u=Math.max(u,a.first[0]),m=Math.min(m,a.last[0]),v.push(new _TileSpan_js__WEBPACK_IMPORTED_MODULE_4__["default"](f,u,m)));f+=1;for(let e=p.length-1;e>=0;e--){const t=p[e];t.ymax>=f?t.incrRow():p.splice(e,1)}}return h}getTileParentId(e){i.set(e);const t=this._infoByLevel[i.level],o=this._lodInfos.indexOf(t)-1;return o<0?null:(this._getTileIdAtLOD(i,this._lodInfos[o],i),i.id)}getTileResolution(e){const t=this._infoByLevel["object"==typeof e?e.level:e];return t?t.resolution:-1}getTileScale(e){const t=this._infoByLevel[e.level];return t?t.scale:-1}intersects(e,t){i.set(t);const o=this._infoByLevel[i.level],l=e.lodInfo;if(l.resolution>o.resolution){this._getTileIdAtLOD(i,l,i);const t=l.denormalizeCol(i.col,i.world);for(const o of e.spans)if(o.row===i.row&&o.colFrom<=t&&o.colTo>=t)return!0}if(l.resolution<o.resolution){const[t,s,n,r]=e.spans.reduce(((e,t)=>(e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e)),[1/0,-1/0,1/0,-1/0]),a=o.denormalizeCol(i.col,i.world),h=l.getColumnForX(o.getXForColumn(a)),c=l.getRowForY(o.getYForRow(i.row)),f=l.getColumnForX(o.getXForColumn(a+1))-1,u=l.getRowForY(o.getYForRow(i.row+1))-1;return!(h>r||f<n||c>s||u<t)}const s=l.denormalizeCol(i.col,i.world);return e.spans.some((e=>e.row===i.row&&e.colFrom<=s&&e.colTo>=s))}normalizeBounds(t,o,l){if(t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],this._wrap){const o=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_0__.getInfo)(this.tileInfo.spatialReference),s=-l*(o.valid[1]-o.valid[0]);t[0]+=s,t[2]+=s}return t}getSmallestInfoForScale(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>t[0])return this._infoByScale[t[0]];for(let o=1;o<t.length-1;o++)if(e>t[o]+a)return this._infoByScale[t[o-1]];return this._infoByScale[t[t.length-1]]}getClosestInfoForScale(e){const t=this.scales;return this._infoByScale[e]||(e=t.reduce(((t,o)=>Math.abs(o-e)<Math.abs(t-e)?o:t),t[0])),this._infoByScale[e]}scaleToLevel(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let o=t.length-1;o>=0;o--)if(e<t[o]){if(o===t.length-1)return this._infoByScale[t[t.length-1]].level;return this._infoByScale[t[o]].level+(t[o]-e)/(t[o]-t[o+1])}return this._infoByScale[t[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}_getTileIdAtLOD(e,t,o){const l=this._infoByLevel[o.level];return e.set(o),t.resolution<l.resolution?null:(t.resolution===l.resolution||(e.level=t.level,e.col=Math.floor(o.col*l.resolution/t.resolution+.01),e.row=Math.floor(o.row*l.resolution/t.resolution+.01)),e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileSpan.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileSpan.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class o{constructor(o,s,t){this.row=o,this.colFrom=s,this.colTo=t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/QueueProcessor.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/QueueProcessor.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QueueProcessor: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_Queue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Queue.js */ "./node_modules/@arcgis/core/core/Queue.js");
/* harmony import */ var _core_ReactiveMap_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/ReactiveMap.js */ "./node_modules/@arcgis/core/core/ReactiveMap.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _core_signal_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/signal.js */ "./node_modules/@arcgis/core/core/signal.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class l{constructor(e,s){this.item=e,this.controller=s,this.promise=null}}class _{constructor(e){this._schedule=null,this._task=null,this._deferreds=new _core_ReactiveMap_js__WEBPACK_IMPORTED_MODULE_3__["default"],this._controllers=new _core_ReactiveMap_js__WEBPACK_IMPORTED_MODULE_3__["default"],this._processingItems=new _core_ReactiveMap_js__WEBPACK_IMPORTED_MODULE_3__["default"],this._pausedSignal=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_5__.signal)(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new _core_Queue_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.peeker),this.process=e.process;const s=e.scheduler;e.priority&&s&&(this._task=s.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.removeMaybe)(this._schedule),this._task=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.removeMaybe)(this._task)}get updating(){return!!this._task?.updating||this.running}get length(){return this._processingItems.size+this._queue.length}abort(e){const s=this._controllers.get(e);s&&s.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach((s=>e.push(s))),this._controllers.clear(),e.forEach((e=>e.abort())),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach(((s,t)=>e(t)))}get(e){const s=this._deferreds.get(e);return s?s.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,i){const o=this.get(e);if(o)return o;const c=new AbortController;let n=null;i&&(n=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.onAbort)(i,(()=>c.abort())));const u=()=>{const s=this._processingItems.get(e);s&&s.controller.abort(),l(),a.reject((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.createAbortError)())},l=()=>{_.remove(),null!=n&&n.remove(),this._deferreds.delete(e),this._controllers.delete(e),this._queue.remove(e),this._processingItems.delete(e),this._scheduleNext()},_=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.onAbortOrThrow)(c.signal,u),a=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.createResolver)();return this._deferreds.set(e,a),this._controllers.set(e,c),a.promise.then(l,l),this._queue.push(e),this._scheduleNext(),a.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const e=[];this._processingItems.forEach((s=>e.push(s))),this._processingItems.clear();for(const s of e)this._queue.push(s.item),s.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=(0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_4__.schedule)((()=>{this._schedule=null,this._next()})))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(s))}_processError(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(s))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(null==e)return;let s;const t=new AbortController,r=new l(e,t);this._processingItems.set(e,r);try{s=this.process(e,t.signal)}catch(h){this._processError(r,h)}(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.isPromiseLike)(s)?(r.promise=s,s.then((e=>this._processResult(r,e)),(e=>this._processError(r,e)))):this._processResult(r,s)}get test(){return{update:e=>this.runTask(e)}}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfMmRfdGlsaW5nX1RpbGVJbmZvVmlld19qcy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmllLTgzNTc3MS5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDOEksUUFBUSxjQUFjLHVDQUF1QywyRkFBQyxDQUFDLFdBQVcsT0FBTyx5RUFBQyxrQ0FBa0MsUUFBUSxnRUFBZ0UsVUFBVSw0QkFBNEIsc0NBQXNDLFVBQVUsT0FBTyx5RUFBQyx1Q0FBdUMsYUFBYSx5RUFBQyxvRUFBb0UsT0FBTyxPQUFPLHlFQUFDLG9DQUFvQyxPQUFPLE9BQU8seUVBQUMsb0NBQW9DLE9BQU8sT0FBTyx5RUFBQyxvQ0FBb0MsU0FBUyx5REFBeUQsU0FBUyxPQUFPLHlFQUFDLHNDQUFzQyxvQkFBb0IsT0FBTyx5RUFBQyxnREFBZ0QsMEJBQTBCLHNDQUEyRDs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKcDlCO0FBQ0E7QUFDQTtBQUNBO0FBQ3lHLGdCQUFnQixZQUFZLGtCQUFrQix1QkFBdUIsc0JBQXNCLHFDQUFxQyxZQUFZLG1EQUFDLFlBQVksUUFBUSwwQkFBMEIsUUFBUSxtRkFBQyxzSkFBc0osOE5BQThOLE1BQU0sY0FBYyxHQUFHLFlBQVksK1RBQStULHFDQUFxQywwS0FBMEssZ0JBQWdCLHVCQUF1QiwwQkFBMEIscUNBQXFDLG9CQUFvQix5Q0FBeUMscUJBQXFCLG1EQUFtRCwwQkFBMEIseUNBQXlDLHlCQUF5Qix3REFBd0QsaUJBQWlCLHNDQUFzQyxpQkFBaUIscUNBQXFDLGNBQWMsc0NBQXNDLGNBQWMscUNBQXFDLHdCQUF3QixTQUFTLDJEQUEyRCxvR0FBb0csd0JBQXdCLFNBQVMsbURBQW1ELG9JQUF5Sjs7Ozs7Ozs7Ozs7Ozs7OztBQ0psdEU7QUFDQTtBQUNBO0FBQ0E7QUFDMkMsUUFBUSxjQUFjLGNBQWMsV0FBVyxlQUFlLFVBQVUsc0NBQXNDLGFB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OEYsbUJBQW1CLDZGQUE2RiwwQkFBMEIsMkVBQTJFLFlBQVksa0JBQWtCLE1BQU0seUNBQXlDLCtCQUErQixJQUFJLDJCQUEyQixTQUFTLHdCQUF3QixvRUFBQyw4R0FBOEcsV0FBVyxPQUFPLDRCQUF3RCIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvUmVhY3RpdmVNYXAuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvdGlsaW5nL0xPREluZm8uanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvdGlsaW5nL1RpbGVDb3ZlcmFnZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC90aWxpbmcvVGlsZUluZm9WaWV3LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL3RpbGluZy9UaWxlU3Bhbi5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9zdXBwb3J0L1F1ZXVlUHJvY2Vzc29yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7dHJhY2tBY2Nlc3MgYXMgZX1mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC90cmFja2luZy5qc1wiO2ltcG9ydHtTaW1wbGVPYnNlcnZhYmxlIGFzIHR9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvdHJhY2tpbmcvU2ltcGxlT2JzZXJ2YWJsZS5qc1wiO2NsYXNzIHN7Y29uc3RydWN0b3IoKXt0aGlzLl9tYXA9bmV3IE1hcCx0aGlzLl9vYnNlcnZhYmxlPW5ldyB0fWdldCBzaXplKCl7cmV0dXJuIGUodGhpcy5fb2JzZXJ2YWJsZSksdGhpcy5fbWFwLnNpemV9Y2xlYXIoKXt0aGlzLl9tYXAuc2l6ZT4wJiYodGhpcy5fbWFwLmNsZWFyKCksdGhpcy5fb2JzZXJ2YWJsZS5ub3RpZnkoKSl9ZGVsZXRlKGUpe2NvbnN0IHQ9dGhpcy5fbWFwLmRlbGV0ZShlKTtyZXR1cm4gdCYmdGhpcy5fb2JzZXJ2YWJsZS5ub3RpZnkoKSx0fWVudHJpZXMoKXtyZXR1cm4gZSh0aGlzLl9vYnNlcnZhYmxlKSx0aGlzLl9tYXAuZW50cmllcygpfWZvckVhY2godCxzKXtlKHRoaXMuX29ic2VydmFibGUpLHRoaXMuX21hcC5mb3JFYWNoKCgoZSxyKT0+dC5jYWxsKHMsZSxyLHRoaXMpKSxzKX1nZXQodCl7cmV0dXJuIGUodGhpcy5fb2JzZXJ2YWJsZSksdGhpcy5fbWFwLmdldCh0KX1oYXModCl7cmV0dXJuIGUodGhpcy5fb2JzZXJ2YWJsZSksdGhpcy5fbWFwLmhhcyh0KX1rZXlzKCl7cmV0dXJuIGUodGhpcy5fb2JzZXJ2YWJsZSksdGhpcy5fbWFwLmtleXMoKX1zZXQoZSx0KXtyZXR1cm4gdGhpcy5fbWFwLnNldChlLHQpLHRoaXMuX29ic2VydmFibGUubm90aWZ5KCksdGhpc312YWx1ZXMoKXtyZXR1cm4gZSh0aGlzLl9vYnNlcnZhYmxlKSx0aGlzLl9tYXAudmFsdWVzKCl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gZSh0aGlzLl9vYnNlcnZhYmxlKSx0aGlzLl9tYXBbU3ltYm9sLml0ZXJhdG9yXSgpfWdldFtTeW1ib2wudG9TdHJpbmdUYWddKCl7cmV0dXJuIHRoaXMuX21hcFtTeW1ib2wudG9TdHJpbmdUYWddfX1leHBvcnR7cyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0SW5mbyBhcyB0fWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi9UaWxlS2V5LmpzXCI7ZnVuY3Rpb24gbyh0LHIpe3JldHVyblt0LHJdfWZ1bmN0aW9uIGkodCxyLG8pe3JldHVybiB0WzBdPXIsdFsxXT1vLHR9ZnVuY3Rpb24gZSh0LHIsbyxpLGUpe3JldHVybiB0WzBdPXIsdFsxXT1vLHRbMl09aSx0WzNdPWUsdH1jb25zdCBzPW5ldyByKFwiMC8wLzAvMFwiKTtjbGFzcyBue3N0YXRpYyBjcmVhdGUocixlLHM9bnVsbCl7Y29uc3QgbD10KHIuc3BhdGlhbFJlZmVyZW5jZSksaD1lLm9yaWdpbnx8byhyLm9yaWdpbi54LHIub3JpZ2luLnkpLGE9byhyLnNpemVbMF0qZS5yZXNvbHV0aW9uLHIuc2l6ZVsxXSplLnJlc29sdXRpb24pLHU9bygtMS8wLC0xLzApLG09bygxLzAsMS8wKSxnPW8oMS8wLDEvMCk7bnVsbCE9cyYmKGkodSxNYXRoLm1heCgwLE1hdGguZmxvb3IoKHMueG1pbi1oWzBdKS9hWzBdKSksTWF0aC5tYXgoMCxNYXRoLmZsb29yKChoWzFdLXMueW1heCkvYVsxXSkpKSxpKG0sTWF0aC5tYXgoMCxNYXRoLmZsb29yKChzLnhtYXgtaFswXSkvYVswXSkpLE1hdGgubWF4KDAsTWF0aC5mbG9vcigoaFsxXS1zLnltaW4pL2FbMV0pKSksaShnLG1bMF0tdVswXSsxLG1bMV0tdVsxXSsxKSk7Y29uc3R7Y29sczp3LHJvd3M6Y309ZTtsZXQgZCxmLEYsejtyZXR1cm4hcyYmdyYmYyYmKGkodSx3WzBdLGNbMF0pLGkobSx3WzFdLGNbMV0pLGkoZyx3WzFdLXdbMF0rMSxjWzFdLWNbMF0rMSkpLHIuaXNXcmFwcGFibGU/KGQ9byhNYXRoLmNlaWwoTWF0aC5yb3VuZCgobC52YWxpZFsxXS1sLnZhbGlkWzBdKS9lLnJlc29sdXRpb24pL3Iuc2l6ZVswXSksZ1sxXSksZj1vKE1hdGguZmxvb3IoKGwub3JpZ2luWzBdLWhbMF0pL2FbMF0pLHVbMV0pLEY9byhkWzBdK2ZbMF0tMSxtWzFdKSx6PSEwKTooZj11LEY9bSxkPWcsej0hMSksbmV3IG4oZS5sZXZlbCxlLnJlc29sdXRpb24sZS5zY2FsZSxoLHUsbSxnLGEsZixGLGQseil9Y29uc3RydWN0b3IodCxyLG8saSxlLHMsbixsLGgsYSx1LG0pe3RoaXMubGV2ZWw9dCx0aGlzLnJlc29sdXRpb249cix0aGlzLnNjYWxlPW8sdGhpcy5vcmlnaW49aSx0aGlzLmZpcnN0PWUsdGhpcy5sYXN0PXMsdGhpcy5zaXplPW4sdGhpcy5ub3JtPWwsdGhpcy53b3JsZFN0YXJ0PWgsdGhpcy53b3JsZEVuZD1hLHRoaXMud29ybGRTaXplPXUsdGhpcy53cmFwPW19bm9ybWFsaXplQ29sKHQpe2lmKCF0aGlzLndyYXApcmV0dXJuIHQ7Y29uc3Qgcj10aGlzLndvcmxkU2l6ZVswXTtyZXR1cm4gdDwwP3ItMS1NYXRoLmFicygodCsxKSVyKTp0JXJ9ZGVub3JtYWxpemVDb2wodCxyKXtyZXR1cm4gdGhpcy53cmFwP3RoaXMud29ybGRTaXplWzBdKnIrdDp0fWdldFdvcmxkRm9yQ29sdW1uKHQpe3JldHVybiB0aGlzLndyYXA/TWF0aC5mbG9vcih0L3RoaXMud29ybGRTaXplWzBdKTowfWdldEZpcnN0Q29sdW1uRm9yV29ybGQodCl7cmV0dXJuIHQqdGhpcy53b3JsZFNpemVbMF0rdGhpcy5maXJzdFswXX1nZXRMYXN0Q29sdW1uRm9yV29ybGQodCl7cmV0dXJuIHQqdGhpcy53b3JsZFNpemVbMF0rdGhpcy5maXJzdFswXSt0aGlzLnNpemVbMF0tMX1nZXRDb2x1bW5Gb3JYKHQpe3JldHVybih0LXRoaXMub3JpZ2luWzBdKS90aGlzLm5vcm1bMF19Z2V0WEZvckNvbHVtbih0KXtyZXR1cm4gdGhpcy5vcmlnaW5bMF0rdCp0aGlzLm5vcm1bMF19Z2V0Um93Rm9yWSh0KXtyZXR1cm4odGhpcy5vcmlnaW5bMV0tdCkvdGhpcy5ub3JtWzFdfWdldFlGb3JSb3codCl7cmV0dXJuIHRoaXMub3JpZ2luWzFdLXQqdGhpcy5ub3JtWzFdfWdldFRpbGVCb3VuZHModCxyLG89ITEpe3Muc2V0KHIpO2NvbnN0IGk9bz9zLmNvbDp0aGlzLmRlbm9ybWFsaXplQ29sKHMuY29sLHMud29ybGQpLG49cy5yb3c7cmV0dXJuIGUodCx0aGlzLmdldFhGb3JDb2x1bW4oaSksdGhpcy5nZXRZRm9yUm93KG4rMSksdGhpcy5nZXRYRm9yQ29sdW1uKGkrMSksdGhpcy5nZXRZRm9yUm93KG4pKSx0fWdldFRpbGVDb29yZHModCxyLG89ITEpe3Muc2V0KHIpO2NvbnN0IGU9bz9zLmNvbDp0aGlzLmRlbm9ybWFsaXplQ29sKHMuY29sLHMud29ybGQpO3JldHVybiBBcnJheS5pc0FycmF5KHQpP2kodCx0aGlzLmdldFhGb3JDb2x1bW4oZSksdGhpcy5nZXRZRm9yUm93KHMucm93KSk6KHQueD10aGlzLmdldFhGb3JDb2x1bW4oZSksdC55PXRoaXMuZ2V0WUZvclJvdyhzLnJvdykpLHR9fWV4cG9ydHtuIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBvIGZyb21cIi4uLy4uLy4uL2NvcmUvT2JqZWN0UG9vbC5qc1wiO2NsYXNzIGx7Y29uc3RydWN0b3IoKXt0aGlzLnNwYW5zPVtdfWFjcXVpcmUobyl7dGhpcy5sb2RJbmZvPW99cmVsZWFzZSgpe3RoaXMubG9kSW5mbz1udWxsLHRoaXMuc3BhbnMubGVuZ3RoPTB9Zm9yRWFjaChvLGwpe2NvbnN0e3NwYW5zOnMsbG9kSW5mbzp0fT10aGlzLHtsZXZlbDplfT10O2lmKDAhPT1zLmxlbmd0aClmb3IoY29uc3R7cm93OnIsY29sRnJvbTpuLGNvbFRvOmN9b2Ygcylmb3IobGV0IHM9bjtzPD1jO3MrKylvLmNhbGwobCxlLHIsdC5ub3JtYWxpemVDb2wocyksdC5nZXRXb3JsZEZvckNvbHVtbihzKSl9fWwucG9vbD1uZXcgbyhsKTtleHBvcnR7bCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0SW5mbyBhcyBlfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi9MT0RJbmZvLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi9UaWxlQ292ZXJhZ2UuanNcIjtpbXBvcnQgbCBmcm9tXCIuL1RpbGVLZXkuanNcIjtpbXBvcnQgcyBmcm9tXCIuL1RpbGVTcGFuLmpzXCI7Y29uc3QgaT1uZXcgbChcIjAvMC8wLzBcIik7Y2xhc3MgbntzdGF0aWMgY3JlYXRlKGUsdCl7ZVsxXT50WzFdJiYoW2UsdF09W3QsZV0pO2NvbnN0W28sbF09ZSxbcyxpXT10LHI9cy1vLGE9aS1sLGg9MCE9PWE/ci9hOjAsYz0oTWF0aC5jZWlsKGwpLWwpKmgsZj0oTWF0aC5mbG9vcihsKS1sKSpoO3JldHVybiBuZXcgbihvLE1hdGguZmxvb3IobCksTWF0aC5jZWlsKGkpLGgscjwwP2M6ZixyPDA/ZjpjLHI8MD9zOm8scjwwP286cyl9Y29uc3RydWN0b3IoZSx0LG8sbCxzLGksbixyKXt0aGlzLng9ZSx0aGlzLnltaW49dCx0aGlzLnltYXg9byx0aGlzLmludk09bCx0aGlzLmxlZnRBZGp1c3Q9cyx0aGlzLnJpZ2h0QWRqdXN0PWksdGhpcy5sZWZ0Qm91bmQ9bix0aGlzLnJpZ2h0Qm91bmQ9cn1pbmNyUm93KCl7dGhpcy54Kz10aGlzLmludk19Z2V0TGVmdENvbCgpe3JldHVybiBNYXRoLm1heCh0aGlzLngrdGhpcy5sZWZ0QWRqdXN0LHRoaXMubGVmdEJvdW5kKX1nZXRSaWdodENvbCgpe3JldHVybiBNYXRoLm1pbih0aGlzLngrdGhpcy5yaWdodEFkanVzdCx0aGlzLnJpZ2h0Qm91bmQpfX1jb25zdCByPVtbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXV0sYT0xZS02O2NsYXNzIGh7Y29uc3RydWN0b3IoZSxvPW51bGwsbD1lLmxvZHNbMF0ubGV2ZWwscz1lLmxvZHNbZS5sb2RzLmxlbmd0aC0xXS5sZXZlbCl7dGhpcy50aWxlSW5mbz1lLHRoaXMuZnVsbEV4dGVudD1vLHRoaXMuc2NhbGVzPVtdLHRoaXMuX2luZm9CeVNjYWxlPXt9LHRoaXMuX2luZm9CeUxldmVsPXt9O2NvbnN0IGk9ZS5sb2RzLmZpbHRlcigoZT0+ZS5sZXZlbD49bCYmZS5sZXZlbDw9cykpO3RoaXMubWluU2NhbGU9aVswXS5zY2FsZSx0aGlzLm1heFNjYWxlPWlbaS5sZW5ndGgtMV0uc2NhbGU7Y29uc3Qgbj10aGlzLl9sb2RJbmZvcz1pLm1hcCgobD0+dC5jcmVhdGUoZSxsLG8pKSk7aS5mb3JFYWNoKCgoZSx0KT0+e3RoaXMuX2luZm9CeUxldmVsW2UubGV2ZWxdPW5bdF0sdGhpcy5faW5mb0J5U2NhbGVbZS5zY2FsZV09blt0XSx0aGlzLnNjYWxlc1t0XT1lLnNjYWxlfSksdGhpcyksdGhpcy5fd3JhcD1lLmlzV3JhcHBhYmxlfWdldCBzcGF0aWFsUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMudGlsZUluZm8uc3BhdGlhbFJlZmVyZW5jZX1nZXRMT0RJbmZvQXQoZSl7cmV0dXJuIHRoaXMuX2luZm9CeUxldmVsW1wibnVtYmVyXCI9PXR5cGVvZiBlP2U6ZS5sZXZlbF19Z2V0VGlsZUJvdW5kcyhlLHQsbz0hMSl7aS5zZXQodCk7Y29uc3QgbD10aGlzLl9pbmZvQnlMZXZlbFtpLmxldmVsXTtyZXR1cm4gbD9sLmdldFRpbGVCb3VuZHMoZSxpLG8pOmV9Z2V0VGlsZUNvb3JkcyhlLHQsbz0hMSl7aS5zZXQodCk7Y29uc3QgbD10aGlzLl9pbmZvQnlMZXZlbFtpLmxldmVsXTtyZXR1cm4gbD9sLmdldFRpbGVDb29yZHMoZSxpLG8pOmV9Z2V0VGlsZUNvdmVyYWdlKGUsdD0xOTIsbD0hMCxpPVwiY2xvc2VzdFwiKXtpZighbCYmKGUuc2NhbGU+dGhpcy5taW5TY2FsZXx8ZS5zY2FsZTx0aGlzLm1heFNjYWxlKSlyZXR1cm4gbnVsbDtjb25zdCBhPVwiY2xvc2VzdFwiPT09aT90aGlzLmdldENsb3Nlc3RJbmZvRm9yU2NhbGUoZS5zY2FsZSk6dGhpcy5nZXRTbWFsbGVzdEluZm9Gb3JTY2FsZShlLnNjYWxlKSxoPW8ucG9vbC5hY3F1aXJlKGEpLGM9dGhpcy5fd3JhcDtsZXQgZix1LG0sZz0xLzAsZD0tMS8wO2NvbnN0IHY9aC5zcGFucztyWzBdWzBdPXJbMF1bMV09clsxXVsxXT1yWzNdWzBdPS10LHJbMV1bMF09clsyXVswXT1lLnNpemVbMF0rdCxyWzJdWzFdPXJbM11bMV09ZS5zaXplWzFdK3Q7Zm9yKGNvbnN0IG8gb2YgcillLnRvTWFwKG8sbyksb1swXT1hLmdldENvbHVtbkZvclgob1swXSksb1sxXT1hLmdldFJvd0Zvclkob1sxXSk7Y29uc3QgeT1bXTtsZXQgXz0zO2ZvcihsZXQgbz0wO288NDtvKyspe2lmKHJbb11bMV09PT1yW19dWzFdKXtfPW87Y29udGludWV9Y29uc3QgZT1uLmNyZWF0ZShyW29dLHJbX10pO2c9TWF0aC5taW4oZS55bWluLGcpLGQ9TWF0aC5tYXgoZS55bWF4LGQpLHZvaWQgMD09PXlbZS55bWluXSYmKHlbZS55bWluXT1bXSkseVtlLnltaW5dLnB1c2goZSksXz1vfWlmKG51bGw9PWd8fG51bGw9PWR8fGQtZz4xMDApcmV0dXJuIG51bGw7bGV0IHA9W107Zm9yKGY9ZztmPGQ7KXtudWxsIT15W2ZdJiYocD1wLmNvbmNhdCh5W2ZdKSksdT0xLzAsbT0tMS8wO2ZvcihsZXQgZT1wLmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdCB0PXBbZV07dT1NYXRoLm1pbih1LHQuZ2V0TGVmdENvbCgpKSxtPU1hdGgubWF4KG0sdC5nZXRSaWdodENvbCgpKX1pZih1PU1hdGguZmxvb3IodSksbT1NYXRoLmZsb29yKG0pLGY+PWEuZmlyc3RbMV0mJmY8PWEubGFzdFsxXSlpZihjKWlmKGEuc2l6ZVswXTxhLndvcmxkU2l6ZVswXSl7Y29uc3QgZT1NYXRoLmZsb29yKG0vYS53b3JsZFNpemVbMF0pO2ZvcihsZXQgdD1NYXRoLmZsb29yKHUvYS53b3JsZFNpemVbMF0pO3Q8PWU7dCsrKXYucHVzaChuZXcgcyhmLE1hdGgubWF4KGEuZ2V0Rmlyc3RDb2x1bW5Gb3JXb3JsZCh0KSx1KSxNYXRoLm1pbihhLmdldExhc3RDb2x1bW5Gb3JXb3JsZCh0KSxtKSkpfWVsc2Ugdi5wdXNoKG5ldyBzKGYsdSxtKSk7ZWxzZSB1PmEubGFzdFswXXx8bTxhLmZpcnN0WzBdfHwodT1NYXRoLm1heCh1LGEuZmlyc3RbMF0pLG09TWF0aC5taW4obSxhLmxhc3RbMF0pLHYucHVzaChuZXcgcyhmLHUsbSkpKTtmKz0xO2ZvcihsZXQgZT1wLmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdCB0PXBbZV07dC55bWF4Pj1mP3QuaW5jclJvdygpOnAuc3BsaWNlKGUsMSl9fXJldHVybiBofWdldFRpbGVQYXJlbnRJZChlKXtpLnNldChlKTtjb25zdCB0PXRoaXMuX2luZm9CeUxldmVsW2kubGV2ZWxdLG89dGhpcy5fbG9kSW5mb3MuaW5kZXhPZih0KS0xO3JldHVybiBvPDA/bnVsbDoodGhpcy5fZ2V0VGlsZUlkQXRMT0QoaSx0aGlzLl9sb2RJbmZvc1tvXSxpKSxpLmlkKX1nZXRUaWxlUmVzb2x1dGlvbihlKXtjb25zdCB0PXRoaXMuX2luZm9CeUxldmVsW1wib2JqZWN0XCI9PXR5cGVvZiBlP2UubGV2ZWw6ZV07cmV0dXJuIHQ/dC5yZXNvbHV0aW9uOi0xfWdldFRpbGVTY2FsZShlKXtjb25zdCB0PXRoaXMuX2luZm9CeUxldmVsW2UubGV2ZWxdO3JldHVybiB0P3Quc2NhbGU6LTF9aW50ZXJzZWN0cyhlLHQpe2kuc2V0KHQpO2NvbnN0IG89dGhpcy5faW5mb0J5TGV2ZWxbaS5sZXZlbF0sbD1lLmxvZEluZm87aWYobC5yZXNvbHV0aW9uPm8ucmVzb2x1dGlvbil7dGhpcy5fZ2V0VGlsZUlkQXRMT0QoaSxsLGkpO2NvbnN0IHQ9bC5kZW5vcm1hbGl6ZUNvbChpLmNvbCxpLndvcmxkKTtmb3IoY29uc3QgbyBvZiBlLnNwYW5zKWlmKG8ucm93PT09aS5yb3cmJm8uY29sRnJvbTw9dCYmby5jb2xUbz49dClyZXR1cm4hMH1pZihsLnJlc29sdXRpb248by5yZXNvbHV0aW9uKXtjb25zdFt0LHMsbixyXT1lLnNwYW5zLnJlZHVjZSgoKGUsdCk9PihlWzBdPU1hdGgubWluKGVbMF0sdC5yb3cpLGVbMV09TWF0aC5tYXgoZVsxXSx0LnJvdyksZVsyXT1NYXRoLm1pbihlWzJdLHQuY29sRnJvbSksZVszXT1NYXRoLm1heChlWzNdLHQuY29sVG8pLGUpKSxbMS8wLC0xLzAsMS8wLC0xLzBdKSxhPW8uZGVub3JtYWxpemVDb2woaS5jb2wsaS53b3JsZCksaD1sLmdldENvbHVtbkZvclgoby5nZXRYRm9yQ29sdW1uKGEpKSxjPWwuZ2V0Um93Rm9yWShvLmdldFlGb3JSb3coaS5yb3cpKSxmPWwuZ2V0Q29sdW1uRm9yWChvLmdldFhGb3JDb2x1bW4oYSsxKSktMSx1PWwuZ2V0Um93Rm9yWShvLmdldFlGb3JSb3coaS5yb3crMSkpLTE7cmV0dXJuIShoPnJ8fGY8bnx8Yz5zfHx1PHQpfWNvbnN0IHM9bC5kZW5vcm1hbGl6ZUNvbChpLmNvbCxpLndvcmxkKTtyZXR1cm4gZS5zcGFucy5zb21lKChlPT5lLnJvdz09PWkucm93JiZlLmNvbEZyb208PXMmJmUuY29sVG8+PXMpKX1ub3JtYWxpemVCb3VuZHModCxvLGwpe2lmKHRbMF09b1swXSx0WzFdPW9bMV0sdFsyXT1vWzJdLHRbM109b1szXSx0aGlzLl93cmFwKXtjb25zdCBvPWUodGhpcy50aWxlSW5mby5zcGF0aWFsUmVmZXJlbmNlKSxzPS1sKihvLnZhbGlkWzFdLW8udmFsaWRbMF0pO3RbMF0rPXMsdFsyXSs9c31yZXR1cm4gdH1nZXRTbWFsbGVzdEluZm9Gb3JTY2FsZShlKXtjb25zdCB0PXRoaXMuc2NhbGVzO2lmKHRoaXMuX2luZm9CeVNjYWxlW2VdKXJldHVybiB0aGlzLl9pbmZvQnlTY2FsZVtlXTtpZihlPnRbMF0pcmV0dXJuIHRoaXMuX2luZm9CeVNjYWxlW3RbMF1dO2ZvcihsZXQgbz0xO288dC5sZW5ndGgtMTtvKyspaWYoZT50W29dK2EpcmV0dXJuIHRoaXMuX2luZm9CeVNjYWxlW3Rbby0xXV07cmV0dXJuIHRoaXMuX2luZm9CeVNjYWxlW3RbdC5sZW5ndGgtMV1dfWdldENsb3Nlc3RJbmZvRm9yU2NhbGUoZSl7Y29uc3QgdD10aGlzLnNjYWxlcztyZXR1cm4gdGhpcy5faW5mb0J5U2NhbGVbZV18fChlPXQucmVkdWNlKCgodCxvKT0+TWF0aC5hYnMoby1lKTxNYXRoLmFicyh0LWUpP286dCksdFswXSkpLHRoaXMuX2luZm9CeVNjYWxlW2VdfXNjYWxlVG9MZXZlbChlKXtjb25zdCB0PXRoaXMuc2NhbGVzO2lmKHRoaXMuX2luZm9CeVNjYWxlW2VdKXJldHVybiB0aGlzLl9pbmZvQnlTY2FsZVtlXS5sZXZlbDtmb3IobGV0IG89dC5sZW5ndGgtMTtvPj0wO28tLSlpZihlPHRbb10pe2lmKG89PT10Lmxlbmd0aC0xKXJldHVybiB0aGlzLl9pbmZvQnlTY2FsZVt0W3QubGVuZ3RoLTFdXS5sZXZlbDtyZXR1cm4gdGhpcy5faW5mb0J5U2NhbGVbdFtvXV0ubGV2ZWwrKHRbb10tZSkvKHRbb10tdFtvKzFdKX1yZXR1cm4gdGhpcy5faW5mb0J5U2NhbGVbdFswXV0ubGV2ZWx9c2NhbGVUb1pvb20oZSl7cmV0dXJuIHRoaXMudGlsZUluZm8uc2NhbGVUb1pvb20oZSl9X2dldFRpbGVJZEF0TE9EKGUsdCxvKXtjb25zdCBsPXRoaXMuX2luZm9CeUxldmVsW28ubGV2ZWxdO3JldHVybiBlLnNldChvKSx0LnJlc29sdXRpb248bC5yZXNvbHV0aW9uP251bGw6KHQucmVzb2x1dGlvbj09PWwucmVzb2x1dGlvbnx8KGUubGV2ZWw9dC5sZXZlbCxlLmNvbD1NYXRoLmZsb29yKG8uY29sKmwucmVzb2x1dGlvbi90LnJlc29sdXRpb24rLjAxKSxlLnJvdz1NYXRoLmZsb29yKG8ucm93KmwucmVzb2x1dGlvbi90LnJlc29sdXRpb24rLjAxKSksZSl9fWV4cG9ydHtoIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIG97Y29uc3RydWN0b3IobyxzLHQpe3RoaXMucm93PW8sdGhpcy5jb2xGcm9tPXMsdGhpcy5jb2xUbz10fX1leHBvcnR7byBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7cmVtb3ZlTWF5YmUgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e29uQWJvcnQgYXMgcyxvbkFib3J0T3JUaHJvdyBhcyB0LGNyZWF0ZVJlc29sdmVyIGFzIHIsaXNQcm9taXNlTGlrZSBhcyBpLGNyZWF0ZUFib3J0RXJyb3IgYXMgaH1mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uL2NvcmUvUXVldWUuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi8uLi9jb3JlL1JlYWN0aXZlTWFwLmpzXCI7aW1wb3J0e3NjaGVkdWxlIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9zY2hlZHVsaW5nLmpzXCI7aW1wb3J0e3NpZ25hbCBhcyB1fWZyb21cIi4uLy4uL2NvcmUvc2lnbmFsLmpzXCI7Y2xhc3MgbHtjb25zdHJ1Y3RvcihlLHMpe3RoaXMuaXRlbT1lLHRoaXMuY29udHJvbGxlcj1zLHRoaXMucHJvbWlzZT1udWxsfX1jbGFzcyBfe2NvbnN0cnVjdG9yKGUpe3RoaXMuX3NjaGVkdWxlPW51bGwsdGhpcy5fdGFzaz1udWxsLHRoaXMuX2RlZmVycmVkcz1uZXcgYyx0aGlzLl9jb250cm9sbGVycz1uZXcgYyx0aGlzLl9wcm9jZXNzaW5nSXRlbXM9bmV3IGMsdGhpcy5fcGF1c2VkU2lnbmFsPXUoITEpLHRoaXMuY29uY3VycmVuY3k9MSxlLmNvbmN1cnJlbmN5JiYodGhpcy5jb25jdXJyZW5jeT1lLmNvbmN1cnJlbmN5KSx0aGlzLl9xdWV1ZT1uZXcgbyhlLnBlZWtlciksdGhpcy5wcm9jZXNzPWUucHJvY2Vzcztjb25zdCBzPWUuc2NoZWR1bGVyO2UucHJpb3JpdHkmJnMmJih0aGlzLl90YXNrPXMucmVnaXN0ZXJUYXNrKGUucHJpb3JpdHksdGhpcykpfWRlc3Ryb3koKXt0aGlzLmNsZWFyKCksdGhpcy5fc2NoZWR1bGU9ZSh0aGlzLl9zY2hlZHVsZSksdGhpcy5fdGFzaz1lKHRoaXMuX3Rhc2spfWdldCB1cGRhdGluZygpe3JldHVybiEhdGhpcy5fdGFzaz8udXBkYXRpbmd8fHRoaXMucnVubmluZ31nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3NpbmdJdGVtcy5zaXplK3RoaXMuX3F1ZXVlLmxlbmd0aH1hYm9ydChlKXtjb25zdCBzPXRoaXMuX2NvbnRyb2xsZXJzLmdldChlKTtzJiZzLmFib3J0KCl9Y2xlYXIoKXt0aGlzLl9xdWV1ZS5jbGVhcigpO2NvbnN0IGU9W107dGhpcy5fY29udHJvbGxlcnMuZm9yRWFjaCgocz0+ZS5wdXNoKHMpKSksdGhpcy5fY29udHJvbGxlcnMuY2xlYXIoKSxlLmZvckVhY2goKGU9PmUuYWJvcnQoKSkpLHRoaXMuX3Byb2Nlc3NpbmdJdGVtcy5jbGVhcigpLHRoaXMuX2NhbmNlbE5leHQoKX1mb3JFYWNoKGUpe3RoaXMuX2RlZmVycmVkcy5mb3JFYWNoKCgocyx0KT0+ZSh0KSkpfWdldChlKXtjb25zdCBzPXRoaXMuX2RlZmVycmVkcy5nZXQoZSk7cmV0dXJuIHM/cy5wcm9taXNlOnZvaWQgMH1pc09uZ29pbmcoZSl7cmV0dXJuIHRoaXMuX3Byb2Nlc3NpbmdJdGVtcy5oYXMoZSl9aGFzKGUpe3JldHVybiB0aGlzLl9kZWZlcnJlZHMuaGFzKGUpfXBhdXNlKCl7dGhpcy5fcGF1c2VkU2lnbmFsLnZhbHVlfHwodGhpcy5fcGF1c2VkU2lnbmFsLnZhbHVlPSEwLHRoaXMuX2NhbmNlbE5leHQoKSl9cHVzaChlLGkpe2NvbnN0IG89dGhpcy5nZXQoZSk7aWYobylyZXR1cm4gbztjb25zdCBjPW5ldyBBYm9ydENvbnRyb2xsZXI7bGV0IG49bnVsbDtpJiYobj1zKGksKCgpPT5jLmFib3J0KCkpKSk7Y29uc3QgdT0oKT0+e2NvbnN0IHM9dGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLmdldChlKTtzJiZzLmNvbnRyb2xsZXIuYWJvcnQoKSxsKCksYS5yZWplY3QoaCgpKX0sbD0oKT0+e18ucmVtb3ZlKCksbnVsbCE9biYmbi5yZW1vdmUoKSx0aGlzLl9kZWZlcnJlZHMuZGVsZXRlKGUpLHRoaXMuX2NvbnRyb2xsZXJzLmRlbGV0ZShlKSx0aGlzLl9xdWV1ZS5yZW1vdmUoZSksdGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLmRlbGV0ZShlKSx0aGlzLl9zY2hlZHVsZU5leHQoKX0sXz10KGMuc2lnbmFsLHUpLGE9cigpO3JldHVybiB0aGlzLl9kZWZlcnJlZHMuc2V0KGUsYSksdGhpcy5fY29udHJvbGxlcnMuc2V0KGUsYyksYS5wcm9taXNlLnRoZW4obCxsKSx0aGlzLl9xdWV1ZS5wdXNoKGUpLHRoaXMuX3NjaGVkdWxlTmV4dCgpLGEucHJvbWlzZX1sYXN0KCl7cmV0dXJuIHRoaXMuX3F1ZXVlLmxhc3QoKX1wZWVrKCl7cmV0dXJuIHRoaXMuX3F1ZXVlLnBlZWsoKX1wb3BMYXN0KCl7cmV0dXJuIHRoaXMuX3F1ZXVlLnBvcExhc3QoKX1yZXNldCgpe2NvbnN0IGU9W107dGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLmZvckVhY2goKHM9PmUucHVzaChzKSkpLHRoaXMuX3Byb2Nlc3NpbmdJdGVtcy5jbGVhcigpO2Zvcihjb25zdCBzIG9mIGUpdGhpcy5fcXVldWUucHVzaChzLml0ZW0pLHMuY29udHJvbGxlci5hYm9ydCgpO3RoaXMuX3NjaGVkdWxlTmV4dCgpfXJlc3VtZSgpe3RoaXMuX3BhdXNlZFNpZ25hbC52YWx1ZSYmKHRoaXMuX3BhdXNlZFNpZ25hbC52YWx1ZT0hMSx0aGlzLl9zY2hlZHVsZU5leHQoKSl9dGFrZUFsbCgpe2NvbnN0IGU9W107Zm9yKDt0aGlzLl9xdWV1ZS5sZW5ndGg7KWUucHVzaCh0aGlzLl9xdWV1ZS5wb3AoKSk7cmV0dXJuIHRoaXMuY2xlYXIoKSxlfWdldCBydW5uaW5nKCl7cmV0dXJuIXRoaXMuX3BhdXNlZFNpZ25hbC52YWx1ZSYmdGhpcy5fcXVldWUubGVuZ3RoPjAmJnRoaXMuX3Byb2Nlc3NpbmdJdGVtcy5zaXplPHRoaXMuY29uY3VycmVuY3l9cnVuVGFzayhlKXtmb3IoOyFlLmRvbmUmJnRoaXMuX3F1ZXVlLmxlbmd0aD4wJiZ0aGlzLl9wcm9jZXNzaW5nSXRlbXMuc2l6ZTx0aGlzLmNvbmN1cnJlbmN5Oyl0aGlzLl9wcm9jZXNzKHRoaXMuX3F1ZXVlLnBvcCgpKSxlLm1hZGVQcm9ncmVzcygpfV9zY2hlZHVsZU5leHQoKXt0aGlzLl90YXNrfHx0aGlzLl9wYXVzZWRTaWduYWwudmFsdWV8fHRoaXMuX3NjaGVkdWxlfHwodGhpcy5fc2NoZWR1bGU9bigoKCk9Pnt0aGlzLl9zY2hlZHVsZT1udWxsLHRoaXMuX25leHQoKX0pKSl9X25leHQoKXtmb3IoO3RoaXMuX3F1ZXVlLmxlbmd0aD4wJiZ0aGlzLl9wcm9jZXNzaW5nSXRlbXMuc2l6ZTx0aGlzLmNvbmN1cnJlbmN5Oyl0aGlzLl9wcm9jZXNzKHRoaXMuX3F1ZXVlLnBvcCgpKX1fY2FuY2VsTmV4dCgpe3RoaXMuX3NjaGVkdWxlJiYodGhpcy5fc2NoZWR1bGUucmVtb3ZlKCksdGhpcy5fc2NoZWR1bGU9bnVsbCl9X3Byb2Nlc3NSZXN1bHQoZSxzKXt0aGlzLl9jYW5Qcm9jZXNzRnVsZmlsbG1lbnQoZSkmJih0aGlzLl9zY2hlZHVsZU5leHQoKSx0aGlzLl9kZWZlcnJlZHMuZ2V0KGUuaXRlbSkucmVzb2x2ZShzKSl9X3Byb2Nlc3NFcnJvcihlLHMpe3RoaXMuX2NhblByb2Nlc3NGdWxmaWxsbWVudChlKSYmKHRoaXMuX3NjaGVkdWxlTmV4dCgpLHRoaXMuX2RlZmVycmVkcy5nZXQoZS5pdGVtKS5yZWplY3QocykpfV9jYW5Qcm9jZXNzRnVsZmlsbG1lbnQoZSl7cmV0dXJuISF0aGlzLl9kZWZlcnJlZHMuZ2V0KGUuaXRlbSkmJnRoaXMuX3Byb2Nlc3NpbmdJdGVtcy5nZXQoZS5pdGVtKT09PWV9X3Byb2Nlc3MoZSl7aWYobnVsbD09ZSlyZXR1cm47bGV0IHM7Y29uc3QgdD1uZXcgQWJvcnRDb250cm9sbGVyLHI9bmV3IGwoZSx0KTt0aGlzLl9wcm9jZXNzaW5nSXRlbXMuc2V0KGUscik7dHJ5e3M9dGhpcy5wcm9jZXNzKGUsdC5zaWduYWwpfWNhdGNoKGgpe3RoaXMuX3Byb2Nlc3NFcnJvcihyLGgpfWkocyk/KHIucHJvbWlzZT1zLHMudGhlbigoZT0+dGhpcy5fcHJvY2Vzc1Jlc3VsdChyLGUpKSwoZT0+dGhpcy5fcHJvY2Vzc0Vycm9yKHIsZSkpKSk6dGhpcy5fcHJvY2Vzc1Jlc3VsdChyLHMpfWdldCB0ZXN0KCl7cmV0dXJue3VwZGF0ZTplPT50aGlzLnJ1blRhc2soZSl9fX1leHBvcnR7XyBhcyBRdWV1ZVByb2Nlc3Nvcn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=