"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_views_interactive_snapping_SnappingManager_js"],{

/***/ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/floorFilterUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFloorFilterClause: () => (/* binding */ o),
/* harmony export */   getLayerFloorFilterClause: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o){const n=o.layer;if("floorInfo"in n&&n.floorInfo?.floorField&&"floors"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return"floorInfo"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>""!==o)).map((o=>`'${o}'`));return l.push("''"),`${n} IN (${l.join(",")}) OR ${n} IS NULL`}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/sketch/constraints.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/sketch/constraints.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CircleConstraint: () => (/* binding */ ft),
/* harmony export */   Constraint: () => (/* binding */ nt),
/* harmony export */   DrapedLineConstraint: () => (/* binding */ xt),
/* harmony export */   HorizontalCircleConstraint: () => (/* binding */ at),
/* harmony export */   HorizontalPlaneConstraint: () => (/* binding */ dt),
/* harmony export */   LineConstraint: () => (/* binding */ it),
/* harmony export */   LineLikeConstraint: () => (/* binding */ st),
/* harmony export */   PointConstraint: () => (/* binding */ rt),
/* harmony export */   RayConstraint: () => (/* binding */ ot),
/* harmony export */   SetConstraint: () => (/* binding */ ut),
/* harmony export */   SphereConstraint: () => (/* binding */ qt),
/* harmony export */   VerticalCylinderConstraint: () => (/* binding */ ct),
/* harmony export */   VerticalHalfPlaneConstraint: () => (/* binding */ Tt),
/* harmony export */   VerticalPlaneConstraint: () => (/* binding */ yt),
/* harmony export */   VerticalPlaneLikeConstraint: () => (/* binding */ mt)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/vec2f64.js */ "./node_modules/@arcgis/core/chunks/vec2f64.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./normalizedPoint.js */ "./node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js");
/* harmony import */ var _support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../support/geometry3dUtils.js */ "./node_modules/@arcgis/core/views/support/geometry3dUtils.js");
/* harmony import */ var _support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../support/geometry2dUtils.js */ "./node_modules/@arcgis/core/views/support/geometry2dUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class nt{intersect(t){return zt(this,t)}closestPoints(t){return[this.closestTo(t)]}}class rt extends nt{constructor(t){super(),this.point=t}equals(t){return this===t||$t(t)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this.point,t.point)}closestTo(){return (0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.clone)(this.point)}}class st extends nt{constructor(t,e,n){super(),this.start=t,this.end=e,this.lineLike={start:t,end:e,type:n}}equals(t){return this===t||te(t)&&this.lineLike.type===t.lineLike.type&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this.start,t.start)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this.end,t.end)}closestTo(t){const e=(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.projectPointToLineLike)(t,this.lineLike);return (0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromVec3)(e)}}class it extends st{constructor(t,e){super(t,e,_support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_10__.LineType.LINE)}}class ot extends st{constructor(t,e){super(t,e,_support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_10__.LineType.RAY)}}class ut extends nt{constructor(t){super(),this.constraints=t}equals(t){return this===t||Xt(t)&&(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.equals)(this.constraints,t.constraints,((t,e)=>t.equals(e)))}closestTo(t){let e,n=1/0;for(const r of this.constraints){const s=r.closestTo(t),i=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.a)(t,s);i<n&&(n=i,e=s)}return e?(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.clone)(e):t}closestPoints(t){return this.constraints.flatMap((e=>e===this?[]:e.closestPoints(t)))}}class ct extends nt{constructor(t,e){super(),this.center=t,this.radius=e}equals(t){return this===t||re(t)&&this.center[0]===t.center[0]&&this.center[1]===t.center[1]&&this.radius===t.radius}closestTo(t){const e=(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.projectPointToVerticalCylinder)(t,this.center,this.radius);return (0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromVec3)(e)}}class at extends nt{constructor(t,e){super(),this.center=t,this.radius=e}equals(t){return this===t||se(t)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this.center,t.center)&&this.radius===t.radius}closestTo(t){const e=(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.projectPointToVerticalCylinder)(t,this.center,this.radius);return e[2]=this.center[2],(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromVec3)(e)}asCircle(){return new ft((0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.clone)(this.center),this.radius,(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(0,0,1))}}class ft extends nt{constructor(t,e,n,r=void 0){super(),this.center=t,this.radius=e,this.normal=n,this.slicePlane=r}equals(t){return this===t||ie(t)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this.center,t.center)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this.normal,t.normal)&&this.radius===t.radius}closestTo(t){const{center:e,radius:n}=this;(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.projectPoint)(this.getPlane(ht),t,lt);const r=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(lt,lt,e),s=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.m)(r);if((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(s,0))return (0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.clone)(t);const i=n/Math.sqrt(s),o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.q)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),e,r,i),{slicePlane:u}=this;if(u&&!(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isPointInsidePlane)(u,o)){const e=At(u,this);return e?.closestTo(t)??(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.clone)(t)}return (0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromVec3)(o)}getPlane(t=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)()){return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.fromPositionAndNormal)(this.center,this.normal,t)}}const lt=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),ht=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)();class dt extends nt{constructor(t){super(),this.z=t}equals(t){return this===t||ee(t)&&this.z===t.z}closestTo(t){return (0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromVec3)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(t[0],t[1],this.z))}getPlane(t=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.s)(pt,0,0,this.z),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.fromPositionAndNormal)(pt,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.d,t)}}const pt=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)();class mt extends nt{constructor(t,e,n){super(),this.start=t,this.end=e,this.planeLike={start:t,end:e,type:n}}equals(t){return this===t||ne(t)&&this.planeLike.type===t.planeLike.type&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this.start,t.start)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this.end,t.end)}closestTo(t){return (0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromVec3)((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.projectPointToVerticalPlane)(t,this.planeLike))}closestEndTo(t){const{start:e,end:s}=this;return Math.sign((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.g)((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.c)(Lt,s,e),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.c)(kt,t,e)))>0?s:e}getPlane(t=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)()){const e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(gt,this.end);return e[2]+=1,(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.fromPoints)(this.start,this.end,e,t)}getSlicePlane(t=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)()){const{start:e,end:n,type:r}=this.planeLike;if(r===_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.VerticalPlaneType.PLANE)return;const s=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.s)(gt,e[0],e[1],0),i=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.s)(Pt,n[0],n[1],0),o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.f)(Pt,i,s);return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.fromPositionAndNormal)(s,o,t),t}}const Lt=(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),kt=(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),gt=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),Pt=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)();class Tt extends mt{constructor(t,e){super(t,e,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.VerticalPlaneType.HALF_PLANE)}}class yt extends mt{constructor(t,e){super(t,e,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.VerticalPlaneType.PLANE)}}class qt extends nt{constructor(t,e){super(),this.sphere=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_7__.k)(t,e)}equals(t){return this===t||oe(t)&&(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_7__.l)(this.sphere,t.sphere)}closestTo(t){const e=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_7__.p)(this.sphere,t,(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)());return (0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromVec3)(e)}get center(){return this.sphere}get radius(){return this.sphere[3]}}class xt extends nt{constructor(t,e,n){super(),this.start=t,this.end=e,this.getZ=n,this.planeLike={start:t,end:e,type:_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.VerticalPlaneType.PLANE}}equals(t){return this===t||ue(t)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this.start,t.start)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.h)(this.end,t.end)&&this.getZ===t.getZ}closestTo(t){return vt(this,t)}addIfOnTheGround(t,e){for(const n of e){const e=this.getZ(n[0],n[1])??0;(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(n[2],e)&&(n[2]=e,t.push(n))}}}function vt(t,e){const n=(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.projectPointToVerticalPlane)(e,t.planeLike);return n[2]=t.getZ(n[0],n[1])??ce,(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromVec3)(n)}function zt(t,e){if(Xt(t)){const n=[];for(const r of t.constraints){const t=r.intersect(e);t&&n.push(t)}return Wt(n)}if(Xt(e))return zt(e,t);if(ue(t))return Jt(t,e);if(ue(e))return Jt(e,t);if($t(t)){const{point:n}=t,r=e.closestTo(n);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.G)(r,n)?t:void 0}if(te(t)){if($t(e))return zt(e,t);if(te(e))return Qt((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectLineLikes)(t.lineLike,e.lineLike));if(ee(e))return jt(t,e);if(ne(e))return Qt((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectVerticalPlaneAndLineLike)(e.planeLike,t.lineLike));if(re(e))return Qt((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectLineLikeAndVerticalCylinder)(t.lineLike,e.center,e.radius));if(ie(e))return Qt((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectLineLikeAndCircle)(t.lineLike,e));if(se(e))return wt(t,e);if(oe(e))return Et(t,e)}else if(ee(t)){if($t(e)||te(e))return zt(e,t);if(ee(e))return Mt(t,e);if(ne(e))return Nt(t,e);if(re(e))return Zt(t,e);if(ie(e))return Gt(t,e);if(se(e))return It(t,e);if(oe(e))return St(t,e)}else if(ne(t)){if($t(e)||te(e)||ee(e))return zt(e,t);if(ne(e))return Kt((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectVerticalPlanes)(t.planeLike,e.planeLike));if(re(e))return Kt((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectVerticalPlaneAndVerticalCylinder)(t.planeLike,e.center,e.radius));if(ie(e))return Ut(t,e);if(se(e))return Ot(t,e);if(oe(e))return bt(t,e)}else if(re(t)){if($t(e)||te(e)||ee(e)||ne(e))return zt(e,t);if(re(e))return Kt((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectVerticalCylinders)(t.center,t.radius,e.center,e.radius));if(ie(e))return Ct();if(se(e))return Ft(t,e);if(oe(e))return Ht()}else if(ie(t)){if($t(e)||te(e)||ee(e)||ne(e)||re(e))return zt(e,t);if(ie(e))return Rt();if(se(e))return Rt(e.asCircle());if(oe(e))return Yt()}else if(se(t)){if($t(e)||te(e)||ee(e)||ne(e)||re(e)||ie(e))return zt(e,t);if(se(e))return _t(e,t);if(oe(e))return Bt()}else if(oe(t)){if($t(e)||te(e)||ee(e)||ne(e)||re(e)||se(e))return zt(e,t);if(oe(e))return Dt()}}const jt=(()=>{const t=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)();return(e,n)=>{const{start:r,end:s}=e;if((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.vectorsHaveCloseZ)(r,s)&&(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(r[2],n.z))return e;const i=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)();return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.intersectLine)(n.getPlane(t),r,s,i)?new rt((0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromVec3)(i)):void 0}})();function wt({lineLike:t},{center:e,radius:n}){const r=e[2];return Qt((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectLineLikeAndVerticalCylinder)(t,e,n).filter((t=>(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(t[2],r))))}function Et({lineLike:t},{sphere:e}){return Qt((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_7__.m)(e,t.start,t.end))}const At=(()=>{const t=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.create)(),e=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)(),n={start:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),end:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),type:_support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_10__.LineType.LINE};return(r,s,i)=>{const{normal:a,center:f,radius:l}=s,h=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(a,(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.normal)(r)),d=(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.distance)(r,f),0);if((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(h,1))return d?s:void 0;if(s.getPlane(e),d&&(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(h,0)&&(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.isVertical)(r)&&(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.isVertical)(e)){if((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(l,0))return!i||(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isPointInsidePlane)(i,f)?new rt((0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.clone)(f)):void 0;const t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.g)(f);t[2]+=l;const e=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.g)(f);e[2]-=l;const n=[];return i&&!(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isPointInsidePlane)(i,t)||n.push(t),i&&!(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isPointInsidePlane)(i,e)||n.push(e),Qt(n)}if(!(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.intersectPlanes)(r,e,t))return;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(n.start,t.origin),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.g)(n.end,t.origin,t.direction);const p=(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectLineLikeAndCircle)(n,s);return Qt(i?(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.pointsInsidePlane)(i,p):p)}})();function Mt(t,e){return (0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(t.z,e.z)?t:void 0}function Nt({z:t},{planeLike:e}){const[n,r]=e.start,[s,i]=e.end,o=(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(n,r,t),u=(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(s,i,t);return e.type===_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.VerticalPlaneType.PLANE?new it(o,u):new ot(o,u)}function Zt(t,e){const[n,r]=e.center;return new at((0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(n,r,t.z),e.radius)}function It(t,e){return (0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(e.center[2],t.z)?e:void 0}const Gt=(()=>{const t=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)();return(e,n)=>At(e.getPlane(t),n)})();function St(t,{center:e,radius:n}){const r=Math.abs(e[2]-t.z);if(r>n&&!(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(r,n))return;const s=(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(e[0],e[1],t.z),i=Math.sqrt(n**2-r**2);return (0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(i,0)?void 0:new at(s,i)}const Ot=(()=>{const t=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)();return(e,{center:n,radius:r})=>{const s=(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectVerticalPlaneAndVerticalCylinder)(e.planeLike,n,r),i=n[2];e.getSlicePlane(t);const o=[];for(const[u,c]of s){const e=[u,c,i];(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isPointInsidePlane)(t,e)&&o.push(e)}return Qt(o)}})(),Ut=(()=>{const t=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)(),e=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)();return(n,r)=>At(n.getPlane(t),r,n.getSlicePlane(e))})(),bt=(()=>{const t=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)();return(e,{center:n,radius:r})=>{const s=e.getPlane(t),i=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.signedDistance)(s,n),o=Math.abs(i);if(o>r&&!(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(o,r))return;const u=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.g)((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.normal)(s)),c=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.q)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),n,u,i),f=Math.sqrt(r**2-i**2);return (0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(f,0)?new rt((0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromVec3)((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.projectPoint)(s,n,(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)()))):new ft((0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromVec3)(c),f,u,e.getSlicePlane())}})();function Ct(t,e){}function Ft(t,e){const n=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.k)(t.center,e.center);if((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(n,0)&&(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(t.radius,e.radius))return e;return Vt((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectVerticalCylinders)(t.center,t.radius,e.center,e.radius),e.center[2])}function Ht(t,e){}function Rt(t,e){}function Yt(t,e){}function _t(t,e){if(!(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.vectorsHaveCloseZ)(t.center,e.center))return;const n=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.k)(t.center,e.center);if((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(n,0)&&(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.isClose)(t.radius,e.radius))return t;return Vt((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectVerticalCylinders)(t.center,t.radius,e.center,e.radius),t.center[2])}function Bt(t,e){}function Dt(t,e){}function Jt(t,e){const{planeLike:n,getZ:r}=t,s=[];if($t(e))t.addIfOnTheGround(s,(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectVerticalPlaneAndPoint)(n,e.point));else if(te(e))t.addIfOnTheGround(s,(0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectVerticalPlaneAndLineLike)(n,e.lineLike));else if(re(e))for(const[i,o]of (0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectVerticalPlaneAndVerticalCylinder)(n,e.center,e.radius)){const t=r(i,o);null!=t&&s.push((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(i,o,t))}else if(ne(e)||ue(e))for(const[i,o]of (0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_9__.intersectVerticalPlanes)(n,e.planeLike)){const t=r(i,o)??ce;s.push((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(i,o,t))}return Qt(s)}function Kt(t){return Wt(t.map((([t,e])=>{const n=(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(t,e,0),r=(0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(t,e,1);return new it(n,r)})))}function Qt(t){return Wt(t.map((t=>t?new rt((0,_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_8__.fromVec3)(t)):void 0)))}function Vt(t,e){return Qt(t.map((([t,n])=>[t,n,e])))}function Wt(e){if(0!==e.length)return 1===e.length?e[0]??void 0:new ut(e.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome))}function Xt(t){return t instanceof ut}function $t(t){return t instanceof rt}function te(t){return t instanceof st}function ee(t){return t instanceof dt}function ne(t){return t instanceof mt}function re(t){return t instanceof ct}function se(t){return t instanceof at}function ie(t){return t instanceof ft}function oe(t){return t instanceof qt}function ue(t){return t instanceof xt}const ce=0;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSnappingEngine: () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _chunks_common_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../chunks/common.js */ "./node_modules/@arcgis/core/chunks/common.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../sketch/constraints.js */ "./node_modules/@arcgis/core/views/interactive/sketch/constraints.js");
/* harmony import */ var _sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../sketch/normalizedPoint.js */ "./node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js");
/* harmony import */ var _FeatureSnappingSourceInfo_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./FeatureSnappingSourceInfo.js */ "./node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingSourceInfo.js");
/* harmony import */ var _SnappingDomain_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./SnappingDomain.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingDomain.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _candidates_DrapedEdgeSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./candidates/DrapedEdgeSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/DrapedEdgeSnappingCandidate.js");
/* harmony import */ var _candidates_EdgeSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./candidates/EdgeSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/EdgeSnappingCandidate.js");
/* harmony import */ var _candidates_FeatureSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./candidates/FeatureSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js");
/* harmony import */ var _candidates_RightAngleSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./candidates/RightAngleSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js");
/* harmony import */ var _support_viewUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../support/viewUtils.js */ "./node_modules/@arcgis/core/views/interactive/support/viewUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let I=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{get updating(){return this._snappingSources.some((e=>null==e||e.valid&&e.snappingSource.updating))||this._updatingHandles.updating}constructor(e){super(e),this.options=null,this._domain=_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_20__.SnappingDomain.FEATURE,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__.UpdatingHandles,this._sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null},notes:{module:null,loader:null},scene:{module:null,loader:null}}}initialize(){const e=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.mapCollectionAsync)((()=>this.options?.featureSources),((e,t)=>this._createSourceInfo(e,t)));this._snappingSources=e,this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.destroyHandle)(e))}destroy(){this._set("options",null),this._updatingHandles.destroy()}async fetchCandidates(e,t,r,s){if(!(t&this._domain&&null!=this.options&&this.options.effectiveFeatureEnabled))return[];const o=[],i=this._computeScreenSizeDistanceParameters(e,r);for(const n of this._snappingSources){if(null==n||!n.valid||!n.snappingSource.layerSource.enabled||n.layerView?.suspended)continue;const t=n.getFetchCandidatesParameters(e,r,i);for(const e of t)o.push(n.snappingSource.fetchCandidates(e,s).then((e=>e.filter((e=>!this._candidateIsExcluded(n.snappingSource,e,r.excludeFeature))))))}const c=(await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.allSettledValues)(o)).flat();return this._addRightAngleCandidates(c,e,i,r),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(s),(0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_21__.sortCandidatesInPlace)(e,c),c}_addRightAngleCandidates(e,t,r,n){const a=null!=n.vertexHandle?n.vertexHandle.rightEdge?.rightVertex?.pos:null!=n.editGeometryOperations&&"polygon"===n.editGeometryOperations.data.type?n.editGeometryOperations.data.components[0]?.getFirstVertex()?.pos:null,s=null!=n.vertexHandle?n.vertexHandle.leftEdge?.leftVertex?.pos:null!=n.editGeometryOperations?n.editGeometryOperations.data.components[0]?.getLastVertex()?.pos:null,{view:o}=this,i=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_18__.fromAnyMapPoint)(a,o,n),c=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_18__.fromAnyMapPoint)(s,o,n),u=e.length;for(let p=0;p<u;p++)this._addRightAngleCandidate(e[p],c,t,r,e),this._addRightAngleCandidate(e[p],i,t,r,e)}_addRightAngleCandidate(e,t,r,n,a){if(null==t||!L(e))return;const s=e.constraint.closestTo(t),o=(s[0]-r[0])/n.x,i=(s[1]-r[1])/n.y,{start:c,end:u}=e.constraint;if(o*o+i*i<=1){const r=new _candidates_RightAngleSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_25__.RightAngleSnappingCandidate({targetPoint:s,otherVertex:t,otherVertexType:_candidates_RightAngleSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_25__.OtherVertexType.NEXT,previousVertex:(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_11__.k)(s,c)>(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_11__.k)(s,u)?c:u,constraint:new _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_17__.VerticalHalfPlaneConstraint(t,s),objectId:e.objectId,isDraped:e.isDraped});a.push(r)}}_computeScreenSizeDistanceParameters(e,t){let r=null!=this.options?this.options.distance*("touch"===t.pointer?this.options.touchSensitivityMultiplier:1):0;return null==this.view?{x:r,y:r,z:r,distance:r}:"2d"===this.view.type?(r*=this.view.resolution,{x:r,y:r,z:r,distance:r}):this._computeScreenSizeDistanceParameters3D(e,r,this.view,t)}_computeScreenSizeDistanceParameters3D(e,t,r,n){const{spatialReference:a}=n;r.renderCoordsHelper.toRenderCoords(e,a,P);const s=r.state.camera.computeScreenPixelSizeAt(P),c=s*r.renderCoordsHelper.unitInMeters,u=c/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.getMetersPerUnitForSR)(a),p=c/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.getMetersPerVerticalUnitForSR)(a),l=t*u,d=t*p,S=(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_26__.vectorToScreenPoint)(e,a,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_16__.absoluteHeightElevationInfo,r),m=S?H(S,e,u,0,0,r,n):0,h=S?H(S,e,0,u,0,r,n):0,f=S?H(S,e,0,0,p,r,n):0;return{x:0===m?0:l/m,y:0===h?0:l/h,z:0===f?0:d/f,distance:s*t}}_candidateIsExcluded(e,t,r){if(null==r)return!1;const n=this._getCandidateObjectId(t);if(null==n)return!1;const a=e.layerSource.layer;return"graphics"===a.type?r.uid===n:r.sourceLayer===a&&(!(!r.attributes||!("objectIdField"in a))&&r.attributes[a.objectIdField]===n)}_getCandidateObjectId(e){return e instanceof _candidates_FeatureSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_24__.FeatureSnappingCandidate?e.objectId:null}async _createSourceInfo(e,t){const r=e.layer;r.loaded||(await r.load(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t));const{view:n}=this,s=await this._createFeatureSnappingSourceType(e);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t),new _FeatureSnappingSourceInfo_js__WEBPACK_IMPORTED_MODULE_19__.FeatureSnappingSourceInfo(null==s?{}:{snappingSource:s,view:n,layer:r})}async _createFeatureSnappingSourceType(e){switch(e.layer.type){case"feature":case"geojson":case"csv":case"oriented-imagery":case"subtype-group":case"wfs":return this._createFeatureSnappingSourceFeatureLayer(e);case"graphics":return this._createFeatureSnappingSourceGraphicsLayer(e);case"map-notes":return this._createFeatureSnappingSourceMapNotesLayer(e);case"scene":case"building-scene":return this._createFeatureSnappingSourceSceneLayer(e)}return null}async _createFeatureSnappingSourceSceneLayer(e){const{view:t}=this;if(null==t||"3d"!==t.type)return null;return new((await this._getSourceModule("scene")).SceneLayerSnappingSource)({layerSource:e,view:t})}async _createFeatureSnappingSourceFeatureLayer(e){switch(e.layer.source?.type){case"feature-layer":case"oriented-imagery":return new((await this._getSourceModule("featureService")).FeatureServiceSnappingSource)({spatialReference:this.spatialReference,view:this.view,layerSource:e});case"memory":case"csv":case"geojson":case"wfs":if("mesh"===e.layer.geometryType)return null;return new((await this._getSourceModule("featureCollection")).FeatureCollectionSnappingSource)({layerSource:e,view:this.view})}return null}async _createFeatureSnappingSourceGraphicsLayer(e){return new((await this._getSourceModule("graphics")).GraphicsSnappingSource)({getGraphicsLayers:()=>[e.layer],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _createFeatureSnappingSourceMapNotesLayer(e){return new((await this._getSourceModule("notes")).GraphicsSnappingSource)({getGraphicsLayers:()=>e.layer.sublayers?.toArray()??[],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _getSourceModule(e){const t=this._sourceModules[e];if(null==t.loader){const t=this._loadSourceModule(e),r={module:null,loader:t};this._sourceModules[e]=r;const n=await t,a={module:n,loader:t};return this._sourceModules[e]=a,n}return null==t.module?t.loader:t.module}_loadSourceModule(e){const t=this._updatingHandles;switch(e){case"featureService":return t.addPromise(__webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_views_interactive_snapping_featureSources_FeatureServiceSnap-1bf472").then(__webpack_require__.bind(__webpack_require__, /*! ./featureSources/FeatureServiceSnappingSource.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/FeatureServiceSnappingSource.js")));case"featureCollection":return t.addPromise(__webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_views_interactive_snapping_featureSources_FeatureCollectionS-8652c2").then(__webpack_require__.bind(__webpack_require__, /*! ./featureSources/FeatureCollectionSnappingSource.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/FeatureCollectionSnappingSource.js")));case"graphics":case"notes":return t.addPromise(Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_core_sql_DateOnly_js-node_modules_arcgis_core_core_sql_TimeOnly_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_Basemap_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_views_support_Scheduler_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_core_sql_WhereClause_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_core_libs_rbush_PooledRBush_js-node_modules_arcgis_core_laye-60a2df"), __webpack_require__.e("vendors-node_modules_arcgis_core_smartMapping_statistics_support_utils_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_graphics_data_queryUtils_js-node_modules_arcgis_core_-e25738"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_graphics_data_QueryEngine_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_quantizationUtils_js-node_modules_arcgis_co-3fb5e5")]).then(__webpack_require__.bind(__webpack_require__, /*! ./featureSources/GraphicsSnappingSource.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/GraphicsSnappingSource.js")));case"scene":return t.addPromise(Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_views_webgl_enums_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_buffer_BufferView_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_views_3d_webgl-engine_lib_edgeRendering_EdgeWorkerHandle_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_meshUtils_deduplicate_js-node_modules_arcgi-04bbe3")]).then(__webpack_require__.bind(__webpack_require__, /*! ./featureSources/SceneLayerSnappingSource.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/SceneLayerSnappingSource.js")))}}get test(){return{snappingSources:this._snappingSources}}};function L(e){return(e instanceof _candidates_EdgeSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_23__.EdgeSnappingCandidate||e instanceof _candidates_DrapedEdgeSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_22__.DrapedEdgeSnappingCandidate)&&!G(e)}function G({constraint:{start:e,end:t}}){const r=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.a)(e,t),n=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_11__.k)(e,t);return r<(0,_chunks_common_js__WEBPACK_IMPORTED_MODULE_14__.g)()||n/r<z}function H(e,t,r,n,a,s,{spatialReference:o}){const i=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.c)(E,t);i[0]+=r,i[1]+=n,i[2]+=a;const c=(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_26__.vectorToScreenPoint)(i,o,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_16__.absoluteHeightElevationInfo,s);return c?(0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_21__.screenDistance)(c,e):1/0}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],I.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],I.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],I.prototype,"options",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],I.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],I.prototype,"_snappingSources",void 0),I=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.interactive.snapping.FeatureSnappingEngine")],I);const P=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.c)(),E=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.c)(),z=1e-4;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let e=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(r){super(r),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],e.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],e.prototype,"enabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],e.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],e.prototype,"availability",void 0),e=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.interactive.snapping.FeatureSnappingLayerSource")],e);const p=e;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingSourceInfo.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingSourceInfo.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSnappingSourceInfo: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/sql.js */ "./node_modules/@arcgis/core/core/sql.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../layers/support/floorFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js");
/* harmony import */ var _layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../layers/support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let y=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{get layerView(){return this.view?.allLayerViews?.find((e=>e.layer===this.layer))}get valid(){return this._valid}get subtypeFilter(){const{layer:e}=this;if(!(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_12__.isSubtypeGroupLayer)(e)||!e.subtypes?.length)return{mode:"not-in-use",filter:null};const r=e.fieldsIndex.get(e.subtypeField)?.name??e.subtypeField,t=e.sublayers.filter((e=>e.visible)).map((e=>e.subtypeCode));return t.length?t.length===e.subtypes.length?{mode:"all-visible",filter:null}:1===t.length?{mode:"in-use",filter:`${r} = ${t.getItemAt(0)}`}:{mode:"in-use",filter:`${r} IN (${t.join(", ")})`}:{mode:"none-visible",filter:null}}get floorFilter(){const{view:e,layer:r}=this;return e&&r?(0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_11__.getFloorFilterClause)({view:e,layer:r}):null}constructor(e){super(e),this.rulesTable=null,this._valid=!1}initialize(){if(!this.snappingSource||!this.layer)return;const{layer:e,snappingSource:r}=this;if("refresh"in e){const t=e;this.addHandles(t.on("refresh",(()=>r.refresh())))}this.loadRules(),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>r.updating),(e=>r.layerSource.updating=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>r.availability),(e=>r.layerSource.availability=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.syncAndInitial)])}getFetchCandidatesParameters(e,r,t){if(!this.valid)return[];const{layer:i,layerView:l,floorFilter:o,rulesTable:n,subtypeFilter:p}=this,u={distance:t,mode:this.view?.type??"2d",point:e,coordinateHelper:r.coordinateHelper,...this._types,filter:l&&"filter"in l?l.filter:null};if(o&&(u.filter=f(u.filter,o)),"not-in-use"!==p.mode&&"all-visible"!==p.mode){if("none-visible"===p.mode)return[];u.filter?u.filter.where=(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_4__.sqlAnd)(u.filter.where,p.mode):u.filter=new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_10__["default"]({where:p.filter})}if(n){const e=r.feature,t=e?.sourceLayer;if(!(e&&(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_12__.isFeatureLayer)(i)&&i.layerId&&(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_12__.isFeatureLayer)(t)&&"loaded"===n.loadStatus))return[];const l=[],s=i.layerId,o=n.getFeatureSQL(t,e)?.[s];if(!o)return[];const a=o.anyVertex;let p=o.endVertex;return p&&a&&p===a&&(p=""),p&&l.push({...u,returnEdge:!1,vertexMode:"ends",filter:f(u.filter,p)}),a&&l.push({...u,returnEdge:!1,vertexMode:"all",filter:f(u.filter,a)}),l}return[u]}async loadRules(){const{layer:e,view:r}=this;if(e&&r&&(0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_13__.isUtilityNetworkWebMap)(r?.map)&&(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_12__.isFeatureLayer)(e)){const l=r.map.utilityNetworks?.find((r=>r.isUtilityLayer(e)));if(l)try{this.rulesTable=await l.getRulesTable(),await(this.rulesTable?.load()),this._valid=!0}catch(i){return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.interactive.snapping.FeatureSnappingSourceInfo").error("Failed to load rules table for snapping source",e.title)}}else this._valid=!0}get _types(){return{returnEdge:!0,vertexMode:"all"}}remove(){this.destroy()}destroy(){this.snappingSource?.destroy()}};function f(e,r){return null==e?new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_10__["default"]({where:r}):e.where?new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_10__["default"]({where:(0,_core_sql_js__WEBPACK_IMPORTED_MODULE_4__.sqlAnd)(e.where,r)}):new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_10__["default"]({where:r})}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],y.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],y.prototype,"snappingSource",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],y.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"layerView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"rulesTable",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"valid",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"subtypeFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"floorFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"_valid",void 0),y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.interactive.snapping.FeatureSnappingSourceInfo")],y);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/LineSnapper.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/LineSnapper.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineSnapper: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../sketch/normalizedPoint.js */ "./node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js");
/* harmony import */ var _SnappingAlgorithm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SnappingAlgorithm.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _candidates_LineSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./candidates/LineSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/LineSnappingCandidate.js");
/* harmony import */ var _support_viewUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../support/viewUtils.js */ "./node_modules/@arcgis/core/views/interactive/support/viewUtils.js");
/* harmony import */ var _support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../support/geometry3dUtils.js */ "./node_modules/@arcgis/core/views/support/geometry3dUtils.js");
/* harmony import */ var _support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../support/geometry2dUtils.js */ "./node_modules/@arcgis/core/views/support/geometry2dUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class a extends _SnappingAlgorithm_js__WEBPACK_IMPORTED_MODULE_2__.SnappingAlgorithm{snapNewVertex(t,s){const r=s.editGeometryOperations.data.components[0],o=r.edges.length,n=[];if(o<1)return n;const{spatialReference:p}=s,h=(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_5__.vectorToScreenPoint)(t,p,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_0__.absoluteHeightElevationInfo,this.view),{view:a}=this,l=r.edges[o-1];let g=l;do{if(this.edgeExceedsShortLineThreshold(g,s)){const e=(0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_3__.editEdgeToSnappingEdge)(g,a,s);this._processCandidateProposal(e.left,e.right,t,h,s,n)}g=g.leftVertex.leftEdge}while(g&&g!==l);return n}snapExistingVertex(s,r){const o=[],n=r.vertexHandle,p=n.component;if(p.edges.length<2)return o;const{view:h}=this,{spatialReference:a}=r,l=(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_5__.vectorToScreenPoint)(s,a,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_0__.absoluteHeightElevationInfo,h),g=n.leftEdge,m=n.rightEdge;g&&m&&this.edgeExceedsShortLineThreshold(g,r)&&this.edgeExceedsShortLineThreshold(m,r)&&this._processCandidateProposal((0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_1__.fromAnyMapPoint)(g.leftVertex.pos,h,r),(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_1__.fromAnyMapPoint)(m.rightVertex.pos,h,r),s,l,r,o);const c=p.edges[0];let f=c;do{if(f!==n.leftEdge&&f!==n.rightEdge&&this.edgeExceedsShortLineThreshold(f,r)){const e=(0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_3__.editEdgeToSnappingEdge)(f,h,r);this._processCandidateProposal(e.left,e.right,s,l,r,o)}f=f.rightVertex.rightEdge}while(f&&f!==c);return o}_processCandidateProposal(t,r,i,a,l,g){const{spatialReference:m,pointer:c}=l,f=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_1__.fromVec3)((0,_support_geometry3dUtils_js__WEBPACK_IMPORTED_MODULE_6__.projectPointToLineLike)(i,{start:t,end:r,type:_support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.LINE}));(0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_3__.squaredScreenDistance)(a,(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_5__.vectorToScreenPoint)(f,m,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_0__.absoluteHeightElevationInfo,this.view))<this.squaredProximityThreshold(c)&&g.push(new _candidates_LineSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_4__.LineSnappingCandidate({lineStart:t,lineEnd:r,targetPoint:f,isDraped:"on-the-ground"===l.elevationInfo?.mode}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ParallelLineSnapper: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/vec2f64.js */ "./node_modules/@arcgis/core/chunks/vec2f64.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../sketch/normalizedPoint.js */ "./node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js");
/* harmony import */ var _Settings_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Settings.js */ "./node_modules/@arcgis/core/views/interactive/snapping/Settings.js");
/* harmony import */ var _SnappingAlgorithm_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SnappingAlgorithm.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _candidates_ParallelLineSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./candidates/ParallelLineSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/ParallelLineSnappingCandidate.js");
/* harmony import */ var _support_viewUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/viewUtils.js */ "./node_modules/@arcgis/core/views/interactive/support/viewUtils.js");
/* harmony import */ var _support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../support/geometry2dUtils.js */ "./node_modules/@arcgis/core/views/support/geometry2dUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class p extends _SnappingAlgorithm_js__WEBPACK_IMPORTED_MODULE_5__.SnappingAlgorithm{snapNewVertex(e,t){const s=t.editGeometryOperations.data.components[0],o=s.edges.length,n=s.vertices.length,a=[];if(o<2)return a;const{view:h}=this,d=(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_8__.vectorToScreenPoint)(e,t.spatialReference,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_2__.absoluteHeightElevationInfo,h),p=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_3__.fromAnyMapPoint)(s.vertices[n-1].pos,h,t),g=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_3__.fromAnyMapPoint)(s.vertices[0].pos,h,t),f=s.edges[o-1];let m=f;do{if(this.edgeExceedsShortLineThreshold(m,t)){const r=(0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_6__.editEdgeToSnappingEdge)(m,h,t);this._checkEdgeForParallelLines(r,p,e,d,t,a),this._checkEdgeForParallelLines(r,g,e,d,t,a)}m=m.leftVertex.leftEdge}while(m&&m!==f);return a}snapExistingVertex(e,t){const s=[],o=t.vertexHandle,n=o.component;if(n.edges.length<3)return s;const{view:a}=this,h=(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_8__.vectorToScreenPoint)(e,t.spatialReference,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_2__.absoluteHeightElevationInfo,a),d=o.leftEdge,p=o.rightEdge,g=n.vertices[0],f=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_3__.fromAnyMapPoint)(g.pos,a,t),m=n.vertices.length,u=n.vertices[m-1],v=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_3__.fromAnyMapPoint)(u.pos,a,t),E=n.edges[0];let L=E;do{if(L!==d&&L!==p&&this.edgeExceedsShortLineThreshold(L,t)){const r=(0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_6__.editEdgeToSnappingEdge)(L,a,t);d&&this._checkEdgeForParallelLines(r,(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_3__.fromAnyMapPoint)(d.leftVertex.pos,a,t),e,h,t,s),p&&this._checkEdgeForParallelLines(r,(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_3__.fromAnyMapPoint)(p.rightVertex.pos,a,t),e,h,t,s),o===g?this._checkEdgeForParallelLines(r,v,e,h,t,s):o===u&&this._checkEdgeForParallelLines(r,f,e,h,t,s)}L=L.rightVertex.rightEdge}while(L&&L!==E);return s}_checkEdgeForParallelLines(t,i,n,l,p,f){const m=t.left,u=t.right;if((0,_support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_9__.projectPointToLine)(g,i,m,u),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.k)(g,i)<_Settings_js__WEBPACK_IMPORTED_MODULE_4__.defaults.parallelLineThreshold)return;(0,_support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_9__.projectPointToLine)(g,n,m,u,i);const{spatialReference:v,pointer:E}=p,L=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(g[0],g[1],n[2]);if((0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_6__.squaredScreenDistance)(l,(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_8__.vectorToScreenPoint)(L,v,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_2__.absoluteHeightElevationInfo,this.view))<this.squaredProximityThreshold(E)){if(this.isVertical(L,i)||this.isVertical(m,u))return;if(this._parallelToPreviousCandidate(t,f))return;f.push(new _candidates_ParallelLineSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_7__.ParallelLineSnappingCandidate({referenceLine:t,lineStart:i,targetPoint:L,isDraped:"on-the-ground"===p.elevationInfo?.mode}))}}_parallelToPreviousCandidate(t,r){const i=t.left,s=t.right;for(const n of r)if((0,_support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_9__.projectPointToLine)(g,s,n.constraint.start,n.constraint.end,i),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.k)(g,s)<_Settings_js__WEBPACK_IMPORTED_MODULE_4__.defaults.parallelLineThreshold)return n.addReferenceLine(t),!0;return!1}}const g=(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RightAngleSnapper: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/vec2f64.js */ "./node_modules/@arcgis/core/chunks/vec2f64.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../sketch/constraints.js */ "./node_modules/@arcgis/core/views/interactive/sketch/constraints.js");
/* harmony import */ var _sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../sketch/normalizedPoint.js */ "./node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js");
/* harmony import */ var _SnappingAlgorithm_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SnappingAlgorithm.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _candidates_RightAngleSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./candidates/RightAngleSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js");
/* harmony import */ var _support_viewUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../support/viewUtils.js */ "./node_modules/@arcgis/core/views/interactive/support/viewUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class E extends _SnappingAlgorithm_js__WEBPACK_IMPORTED_MODULE_7__.SnappingAlgorithm{snapNewVertex(e,t){const s=t.editGeometryOperations.data.components[0],i=s.vertices.length,r=[];if(i<2)return r;const{view:o}=this,n=(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_10__.vectorToScreenPoint)(e,t.spatialReference,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_4__.absoluteHeightElevationInfo,o),h=s.vertices[i-1];if(this.edgeExceedsShortLineThreshold(h.leftEdge,t)){const s=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_6__.fromAnyMapPoint)(h.pos,o,t),i=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_6__.fromAnyMapPoint)(h.leftEdge.leftVertex.pos,o,t);this._checkForSnappingCandidate(r,i,s,e,n,t)}const a=s.vertices[0];if(this.edgeExceedsShortLineThreshold(a.rightEdge,t)){const s=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_6__.fromAnyMapPoint)(a.pos,o,t),i=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_6__.fromAnyMapPoint)(a.rightEdge.rightVertex.pos,o,t);this._checkForSnappingCandidate(r,i,s,e,n,t)}return r}snapExistingVertex(e,t){const s=[],i=t.vertexHandle;if(i.component.vertices.length<3)return s;const{view:r}=this,o=(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_10__.vectorToScreenPoint)(e,t.spatialReference,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_4__.absoluteHeightElevationInfo,r),n=i.leftEdge,h=i.rightEdge;if(n?.leftVertex.leftEdge){const i=n.leftVertex.leftEdge;if(this.edgeExceedsShortLineThreshold(i,t)){const n=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_6__.fromAnyMapPoint)(i.rightVertex.pos,r,t),h=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_6__.fromAnyMapPoint)(i.leftVertex.pos,r,t);this._checkForSnappingCandidate(s,h,n,e,o,t)}}if(h?.rightVertex.rightEdge){const i=h.rightVertex.rightEdge;if(this.edgeExceedsShortLineThreshold(i,t)){const n=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_6__.fromAnyMapPoint)(i.leftVertex.pos,r,t),h=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_6__.fromAnyMapPoint)(i.rightVertex.pos,r,t);this._checkForSnappingCandidate(s,h,n,e,o,t)}}return s}_checkForSnappingCandidate(r,d,f,E,j,k){const{spatialReference:S,pointer:w}=k;(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.c)(V,f,d);const C=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(u,V[1],-V[0],0),T=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.g)(C,(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.c)(V,E,f))/(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.v)(C),F=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_6__.fromVec3)((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.w)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.g)(E),f,C,T));if((0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_8__.squaredScreenDistance)(j,(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_10__.vectorToScreenPoint)(F,S,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_4__.absoluteHeightElevationInfo,this.view))<this.squaredProximityThreshold(w)){if(this.isVertical(F,f)||this.isVertical(f,d))return;const e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.q)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),f,C,Math.sign(T));r.push(new _candidates_RightAngleSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_9__.RightAngleSnappingCandidate({targetPoint:F,constraint:new _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_5__.VerticalHalfPlaneConstraint(f,(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_6__.fromVec3)(e)),previousVertex:d,otherVertex:f,otherVertexType:_candidates_RightAngleSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_9__.OtherVertexType.CENTER,isDraped:"on-the-ground"===k.elevationInfo?.mode}))}}}const V=(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),u=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RightAngleTriangleSnapper: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/vec2f64.js */ "./node_modules/@arcgis/core/chunks/vec2f64.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../sketch/normalizedPoint.js */ "./node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js");
/* harmony import */ var _SnappingAlgorithm_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SnappingAlgorithm.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _candidates_RightAngleTriangleSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./candidates/RightAngleTriangleSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleTriangleSnappingCandidate.js");
/* harmony import */ var _support_viewUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/viewUtils.js */ "./node_modules/@arcgis/core/views/interactive/support/viewUtils.js");
/* harmony import */ var _support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../support/geometry2dUtils.js */ "./node_modules/@arcgis/core/views/support/geometry2dUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class l extends _SnappingAlgorithm_js__WEBPACK_IMPORTED_MODULE_5__.SnappingAlgorithm{snapNewVertex(e,t){const s=t.editGeometryOperations.data.components[0],i=[],r=s.vertices.length;if("polygon"!==t.editGeometryOperations.data.type||r<2)return i;const{view:n}=this,p=s.vertices[0],a=s.vertices[r-1],d=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_4__.fromAnyMapPoint)(p.pos,n,t),c=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_4__.fromAnyMapPoint)(a.pos,n,t);return this._processCandidateProposal(d,c,e,t,i),i}snapExistingVertex(e,t){const s=[],i=t.vertexHandle,r=i.component;if(r.edges.length<2)return s;if("polyline"===t.editGeometryOperations.data.type&&(0===i.index||i.index===r.vertices.length-1))return s;const{view:n}=this,p=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_4__.fromAnyMapPoint)(i.leftEdge.leftVertex.pos,n,t),a=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_4__.fromAnyMapPoint)(i.rightEdge.rightVertex.pos,n,t);return this._processCandidateProposal(p,a,e,t,s),s}_processCandidateProposal(s,o,p,l,f){if(!this.exceedsShortLineThreshold(s,o,l))return;const g=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.l)(h,s,o,.5),u=.5*(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.d)(s,o),v=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)();(0,_support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_9__.projectPointToCircle)(v,p,g,u),v[2]=p[2];const x=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_4__.fromVec3)(v),{spatialReference:j,pointer:y}=l,w=(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_8__.vectorToScreenPoint)(p,j,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_3__.absoluteHeightElevationInfo,this.view);if((0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_6__.squaredScreenDistance)(w,(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_8__.vectorToScreenPoint)(x,j,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_3__.absoluteHeightElevationInfo,this.view))<this.squaredProximityThreshold(y)){if(this.isVertical(s,x)||this.isVertical(x,o))return;f.push(new _candidates_RightAngleTriangleSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_7__.RightAngleTriangleSnappingCandidate({targetPoint:x,point1:s,point2:o,isDraped:"on-the-ground"===l.elevationInfo?.mode}))}}}const h=(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SelfSnappingEngine: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _LineSnapper_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LineSnapper.js */ "./node_modules/@arcgis/core/views/interactive/snapping/LineSnapper.js");
/* harmony import */ var _ParallelLineSnapper_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ParallelLineSnapper.js */ "./node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js");
/* harmony import */ var _RightAngleSnapper_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./RightAngleSnapper.js */ "./node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js");
/* harmony import */ var _RightAngleTriangleSnapper_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./RightAngleTriangleSnapper.js */ "./node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js");
/* harmony import */ var _SnappingDomain_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./SnappingDomain.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingDomain.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let h=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(s){super(s),this.updating=!1,this._snappers=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"],this._domain=_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_12__.SnappingDomain.SELF}initialize(){this._snappers.push(new _ParallelLineSnapper_js__WEBPACK_IMPORTED_MODULE_9__.ParallelLineSnapper(this.view,this.options),new _LineSnapper_js__WEBPACK_IMPORTED_MODULE_8__.LineSnapper(this.view,this.options),new _RightAngleSnapper_js__WEBPACK_IMPORTED_MODULE_10__.RightAngleSnapper(this.view,this.options),new _RightAngleTriangleSnapper_js__WEBPACK_IMPORTED_MODULE_11__.RightAngleTriangleSnapper(this.view,this.options))}set options(s){this._set("options",s);for(const o of this._snappers)o.options=s}async fetchCandidates(s,o,t){if(!(o&this._domain&&this.options.effectiveSelfEnabled))return[];const i=[];for(const r of this._snappers.items)for(const o of r.snap(s,t))i.push(o);return (0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_13__.sortCandidatesInPlace)(s,i),i}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],h.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],h.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],h.prototype,"options",null),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.interactive.snapping.SelfSnappingEngine")],h);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SnappingAlgorithm: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../sketch/normalizedPoint.js */ "./node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js");
/* harmony import */ var _Settings_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Settings.js */ "./node_modules/@arcgis/core/views/interactive/snapping/Settings.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _support_viewUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../support/viewUtils.js */ "./node_modules/@arcgis/core/views/interactive/support/viewUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class h{constructor(e,t){this.view=e,this.options=t,this.squaredShortLineThreshold=_Settings_js__WEBPACK_IMPORTED_MODULE_3__.defaults.shortLineThreshold*_Settings_js__WEBPACK_IMPORTED_MODULE_3__.defaults.shortLineThreshold}snap(e,t){return null!=t.vertexHandle?"vertex"!==t.vertexHandle.type?[]:this.snapExistingVertex(e,t):this.snapNewVertex(e,t)}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold((0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_2__.fromAnyMapPoint)(e.leftVertex.pos,this.view,t),(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_2__.fromAnyMapPoint)(e.rightVertex.pos,this.view,t),t)}exceedsShortLineThreshold(e,s,{spatialReference:r}){return 0===this.squaredShortLineThreshold||(0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_4__.squaredScreenDistance)((0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_5__.vectorToScreenPoint)(s,r,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__.absoluteHeightElevationInfo,this.view),(0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_5__.vectorToScreenPoint)(e,r,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__.absoluteHeightElevationInfo,this.view))>this.squaredShortLineThreshold}isVertical(t,s){return (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.k)(t,s)<_Settings_js__WEBPACK_IMPORTED_MODULE_3__.defaults.verticalLineThreshold}squaredProximityThreshold(e){return"touch"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,s=e*t;return s*s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingManager.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/SnappingManager.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SnappingManager: () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../sketch/normalizedPoint.js */ "./node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js");
/* harmony import */ var _Settings_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Settings.js */ "./node_modules/@arcgis/core/views/interactive/snapping/Settings.js");
/* harmony import */ var _SnappingDomain_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./SnappingDomain.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingDomain.js");
/* harmony import */ var _snappingFactory_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./snappingFactory.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingFactory.js");
/* harmony import */ var _SnappingOptions_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./SnappingOptions.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingOptions.js");
/* harmony import */ var _snappingPointUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./snappingPointUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingPointUtils.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _candidates_IntersectionSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./candidates/IntersectionSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/IntersectionSnappingCandidate.js");
/* harmony import */ var _support_viewUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/viewUtils.js */ "./node_modules/@arcgis/core/views/interactive/support/viewUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let P=class extends(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){constructor(t){super(t),this.options=new _SnappingOptions_js__WEBPACK_IMPORTED_MODULE_16__["default"],this.snappingEnginesFactory=_snappingFactory_js__WEBPACK_IMPORTED_MODULE_15__.defaultSnappingEnginesFactory,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=T.MAIN}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>{const{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:n,distance:i}=this.options;return{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:n,distance:i}}),(()=>{this.doneSnapping(),this.emit("changed")}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.options),(t=>{for(const e of this._engines)e.options=t}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>({viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,snappingEnginesFactory:this.snappingEnginesFactory})),(({viewReady:t,snappingEnginesFactory:e})=>this._recreateEngines(t,e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.syncAndInitial)])}destroy(){this._destroyEngines()}get updating(){return this._engines.some((t=>t.updating))}_recreateEngines(t,e){if(this._destroyEngines(),!t)return;const{view:n,options:i}=this;this._engines=e(n,i)}_destroyEngines(){for(const t of this._engines)t.destroy();this._engines=[]}get _squaredMouseProximityTreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:e}=this.options,n=t*e;return n*n}get _squaredSatisfiesConstraintThreshold(){return _Settings_js__WEBPACK_IMPORTED_MODULE_13__.defaults.satisfiesConstraintScreenThreshold*_Settings_js__WEBPACK_IMPORTED_MODULE_13__.defaults.satisfiesConstraintScreenThreshold}snap(t){return E(t)?this._snapMultiPoint(t):this._snapSinglePoint(t)}update(t){const{point:e,context:n}=t;this._removeVisualization();const i=this._currentMainCandidate;if(null==i)return e;const s=this._selectUpdateInput(t);if(null==s)return e;const{spatialReference:r}=n,a=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_10__.project)(s,r);if(null==a)return e;const{view:o}=this,{elevationInfo:p,visualizer:d}=n,h=[],u=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_12__.fromPoint)(a,o,p),f=i.constraint.closestTo(u);if(!this._arePointsWithinScreenThreshold(u,f,n))return this._resetSnappingState(),e;i.targetPoint=f,h.push(...i.hints);for(const c of this._currentOtherActiveCandidates)c.targetPoint=f,h.push(...c.hints);return null!=d&&this.addHandles(d.draw(h,{spatialReference:r,elevationInfo:I(n),view:o,selfSnappingZ:n.selfSnappingZ}),w),(0,_snappingPointUtils_js__WEBPACK_IMPORTED_MODULE_17__.snappingPointToSnappingOutput)(f,o,{z:e.z,m:e.m,spatialReference:e.spatialReference,elevationInfo:p})}doneSnapping(){this._removeVisualization(),this._resetSnappingState()}_selectUpdateInput({point:t,scenePoint:e}){switch(this._currentSnappedType){case T.MAIN:return t;case T.SCENE:return e}}_resetSnappingState(){this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=T.MAIN}_removeVisualization(){this.removeHandles(w)}async _snapSinglePoint({point:t,context:e,signal:n}){const{view:i}=this,{elevationInfo:s}=e,r=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_12__.fromPoint)(t,i,s),a=await this._fetchCandidates(r,_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_14__.SnappingDomain.ALL,e,n);return this._createSnapResult(r,T.MAIN,a,i,e,{z:t.z,m:t.m,spatialReference:t.spatialReference,elevationInfo:s},n)}async _snapMultiPoint({point:t,scenePoint:e,context:n,signal:i}){const{view:s}=this,{coordinateHelper:r,elevationInfo:a,spatialReference:o}=n;await (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_10__.initializeProjection)(e.spatialReference,o);const p=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_10__.project)(e,o),h=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_12__.fromPoint)(p,s,a),u=await this._fetchCandidates(h,_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_14__.SnappingDomain.FEATURE,n,i);if(u.length>0){const t=await this._fetchCandidates(h,_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_14__.SnappingDomain.SELF,n,i);return this._createSnapResult(h,T.SCENE,[...u,...t],s,n,{z:p.z,m:p.m,spatialReference:p.spatialReference,elevationInfo:a},i)}const _=(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_12__.fromPoint)(t,s,a),g=await this._fetchCandidates(_,_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_14__.SnappingDomain.SELF,n,i);return this._createSnapResult(_,T.MAIN,g,s,n,{z:r.hasZ()&&t.hasZ?t.z??0:void 0,m:r.hasM()&&t.hasM?t.m??0:void 0,spatialReference:t.spatialReference,elevationInfo:a},i)}async _fetchCandidates(t,e,n,i){return(await Promise.all(this._engines.map((s=>s.fetchCandidates(t,e,n,i))))).flat()}_createSnapResult(t,e,n,s,r,a,o){return{get valid(){return!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAborted)(o)},apply:()=>{const{spatialReference:i}=r,{snappedPoint:o,hints:p}=this._processCandidates(t,e,n,r);return this._removeVisualization(),null!=r.visualizer&&this.addHandles(r.visualizer.draw(p,{spatialReference:i,elevationInfo:_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_11__.absoluteHeightElevationInfo,view:s,selfSnappingZ:r.selfSnappingZ}),w),(0,_snappingPointUtils_js__WEBPACK_IMPORTED_MODULE_17__.snappingPointToSnappingOutput)(o,s,a)}}}_processCandidates(t,e,n,i){if(n.length<1)return this.doneSnapping(),{snappedPoint:t,hints:[]};this._currentSnappedType!==e&&this._resetSnappingState(),(0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_18__.sortCandidatesInPlace)(t,n);const s=this._currentMainCandidate;if(null!=s){const r=this._findOldConstraintInNewCandidates(s,n);if(r>=0){if(!(n[r]instanceof _candidates_IntersectionSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_19__.IntersectionSnappingCandidate))return this._intersectWithOtherCandidates(r,n,t,e,i);if(this._arePointsWithinScreenThreshold(t,s.targetPoint,i))return this._updateSnappingCandidate(s,e,n,i)}}return this._intersectWithOtherCandidates(0,n,t,e,i)}_findOldConstraintInNewCandidates(t,e){return t instanceof _candidates_IntersectionSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_19__.IntersectionSnappingCandidate?this._findOldCandidateIndex(e,t.first)>=0&&this._findOldCandidateIndex(e,t.second)>=0?0:-1:this._findOldCandidateIndex(e,t)}_intersectWithOtherCandidates(t,e,n,i,s){const{coordinateHelper:r}=s,a=e[t],o=[];for(let p=0;p<e.length;++p){if(p===t)continue;const i=e[p],s=a.constraint.intersect(i.constraint);if(s)for(const t of s.closestPoints(a.targetPoint))o.push([new _candidates_IntersectionSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_19__.IntersectionSnappingCandidate(t,a,i,i.isDraped),this._squaredScreenDistance(n,t,r)])}return o.length>0&&(o.sort(((t,e)=>t[1]-e[1])),o[0][1]<this._squaredPointProximityThreshold(s.pointer))?this._updateSnappingCandidate(o[0][0],i,e,s):this._updateSnappingCandidate(a,i,e,s)}_updateSnappingCandidate(t,e,n,i){this.doneSnapping(),this._currentMainCandidate=t,this._currentSnappedType=e;const s=this._currentMainCandidate.targetPoint,r=[];r.push(...t.hints);for(const a of n){if(t instanceof _candidates_IntersectionSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_19__.IntersectionSnappingCandidate){if(a.constraint.equals(t.first.constraint)||a.constraint.equals(t.second.constraint))continue}else if(a.constraint.equals(t.constraint))continue;const e=a.constraint.closestTo(s);this._squaredScreenDistance(e,s,i.coordinateHelper)<this._squaredSatisfiesConstraintThreshold&&(a.targetPoint=s,this._currentOtherActiveCandidates.push(a),r.push(...a.hints))}return{snappedPoint:s,hints:r}}_squaredPointProximityThreshold(t){return"touch"===t?this._squaredTouchProximityThreshold:this._squaredMouseProximityTreshold}_arePointsWithinScreenThreshold(t,e,n){return this._squaredScreenDistance(t,e,n.coordinateHelper)<this._squaredPointProximityThreshold(n.pointer)}_squaredScreenDistance(t,e,n){return (0,_snappingUtils_js__WEBPACK_IMPORTED_MODULE_18__.squaredScreenDistance)(this._toScreen(t,n),this._toScreen(e,n))}_toScreen(t,e){return (0,_support_viewUtils_js__WEBPACK_IMPORTED_MODULE_20__.vectorToScreenPoint)(t,e.spatialReference,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_11__.absoluteHeightElevationInfo,this.view)}_findOldCandidateIndex(t,e){let n=-1;for(let i=0;i<t.length;++i)if(e.constraint.equals(t[i].constraint)){n=i;break}return n}get test(){return{visualizationsActive:this.hasHandles(w),engines:this._engines}}};var T;(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],P.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"options",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],P.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"snappingEnginesFactory",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"_engines",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"_squaredMouseProximityTreshold",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"_squaredTouchProximityThreshold",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"_squaredSatisfiesConstraintThreshold",null),P=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.interactive.snapping.SnappingManager")],P),function(t){t[t.MAIN=0]="MAIN",t[t.SCENE=1]="SCENE"}(T||(T={}));const w="visualization-handle";function E(t){return null!=t.scenePoint}function I({coordinateHelper:t,elevationInfo:e}){return t.hasZ()?_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_11__.absoluteHeightElevationInfo:e}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingOptions.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/SnappingOptions.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _FeatureSnappingLayerSource_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./FeatureSnappingLayerSource.js */ "./node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js");
/* harmony import */ var _Settings_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Settings.js */ "./node_modules/@arcgis/core/views/interactive/snapping/Settings.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let p=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.enabled=!1,this.enabledToggled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.featureSources=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"],this.distance=_Settings_js__WEBPACK_IMPORTED_MODULE_9__.defaults.distance,this.touchSensitivityMultiplier=_Settings_js__WEBPACK_IMPORTED_MODULE_9__.defaults.touchSensitivityMultiplier}get effectiveEnabled(){return this.enabledToggled?!this.enabled:this.enabled}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"enabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"enabledToggled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"selfEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"featureEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"].ofType(_FeatureSnappingLayerSource_js__WEBPACK_IMPORTED_MODULE_8__["default"])})],p.prototype,"featureSources",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"distance",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],p.prototype,"touchSensitivityMultiplier",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"effectiveEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"effectiveSelfEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],p.prototype,"effectiveFeatureEnabled",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.interactive.snapping.SnappingOptions")],p);const l=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/DrapedEdgeSnappingCandidate.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/candidates/DrapedEdgeSnappingCandidate.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrapedEdgeSnappingCandidate: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../sketch/constraints.js */ "./node_modules/@arcgis/core/views/interactive/sketch/constraints.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _FeatureSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FeatureSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js");
/* harmony import */ var _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hints/LineSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/LineSnappingHint.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _FeatureSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSnappingCandidate{constructor(n){super({...n,isDraped:!0,constraint:new _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_0__.DrapedLineConstraint(n.edgeStart,n.edgeEnd,n.getGroundElevation)})}get hints(){return[new _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_3__.LineSnappingHint(_snappingUtils_js__WEBPACK_IMPORTED_MODULE_1__.LineSegmentHintType.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/EdgeSnappingCandidate.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/candidates/EdgeSnappingCandidate.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EdgeSnappingCandidate: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../sketch/constraints.js */ "./node_modules/@arcgis/core/views/interactive/sketch/constraints.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _FeatureSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FeatureSnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js");
/* harmony import */ var _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hints/LineSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/LineSnappingHint.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _FeatureSnappingCandidate_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSnappingCandidate{constructor(n){super({...n,constraint:new _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_0__.LineConstraint(n.edgeStart,n.edgeEnd)})}get hints(){return[new _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_3__.LineSnappingHint(_snappingUtils_js__WEBPACK_IMPORTED_MODULE_1__.LineSegmentHintType.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSnappingCandidate: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _SnappingDomain_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../SnappingDomain.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingDomain.js");
/* harmony import */ var _SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class n extends _SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_1__.SnappingCandidate{constructor({targetPoint:o,objectId:n,constraint:r,isDraped:i}){super(o,r,i,_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_0__.SnappingDomain.FEATURE),this.objectId=n}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/IntersectionSnappingCandidate.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/candidates/IntersectionSnappingCandidate.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IntersectionSnappingCandidate: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../sketch/constraints.js */ "./node_modules/@arcgis/core/views/interactive/sketch/constraints.js");
/* harmony import */ var _SnappingDomain_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../SnappingDomain.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingDomain.js");
/* harmony import */ var _SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js");
/* harmony import */ var _hints_IntersectionSnappingHint_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hints/IntersectionSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/IntersectionSnappingHint.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_2__.SnappingCandidate{constructor(s,n,r,o){super(s,new _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_0__.PointConstraint(s),o,_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_1__.SnappingDomain.ALL),this.first=n,this.second=r}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new _hints_IntersectionSnappingHint_js__WEBPACK_IMPORTED_MODULE_3__.IntersectionSnappingHint(this.targetPoint,this.isDraped,this.domain)]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/LineSnappingCandidate.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/candidates/LineSnappingCandidate.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineSnappingCandidate: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../sketch/constraints.js */ "./node_modules/@arcgis/core/views/interactive/sketch/constraints.js");
/* harmony import */ var _SnappingDomain_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../SnappingDomain.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingDomain.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js");
/* harmony import */ var _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hints/LineSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/LineSnappingHint.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_3__.SnappingCandidate{constructor({lineStart:e,lineEnd:r,targetPoint:o,isDraped:a}){super(o,new _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_0__.VerticalPlaneConstraint(e,r),a,_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_1__.SnappingDomain.SELF),this._referenceLineHint=new _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_4__.LineSnappingHint(_snappingUtils_js__WEBPACK_IMPORTED_MODULE_2__.LineSegmentHintType.REFERENCE_EXTENSION,e,r,a,this.domain)}get hints(){return[this._referenceLineHint,new _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_4__.LineSnappingHint(_snappingUtils_js__WEBPACK_IMPORTED_MODULE_2__.LineSegmentHintType.TARGET,this._lineEndClosestToTarget(),this.targetPoint,this.isDraped,this.domain)]}_lineEndClosestToTarget(){return this.constraint.closestEndTo(this.targetPoint)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/ParallelLineSnappingCandidate.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/candidates/ParallelLineSnappingCandidate.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ParallelLineSnappingCandidate: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sketch/constraints.js */ "./node_modules/@arcgis/core/views/interactive/sketch/constraints.js");
/* harmony import */ var _sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sketch/normalizedPoint.js */ "./node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js");
/* harmony import */ var _SnappingDomain_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../SnappingDomain.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingDomain.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js");
/* harmony import */ var _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../hints/LineSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/LineSnappingHint.js");
/* harmony import */ var _hints_ParallelSnappingHint_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../hints/ParallelSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/ParallelSnappingHint.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class g extends _SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_6__.SnappingCandidate{constructor({referenceLine:i,lineStart:f,targetPoint:h,isDraped:o}){const d=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.g)(f),{left:g,right:p}=i;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(d,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(d,d,p),g),super(h,new _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_2__.VerticalPlaneConstraint(f,(0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_3__.fromVec3)(d)),o,_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_4__.SnappingDomain.SELF),this._referenceLines=[{edge:i,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_7__.LineSnappingHint(_snappingUtils_js__WEBPACK_IMPORTED_MODULE_5__.LineSegmentHintType.TARGET,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new _hints_ParallelSnappingHint_js__WEBPACK_IMPORTED_MODULE_8__.ParallelSnappingHint(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map((e=>new _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_7__.LineSnappingHint(_snappingUtils_js__WEBPACK_IMPORTED_MODULE_5__.LineSegmentHintType.REFERENCE,e.edge.left,e.edge.right,this.isDraped,this.domain,e.fadeLeft,e.fadeRight)))]}addReferenceLine(e){const t={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach((s=>{(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.h)(e.right,s.edge.left)&&(s.fadeLeft=!1,t.fadeRight=!1),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.h)(e.right,s.edge.right)&&(s.fadeRight=!1,t.fadeRight=!1),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.h)(e.left,s.edge.right)&&(s.fadeRight=!1,t.fadeLeft=!1),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.h)(e.left,s.edge.left)&&(s.fadeLeft=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OtherVertexType: () => (/* binding */ n),
/* harmony export */   RightAngleSnappingCandidate: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _SnappingDomain_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../SnappingDomain.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingDomain.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js");
/* harmony import */ var _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hints/LineSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/LineSnappingHint.js");
/* harmony import */ var _hints_RightAngleSnappingHint_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hints/RightAngleSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/RightAngleSnappingHint.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class o extends _SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_2__.SnappingCandidate{constructor({targetPoint:e,constraint:i,previousVertex:r,otherVertex:s,otherVertexType:o,objectId:n,isDraped:h}){super(e,i,h,_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_0__.SnappingDomain.SELF),this.previousVertex=r,this.otherVertex=s,this.otherVertexType=o,this.objectId=n}get hints(){const t=this.previousVertex,i=this.otherVertexType===n.CENTER?this.otherVertex:this.targetPoint,o=this.otherVertexType===n.CENTER?this.targetPoint:this.otherVertex;return[new _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_3__.LineSnappingHint(_snappingUtils_js__WEBPACK_IMPORTED_MODULE_1__.LineSegmentHintType.TARGET,i,o,this.isDraped,this.domain),new _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_3__.LineSnappingHint(_snappingUtils_js__WEBPACK_IMPORTED_MODULE_1__.LineSegmentHintType.REFERENCE,t,i,this.isDraped,this.domain),new _hints_RightAngleSnappingHint_js__WEBPACK_IMPORTED_MODULE_4__.RightAngleSnappingHint(this.previousVertex,i,o,this.isDraped,this.domain)]}}var n;!function(t){t[t.NEXT=0]="NEXT",t[t.CENTER=1]="CENTER"}(n||(n={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleTriangleSnappingCandidate.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleTriangleSnappingCandidate.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RightAngleTriangleSnappingCandidate: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sketch/constraints.js */ "./node_modules/@arcgis/core/views/interactive/sketch/constraints.js");
/* harmony import */ var _sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../sketch/normalizedPoint.js */ "./node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js");
/* harmony import */ var _SnappingDomain_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../SnappingDomain.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingDomain.js");
/* harmony import */ var _snappingUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../snappingUtils.js */ "./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js");
/* harmony import */ var _SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SnappingCandidate.js */ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js");
/* harmony import */ var _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../hints/LineSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/LineSnappingHint.js");
/* harmony import */ var _hints_RightAngleSnappingHint_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../hints/RightAngleSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/RightAngleSnappingHint.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class h extends _SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_7__.SnappingCandidate{constructor({targetPoint:p,point1:e,point2:a,isDraped:m}){super(p,new _sketch_constraints_js__WEBPACK_IMPORTED_MODULE_3__.VerticalCylinderConstraint((0,_sketch_normalizedPoint_js__WEBPACK_IMPORTED_MODULE_4__.fromVec3)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.p)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),e,a,.5)),.5*(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.d)(e,a)),m,_SnappingDomain_js__WEBPACK_IMPORTED_MODULE_5__.SnappingDomain.SELF),this._p1=e,this._p2=a}get hints(){return[new _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_8__.LineSnappingHint(_snappingUtils_js__WEBPACK_IMPORTED_MODULE_6__.LineSegmentHintType.REFERENCE,this.targetPoint,this._p1,this.isDraped,this.domain),new _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_8__.LineSnappingHint(_snappingUtils_js__WEBPACK_IMPORTED_MODULE_6__.LineSegmentHintType.REFERENCE,this.targetPoint,this._p2,this.isDraped,this.domain),new _hints_RightAngleSnappingHint_js__WEBPACK_IMPORTED_MODULE_9__.RightAngleSnappingHint(this._p1,this.targetPoint,this._p2,this.isDraped,this.domain)]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SnappingCandidate: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t,s,i,o){this.targetPoint=t,this.constraint=s,this.isDraped=i,this.domain=o}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/snappingFactory.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/snappingFactory.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   defaultSnappingEnginesFactory: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _FeatureSnappingEngine_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FeatureSnappingEngine.js */ "./node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js");
/* harmony import */ var _SelfSnappingEngine_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SelfSnappingEngine.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i,p){return[new _SelfSnappingEngine_js__WEBPACK_IMPORTED_MODULE_1__.SelfSnappingEngine({view:i,options:p}),new _FeatureSnappingEngine_js__WEBPACK_IMPORTED_MODULE_0__.FeatureSnappingEngine({view:i,options:p,spatialReference:i.spatialReference})]}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/snappingPointUtils.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/snappingPointUtils.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   snappingPointToSnappingOutput: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e,o,{z:r,m:s,spatialReference:i,elevationInfo:u}){if(null==r&&null==s){const t=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_0__.makeDehydratedPoint)(e[0],e[1],void 0,i);return null!=s&&(t.m=s,t.hasM=!0),t}if(null==o||"2d"===o.type){const t=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_0__.makeDehydratedPoint)(e[0],e[1],r,i);return null!=s&&(t.m=s,t.hasM=!0),t}const a=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__.getConvertedElevationFromVector)(o,e,i,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__.absoluteHeightElevationInfo,u)??0,f=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_0__.makeDehydratedPoint)(e[0],e[1],a,i);return null!=s&&(f.m=s,f.hasM=!0),f}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/support/viewUtils.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/support/viewUtils.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   anyMapPointToRender: () => (/* binding */ d),
/* harmony export */   anyMapPointToScreenPoint: () => (/* binding */ l),
/* harmony export */   anyMapPointsToRenderWithEqualRelativeZ: () => (/* binding */ m),
/* harmony export */   renderScreenSpaceTangent: () => (/* binding */ p),
/* harmony export */   vectorToRender: () => (/* binding */ f),
/* harmony export */   vectorToScreenPoint: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function p(e,r,o,s){o.projectToRenderScreen(e,h),o.projectToRenderScreen(r,C),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.c)(s,C,h),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.e)(s,s)}function d(e,r,o,n,t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()){const s=r.toXYZ(e);return s[2]=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__.getConvertedElevationFromVector)(n,s,r.spatialReference,o)||0,n.renderCoordsHelper.toRenderCoords(s,r.spatialReference,t),t}function f(e,r,o,n,t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()){const a=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(j,e);return a[2]=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__.getConvertedElevationFromVector)(n,a,r,o)||0,n.renderCoordsHelper.toRenderCoords(a,r,t),t}function l(e,r,o,n){return u(r.toXYZ(e),r.spatialReference,o,n)}function u(r,o,n,t){return"2d"===t.type?(R.x=r[0],R.y=r[1],R.spatialReference=o,t.toScreen(R)):(f(r,o,n,t,j),t.state.camera.projectToScreen(j,v),(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.createScreenPoint)(v[0],v[1]))}function m(e,r,o,n,t,s,c){if("absolute-height"===n.mode)return d(e,o,n,t,s),void d(r,o,n,t,c);const a=o.toXYZ(e),p=o.toXYZ(r),f=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__.getConvertedElevationFromVector)(t,a,o.spatialReference,n),l=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__.getConvertedElevationFromVector)(t,p,o.spatialReference,n),u=(null==f?l:null==l?f:Math.min(f,l))||0;a[2]=u,p[2]=u,t.renderCoordsHelper.toRenderCoords(a,o.spatialReference,s),t.renderCoordsHelper.toRenderCoords(p,o.spatialReference,c)}const R=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_4__.makeDehydratedPoint)(0,0,0,null),j=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),h=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.createRenderScreenPointArray3)(),C=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.createRenderScreenPointArray3)(),v=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.createScreenPointArray)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/geometry3dUtils.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/geometry3dUtils.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineType: () => (/* reexport safe */ _geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType),
/* harmony export */   VerticalPlaneType: () => (/* binding */ rt),
/* harmony export */   epsilon: () => (/* binding */ et),
/* harmony export */   intersectLineAndPoint: () => (/* binding */ S),
/* harmony export */   intersectLineLikeAndCircle: () => (/* binding */ K),
/* harmony export */   intersectLineLikeAndVerticalCylinder: () => (/* binding */ O),
/* harmony export */   intersectLineLikes: () => (/* binding */ Q),
/* harmony export */   intersectVerticalCylinderAndPoint: () => (/* binding */ T),
/* harmony export */   intersectVerticalCylinders: () => (/* binding */ V),
/* harmony export */   intersectVerticalPlaneAndLineLike: () => (/* binding */ w),
/* harmony export */   intersectVerticalPlaneAndPoint: () => (/* binding */ x),
/* harmony export */   intersectVerticalPlaneAndVerticalCylinder: () => (/* binding */ U),
/* harmony export */   intersectVerticalPlanes: () => (/* binding */ C),
/* harmony export */   isClose: () => (/* binding */ $),
/* harmony export */   isPointInsidePlane: () => (/* binding */ nt),
/* harmony export */   pointToLineLikeDistance: () => (/* binding */ J),
/* harmony export */   pointToVerticalCylinderDistance: () => (/* binding */ D),
/* harmony export */   pointToVerticalPlaneDistance: () => (/* binding */ z),
/* harmony export */   pointsInsidePlane: () => (/* binding */ tt),
/* harmony export */   projectPointToLineLike: () => (/* binding */ G),
/* harmony export */   projectPointToVerticalCylinder: () => (/* binding */ B),
/* harmony export */   projectPointToVerticalPlane: () => (/* binding */ Z),
/* harmony export */   vectorsHaveCloseZ: () => (/* binding */ X)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunks/vec2f64.js */ "./node_modules/@arcgis/core/chunks/vec2f64.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _3d_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../3d/support/mathUtils.js */ "./node_modules/@arcgis/core/views/3d/support/mathUtils.js");
/* harmony import */ var _geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./geometry2dUtils.js */ "./node_modules/@arcgis/core/views/support/geometry2dUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function U({start:t,end:o,type:c},u,a){const i=[],f=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.c)(ut,o,t),h=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.c)(at,t,u),L=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.v)(f),d=2*(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.g)(f,h),m=d*d-4*L*((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.v)(h)-a*a);if(0===m){const n=-d/(2*L);(c===rt.PLANE||n>=0)&&i.push((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.w)((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),t,f,n))}else if(m>0){const n=Math.sqrt(m),r=(-d+n)/(2*L);(c===rt.PLANE||r>=0)&&i.push((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.w)((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),t,f,r));const s=(-d-n)/(2*L);(c===rt.PLANE||s>=0)&&i.push((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.w)((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),t,f,s))}return i}function w(t,r){const e=t.start,c=t.end,u=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.c)(ut,c,e),a=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.s)(at,-u[1],u[0],0),i=r.start,f=r.end,p=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(it,f,i),h=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(p,a),L=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.s)(ft,e[0],e[1],0),d=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(pt,L,i),y=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(d,a);if(Math.abs(h)<et)return Math.abs(y),[];const l=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.q)(ht,i,p,y/h);if(r.type===_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.RAY){const t=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(Lt,l,i);if((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(t,p)<-et)return[]}if(t.type===rt.HALF_PLANE){const t=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.b)(Lt,l,e);if((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.g)(t,u)<-et)return[]}return[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.g)(l)]}function x(t,n){return S(W(mt,n[2],t),n)}function C(t,n){const r=0,s=Q(W(mt,r,t),W(At,r,n)),e=[];for(const o of s)e.push((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.d)(o));return e}function Z(t,n){return G(t,W(mt,t[2],n))}function z(t,n){return J(W(mt,t[2],n),t)}function B(t,r,s){const o=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.c)(ut,t,r),u=s/(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.h)(o),a=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.w)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),r,o,u);return a[2]=t[2],a}function D(t,n,r){return (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.d)(t,n)-r}function G(t,{start:n,end:r,type:s}){const e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(ut,t,n),o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(at,r,n),c=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(e,o)/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(o,o);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.q)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),n,o,s===_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.RAY?Math.max(c,0):c)}function J({start:t,end:n,type:r},s){const e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(ut,s,t),o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(at,n,t);if(r===_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.RAY&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(o,e)<-et)return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.o)(t,s);const c=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.b)(it,o,e);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.k)(c)/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.k)(o)}const K=(()=>{const t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),n=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),r=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)();return({start:s,end:e},{center:o,radius:c,normal:u,slicePlane:a})=>{const i=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),p=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.fromPositionAndNormal)(o,u,dt);if($((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.distance)(p,s),0)&&$((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.distance)(p,e),0)){(0,_3d_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_6__.tangentFrame)(u,t,n);const i=(s,e)=>((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.f)(r,e,o),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.s)(s,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(r,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(r,n)),s),p=(0,_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.intersectLineLikeAndCircle)({start:i(ot,s),end:i(ct,e),type:_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.LINE},_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.Z,c),h=[];for(const[r,s]of p){const e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),o);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.q)(e,e,t,r),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.q)(e,e,n,s),a&&!nt(a,e)||h.push(e)}return h}return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.intersectLine)(p,s,e,i)?!$((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.o)(i,o),c)||a&&!nt(a,i)?[]:[i]:[]}})();function O({start:t,end:e,type:o},c,u){const a=[],i=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.f)(ut,e,t),f=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.c)(at,t,c),p=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.v)(i),h=2*(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.g)(i,f),L=h*h-4*p*((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.v)(f)-u*u);if(0===L){const n=-h/(2*p);(o===_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.LINE||n>=0)&&a.push((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.q)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),t,i,n))}else if(L>0){const n=Math.sqrt(L),r=(-h+n)/(2*p);(o===_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.LINE||r>=0)&&a.push((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.q)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),t,i,r));const s=(-h-n)/(2*p);(o===_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.LINE||s>=0)&&a.push((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.q)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),t,i,s))}return a}function Q(n,r){const s=n.start,e=n.end,o=r.start,c=r.end,u=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(ut,e,s),a=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(at,c,o),i=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(it,o,s),f=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.b)(ft,u,a),p=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(i,f);if(!(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.floatEqualAbsolute)(p,0,et))return[];const h=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.F)(f);if((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.floatEqualAbsolute)(h,0,et))return[];const L=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.b)(pt,i,a),d=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(L,f)/h,m=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.q)(ht,s,u,d);if(n.type===_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.RAY){const t=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(Lt,m,s);if((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(u,t)<-et)return[]}if(r.type===_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.RAY){const t=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(Lt,m,o);if((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(a,t)<-et)return[]}return[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.g)(m)]}function S({start:t,end:n,type:r},s){const e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(ut,s,t),o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.u)(at,n,t),c=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.b)(it,o,e);if((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.F)(c)/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.F)(o)<et)switch(r){case _geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.LINE:return[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.g)(s)];case _geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.RAY:return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(o,e)<-et?[]:[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.g)(s)]}return[]}function T(n,r,s){return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.floatEqualAbsolute)((0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.k)(s,n),r*r,et)?[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.g)(s)]:[]}function V(t,n,r,s){const[e,o]=t,[c,u]=r,a=c-e,f=u-o,p=a*a+f*f,h=Math.sqrt(p);if(h>n+s)return[];if(h<Math.abs(n-s))return[];if($(h,0)&&$(n,s))return[];const L=(n*n-s*s+p)/(2*h),m=Math.sqrt(n*n-L*L),A=m*f/h,E=m*a/h,[N,y]=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.l)(ot,t,r,L/h);return $(A,E)?[(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(N,y)]:[(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(N+A,y-E),(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(N-A,y+E)]}function W(t,n,{start:r,end:s,type:e}){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.s)(t.start,r[0],r[1],n),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.s)(t.end,s[0],s[1],n),t.type=st[e],t}function X(t,n){return $(t[2],n[2])}function $(t,n){return Math.abs(t-n)<et}function tt(t,n){return n.filter((n=>nt(t,n)))}function nt(t,n){return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.isPointInside)(t,n)}var rt;!function(t){t[t.PLANE=0]="PLANE",t[t.HALF_PLANE=1]="HALF_PLANE"}(rt||(rt={}));const st={[rt.PLANE]:_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.LINE,[rt.HALF_PLANE]:_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.RAY},et=1e-6,ot=(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),ct=(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),ut=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),at=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),it=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),ft=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),pt=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),ht=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),Lt=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),dt=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__.create)(),mt={start:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),end:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),type:_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.LINE},At={start:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),end:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),type:_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__.LineType.LINE};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfaW50ZXJhY3RpdmVfc25hcHBpbmdfU25hcHBpbmdNYW5hZ2VyX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0IsZ0VBQWdFLCtDQUErQyxZQUFZLGdCQUFnQixnRkFBZ0YsZ0JBQWdCLDBCQUEwQiwwQ0FBMEMsRUFBRSxLQUFLLHVCQUF1QixHQUFHLE1BQU0sWUFBWSxPQUFPLEdBQUcsU0FBMEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKcGQ7QUFDQTtBQUNBO0FBQ0E7QUFDazFDLFNBQVMsYUFBYSxrQkFBa0IsaUJBQWlCLDJCQUEyQixvQkFBb0IsZUFBZSxxQkFBcUIsVUFBVSx3QkFBd0Isa0RBQUMscUJBQXFCLFlBQVksT0FBTywwREFBQyxjQUFjLG9CQUFvQixtQkFBbUIsK0NBQStDLHNCQUFzQixVQUFVLDhEQUE4RCxrREFBQyxzQkFBc0Isa0RBQUMsaUJBQWlCLGFBQWEsUUFBUSxtRkFBQyxrQkFBa0IsT0FBTyw2REFBQyxLQUFLLG9CQUFvQixpQkFBaUIsVUFBVSxrRUFBRSxRQUFRLG9CQUFvQixpQkFBaUIsVUFBVSxrRUFBRSxPQUFPLG9CQUFvQixlQUFlLDJCQUEyQixVQUFVLHdCQUF3QiwyREFBQyxzREFBc0QsYUFBYSxZQUFZLGlDQUFpQyx5QkFBeUIsa0RBQUMsTUFBTSxlQUFlLFNBQVMsMERBQUMsTUFBTSxpQkFBaUIsc0VBQXNFLG9CQUFvQixpQkFBaUIsb0NBQW9DLFVBQVUsMkdBQTJHLGFBQWEsUUFBUSwyRkFBQyw0QkFBNEIsT0FBTyw2REFBQyxLQUFLLG9CQUFvQixpQkFBaUIsb0NBQW9DLFVBQVUsd0JBQXdCLGtEQUFDLCtDQUErQyxhQUFhLFFBQVEsMkZBQUMsNEJBQTRCLDJCQUEyQiw2REFBQyxJQUFJLFdBQVcsY0FBYywwREFBQywwQkFBMEIs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QUMsT0FBTyxNQUFNLHFEQUFDLE9BQU8scURBQUMsUUFBUSx5REFBQyxNQUFNLEtBQUssTUFBTSxxREFBQyxPQUFPLHFEQUFDLFFBQVEseURBQUMsT0FBd3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvZmxvb3JGaWx0ZXJVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9za2V0Y2gvY29uc3RyYWludHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvRmVhdHVyZVNuYXBwaW5nRW5naW5lLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL0ZlYXR1cmVTbmFwcGluZ0xheWVyU291cmNlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL0ZlYXR1cmVTbmFwcGluZ1NvdXJjZUluZm8uanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvTGluZVNuYXBwZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvUGFyYWxsZWxMaW5lU25hcHBlci5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9zbmFwcGluZy9SaWdodEFuZ2xlU25hcHBlci5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9zbmFwcGluZy9SaWdodEFuZ2xlVHJpYW5nbGVTbmFwcGVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL1NlbGZTbmFwcGluZ0VuZ2luZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9zbmFwcGluZy9TbmFwcGluZ0FsZ29yaXRobS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9zbmFwcGluZy9TbmFwcGluZ01hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvU25hcHBpbmdPcHRpb25zLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL2NhbmRpZGF0ZXMvRHJhcGVkRWRnZVNuYXBwaW5nQ2FuZGlkYXRlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL2NhbmRpZGF0ZXMvRWRnZVNuYXBwaW5nQ2FuZGlkYXRlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL2NhbmRpZGF0ZXMvRmVhdHVyZVNuYXBwaW5nQ2FuZGlkYXRlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL2NhbmRpZGF0ZXMvSW50ZXJzZWN0aW9uU25hcHBpbmdDYW5kaWRhdGUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvY2FuZGlkYXRlcy9MaW5lU25hcHBpbmdDYW5kaWRhdGUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvY2FuZGlkYXRlcy9QYXJhbGxlbExpbmVTbmFwcGluZ0NhbmRpZGF0ZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9zbmFwcGluZy9jYW5kaWRhdGVzL1JpZ2h0QW5nbGVTbmFwcGluZ0NhbmRpZGF0ZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9zbmFwcGluZy9jYW5kaWRhdGVzL1JpZ2h0QW5nbGVUcmlhbmdsZVNuYXBwaW5nQ2FuZGlkYXRlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL2NhbmRpZGF0ZXMvU25hcHBpbmdDYW5kaWRhdGUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvc25hcHBpbmdGYWN0b3J5LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL3NuYXBwaW5nUG9pbnRVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9zdXBwb3J0L3ZpZXdVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9zdXBwb3J0L2dlb21ldHJ5M2RVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbyhvKXtjb25zdCBuPW8ubGF5ZXI7aWYoXCJmbG9vckluZm9cImluIG4mJm4uZmxvb3JJbmZvPy5mbG9vckZpZWxkJiZcImZsb29yc1wiaW4gby52aWV3KXtyZXR1cm4gbChvLnZpZXcuZmxvb3JzLG4uZmxvb3JJbmZvLmZsb29yRmllbGQpfXJldHVybiBudWxsfWZ1bmN0aW9uIG4obyxuKXtyZXR1cm5cImZsb29ySW5mb1wiaW4gbiYmbi5mbG9vckluZm8/LmZsb29yRmllbGQ/bChvLG4uZmxvb3JJbmZvLmZsb29yRmllbGQpOm51bGx9ZnVuY3Rpb24gbChvLG4pe2lmKCFvPy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgbD1vLmZpbHRlcigobz0+XCJcIiE9PW8pKS5tYXAoKG89PmAnJHtvfSdgKSk7cmV0dXJuIGwucHVzaChcIicnXCIpLGAke259IElOICgke2wuam9pbihcIixcIil9KSBPUiAke259IElTIE5VTExgfWV4cG9ydHtvIGFzIGdldEZsb29yRmlsdGVyQ2xhdXNlLG4gYXMgZ2V0TGF5ZXJGbG9vckZpbHRlckNsYXVzZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzU29tZSBhcyB0LGVxdWFscyBhcyBlfWZyb21cIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtnIGFzIG4sYyBhcyByLGsgYXMgc31mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjMi5qc1wiO2ltcG9ydHthIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzJmNjQuanNcIjtpbXBvcnR7aiBhcyBvLGMgYXMgdSxnIGFzIGMscSBhcyBhLGggYXMgZixhIGFzIGwsdSBhcyBoLG0gYXMgZCxzIGFzIHAsZiBhcyBtLEcgYXMgTH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtjIGFzIGssZyxmIGFzIFAsZCBhcyBUfWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyB5LGludGVyc2VjdExpbmUgYXMgcSxkaXN0YW5jZSBhcyB4LGlzVmVydGljYWwgYXMgdixpbnRlcnNlY3RQbGFuZXMgYXMgeixzaWduZWREaXN0YW5jZSBhcyBqLHByb2plY3RQb2ludCBhcyB3LGZyb21Qb3NpdGlvbkFuZE5vcm1hbCBhcyBFLGZyb21Qb2ludHMgYXMgQSxub3JtYWwgYXMgTX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3BsYW5lLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBOfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvcmF5LmpzXCI7aW1wb3J0e2sgYXMgWixsIGFzIEkscCBhcyBHLG0gYXMgU31mcm9tXCIuLi8uLi8uLi9jaHVua3Mvc3BoZXJlLmpzXCI7aW1wb3J0e2Zyb21WZWMzIGFzIE8sY2xvbmUgYXMgVSxmcm9tVmFsdWVzIGFzIGJ9ZnJvbVwiLi9ub3JtYWxpemVkUG9pbnQuanNcIjtpbXBvcnR7dmVjdG9yc0hhdmVDbG9zZVogYXMgQyxpc0Nsb3NlIGFzIEYsaXNQb2ludEluc2lkZVBsYW5lIGFzIEgsaW50ZXJzZWN0TGluZUxpa2VBbmRDaXJjbGUgYXMgUixwb2ludHNJbnNpZGVQbGFuZSBhcyBZLGludGVyc2VjdFZlcnRpY2FsUGxhbmVBbmRWZXJ0aWNhbEN5bGluZGVyIGFzIF8scHJvamVjdFBvaW50VG9MaW5lTGlrZSBhcyBCLHByb2plY3RQb2ludFRvVmVydGljYWxDeWxpbmRlciBhcyBELHByb2plY3RQb2ludFRvVmVydGljYWxQbGFuZSBhcyBKLFZlcnRpY2FsUGxhbmVUeXBlIGFzIEssaW50ZXJzZWN0TGluZUxpa2VzIGFzIFEsaW50ZXJzZWN0VmVydGljYWxQbGFuZUFuZExpbmVMaWtlIGFzIFYsaW50ZXJzZWN0TGluZUxpa2VBbmRWZXJ0aWNhbEN5bGluZGVyIGFzIFcsaW50ZXJzZWN0VmVydGljYWxQbGFuZXMgYXMgWCxpbnRlcnNlY3RWZXJ0aWNhbEN5bGluZGVycyBhcyAkLGludGVyc2VjdFZlcnRpY2FsUGxhbmVBbmRQb2ludCBhcyB0dH1mcm9tXCIuLi8uLi9zdXBwb3J0L2dlb21ldHJ5M2RVdGlscy5qc1wiO2ltcG9ydHtMaW5lVHlwZSBhcyBldH1mcm9tXCIuLi8uLi9zdXBwb3J0L2dlb21ldHJ5MmRVdGlscy5qc1wiO2NsYXNzIG50e2ludGVyc2VjdCh0KXtyZXR1cm4genQodGhpcyx0KX1jbG9zZXN0UG9pbnRzKHQpe3JldHVyblt0aGlzLmNsb3Nlc3RUbyh0KV19fWNsYXNzIHJ0IGV4dGVuZHMgbnR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnBvaW50PXR9ZXF1YWxzKHQpe3JldHVybiB0aGlzPT09dHx8JHQodCkmJmYodGhpcy5wb2ludCx0LnBvaW50KX1jbG9zZXN0VG8oKXtyZXR1cm4gVSh0aGlzLnBvaW50KX19Y2xhc3Mgc3QgZXh0ZW5kcyBudHtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoKSx0aGlzLnN0YXJ0PXQsdGhpcy5lbmQ9ZSx0aGlzLmxpbmVMaWtlPXtzdGFydDp0LGVuZDplLHR5cGU6bn19ZXF1YWxzKHQpe3JldHVybiB0aGlzPT09dHx8dGUodCkmJnRoaXMubGluZUxpa2UudHlwZT09PXQubGluZUxpa2UudHlwZSYmZih0aGlzLnN0YXJ0LHQuc3RhcnQpJiZmKHRoaXMuZW5kLHQuZW5kKX1jbG9zZXN0VG8odCl7Y29uc3QgZT1CKHQsdGhpcy5saW5lTGlrZSk7cmV0dXJuIE8oZSl9fWNsYXNzIGl0IGV4dGVuZHMgc3R7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUsZXQuTElORSl9fWNsYXNzIG90IGV4dGVuZHMgc3R7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUsZXQuUkFZKX19Y2xhc3MgdXQgZXh0ZW5kcyBudHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuY29uc3RyYWludHM9dH1lcXVhbHModCl7cmV0dXJuIHRoaXM9PT10fHxYdCh0KSYmZSh0aGlzLmNvbnN0cmFpbnRzLHQuY29uc3RyYWludHMsKCh0LGUpPT50LmVxdWFscyhlKSkpfWNsb3Nlc3RUbyh0KXtsZXQgZSxuPTEvMDtmb3IoY29uc3QgciBvZiB0aGlzLmNvbnN0cmFpbnRzKXtjb25zdCBzPXIuY2xvc2VzdFRvKHQpLGk9bCh0LHMpO2k8biYmKG49aSxlPXMpfXJldHVybiBlP1UoZSk6dH1jbG9zZXN0UG9pbnRzKHQpe3JldHVybiB0aGlzLmNvbnN0cmFpbnRzLmZsYXRNYXAoKGU9PmU9PT10aGlzP1tdOmUuY2xvc2VzdFBvaW50cyh0KSkpfX1jbGFzcyBjdCBleHRlbmRzIG50e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLmNlbnRlcj10LHRoaXMucmFkaXVzPWV9ZXF1YWxzKHQpe3JldHVybiB0aGlzPT09dHx8cmUodCkmJnRoaXMuY2VudGVyWzBdPT09dC5jZW50ZXJbMF0mJnRoaXMuY2VudGVyWzFdPT09dC5jZW50ZXJbMV0mJnRoaXMucmFkaXVzPT09dC5yYWRpdXN9Y2xvc2VzdFRvKHQpe2NvbnN0IGU9RCh0LHRoaXMuY2VudGVyLHRoaXMucmFkaXVzKTtyZXR1cm4gTyhlKX19Y2xhc3MgYXQgZXh0ZW5kcyBudHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5jZW50ZXI9dCx0aGlzLnJhZGl1cz1lfWVxdWFscyh0KXtyZXR1cm4gdGhpcz09PXR8fHNlKHQpJiZmKHRoaXMuY2VudGVyLHQuY2VudGVyKSYmdGhpcy5yYWRpdXM9PT10LnJhZGl1c31jbG9zZXN0VG8odCl7Y29uc3QgZT1EKHQsdGhpcy5jZW50ZXIsdGhpcy5yYWRpdXMpO3JldHVybiBlWzJdPXRoaXMuY2VudGVyWzJdLE8oZSl9YXNDaXJjbGUoKXtyZXR1cm4gbmV3IGZ0KFUodGhpcy5jZW50ZXIpLHRoaXMucmFkaXVzLGIoMCwwLDEpKX19Y2xhc3MgZnQgZXh0ZW5kcyBudHtjb25zdHJ1Y3Rvcih0LGUsbixyPXZvaWQgMCl7c3VwZXIoKSx0aGlzLmNlbnRlcj10LHRoaXMucmFkaXVzPWUsdGhpcy5ub3JtYWw9bix0aGlzLnNsaWNlUGxhbmU9cn1lcXVhbHModCl7cmV0dXJuIHRoaXM9PT10fHxpZSh0KSYmZih0aGlzLmNlbnRlcix0LmNlbnRlcikmJmYodGhpcy5ub3JtYWwsdC5ub3JtYWwpJiZ0aGlzLnJhZGl1cz09PXQucmFkaXVzfWNsb3Nlc3RUbyh0KXtjb25zdHtjZW50ZXI6ZSxyYWRpdXM6bn09dGhpczt3KHRoaXMuZ2V0UGxhbmUoaHQpLHQsbHQpO2NvbnN0IHI9aChsdCxsdCxlKSxzPWQocik7aWYoRihzLDApKXJldHVybiBVKHQpO2NvbnN0IGk9bi9NYXRoLnNxcnQocyksbz1hKGsoKSxlLHIsaSkse3NsaWNlUGxhbmU6dX09dGhpcztpZih1JiYhSCh1LG8pKXtjb25zdCBlPUF0KHUsdGhpcyk7cmV0dXJuIGU/LmNsb3Nlc3RUbyh0KT8/VSh0KX1yZXR1cm4gTyhvKX1nZXRQbGFuZSh0PXkoKSl7cmV0dXJuIEUodGhpcy5jZW50ZXIsdGhpcy5ub3JtYWwsdCl9fWNvbnN0IGx0PWsoKSxodD15KCk7Y2xhc3MgZHQgZXh0ZW5kcyBudHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuej10fWVxdWFscyh0KXtyZXR1cm4gdGhpcz09PXR8fGVlKHQpJiZ0aGlzLno9PT10Lnp9Y2xvc2VzdFRvKHQpe3JldHVybiBPKFAodFswXSx0WzFdLHRoaXMueikpfWdldFBsYW5lKHQ9eSgpKXtyZXR1cm4gcChwdCwwLDAsdGhpcy56KSxFKHB0LFQsdCl9fWNvbnN0IHB0PWsoKTtjbGFzcyBtdCBleHRlbmRzIG50e2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMuc3RhcnQ9dCx0aGlzLmVuZD1lLHRoaXMucGxhbmVMaWtlPXtzdGFydDp0LGVuZDplLHR5cGU6bn19ZXF1YWxzKHQpe3JldHVybiB0aGlzPT09dHx8bmUodCkmJnRoaXMucGxhbmVMaWtlLnR5cGU9PT10LnBsYW5lTGlrZS50eXBlJiZmKHRoaXMuc3RhcnQsdC5zdGFydCkmJmYodGhpcy5lbmQsdC5lbmQpfWNsb3Nlc3RUbyh0KXtyZXR1cm4gTyhKKHQsdGhpcy5wbGFuZUxpa2UpKX1jbG9zZXN0RW5kVG8odCl7Y29uc3R7c3RhcnQ6ZSxlbmQ6c309dGhpcztyZXR1cm4gTWF0aC5zaWduKG4ocihMdCxzLGUpLHIoa3QsdCxlKSkpPjA/czplfWdldFBsYW5lKHQ9eSgpKXtjb25zdCBlPXUoZ3QsdGhpcy5lbmQpO3JldHVybiBlWzJdKz0xLEEodGhpcy5zdGFydCx0aGlzLmVuZCxlLHQpfWdldFNsaWNlUGxhbmUodD15KCkpe2NvbnN0e3N0YXJ0OmUsZW5kOm4sdHlwZTpyfT10aGlzLnBsYW5lTGlrZTtpZihyPT09Sy5QTEFORSlyZXR1cm47Y29uc3Qgcz1wKGd0LGVbMF0sZVsxXSwwKSxpPXAoUHQsblswXSxuWzFdLDApLG89bShQdCxpLHMpO3JldHVybiBFKHMsbyx0KSx0fX1jb25zdCBMdD1pKCksa3Q9aSgpLGd0PWsoKSxQdD1rKCk7Y2xhc3MgVHQgZXh0ZW5kcyBtdHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSxLLkhBTEZfUExBTkUpfX1jbGFzcyB5dCBleHRlbmRzIG10e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlLEsuUExBTkUpfX1jbGFzcyBxdCBleHRlbmRzIG50e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnNwaGVyZT1aKHQsZSl9ZXF1YWxzKHQpe3JldHVybiB0aGlzPT09dHx8b2UodCkmJkkodGhpcy5zcGhlcmUsdC5zcGhlcmUpfWNsb3Nlc3RUbyh0KXtjb25zdCBlPUcodGhpcy5zcGhlcmUsdCxrKCkpO3JldHVybiBPKGUpfWdldCBjZW50ZXIoKXtyZXR1cm4gdGhpcy5zcGhlcmV9Z2V0IHJhZGl1cygpe3JldHVybiB0aGlzLnNwaGVyZVszXX19Y2xhc3MgeHQgZXh0ZW5kcyBudHtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoKSx0aGlzLnN0YXJ0PXQsdGhpcy5lbmQ9ZSx0aGlzLmdldFo9bix0aGlzLnBsYW5lTGlrZT17c3RhcnQ6dCxlbmQ6ZSx0eXBlOksuUExBTkV9fWVxdWFscyh0KXtyZXR1cm4gdGhpcz09PXR8fHVlKHQpJiZmKHRoaXMuc3RhcnQsdC5zdGFydCkmJmYodGhpcy5lbmQsdC5lbmQpJiZ0aGlzLmdldFo9PT10LmdldFp9Y2xvc2VzdFRvKHQpe3JldHVybiB2dCh0aGlzLHQpfWFkZElmT25UaGVHcm91bmQodCxlKXtmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBlPXRoaXMuZ2V0WihuWzBdLG5bMV0pPz8wO0YoblsyXSxlKSYmKG5bMl09ZSx0LnB1c2gobikpfX19ZnVuY3Rpb24gdnQodCxlKXtjb25zdCBuPUooZSx0LnBsYW5lTGlrZSk7cmV0dXJuIG5bMl09dC5nZXRaKG5bMF0sblsxXSk/P2NlLE8obil9ZnVuY3Rpb24genQodCxlKXtpZihYdCh0KSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgciBvZiB0LmNvbnN0cmFpbnRzKXtjb25zdCB0PXIuaW50ZXJzZWN0KGUpO3QmJm4ucHVzaCh0KX1yZXR1cm4gV3Qobil9aWYoWHQoZSkpcmV0dXJuIHp0KGUsdCk7aWYodWUodCkpcmV0dXJuIEp0KHQsZSk7aWYodWUoZSkpcmV0dXJuIEp0KGUsdCk7aWYoJHQodCkpe2NvbnN0e3BvaW50Om59PXQscj1lLmNsb3Nlc3RUbyhuKTtyZXR1cm4gTChyLG4pP3Q6dm9pZCAwfWlmKHRlKHQpKXtpZigkdChlKSlyZXR1cm4genQoZSx0KTtpZih0ZShlKSlyZXR1cm4gUXQoUSh0LmxpbmVMaWtlLGUubGluZUxpa2UpKTtpZihlZShlKSlyZXR1cm4ganQodCxlKTtpZihuZShlKSlyZXR1cm4gUXQoVihlLnBsYW5lTGlrZSx0LmxpbmVMaWtlKSk7aWYocmUoZSkpcmV0dXJuIFF0KFcodC5saW5lTGlrZSxlLmNlbnRlcixlLnJhZGl1cykpO2lmKGllKGUpKXJldHVybiBRdChSKHQubGluZUxpa2UsZSkpO2lmKHNlKGUpKXJldHVybiB3dCh0LGUpO2lmKG9lKGUpKXJldHVybiBFdCh0LGUpfWVsc2UgaWYoZWUodCkpe2lmKCR0KGUpfHx0ZShlKSlyZXR1cm4genQoZSx0KTtpZihlZShlKSlyZXR1cm4gTXQodCxlKTtpZihuZShlKSlyZXR1cm4gTnQodCxlKTtpZihyZShlKSlyZXR1cm4gWnQodCxlKTtpZihpZShlKSlyZXR1cm4gR3QodCxlKTtpZihzZShlKSlyZXR1cm4gSXQodCxlKTtpZihvZShlKSlyZXR1cm4gU3QodCxlKX1lbHNlIGlmKG5lKHQpKXtpZigkdChlKXx8dGUoZSl8fGVlKGUpKXJldHVybiB6dChlLHQpO2lmKG5lKGUpKXJldHVybiBLdChYKHQucGxhbmVMaWtlLGUucGxhbmVMaWtlKSk7aWYocmUoZSkpcmV0dXJuIEt0KF8odC5wbGFuZUxpa2UsZS5jZW50ZXIsZS5yYWRpdXMpKTtpZihpZShlKSlyZXR1cm4gVXQodCxlKTtpZihzZShlKSlyZXR1cm4gT3QodCxlKTtpZihvZShlKSlyZXR1cm4gYnQodCxlKX1lbHNlIGlmKHJlKHQpKXtpZigkdChlKXx8dGUoZSl8fGVlKGUpfHxuZShlKSlyZXR1cm4genQoZSx0KTtpZihyZShlKSlyZXR1cm4gS3QoJCh0LmNlbnRlcix0LnJhZGl1cyxlLmNlbnRlcixlLnJhZGl1cykpO2lmKGllKGUpKXJldHVybiBDdCgpO2lmKHNlKGUpKXJldHVybiBGdCh0LGUpO2lmKG9lKGUpKXJldHVybiBIdCgpfWVsc2UgaWYoaWUodCkpe2lmKCR0KGUpfHx0ZShlKXx8ZWUoZSl8fG5lKGUpfHxyZShlKSlyZXR1cm4genQoZSx0KTtpZihpZShlKSlyZXR1cm4gUnQoKTtpZihzZShlKSlyZXR1cm4gUnQoZS5hc0NpcmNsZSgpKTtpZihvZShlKSlyZXR1cm4gWXQoKX1lbHNlIGlmKHNlKHQpKXtpZigkdChlKXx8dGUoZSl8fGVlKGUpfHxuZShlKXx8cmUoZSl8fGllKGUpKXJldHVybiB6dChlLHQpO2lmKHNlKGUpKXJldHVybiBfdChlLHQpO2lmKG9lKGUpKXJldHVybiBCdCgpfWVsc2UgaWYob2UodCkpe2lmKCR0KGUpfHx0ZShlKXx8ZWUoZSl8fG5lKGUpfHxyZShlKXx8c2UoZSkpcmV0dXJuIHp0KGUsdCk7aWYob2UoZSkpcmV0dXJuIER0KCl9fWNvbnN0IGp0PSgoKT0+e2NvbnN0IHQ9eSgpO3JldHVybihlLG4pPT57Y29uc3R7c3RhcnQ6cixlbmQ6c309ZTtpZihDKHIscykmJkYoclsyXSxuLnopKXJldHVybiBlO2NvbnN0IGk9aygpO3JldHVybiBxKG4uZ2V0UGxhbmUodCkscixzLGkpP25ldyBydChPKGkpKTp2b2lkIDB9fSkoKTtmdW5jdGlvbiB3dCh7bGluZUxpa2U6dH0se2NlbnRlcjplLHJhZGl1czpufSl7Y29uc3Qgcj1lWzJdO3JldHVybiBRdChXKHQsZSxuKS5maWx0ZXIoKHQ9PkYodFsyXSxyKSkpKX1mdW5jdGlvbiBFdCh7bGluZUxpa2U6dH0se3NwaGVyZTplfSl7cmV0dXJuIFF0KFMoZSx0LnN0YXJ0LHQuZW5kKSl9Y29uc3QgQXQ9KCgpPT57Y29uc3QgdD1OKCksZT15KCksbj17c3RhcnQ6aygpLGVuZDprKCksdHlwZTpldC5MSU5FfTtyZXR1cm4ocixzLGkpPT57Y29uc3R7bm9ybWFsOmEsY2VudGVyOmYscmFkaXVzOmx9PXMsaD1vKGEsTShyKSksZD1GKHgocixmKSwwKTtpZihGKGgsMSkpcmV0dXJuIGQ/czp2b2lkIDA7aWYocy5nZXRQbGFuZShlKSxkJiZGKGgsMCkmJnYocikmJnYoZSkpe2lmKEYobCwwKSlyZXR1cm4haXx8SChpLGYpP25ldyBydChVKGYpKTp2b2lkIDA7Y29uc3QgdD1nKGYpO3RbMl0rPWw7Y29uc3QgZT1nKGYpO2VbMl0tPWw7Y29uc3Qgbj1bXTtyZXR1cm4gaSYmIUgoaSx0KXx8bi5wdXNoKHQpLGkmJiFIKGksZSl8fG4ucHVzaChlKSxRdChuKX1pZigheihyLGUsdCkpcmV0dXJuO3Uobi5zdGFydCx0Lm9yaWdpbiksYyhuLmVuZCx0Lm9yaWdpbix0LmRpcmVjdGlvbik7Y29uc3QgcD1SKG4scyk7cmV0dXJuIFF0KGk/WShpLHApOnApfX0pKCk7ZnVuY3Rpb24gTXQodCxlKXtyZXR1cm4gRih0LnosZS56KT90OnZvaWQgMH1mdW5jdGlvbiBOdCh7ejp0fSx7cGxhbmVMaWtlOmV9KXtjb25zdFtuLHJdPWUuc3RhcnQsW3MsaV09ZS5lbmQsbz1iKG4scix0KSx1PWIocyxpLHQpO3JldHVybiBlLnR5cGU9PT1LLlBMQU5FP25ldyBpdChvLHUpOm5ldyBvdChvLHUpfWZ1bmN0aW9uIFp0KHQsZSl7Y29uc3RbbixyXT1lLmNlbnRlcjtyZXR1cm4gbmV3IGF0KGIobixyLHQueiksZS5yYWRpdXMpfWZ1bmN0aW9uIEl0KHQsZSl7cmV0dXJuIEYoZS5jZW50ZXJbMl0sdC56KT9lOnZvaWQgMH1jb25zdCBHdD0oKCk9Pntjb25zdCB0PXkoKTtyZXR1cm4oZSxuKT0+QXQoZS5nZXRQbGFuZSh0KSxuKX0pKCk7ZnVuY3Rpb24gU3QodCx7Y2VudGVyOmUscmFkaXVzOm59KXtjb25zdCByPU1hdGguYWJzKGVbMl0tdC56KTtpZihyPm4mJiFGKHIsbikpcmV0dXJuO2NvbnN0IHM9YihlWzBdLGVbMV0sdC56KSxpPU1hdGguc3FydChuKioyLXIqKjIpO3JldHVybiBGKGksMCk/dm9pZCAwOm5ldyBhdChzLGkpfWNvbnN0IE90PSgoKT0+e2NvbnN0IHQ9eSgpO3JldHVybihlLHtjZW50ZXI6bixyYWRpdXM6cn0pPT57Y29uc3Qgcz1fKGUucGxhbmVMaWtlLG4sciksaT1uWzJdO2UuZ2V0U2xpY2VQbGFuZSh0KTtjb25zdCBvPVtdO2Zvcihjb25zdFt1LGNdb2Ygcyl7Y29uc3QgZT1bdSxjLGldO0godCxlKSYmby5wdXNoKGUpfXJldHVybiBRdChvKX19KSgpLFV0PSgoKT0+e2NvbnN0IHQ9eSgpLGU9eSgpO3JldHVybihuLHIpPT5BdChuLmdldFBsYW5lKHQpLHIsbi5nZXRTbGljZVBsYW5lKGUpKX0pKCksYnQ9KCgpPT57Y29uc3QgdD15KCk7cmV0dXJuKGUse2NlbnRlcjpuLHJhZGl1czpyfSk9Pntjb25zdCBzPWUuZ2V0UGxhbmUodCksaT1qKHMsbiksbz1NYXRoLmFicyhpKTtpZihvPnImJiFGKG8scikpcmV0dXJuO2NvbnN0IHU9ZyhNKHMpKSxjPWEoaygpLG4sdSxpKSxmPU1hdGguc3FydChyKioyLWkqKjIpO3JldHVybiBGKGYsMCk/bmV3IHJ0KE8odyhzLG4saygpKSkpOm5ldyBmdChPKGMpLGYsdSxlLmdldFNsaWNlUGxhbmUoKSl9fSkoKTtmdW5jdGlvbiBDdCh0LGUpe31mdW5jdGlvbiBGdCh0LGUpe2NvbnN0IG49cyh0LmNlbnRlcixlLmNlbnRlcik7aWYoRihuLDApJiZGKHQucmFkaXVzLGUucmFkaXVzKSlyZXR1cm4gZTtyZXR1cm4gVnQoJCh0LmNlbnRlcix0LnJhZGl1cyxlLmNlbnRlcixlLnJhZGl1cyksZS5jZW50ZXJbMl0pfWZ1bmN0aW9uIEh0KHQsZSl7fWZ1bmN0aW9uIFJ0KHQsZSl7fWZ1bmN0aW9uIFl0KHQsZSl7fWZ1bmN0aW9uIF90KHQsZSl7aWYoIUModC5jZW50ZXIsZS5jZW50ZXIpKXJldHVybjtjb25zdCBuPXModC5jZW50ZXIsZS5jZW50ZXIpO2lmKEYobiwwKSYmRih0LnJhZGl1cyxlLnJhZGl1cykpcmV0dXJuIHQ7cmV0dXJuIFZ0KCQodC5jZW50ZXIsdC5yYWRpdXMsZS5jZW50ZXIsZS5yYWRpdXMpLHQuY2VudGVyWzJdKX1mdW5jdGlvbiBCdCh0LGUpe31mdW5jdGlvbiBEdCh0LGUpe31mdW5jdGlvbiBKdCh0LGUpe2NvbnN0e3BsYW5lTGlrZTpuLGdldFo6cn09dCxzPVtdO2lmKCR0KGUpKXQuYWRkSWZPblRoZUdyb3VuZChzLHR0KG4sZS5wb2ludCkpO2Vsc2UgaWYodGUoZSkpdC5hZGRJZk9uVGhlR3JvdW5kKHMsVihuLGUubGluZUxpa2UpKTtlbHNlIGlmKHJlKGUpKWZvcihjb25zdFtpLG9db2YgXyhuLGUuY2VudGVyLGUucmFkaXVzKSl7Y29uc3QgdD1yKGksbyk7bnVsbCE9dCYmcy5wdXNoKFAoaSxvLHQpKX1lbHNlIGlmKG5lKGUpfHx1ZShlKSlmb3IoY29uc3RbaSxvXW9mIFgobixlLnBsYW5lTGlrZSkpe2NvbnN0IHQ9cihpLG8pPz9jZTtzLnB1c2goUChpLG8sdCkpfXJldHVybiBRdChzKX1mdW5jdGlvbiBLdCh0KXtyZXR1cm4gV3QodC5tYXAoKChbdCxlXSk9Pntjb25zdCBuPWIodCxlLDApLHI9Yih0LGUsMSk7cmV0dXJuIG5ldyBpdChuLHIpfSkpKX1mdW5jdGlvbiBRdCh0KXtyZXR1cm4gV3QodC5tYXAoKHQ9PnQ/bmV3IHJ0KE8odCkpOnZvaWQgMCkpKX1mdW5jdGlvbiBWdCh0LGUpe3JldHVybiBRdCh0Lm1hcCgoKFt0LG5dKT0+W3QsbixlXSkpKX1mdW5jdGlvbiBXdChlKXtpZigwIT09ZS5sZW5ndGgpcmV0dXJuIDE9PT1lLmxlbmd0aD9lWzBdPz92b2lkIDA6bmV3IHV0KGUuZmlsdGVyKHQpKX1mdW5jdGlvbiBYdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHV0fWZ1bmN0aW9uICR0KHQpe3JldHVybiB0IGluc3RhbmNlb2YgcnR9ZnVuY3Rpb24gdGUodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBzdH1mdW5jdGlvbiBlZSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGR0fWZ1bmN0aW9uIG5lKHQpe3JldHVybiB0IGluc3RhbmNlb2YgbXR9ZnVuY3Rpb24gcmUodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBjdH1mdW5jdGlvbiBzZSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGF0fWZ1bmN0aW9uIGllKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZnR9ZnVuY3Rpb24gb2UodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBxdH1mdW5jdGlvbiB1ZSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHh0fWNvbnN0IGNlPTA7ZXhwb3J0e2Z0IGFzIENpcmNsZUNvbnN0cmFpbnQsbnQgYXMgQ29uc3RyYWludCx4dCBhcyBEcmFwZWRMaW5lQ29uc3RyYWludCxhdCBhcyBIb3Jpem9udGFsQ2lyY2xlQ29uc3RyYWludCxkdCBhcyBIb3Jpem9udGFsUGxhbmVDb25zdHJhaW50LGl0IGFzIExpbmVDb25zdHJhaW50LHN0IGFzIExpbmVMaWtlQ29uc3RyYWludCxydCBhcyBQb2ludENvbnN0cmFpbnQsb3QgYXMgUmF5Q29uc3RyYWludCx1dCBhcyBTZXRDb25zdHJhaW50LHF0IGFzIFNwaGVyZUNvbnN0cmFpbnQsY3QgYXMgVmVydGljYWxDeWxpbmRlckNvbnN0cmFpbnQsVHQgYXMgVmVydGljYWxIYWxmUGxhbmVDb25zdHJhaW50LHl0IGFzIFZlcnRpY2FsUGxhbmVDb25zdHJhaW50LG10IGFzIFZlcnRpY2FsUGxhbmVMaWtlQ29uc3RyYWludH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtkZXN0cm95SGFuZGxlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHthbGxTZXR0bGVkVmFsdWVzIGFzIG4sdGhyb3dJZkFib3J0ZWQgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHttYXBDb2xsZWN0aW9uQXN5bmMgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7Z2V0TWV0ZXJzUGVyVW5pdEZvclNSIGFzIG8sZ2V0TWV0ZXJzUGVyVmVydGljYWxVbml0Rm9yU1IgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBjfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgdX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2sgYXMgcH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjMi5qc1wiO2ltcG9ydHthIGFzIGwsYyBhcyBkfWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2MgYXMgU31mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjM2Y2NC5qc1wiO2ltcG9ydHtnIGFzIG19ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL2NvbW1vbi5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgaH1mcm9tXCIuLi8uLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0e2Fic29sdXRlSGVpZ2h0RWxldmF0aW9uSW5mbyBhcyBnfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvZWxldmF0aW9uSW5mb1V0aWxzLmpzXCI7aW1wb3J0e1ZlcnRpY2FsSGFsZlBsYW5lQ29uc3RyYWludCBhcyBmfWZyb21cIi4uL3NrZXRjaC9jb25zdHJhaW50cy5qc1wiO2ltcG9ydHtmcm9tQW55TWFwUG9pbnQgYXMgeX1mcm9tXCIuLi9za2V0Y2gvbm9ybWFsaXplZFBvaW50LmpzXCI7aW1wb3J0e0ZlYXR1cmVTbmFwcGluZ1NvdXJjZUluZm8gYXMgX31mcm9tXCIuL0ZlYXR1cmVTbmFwcGluZ1NvdXJjZUluZm8uanNcIjtpbXBvcnR7U25hcHBpbmdEb21haW4gYXMgdn1mcm9tXCIuL1NuYXBwaW5nRG9tYWluLmpzXCI7aW1wb3J0e3NvcnRDYW5kaWRhdGVzSW5QbGFjZSBhcyB3LHNjcmVlbkRpc3RhbmNlIGFzIGp9ZnJvbVwiLi9zbmFwcGluZ1V0aWxzLmpzXCI7aW1wb3J0e0RyYXBlZEVkZ2VTbmFwcGluZ0NhbmRpZGF0ZSBhcyBGfWZyb21cIi4vY2FuZGlkYXRlcy9EcmFwZWRFZGdlU25hcHBpbmdDYW5kaWRhdGUuanNcIjtpbXBvcnR7RWRnZVNuYXBwaW5nQ2FuZGlkYXRlIGFzIEN9ZnJvbVwiLi9jYW5kaWRhdGVzL0VkZ2VTbmFwcGluZ0NhbmRpZGF0ZS5qc1wiO2ltcG9ydHtGZWF0dXJlU25hcHBpbmdDYW5kaWRhdGUgYXMgeH1mcm9tXCIuL2NhbmRpZGF0ZXMvRmVhdHVyZVNuYXBwaW5nQ2FuZGlkYXRlLmpzXCI7aW1wb3J0e1JpZ2h0QW5nbGVTbmFwcGluZ0NhbmRpZGF0ZSBhcyBSLE90aGVyVmVydGV4VHlwZSBhcyBifWZyb21cIi4vY2FuZGlkYXRlcy9SaWdodEFuZ2xlU25hcHBpbmdDYW5kaWRhdGUuanNcIjtpbXBvcnR7dmVjdG9yVG9TY3JlZW5Qb2ludCBhcyBNfWZyb21cIi4uL3N1cHBvcnQvdmlld1V0aWxzLmpzXCI7bGV0IEk9Y2xhc3MgZXh0ZW5kcyB0e2dldCB1cGRhdGluZygpe3JldHVybiB0aGlzLl9zbmFwcGluZ1NvdXJjZXMuc29tZSgoZT0+bnVsbD09ZXx8ZS52YWxpZCYmZS5zbmFwcGluZ1NvdXJjZS51cGRhdGluZykpfHx0aGlzLl91cGRhdGluZ0hhbmRsZXMudXBkYXRpbmd9Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5vcHRpb25zPW51bGwsdGhpcy5fZG9tYWluPXYuRkVBVFVSRSx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IGgsdGhpcy5fc291cmNlTW9kdWxlcz17ZmVhdHVyZVNlcnZpY2U6e21vZHVsZTpudWxsLGxvYWRlcjpudWxsfSxmZWF0dXJlQ29sbGVjdGlvbjp7bW9kdWxlOm51bGwsbG9hZGVyOm51bGx9LGdyYXBoaWNzOnttb2R1bGU6bnVsbCxsb2FkZXI6bnVsbH0sbm90ZXM6e21vZHVsZTpudWxsLGxvYWRlcjpudWxsfSxzY2VuZTp7bW9kdWxlOm51bGwsbG9hZGVyOm51bGx9fX1pbml0aWFsaXplKCl7Y29uc3QgZT1zKCgoKT0+dGhpcy5vcHRpb25zPy5mZWF0dXJlU291cmNlcyksKChlLHQpPT50aGlzLl9jcmVhdGVTb3VyY2VJbmZvKGUsdCkpKTt0aGlzLl9zbmFwcGluZ1NvdXJjZXM9ZSx0aGlzLmFkZEhhbmRsZXMocihlKSl9ZGVzdHJveSgpe3RoaXMuX3NldChcIm9wdGlvbnNcIixudWxsKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpfWFzeW5jIGZldGNoQ2FuZGlkYXRlcyhlLHQscixzKXtpZighKHQmdGhpcy5fZG9tYWluJiZudWxsIT10aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5lZmZlY3RpdmVGZWF0dXJlRW5hYmxlZCkpcmV0dXJuW107Y29uc3Qgbz1bXSxpPXRoaXMuX2NvbXB1dGVTY3JlZW5TaXplRGlzdGFuY2VQYXJhbWV0ZXJzKGUscik7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fc25hcHBpbmdTb3VyY2VzKXtpZihudWxsPT1ufHwhbi52YWxpZHx8IW4uc25hcHBpbmdTb3VyY2UubGF5ZXJTb3VyY2UuZW5hYmxlZHx8bi5sYXllclZpZXc/LnN1c3BlbmRlZCljb250aW51ZTtjb25zdCB0PW4uZ2V0RmV0Y2hDYW5kaWRhdGVzUGFyYW1ldGVycyhlLHIsaSk7Zm9yKGNvbnN0IGUgb2YgdClvLnB1c2gobi5zbmFwcGluZ1NvdXJjZS5mZXRjaENhbmRpZGF0ZXMoZSxzKS50aGVuKChlPT5lLmZpbHRlcigoZT0+IXRoaXMuX2NhbmRpZGF0ZUlzRXhjbHVkZWQobi5zbmFwcGluZ1NvdXJjZSxlLHIuZXhjbHVkZUZlYXR1cmUpKSkpKSl9Y29uc3QgYz0oYXdhaXQgbihvKSkuZmxhdCgpO3JldHVybiB0aGlzLl9hZGRSaWdodEFuZ2xlQ2FuZGlkYXRlcyhjLGUsaSxyKSxhKHMpLHcoZSxjKSxjfV9hZGRSaWdodEFuZ2xlQ2FuZGlkYXRlcyhlLHQscixuKXtjb25zdCBhPW51bGwhPW4udmVydGV4SGFuZGxlP24udmVydGV4SGFuZGxlLnJpZ2h0RWRnZT8ucmlnaHRWZXJ0ZXg/LnBvczpudWxsIT1uLmVkaXRHZW9tZXRyeU9wZXJhdGlvbnMmJlwicG9seWdvblwiPT09bi5lZGl0R2VvbWV0cnlPcGVyYXRpb25zLmRhdGEudHlwZT9uLmVkaXRHZW9tZXRyeU9wZXJhdGlvbnMuZGF0YS5jb21wb25lbnRzWzBdPy5nZXRGaXJzdFZlcnRleCgpPy5wb3M6bnVsbCxzPW51bGwhPW4udmVydGV4SGFuZGxlP24udmVydGV4SGFuZGxlLmxlZnRFZGdlPy5sZWZ0VmVydGV4Py5wb3M6bnVsbCE9bi5lZGl0R2VvbWV0cnlPcGVyYXRpb25zP24uZWRpdEdlb21ldHJ5T3BlcmF0aW9ucy5kYXRhLmNvbXBvbmVudHNbMF0/LmdldExhc3RWZXJ0ZXgoKT8ucG9zOm51bGwse3ZpZXc6b309dGhpcyxpPXkoYSxvLG4pLGM9eShzLG8sbiksdT1lLmxlbmd0aDtmb3IobGV0IHA9MDtwPHU7cCsrKXRoaXMuX2FkZFJpZ2h0QW5nbGVDYW5kaWRhdGUoZVtwXSxjLHQscixlKSx0aGlzLl9hZGRSaWdodEFuZ2xlQ2FuZGlkYXRlKGVbcF0saSx0LHIsZSl9X2FkZFJpZ2h0QW5nbGVDYW5kaWRhdGUoZSx0LHIsbixhKXtpZihudWxsPT10fHwhTChlKSlyZXR1cm47Y29uc3Qgcz1lLmNvbnN0cmFpbnQuY2xvc2VzdFRvKHQpLG89KHNbMF0tclswXSkvbi54LGk9KHNbMV0tclsxXSkvbi55LHtzdGFydDpjLGVuZDp1fT1lLmNvbnN0cmFpbnQ7aWYobypvK2kqaTw9MSl7Y29uc3Qgcj1uZXcgUih7dGFyZ2V0UG9pbnQ6cyxvdGhlclZlcnRleDp0LG90aGVyVmVydGV4VHlwZTpiLk5FWFQscHJldmlvdXNWZXJ0ZXg6cChzLGMpPnAocyx1KT9jOnUsY29uc3RyYWludDpuZXcgZih0LHMpLG9iamVjdElkOmUub2JqZWN0SWQsaXNEcmFwZWQ6ZS5pc0RyYXBlZH0pO2EucHVzaChyKX19X2NvbXB1dGVTY3JlZW5TaXplRGlzdGFuY2VQYXJhbWV0ZXJzKGUsdCl7bGV0IHI9bnVsbCE9dGhpcy5vcHRpb25zP3RoaXMub3B0aW9ucy5kaXN0YW5jZSooXCJ0b3VjaFwiPT09dC5wb2ludGVyP3RoaXMub3B0aW9ucy50b3VjaFNlbnNpdGl2aXR5TXVsdGlwbGllcjoxKTowO3JldHVybiBudWxsPT10aGlzLnZpZXc/e3g6cix5OnIsejpyLGRpc3RhbmNlOnJ9OlwiMmRcIj09PXRoaXMudmlldy50eXBlPyhyKj10aGlzLnZpZXcucmVzb2x1dGlvbix7eDpyLHk6cix6OnIsZGlzdGFuY2U6cn0pOnRoaXMuX2NvbXB1dGVTY3JlZW5TaXplRGlzdGFuY2VQYXJhbWV0ZXJzM0QoZSxyLHRoaXMudmlldyx0KX1fY29tcHV0ZVNjcmVlblNpemVEaXN0YW5jZVBhcmFtZXRlcnMzRChlLHQscixuKXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOmF9PW47ci5yZW5kZXJDb29yZHNIZWxwZXIudG9SZW5kZXJDb29yZHMoZSxhLFApO2NvbnN0IHM9ci5zdGF0ZS5jYW1lcmEuY29tcHV0ZVNjcmVlblBpeGVsU2l6ZUF0KFApLGM9cypyLnJlbmRlckNvb3Jkc0hlbHBlci51bml0SW5NZXRlcnMsdT1jL28oYSkscD1jL2koYSksbD10KnUsZD10KnAsUz1NKGUsYSxnLHIpLG09Uz9IKFMsZSx1LDAsMCxyLG4pOjAsaD1TP0goUyxlLDAsdSwwLHIsbik6MCxmPVM/SChTLGUsMCwwLHAscixuKTowO3JldHVybnt4OjA9PT1tPzA6bC9tLHk6MD09PWg/MDpsL2gsejowPT09Zj8wOmQvZixkaXN0YW5jZTpzKnR9fV9jYW5kaWRhdGVJc0V4Y2x1ZGVkKGUsdCxyKXtpZihudWxsPT1yKXJldHVybiExO2NvbnN0IG49dGhpcy5fZ2V0Q2FuZGlkYXRlT2JqZWN0SWQodCk7aWYobnVsbD09bilyZXR1cm4hMTtjb25zdCBhPWUubGF5ZXJTb3VyY2UubGF5ZXI7cmV0dXJuXCJncmFwaGljc1wiPT09YS50eXBlP3IudWlkPT09bjpyLnNvdXJjZUxheWVyPT09YSYmKCEoIXIuYXR0cmlidXRlc3x8IShcIm9iamVjdElkRmllbGRcImluIGEpKSYmci5hdHRyaWJ1dGVzW2Eub2JqZWN0SWRGaWVsZF09PT1uKX1fZ2V0Q2FuZGlkYXRlT2JqZWN0SWQoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB4P2Uub2JqZWN0SWQ6bnVsbH1hc3luYyBfY3JlYXRlU291cmNlSW5mbyhlLHQpe2NvbnN0IHI9ZS5sYXllcjtyLmxvYWRlZHx8KGF3YWl0IHIubG9hZCgpLGEodCkpO2NvbnN0e3ZpZXc6bn09dGhpcyxzPWF3YWl0IHRoaXMuX2NyZWF0ZUZlYXR1cmVTbmFwcGluZ1NvdXJjZVR5cGUoZSk7cmV0dXJuIGEodCksbmV3IF8obnVsbD09cz97fTp7c25hcHBpbmdTb3VyY2U6cyx2aWV3Om4sbGF5ZXI6cn0pfWFzeW5jIF9jcmVhdGVGZWF0dXJlU25hcHBpbmdTb3VyY2VUeXBlKGUpe3N3aXRjaChlLmxheWVyLnR5cGUpe2Nhc2VcImZlYXR1cmVcIjpjYXNlXCJnZW9qc29uXCI6Y2FzZVwiY3N2XCI6Y2FzZVwib3JpZW50ZWQtaW1hZ2VyeVwiOmNhc2VcInN1YnR5cGUtZ3JvdXBcIjpjYXNlXCJ3ZnNcIjpyZXR1cm4gdGhpcy5fY3JlYXRlRmVhdHVyZVNuYXBwaW5nU291cmNlRmVhdHVyZUxheWVyKGUpO2Nhc2VcImdyYXBoaWNzXCI6cmV0dXJuIHRoaXMuX2NyZWF0ZUZlYXR1cmVTbmFwcGluZ1NvdXJjZUdyYXBoaWNzTGF5ZXIoZSk7Y2FzZVwibWFwLW5vdGVzXCI6cmV0dXJuIHRoaXMuX2NyZWF0ZUZlYXR1cmVTbmFwcGluZ1NvdXJjZU1hcE5vdGVzTGF5ZXIoZSk7Y2FzZVwic2NlbmVcIjpjYXNlXCJidWlsZGluZy1zY2VuZVwiOnJldHVybiB0aGlzLl9jcmVhdGVGZWF0dXJlU25hcHBpbmdTb3VyY2VTY2VuZUxheWVyKGUpfXJldHVybiBudWxsfWFzeW5jIF9jcmVhdGVGZWF0dXJlU25hcHBpbmdTb3VyY2VTY2VuZUxheWVyKGUpe2NvbnN0e3ZpZXc6dH09dGhpcztpZihudWxsPT10fHxcIjNkXCIhPT10LnR5cGUpcmV0dXJuIG51bGw7cmV0dXJuIG5ldygoYXdhaXQgdGhpcy5fZ2V0U291cmNlTW9kdWxlKFwic2NlbmVcIikpLlNjZW5lTGF5ZXJTbmFwcGluZ1NvdXJjZSkoe2xheWVyU291cmNlOmUsdmlldzp0fSl9YXN5bmMgX2NyZWF0ZUZlYXR1cmVTbmFwcGluZ1NvdXJjZUZlYXR1cmVMYXllcihlKXtzd2l0Y2goZS5sYXllci5zb3VyY2U/LnR5cGUpe2Nhc2VcImZlYXR1cmUtbGF5ZXJcIjpjYXNlXCJvcmllbnRlZC1pbWFnZXJ5XCI6cmV0dXJuIG5ldygoYXdhaXQgdGhpcy5fZ2V0U291cmNlTW9kdWxlKFwiZmVhdHVyZVNlcnZpY2VcIikpLkZlYXR1cmVTZXJ2aWNlU25hcHBpbmdTb3VyY2UpKHtzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZSx2aWV3OnRoaXMudmlldyxsYXllclNvdXJjZTplfSk7Y2FzZVwibWVtb3J5XCI6Y2FzZVwiY3N2XCI6Y2FzZVwiZ2VvanNvblwiOmNhc2VcIndmc1wiOmlmKFwibWVzaFwiPT09ZS5sYXllci5nZW9tZXRyeVR5cGUpcmV0dXJuIG51bGw7cmV0dXJuIG5ldygoYXdhaXQgdGhpcy5fZ2V0U291cmNlTW9kdWxlKFwiZmVhdHVyZUNvbGxlY3Rpb25cIikpLkZlYXR1cmVDb2xsZWN0aW9uU25hcHBpbmdTb3VyY2UpKHtsYXllclNvdXJjZTplLHZpZXc6dGhpcy52aWV3fSl9cmV0dXJuIG51bGx9YXN5bmMgX2NyZWF0ZUZlYXR1cmVTbmFwcGluZ1NvdXJjZUdyYXBoaWNzTGF5ZXIoZSl7cmV0dXJuIG5ldygoYXdhaXQgdGhpcy5fZ2V0U291cmNlTW9kdWxlKFwiZ3JhcGhpY3NcIikpLkdyYXBoaWNzU25hcHBpbmdTb3VyY2UpKHtnZXRHcmFwaGljc0xheWVyczooKT0+W2UubGF5ZXJdLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlLHZpZXc6dGhpcy52aWV3LGxheWVyU291cmNlOmV9KX1hc3luYyBfY3JlYXRlRmVhdHVyZVNuYXBwaW5nU291cmNlTWFwTm90ZXNMYXllcihlKXtyZXR1cm4gbmV3KChhd2FpdCB0aGlzLl9nZXRTb3VyY2VNb2R1bGUoXCJub3Rlc1wiKSkuR3JhcGhpY3NTbmFwcGluZ1NvdXJjZSkoe2dldEdyYXBoaWNzTGF5ZXJzOigpPT5lLmxheWVyLnN1YmxheWVycz8udG9BcnJheSgpPz9bXSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZSx2aWV3OnRoaXMudmlldyxsYXllclNvdXJjZTplfSl9YXN5bmMgX2dldFNvdXJjZU1vZHVsZShlKXtjb25zdCB0PXRoaXMuX3NvdXJjZU1vZHVsZXNbZV07aWYobnVsbD09dC5sb2FkZXIpe2NvbnN0IHQ9dGhpcy5fbG9hZFNvdXJjZU1vZHVsZShlKSxyPXttb2R1bGU6bnVsbCxsb2FkZXI6dH07dGhpcy5fc291cmNlTW9kdWxlc1tlXT1yO2NvbnN0IG49YXdhaXQgdCxhPXttb2R1bGU6bixsb2FkZXI6dH07cmV0dXJuIHRoaXMuX3NvdXJjZU1vZHVsZXNbZV09YSxufXJldHVybiBudWxsPT10Lm1vZHVsZT90LmxvYWRlcjp0Lm1vZHVsZX1fbG9hZFNvdXJjZU1vZHVsZShlKXtjb25zdCB0PXRoaXMuX3VwZGF0aW5nSGFuZGxlcztzd2l0Y2goZSl7Y2FzZVwiZmVhdHVyZVNlcnZpY2VcIjpyZXR1cm4gdC5hZGRQcm9taXNlKGltcG9ydChcIi4vZmVhdHVyZVNvdXJjZXMvRmVhdHVyZVNlcnZpY2VTbmFwcGluZ1NvdXJjZS5qc1wiKSk7Y2FzZVwiZmVhdHVyZUNvbGxlY3Rpb25cIjpyZXR1cm4gdC5hZGRQcm9taXNlKGltcG9ydChcIi4vZmVhdHVyZVNvdXJjZXMvRmVhdHVyZUNvbGxlY3Rpb25TbmFwcGluZ1NvdXJjZS5qc1wiKSk7Y2FzZVwiZ3JhcGhpY3NcIjpjYXNlXCJub3Rlc1wiOnJldHVybiB0LmFkZFByb21pc2UoaW1wb3J0KFwiLi9mZWF0dXJlU291cmNlcy9HcmFwaGljc1NuYXBwaW5nU291cmNlLmpzXCIpKTtjYXNlXCJzY2VuZVwiOnJldHVybiB0LmFkZFByb21pc2UoaW1wb3J0KFwiLi9mZWF0dXJlU291cmNlcy9TY2VuZUxheWVyU25hcHBpbmdTb3VyY2UuanNcIikpfX1nZXQgdGVzdCgpe3JldHVybntzbmFwcGluZ1NvdXJjZXM6dGhpcy5fc25hcHBpbmdTb3VyY2VzfX19O2Z1bmN0aW9uIEwoZSl7cmV0dXJuKGUgaW5zdGFuY2VvZiBDfHxlIGluc3RhbmNlb2YgRikmJiFHKGUpfWZ1bmN0aW9uIEcoe2NvbnN0cmFpbnQ6e3N0YXJ0OmUsZW5kOnR9fSl7Y29uc3Qgcj1sKGUsdCksbj1wKGUsdCk7cmV0dXJuIHI8bSgpfHxuL3I8en1mdW5jdGlvbiBIKGUsdCxyLG4sYSxzLHtzcGF0aWFsUmVmZXJlbmNlOm99KXtjb25zdCBpPWQoRSx0KTtpWzBdKz1yLGlbMV0rPW4saVsyXSs9YTtjb25zdCBjPU0oaSxvLGcscyk7cmV0dXJuIGM/aihjLGUpOjEvMH1lKFtjKHtjb25zdHJ1Y3RPbmx5OiEwfSldLEkucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksZShbYyh7Y29uc3RydWN0T25seTohMH0pXSxJLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGUoW2MoKV0sSS5wcm90b3R5cGUsXCJvcHRpb25zXCIsdm9pZCAwKSxlKFtjKHtyZWFkT25seTohMH0pXSxJLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbYygpXSxJLnByb3RvdHlwZSxcIl9zbmFwcGluZ1NvdXJjZXNcIix2b2lkIDApLEk9ZShbdShcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuc25hcHBpbmcuRmVhdHVyZVNuYXBwaW5nRW5naW5lXCIpXSxJKTtjb25zdCBQPVMoKSxFPVMoKSx6PTFlLTQ7ZXhwb3J0e0kgYXMgRmVhdHVyZVNuYXBwaW5nRW5naW5lfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyByfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtsZXQgZT1jbGFzcyBleHRlbmRzIG97Y29uc3RydWN0b3Iocil7c3VwZXIociksdGhpcy5sYXllcj1udWxsLHRoaXMuZW5hYmxlZD0hMCx0aGlzLnVwZGF0aW5nPSExLHRoaXMuYXZhaWxhYmlsaXR5PTF9fTtyKFt0KHtjb25zdHJ1Y3RPbmx5OiEwfSldLGUucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLHIoW3QoKV0sZS5wcm90b3R5cGUsXCJlbmFibGVkXCIsdm9pZCAwKSxyKFt0KCldLGUucHJvdG90eXBlLFwidXBkYXRpbmdcIix2b2lkIDApLHIoW3QoKV0sZS5wcm90b3R5cGUsXCJhdmFpbGFiaWxpdHlcIix2b2lkIDApLGU9cihbcyhcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuc25hcHBpbmcuRmVhdHVyZVNuYXBwaW5nTGF5ZXJTb3VyY2VcIildLGUpO2NvbnN0IHA9ZTtleHBvcnR7cCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7d2F0Y2ggYXMgaSxzeW5jQW5kSW5pdGlhbCBhcyBsfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtzcWxBbmQgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL3NxbC5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZUZpbHRlci5qc1wiO2ltcG9ydHtnZXRGbG9vckZpbHRlckNsYXVzZSBhcyBwfWZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2Zsb29yRmlsdGVyVXRpbHMuanNcIjtpbXBvcnR7aXNTdWJ0eXBlR3JvdXBMYXllciBhcyB1LGlzRmVhdHVyZUxheWVyIGFzIGR9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvbGF5ZXJVdGlscy5qc1wiO2ltcG9ydHtpc1V0aWxpdHlOZXR3b3JrV2ViTWFwIGFzIGN9ZnJvbVwiLi9zbmFwcGluZ1V0aWxzLmpzXCI7bGV0IHk9Y2xhc3MgZXh0ZW5kcyBye2dldCBsYXllclZpZXcoKXtyZXR1cm4gdGhpcy52aWV3Py5hbGxMYXllclZpZXdzPy5maW5kKChlPT5lLmxheWVyPT09dGhpcy5sYXllcikpfWdldCB2YWxpZCgpe3JldHVybiB0aGlzLl92YWxpZH1nZXQgc3VidHlwZUZpbHRlcigpe2NvbnN0e2xheWVyOmV9PXRoaXM7aWYoIXUoZSl8fCFlLnN1YnR5cGVzPy5sZW5ndGgpcmV0dXJue21vZGU6XCJub3QtaW4tdXNlXCIsZmlsdGVyOm51bGx9O2NvbnN0IHI9ZS5maWVsZHNJbmRleC5nZXQoZS5zdWJ0eXBlRmllbGQpPy5uYW1lPz9lLnN1YnR5cGVGaWVsZCx0PWUuc3VibGF5ZXJzLmZpbHRlcigoZT0+ZS52aXNpYmxlKSkubWFwKChlPT5lLnN1YnR5cGVDb2RlKSk7cmV0dXJuIHQubGVuZ3RoP3QubGVuZ3RoPT09ZS5zdWJ0eXBlcy5sZW5ndGg/e21vZGU6XCJhbGwtdmlzaWJsZVwiLGZpbHRlcjpudWxsfToxPT09dC5sZW5ndGg/e21vZGU6XCJpbi11c2VcIixmaWx0ZXI6YCR7cn0gPSAke3QuZ2V0SXRlbUF0KDApfWB9Onttb2RlOlwiaW4tdXNlXCIsZmlsdGVyOmAke3J9IElOICgke3Quam9pbihcIiwgXCIpfSlgfTp7bW9kZTpcIm5vbmUtdmlzaWJsZVwiLGZpbHRlcjpudWxsfX1nZXQgZmxvb3JGaWx0ZXIoKXtjb25zdHt2aWV3OmUsbGF5ZXI6cn09dGhpcztyZXR1cm4gZSYmcj9wKHt2aWV3OmUsbGF5ZXI6cn0pOm51bGx9Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5ydWxlc1RhYmxlPW51bGwsdGhpcy5fdmFsaWQ9ITF9aW5pdGlhbGl6ZSgpe2lmKCF0aGlzLnNuYXBwaW5nU291cmNlfHwhdGhpcy5sYXllcilyZXR1cm47Y29uc3R7bGF5ZXI6ZSxzbmFwcGluZ1NvdXJjZTpyfT10aGlzO2lmKFwicmVmcmVzaFwiaW4gZSl7Y29uc3QgdD1lO3RoaXMuYWRkSGFuZGxlcyh0Lm9uKFwicmVmcmVzaFwiLCgoKT0+ci5yZWZyZXNoKCkpKSl9dGhpcy5sb2FkUnVsZXMoKSx0aGlzLmFkZEhhbmRsZXMoW2koKCgpPT5yLnVwZGF0aW5nKSwoZT0+ci5sYXllclNvdXJjZS51cGRhdGluZz1lKSxsKSxpKCgoKT0+ci5hdmFpbGFiaWxpdHkpLChlPT5yLmxheWVyU291cmNlLmF2YWlsYWJpbGl0eT1lKSxsKV0pfWdldEZldGNoQ2FuZGlkYXRlc1BhcmFtZXRlcnMoZSxyLHQpe2lmKCF0aGlzLnZhbGlkKXJldHVybltdO2NvbnN0e2xheWVyOmksbGF5ZXJWaWV3OmwsZmxvb3JGaWx0ZXI6byxydWxlc1RhYmxlOm4sc3VidHlwZUZpbHRlcjpwfT10aGlzLHU9e2Rpc3RhbmNlOnQsbW9kZTp0aGlzLnZpZXc/LnR5cGU/P1wiMmRcIixwb2ludDplLGNvb3JkaW5hdGVIZWxwZXI6ci5jb29yZGluYXRlSGVscGVyLC4uLnRoaXMuX3R5cGVzLGZpbHRlcjpsJiZcImZpbHRlclwiaW4gbD9sLmZpbHRlcjpudWxsfTtpZihvJiYodS5maWx0ZXI9Zih1LmZpbHRlcixvKSksXCJub3QtaW4tdXNlXCIhPT1wLm1vZGUmJlwiYWxsLXZpc2libGVcIiE9PXAubW9kZSl7aWYoXCJub25lLXZpc2libGVcIj09PXAubW9kZSlyZXR1cm5bXTt1LmZpbHRlcj91LmZpbHRlci53aGVyZT1zKHUuZmlsdGVyLndoZXJlLHAubW9kZSk6dS5maWx0ZXI9bmV3IGEoe3doZXJlOnAuZmlsdGVyfSl9aWYobil7Y29uc3QgZT1yLmZlYXR1cmUsdD1lPy5zb3VyY2VMYXllcjtpZighKGUmJmQoaSkmJmkubGF5ZXJJZCYmZCh0KSYmXCJsb2FkZWRcIj09PW4ubG9hZFN0YXR1cykpcmV0dXJuW107Y29uc3QgbD1bXSxzPWkubGF5ZXJJZCxvPW4uZ2V0RmVhdHVyZVNRTCh0LGUpPy5bc107aWYoIW8pcmV0dXJuW107Y29uc3QgYT1vLmFueVZlcnRleDtsZXQgcD1vLmVuZFZlcnRleDtyZXR1cm4gcCYmYSYmcD09PWEmJihwPVwiXCIpLHAmJmwucHVzaCh7Li4udSxyZXR1cm5FZGdlOiExLHZlcnRleE1vZGU6XCJlbmRzXCIsZmlsdGVyOmYodS5maWx0ZXIscCl9KSxhJiZsLnB1c2goey4uLnUscmV0dXJuRWRnZTohMSx2ZXJ0ZXhNb2RlOlwiYWxsXCIsZmlsdGVyOmYodS5maWx0ZXIsYSl9KSxsfXJldHVyblt1XX1hc3luYyBsb2FkUnVsZXMoKXtjb25zdHtsYXllcjplLHZpZXc6cn09dGhpcztpZihlJiZyJiZjKHI/Lm1hcCkmJmQoZSkpe2NvbnN0IGw9ci5tYXAudXRpbGl0eU5ldHdvcmtzPy5maW5kKChyPT5yLmlzVXRpbGl0eUxheWVyKGUpKSk7aWYobCl0cnl7dGhpcy5ydWxlc1RhYmxlPWF3YWl0IGwuZ2V0UnVsZXNUYWJsZSgpLGF3YWl0KHRoaXMucnVsZXNUYWJsZT8ubG9hZCgpKSx0aGlzLl92YWxpZD0hMH1jYXRjaChpKXtyZXR1cm4gdm9pZCB0LmdldExvZ2dlcihcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuc25hcHBpbmcuRmVhdHVyZVNuYXBwaW5nU291cmNlSW5mb1wiKS5lcnJvcihcIkZhaWxlZCB0byBsb2FkIHJ1bGVzIHRhYmxlIGZvciBzbmFwcGluZyBzb3VyY2VcIixlLnRpdGxlKX19ZWxzZSB0aGlzLl92YWxpZD0hMH1nZXQgX3R5cGVzKCl7cmV0dXJue3JldHVybkVkZ2U6ITAsdmVydGV4TW9kZTpcImFsbFwifX1yZW1vdmUoKXt0aGlzLmRlc3Ryb3koKX1kZXN0cm95KCl7dGhpcy5zbmFwcGluZ1NvdXJjZT8uZGVzdHJveSgpfX07ZnVuY3Rpb24gZihlLHIpe3JldHVybiBudWxsPT1lP25ldyBhKHt3aGVyZTpyfSk6ZS53aGVyZT9uZXcgYSh7d2hlcmU6cyhlLndoZXJlLHIpfSk6bmV3IGEoe3doZXJlOnJ9KX1lKFtvKHtjb25zdHJ1Y3RPbmx5OiEwfSldLHkucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW28oe2NvbnN0cnVjdE9ubHk6ITB9KV0seS5wcm90b3R5cGUsXCJzbmFwcGluZ1NvdXJjZVwiLHZvaWQgMCksZShbbyh7Y29uc3RydWN0T25seTohMH0pXSx5LnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLGUoW28oKV0seS5wcm90b3R5cGUsXCJsYXllclZpZXdcIixudWxsKSxlKFtvKCldLHkucHJvdG90eXBlLFwicnVsZXNUYWJsZVwiLHZvaWQgMCksZShbbygpXSx5LnByb3RvdHlwZSxcInZhbGlkXCIsbnVsbCksZShbbygpXSx5LnByb3RvdHlwZSxcInN1YnR5cGVGaWx0ZXJcIixudWxsKSxlKFtvKCldLHkucHJvdG90eXBlLFwiZmxvb3JGaWx0ZXJcIixudWxsKSxlKFtvKCldLHkucHJvdG90eXBlLFwiX3ZhbGlkXCIsdm9pZCAwKSx5PWUoW24oXCJlc3JpLnZpZXdzLmludGVyYWN0aXZlLnNuYXBwaW5nLkZlYXR1cmVTbmFwcGluZ1NvdXJjZUluZm9cIildLHkpO2V4cG9ydHt5IGFzIEZlYXR1cmVTbmFwcGluZ1NvdXJjZUluZm99O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHthYnNvbHV0ZUhlaWdodEVsZXZhdGlvbkluZm8gYXMgZX1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2VsZXZhdGlvbkluZm9VdGlscy5qc1wiO2ltcG9ydHtmcm9tQW55TWFwUG9pbnQgYXMgdCxmcm9tVmVjMyBhcyBzfWZyb21cIi4uL3NrZXRjaC9ub3JtYWxpemVkUG9pbnQuanNcIjtpbXBvcnR7U25hcHBpbmdBbGdvcml0aG0gYXMgcn1mcm9tXCIuL1NuYXBwaW5nQWxnb3JpdGhtLmpzXCI7aW1wb3J0e2VkaXRFZGdlVG9TbmFwcGluZ0VkZ2UgYXMgaSxzcXVhcmVkU2NyZWVuRGlzdGFuY2UgYXMgb31mcm9tXCIuL3NuYXBwaW5nVXRpbHMuanNcIjtpbXBvcnR7TGluZVNuYXBwaW5nQ2FuZGlkYXRlIGFzIG59ZnJvbVwiLi9jYW5kaWRhdGVzL0xpbmVTbmFwcGluZ0NhbmRpZGF0ZS5qc1wiO2ltcG9ydHt2ZWN0b3JUb1NjcmVlblBvaW50IGFzIGR9ZnJvbVwiLi4vc3VwcG9ydC92aWV3VXRpbHMuanNcIjtpbXBvcnR7cHJvamVjdFBvaW50VG9MaW5lTGlrZSBhcyBwfWZyb21cIi4uLy4uL3N1cHBvcnQvZ2VvbWV0cnkzZFV0aWxzLmpzXCI7aW1wb3J0e0xpbmVUeXBlIGFzIGh9ZnJvbVwiLi4vLi4vc3VwcG9ydC9nZW9tZXRyeTJkVXRpbHMuanNcIjtjbGFzcyBhIGV4dGVuZHMgcntzbmFwTmV3VmVydGV4KHQscyl7Y29uc3Qgcj1zLmVkaXRHZW9tZXRyeU9wZXJhdGlvbnMuZGF0YS5jb21wb25lbnRzWzBdLG89ci5lZGdlcy5sZW5ndGgsbj1bXTtpZihvPDEpcmV0dXJuIG47Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTpwfT1zLGg9ZCh0LHAsZSx0aGlzLnZpZXcpLHt2aWV3OmF9PXRoaXMsbD1yLmVkZ2VzW28tMV07bGV0IGc9bDtkb3tpZih0aGlzLmVkZ2VFeGNlZWRzU2hvcnRMaW5lVGhyZXNob2xkKGcscykpe2NvbnN0IGU9aShnLGEscyk7dGhpcy5fcHJvY2Vzc0NhbmRpZGF0ZVByb3Bvc2FsKGUubGVmdCxlLnJpZ2h0LHQsaCxzLG4pfWc9Zy5sZWZ0VmVydGV4LmxlZnRFZGdlfXdoaWxlKGcmJmchPT1sKTtyZXR1cm4gbn1zbmFwRXhpc3RpbmdWZXJ0ZXgocyxyKXtjb25zdCBvPVtdLG49ci52ZXJ0ZXhIYW5kbGUscD1uLmNvbXBvbmVudDtpZihwLmVkZ2VzLmxlbmd0aDwyKXJldHVybiBvO2NvbnN0e3ZpZXc6aH09dGhpcyx7c3BhdGlhbFJlZmVyZW5jZTphfT1yLGw9ZChzLGEsZSxoKSxnPW4ubGVmdEVkZ2UsbT1uLnJpZ2h0RWRnZTtnJiZtJiZ0aGlzLmVkZ2VFeGNlZWRzU2hvcnRMaW5lVGhyZXNob2xkKGcscikmJnRoaXMuZWRnZUV4Y2VlZHNTaG9ydExpbmVUaHJlc2hvbGQobSxyKSYmdGhpcy5fcHJvY2Vzc0NhbmRpZGF0ZVByb3Bvc2FsKHQoZy5sZWZ0VmVydGV4LnBvcyxoLHIpLHQobS5yaWdodFZlcnRleC5wb3MsaCxyKSxzLGwscixvKTtjb25zdCBjPXAuZWRnZXNbMF07bGV0IGY9Yztkb3tpZihmIT09bi5sZWZ0RWRnZSYmZiE9PW4ucmlnaHRFZGdlJiZ0aGlzLmVkZ2VFeGNlZWRzU2hvcnRMaW5lVGhyZXNob2xkKGYscikpe2NvbnN0IGU9aShmLGgscik7dGhpcy5fcHJvY2Vzc0NhbmRpZGF0ZVByb3Bvc2FsKGUubGVmdCxlLnJpZ2h0LHMsbCxyLG8pfWY9Zi5yaWdodFZlcnRleC5yaWdodEVkZ2V9d2hpbGUoZiYmZiE9PWMpO3JldHVybiBvfV9wcm9jZXNzQ2FuZGlkYXRlUHJvcG9zYWwodCxyLGksYSxsLGcpe2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6bSxwb2ludGVyOmN9PWwsZj1zKHAoaSx7c3RhcnQ6dCxlbmQ6cix0eXBlOmguTElORX0pKTtvKGEsZChmLG0sZSx0aGlzLnZpZXcpKTx0aGlzLnNxdWFyZWRQcm94aW1pdHlUaHJlc2hvbGQoYykmJmcucHVzaChuZXcgbih7bGluZVN0YXJ0OnQsbGluZUVuZDpyLHRhcmdldFBvaW50OmYsaXNEcmFwZWQ6XCJvbi10aGUtZ3JvdW5kXCI9PT1sLmVsZXZhdGlvbkluZm8/Lm1vZGV9KSl9fWV4cG9ydHthIGFzIExpbmVTbmFwcGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ayBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMyLmpzXCI7aW1wb3J0e2EgYXMgdH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjMmY2NC5qc1wiO2ltcG9ydHthYnNvbHV0ZUhlaWdodEVsZXZhdGlvbkluZm8gYXMgcn1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2VsZXZhdGlvbkluZm9VdGlscy5qc1wiO2ltcG9ydHtmcm9tQW55TWFwUG9pbnQgYXMgaSxmcm9tVmFsdWVzIGFzIHN9ZnJvbVwiLi4vc2tldGNoL25vcm1hbGl6ZWRQb2ludC5qc1wiO2ltcG9ydHtkZWZhdWx0cyBhcyBvfWZyb21cIi4vU2V0dGluZ3MuanNcIjtpbXBvcnR7U25hcHBpbmdBbGdvcml0aG0gYXMgbn1mcm9tXCIuL1NuYXBwaW5nQWxnb3JpdGhtLmpzXCI7aW1wb3J0e2VkaXRFZGdlVG9TbmFwcGluZ0VkZ2UgYXMgbCxzcXVhcmVkU2NyZWVuRGlzdGFuY2UgYXMgYX1mcm9tXCIuL3NuYXBwaW5nVXRpbHMuanNcIjtpbXBvcnR7UGFyYWxsZWxMaW5lU25hcHBpbmdDYW5kaWRhdGUgYXMgaH1mcm9tXCIuL2NhbmRpZGF0ZXMvUGFyYWxsZWxMaW5lU25hcHBpbmdDYW5kaWRhdGUuanNcIjtpbXBvcnR7dmVjdG9yVG9TY3JlZW5Qb2ludCBhcyBjfWZyb21cIi4uL3N1cHBvcnQvdmlld1V0aWxzLmpzXCI7aW1wb3J0e3Byb2plY3RQb2ludFRvTGluZSBhcyBkfWZyb21cIi4uLy4uL3N1cHBvcnQvZ2VvbWV0cnkyZFV0aWxzLmpzXCI7Y2xhc3MgcCBleHRlbmRzIG57c25hcE5ld1ZlcnRleChlLHQpe2NvbnN0IHM9dC5lZGl0R2VvbWV0cnlPcGVyYXRpb25zLmRhdGEuY29tcG9uZW50c1swXSxvPXMuZWRnZXMubGVuZ3RoLG49cy52ZXJ0aWNlcy5sZW5ndGgsYT1bXTtpZihvPDIpcmV0dXJuIGE7Y29uc3R7dmlldzpofT10aGlzLGQ9YyhlLHQuc3BhdGlhbFJlZmVyZW5jZSxyLGgpLHA9aShzLnZlcnRpY2VzW24tMV0ucG9zLGgsdCksZz1pKHMudmVydGljZXNbMF0ucG9zLGgsdCksZj1zLmVkZ2VzW28tMV07bGV0IG09Zjtkb3tpZih0aGlzLmVkZ2VFeGNlZWRzU2hvcnRMaW5lVGhyZXNob2xkKG0sdCkpe2NvbnN0IHI9bChtLGgsdCk7dGhpcy5fY2hlY2tFZGdlRm9yUGFyYWxsZWxMaW5lcyhyLHAsZSxkLHQsYSksdGhpcy5fY2hlY2tFZGdlRm9yUGFyYWxsZWxMaW5lcyhyLGcsZSxkLHQsYSl9bT1tLmxlZnRWZXJ0ZXgubGVmdEVkZ2V9d2hpbGUobSYmbSE9PWYpO3JldHVybiBhfXNuYXBFeGlzdGluZ1ZlcnRleChlLHQpe2NvbnN0IHM9W10sbz10LnZlcnRleEhhbmRsZSxuPW8uY29tcG9uZW50O2lmKG4uZWRnZXMubGVuZ3RoPDMpcmV0dXJuIHM7Y29uc3R7dmlldzphfT10aGlzLGg9YyhlLHQuc3BhdGlhbFJlZmVyZW5jZSxyLGEpLGQ9by5sZWZ0RWRnZSxwPW8ucmlnaHRFZGdlLGc9bi52ZXJ0aWNlc1swXSxmPWkoZy5wb3MsYSx0KSxtPW4udmVydGljZXMubGVuZ3RoLHU9bi52ZXJ0aWNlc1ttLTFdLHY9aSh1LnBvcyxhLHQpLEU9bi5lZGdlc1swXTtsZXQgTD1FO2Rve2lmKEwhPT1kJiZMIT09cCYmdGhpcy5lZGdlRXhjZWVkc1Nob3J0TGluZVRocmVzaG9sZChMLHQpKXtjb25zdCByPWwoTCxhLHQpO2QmJnRoaXMuX2NoZWNrRWRnZUZvclBhcmFsbGVsTGluZXMocixpKGQubGVmdFZlcnRleC5wb3MsYSx0KSxlLGgsdCxzKSxwJiZ0aGlzLl9jaGVja0VkZ2VGb3JQYXJhbGxlbExpbmVzKHIsaShwLnJpZ2h0VmVydGV4LnBvcyxhLHQpLGUsaCx0LHMpLG89PT1nP3RoaXMuX2NoZWNrRWRnZUZvclBhcmFsbGVsTGluZXMocix2LGUsaCx0LHMpOm89PT11JiZ0aGlzLl9jaGVja0VkZ2VGb3JQYXJhbGxlbExpbmVzKHIsZixlLGgsdCxzKX1MPUwucmlnaHRWZXJ0ZXgucmlnaHRFZGdlfXdoaWxlKEwmJkwhPT1FKTtyZXR1cm4gc31fY2hlY2tFZGdlRm9yUGFyYWxsZWxMaW5lcyh0LGksbixsLHAsZil7Y29uc3QgbT10LmxlZnQsdT10LnJpZ2h0O2lmKGQoZyxpLG0sdSksZShnLGkpPG8ucGFyYWxsZWxMaW5lVGhyZXNob2xkKXJldHVybjtkKGcsbixtLHUsaSk7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTp2LHBvaW50ZXI6RX09cCxMPXMoZ1swXSxnWzFdLG5bMl0pO2lmKGEobCxjKEwsdixyLHRoaXMudmlldykpPHRoaXMuc3F1YXJlZFByb3hpbWl0eVRocmVzaG9sZChFKSl7aWYodGhpcy5pc1ZlcnRpY2FsKEwsaSl8fHRoaXMuaXNWZXJ0aWNhbChtLHUpKXJldHVybjtpZih0aGlzLl9wYXJhbGxlbFRvUHJldmlvdXNDYW5kaWRhdGUodCxmKSlyZXR1cm47Zi5wdXNoKG5ldyBoKHtyZWZlcmVuY2VMaW5lOnQsbGluZVN0YXJ0OmksdGFyZ2V0UG9pbnQ6TCxpc0RyYXBlZDpcIm9uLXRoZS1ncm91bmRcIj09PXAuZWxldmF0aW9uSW5mbz8ubW9kZX0pKX19X3BhcmFsbGVsVG9QcmV2aW91c0NhbmRpZGF0ZSh0LHIpe2NvbnN0IGk9dC5sZWZ0LHM9dC5yaWdodDtmb3IoY29uc3QgbiBvZiByKWlmKGQoZyxzLG4uY29uc3RyYWludC5zdGFydCxuLmNvbnN0cmFpbnQuZW5kLGkpLGUoZyxzKTxvLnBhcmFsbGVsTGluZVRocmVzaG9sZClyZXR1cm4gbi5hZGRSZWZlcmVuY2VMaW5lKHQpLCEwO3JldHVybiExfX1jb25zdCBnPXQoKTtleHBvcnR7cCBhcyBQYXJhbGxlbExpbmVTbmFwcGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YyBhcyBlLGcgYXMgdCx2IGFzIHMsdyBhcyBpfWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMyLmpzXCI7aW1wb3J0e2EgYXMgcn1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjMmY2NC5qc1wiO2ltcG9ydHtzIGFzIG8scSBhcyBufWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2cgYXMgaCxjIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7YWJzb2x1dGVIZWlnaHRFbGV2YXRpb25JbmZvIGFzIGN9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9lbGV2YXRpb25JbmZvVXRpbHMuanNcIjtpbXBvcnR7VmVydGljYWxIYWxmUGxhbmVDb25zdHJhaW50IGFzIHB9ZnJvbVwiLi4vc2tldGNoL2NvbnN0cmFpbnRzLmpzXCI7aW1wb3J0e2Zyb21BbnlNYXBQb2ludCBhcyBkLGZyb21WZWMzIGFzIGd9ZnJvbVwiLi4vc2tldGNoL25vcm1hbGl6ZWRQb2ludC5qc1wiO2ltcG9ydHtTbmFwcGluZ0FsZ29yaXRobSBhcyBmfWZyb21cIi4vU25hcHBpbmdBbGdvcml0aG0uanNcIjtpbXBvcnR7c3F1YXJlZFNjcmVlbkRpc3RhbmNlIGFzIGx9ZnJvbVwiLi9zbmFwcGluZ1V0aWxzLmpzXCI7aW1wb3J0e1JpZ2h0QW5nbGVTbmFwcGluZ0NhbmRpZGF0ZSBhcyBtLE90aGVyVmVydGV4VHlwZSBhcyB4fWZyb21cIi4vY2FuZGlkYXRlcy9SaWdodEFuZ2xlU25hcHBpbmdDYW5kaWRhdGUuanNcIjtpbXBvcnR7dmVjdG9yVG9TY3JlZW5Qb2ludCBhcyB2fWZyb21cIi4uL3N1cHBvcnQvdmlld1V0aWxzLmpzXCI7Y2xhc3MgRSBleHRlbmRzIGZ7c25hcE5ld1ZlcnRleChlLHQpe2NvbnN0IHM9dC5lZGl0R2VvbWV0cnlPcGVyYXRpb25zLmRhdGEuY29tcG9uZW50c1swXSxpPXMudmVydGljZXMubGVuZ3RoLHI9W107aWYoaTwyKXJldHVybiByO2NvbnN0e3ZpZXc6b309dGhpcyxuPXYoZSx0LnNwYXRpYWxSZWZlcmVuY2UsYyxvKSxoPXMudmVydGljZXNbaS0xXTtpZih0aGlzLmVkZ2VFeGNlZWRzU2hvcnRMaW5lVGhyZXNob2xkKGgubGVmdEVkZ2UsdCkpe2NvbnN0IHM9ZChoLnBvcyxvLHQpLGk9ZChoLmxlZnRFZGdlLmxlZnRWZXJ0ZXgucG9zLG8sdCk7dGhpcy5fY2hlY2tGb3JTbmFwcGluZ0NhbmRpZGF0ZShyLGkscyxlLG4sdCl9Y29uc3QgYT1zLnZlcnRpY2VzWzBdO2lmKHRoaXMuZWRnZUV4Y2VlZHNTaG9ydExpbmVUaHJlc2hvbGQoYS5yaWdodEVkZ2UsdCkpe2NvbnN0IHM9ZChhLnBvcyxvLHQpLGk9ZChhLnJpZ2h0RWRnZS5yaWdodFZlcnRleC5wb3Msbyx0KTt0aGlzLl9jaGVja0ZvclNuYXBwaW5nQ2FuZGlkYXRlKHIsaSxzLGUsbix0KX1yZXR1cm4gcn1zbmFwRXhpc3RpbmdWZXJ0ZXgoZSx0KXtjb25zdCBzPVtdLGk9dC52ZXJ0ZXhIYW5kbGU7aWYoaS5jb21wb25lbnQudmVydGljZXMubGVuZ3RoPDMpcmV0dXJuIHM7Y29uc3R7dmlldzpyfT10aGlzLG89dihlLHQuc3BhdGlhbFJlZmVyZW5jZSxjLHIpLG49aS5sZWZ0RWRnZSxoPWkucmlnaHRFZGdlO2lmKG4/LmxlZnRWZXJ0ZXgubGVmdEVkZ2Upe2NvbnN0IGk9bi5sZWZ0VmVydGV4LmxlZnRFZGdlO2lmKHRoaXMuZWRnZUV4Y2VlZHNTaG9ydExpbmVUaHJlc2hvbGQoaSx0KSl7Y29uc3Qgbj1kKGkucmlnaHRWZXJ0ZXgucG9zLHIsdCksaD1kKGkubGVmdFZlcnRleC5wb3Mscix0KTt0aGlzLl9jaGVja0ZvclNuYXBwaW5nQ2FuZGlkYXRlKHMsaCxuLGUsbyx0KX19aWYoaD8ucmlnaHRWZXJ0ZXgucmlnaHRFZGdlKXtjb25zdCBpPWgucmlnaHRWZXJ0ZXgucmlnaHRFZGdlO2lmKHRoaXMuZWRnZUV4Y2VlZHNTaG9ydExpbmVUaHJlc2hvbGQoaSx0KSl7Y29uc3Qgbj1kKGkubGVmdFZlcnRleC5wb3Mscix0KSxoPWQoaS5yaWdodFZlcnRleC5wb3Mscix0KTt0aGlzLl9jaGVja0ZvclNuYXBwaW5nQ2FuZGlkYXRlKHMsaCxuLGUsbyx0KX19cmV0dXJuIHN9X2NoZWNrRm9yU25hcHBpbmdDYW5kaWRhdGUocixkLGYsRSxqLGspe2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6Uyxwb2ludGVyOnd9PWs7ZShWLGYsZCk7Y29uc3QgQz1vKHUsVlsxXSwtVlswXSwwKSxUPXQoQyxlKFYsRSxmKSkvcyhDKSxGPWcoaShoKEUpLGYsQyxUKSk7aWYobChqLHYoRixTLGMsdGhpcy52aWV3KSk8dGhpcy5zcXVhcmVkUHJveGltaXR5VGhyZXNob2xkKHcpKXtpZih0aGlzLmlzVmVydGljYWwoRixmKXx8dGhpcy5pc1ZlcnRpY2FsKGYsZCkpcmV0dXJuO2NvbnN0IGU9bihhKCksZixDLE1hdGguc2lnbihUKSk7ci5wdXNoKG5ldyBtKHt0YXJnZXRQb2ludDpGLGNvbnN0cmFpbnQ6bmV3IHAoZixnKGUpKSxwcmV2aW91c1ZlcnRleDpkLG90aGVyVmVydGV4OmYsb3RoZXJWZXJ0ZXhUeXBlOnguQ0VOVEVSLGlzRHJhcGVkOlwib24tdGhlLWdyb3VuZFwiPT09ay5lbGV2YXRpb25JbmZvPy5tb2RlfSkpfX19Y29uc3QgVj1yKCksdT1hKCk7ZXhwb3J0e0UgYXMgUmlnaHRBbmdsZVNuYXBwZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtsIGFzIGUsZCBhcyB0fWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMyLmpzXCI7aW1wb3J0e2EgYXMgc31mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjMmY2NC5qc1wiO2ltcG9ydHtjIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7YWJzb2x1dGVIZWlnaHRFbGV2YXRpb25JbmZvIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9lbGV2YXRpb25JbmZvVXRpbHMuanNcIjtpbXBvcnR7ZnJvbUFueU1hcFBvaW50IGFzIG8sZnJvbVZlYzMgYXMgbn1mcm9tXCIuLi9za2V0Y2gvbm9ybWFsaXplZFBvaW50LmpzXCI7aW1wb3J0e1NuYXBwaW5nQWxnb3JpdGhtIGFzIHB9ZnJvbVwiLi9TbmFwcGluZ0FsZ29yaXRobS5qc1wiO2ltcG9ydHtzcXVhcmVkU2NyZWVuRGlzdGFuY2UgYXMgYX1mcm9tXCIuL3NuYXBwaW5nVXRpbHMuanNcIjtpbXBvcnR7UmlnaHRBbmdsZVRyaWFuZ2xlU25hcHBpbmdDYW5kaWRhdGUgYXMgZH1mcm9tXCIuL2NhbmRpZGF0ZXMvUmlnaHRBbmdsZVRyaWFuZ2xlU25hcHBpbmdDYW5kaWRhdGUuanNcIjtpbXBvcnR7dmVjdG9yVG9TY3JlZW5Qb2ludCBhcyBjfWZyb21cIi4uL3N1cHBvcnQvdmlld1V0aWxzLmpzXCI7aW1wb3J0e3Byb2plY3RQb2ludFRvQ2lyY2xlIGFzIG19ZnJvbVwiLi4vLi4vc3VwcG9ydC9nZW9tZXRyeTJkVXRpbHMuanNcIjtjbGFzcyBsIGV4dGVuZHMgcHtzbmFwTmV3VmVydGV4KGUsdCl7Y29uc3Qgcz10LmVkaXRHZW9tZXRyeU9wZXJhdGlvbnMuZGF0YS5jb21wb25lbnRzWzBdLGk9W10scj1zLnZlcnRpY2VzLmxlbmd0aDtpZihcInBvbHlnb25cIiE9PXQuZWRpdEdlb21ldHJ5T3BlcmF0aW9ucy5kYXRhLnR5cGV8fHI8MilyZXR1cm4gaTtjb25zdHt2aWV3Om59PXRoaXMscD1zLnZlcnRpY2VzWzBdLGE9cy52ZXJ0aWNlc1tyLTFdLGQ9byhwLnBvcyxuLHQpLGM9byhhLnBvcyxuLHQpO3JldHVybiB0aGlzLl9wcm9jZXNzQ2FuZGlkYXRlUHJvcG9zYWwoZCxjLGUsdCxpKSxpfXNuYXBFeGlzdGluZ1ZlcnRleChlLHQpe2NvbnN0IHM9W10saT10LnZlcnRleEhhbmRsZSxyPWkuY29tcG9uZW50O2lmKHIuZWRnZXMubGVuZ3RoPDIpcmV0dXJuIHM7aWYoXCJwb2x5bGluZVwiPT09dC5lZGl0R2VvbWV0cnlPcGVyYXRpb25zLmRhdGEudHlwZSYmKDA9PT1pLmluZGV4fHxpLmluZGV4PT09ci52ZXJ0aWNlcy5sZW5ndGgtMSkpcmV0dXJuIHM7Y29uc3R7dmlldzpufT10aGlzLHA9byhpLmxlZnRFZGdlLmxlZnRWZXJ0ZXgucG9zLG4sdCksYT1vKGkucmlnaHRFZGdlLnJpZ2h0VmVydGV4LnBvcyxuLHQpO3JldHVybiB0aGlzLl9wcm9jZXNzQ2FuZGlkYXRlUHJvcG9zYWwocCxhLGUsdCxzKSxzfV9wcm9jZXNzQ2FuZGlkYXRlUHJvcG9zYWwocyxvLHAsbCxmKXtpZighdGhpcy5leGNlZWRzU2hvcnRMaW5lVGhyZXNob2xkKHMsbyxsKSlyZXR1cm47Y29uc3QgZz1lKGgscyxvLC41KSx1PS41KnQocyxvKSx2PWkoKTttKHYscCxnLHUpLHZbMl09cFsyXTtjb25zdCB4PW4odikse3NwYXRpYWxSZWZlcmVuY2U6aixwb2ludGVyOnl9PWwsdz1jKHAsaixyLHRoaXMudmlldyk7aWYoYSh3LGMoeCxqLHIsdGhpcy52aWV3KSk8dGhpcy5zcXVhcmVkUHJveGltaXR5VGhyZXNob2xkKHkpKXtpZih0aGlzLmlzVmVydGljYWwocyx4KXx8dGhpcy5pc1ZlcnRpY2FsKHgsbykpcmV0dXJuO2YucHVzaChuZXcgZCh7dGFyZ2V0UG9pbnQ6eCxwb2ludDE6cyxwb2ludDI6byxpc0RyYXBlZDpcIm9uLXRoZS1ncm91bmRcIj09PWwuZWxldmF0aW9uSW5mbz8ubW9kZX0pKX19fWNvbnN0IGg9cygpO2V4cG9ydHtsIGFzIFJpZ2h0QW5nbGVUcmlhbmdsZVNuYXBwZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtMaW5lU25hcHBlciBhcyBlfWZyb21cIi4vTGluZVNuYXBwZXIuanNcIjtpbXBvcnR7UGFyYWxsZWxMaW5lU25hcHBlciBhcyBwfWZyb21cIi4vUGFyYWxsZWxMaW5lU25hcHBlci5qc1wiO2ltcG9ydHtSaWdodEFuZ2xlU25hcHBlciBhcyBufWZyb21cIi4vUmlnaHRBbmdsZVNuYXBwZXIuanNcIjtpbXBvcnR7UmlnaHRBbmdsZVRyaWFuZ2xlU25hcHBlciBhcyBhfWZyb21cIi4vUmlnaHRBbmdsZVRyaWFuZ2xlU25hcHBlci5qc1wiO2ltcG9ydHtTbmFwcGluZ0RvbWFpbiBhcyBjfWZyb21cIi4vU25hcHBpbmdEb21haW4uanNcIjtpbXBvcnR7c29ydENhbmRpZGF0ZXNJblBsYWNlIGFzIG19ZnJvbVwiLi9zbmFwcGluZ1V0aWxzLmpzXCI7bGV0IGg9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMpe3N1cGVyKHMpLHRoaXMudXBkYXRpbmc9ITEsdGhpcy5fc25hcHBlcnM9bmV3IHQsdGhpcy5fZG9tYWluPWMuU0VMRn1pbml0aWFsaXplKCl7dGhpcy5fc25hcHBlcnMucHVzaChuZXcgcCh0aGlzLnZpZXcsdGhpcy5vcHRpb25zKSxuZXcgZSh0aGlzLnZpZXcsdGhpcy5vcHRpb25zKSxuZXcgbih0aGlzLnZpZXcsdGhpcy5vcHRpb25zKSxuZXcgYSh0aGlzLnZpZXcsdGhpcy5vcHRpb25zKSl9c2V0IG9wdGlvbnMocyl7dGhpcy5fc2V0KFwib3B0aW9uc1wiLHMpO2Zvcihjb25zdCBvIG9mIHRoaXMuX3NuYXBwZXJzKW8ub3B0aW9ucz1zfWFzeW5jIGZldGNoQ2FuZGlkYXRlcyhzLG8sdCl7aWYoIShvJnRoaXMuX2RvbWFpbiYmdGhpcy5vcHRpb25zLmVmZmVjdGl2ZVNlbGZFbmFibGVkKSlyZXR1cm5bXTtjb25zdCBpPVtdO2Zvcihjb25zdCByIG9mIHRoaXMuX3NuYXBwZXJzLml0ZW1zKWZvcihjb25zdCBvIG9mIHIuc25hcChzLHQpKWkucHVzaChvKTtyZXR1cm4gbShzLGkpLGl9fTtzKFtpKHtyZWFkT25seTohMH0pXSxoLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsdm9pZCAwKSxzKFtpKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGgucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCkscyhbaSgpXSxoLnByb3RvdHlwZSxcIm9wdGlvbnNcIixudWxsKSxoPXMoW3IoXCJlc3JpLnZpZXdzLmludGVyYWN0aXZlLnNuYXBwaW5nLlNlbGZTbmFwcGluZ0VuZ2luZVwiKV0saCk7ZXhwb3J0e2ggYXMgU2VsZlNuYXBwaW5nRW5naW5lfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ayBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMyLmpzXCI7aW1wb3J0e2Fic29sdXRlSGVpZ2h0RWxldmF0aW9uSW5mbyBhcyB0fWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvZWxldmF0aW9uSW5mb1V0aWxzLmpzXCI7aW1wb3J0e2Zyb21BbnlNYXBQb2ludCBhcyBzfWZyb21cIi4uL3NrZXRjaC9ub3JtYWxpemVkUG9pbnQuanNcIjtpbXBvcnR7ZGVmYXVsdHMgYXMgcn1mcm9tXCIuL1NldHRpbmdzLmpzXCI7aW1wb3J0e3NxdWFyZWRTY3JlZW5EaXN0YW5jZSBhcyBpfWZyb21cIi4vc25hcHBpbmdVdGlscy5qc1wiO2ltcG9ydHt2ZWN0b3JUb1NjcmVlblBvaW50IGFzIG99ZnJvbVwiLi4vc3VwcG9ydC92aWV3VXRpbHMuanNcIjtjbGFzcyBoe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy52aWV3PWUsdGhpcy5vcHRpb25zPXQsdGhpcy5zcXVhcmVkU2hvcnRMaW5lVGhyZXNob2xkPXIuc2hvcnRMaW5lVGhyZXNob2xkKnIuc2hvcnRMaW5lVGhyZXNob2xkfXNuYXAoZSx0KXtyZXR1cm4gbnVsbCE9dC52ZXJ0ZXhIYW5kbGU/XCJ2ZXJ0ZXhcIiE9PXQudmVydGV4SGFuZGxlLnR5cGU/W106dGhpcy5zbmFwRXhpc3RpbmdWZXJ0ZXgoZSx0KTp0aGlzLnNuYXBOZXdWZXJ0ZXgoZSx0KX1lZGdlRXhjZWVkc1Nob3J0TGluZVRocmVzaG9sZChlLHQpe3JldHVybiB0aGlzLmV4Y2VlZHNTaG9ydExpbmVUaHJlc2hvbGQocyhlLmxlZnRWZXJ0ZXgucG9zLHRoaXMudmlldyx0KSxzKGUucmlnaHRWZXJ0ZXgucG9zLHRoaXMudmlldyx0KSx0KX1leGNlZWRzU2hvcnRMaW5lVGhyZXNob2xkKGUscyx7c3BhdGlhbFJlZmVyZW5jZTpyfSl7cmV0dXJuIDA9PT10aGlzLnNxdWFyZWRTaG9ydExpbmVUaHJlc2hvbGR8fGkobyhzLHIsdCx0aGlzLnZpZXcpLG8oZSxyLHQsdGhpcy52aWV3KSk+dGhpcy5zcXVhcmVkU2hvcnRMaW5lVGhyZXNob2xkfWlzVmVydGljYWwodCxzKXtyZXR1cm4gZSh0LHMpPHIudmVydGljYWxMaW5lVGhyZXNob2xkfXNxdWFyZWRQcm94aW1pdHlUaHJlc2hvbGQoZSl7cmV0dXJuXCJ0b3VjaFwiPT09ZT90aGlzLl9zcXVhcmVkVG91Y2hQcm94aW1pdHlUaHJlc2hvbGQ6dGhpcy5fc3F1YXJlZE1vdXNlUHJveGltaXR5VGhyZXNob2xkfWdldCBfc3F1YXJlZE1vdXNlUHJveGltaXR5VGhyZXNob2xkKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5kaXN0YW5jZSp0aGlzLm9wdGlvbnMuZGlzdGFuY2V9Z2V0IF9zcXVhcmVkVG91Y2hQcm94aW1pdHlUaHJlc2hvbGQoKXtjb25zdHtkaXN0YW5jZTplLHRvdWNoU2Vuc2l0aXZpdHlNdWx0aXBsaWVyOnR9PXRoaXMub3B0aW9ucyxzPWUqdDtyZXR1cm4gcypzfX1leHBvcnR7aCBhcyBTbmFwcGluZ0FsZ29yaXRobX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtpc0Fib3J0ZWQgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBzLHN5bmMgYXMgcixzeW5jQW5kSW5pdGlhbCBhcyBhfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgcH1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e3Byb2plY3QgYXMgYyxpbml0aWFsaXplUHJvamVjdGlvbiBhcyBkfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24uanNcIjtpbXBvcnR7YWJzb2x1dGVIZWlnaHRFbGV2YXRpb25JbmZvIGFzIGh9ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9lbGV2YXRpb25JbmZvVXRpbHMuanNcIjtpbXBvcnR7ZnJvbVBvaW50IGFzIGx9ZnJvbVwiLi4vc2tldGNoL25vcm1hbGl6ZWRQb2ludC5qc1wiO2ltcG9ydHtkZWZhdWx0cyBhcyB1fWZyb21cIi4vU2V0dGluZ3MuanNcIjtpbXBvcnR7U25hcHBpbmdEb21haW4gYXMgZn1mcm9tXCIuL1NuYXBwaW5nRG9tYWluLmpzXCI7aW1wb3J0e2RlZmF1bHRTbmFwcGluZ0VuZ2luZXNGYWN0b3J5IGFzIF99ZnJvbVwiLi9zbmFwcGluZ0ZhY3RvcnkuanNcIjtpbXBvcnQgZyBmcm9tXCIuL1NuYXBwaW5nT3B0aW9ucy5qc1wiO2ltcG9ydHtzbmFwcGluZ1BvaW50VG9TbmFwcGluZ091dHB1dCBhcyBtfWZyb21cIi4vc25hcHBpbmdQb2ludFV0aWxzLmpzXCI7aW1wb3J0e3NvcnRDYW5kaWRhdGVzSW5QbGFjZSBhcyBTLHNxdWFyZWRTY3JlZW5EaXN0YW5jZSBhcyB2fWZyb21cIi4vc25hcHBpbmdVdGlscy5qc1wiO2ltcG9ydHtJbnRlcnNlY3Rpb25TbmFwcGluZ0NhbmRpZGF0ZSBhcyB5fWZyb21cIi4vY2FuZGlkYXRlcy9JbnRlcnNlY3Rpb25TbmFwcGluZ0NhbmRpZGF0ZS5qc1wiO2ltcG9ydHt2ZWN0b3JUb1NjcmVlblBvaW50IGFzIEN9ZnJvbVwiLi4vc3VwcG9ydC92aWV3VXRpbHMuanNcIjtsZXQgUD1jbGFzcyBleHRlbmRzKG4uRXZlbnRlZE1peGluKGUpKXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLm9wdGlvbnM9bmV3IGcsdGhpcy5zbmFwcGluZ0VuZ2luZXNGYWN0b3J5PV8sdGhpcy5fZW5naW5lcz1bXSx0aGlzLl9jdXJyZW50TWFpbkNhbmRpZGF0ZT1udWxsLHRoaXMuX2N1cnJlbnRPdGhlckFjdGl2ZUNhbmRpZGF0ZXM9W10sdGhpcy5fY3VycmVudFNuYXBwZWRUeXBlPVQuTUFJTn1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKFtzKCgoKT0+e2NvbnN0e2VmZmVjdGl2ZUZlYXR1cmVFbmFibGVkOnQsZWZmZWN0aXZlU2VsZkVuYWJsZWQ6ZSx0b3VjaFNlbnNpdGl2aXR5TXVsdGlwbGllcjpuLGRpc3RhbmNlOml9PXRoaXMub3B0aW9ucztyZXR1cm57ZWZmZWN0aXZlRmVhdHVyZUVuYWJsZWQ6dCxlZmZlY3RpdmVTZWxmRW5hYmxlZDplLHRvdWNoU2Vuc2l0aXZpdHlNdWx0aXBsaWVyOm4sZGlzdGFuY2U6aX19KSwoKCk9Pnt0aGlzLmRvbmVTbmFwcGluZygpLHRoaXMuZW1pdChcImNoYW5nZWRcIil9KSxyKSxzKCgoKT0+dGhpcy5vcHRpb25zKSwodD0+e2Zvcihjb25zdCBlIG9mIHRoaXMuX2VuZ2luZXMpZS5vcHRpb25zPXR9KSxyKSxzKCgoKT0+KHt2aWV3UmVhZHk6dGhpcy52aWV3LnJlYWR5LHZpZXdTcGF0aWFsUmVmZXJlbmNlOnRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlLHNuYXBwaW5nRW5naW5lc0ZhY3Rvcnk6dGhpcy5zbmFwcGluZ0VuZ2luZXNGYWN0b3J5fSkpLCgoe3ZpZXdSZWFkeTp0LHNuYXBwaW5nRW5naW5lc0ZhY3Rvcnk6ZX0pPT50aGlzLl9yZWNyZWF0ZUVuZ2luZXModCxlKSksYSldKX1kZXN0cm95KCl7dGhpcy5fZGVzdHJveUVuZ2luZXMoKX1nZXQgdXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5fZW5naW5lcy5zb21lKCh0PT50LnVwZGF0aW5nKSl9X3JlY3JlYXRlRW5naW5lcyh0LGUpe2lmKHRoaXMuX2Rlc3Ryb3lFbmdpbmVzKCksIXQpcmV0dXJuO2NvbnN0e3ZpZXc6bixvcHRpb25zOml9PXRoaXM7dGhpcy5fZW5naW5lcz1lKG4saSl9X2Rlc3Ryb3lFbmdpbmVzKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fZW5naW5lcyl0LmRlc3Ryb3koKTt0aGlzLl9lbmdpbmVzPVtdfWdldCBfc3F1YXJlZE1vdXNlUHJveGltaXR5VHJlc2hvbGQoKXtyZXR1cm4gdGhpcy5vcHRpb25zLmRpc3RhbmNlKnRoaXMub3B0aW9ucy5kaXN0YW5jZX1nZXQgX3NxdWFyZWRUb3VjaFByb3hpbWl0eVRocmVzaG9sZCgpe2NvbnN0e2Rpc3RhbmNlOnQsdG91Y2hTZW5zaXRpdml0eU11bHRpcGxpZXI6ZX09dGhpcy5vcHRpb25zLG49dCplO3JldHVybiBuKm59Z2V0IF9zcXVhcmVkU2F0aXNmaWVzQ29uc3RyYWludFRocmVzaG9sZCgpe3JldHVybiB1LnNhdGlzZmllc0NvbnN0cmFpbnRTY3JlZW5UaHJlc2hvbGQqdS5zYXRpc2ZpZXNDb25zdHJhaW50U2NyZWVuVGhyZXNob2xkfXNuYXAodCl7cmV0dXJuIEUodCk/dGhpcy5fc25hcE11bHRpUG9pbnQodCk6dGhpcy5fc25hcFNpbmdsZVBvaW50KHQpfXVwZGF0ZSh0KXtjb25zdHtwb2ludDplLGNvbnRleHQ6bn09dDt0aGlzLl9yZW1vdmVWaXN1YWxpemF0aW9uKCk7Y29uc3QgaT10aGlzLl9jdXJyZW50TWFpbkNhbmRpZGF0ZTtpZihudWxsPT1pKXJldHVybiBlO2NvbnN0IHM9dGhpcy5fc2VsZWN0VXBkYXRlSW5wdXQodCk7aWYobnVsbD09cylyZXR1cm4gZTtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOnJ9PW4sYT1jKHMscik7aWYobnVsbD09YSlyZXR1cm4gZTtjb25zdHt2aWV3Om99PXRoaXMse2VsZXZhdGlvbkluZm86cCx2aXN1YWxpemVyOmR9PW4saD1bXSx1PWwoYSxvLHApLGY9aS5jb25zdHJhaW50LmNsb3Nlc3RUbyh1KTtpZighdGhpcy5fYXJlUG9pbnRzV2l0aGluU2NyZWVuVGhyZXNob2xkKHUsZixuKSlyZXR1cm4gdGhpcy5fcmVzZXRTbmFwcGluZ1N0YXRlKCksZTtpLnRhcmdldFBvaW50PWYsaC5wdXNoKC4uLmkuaGludHMpO2Zvcihjb25zdCBjIG9mIHRoaXMuX2N1cnJlbnRPdGhlckFjdGl2ZUNhbmRpZGF0ZXMpYy50YXJnZXRQb2ludD1mLGgucHVzaCguLi5jLmhpbnRzKTtyZXR1cm4gbnVsbCE9ZCYmdGhpcy5hZGRIYW5kbGVzKGQuZHJhdyhoLHtzcGF0aWFsUmVmZXJlbmNlOnIsZWxldmF0aW9uSW5mbzpJKG4pLHZpZXc6byxzZWxmU25hcHBpbmdaOm4uc2VsZlNuYXBwaW5nWn0pLHcpLG0oZixvLHt6OmUueixtOmUubSxzcGF0aWFsUmVmZXJlbmNlOmUuc3BhdGlhbFJlZmVyZW5jZSxlbGV2YXRpb25JbmZvOnB9KX1kb25lU25hcHBpbmcoKXt0aGlzLl9yZW1vdmVWaXN1YWxpemF0aW9uKCksdGhpcy5fcmVzZXRTbmFwcGluZ1N0YXRlKCl9X3NlbGVjdFVwZGF0ZUlucHV0KHtwb2ludDp0LHNjZW5lUG9pbnQ6ZX0pe3N3aXRjaCh0aGlzLl9jdXJyZW50U25hcHBlZFR5cGUpe2Nhc2UgVC5NQUlOOnJldHVybiB0O2Nhc2UgVC5TQ0VORTpyZXR1cm4gZX19X3Jlc2V0U25hcHBpbmdTdGF0ZSgpe3RoaXMuX2N1cnJlbnRNYWluQ2FuZGlkYXRlPW51bGwsdGhpcy5fY3VycmVudE90aGVyQWN0aXZlQ2FuZGlkYXRlcz1bXSx0aGlzLl9jdXJyZW50U25hcHBlZFR5cGU9VC5NQUlOfV9yZW1vdmVWaXN1YWxpemF0aW9uKCl7dGhpcy5yZW1vdmVIYW5kbGVzKHcpfWFzeW5jIF9zbmFwU2luZ2xlUG9pbnQoe3BvaW50OnQsY29udGV4dDplLHNpZ25hbDpufSl7Y29uc3R7dmlldzppfT10aGlzLHtlbGV2YXRpb25JbmZvOnN9PWUscj1sKHQsaSxzKSxhPWF3YWl0IHRoaXMuX2ZldGNoQ2FuZGlkYXRlcyhyLGYuQUxMLGUsbik7cmV0dXJuIHRoaXMuX2NyZWF0ZVNuYXBSZXN1bHQocixULk1BSU4sYSxpLGUse3o6dC56LG06dC5tLHNwYXRpYWxSZWZlcmVuY2U6dC5zcGF0aWFsUmVmZXJlbmNlLGVsZXZhdGlvbkluZm86c30sbil9YXN5bmMgX3NuYXBNdWx0aVBvaW50KHtwb2ludDp0LHNjZW5lUG9pbnQ6ZSxjb250ZXh0Om4sc2lnbmFsOml9KXtjb25zdHt2aWV3OnN9PXRoaXMse2Nvb3JkaW5hdGVIZWxwZXI6cixlbGV2YXRpb25JbmZvOmEsc3BhdGlhbFJlZmVyZW5jZTpvfT1uO2F3YWl0IGQoZS5zcGF0aWFsUmVmZXJlbmNlLG8pO2NvbnN0IHA9YyhlLG8pLGg9bChwLHMsYSksdT1hd2FpdCB0aGlzLl9mZXRjaENhbmRpZGF0ZXMoaCxmLkZFQVRVUkUsbixpKTtpZih1Lmxlbmd0aD4wKXtjb25zdCB0PWF3YWl0IHRoaXMuX2ZldGNoQ2FuZGlkYXRlcyhoLGYuU0VMRixuLGkpO3JldHVybiB0aGlzLl9jcmVhdGVTbmFwUmVzdWx0KGgsVC5TQ0VORSxbLi4udSwuLi50XSxzLG4se3o6cC56LG06cC5tLHNwYXRpYWxSZWZlcmVuY2U6cC5zcGF0aWFsUmVmZXJlbmNlLGVsZXZhdGlvbkluZm86YX0saSl9Y29uc3QgXz1sKHQscyxhKSxnPWF3YWl0IHRoaXMuX2ZldGNoQ2FuZGlkYXRlcyhfLGYuU0VMRixuLGkpO3JldHVybiB0aGlzLl9jcmVhdGVTbmFwUmVzdWx0KF8sVC5NQUlOLGcscyxuLHt6OnIuaGFzWigpJiZ0Lmhhc1o/dC56Pz8wOnZvaWQgMCxtOnIuaGFzTSgpJiZ0Lmhhc00/dC5tPz8wOnZvaWQgMCxzcGF0aWFsUmVmZXJlbmNlOnQuc3BhdGlhbFJlZmVyZW5jZSxlbGV2YXRpb25JbmZvOmF9LGkpfWFzeW5jIF9mZXRjaENhbmRpZGF0ZXModCxlLG4saSl7cmV0dXJuKGF3YWl0IFByb21pc2UuYWxsKHRoaXMuX2VuZ2luZXMubWFwKChzPT5zLmZldGNoQ2FuZGlkYXRlcyh0LGUsbixpKSkpKSkuZmxhdCgpfV9jcmVhdGVTbmFwUmVzdWx0KHQsZSxuLHMscixhLG8pe3JldHVybntnZXQgdmFsaWQoKXtyZXR1cm4haShvKX0sYXBwbHk6KCk9Pntjb25zdHtzcGF0aWFsUmVmZXJlbmNlOml9PXIse3NuYXBwZWRQb2ludDpvLGhpbnRzOnB9PXRoaXMuX3Byb2Nlc3NDYW5kaWRhdGVzKHQsZSxuLHIpO3JldHVybiB0aGlzLl9yZW1vdmVWaXN1YWxpemF0aW9uKCksbnVsbCE9ci52aXN1YWxpemVyJiZ0aGlzLmFkZEhhbmRsZXMoci52aXN1YWxpemVyLmRyYXcocCx7c3BhdGlhbFJlZmVyZW5jZTppLGVsZXZhdGlvbkluZm86aCx2aWV3OnMsc2VsZlNuYXBwaW5nWjpyLnNlbGZTbmFwcGluZ1p9KSx3KSxtKG8scyxhKX19fV9wcm9jZXNzQ2FuZGlkYXRlcyh0LGUsbixpKXtpZihuLmxlbmd0aDwxKXJldHVybiB0aGlzLmRvbmVTbmFwcGluZygpLHtzbmFwcGVkUG9pbnQ6dCxoaW50czpbXX07dGhpcy5fY3VycmVudFNuYXBwZWRUeXBlIT09ZSYmdGhpcy5fcmVzZXRTbmFwcGluZ1N0YXRlKCksUyh0LG4pO2NvbnN0IHM9dGhpcy5fY3VycmVudE1haW5DYW5kaWRhdGU7aWYobnVsbCE9cyl7Y29uc3Qgcj10aGlzLl9maW5kT2xkQ29uc3RyYWludEluTmV3Q2FuZGlkYXRlcyhzLG4pO2lmKHI+PTApe2lmKCEobltyXWluc3RhbmNlb2YgeSkpcmV0dXJuIHRoaXMuX2ludGVyc2VjdFdpdGhPdGhlckNhbmRpZGF0ZXMocixuLHQsZSxpKTtpZih0aGlzLl9hcmVQb2ludHNXaXRoaW5TY3JlZW5UaHJlc2hvbGQodCxzLnRhcmdldFBvaW50LGkpKXJldHVybiB0aGlzLl91cGRhdGVTbmFwcGluZ0NhbmRpZGF0ZShzLGUsbixpKX19cmV0dXJuIHRoaXMuX2ludGVyc2VjdFdpdGhPdGhlckNhbmRpZGF0ZXMoMCxuLHQsZSxpKX1fZmluZE9sZENvbnN0cmFpbnRJbk5ld0NhbmRpZGF0ZXModCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIHk/dGhpcy5fZmluZE9sZENhbmRpZGF0ZUluZGV4KGUsdC5maXJzdCk+PTAmJnRoaXMuX2ZpbmRPbGRDYW5kaWRhdGVJbmRleChlLHQuc2Vjb25kKT49MD8wOi0xOnRoaXMuX2ZpbmRPbGRDYW5kaWRhdGVJbmRleChlLHQpfV9pbnRlcnNlY3RXaXRoT3RoZXJDYW5kaWRhdGVzKHQsZSxuLGkscyl7Y29uc3R7Y29vcmRpbmF0ZUhlbHBlcjpyfT1zLGE9ZVt0XSxvPVtdO2ZvcihsZXQgcD0wO3A8ZS5sZW5ndGg7KytwKXtpZihwPT09dCljb250aW51ZTtjb25zdCBpPWVbcF0scz1hLmNvbnN0cmFpbnQuaW50ZXJzZWN0KGkuY29uc3RyYWludCk7aWYocylmb3IoY29uc3QgdCBvZiBzLmNsb3Nlc3RQb2ludHMoYS50YXJnZXRQb2ludCkpby5wdXNoKFtuZXcgeSh0LGEsaSxpLmlzRHJhcGVkKSx0aGlzLl9zcXVhcmVkU2NyZWVuRGlzdGFuY2Uobix0LHIpXSl9cmV0dXJuIG8ubGVuZ3RoPjAmJihvLnNvcnQoKCh0LGUpPT50WzFdLWVbMV0pKSxvWzBdWzFdPHRoaXMuX3NxdWFyZWRQb2ludFByb3hpbWl0eVRocmVzaG9sZChzLnBvaW50ZXIpKT90aGlzLl91cGRhdGVTbmFwcGluZ0NhbmRpZGF0ZShvWzBdWzBdLGksZSxzKTp0aGlzLl91cGRhdGVTbmFwcGluZ0NhbmRpZGF0ZShhLGksZSxzKX1fdXBkYXRlU25hcHBpbmdDYW5kaWRhdGUodCxlLG4saSl7dGhpcy5kb25lU25hcHBpbmcoKSx0aGlzLl9jdXJyZW50TWFpbkNhbmRpZGF0ZT10LHRoaXMuX2N1cnJlbnRTbmFwcGVkVHlwZT1lO2NvbnN0IHM9dGhpcy5fY3VycmVudE1haW5DYW5kaWRhdGUudGFyZ2V0UG9pbnQscj1bXTtyLnB1c2goLi4udC5oaW50cyk7Zm9yKGNvbnN0IGEgb2Ygbil7aWYodCBpbnN0YW5jZW9mIHkpe2lmKGEuY29uc3RyYWludC5lcXVhbHModC5maXJzdC5jb25zdHJhaW50KXx8YS5jb25zdHJhaW50LmVxdWFscyh0LnNlY29uZC5jb25zdHJhaW50KSljb250aW51ZX1lbHNlIGlmKGEuY29uc3RyYWludC5lcXVhbHModC5jb25zdHJhaW50KSljb250aW51ZTtjb25zdCBlPWEuY29uc3RyYWludC5jbG9zZXN0VG8ocyk7dGhpcy5fc3F1YXJlZFNjcmVlbkRpc3RhbmNlKGUscyxpLmNvb3JkaW5hdGVIZWxwZXIpPHRoaXMuX3NxdWFyZWRTYXRpc2ZpZXNDb25zdHJhaW50VGhyZXNob2xkJiYoYS50YXJnZXRQb2ludD1zLHRoaXMuX2N1cnJlbnRPdGhlckFjdGl2ZUNhbmRpZGF0ZXMucHVzaChhKSxyLnB1c2goLi4uYS5oaW50cykpfXJldHVybntzbmFwcGVkUG9pbnQ6cyxoaW50czpyfX1fc3F1YXJlZFBvaW50UHJveGltaXR5VGhyZXNob2xkKHQpe3JldHVyblwidG91Y2hcIj09PXQ/dGhpcy5fc3F1YXJlZFRvdWNoUHJveGltaXR5VGhyZXNob2xkOnRoaXMuX3NxdWFyZWRNb3VzZVByb3hpbWl0eVRyZXNob2xkfV9hcmVQb2ludHNXaXRoaW5TY3JlZW5UaHJlc2hvbGQodCxlLG4pe3JldHVybiB0aGlzLl9zcXVhcmVkU2NyZWVuRGlzdGFuY2UodCxlLG4uY29vcmRpbmF0ZUhlbHBlcik8dGhpcy5fc3F1YXJlZFBvaW50UHJveGltaXR5VGhyZXNob2xkKG4ucG9pbnRlcil9X3NxdWFyZWRTY3JlZW5EaXN0YW5jZSh0LGUsbil7cmV0dXJuIHYodGhpcy5fdG9TY3JlZW4odCxuKSx0aGlzLl90b1NjcmVlbihlLG4pKX1fdG9TY3JlZW4odCxlKXtyZXR1cm4gQyh0LGUuc3BhdGlhbFJlZmVyZW5jZSxoLHRoaXMudmlldyl9X2ZpbmRPbGRDYW5kaWRhdGVJbmRleCh0LGUpe2xldCBuPS0xO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7KytpKWlmKGUuY29uc3RyYWludC5lcXVhbHModFtpXS5jb25zdHJhaW50KSl7bj1pO2JyZWFrfXJldHVybiBufWdldCB0ZXN0KCl7cmV0dXJue3Zpc3VhbGl6YXRpb25zQWN0aXZlOnRoaXMuaGFzSGFuZGxlcyh3KSxlbmdpbmVzOnRoaXMuX2VuZ2luZXN9fX07dmFyIFQ7dChbbyh7Y29uc3RydWN0T25seTohMH0pXSxQLnByb3RvdHlwZSxcInZpZXdcIix2b2lkIDApLHQoW28oKV0sUC5wcm90b3R5cGUsXCJvcHRpb25zXCIsdm9pZCAwKSx0KFtvKHtyZWFkT25seTohMH0pXSxQLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksdChbbygpXSxQLnByb3RvdHlwZSxcInNuYXBwaW5nRW5naW5lc0ZhY3RvcnlcIix2b2lkIDApLHQoW28oKV0sUC5wcm90b3R5cGUsXCJfZW5naW5lc1wiLHZvaWQgMCksdChbbygpXSxQLnByb3RvdHlwZSxcIl9zcXVhcmVkTW91c2VQcm94aW1pdHlUcmVzaG9sZFwiLG51bGwpLHQoW28oKV0sUC5wcm90b3R5cGUsXCJfc3F1YXJlZFRvdWNoUHJveGltaXR5VGhyZXNob2xkXCIsbnVsbCksdChbbygpXSxQLnByb3RvdHlwZSxcIl9zcXVhcmVkU2F0aXNmaWVzQ29uc3RyYWludFRocmVzaG9sZFwiLG51bGwpLFA9dChbcChcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuc25hcHBpbmcuU25hcHBpbmdNYW5hZ2VyXCIpXSxQKSxmdW5jdGlvbih0KXt0W3QuTUFJTj0wXT1cIk1BSU5cIix0W3QuU0NFTkU9MV09XCJTQ0VORVwifShUfHwoVD17fSkpO2NvbnN0IHc9XCJ2aXN1YWxpemF0aW9uLWhhbmRsZVwiO2Z1bmN0aW9uIEUodCl7cmV0dXJuIG51bGwhPXQuc2NlbmVQb2ludH1mdW5jdGlvbiBJKHtjb29yZGluYXRlSGVscGVyOnQsZWxldmF0aW9uSW5mbzplfSl7cmV0dXJuIHQuaGFzWigpP2g6ZX1leHBvcnR7UCBhcyBTbmFwcGluZ01hbmFnZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBzIGZyb21cIi4vRmVhdHVyZVNuYXBwaW5nTGF5ZXJTb3VyY2UuanNcIjtpbXBvcnR7ZGVmYXVsdHMgYXMgYX1mcm9tXCIuL1NldHRpbmdzLmpzXCI7bGV0IHA9Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZW5hYmxlZD0hMSx0aGlzLmVuYWJsZWRUb2dnbGVkPSExLHRoaXMuc2VsZkVuYWJsZWQ9ITAsdGhpcy5mZWF0dXJlRW5hYmxlZD0hMCx0aGlzLmZlYXR1cmVTb3VyY2VzPW5ldyBvLHRoaXMuZGlzdGFuY2U9YS5kaXN0YW5jZSx0aGlzLnRvdWNoU2Vuc2l0aXZpdHlNdWx0aXBsaWVyPWEudG91Y2hTZW5zaXRpdml0eU11bHRpcGxpZXJ9Z2V0IGVmZmVjdGl2ZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5lbmFibGVkVG9nZ2xlZD8hdGhpcy5lbmFibGVkOnRoaXMuZW5hYmxlZH1nZXQgZWZmZWN0aXZlU2VsZkVuYWJsZWQoKXtyZXR1cm4gdGhpcy5lZmZlY3RpdmVFbmFibGVkJiZ0aGlzLnNlbGZFbmFibGVkfWdldCBlZmZlY3RpdmVGZWF0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLmVmZmVjdGl2ZUVuYWJsZWQmJnRoaXMuZmVhdHVyZUVuYWJsZWR9fTtlKFtyKCldLHAucHJvdG90eXBlLFwiZW5hYmxlZFwiLHZvaWQgMCksZShbcigpXSxwLnByb3RvdHlwZSxcImVuYWJsZWRUb2dnbGVkXCIsdm9pZCAwKSxlKFtyKCldLHAucHJvdG90eXBlLFwic2VsZkVuYWJsZWRcIix2b2lkIDApLGUoW3IoKV0scC5wcm90b3R5cGUsXCJmZWF0dXJlRW5hYmxlZFwiLHZvaWQgMCksZShbcih7dHlwZTpvLm9mVHlwZShzKX0pXSxwLnByb3RvdHlwZSxcImZlYXR1cmVTb3VyY2VzXCIsdm9pZCAwKSxlKFtyKCldLHAucHJvdG90eXBlLFwiZGlzdGFuY2VcIix2b2lkIDApLGUoW3IoKV0scC5wcm90b3R5cGUsXCJ0b3VjaFNlbnNpdGl2aXR5TXVsdGlwbGllclwiLHZvaWQgMCksZShbcih7cmVhZE9ubHk6ITB9KV0scC5wcm90b3R5cGUsXCJlZmZlY3RpdmVFbmFibGVkXCIsbnVsbCksZShbcih7cmVhZE9ubHk6ITB9KV0scC5wcm90b3R5cGUsXCJlZmZlY3RpdmVTZWxmRW5hYmxlZFwiLG51bGwpLGUoW3Ioe3JlYWRPbmx5OiEwfSldLHAucHJvdG90eXBlLFwiZWZmZWN0aXZlRmVhdHVyZUVuYWJsZWRcIixudWxsKSxwPWUoW2koXCJlc3JpLnZpZXdzLmludGVyYWN0aXZlLnNuYXBwaW5nLlNuYXBwaW5nT3B0aW9uc1wiKV0scCk7Y29uc3QgbD1wO2V4cG9ydHtsIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtEcmFwZWRMaW5lQ29uc3RyYWludCBhcyB0fWZyb21cIi4uLy4uL3NrZXRjaC9jb25zdHJhaW50cy5qc1wiO2ltcG9ydHtMaW5lU2VnbWVudEhpbnRUeXBlIGFzIG59ZnJvbVwiLi4vc25hcHBpbmdVdGlscy5qc1wiO2ltcG9ydHtGZWF0dXJlU25hcHBpbmdDYW5kaWRhdGUgYXMgc31mcm9tXCIuL0ZlYXR1cmVTbmFwcGluZ0NhbmRpZGF0ZS5qc1wiO2ltcG9ydHtMaW5lU25hcHBpbmdIaW50IGFzIGl9ZnJvbVwiLi4vaGludHMvTGluZVNuYXBwaW5nSGludC5qc1wiO2NsYXNzIHIgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKG4pe3N1cGVyKHsuLi5uLGlzRHJhcGVkOiEwLGNvbnN0cmFpbnQ6bmV3IHQobi5lZGdlU3RhcnQsbi5lZGdlRW5kLG4uZ2V0R3JvdW5kRWxldmF0aW9uKX0pfWdldCBoaW50cygpe3JldHVybltuZXcgaShuLlJFRkVSRU5DRSx0aGlzLmNvbnN0cmFpbnQuc3RhcnQsdGhpcy5jb25zdHJhaW50LmVuZCx0aGlzLmlzRHJhcGVkLHRoaXMuZG9tYWluKV19fWV4cG9ydHtyIGFzIERyYXBlZEVkZ2VTbmFwcGluZ0NhbmRpZGF0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0xpbmVDb25zdHJhaW50IGFzIHR9ZnJvbVwiLi4vLi4vc2tldGNoL2NvbnN0cmFpbnRzLmpzXCI7aW1wb3J0e0xpbmVTZWdtZW50SGludFR5cGUgYXMgbn1mcm9tXCIuLi9zbmFwcGluZ1V0aWxzLmpzXCI7aW1wb3J0e0ZlYXR1cmVTbmFwcGluZ0NhbmRpZGF0ZSBhcyBzfWZyb21cIi4vRmVhdHVyZVNuYXBwaW5nQ2FuZGlkYXRlLmpzXCI7aW1wb3J0e0xpbmVTbmFwcGluZ0hpbnQgYXMgaX1mcm9tXCIuLi9oaW50cy9MaW5lU25hcHBpbmdIaW50LmpzXCI7Y2xhc3MgciBleHRlbmRzIHN7Y29uc3RydWN0b3Iobil7c3VwZXIoey4uLm4sY29uc3RyYWludDpuZXcgdChuLmVkZ2VTdGFydCxuLmVkZ2VFbmQpfSl9Z2V0IGhpbnRzKCl7cmV0dXJuW25ldyBpKG4uUkVGRVJFTkNFLHRoaXMuY29uc3RyYWludC5zdGFydCx0aGlzLmNvbnN0cmFpbnQuZW5kLHRoaXMuaXNEcmFwZWQsdGhpcy5kb21haW4pXX19ZXhwb3J0e3IgYXMgRWRnZVNuYXBwaW5nQ2FuZGlkYXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7U25hcHBpbmdEb21haW4gYXMgdH1mcm9tXCIuLi9TbmFwcGluZ0RvbWFpbi5qc1wiO2ltcG9ydHtTbmFwcGluZ0NhbmRpZGF0ZSBhcyBvfWZyb21cIi4vU25hcHBpbmdDYW5kaWRhdGUuanNcIjtjbGFzcyBuIGV4dGVuZHMgb3tjb25zdHJ1Y3Rvcih7dGFyZ2V0UG9pbnQ6byxvYmplY3RJZDpuLGNvbnN0cmFpbnQ6cixpc0RyYXBlZDppfSl7c3VwZXIobyxyLGksdC5GRUFUVVJFKSx0aGlzLm9iamVjdElkPW59fWV4cG9ydHtuIGFzIEZlYXR1cmVTbmFwcGluZ0NhbmRpZGF0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1BvaW50Q29uc3RyYWludCBhcyB0fWZyb21cIi4uLy4uL3NrZXRjaC9jb25zdHJhaW50cy5qc1wiO2ltcG9ydHtTbmFwcGluZ0RvbWFpbiBhcyBpfWZyb21cIi4uL1NuYXBwaW5nRG9tYWluLmpzXCI7aW1wb3J0e1NuYXBwaW5nQ2FuZGlkYXRlIGFzIHN9ZnJvbVwiLi9TbmFwcGluZ0NhbmRpZGF0ZS5qc1wiO2ltcG9ydHtJbnRlcnNlY3Rpb25TbmFwcGluZ0hpbnQgYXMgbn1mcm9tXCIuLi9oaW50cy9JbnRlcnNlY3Rpb25TbmFwcGluZ0hpbnQuanNcIjtjbGFzcyByIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihzLG4scixvKXtzdXBlcihzLG5ldyB0KHMpLG8saS5BTEwpLHRoaXMuZmlyc3Q9bix0aGlzLnNlY29uZD1yfWdldCBoaW50cygpe3JldHVybiB0aGlzLmZpcnN0LnRhcmdldFBvaW50PXRoaXMudGFyZ2V0UG9pbnQsdGhpcy5zZWNvbmQudGFyZ2V0UG9pbnQ9dGhpcy50YXJnZXRQb2ludCxbLi4udGhpcy5maXJzdC5oaW50cywuLi50aGlzLnNlY29uZC5oaW50cyxuZXcgbih0aGlzLnRhcmdldFBvaW50LHRoaXMuaXNEcmFwZWQsdGhpcy5kb21haW4pXX19ZXhwb3J0e3IgYXMgSW50ZXJzZWN0aW9uU25hcHBpbmdDYW5kaWRhdGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtWZXJ0aWNhbFBsYW5lQ29uc3RyYWludCBhcyB0fWZyb21cIi4uLy4uL3NrZXRjaC9jb25zdHJhaW50cy5qc1wiO2ltcG9ydHtTbmFwcGluZ0RvbWFpbiBhcyBufWZyb21cIi4uL1NuYXBwaW5nRG9tYWluLmpzXCI7aW1wb3J0e0xpbmVTZWdtZW50SGludFR5cGUgYXMgaX1mcm9tXCIuLi9zbmFwcGluZ1V0aWxzLmpzXCI7aW1wb3J0e1NuYXBwaW5nQ2FuZGlkYXRlIGFzIGV9ZnJvbVwiLi9TbmFwcGluZ0NhbmRpZGF0ZS5qc1wiO2ltcG9ydHtMaW5lU25hcHBpbmdIaW50IGFzIHN9ZnJvbVwiLi4vaGludHMvTGluZVNuYXBwaW5nSGludC5qc1wiO2NsYXNzIHIgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKHtsaW5lU3RhcnQ6ZSxsaW5lRW5kOnIsdGFyZ2V0UG9pbnQ6byxpc0RyYXBlZDphfSl7c3VwZXIobyxuZXcgdChlLHIpLGEsbi5TRUxGKSx0aGlzLl9yZWZlcmVuY2VMaW5lSGludD1uZXcgcyhpLlJFRkVSRU5DRV9FWFRFTlNJT04sZSxyLGEsdGhpcy5kb21haW4pfWdldCBoaW50cygpe3JldHVyblt0aGlzLl9yZWZlcmVuY2VMaW5lSGludCxuZXcgcyhpLlRBUkdFVCx0aGlzLl9saW5lRW5kQ2xvc2VzdFRvVGFyZ2V0KCksdGhpcy50YXJnZXRQb2ludCx0aGlzLmlzRHJhcGVkLHRoaXMuZG9tYWluKV19X2xpbmVFbmRDbG9zZXN0VG9UYXJnZXQoKXtyZXR1cm4gdGhpcy5jb25zdHJhaW50LmNsb3Nlc3RFbmRUbyh0aGlzLnRhcmdldFBvaW50KX19ZXhwb3J0e3IgYXMgTGluZVNuYXBwaW5nQ2FuZGlkYXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZiBhcyBlLGcgYXMgdCxoIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7ZyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e1ZlcnRpY2FsUGxhbmVDb25zdHJhaW50IGFzIHJ9ZnJvbVwiLi4vLi4vc2tldGNoL2NvbnN0cmFpbnRzLmpzXCI7aW1wb3J0e2Zyb21WZWMzIGFzIG59ZnJvbVwiLi4vLi4vc2tldGNoL25vcm1hbGl6ZWRQb2ludC5qc1wiO2ltcG9ydHtTbmFwcGluZ0RvbWFpbiBhcyBhfWZyb21cIi4uL1NuYXBwaW5nRG9tYWluLmpzXCI7aW1wb3J0e0xpbmVTZWdtZW50SGludFR5cGUgYXMgZn1mcm9tXCIuLi9zbmFwcGluZ1V0aWxzLmpzXCI7aW1wb3J0e1NuYXBwaW5nQ2FuZGlkYXRlIGFzIGh9ZnJvbVwiLi9TbmFwcGluZ0NhbmRpZGF0ZS5qc1wiO2ltcG9ydHtMaW5lU25hcHBpbmdIaW50IGFzIG99ZnJvbVwiLi4vaGludHMvTGluZVNuYXBwaW5nSGludC5qc1wiO2ltcG9ydHtQYXJhbGxlbFNuYXBwaW5nSGludCBhcyBkfWZyb21cIi4uL2hpbnRzL1BhcmFsbGVsU25hcHBpbmdIaW50LmpzXCI7Y2xhc3MgZyBleHRlbmRzIGh7Y29uc3RydWN0b3Ioe3JlZmVyZW5jZUxpbmU6aSxsaW5lU3RhcnQ6Zix0YXJnZXRQb2ludDpoLGlzRHJhcGVkOm99KXtjb25zdCBkPXMoZikse2xlZnQ6ZyxyaWdodDpwfT1pO2UoZCx0KGQsZCxwKSxnKSxzdXBlcihoLG5ldyByKGYsbihkKSksbyxhLlNFTEYpLHRoaXMuX3JlZmVyZW5jZUxpbmVzPVt7ZWRnZTppLGZhZGVMZWZ0OiEwLGZhZGVSaWdodDohMH1dfWdldCBoaW50cygpe3JldHVybltuZXcgbyhmLlRBUkdFVCx0aGlzLmNvbnN0cmFpbnQuc3RhcnQsdGhpcy50YXJnZXRQb2ludCx0aGlzLmlzRHJhcGVkLHRoaXMuZG9tYWluKSxuZXcgZCh0aGlzLmNvbnN0cmFpbnQuc3RhcnQsdGhpcy50YXJnZXRQb2ludCx0aGlzLmlzRHJhcGVkLHRoaXMuZG9tYWluKSwuLi50aGlzLl9yZWZlcmVuY2VMaW5lcy5tYXAoKGU9Pm5ldyBvKGYuUkVGRVJFTkNFLGUuZWRnZS5sZWZ0LGUuZWRnZS5yaWdodCx0aGlzLmlzRHJhcGVkLHRoaXMuZG9tYWluLGUuZmFkZUxlZnQsZS5mYWRlUmlnaHQpKSldfWFkZFJlZmVyZW5jZUxpbmUoZSl7Y29uc3QgdD17ZWRnZTplLGZhZGVMZWZ0OiEwLGZhZGVSaWdodDohMH07dGhpcy5fcmVmZXJlbmNlTGluZXMuZm9yRWFjaCgocz0+e2koZS5yaWdodCxzLmVkZ2UubGVmdCkmJihzLmZhZGVMZWZ0PSExLHQuZmFkZVJpZ2h0PSExKSxpKGUucmlnaHQscy5lZGdlLnJpZ2h0KSYmKHMuZmFkZVJpZ2h0PSExLHQuZmFkZVJpZ2h0PSExKSxpKGUubGVmdCxzLmVkZ2UucmlnaHQpJiYocy5mYWRlUmlnaHQ9ITEsdC5mYWRlTGVmdD0hMSksaShlLmxlZnQscy5lZGdlLmxlZnQpJiYocy5mYWRlTGVmdD0hMSx0LmZhZGVMZWZ0PSExKX0pKSx0aGlzLl9yZWZlcmVuY2VMaW5lcy5wdXNoKHQpfX1leHBvcnR7ZyBhcyBQYXJhbGxlbExpbmVTbmFwcGluZ0NhbmRpZGF0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1NuYXBwaW5nRG9tYWluIGFzIHR9ZnJvbVwiLi4vU25hcHBpbmdEb21haW4uanNcIjtpbXBvcnR7TGluZVNlZ21lbnRIaW50VHlwZSBhcyBlfWZyb21cIi4uL3NuYXBwaW5nVXRpbHMuanNcIjtpbXBvcnR7U25hcHBpbmdDYW5kaWRhdGUgYXMgaX1mcm9tXCIuL1NuYXBwaW5nQ2FuZGlkYXRlLmpzXCI7aW1wb3J0e0xpbmVTbmFwcGluZ0hpbnQgYXMgcn1mcm9tXCIuLi9oaW50cy9MaW5lU25hcHBpbmdIaW50LmpzXCI7aW1wb3J0e1JpZ2h0QW5nbGVTbmFwcGluZ0hpbnQgYXMgc31mcm9tXCIuLi9oaW50cy9SaWdodEFuZ2xlU25hcHBpbmdIaW50LmpzXCI7Y2xhc3MgbyBleHRlbmRzIGl7Y29uc3RydWN0b3Ioe3RhcmdldFBvaW50OmUsY29uc3RyYWludDppLHByZXZpb3VzVmVydGV4OnIsb3RoZXJWZXJ0ZXg6cyxvdGhlclZlcnRleFR5cGU6byxvYmplY3RJZDpuLGlzRHJhcGVkOmh9KXtzdXBlcihlLGksaCx0LlNFTEYpLHRoaXMucHJldmlvdXNWZXJ0ZXg9cix0aGlzLm90aGVyVmVydGV4PXMsdGhpcy5vdGhlclZlcnRleFR5cGU9byx0aGlzLm9iamVjdElkPW59Z2V0IGhpbnRzKCl7Y29uc3QgdD10aGlzLnByZXZpb3VzVmVydGV4LGk9dGhpcy5vdGhlclZlcnRleFR5cGU9PT1uLkNFTlRFUj90aGlzLm90aGVyVmVydGV4OnRoaXMudGFyZ2V0UG9pbnQsbz10aGlzLm90aGVyVmVydGV4VHlwZT09PW4uQ0VOVEVSP3RoaXMudGFyZ2V0UG9pbnQ6dGhpcy5vdGhlclZlcnRleDtyZXR1cm5bbmV3IHIoZS5UQVJHRVQsaSxvLHRoaXMuaXNEcmFwZWQsdGhpcy5kb21haW4pLG5ldyByKGUuUkVGRVJFTkNFLHQsaSx0aGlzLmlzRHJhcGVkLHRoaXMuZG9tYWluKSxuZXcgcyh0aGlzLnByZXZpb3VzVmVydGV4LGksbyx0aGlzLmlzRHJhcGVkLHRoaXMuZG9tYWluKV19fXZhciBuOyFmdW5jdGlvbih0KXt0W3QuTkVYVD0wXT1cIk5FWFRcIix0W3QuQ0VOVEVSPTFdPVwiQ0VOVEVSXCJ9KG58fChuPXt9KSk7ZXhwb3J0e24gYXMgT3RoZXJWZXJ0ZXhUeXBlLG8gYXMgUmlnaHRBbmdsZVNuYXBwaW5nQ2FuZGlkYXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZCBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMyLmpzXCI7aW1wb3J0e3AgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtjIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7VmVydGljYWxDeWxpbmRlckNvbnN0cmFpbnQgYXMgbn1mcm9tXCIuLi8uLi9za2V0Y2gvY29uc3RyYWludHMuanNcIjtpbXBvcnR7ZnJvbVZlYzMgYXMgb31mcm9tXCIuLi8uLi9za2V0Y2gvbm9ybWFsaXplZFBvaW50LmpzXCI7aW1wb3J0e1NuYXBwaW5nRG9tYWluIGFzIHJ9ZnJvbVwiLi4vU25hcHBpbmdEb21haW4uanNcIjtpbXBvcnR7TGluZVNlZ21lbnRIaW50VHlwZSBhcyBwfWZyb21cIi4uL3NuYXBwaW5nVXRpbHMuanNcIjtpbXBvcnR7U25hcHBpbmdDYW5kaWRhdGUgYXMgZX1mcm9tXCIuL1NuYXBwaW5nQ2FuZGlkYXRlLmpzXCI7aW1wb3J0e0xpbmVTbmFwcGluZ0hpbnQgYXMgYX1mcm9tXCIuLi9oaW50cy9MaW5lU25hcHBpbmdIaW50LmpzXCI7aW1wb3J0e1JpZ2h0QW5nbGVTbmFwcGluZ0hpbnQgYXMgbX1mcm9tXCIuLi9oaW50cy9SaWdodEFuZ2xlU25hcHBpbmdIaW50LmpzXCI7Y2xhc3MgaCBleHRlbmRzIGV7Y29uc3RydWN0b3Ioe3RhcmdldFBvaW50OnAscG9pbnQxOmUscG9pbnQyOmEsaXNEcmFwZWQ6bX0pe3N1cGVyKHAsbmV3IG4obyhpKHMoKSxlLGEsLjUpKSwuNSp0KGUsYSkpLG0sci5TRUxGKSx0aGlzLl9wMT1lLHRoaXMuX3AyPWF9Z2V0IGhpbnRzKCl7cmV0dXJuW25ldyBhKHAuUkVGRVJFTkNFLHRoaXMudGFyZ2V0UG9pbnQsdGhpcy5fcDEsdGhpcy5pc0RyYXBlZCx0aGlzLmRvbWFpbiksbmV3IGEocC5SRUZFUkVOQ0UsdGhpcy50YXJnZXRQb2ludCx0aGlzLl9wMix0aGlzLmlzRHJhcGVkLHRoaXMuZG9tYWluKSxuZXcgbSh0aGlzLl9wMSx0aGlzLnRhcmdldFBvaW50LHRoaXMuX3AyLHRoaXMuaXNEcmFwZWQsdGhpcy5kb21haW4pXX19ZXhwb3J0e2ggYXMgUmlnaHRBbmdsZVRyaWFuZ2xlU25hcHBpbmdDYW5kaWRhdGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7Y29uc3RydWN0b3IodCxzLGksbyl7dGhpcy50YXJnZXRQb2ludD10LHRoaXMuY29uc3RyYWludD1zLHRoaXMuaXNEcmFwZWQ9aSx0aGlzLmRvbWFpbj1vfX1leHBvcnR7dCBhcyBTbmFwcGluZ0NhbmRpZGF0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0ZlYXR1cmVTbmFwcGluZ0VuZ2luZSBhcyBlfWZyb21cIi4vRmVhdHVyZVNuYXBwaW5nRW5naW5lLmpzXCI7aW1wb3J0e1NlbGZTbmFwcGluZ0VuZ2luZSBhcyBufWZyb21cIi4vU2VsZlNuYXBwaW5nRW5naW5lLmpzXCI7ZnVuY3Rpb24gaShpLHApe3JldHVybltuZXcgbih7dmlldzppLG9wdGlvbnM6cH0pLG5ldyBlKHt2aWV3Omksb3B0aW9uczpwLHNwYXRpYWxSZWZlcmVuY2U6aS5zcGF0aWFsUmVmZXJlbmNlfSldfWV4cG9ydHtpIGFzIGRlZmF1bHRTbmFwcGluZ0VuZ2luZXNGYWN0b3J5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7bWFrZURlaHlkcmF0ZWRQb2ludCBhcyBufWZyb21cIi4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkUG9pbnQuanNcIjtpbXBvcnR7Z2V0Q29udmVydGVkRWxldmF0aW9uRnJvbVZlY3RvciBhcyB0LGFic29sdXRlSGVpZ2h0RWxldmF0aW9uSW5mbyBhcyBsfWZyb21cIi4uLy4uLy4uL3N1cHBvcnQvZWxldmF0aW9uSW5mb1V0aWxzLmpzXCI7ZnVuY3Rpb24gZShlLG8se3o6cixtOnMsc3BhdGlhbFJlZmVyZW5jZTppLGVsZXZhdGlvbkluZm86dX0pe2lmKG51bGw9PXImJm51bGw9PXMpe2NvbnN0IHQ9bihlWzBdLGVbMV0sdm9pZCAwLGkpO3JldHVybiBudWxsIT1zJiYodC5tPXMsdC5oYXNNPSEwKSx0fWlmKG51bGw9PW98fFwiMmRcIj09PW8udHlwZSl7Y29uc3QgdD1uKGVbMF0sZVsxXSxyLGkpO3JldHVybiBudWxsIT1zJiYodC5tPXMsdC5oYXNNPSEwKSx0fWNvbnN0IGE9dChvLGUsaSxsLHUpPz8wLGY9bihlWzBdLGVbMV0sYSxpKTtyZXR1cm4gbnVsbCE9cyYmKGYubT1zLGYuaGFzTT0hMCksZn1leHBvcnR7ZSBhcyBzbmFwcGluZ1BvaW50VG9TbmFwcGluZ091dHB1dH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZVNjcmVlblBvaW50IGFzIGUsY3JlYXRlUmVuZGVyU2NyZWVuUG9pbnRBcnJheTMgYXMgcixjcmVhdGVTY3JlZW5Qb2ludEFycmF5IGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9zY3JlZW5VdGlscy5qc1wiO2ltcG9ydHtjIGFzIG4sZSBhcyB0fWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMyLmpzXCI7aW1wb3J0e2MgYXMgc31mcm9tXCIuLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtjfWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e21ha2VEZWh5ZHJhdGVkUG9pbnQgYXMgYX1mcm9tXCIuLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZFBvaW50LmpzXCI7aW1wb3J0e2dldENvbnZlcnRlZEVsZXZhdGlvbkZyb21WZWN0b3IgYXMgaX1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2VsZXZhdGlvbkluZm9VdGlscy5qc1wiO2Z1bmN0aW9uIHAoZSxyLG8scyl7by5wcm9qZWN0VG9SZW5kZXJTY3JlZW4oZSxoKSxvLnByb2plY3RUb1JlbmRlclNjcmVlbihyLEMpLG4ocyxDLGgpLHQocyxzKX1mdW5jdGlvbiBkKGUscixvLG4sdD1jKCkpe2NvbnN0IHM9ci50b1hZWihlKTtyZXR1cm4gc1syXT1pKG4scyxyLnNwYXRpYWxSZWZlcmVuY2Usbyl8fDAsbi5yZW5kZXJDb29yZHNIZWxwZXIudG9SZW5kZXJDb29yZHMocyxyLnNwYXRpYWxSZWZlcmVuY2UsdCksdH1mdW5jdGlvbiBmKGUscixvLG4sdD1jKCkpe2NvbnN0IGE9cyhqLGUpO3JldHVybiBhWzJdPWkobixhLHIsbyl8fDAsbi5yZW5kZXJDb29yZHNIZWxwZXIudG9SZW5kZXJDb29yZHMoYSxyLHQpLHR9ZnVuY3Rpb24gbChlLHIsbyxuKXtyZXR1cm4gdShyLnRvWFlaKGUpLHIuc3BhdGlhbFJlZmVyZW5jZSxvLG4pfWZ1bmN0aW9uIHUocixvLG4sdCl7cmV0dXJuXCIyZFwiPT09dC50eXBlPyhSLng9clswXSxSLnk9clsxXSxSLnNwYXRpYWxSZWZlcmVuY2U9byx0LnRvU2NyZWVuKFIpKTooZihyLG8sbix0LGopLHQuc3RhdGUuY2FtZXJhLnByb2plY3RUb1NjcmVlbihqLHYpLGUodlswXSx2WzFdKSl9ZnVuY3Rpb24gbShlLHIsbyxuLHQscyxjKXtpZihcImFic29sdXRlLWhlaWdodFwiPT09bi5tb2RlKXJldHVybiBkKGUsbyxuLHQscyksdm9pZCBkKHIsbyxuLHQsYyk7Y29uc3QgYT1vLnRvWFlaKGUpLHA9by50b1hZWihyKSxmPWkodCxhLG8uc3BhdGlhbFJlZmVyZW5jZSxuKSxsPWkodCxwLG8uc3BhdGlhbFJlZmVyZW5jZSxuKSx1PShudWxsPT1mP2w6bnVsbD09bD9mOk1hdGgubWluKGYsbCkpfHwwO2FbMl09dSxwWzJdPXUsdC5yZW5kZXJDb29yZHNIZWxwZXIudG9SZW5kZXJDb29yZHMoYSxvLnNwYXRpYWxSZWZlcmVuY2UscyksdC5yZW5kZXJDb29yZHNIZWxwZXIudG9SZW5kZXJDb29yZHMocCxvLnNwYXRpYWxSZWZlcmVuY2UsYyl9Y29uc3QgUj1hKDAsMCwwLG51bGwpLGo9YygpLGg9cigpLEM9cigpLHY9bygpO2V4cG9ydHtkIGFzIGFueU1hcFBvaW50VG9SZW5kZXIsbCBhcyBhbnlNYXBQb2ludFRvU2NyZWVuUG9pbnQsbSBhcyBhbnlNYXBQb2ludHNUb1JlbmRlcldpdGhFcXVhbFJlbGF0aXZlWixwIGFzIHJlbmRlclNjcmVlblNwYWNlVGFuZ2VudCxmIGFzIHZlY3RvclRvUmVuZGVyLHUgYXMgdmVjdG9yVG9TY3JlZW5Qb2ludH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Zsb2F0RXF1YWxBYnNvbHV0ZSBhcyB0fWZyb21cIi4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7aW1wb3J0e2MgYXMgbix2IGFzIHIsZyBhcyBzLHcgYXMgZSxiIGFzIG8saCBhcyBjLGQgYXMgdSxrIGFzIGEsbCBhcyBpLHMgYXMgZn1mcm9tXCIuLi8uLi9jaHVua3MvdmVjMi5qc1wiO2ltcG9ydHthIGFzIHAsZCBhcyBoLFogYXMgTCxmIGFzIGR9ZnJvbVwiLi4vLi4vY2h1bmtzL3ZlYzJmNjQuanNcIjtpbXBvcnR7cyBhcyBtLHUgYXMgQSxqIGFzIEUscSBhcyBOLG8gYXMgeSxiIGFzIGwsayBhcyBQLGMgYXMgaixmIGFzIE0sRiBhcyBJfWZyb21cIi4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2MgYXMgayxnIGFzIFJ9ZnJvbVwiLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIFksZnJvbVBvc2l0aW9uQW5kTm9ybWFsIGFzIGIsZGlzdGFuY2UgYXMgdixpbnRlcnNlY3RMaW5lIGFzIHEsaXNQb2ludEluc2lkZSBhcyBGfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvcGxhbmUuanNcIjtpbXBvcnR7dGFuZ2VudEZyYW1lIGFzIGd9ZnJvbVwiLi4vM2Qvc3VwcG9ydC9tYXRoVXRpbHMuanNcIjtpbXBvcnR7TGluZVR5cGUgYXMgSCxpbnRlcnNlY3RMaW5lTGlrZUFuZENpcmNsZSBhcyBffWZyb21cIi4vZ2VvbWV0cnkyZFV0aWxzLmpzXCI7ZnVuY3Rpb24gVSh7c3RhcnQ6dCxlbmQ6byx0eXBlOmN9LHUsYSl7Y29uc3QgaT1bXSxmPW4odXQsbyx0KSxoPW4oYXQsdCx1KSxMPXIoZiksZD0yKnMoZixoKSxtPWQqZC00KkwqKHIoaCktYSphKTtpZigwPT09bSl7Y29uc3Qgbj0tZC8oMipMKTsoYz09PXJ0LlBMQU5FfHxuPj0wKSYmaS5wdXNoKGUocCgpLHQsZixuKSl9ZWxzZSBpZihtPjApe2NvbnN0IG49TWF0aC5zcXJ0KG0pLHI9KC1kK24pLygyKkwpOyhjPT09cnQuUExBTkV8fHI+PTApJiZpLnB1c2goZShwKCksdCxmLHIpKTtjb25zdCBzPSgtZC1uKS8oMipMKTsoYz09PXJ0LlBMQU5FfHxzPj0wKSYmaS5wdXNoKGUocCgpLHQsZixzKSl9cmV0dXJuIGl9ZnVuY3Rpb24gdyh0LHIpe2NvbnN0IGU9dC5zdGFydCxjPXQuZW5kLHU9bih1dCxjLGUpLGE9bShhdCwtdVsxXSx1WzBdLDApLGk9ci5zdGFydCxmPXIuZW5kLHA9QShpdCxmLGkpLGg9RShwLGEpLEw9bShmdCxlWzBdLGVbMV0sMCksZD1BKHB0LEwsaSkseT1FKGQsYSk7aWYoTWF0aC5hYnMoaCk8ZXQpcmV0dXJuIE1hdGguYWJzKHkpLFtdO2NvbnN0IGw9TihodCxpLHAseS9oKTtpZihyLnR5cGU9PT1ILlJBWSl7Y29uc3QgdD1BKEx0LGwsaSk7aWYoRSh0LHApPC1ldClyZXR1cm5bXX1pZih0LnR5cGU9PT1ydC5IQUxGX1BMQU5FKXtjb25zdCB0PW8oTHQsbCxlKTtpZihzKHQsdSk8LWV0KXJldHVybltdfXJldHVybltSKGwpXX1mdW5jdGlvbiB4KHQsbil7cmV0dXJuIFMoVyhtdCxuWzJdLHQpLG4pfWZ1bmN0aW9uIEModCxuKXtjb25zdCByPTAscz1RKFcobXQscix0KSxXKEF0LHIsbikpLGU9W107Zm9yKGNvbnN0IG8gb2YgcyllLnB1c2goaChvKSk7cmV0dXJuIGV9ZnVuY3Rpb24gWih0LG4pe3JldHVybiBHKHQsVyhtdCx0WzJdLG4pKX1mdW5jdGlvbiB6KHQsbil7cmV0dXJuIEooVyhtdCx0WzJdLG4pLHQpfWZ1bmN0aW9uIEIodCxyLHMpe2NvbnN0IG89bih1dCx0LHIpLHU9cy9jKG8pLGE9ZShrKCkscixvLHUpO3JldHVybiBhWzJdPXRbMl0sYX1mdW5jdGlvbiBEKHQsbixyKXtyZXR1cm4gdSh0LG4pLXJ9ZnVuY3Rpb24gRyh0LHtzdGFydDpuLGVuZDpyLHR5cGU6c30pe2NvbnN0IGU9QSh1dCx0LG4pLG89QShhdCxyLG4pLGM9RShlLG8pL0UobyxvKTtyZXR1cm4gTihrKCksbixvLHM9PT1ILlJBWT9NYXRoLm1heChjLDApOmMpfWZ1bmN0aW9uIEooe3N0YXJ0OnQsZW5kOm4sdHlwZTpyfSxzKXtjb25zdCBlPUEodXQscyx0KSxvPUEoYXQsbix0KTtpZihyPT09SC5SQVkmJkUobyxlKTwtZXQpcmV0dXJuIHkodCxzKTtjb25zdCBjPWwoaXQsbyxlKTtyZXR1cm4gUChjKS9QKG8pfWNvbnN0IEs9KCgpPT57Y29uc3QgdD1rKCksbj1rKCkscj1rKCk7cmV0dXJuKHtzdGFydDpzLGVuZDplfSx7Y2VudGVyOm8scmFkaXVzOmMsbm9ybWFsOnUsc2xpY2VQbGFuZTphfSk9Pntjb25zdCBpPWsoKSxwPWIobyx1LGR0KTtpZigkKHYocCxzKSwwKSYmJCh2KHAsZSksMCkpe2codSx0LG4pO2NvbnN0IGk9KHMsZSk9PihNKHIsZSxvKSxmKHMsRShyLHQpLEUocixuKSkscykscD1fKHtzdGFydDppKG90LHMpLGVuZDppKGN0LGUpLHR5cGU6SC5MSU5FfSxMLGMpLGg9W107Zm9yKGNvbnN0W3Isc11vZiBwKXtjb25zdCBlPWooaygpLG8pO04oZSxlLHQsciksTihlLGUsbixzKSxhJiYhbnQoYSxlKXx8aC5wdXNoKGUpfXJldHVybiBofXJldHVybiBxKHAscyxlLGkpPyEkKHkoaSxvKSxjKXx8YSYmIW50KGEsaSk/W106W2ldOltdfX0pKCk7ZnVuY3Rpb24gTyh7c3RhcnQ6dCxlbmQ6ZSx0eXBlOm99LGMsdSl7Y29uc3QgYT1bXSxpPU0odXQsZSx0KSxmPW4oYXQsdCxjKSxwPXIoaSksaD0yKnMoaSxmKSxMPWgqaC00KnAqKHIoZiktdSp1KTtpZigwPT09TCl7Y29uc3Qgbj0taC8oMipwKTsobz09PUguTElORXx8bj49MCkmJmEucHVzaChOKGsoKSx0LGksbikpfWVsc2UgaWYoTD4wKXtjb25zdCBuPU1hdGguc3FydChMKSxyPSgtaCtuKS8oMipwKTsobz09PUguTElORXx8cj49MCkmJmEucHVzaChOKGsoKSx0LGkscikpO2NvbnN0IHM9KC1oLW4pLygyKnApOyhvPT09SC5MSU5FfHxzPj0wKSYmYS5wdXNoKE4oaygpLHQsaSxzKSl9cmV0dXJuIGF9ZnVuY3Rpb24gUShuLHIpe2NvbnN0IHM9bi5zdGFydCxlPW4uZW5kLG89ci5zdGFydCxjPXIuZW5kLHU9QSh1dCxlLHMpLGE9QShhdCxjLG8pLGk9QShpdCxvLHMpLGY9bChmdCx1LGEpLHA9RShpLGYpO2lmKCF0KHAsMCxldCkpcmV0dXJuW107Y29uc3QgaD1JKGYpO2lmKHQoaCwwLGV0KSlyZXR1cm5bXTtjb25zdCBMPWwocHQsaSxhKSxkPUUoTCxmKS9oLG09TihodCxzLHUsZCk7aWYobi50eXBlPT09SC5SQVkpe2NvbnN0IHQ9QShMdCxtLHMpO2lmKEUodSx0KTwtZXQpcmV0dXJuW119aWYoci50eXBlPT09SC5SQVkpe2NvbnN0IHQ9QShMdCxtLG8pO2lmKEUoYSx0KTwtZXQpcmV0dXJuW119cmV0dXJuW1IobSldfWZ1bmN0aW9uIFMoe3N0YXJ0OnQsZW5kOm4sdHlwZTpyfSxzKXtjb25zdCBlPUEodXQscyx0KSxvPUEoYXQsbix0KSxjPWwoaXQsbyxlKTtpZihJKGMpL0kobyk8ZXQpc3dpdGNoKHIpe2Nhc2UgSC5MSU5FOnJldHVybltSKHMpXTtjYXNlIEguUkFZOnJldHVybiBFKG8sZSk8LWV0P1tdOltSKHMpXX1yZXR1cm5bXX1mdW5jdGlvbiBUKG4scixzKXtyZXR1cm4gdChhKHMsbikscipyLGV0KT9bUihzKV06W119ZnVuY3Rpb24gVih0LG4scixzKXtjb25zdFtlLG9dPXQsW2MsdV09cixhPWMtZSxmPXUtbyxwPWEqYStmKmYsaD1NYXRoLnNxcnQocCk7aWYoaD5uK3MpcmV0dXJuW107aWYoaDxNYXRoLmFicyhuLXMpKXJldHVybltdO2lmKCQoaCwwKSYmJChuLHMpKXJldHVybltdO2NvbnN0IEw9KG4qbi1zKnMrcCkvKDIqaCksbT1NYXRoLnNxcnQobipuLUwqTCksQT1tKmYvaCxFPW0qYS9oLFtOLHldPWkob3QsdCxyLEwvaCk7cmV0dXJuICQoQSxFKT9bZChOLHkpXTpbZChOK0EseS1FKSxkKE4tQSx5K0UpXX1mdW5jdGlvbiBXKHQsbix7c3RhcnQ6cixlbmQ6cyx0eXBlOmV9KXtyZXR1cm4gbSh0LnN0YXJ0LHJbMF0sclsxXSxuKSxtKHQuZW5kLHNbMF0sc1sxXSxuKSx0LnR5cGU9c3RbZV0sdH1mdW5jdGlvbiBYKHQsbil7cmV0dXJuICQodFsyXSxuWzJdKX1mdW5jdGlvbiAkKHQsbil7cmV0dXJuIE1hdGguYWJzKHQtbik8ZXR9ZnVuY3Rpb24gdHQodCxuKXtyZXR1cm4gbi5maWx0ZXIoKG49Pm50KHQsbikpKX1mdW5jdGlvbiBudCh0LG4pe3JldHVybiBGKHQsbil9dmFyIHJ0OyFmdW5jdGlvbih0KXt0W3QuUExBTkU9MF09XCJQTEFORVwiLHRbdC5IQUxGX1BMQU5FPTFdPVwiSEFMRl9QTEFORVwifShydHx8KHJ0PXt9KSk7Y29uc3Qgc3Q9e1tydC5QTEFORV06SC5MSU5FLFtydC5IQUxGX1BMQU5FXTpILlJBWX0sZXQ9MWUtNixvdD1wKCksY3Q9cCgpLHV0PWsoKSxhdD1rKCksaXQ9aygpLGZ0PWsoKSxwdD1rKCksaHQ9aygpLEx0PWsoKSxkdD1ZKCksbXQ9e3N0YXJ0OmsoKSxlbmQ6aygpLHR5cGU6SC5MSU5FfSxBdD17c3RhcnQ6aygpLGVuZDprKCksdHlwZTpILkxJTkV9O2V4cG9ydHtIIGFzIExpbmVUeXBlLHJ0IGFzIFZlcnRpY2FsUGxhbmVUeXBlLGV0IGFzIGVwc2lsb24sUyBhcyBpbnRlcnNlY3RMaW5lQW5kUG9pbnQsSyBhcyBpbnRlcnNlY3RMaW5lTGlrZUFuZENpcmNsZSxPIGFzIGludGVyc2VjdExpbmVMaWtlQW5kVmVydGljYWxDeWxpbmRlcixRIGFzIGludGVyc2VjdExpbmVMaWtlcyxUIGFzIGludGVyc2VjdFZlcnRpY2FsQ3lsaW5kZXJBbmRQb2ludCxWIGFzIGludGVyc2VjdFZlcnRpY2FsQ3lsaW5kZXJzLHcgYXMgaW50ZXJzZWN0VmVydGljYWxQbGFuZUFuZExpbmVMaWtlLHggYXMgaW50ZXJzZWN0VmVydGljYWxQbGFuZUFuZFBvaW50LFUgYXMgaW50ZXJzZWN0VmVydGljYWxQbGFuZUFuZFZlcnRpY2FsQ3lsaW5kZXIsQyBhcyBpbnRlcnNlY3RWZXJ0aWNhbFBsYW5lcywkIGFzIGlzQ2xvc2UsbnQgYXMgaXNQb2ludEluc2lkZVBsYW5lLEogYXMgcG9pbnRUb0xpbmVMaWtlRGlzdGFuY2UsRCBhcyBwb2ludFRvVmVydGljYWxDeWxpbmRlckRpc3RhbmNlLHogYXMgcG9pbnRUb1ZlcnRpY2FsUGxhbmVEaXN0YW5jZSx0dCBhcyBwb2ludHNJbnNpZGVQbGFuZSxHIGFzIHByb2plY3RQb2ludFRvTGluZUxpa2UsQiBhcyBwcm9qZWN0UG9pbnRUb1ZlcnRpY2FsQ3lsaW5kZXIsWiBhcyBwcm9qZWN0UG9pbnRUb1ZlcnRpY2FsUGxhbmUsWCBhcyB2ZWN0b3JzSGF2ZUNsb3NlWn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=