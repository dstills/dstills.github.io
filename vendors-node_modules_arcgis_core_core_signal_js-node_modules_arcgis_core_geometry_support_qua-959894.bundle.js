"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_core_signal_js-node_modules_arcgis_core_geometry_support_qua-959894"],{

/***/ "./node_modules/@arcgis/core/core/AsyncSequence.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/AsyncSequence.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AsyncSequence: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let r=class extends _Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this.updating=!1,this._pending=[]}push(s,t){this._pending.push({promise:s,callback:t}),1===this._pending.length&&this._process()}_process(){if(!this._pending.length)return void(this.updating=!1);this.updating=!0;const s=this._pending[0];s.promise.then((t=>s.callback(t))).catch((()=>{})).then((()=>{this._pending.shift(),this._process()}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],r.prototype,"updating",void 0),r=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__.subclass)("esri.core.AsyncSequence")],r);


/***/ }),

/***/ "./node_modules/@arcgis/core/core/ByteSizeUnit.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/ByteSizeUnit.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ByteSizeUnit: () => (/* binding */ E)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var E;!function(E){E[E.KILOBYTES=1024]="KILOBYTES",E[E.MEGABYTES=1048576]="MEGABYTES",E[E.GIGABYTES=1073741824]="GIGABYTES"}(E||(E={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/core/signal.js":
/*!**************************************************!*\
  !*** ./node_modules/@arcgis/core/core/signal.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   signal: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./accessorSupport/tracking.js */ "./node_modules/@arcgis/core/core/accessorSupport/tracking.js");
/* harmony import */ var _accessorSupport_tracking_SimpleObservable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./accessorSupport/tracking/SimpleObservable.js */ "./node_modules/@arcgis/core/core/accessorSupport/tracking/SimpleObservable.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i{constructor(t,e){this._observable=new _accessorSupport_tracking_SimpleObservable_js__WEBPACK_IMPORTED_MODULE_2__.SimpleObservable,this._value=t,this._equalityFunction=e}get value(){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_1__.trackAccess)(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}}function r(e,s=_lang_js__WEBPACK_IMPORTED_MODULE_0__.equalsShallow){return new i(e,s)}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/support/UpdatingHandles.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UpdatingHandles: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _scheduling_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let h=class extends _Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(s,e,t={}){return this._installWatch(s,e,t,_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)}addWhen(s,e,t={}){return this._installWatch(s,e,t,_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.when)}addOnCollectionChange(s,e,{initial:i=!1,final:n=!1}={}){const r=++this._handleId;return this.addHandles([(0,_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)(s,"after-changes",this._createSyncUpdatingCallback(),_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.sync),(0,_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)(s,"change",e,{onListenerAdd:i?s=>e({added:s.toArray(),removed:[]}):void 0,onListenerRemove:n?s=>e({added:[],removed:s.toArray()}):void 0})],r),(0,_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>this.removeHandles(r)))}addPromise(s){if(null==s)return s;const e=++this._handleId;this.addHandles((0,_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>{this._pendingPromises.delete(s)&&(0!==this._pendingPromises.size||this.hasHandles(c)||this._set("updating",!1))})),e),this._pendingPromises.add(s),this._set("updating",!0);const i=()=>this.removeHandles(e);return s.then(i,i),s}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(s,e,i={},n){const d=++this._handleId;i.sync||this._installSyncUpdatingWatch(s,d);const a=n(s,e,i);return this.addHandles(a,d),(0,_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>this.removeHandles(d)))}_installSyncUpdatingWatch(s,e){const t=this._createSyncUpdatingCallback(),n=(0,_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)(s,t,{sync:!0,equals:()=>!1});return this.addHandles(n,e),n}_createSyncUpdatingCallback(){return()=>{this.removeHandles(c),++this._scheduleHandleId;const s=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles((0,_scheduling_js__WEBPACK_IMPORTED_MODULE_4__.schedule)((()=>{s===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(c))})),c)}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],h.prototype,"updating",void 0),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.core.support.UpdatingHandles")],h);const c=-42;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/quantizationUtils.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   equals: () => (/* binding */ c),
/* harmony export */   getQuantizedBoundsCoordsArray: () => (/* binding */ F),
/* harmony export */   getQuantizedBoundsCoordsArrayArray: () => (/* binding */ V),
/* harmony export */   getQuantizedBoundsPaths: () => (/* binding */ _),
/* harmony export */   getQuantizedBoundsPoints: () => (/* binding */ Y),
/* harmony export */   getQuantizedBoundsRings: () => (/* binding */ A),
/* harmony export */   quantizeBounds: () => (/* binding */ h),
/* harmony export */   quantizeExtent: () => (/* binding */ w),
/* harmony export */   quantizeGeometry: () => (/* binding */ d),
/* harmony export */   quantizeMultipoint: () => (/* binding */ G),
/* harmony export */   quantizePaths: () => (/* binding */ N),
/* harmony export */   quantizePoint: () => (/* binding */ L),
/* harmony export */   quantizePoints: () => (/* binding */ I),
/* harmony export */   quantizePolygon: () => (/* binding */ O),
/* harmony export */   quantizePolyline: () => (/* binding */ S),
/* harmony export */   quantizeRings: () => (/* binding */ g),
/* harmony export */   quantizeX: () => (/* binding */ s),
/* harmony export */   quantizeY: () => (/* binding */ f),
/* harmony export */   toQuantizationTransform: () => (/* binding */ m),
/* harmony export */   unquantizeBounds: () => (/* binding */ M),
/* harmony export */   unquantizeCoordsArray: () => (/* binding */ z),
/* harmony export */   unquantizeCoordsArrayArray: () => (/* binding */ T),
/* harmony export */   unquantizeExtent: () => (/* binding */ j),
/* harmony export */   unquantizeMultipoint: () => (/* binding */ U),
/* harmony export */   unquantizePaths: () => (/* binding */ P),
/* harmony export */   unquantizePoint: () => (/* binding */ k),
/* harmony export */   unquantizePoints: () => (/* binding */ E),
/* harmony export */   unquantizePolygon: () => (/* binding */ q),
/* harmony export */   unquantizePolyline: () => (/* binding */ v),
/* harmony export */   unquantizeRings: () => (/* binding */ b),
/* harmony export */   unquantizeX: () => (/* binding */ p),
/* harmony export */   unquantizeY: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(n){return n&&"upperLeft"===n.originPosition}const i=(n,t,e)=>[t,e],o=(n,t,e)=>[t,e,n[2]],a=(n,t,e)=>[t,e,n[2],n[3]];function m(n){if(!n)return null;return{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:null!=n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}}function c(n,t){if(n===t||null==n&&null==t)return!0;if(null==n||null==t)return!1;let e,r,u,i,o,a;return l(n)?(e=n.translate[0],r=n.translate[1],u=n.scale[0]):(e=null!=n.extent?n.extent.xmin:0,r=null!=n.extent?n.extent.ymax:0,u=n.tolerance),l(t)?(i=t.translate[0],o=t.translate[1],a=t.scale[0]):(i=null!=t.extent?t.extent.xmin:0,o=null!=t.extent?t.extent.ymax:0,a=t.tolerance),e===i&&r===o&&u===a}function s({scale:n,translate:t},e){return Math.round((e-t[0])/n[0])}function f({scale:n,translate:t},e){return Math.round((t[1]-e)/n[1])}function x(n,t,e){const r=[];let u,l,i,o;for(let a=0;a<e.length;a++){const m=e[a];a>0?(i=s(n,m[0]),o=f(n,m[1]),i===u&&o===l||(r.push(t(m,i-u,o-l)),u=i,l=o)):(u=s(n,m[0]),l=f(n,m[1]),r.push(t(m,u,l)))}return r.length>0?r:null}function h(n,t,e){return t[0]=s(n,e[0]),t[3]=f(n,e[1]),t[2]=s(n,e[2]),t[1]=f(n,e[3]),t}function I(n,t,e,r){return x(n,e?r?a:o:r?o:i,t)}function g(n,t,e,r){const u=[],l=e?r?a:o:r?o:i;for(let i=0;i<t.length;i++){const e=x(n,l,t[i]);e&&e.length>=3&&u.push(e)}return u.length?u:null}function N(n,t,e,r){const u=[],l=e?r?a:o:r?o:i;for(let i=0;i<t.length;i++){const e=x(n,l,t[i]);e&&e.length>=2&&u.push(e)}return u.length?u:null}function p({scale:n,translate:t},e){return e*n[0]+t[0]}function y({scale:n,translate:t},e){return t[1]-e*n[1]}function z(n,t,e){const r=new Array(e.length);if(!e.length)return r;const[u,l]=n.scale;let i=p(n,e[0][0]),o=y(n,e[0][1]);r[0]=t(e[0],i,o);for(let a=1;a<e.length;a++){const n=e[a];i+=n[0]*u,o-=n[1]*l,r[a]=t(n,i,o)}return r}function T(n,t,e){const r=new Array(e.length);for(let u=0;u<e.length;u++)r[u]=z(n,t,e[u]);return r}function M(n,t,e){return e?(t[0]=p(n,e[0]),t[1]=y(n,e[3]),t[2]=p(n,e[2]),t[3]=y(n,e[1]),t):[p(n,t[0]),y(n,t[3]),p(n,t[2]),y(n,t[1])]}function E(n,t,e,r){return z(n,e?r?a:o:r?o:i,t)}function P(n,t,e,r){return T(n,e?r?a:o:r?o:i,t)}function b(n,t,e,r){return T(n,e?r?a:o:r?o:i,t)}function F(n,t,e){let[r,u]=e[0],l=Math.min(r,t[0]),i=Math.min(u,t[1]),o=Math.max(r,t[2]),a=Math.max(u,t[3]);for(let m=1;m<e.length;m++){const[n,t]=e[m];r+=n,u+=t,n<0&&(l=Math.min(l,r)),n>0&&(o=Math.max(o,r)),t<0?i=Math.min(i,u):t>0&&(a=Math.max(a,u))}return n[0]=l,n[1]=i,n[2]=o,n[3]=a,n}function V(n,t){if(!t.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY,n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let e=0;e<t.length;e++)F(n,n,t[e]);return n}function Y(n){const t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return F(t,t,n)}function _(n){return V([0,0,0,0],n)}function A(n){return V([0,0,0,0],n)}function w(n,t,e,r,u){return t.xmin=s(n,e.xmin),t.ymin=f(n,e.ymin),t.xmax=s(n,e.xmax),t.ymax=f(n,e.ymax),t!==e&&(r&&(t.zmin=e.zmin,t.zmax=e.zmax),u&&(t.mmin=e.mmin,t.mmax=e.mmax)),t}function G(n,t,e,r,u){return t.points=I(n,e.points,r,u)??[],t}function L(n,t,e,r,u){return t.x=s(n,e.x),t.y=f(n,e.y),t!==e&&(r&&(t.z=e.z),u&&(t.m=e.m)),t}function O(n,t,e,r,u){const l=g(n,e.rings,r,u);return l?(t.rings=l,t):null}function S(n,t,e,r,u){const l=N(n,e.paths,r,u);return l?(t.paths=l,t):null}function d(l,i){return l&&i?(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPoint)(i)?L(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolyline)(i)?S(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isPolygon)(i)?O(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isMultipoint)(i)?G(l,{},i,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.isExtent)(i)?w(l,{},i,!1,!1):null:null}function j(n,t,e,r,u){return t.xmin=p(n,e.xmin),t.ymin=y(n,e.ymin),t.xmax=p(n,e.xmax),t.ymax=y(n,e.ymax),t!==e&&(r&&(t.zmin=e.zmin,t.zmax=e.zmax),u&&(t.mmin=e.mmin,t.mmax=e.mmax)),t}function U(n,t,e,r,u){return null!=e&&(t.points=E(n,e.points,r,u)),t}function k(n,t,e,r,u){return null==e||(t.x=p(n,e.x),t.y=y(n,e.y),t!==e&&(r&&(t.z=e.z),u&&(t.m=e.m))),t}function q(n,t,e,r,u){return null!=e&&(t.rings=b(n,e.rings,r,u)),t}function v(n,t,e,r,u){return null!=e&&(t.paths=P(n,e.paths,r,u)),t}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BoundsStore: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/libs/rbush/PooledRBush.js */ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i){n.minX=i[0],n.minY=i[1],n.maxX=i[2],n.maxY=i[3]}function e(i,s,d){t(s),i.search(n,d)}class o{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__.PooledRBush(9,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-csp-restrictions")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.empty)();for(const s of this._boundsById.values())s&&(i[0]=Math.min(s[0],i[0]),i[1]=Math.min(s[1],i[1]),i[2]=Math.max(s[2],i[2]),i[3]=Math.max(s[3],i[3]));return i}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),e(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BoundsStore.js */ "./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js");
/* harmony import */ var _geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./geometryUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/geometryUtils.js");
/* harmony import */ var _optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./optimizedFeatureQueryEngineAdapter.js */ "./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const f=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.create)();class m{constructor(e){this.geometryInfo=e,this._boundsStore=new _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__.BoundsStore,this._featuresById=new Map,this._markedIds=new Set,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"],this.featureAdapter=_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__.optimizedFeatureQueryEngineAdapter}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{null!=t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}getFullExtent(e){if(null==this.fullBounds)return null;const[t,r,s,o]=this.fullBounds;return{xmin:t,ymin:r,xmax:s,ymax:o,spatialReference:(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__.cleanFromGeometryEngine)(e)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}upsertMany(t){const r=t.map((e=>this._upsert(e)));return this._emitChanged(),r.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome)}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t){for(const r of e){const e=this._boundsStore.get(r.objectId);e&&t((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.fromRect)(f,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit("changed",void 0)}_add(e){if(!e)return;const r=e.objectId;if(null==r)return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurestore:invalid-feature","feature id is missing",{feature:e}));const o=this._featuresById.get(r);let i;if(this._markedIds.add(r),o?(e.displayId=o.displayId,i=this._boundsStore.get(r),this._boundsStore.delete(r)):null!=this.onFeatureAdd&&this.onFeatureAdd(e),!e.geometry?.coords?.length)return this._boundsStore.set(r,null),void this._featuresById.set(r,e);i=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.getBoundsOptimizedGeometry)(null!=i?i:(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.create)(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),null!=i&&this._boundsStore.set(r,i),this._featuresById.set(r,e)}_upsert(e){const r=e?.objectId;if(null==r)return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurestore:invalid-feature","feature id is missing",{feature:e})),null;const o=this._featuresById.get(r);if(!o)return this._add(e),e;this._markedIds.add(r);const{geometry:i,attributes:d}=e;for(const t in d)o.attributes[t]=d[t];return i&&(o.geometry=i,this._boundsStore.set(r,(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.getBoundsOptimizedGeometry)((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.create)(),i,this.geometryInfo.hasZ,this.geometryInfo.hasM)??null)),o}_remove(e){null!=this.onFeatureRemove&&this.onFeatureRemove(e);const t=e.objectId;return this._markedIds.delete(t),this._boundsStore.delete(t),this._featuresById.delete(t),e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/SnappingCandidate.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/SnappingCandidate.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   makeEdgeCandidate: () => (/* binding */ e),
/* harmony export */   makeVertexCandidate: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t,e,r){return{objectId:t,target:e,distance:r,type:"vertex"}}function e(t,e,r,n,d,a=!1){return{objectId:t,target:e,distance:r,type:"edge",start:n,end:d,draped:a}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/LOD.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/LOD.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var i;let l=i=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new i({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"cols",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__.Integer,json:{write:!0}})],l.prototype,"level",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:String,json:{write:!0}})],l.prototype,"levelValue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"origin",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,json:{write:!0}})],l.prototype,"resolution",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"rows",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,json:{write:!0}})],l.prototype,"scale",void 0),l=i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.LOD")],l);const p=l;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/TileInfo.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/TileInfo.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/jsonMap.js */ "./node_modules/@arcgis/core/core/jsonMap.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./LOD.js */ "./node_modules/@arcgis/core/layers/support/LOD.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/layers/support/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var w;const x=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__.JSONMap({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let O=w=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.JSONSupport{static create(e={}){const{resolutionFactor:t=1,scales:o,size:s=256,spatialReference:i=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].WebMercator,numLODs:l=24}=e;if(!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.isValid)(i)){const e=[];if(o)for(let t=0;t<o.length;t++){const r=o[t];e.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:t,scale:r,resolution:r}))}else{let t=5e-4;for(let o=l-1;o>=0;o--)e.unshift(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:o,scale:t,resolution:t})),t*=2}return new w({dpi:96,lods:e,origin:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"](0,0,i),size:[s,s],spatialReference:i})}const n=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.getInfo)(i),a=e.origin?new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"]({x:e.origin.x,y:e.origin.y,spatialReference:i}):new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"](n?{x:n.origin[0],y:n.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),u=96,d=1/((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__.getMetersPerUnitForSR)(i)*39.37*u),g=[];if(o)for(let r=0;r<o.length;r++){const e=o[r],t=e*d;g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:r,scale:e,resolution:t}))}else{let e=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.isGeographic)(i)?512/s*591657527.5917094:256/s*591657527.591555;const o=Math.ceil(l/t);g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:0,scale:e,resolution:e*d}));for(let r=1;r<o;r++){const o=e/2**t,s=o*d;g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:r,scale:o,resolution:s})),e=o}}return new w({dpi:u,lods:g,origin:a,size:[s,s],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const o=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.getInfo)(e);return e.isWrappable&&!!o&&Math.abs(o.origin[0]-t.x)<=o.dx}return!1}readOrigin(e,t){return _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,o=0;const r=[],s=this._levelToLOD={};e&&(t=-1/0,o=1/0,e.forEach((e=>{r.push(e.scale),t=e.scale>t?e.scale:t,o=e.scale<o?e.scale:o,s[e.level]=e}))),this._set("scales",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const o=Math.floor(e),r=o+1;return t[o]/(t[o]/t[r])**(e-o)}scaleToZoom(e){const t=this.scales,o=t.length-1;let r=0;for(;r<o;r++){const o=t[r],s=t[r+1];if(o<=e)return r;if(s===e)return r+1;if(o>e&&s<e)return r+Math.log(o/e)/Math.log(o/s)}return r}snapScale(e,t=.95){const o=this.scaleToZoom(e);return o%Math.floor(o)>=t?this.zoomToScale(Math.ceil(o)):this.zoomToScale(Math.floor(o))}tileAt(e,t,o,r){const s=this.lodAt(e);if(!s)return null;let i,l;if("number"==typeof t)i=t,l=o;else if((0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.equals)(t.spatialReference,this.spatialReference))i=t.x,l=t.y,r=o;else{const e=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__.project)(t,this.spatialReference);if(null==e)return null;i=e.x,l=e.y,r=o}const n=s.resolution*this.size[0],a=s.resolution*this.size[1];return r||(r=new _TileKey_js__WEBPACK_IMPORTED_MODULE_17__.TileKey(null,0,0,0,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)())),r.level=e,r.row=Math.floor((this.origin.y-l)/a+.001),r.col=Math.floor((i-this.origin.x)/n+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=w.ExtrapolateOptions.NONE){let o=this.lodAt(e.level);if(!o&&t===w.ExtrapolateOptions.POWER_OF_TWO){const t=this.lods[this.lods.length-1];t.level<e.level&&(o=t)}if(!o)return;const r=e.level-o.level,s=o.resolution*this.size[0]/2**r,i=o.resolution*this.size[1]/2**r;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)()),e.extent[0]=this.origin.x+e.col*s,e.extent[1]=this.origin.y-(e.row+1)*i,e.extent[2]=e.extent[0]+s,e.extent[3]=e.extent[1]+i}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const o=this.lodAt(t.level);if(null==o)return null;const{resolution:r}=o,s=r*this.size[0],i=r*this.size[1];return e[0]=this.origin.x+t.col*s,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+s,e[3]=e[1]+i,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return w.fromJSON(this.write({}))}getOrCreateCompatible(e,t){if(256===this.size[0]&&256===this.size[1])return 256===e?this:null;const o=[],r=this.lods.length;for(let s=0;s<r;s++){const e=this.lods[s],r=e.resolution*t;o.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:e.level,scale:e.scale,resolution:r}))}return new w({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:o})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let o=0;o<e.length;o++){const r=e[o];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],O.prototype,"compressionQuality",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],O.prototype,"dpi",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{read:x.read,write:x.write,origins:{"web-scene":{read:!1,write:!1}}}})],O.prototype,"format",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],O.prototype,"isWrappable",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"],json:{write:!0}})],O.prototype,"origin",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.reader)("origin")],O.prototype,"readOrigin",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:[_LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]],value:null,json:{write:!0}})],O.prototype,"lods",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],O.prototype,"scales",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],O.prototype,"size",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.reader)("size",["rows","cols"])],O.prototype,"readSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__.writer)("size",{cols:{type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__.Integer},rows:{type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__.Integer}})],O.prototype,"writeSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"],json:{write:!0}})],O.prototype,"spatialReference",void 0),O=w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.layers.support.TileInfo")],O),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(O||(O={}));const j=O;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/TileKey.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/TileKey.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TileKey: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t,s,i,o,e=void 0){this.id=t,this.level=s,this.row=i,this.col=o,this.extent=e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/support/basemapUtils.js":
/*!***********************************************************!*\
  !*** ./node_modules/@arcgis/core/support/basemapUtils.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clonePreservingTiledLayers: () => (/* binding */ v),
/* harmony export */   contentEquals: () => (/* binding */ R),
/* harmony export */   createCache: () => (/* binding */ y),
/* harmony export */   destroyCache: () => (/* binding */ m),
/* harmony export */   ensureType: () => (/* binding */ b),
/* harmony export */   findSpatialReference: () => (/* binding */ U),
/* harmony export */   getBasemapThumbnailUrl: () => (/* binding */ O),
/* harmony export */   getWellKnownBasemapId: () => (/* binding */ h),
/* harmony export */   hasDeveloperBasemapLayer: () => (/* binding */ w),
/* harmony export */   isBasemap3D: () => (/* binding */ d),
/* harmony export */   isBasemapInBeta: () => (/* binding */ L),
/* harmony export */   isBasemapLayer: () => (/* binding */ S),
/* harmony export */   isDeveloperBasemapLayer: () => (/* binding */ j),
/* harmony export */   overrideGetWellKnownBasemapId: () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _Basemap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Basemap.js */ "./node_modules/@arcgis/core/Basemap.js");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config.js */ "./node_modules/@arcgis/core/config.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _layers_effects_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../layers/effects/utils.js */ "./node_modules/@arcgis/core/layers/effects/utils.js");
/* harmony import */ var _basemapDefinitions_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./basemapDefinitions.js */ "./node_modules/@arcgis/core/support/basemapDefinitions.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const p=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.support.basemapUtils");function y(){return{}}function m(e){for(const r in e){const t=e[r];(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(t),delete e[r]}}function b(t,n){let a;if("string"==typeof t){const i=t in _basemapDefinitions_js__WEBPACK_IMPORTED_MODULE_8__.esriBasemapDefinitions,l=!i&&t.includes("/");if(!i&&!l){const e=Object.entries(_basemapDefinitions_js__WEBPACK_IMPORTED_MODULE_8__.esriBasemapDefinitions).filter((([e,t])=>_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].apiKey&&!t.classic||!_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].apiKey&&(t.classic||t.is3d))).map((([e])=>`"${e}"`)).sort().join(", ");return p.warn(`Unable to find basemap definition for: ${t}. Try one of these: ${e}`),null}n&&(a=n[t]),a||(a=i?_Basemap_js__WEBPACK_IMPORTED_MODULE_0__["default"].fromId(t):new _Basemap_js__WEBPACK_IMPORTED_MODULE_0__["default"]({style:{id:t}}),n&&(n[t]=a))}else a=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__.ensureType)(_Basemap_js__WEBPACK_IMPORTED_MODULE_0__["default"],t);return a?.destroyed&&(p.warn("The provided basemap is already destroyed",{basemap:a}),a=null),a}function d(e){return"Web Scene"===e.portalItem?.type}function L(e){return!!e?.portalItem?.tags?.some((e=>"beta"===e.toLowerCase()))}function S(e,r){return e.basemap?.referenceLayers?.some((e=>e.uid===r))||e.basemap?.baseLayers?.some((e=>e.uid===r))}function v(e,r=null){const t=b(e);if(!t)return null;const n=t.clone();return r&&(n.baseLayers=T(n.baseLayers,r.baseLayers),n.referenceLayers=T(n.referenceLayers,r.referenceLayers)),n}let g;function h(e){if(g)return g(e);let r=null;const t=M(e),n=!t?.baseLayers.length;for(const a in _basemapDefinitions_js__WEBPACK_IMPORTED_MODULE_8__.esriBasemapDefinitions){const e=K(t,$(_basemapDefinitions_js__WEBPACK_IMPORTED_MODULE_8__.esriBasemapDefinitions[a]),{mustMatchReferences:n});if("equal"===e){r=a;break}"base-layers-equal"===e&&(r=a)}return r}function I(e){g=e}function R(e,r){if(e===r)return!0;if(null!=e?.portalItem?.id&&e.portalItem.id===r?.portalItem?.id)return!0;return"equal"===K(M(e),M(r),{mustMatchReferences:!0})}function T(e,r){const n=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"];return e.forEach((e=>{const t=r.find((r=>"scene"!==r.type&&D(A(e),A(r))))||e;n.includes(t)?n.push(e):n.push(t)})),n}function w(e){return!!e?.baseLayers.concat(e.referenceLayers).some(j)}function j(e){if(x(e.url))return!0;if("vector-tile"===e.type)for(const r in e.sourceNameToSource){const t=e.sourceNameToSource[r];if(x(t?.sourceUrl))return!0}return!1}function U(e,r){if(null==r||null==e)return{spatialReference:null,updating:!1};if("not-loaded"===r.loadStatus)return r.load(),{spatialReference:null,updating:!0};if(r.spatialReference)return{spatialReference:r.spatialReference,updating:!1};if(0===r.baseLayers.length)return{spatialReference:null,updating:!1};const t=r.baseLayers.at(0);switch(t.loadStatus){case"not-loaded":t.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const n=(("supportedSpatialReferences"in t?t.supportedSpatialReferences:null)||["tileInfo"in t?t.tileInfo?.spatialReference:t.spatialReference]).filter(Boolean),a=e.spatialReference;return a?{spatialReference:n.find((e=>a.equals(e)))??n[0]??null,updating:!1}:{spatialReference:n[0],updating:!1}}const q=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function x(e){if(!e)return!1;const r=new _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.Url((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.makeAbsolute)(e));return!!r.authority&&q.test(r.authority)}function M(e){return e?!e.loaded&&e.resourceInfo?$(e.resourceInfo.data):{baseLayers:k(e.baseLayers),referenceLayers:k(e.referenceLayers)}:null}function k(e){return(_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"].isCollection(e)?e.toArray():e).map(A)}function A(e){return{type:e.type,effect:"effect"in e?e.effect:void 0,url:E("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible,sublayers:"map-image"!==e.type&&"wms"!==e.type||null==e.sublayers?void 0:e.sublayers?.map((e=>({id:e.id,visible:e.visible}))),activeLayerId:"wmts"===e.type?e.activeLayer?.id:void 0}}function C(e){return e.isReference||"ArcGISSceneServiceLayer"===e.layerType}function $(e){return e?{baseLayers:G((e.baseMapLayers??[]).filter((e=>!C(e)))),referenceLayers:G((e.baseMapLayers??[]).filter((e=>C(e))))}:null}function G(e){return e.map((e=>B(e)))}function B(e){let r;switch(e.layerType){case"VectorTileLayer":r="vector-tile";break;case"ArcGISTiledMapServiceLayer":r="tile";break;case"ArcGISSceneServiceLayer":r="scene";break;default:r="unknown"}return{type:r,effect:e.effect,url:E(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:e.minScale??0,maxScale:e.maxScale??0,opacity:e.opacity??1,visible:null==e.visibility||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}function K(e,r,t){if(null!=e!=(null!=r))return"not-equal";if(!e||!r)return"equal";if(!N(e.baseLayers,r.baseLayers))return"not-equal";return N(e.referenceLayers,r.referenceLayers)?"equal":t.mustMatchReferences?"not-equal":"base-layers-equal"}function N(e,r){if(e.length!==r.length)return!1;for(let t=0;t<e.length;t++)if(!D(e[t],r[t]))return!1;return!0}function D(e,r){if(e.type!==r.type||e.url!==r.url||e.minScale!==r.minScale||e.maxScale!==r.maxScale||e.visible!==r.visible||e.opacity!==r.opacity)return!1;if(!(0,_layers_effects_utils_js__WEBPACK_IMPORTED_MODULE_7__.effectEquals)(e.effect,r.effect))return!1;if(null!=e.activeLayerId||null!=r.activeLayerId)return e.activeLayerId===r.activeLayerId;if(null!=e.sublayers||null!=r.sublayers){if(null==e.sublayers||null==r.sublayers||e.sublayers.length!==r.sublayers.length)return!1;for(let t=0;t<e.sublayers.length;t++){const n=e.sublayers.at(t),a=r.sublayers.at(t);if(n?.id!==a?.id||n?.visible!==a?.visible)return!1}}return!0}function E(e){return e?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_5__.normalize)(e).replace(/^\s*https?:/i,"").toLowerCase():""}function O(e){if(!e)return null;const{thumbnailUrl:r}=e;if(r)return r;const t=h(e);return t?_basemapDefinitions_js__WEBPACK_IMPORTED_MODULE_8__.esriBasemapDefinitions[t].thumbnailUrl:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.mappedFind)(e.baseLayers,V)}function V(e){return"portalItem"in e?e.portalItem?.thumbnailUrl:void 0}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _layers_graphics_data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/data/FeatureStore.js */ "./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../symbols/support/ElevationInfo.js */ "./node_modules/@arcgis/core/symbols/support/ElevationInfo.js");
/* harmony import */ var _snappingCandidateElevationAlignment_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../snappingCandidateElevationAlignment.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationAlignment.js");
/* harmony import */ var _snappingCandidateElevationFilter_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../snappingCandidateElevationFilter.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationFilter.js");
/* harmony import */ var _symbologySnappingCandidates_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../symbologySnappingCandidates.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/symbologySnappingCandidates.js");
/* harmony import */ var _FeatureServiceTiledFetcher_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./FeatureServiceTiledFetcher.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiledFetcher.js");
/* harmony import */ var _FeatureServiceTileStore_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./FeatureServiceTileStore.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileStore.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let w=class extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedAccessor{constructor(){super(...arguments),this._isInitializing=!0,this.remoteClient=null,this._whenSetup=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createResolver)(),this._elevationAligner=(0,_snappingCandidateElevationAlignment_js__WEBPACK_IMPORTED_MODULE_17__.getSnappingCandidateElevationAligner)(),this._elevationFilter=(0,_snappingCandidateElevationFilter_js__WEBPACK_IMPORTED_MODULE_18__.getSnappingCandidateElevationFilter)(),this._symbologyCandidatesFetcher=(0,_symbologySnappingCandidates_js__WEBPACK_IMPORTED_MODULE_19__.getSymbologySnappingCandidatesFetcher)(),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_10__.UpdatingHandles,this._editsUpdatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_10__.UpdatingHandles,this._pendingApplyEdits=new Map,this._alignPointsInFeatures=async(e,t)=>{const i={query:e},r=await this.remoteClient.invoke("alignElevation",i,{signal:t});return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t),r},this._getSymbologyCandidates=async(e,t)=>{const i={candidates:e,spatialReference:this._spatialReference.toJSON()},r=await this.remoteClient.invoke("getSymbologyCandidates",i,{signal:t});return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t),r}}get updating(){return this.updatingExcludingEdits||this._editsUpdatingHandles.updating||this._featureFetcher.updating}get updatingExcludingEdits(){return this._featureFetcher.updatingExcludingEdits||this._isInitializing||this._updatingHandles.updating}destroy(){this._featureFetcher?.destroy(),this._queryEngine?.destroy(),this._featureStore?.clear()}async setup(e){if(this.destroyed)return{result:{}};const{geometryType:t,objectIdField:i,timeInfo:s,fieldsIndex:n}=e.serviceInfo,{hasZ:o}=e,l=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(e.spatialReference);this._spatialReference=l,this._featureStore=new _layers_graphics_data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_12__["default"]({...e.serviceInfo,hasZ:o,hasM:!1}),this._queryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_13__.QueryEngine({spatialReference:e.spatialReference,featureStore:this._featureStore,geometryType:t,fieldsIndex:n,hasZ:o,hasM:!1,objectIdField:i,timeInfo:s}),this._featureFetcher=new _FeatureServiceTiledFetcher_js__WEBPACK_IMPORTED_MODULE_20__.FeatureServiceTiledFetcher({store:new _FeatureServiceTileStore_js__WEBPACK_IMPORTED_MODULE_21__.FeatureServiceTileStore({featureStore:this._featureStore}),url:e.serviceInfo.url,objectIdField:e.serviceInfo.objectIdField,globalIdField:e.serviceInfo.globalIdField,capabilities:e.serviceInfo.capabilities,spatialReference:l,sourceSpatialReference:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(e.serviceInfo.spatialReference)});const d="3d"===e.configuration.viewType;return this._elevationAligner=(0,_snappingCandidateElevationAlignment_js__WEBPACK_IMPORTED_MODULE_17__.getSnappingCandidateElevationAligner)(d,{elevationInfo:null!=e.elevationInfo?_symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_16__["default"].fromJSON(e.elevationInfo):null,alignPointsInFeatures:this._alignPointsInFeatures}),this._elevationFilter=(0,_snappingCandidateElevationFilter_js__WEBPACK_IMPORTED_MODULE_18__.getSnappingCandidateElevationFilter)(d),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this._featureFetcher.availability),(e=>this.emit("notify-availability",{availability:e})),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.updating),(()=>this._notifyUpdating()))]),this._whenSetup.resolve(),this._isInitializing=!1,this.configure(e.configuration)}async configure(e){return await this._updatingHandles.addPromise(this._whenSetup.promise),this._updateFeatureFetcherConfiguration(e),j}async setSuspended(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t),this._featureFetcher.suspended=e,j}async updateOutFields(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t),this._featureFetcher.outFields=new Set(e??[]),j}async fetchCandidates(e,t){await this._whenSetup.promise,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t);const i=b(e),r=t?.signal,n=await this._queryEngine.executeQueryForSnapping(i,r);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(r);const a=await this._elevationAligner.alignCandidates(n.candidates,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(e.point.spatialReference)??_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__["default"].WGS84,r);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(r);const o=await this._symbologyCandidatesFetcher.fetch(a,r);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(r);const l=0===o.length?a:a.concat(o);return{result:{candidates:this._elevationFilter.filter(i,l)}}}async updateTiles(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t),this._featureFetcher.tileSize=e.tileSize,this._featureFetcher.tilesOfInterest=e.tiles,this._featureFetcher.tileInfo=null!=e.tileInfo?_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_14__["default"].fromJSON(e.tileInfo):null,j}async refresh(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t),this._featureFetcher.refresh(),j}async whenNotUpdating(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.whenOnce)((()=>!this.updatingExcludingEdits),t),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t),j}async getDebugInfo(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t),{result:this._featureFetcher.debugInfo}}async beginApplyEdits(e,t){this._updatingHandles.addPromise(this._whenSetup.promise),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t);const r=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createResolver)();return this._pendingApplyEdits.set(e.id,r),this._featureFetcher.applyEdits(r.promise),this._editsUpdatingHandles.addPromise(r.promise),j}async endApplyEdits(e,t){const i=this._pendingApplyEdits.get(e.id);return i&&i.resolve(e.edits),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(t),j}async notifyElevationSourceChange(e,t){return this._elevationAligner.notifyElevationSourceChange(),j}async notifySymbologyChange(e,t){return this._symbologyCandidatesFetcher.notifySymbologyChange(),j}async setSymbologySnappingSupported(e){return this._symbologyCandidatesFetcher=(0,_symbologySnappingCandidates_js__WEBPACK_IMPORTED_MODULE_19__.getSymbologySnappingCandidatesFetcher)(e,this._getSymbologyCandidates),j}_updateFeatureFetcherConfiguration(e){this._featureFetcher.filter=null!=e.filter?_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_15__["default"].fromJSON(e.filter):null,this._featureFetcher.customParameters=e.customParameters}_notifyUpdating(){this.emit("notify-updating",{updating:this.updating})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],w.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],w.prototype,"updatingExcludingEdits",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],w.prototype,"_isInitializing",void 0),w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorker")],w);const I=w;function b(e){if(!e.filter)return{...e,query:{where:"1=1"}};const{distance:t,units:i,spatialRel:s,where:r,timeExtent:n,objectIds:a}=e.filter,o={geometry:e.filter.geometry?(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_22__.fromJSON)(e.filter.geometry):void 0,distance:t,units:i,spatialRel:s,timeExtent:n,objectIds:a,where:r??"1=1"};return{...e,query:o}}const j={result:{}};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileCache.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileCache.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureServiceTileCache: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(){this._store=new Map,this._byteSize=0}set(t,e){this.delete(t),this._store.set(t,e),this._byteSize+=e.byteSize}delete(t){const e=this._store.get(t);return!!this._store.delete(t)&&(null!=e&&(this._byteSize-=e.byteSize),!0)}get(t){return this._used(t),this._store.get(t)}has(t){return this._used(t),this._store.has(t)}clear(){this._store.clear()}applyByteSizeLimit(t,e){for(const[s,r]of this._store){if(this._byteSize<=t)break;this.delete(s),e(r)}}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}_used(t){const e=this._store.get(t);e&&(this._store.delete(t),this._store.set(t,e))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileStore.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileStore.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureServiceTileStore: () => (/* binding */ v),
/* harmony export */   ProcessResult: () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/byteSizeEstimations.js */ "./node_modules/@arcgis/core/core/byteSizeEstimations.js");
/* harmony import */ var _core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/ByteSizeUnit.js */ "./node_modules/@arcgis/core/core/ByteSizeUnit.js");
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/SetUtils.js */ "./node_modules/@arcgis/core/core/SetUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_data_BoundsStore_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/data/BoundsStore.js */ "./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js");
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _layers_support_TileKey_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../layers/support/TileKey.js */ "./node_modules/@arcgis/core/layers/support/TileKey.js");
/* harmony import */ var _rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../rest/query/operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _FeatureServiceTileCache_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./FeatureServiceTileCache.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileCache.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let v=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.tileInfo=null,this.extent=null,this.maximumByteSize=10*_core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_3__.ByteSizeUnit.MEGABYTES,this._tileBounds=new _layers_graphics_data_BoundsStore_js__WEBPACK_IMPORTED_MODULE_12__.BoundsStore,this._tiles=new _FeatureServiceTileCache_js__WEBPACK_IMPORTED_MODULE_16__.FeatureServiceTileCache,this._refCounts=new Map,this._tileFeatureCounts=new Map,this._tmpBoundingRect=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__.create)()}add(e,t){for(const r of t)this._referenceFeature(r.objectId);const s=this.featureStore.upsertMany(t),i=s.map((e=>new Set(Object.keys(e.attributes)))).reduce(((e,t)=>(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_4__.intersection)(e,t)),new Set(Object.keys(s[0]?.attributes??[])));this._addTileStorage(e,new Set(s.map((e=>e.objectId))),C(s),i),this._tiles.applyByteSizeLimit(this.maximumByteSize,(e=>this._removeTileStorage(e)))}getAttributesForTile(e){return e?this._tiles.get(e)?.attributeKeys:null}destroy(){this.clear(),this._tileFeatureCounts.clear()}clear(){this.featureStore.clear(),this._tileBounds.clear(),this._tiles.clear(),this._refCounts.clear()}refresh(){this.clear(),this._tileFeatureCounts.clear()}processEdits(e,t,s){return this._processEditsDelete(e.deletedFeatures.concat(e.updatedFeatures)),this._processEditsRefetch(e.addedFeatures.concat(e.updatedFeatures),t,s)}_addTileStorage(e,t,s,i){const r=e.id;this._tiles.set(r,new E(e,t,s,i)),this._tileBounds.set(r,e.extent),this._tileFeatureCounts.set(r,t.size)}_remove({id:e}){const t=this._tiles.get(e);t&&this._removeTileStorage(t)}_removeTileStorage(e){const t=[];for(const i of e.objectIds)this._unreferenceFeature(i)===A.REMOVED&&t.push(i);this.featureStore.removeManyById(t);const s=e.data.id;this._tiles.delete(s),this._tileBounds.delete(s)}_processEditsDelete(e){this.featureStore.removeManyById(e);for(const[,t]of this._tiles){for(const s of e)t.objectIds.delete(s);this._tileFeatureCounts.set(t.data.id,t.objectIds.size)}for(const t of e)this._refCounts.delete(t)}async _processEditsRefetch(e,t,s){const i=(await t(e,s)).features,{hasZ:r,hasM:o}=this.featureStore;for(const n of i){const e=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_11__.getBoundsOptimizedGeometry)(this._tmpBoundingRect,n.geometry,r,o);null!=e&&this._tileBounds.forEachInBounds(e,(e=>{const t=this._tiles.get(e);this.featureStore.add(n);const s=n.objectId;t.objectIds.has(s)||(t.objectIds.add(s),this._referenceFeature(s),this._tileFeatureCounts.set(t.data.id,t.objectIds.size))}))}}process(e,t=(()=>!0),s){if(null==this.tileInfo||!e.extent||null!=this.extent&&!(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__.intersects)((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__.fromExtent)(this.extent,this._tmpBoundingRect),e.extent))return new F(e);const i=this.getAttributesForTile(e.id);if((0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_4__.isSubsetOf)(s,i))return new F(e);const r=this._createTileTree(e,this.tileInfo);return this._simplify(r,t,null,0,1),this._collectMissingTiles(e,r,this.tileInfo,s)}get debugInfo(){return Array.from(this._tiles.values()).map((({data:e})=>({data:e,featureCount:this._tileFeatureCounts.get(e.id)||0})))}getFeatureCount(e){return this._tileFeatureCounts.get(e.id)??0}async fetchCount(e,t,s,i){const r=this._tileFeatureCounts.get(e.id);if(null!=r)return r;const o=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_15__.executeQueryForCount)(t,s,i);return this._tileFeatureCounts.set(e.id,o.data.count),o.data.count}_createTileTree(e,t){const s=new w(e.level,e.row,e.col);return t.updateTileInfo(s,_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_13__["default"].ExtrapolateOptions.POWER_OF_TWO),this._tileBounds.forEachInBounds(e.extent,(i=>{const r=this._tiles.get(i)?.data;r&&this._tilesAreRelated(e,r)&&this._populateChildren(s,r,t,this._tileFeatureCounts.get(r.id)||0)})),s}_tilesAreRelated(e,t){if(!e||!t)return!1;if(e.level===t.level)return e.row===t.row&&e.col===t.col;const s=e.level<t.level,i=s?e:t,r=s?t:e,o=1<<r.level-i.level;return Math.floor(r.row/o)===i.row&&Math.floor(r.col/o)===i.col}_populateChildren(e,t,s,i){const r=t.level-e.level-1;if(r<0)return void(e.isLeaf=!0);const o=t.row>>r,n=t.col>>r,l=e.row<<1,u=n-(e.col<<1)+(o-l<<1),a=e.children[u];if(null!=a)this._populateChildren(a,t,s,i);else{const r=new w(e.level+1,o,n);s.updateTileInfo(r,_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_13__["default"].ExtrapolateOptions.POWER_OF_TWO),e.children[u]=r,this._populateChildren(r,t,s,i)}}_simplify(e,t,s,i,r){const o=r*r;if(e.isLeaf)return t(this.getFeatureCount(e),r)?0:(this._remove(e),null!=s&&(s.children[i]=null),o);const n=r/2,l=n*n;let u=0;for(let a=0;a<e.children.length;a++){const s=e.children[a];u+=null!=s?this._simplify(s,t,e,a,n):l}return 0===u?this._mergeChildren(e):1-u/o<b&&(this._purge(e),null!=s&&(s.children[i]=null),u=o),u}_mergeChildren(e){const t=new Set;let s,i=0;this._forEachLeaf(e,(e=>{const r=this._tiles.get(e.id);if(r){s=s?(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_4__.intersection)(s,r.attributeKeys):new Set(r.attributeKeys),i+=r.byteSize;for(const e of r.objectIds)t.has(e)||(t.add(e),this._referenceFeature(e));this._remove(e)}})),this._addTileStorage(e,t,i,s??new Set),e.isLeaf=!0,e.children[0]=e.children[1]=e.children[2]=e.children[3]=null,this._tileFeatureCounts.set(e.id,t.size)}_forEachLeaf(e,t){for(const s of e.children)null!=s&&(s.isLeaf?t(s):this._forEachLeaf(s,t))}_purge(e){if(null!=e)if(e.isLeaf)this._remove(e);else for(let t=0;t<e.children.length;t++){const s=e.children[t];this._purge(s),e.children[t]=null}}_collectMissingTiles(e,t,s,i){const r=new j(s,e,this.extent);return this._collectMissingTilesRecurse(t,r,1,i),r.info}_collectMissingTilesRecurse(e,t,s,i){const r=this.getAttributesForTile(e.id),o=r&&!(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_4__.isSubsetOf)(i,r);if(o&&t.addMissing(e.level,e.row,e.col,s),e.isLeaf)return;if(!e.hasChildren)return void(o||t.addMissing(e.level,e.row,e.col,s));const l=s/2;for(let n=0;n<e.children.length;n++){const s=e.children[n];null==s?t.addMissing(e.level+1,(e.row<<1)+((2&n)>>1),(e.col<<1)+(1&n),l):this._collectMissingTilesRecurse(s,t,l,i)}}_referenceFeature(e){const t=(this._refCounts.get(e)||0)+1;return this._refCounts.set(e,t),1===t?A.ADDED:A.UNCHANGED}_unreferenceFeature(e){const t=(this._refCounts.get(e)||0)-1;return 0===t?(this._refCounts.delete(e),A.REMOVED):(t>0&&this._refCounts.set(e,t),A.UNCHANGED)}get test(){return{tiles:Array.from(this._tiles.values()).map((e=>`${e.data.id}:[${Array.from(e.objectIds)}]`)),featureReferences:Array.from(this._refCounts.keys()).map((e=>`${e}:${this._refCounts.get(e)}`))}}};function C(e){return e.reduce(((e,t)=>e+S(t)),0)}function S(e){return 32+T(e.geometry)+(0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_2__.estimateAttributesObjectSize)(e.attributes)}function T(e){if(null==e)return 0;const t=(0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_2__.estimateFixedArraySize)(e.lengths,4);return 32+(0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_2__.estimateFixedArraySize)(e.coords,8)+t}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],v.prototype,"featureStore",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"tileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"extent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"maximumByteSize",void 0),v=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTileStore")],v);class E{constructor(e,t,s,i){this.data=e,this.objectIds=t,this.byteSize=s,this.attributeKeys=i}}class w{constructor(e,t,s){this.level=e,this.row=t,this.col=s,this.isLeaf=!1,this.extent=null,this.children=[null,null,null,null]}get hasChildren(){return!this.isLeaf&&(null!=this.children[0]||null!=this.children[1]||null!=this.children[2]||null!=this.children[3])}}class F{constructor(e,t=[]){this.missingTiles=t,this.fullArea=0,this.coveredArea=0,this.fullArea=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__.area)(e.extent),this.coveredArea=this.fullArea}prepend(e){this.missingTiles=e.missingTiles.concat(this.missingTiles),this.coveredArea+=e.coveredArea,this.fullArea+=e.fullArea}}class j{constructor(e,t,s){this._tileInfo=e,this._extent=null,this.info=new F(t),null!=s&&(this._extent=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__.fromExtent)(s))}addMissing(e,t,s,i){const r=new _layers_support_TileKey_js__WEBPACK_IMPORTED_MODULE_14__.TileKey(null,e,t,s);this._tileInfo.updateTileInfo(r,_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_13__["default"].ExtrapolateOptions.POWER_OF_TWO),null==r.extent||null!=this._extent&&!(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__.intersects)(this._extent,r.extent)||(this.info.missingTiles.push({data:r,resolution:i}),this.info.coveredArea-=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_10__.area)(r.extent))}}const b=.18751;var A;!function(e){e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.UNCHANGED=2]="UNCHANGED"}(A||(A={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiledFetcher.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiledFetcher.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureServiceTiledFetcher: () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_AsyncSequence_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/AsyncSequence.js */ "./node_modules/@arcgis/core/core/AsyncSequence.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/SetUtils.js */ "./node_modules/@arcgis/core/core/SetUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../layers/support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _rest_query_operations_pbfOptimizedFeatureSet_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../rest/query/operations/pbfOptimizedFeatureSet.js */ "./node_modules/@arcgis/core/rest/query/operations/pbfOptimizedFeatureSet.js");
/* harmony import */ var _rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../rest/query/operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _PendingFeatureTile_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./PendingFeatureTile.js */ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let j=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{get _minimumVerticesPerFeature(){switch(this.store?.featureStore.geometryType){case"esriGeometryPoint":case"esriGeometryMultipoint":return 1;case"esriGeometryPolygon":return 4;case"esriGeometryPolyline":return 2}}get _mandatoryOutFields(){const e=new Set;return this.objectIdField&&e.add(this.objectIdField),this.globalIdField&&e.add(this.globalIdField),e}set outFields(e){const t=this._get("outFields"),i=(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_9__.union)(e,this._mandatoryOutFields);(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_9__.equals)(i,t)||(this._set("outFields",i),(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_9__.isSubsetOf)(i,t)||this.refresh())}get outFields(){return this._get("outFields")??this._mandatoryOutFields}set filter(e){const t=this._get("filter"),i=this._filterProperties(e);JSON.stringify(t)!==JSON.stringify(i)&&this._set("filter",i)}set customParameters(e){const t=this._get("customParameters");JSON.stringify(t)!==JSON.stringify(e)&&this._set("customParameters",e)}get _configuration(){return{filter:this.filter,customParameters:this.customParameters,tileInfo:this.tileInfo,tileSize:this.tileSize}}set tileInfo(e){const t=this._get("tileInfo");t!==e&&(null!=e&&null!=t&&JSON.stringify(e)===JSON.stringify(t)||(this._set("tileInfo",e),this.store.tileInfo=e))}set tileSize(e){this._get("tileSize")!==e&&this._set("tileSize",e)}get updating(){return this.updatingExcludingEdits||this._pendingEdits.updating}get updatingExcludingEdits(){return this._updatingHandles.updating}get hasZ(){return this.store.featureStore.hasZ}constructor(e){super(e),this.suspended=!0,this.tilesOfInterest=[],this.availability=0,this._pendingTiles=new Map,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_14__.UpdatingHandles,this._pendingEdits=new _core_AsyncSequence_js__WEBPACK_IMPORTED_MODULE_3__.AsyncSequence,this._pendingEditsAbortController=new AbortController}initialize(){this._initializeFetchExtent(),this._updatingHandles.add((()=>this._configuration),(()=>this.refresh())),this._updatingHandles.add((()=>this.tilesOfInterest),((e,t)=>{(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.equals)(e,t,(({id:e},{id:t})=>e===t))||this._process()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.sync),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.when)((()=>!this.suspended),(()=>this._process())))}destroy(){this._pendingTiles.forEach((e=>this._deletePendingTile(e))),this._pendingTiles.clear(),this.store.destroy(),this.tilesOfInterest.length=0,this._pendingEditsAbortController.abort(),this._pendingEditsAbortController=null,this._updatingHandles.destroy()}refresh(){this.store.refresh(),this._pendingTiles.forEach((e=>this._deletePendingTile(e))),this._process()}applyEdits(e){this._pendingEdits.push(e,(async e=>{if(0===e.addedFeatures.length&&0===e.updatedFeatures.length&&0===e.deletedFeatures.length)return;for(const[,i]of this._pendingTiles)i.reset();const t={...e,deletedFeatures:e.deletedFeatures.map((({objectId:e,globalId:t})=>e&&-1!==e?e:this._lookupObjectIdByGlobalId(t)))};await this._updatingHandles.addPromise(this.store.processEdits(t,((e,t)=>this._queryFeaturesById(e,t)),this._pendingEditsAbortController.signal)),this._processPendingTiles()}))}_initializeFetchExtent(){if(!this.capabilities.query.supportsExtent||!(0,_layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_18__.isHostedAgolService)(this.url))return;const e=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_4__.createTask)((async e=>{try{const t=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_20__.executeQueryForExtent)(this.url,new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_21__["default"]({where:"1=1",outSpatialReference:this.spatialReference,cacheHint:this.capabilities.query.supportsCacheHint??void 0}),{query:this._configuration.customParameters,signal:e});this.store.extent=_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_15__["default"].fromJSON(t.data?.extent)}catch(t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.throwIfAbortError)(t),_core_Logger_js__WEBPACK_IMPORTED_MODULE_6__["default"].getLogger(this).warn("Failed to fetch data extent",t)}}));this._updatingHandles.addPromise(e.promise.then((()=>this._process()))),this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__.makeHandle)((()=>e.abort())))}get debugInfo(){return{numberOfFeatures:this.store.featureStore.numFeatures,tilesOfInterest:this.tilesOfInterest,pendingTiles:Array.from(this._pendingTiles.values()).map((e=>e.debugInfo)),storedTiles:this.store.debugInfo}}_process(){this._markTilesNotAlive(),this._createPendingTiles(),this._deletePendingTiles(),this._processPendingTiles()}_markTilesNotAlive(){for(const[,e]of this._pendingTiles)e.alive=!1}_createPendingTiles(){if(this.suspended)return;const e=this._collectMissingTilesInfo();if(this._setAvailability(null==e?1:e.coveredArea/e.fullArea),null!=e)for(const{data:t,resolution:i}of e.missingTiles){const e=this._pendingTiles.get(t.id);e?(e.resolution=i,e.alive=!0):this._createPendingTile(t,i)}}_collectMissingTilesInfo(){let e=null;for(let t=this.tilesOfInterest.length-1;t>=0;t--){const i=this.tilesOfInterest[t],s=this.store.process(i,((e,t)=>this._verifyTileComplexity(e,t)),this.outFields);null==e?e=s:e.prepend(s)}return e}_deletePendingTiles(){for(const[,e]of this._pendingTiles)e.alive||this._deletePendingTile(e)}_processPendingTiles(){const e={fetchCount:(e,t)=>this._fetchCount(e,t),fetchFeatures:(e,t,i)=>this._fetchFeatures(e,t,i),finish:(e,t)=>this._finishPendingTile(e,t),resume:()=>this._processPendingTiles()};if(this._ensureFetchAllCounts(e))for(const[,t]of this._pendingTiles)this._verifyTileComplexity(this.store.getFeatureCount(t.data),t.resolution)&&this._updatingHandles.addPromise(t.process(e))}_verifyTileComplexity(e,t){return this._verifyVertexComplexity(e)&&this._verifyFeatureDensity(e,t)}_verifyVertexComplexity(e){return e*this._minimumVerticesPerFeature<q}_verifyFeatureDensity(e,t){if(null==this.tileInfo)return!1;const i=this.tileSize*t;return e*(A/(i*i))<H}_ensureFetchAllCounts(e){let t=!0;for(const[,i]of this._pendingTiles)i.state.type<_PendingFeatureTile_js__WEBPACK_IMPORTED_MODULE_22__.StateType.FETCHED_COUNT&&this._updatingHandles.addPromise(i.process(e)),i.state.type<=_PendingFeatureTile_js__WEBPACK_IMPORTED_MODULE_22__.StateType.FETCH_COUNT&&(t=!1);return t}_finishPendingTile(e,t){this.store.add(e.data,t),this._deletePendingTile(e),this._updateAvailability()}_updateAvailability(){const e=this._collectMissingTilesInfo();this._setAvailability(null==e?1:e.coveredArea/e.fullArea)}_setAvailability(e){this._set("availability",e)}_createPendingTile(e,t){const i=new _PendingFeatureTile_js__WEBPACK_IMPORTED_MODULE_22__.PendingFeatureTile(e,t);return this._pendingTiles.set(e.id,i),i}_deletePendingTile(e){e.reset(),this._pendingTiles.delete(e.data.id)}async _fetchCount(e,t){return this.store.fetchCount(e.data,this.url,this._createCountQuery(e),{query:this.customParameters,timeout:w,signal:t})}async _fetchFeatures(e,t,i){let s=0;const r=[];let o=0,n=t;for(;;){const a=this._createFeaturesQuery(e),l=this._setPagingParameters(a,s,n),{features:u,exceededTransferLimit:d}=await this._queryFeatures(a,i);l&&(s+=a.num),o+=u.length;for(const e of u)r.push(e);if(n=t-o,!l||!d||n<=0)return r}}_filterProperties(e){return null==e?{where:"1=1",gdbVersion:void 0,timeExtent:void 0}:{where:e.where||"1=1",timeExtent:e.timeExtent,gdbVersion:e.gdbVersion}}_lookupObjectIdByGlobalId(e){const t=this.globalIdField,i=this.objectIdField;if(null==t)throw new Error("Expected globalIdField to be defined");let s=null;if(this.store.featureStore.forEach((r=>{e===r.attributes[t]&&(s=r.objectId??r.attributes[i])})),null==s)throw new Error(`Expected to find a feature with globalId ${e}`);return s}_queryFeaturesById(e,t){const i=this._createFeaturesQuery();return i.objectIds=e,this._queryFeatures(i,t)}_queryFeatures(e,t){return this.capabilities.query.supportsFormatPBF?this._queryFeaturesPBF(e,t):this._queryFeaturesJSON(e,t)}async _queryFeaturesPBF(e,t){const{sourceSpatialReference:i}=this,{data:s}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_20__.executeQueryPBF)(this.url,e,new _rest_query_operations_pbfOptimizedFeatureSet_js__WEBPACK_IMPORTED_MODULE_19__.OptimizedFeatureSetParserContext({sourceSpatialReference:i}),{query:this._configuration.customParameters,timeout:w,signal:t});return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_17__.unquantizeOptimizedFeatureSet)(s)}async _queryFeaturesJSON(e,t){const{sourceSpatialReference:i}=this,{data:s}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_20__.executeQuery)(this.url,e,i,{query:this._configuration.customParameters,timeout:w,signal:t});return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_17__.convertFromFeatureSet)(s,this.objectIdField)}_createCountQuery(e){const t=this._createBaseQuery(e);return this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}_createFeaturesQuery(e=null){const t=this._createBaseQuery(e),i=null!=e?.data?this.store.getAttributesForTile(e?.data?.id):null,s=(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_9__.union)((0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_9__.difference)(this.outFields,i??new Set),this._mandatoryOutFields);return t.outFields=Array.from(s),t.returnGeometry=!0,null!=e&&(this.capabilities.query.supportsResultType?t.resultType="tile":this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0)),t}_createBaseQuery(e){const t=new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_21__["default"]({returnZ:this.hasZ,returnM:!1,geometry:null!=this.tileInfo&&null!=e?(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_16__.toExtent)(e.data.extent,this.tileInfo.spatialReference):void 0}),i=this._configuration.filter;return null!=i&&(t.where=i.where,t.gdbVersion=i.gdbVersion,t.timeExtent=i.timeExtent),t.outSpatialReference=this.spatialReference,t}_setPagingParameters(e,t,i){if(!this.capabilities.query.supportsPagination)return!1;const{supportsMaxRecordCountFactor:s,supportsCacheHint:r,tileMaxRecordCount:o,maxRecordCount:n,supportsResultType:a}=this.capabilities.query,l=s?_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_21__["default"].MAX_MAX_RECORD_COUNT_FACTOR:1,u=l*((a||r)&&o?o:n||x);return e.start=t,s?(e.maxRecordCountFactor=Math.min(l,Math.ceil(i/u)),e.num=Math.min(i,e.maxRecordCountFactor*u)):e.num=Math.min(i,u),!0}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],j.prototype,"url",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],j.prototype,"objectIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],j.prototype,"globalIdField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],j.prototype,"capabilities",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],j.prototype,"sourceSpatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],j.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],j.prototype,"store",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],j.prototype,"_minimumVerticesPerFeature",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],j.prototype,"_mandatoryOutFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],j.prototype,"outFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],j.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],j.prototype,"filter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],j.prototype,"customParameters",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],j.prototype,"_configuration",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],j.prototype,"tileInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],j.prototype,"tileSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],j.prototype,"tilesOfInterest",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],j.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],j.prototype,"updatingExcludingEdits",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],j.prototype,"availability",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],j.prototype,"hasZ",null),j=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher")],j);const x=2e3,w=6e5,q=1e6,A=25,H=1;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PendingFeatureTile: () => (/* binding */ r),
/* harmony export */   StateType: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r{constructor(t,e){this.data=t,this.resolution=e,this.state={type:u.CREATED},this.alive=!0}process(t){switch(this.state.type){case u.CREATED:return this.state=this._gotoFetchCount(this.state,t),this.state.task.promise.then(t.resume,t.resume);case u.FETCH_COUNT:break;case u.FETCHED_COUNT:return this.state=this._gotoFetchFeatures(this.state,t),this.state.task.promise.then(t.resume,t.resume);case u.FETCH_FEATURES:break;case u.FETCHED_FEATURES:this.state=this._goToDone(this.state,t);case u.DONE:}return null}get debugInfo(){return{data:this.data,featureCount:this._featureCount,state:this._stateToString}}get _featureCount(){switch(this.state.type){case u.CREATED:case u.FETCH_COUNT:return 0;case u.FETCHED_COUNT:return this.state.featureCount;case u.FETCH_FEATURES:return this.state.previous.featureCount;case u.FETCHED_FEATURES:return this.state.features.length;case u.DONE:return this.state.previous.features.length}}get _stateToString(){switch(this.state.type){case u.CREATED:return"created";case u.FETCH_COUNT:return"fetch-count";case u.FETCHED_COUNT:return"fetched-count";case u.FETCH_FEATURES:return"fetch-features";case u.FETCHED_FEATURES:return"fetched-features";case u.DONE:return"done"}}_gotoFetchCount(s,a){return{type:u.FETCH_COUNT,previous:s,task:(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.createTask)((async t=>{const s=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.resultOrAbort)(a.fetchCount(this,t));this.state.type===u.FETCH_COUNT&&(this.state=this._gotoFetchedCount(this.state,s.ok?s.value:1/0))}))}}_gotoFetchedCount(t,e){return{type:u.FETCHED_COUNT,featureCount:e,previous:t}}_gotoFetchFeatures(s,a){return{type:u.FETCH_FEATURES,previous:s,task:(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.createTask)((async t=>{const E=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.resultOrAbort)(a.fetchFeatures(this,s.featureCount,t));this.state.type===u.FETCH_FEATURES&&(this.state=this._gotoFetchedFeatures(this.state,E.ok?E.value:[]))}))}}_gotoFetchedFeatures(t,e){return{type:u.FETCHED_FEATURES,previous:t,features:e}}_goToDone(t,e){return e.finish(this,t.features),{type:u.DONE,previous:t}}reset(){const t=this.state;switch(this.state={type:u.CREATED},t.type){case u.CREATED:case u.FETCHED_COUNT:case u.FETCHED_FEATURES:case u.DONE:break;case u.FETCH_COUNT:case u.FETCH_FEATURES:t.task.abort()}}intersects(t){return null==t||!this.data.extent||((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.fromExtent)(t,T),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.intersects)(this.data.extent,T))}}var u;!function(t){t[t.CREATED=0]="CREATED",t[t.FETCH_COUNT=1]="FETCH_COUNT",t[t.FETCHED_COUNT=2]="FETCHED_COUNT",t[t.FETCH_FEATURES=3]="FETCH_FEATURES",t[t.FETCHED_FEATURES=4]="FETCHED_FEATURES",t[t.DONE=5]="DONE"}(u||(u={}));const T=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationAlignment.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationAlignment.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getSnappingCandidateElevationAligner: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/LRUCache.js */ "./node_modules/@arcgis/core/core/LRUCache.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../symbols/support/unitConversionUtils.js */ "./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(e=!1,t){if(e){const{elevationInfo:e,alignPointsInFeatures:s}=t;return new c(e,s)}return new a}class a{async alignCandidates(e,t,s){return e}notifyElevationSourceChange(){}}const r=1024;class c{constructor(t,s){this._elevationInfo=t,this._alignPointsInFeatures=s,this._alignmentsCache=new _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_1__.LRUCache(r),this._cacheVersion=0}async alignCandidates(e,t,s){const n=this._elevationInfo;return null==n||"absolute-height"!==n.mode||n.featureExpressionInfo?this._alignComputedElevationCandidates(e,t,s):(this._alignAbsoluteElevationCandidates(e,t,n),e)}notifyElevationSourceChange(){this._alignmentsCache.clear(),this._cacheVersion++}_alignAbsoluteElevationCandidates(e,t,s){const{offset:i,unit:a}=s;if(null==i)return;const r=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_4__.getMetersPerVerticalUnitForSR)(t),c=i*((0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__.getMetersPerUnit)(a??"meters")/r);for(const n of e)switch(n.type){case"edge":n.start.z+=c,n.end.z+=c;continue;case"vertex":n.target.z+=c;continue}}async _alignComputedElevationCandidates(e,n,o){const i=new Map;for(const s of e)(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(i,s.objectId,d).push(s);const[a,r,c]=this._prepareQuery(i,n),l=await this._alignPointsInFeatures(a,o);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(o);if(c!==this._cacheVersion)return this._alignComputedElevationCandidates(e,n,o);this._applyCacheAndResponse(a,l,r);const{drapedObjectIds:h,failedObjectIds:u}=l,p=[];for(const t of e){const{objectId:e}=t;h.has(e)&&"edge"===t.type&&(t.draped=!0),u.has(e)||p.push(t)}return p}_prepareQuery(e,t){const s=[],n=[];for(const[o,i]of e){const e=[];for(const t of i)this._addToQueriesOrCachedResult(o,t.target,e,n),"edge"===t.type&&(this._addToQueriesOrCachedResult(o,t.start,e,n),this._addToQueriesOrCachedResult(o,t.end,e,n));0!==e.length&&s.push({objectId:o,points:e})}return[{spatialReference:t.toJSON(),pointsInFeatures:s},n,this._cacheVersion]}_addToQueriesOrCachedResult(e,t,s,n){const o=h(e,t),i=this._alignmentsCache.get(o);null==i?s.push(t):n.push(new l(t,i))}_applyCacheAndResponse(e,{elevations:t,drapedObjectIds:s,failedObjectIds:n},o){for(const r of o)r.apply();let i=0;const a=this._alignmentsCache;for(const{objectId:r,points:c}of e.pointsInFeatures){if(n.has(r)){i+=c.length;continue}const e=!s.has(r);for(const s of c){const n=h(r,s),o=t[i++];s.z=o,e&&a.put(n,o,1)}}}}class l{constructor(e,t){this.point=e,this.z=t}apply(){this.point.z=this.z}}function h(e,{x:t,y:s,z:n,spatialReference:o}){return`${e}-${t}-${s}-${n??0}}-wkid:${o?.wkid}`}function d(){return[]}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationFilter.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationFilter.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getSnappingCandidateElevationFilter: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{filter(t,n){return n}notifyElevationSourceChange(){}}class n{filter(t,n){const{point:r,distance:c}=t,{z:i}=r;if(!(null!=i))return n;if(0===n.length)return n;const o=s(c),u=this._updateCandidatesTo3D(n,r,o).filter(e);return u.sort(a),u}_updateCandidatesTo3D(t,n,e){for(const r of t)switch(r.type){case"edge":c(r,n,e);continue;case"vertex":o(r,n,e);continue}return t}}function e(t){return t.distance<=1}function r(e=!1){return e?new n:new t}function c(t,n,{x:e,y:r,z:c}){const{start:o,end:s,target:a}=t;t.draped||i(a,n,o,s);const u=(n.x-a.x)/e,d=(n.y-a.y)/r,f=(n.z-a.z)/c;t.distance=Math.sqrt(u*u+d*d+f*f)}function i(t,n,e,r){const c=r.x-e.x,i=r.y-e.y,o=r.z-e.z,s=c*c+i*i+o*o,a=(n.x-e.x)*c+(n.y-e.y)*i+o*(n.z-e.z),u=Math.min(1,Math.max(0,a/s)),d=e.x+c*u,f=e.y+i*u,x=e.z+o*u;t.x=d,t.y=f,t.z=x}function o(t,n,{x:e,y:r,z:c}){const{target:i}=t,o=(n.x-i.x)/e,s=(n.y-i.y)/r,a=(n.z-i.z)/c,u=Math.sqrt(o*o+s*s+a*a);t.distance=u}function s(t){return"number"==typeof t?{x:t,y:t,z:t}:t}function a(t,n){return t.distance-n.distance}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/symbologySnappingCandidates.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/symbologySnappingCandidates.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getSymbologySnappingCandidatesFetcher: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/LRUCache.js */ "./node_modules/@arcgis/core/core/LRUCache.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/string.js */ "./node_modules/@arcgis/core/core/string.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(t=!1,e){return t?new i(e):new c}class c{async fetch(){return[]}notifySymbologyChange(){}}const r=1024;class i{constructor(t){this._getSymbologyCandidates=t,this._candidatesCache=new _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_2__.LRUCache(r),this._cacheVersion=0}async fetch(e,o){if(0===e.length)return[];const n=[],c=[],r=this._candidatesCache;for(const s of e){const e=a(s),o=r.get(e);if(o)for(const s of o)c.push((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(s));else n.push(s),r.put(e,[],1)}if(0===n.length)return c;const i=this._cacheVersion,{candidates:h,sourceCandidateIndices:d}=await this._getSymbologyCandidates(n,o);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(o);if(i!==this._cacheVersion)return this.fetch(e,o);const f=[],{length:g}=h;for(let s=0;s<g;++s){const e=h[s],o=a(n[d[s]]),c=r.get(o);c.push(e),r.put(o,c,c.length),f.push((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(e))}return c.concat(f)}notifySymbologyChange(){this._candidatesCache.clear(),this._cacheVersion++}}function a(t){switch(t.type){case"vertex":{const{objectId:e,target:s}=t,n=`${e}-vertex-${s.x}-${s.y}-${s.z??0}`;return (0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(n).toString()}case"edge":{const{objectId:e,start:s,end:n}=t,c=`${e}-edge-${s.x}-${s.y}-${s.z??0}-to-${n.x}-${n.y}-${n.z??0}`;return (0,_core_string_js__WEBPACK_IMPORTED_MODULE_4__.numericHash)(c).toString()}default:return""}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfY29yZV9zaWduYWxfanMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX2dlb21ldHJ5X3N1cHBvcnRfcXVhLTk1OTg5NC5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNnTixvQkFBb0Isb0RBQUMsQ0FBQyxjQUFjLHNEQUFzRCxVQUFVLG9CQUFvQixxQkFBcUIsNENBQTRDLFdBQVcsdURBQXVELGlCQUFpQix5QkFBeUIsZ0RBQWdELGNBQWMsc0NBQXNDLEtBQUssdURBQUMsRUFBRSxpRkFBQyxxQ0FBcUMsdURBQUMsRUFBRSxpRkFBQyxnQ0FBMkQ7Ozs7Ozs7Ozs7Ozs7OztBQ0p0c0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGFBQWEseUdBQXlHLFNBQVMsR0FBNkI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0psSztBQUNBO0FBQ0E7QUFDQTtBQUN3TCxRQUFRLGlCQUFpQixxQkFBcUIsMkZBQUMsd0NBQXdDLFlBQVksT0FBTyx5RUFBQywrQkFBK0IsYUFBYSxpRkFBaUYsVUFBVSwwQ0FBMEMsZUFBZSxtREFBQyxFQUFFLGtCQUFzQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0o1Z0I7QUFDQTtBQUNBO0FBQ0E7QUFDeVgsb0JBQW9CLG9EQUFDLENBQUMsY0FBYyw2R0FBNkcsVUFBVSxpQkFBaUIsWUFBWSxFQUFFLGdDQUFnQyxvREFBQyxFQUFFLGdCQUFnQixFQUFFLGdDQUFnQyxtREFBQyxFQUFFLDJCQUEyQix3QkFBd0IsR0FBRyxFQUFFLHlCQUF5Qix3QkFBd0IscURBQUMsc0RBQXNELG1EQUFDLEVBQUUscURBQUMsZUFBZSxzQkFBc0IsNkJBQTZCLGtDQUFrQyw2QkFBNkIsU0FBUyxNQUFNLDJEQUFDLDhCQUE4QixjQUFjLG9CQUFvQix5QkFBeUIsZ0JBQWdCLDJEQUFDLE9BQU8sZ0hBQWdILDREQUE0RCxrQ0FBa0MscUJBQXFCLFlBQVks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QUFpQix5QkFBeUIsd0NBQXdDLGtCQUFrQix3QkFBd0IsNkJBQTZCLG9EQUFDLEtBQUssNkJBQTZCLHlCQUF5Qiw0QkFBNEIsc0NBQXNDLHlDQUF5QyxxRUFBQyxJQUFJLGlEQUFpRCxZQUFZLFNBQVMsR0FBRyxZQUFZLElBQUksS0FBSyxxQ0FBcUMscUNBQXFDLG9EQUFDLEtBQUssbUJBQW1CLHdCQUF3QixvREFBb0QsY0FBYyxlQUFlLGNBQWMsTUFBTSxvQkFBb0IsUUFBUSxFQUFFLFVBQVUsSUFBSSxHQUFHLElBQUksR0FBRyxPQUFPLEVBQUUsT0FBTyw0REFBQyxlQUFlLFlBQVksTUFBTSx5QkFBeUIsUUFBUSxFQUFFLFFBQVEsSUFBSSxHQUFHLElBQUksR0FBRyxPQUFPLE1BQU0sSUFBSSxHQUFHLElBQUksR0FBRyxPQUFPLEVBQUUsT0FBTyw0REFBQyxlQUFlLGtCQUFxRSIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvQXN5bmNTZXF1ZW5jZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL0J5dGVTaXplVW5pdC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL3NpZ25hbC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvcXVhbnRpemF0aW9uVXRpbHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL2RhdGEvQm91bmRzU3RvcmUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL2RhdGEvRmVhdHVyZVN0b3JlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9kYXRhL1NuYXBwaW5nQ2FuZGlkYXRlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L0xPRC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9UaWxlSW5mby5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9UaWxlS2V5LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3N1cHBvcnQvYmFzZW1hcFV0aWxzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL2ZlYXR1cmVTb3VyY2VzL2ZlYXR1cmVTZXJ2aWNlU291cmNlL0ZlYXR1cmVTZXJ2aWNlU25hcHBpbmdTb3VyY2VXb3JrZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvZmVhdHVyZVNlcnZpY2VTb3VyY2UvRmVhdHVyZVNlcnZpY2VUaWxlQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvZmVhdHVyZVNlcnZpY2VTb3VyY2UvRmVhdHVyZVNlcnZpY2VUaWxlU3RvcmUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvZmVhdHVyZVNlcnZpY2VTb3VyY2UvRmVhdHVyZVNlcnZpY2VUaWxlZEZldGNoZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvZmVhdHVyZVNvdXJjZXMvZmVhdHVyZVNlcnZpY2VTb3VyY2UvUGVuZGluZ0ZlYXR1cmVUaWxlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL2ZlYXR1cmVTb3VyY2VzL3NuYXBwaW5nQ2FuZGlkYXRlRWxldmF0aW9uQWxpZ25tZW50LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL2ZlYXR1cmVTb3VyY2VzL3NuYXBwaW5nQ2FuZGlkYXRlRWxldmF0aW9uRmlsdGVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL2ZlYXR1cmVTb3VyY2VzL3N5bWJvbG9neVNuYXBwaW5nQ2FuZGlkYXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgc31mcm9tXCIuLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBlfWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7bGV0IHI9Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnVwZGF0aW5nPSExLHRoaXMuX3BlbmRpbmc9W119cHVzaChzLHQpe3RoaXMuX3BlbmRpbmcucHVzaCh7cHJvbWlzZTpzLGNhbGxiYWNrOnR9KSwxPT09dGhpcy5fcGVuZGluZy5sZW5ndGgmJnRoaXMuX3Byb2Nlc3MoKX1fcHJvY2Vzcygpe2lmKCF0aGlzLl9wZW5kaW5nLmxlbmd0aClyZXR1cm4gdm9pZCh0aGlzLnVwZGF0aW5nPSExKTt0aGlzLnVwZGF0aW5nPSEwO2NvbnN0IHM9dGhpcy5fcGVuZGluZ1swXTtzLnByb21pc2UudGhlbigodD0+cy5jYWxsYmFjayh0KSkpLmNhdGNoKCgoKT0+e30pKS50aGVuKCgoKT0+e3RoaXMuX3BlbmRpbmcuc2hpZnQoKSx0aGlzLl9wcm9jZXNzKCl9KSl9fTtzKFtlKCldLHIucHJvdG90eXBlLFwidXBkYXRpbmdcIix2b2lkIDApLHI9cyhbaShcImVzcmkuY29yZS5Bc3luY1NlcXVlbmNlXCIpXSxyKTtleHBvcnR7ciBhcyBBc3luY1NlcXVlbmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgRTshZnVuY3Rpb24oRSl7RVtFLktJTE9CWVRFUz0xMDI0XT1cIktJTE9CWVRFU1wiLEVbRS5NRUdBQllURVM9MTA0ODU3Nl09XCJNRUdBQllURVNcIixFW0UuR0lHQUJZVEVTPTEwNzM3NDE4MjRdPVwiR0lHQUJZVEVTXCJ9KEV8fChFPXt9KSk7ZXhwb3J0e0UgYXMgQnl0ZVNpemVVbml0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZXF1YWxzU2hhbGxvdyBhcyB0fWZyb21cIi4vbGFuZy5qc1wiO2ltcG9ydHt0cmFja0FjY2VzcyBhcyBlfWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L3RyYWNraW5nLmpzXCI7aW1wb3J0e1NpbXBsZU9ic2VydmFibGUgYXMgc31mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC90cmFja2luZy9TaW1wbGVPYnNlcnZhYmxlLmpzXCI7Y2xhc3MgaXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX29ic2VydmFibGU9bmV3IHMsdGhpcy5fdmFsdWU9dCx0aGlzLl9lcXVhbGl0eUZ1bmN0aW9uPWV9Z2V0IHZhbHVlKCl7cmV0dXJuIGUodGhpcy5fb2JzZXJ2YWJsZSksdGhpcy5fdmFsdWV9c2V0IHZhbHVlKHQpe3RoaXMuX2VxdWFsaXR5RnVuY3Rpb24odCx0aGlzLl92YWx1ZSl8fCh0aGlzLl92YWx1ZT10LHRoaXMuX29ic2VydmFibGUubm90aWZ5KCkpfW11dGF0ZSh0KXt0KHRoaXMuX3ZhbHVlKSx0aGlzLl9vYnNlcnZhYmxlLm5vdGlmeSgpfX1mdW5jdGlvbiByKGUscz10KXtyZXR1cm4gbmV3IGkoZSxzKX1leHBvcnR7ciBhcyBzaWduYWx9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHN9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uL0FjY2Vzc29yLmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgdH1mcm9tXCIuLi9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBpLHdoZW4gYXMgbixvbiBhcyBkLHN5bmMgYXMgYX1mcm9tXCIuLi9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3NjaGVkdWxlIGFzIHJ9ZnJvbVwiLi4vc2NoZWR1bGluZy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBvfWZyb21cIi4uL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGx9ZnJvbVwiLi4vYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtsZXQgaD1jbGFzcyBleHRlbmRzIGV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudXBkYXRpbmc9ITEsdGhpcy5faGFuZGxlSWQ9MCx0aGlzLl9zY2hlZHVsZUhhbmRsZUlkPTAsdGhpcy5fcGVuZGluZ1Byb21pc2VzPW5ldyBTZXR9ZGVzdHJveSgpe3RoaXMucmVtb3ZlQWxsKCl9YWRkKHMsZSx0PXt9KXtyZXR1cm4gdGhpcy5faW5zdGFsbFdhdGNoKHMsZSx0LGkpfWFkZFdoZW4ocyxlLHQ9e30pe3JldHVybiB0aGlzLl9pbnN0YWxsV2F0Y2gocyxlLHQsbil9YWRkT25Db2xsZWN0aW9uQ2hhbmdlKHMsZSx7aW5pdGlhbDppPSExLGZpbmFsOm49ITF9PXt9KXtjb25zdCByPSsrdGhpcy5faGFuZGxlSWQ7cmV0dXJuIHRoaXMuYWRkSGFuZGxlcyhbZChzLFwiYWZ0ZXItY2hhbmdlc1wiLHRoaXMuX2NyZWF0ZVN5bmNVcGRhdGluZ0NhbGxiYWNrKCksYSksZChzLFwiY2hhbmdlXCIsZSx7b25MaXN0ZW5lckFkZDppP3M9PmUoe2FkZGVkOnMudG9BcnJheSgpLHJlbW92ZWQ6W119KTp2b2lkIDAsb25MaXN0ZW5lclJlbW92ZTpuP3M9PmUoe2FkZGVkOltdLHJlbW92ZWQ6cy50b0FycmF5KCl9KTp2b2lkIDB9KV0sciksdCgoKCk9PnRoaXMucmVtb3ZlSGFuZGxlcyhyKSkpfWFkZFByb21pc2Uocyl7aWYobnVsbD09cylyZXR1cm4gcztjb25zdCBlPSsrdGhpcy5faGFuZGxlSWQ7dGhpcy5hZGRIYW5kbGVzKHQoKCgpPT57dGhpcy5fcGVuZGluZ1Byb21pc2VzLmRlbGV0ZShzKSYmKDAhPT10aGlzLl9wZW5kaW5nUHJvbWlzZXMuc2l6ZXx8dGhpcy5oYXNIYW5kbGVzKGMpfHx0aGlzLl9zZXQoXCJ1cGRhdGluZ1wiLCExKSl9KSksZSksdGhpcy5fcGVuZGluZ1Byb21pc2VzLmFkZChzKSx0aGlzLl9zZXQoXCJ1cGRhdGluZ1wiLCEwKTtjb25zdCBpPSgpPT50aGlzLnJlbW92ZUhhbmRsZXMoZSk7cmV0dXJuIHMudGhlbihpLGkpLHN9cmVtb3ZlQWxsKCl7dGhpcy5fcGVuZGluZ1Byb21pc2VzLmNsZWFyKCksdGhpcy5yZW1vdmVBbGxIYW5kbGVzKCksdGhpcy5fc2V0KFwidXBkYXRpbmdcIiwhMSl9X2luc3RhbGxXYXRjaChzLGUsaT17fSxuKXtjb25zdCBkPSsrdGhpcy5faGFuZGxlSWQ7aS5zeW5jfHx0aGlzLl9pbnN0YWxsU3luY1VwZGF0aW5nV2F0Y2gocyxkKTtjb25zdCBhPW4ocyxlLGkpO3JldHVybiB0aGlzLmFkZEhhbmRsZXMoYSxkKSx0KCgoKT0+dGhpcy5yZW1vdmVIYW5kbGVzKGQpKSl9X2luc3RhbGxTeW5jVXBkYXRpbmdXYXRjaChzLGUpe2NvbnN0IHQ9dGhpcy5fY3JlYXRlU3luY1VwZGF0aW5nQ2FsbGJhY2soKSxuPWkocyx0LHtzeW5jOiEwLGVxdWFsczooKT0+ITF9KTtyZXR1cm4gdGhpcy5hZGRIYW5kbGVzKG4sZSksbn1fY3JlYXRlU3luY1VwZGF0aW5nQ2FsbGJhY2soKXtyZXR1cm4oKT0+e3RoaXMucmVtb3ZlSGFuZGxlcyhjKSwrK3RoaXMuX3NjaGVkdWxlSGFuZGxlSWQ7Y29uc3Qgcz10aGlzLl9zY2hlZHVsZUhhbmRsZUlkO3RoaXMuX2dldChcInVwZGF0aW5nXCIpfHx0aGlzLl9zZXQoXCJ1cGRhdGluZ1wiLCEwKSx0aGlzLmFkZEhhbmRsZXMocigoKCk9PntzPT09dGhpcy5fc2NoZWR1bGVIYW5kbGVJZCYmKHRoaXMuX3NldChcInVwZGF0aW5nXCIsdGhpcy5fcGVuZGluZ1Byb21pc2VzLnNpemU+MCksdGhpcy5yZW1vdmVIYW5kbGVzKGMpKX0pKSxjKX19fTtzKFtvKHtyZWFkT25seTohMH0pXSxoLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsdm9pZCAwKSxoPXMoW2woXCJlc3JpLmNvcmUuc3VwcG9ydC5VcGRhdGluZ0hhbmRsZXNcIildLGgpO2NvbnN0IGM9LTQyO2V4cG9ydHtoIGFzIFVwZGF0aW5nSGFuZGxlc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzUG9pbnQgYXMgbixpc1BvbHlsaW5lIGFzIHQsaXNQb2x5Z29uIGFzIGUsaXNNdWx0aXBvaW50IGFzIHIsaXNFeHRlbnQgYXMgdX1mcm9tXCIuL2pzb25VdGlscy5qc1wiO2Z1bmN0aW9uIGwobil7cmV0dXJuIG4mJlwidXBwZXJMZWZ0XCI9PT1uLm9yaWdpblBvc2l0aW9ufWNvbnN0IGk9KG4sdCxlKT0+W3QsZV0sbz0obix0LGUpPT5bdCxlLG5bMl1dLGE9KG4sdCxlKT0+W3QsZSxuWzJdLG5bM11dO2Z1bmN0aW9uIG0obil7aWYoIW4pcmV0dXJuIG51bGw7cmV0dXJue29yaWdpblBvc2l0aW9uOlwidXBwZXItbGVmdFwiPT09bi5vcmlnaW5Qb3NpdGlvbj9cInVwcGVyTGVmdFwiOlwibG93ZXItbGVmdFwiPT09bi5vcmlnaW5Qb3NpdGlvbj9cImxvd2VyTGVmdFwiOm4ub3JpZ2luUG9zaXRpb24sc2NhbGU6bi50b2xlcmFuY2U/W24udG9sZXJhbmNlLG4udG9sZXJhbmNlXTpbMSwxXSx0cmFuc2xhdGU6bnVsbCE9bi5leHRlbnQ/W24uZXh0ZW50LnhtaW4sbi5leHRlbnQueW1heF06WzAsMF19fWZ1bmN0aW9uIGMobix0KXtpZihuPT09dHx8bnVsbD09biYmbnVsbD09dClyZXR1cm4hMDtpZihudWxsPT1ufHxudWxsPT10KXJldHVybiExO2xldCBlLHIsdSxpLG8sYTtyZXR1cm4gbChuKT8oZT1uLnRyYW5zbGF0ZVswXSxyPW4udHJhbnNsYXRlWzFdLHU9bi5zY2FsZVswXSk6KGU9bnVsbCE9bi5leHRlbnQ/bi5leHRlbnQueG1pbjowLHI9bnVsbCE9bi5leHRlbnQ/bi5leHRlbnQueW1heDowLHU9bi50b2xlcmFuY2UpLGwodCk/KGk9dC50cmFuc2xhdGVbMF0sbz10LnRyYW5zbGF0ZVsxXSxhPXQuc2NhbGVbMF0pOihpPW51bGwhPXQuZXh0ZW50P3QuZXh0ZW50LnhtaW46MCxvPW51bGwhPXQuZXh0ZW50P3QuZXh0ZW50LnltYXg6MCxhPXQudG9sZXJhbmNlKSxlPT09aSYmcj09PW8mJnU9PT1hfWZ1bmN0aW9uIHMoe3NjYWxlOm4sdHJhbnNsYXRlOnR9LGUpe3JldHVybiBNYXRoLnJvdW5kKChlLXRbMF0pL25bMF0pfWZ1bmN0aW9uIGYoe3NjYWxlOm4sdHJhbnNsYXRlOnR9LGUpe3JldHVybiBNYXRoLnJvdW5kKCh0WzFdLWUpL25bMV0pfWZ1bmN0aW9uIHgobix0LGUpe2NvbnN0IHI9W107bGV0IHUsbCxpLG87Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe2NvbnN0IG09ZVthXTthPjA/KGk9cyhuLG1bMF0pLG89ZihuLG1bMV0pLGk9PT11JiZvPT09bHx8KHIucHVzaCh0KG0saS11LG8tbCkpLHU9aSxsPW8pKToodT1zKG4sbVswXSksbD1mKG4sbVsxXSksci5wdXNoKHQobSx1LGwpKSl9cmV0dXJuIHIubGVuZ3RoPjA/cjpudWxsfWZ1bmN0aW9uIGgobix0LGUpe3JldHVybiB0WzBdPXMobixlWzBdKSx0WzNdPWYobixlWzFdKSx0WzJdPXMobixlWzJdKSx0WzFdPWYobixlWzNdKSx0fWZ1bmN0aW9uIEkobix0LGUscil7cmV0dXJuIHgobixlP3I/YTpvOnI/bzppLHQpfWZ1bmN0aW9uIGcobix0LGUscil7Y29uc3QgdT1bXSxsPWU/cj9hOm86cj9vOmk7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IGU9eChuLGwsdFtpXSk7ZSYmZS5sZW5ndGg+PTMmJnUucHVzaChlKX1yZXR1cm4gdS5sZW5ndGg/dTpudWxsfWZ1bmN0aW9uIE4obix0LGUscil7Y29uc3QgdT1bXSxsPWU/cj9hOm86cj9vOmk7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IGU9eChuLGwsdFtpXSk7ZSYmZS5sZW5ndGg+PTImJnUucHVzaChlKX1yZXR1cm4gdS5sZW5ndGg/dTpudWxsfWZ1bmN0aW9uIHAoe3NjYWxlOm4sdHJhbnNsYXRlOnR9LGUpe3JldHVybiBlKm5bMF0rdFswXX1mdW5jdGlvbiB5KHtzY2FsZTpuLHRyYW5zbGF0ZTp0fSxlKXtyZXR1cm4gdFsxXS1lKm5bMV19ZnVuY3Rpb24geihuLHQsZSl7Y29uc3Qgcj1uZXcgQXJyYXkoZS5sZW5ndGgpO2lmKCFlLmxlbmd0aClyZXR1cm4gcjtjb25zdFt1LGxdPW4uc2NhbGU7bGV0IGk9cChuLGVbMF1bMF0pLG89eShuLGVbMF1bMV0pO3JbMF09dChlWzBdLGksbyk7Zm9yKGxldCBhPTE7YTxlLmxlbmd0aDthKyspe2NvbnN0IG49ZVthXTtpKz1uWzBdKnUsby09blsxXSpsLHJbYV09dChuLGksbyl9cmV0dXJuIHJ9ZnVuY3Rpb24gVChuLHQsZSl7Y29uc3Qgcj1uZXcgQXJyYXkoZS5sZW5ndGgpO2ZvcihsZXQgdT0wO3U8ZS5sZW5ndGg7dSsrKXJbdV09eihuLHQsZVt1XSk7cmV0dXJuIHJ9ZnVuY3Rpb24gTShuLHQsZSl7cmV0dXJuIGU/KHRbMF09cChuLGVbMF0pLHRbMV09eShuLGVbM10pLHRbMl09cChuLGVbMl0pLHRbM109eShuLGVbMV0pLHQpOltwKG4sdFswXSkseShuLHRbM10pLHAobix0WzJdKSx5KG4sdFsxXSldfWZ1bmN0aW9uIEUobix0LGUscil7cmV0dXJuIHoobixlP3I/YTpvOnI/bzppLHQpfWZ1bmN0aW9uIFAobix0LGUscil7cmV0dXJuIFQobixlP3I/YTpvOnI/bzppLHQpfWZ1bmN0aW9uIGIobix0LGUscil7cmV0dXJuIFQobixlP3I/YTpvOnI/bzppLHQpfWZ1bmN0aW9uIEYobix0LGUpe2xldFtyLHVdPWVbMF0sbD1NYXRoLm1pbihyLHRbMF0pLGk9TWF0aC5taW4odSx0WzFdKSxvPU1hdGgubWF4KHIsdFsyXSksYT1NYXRoLm1heCh1LHRbM10pO2ZvcihsZXQgbT0xO208ZS5sZW5ndGg7bSsrKXtjb25zdFtuLHRdPWVbbV07cis9bix1Kz10LG48MCYmKGw9TWF0aC5taW4obCxyKSksbj4wJiYobz1NYXRoLm1heChvLHIpKSx0PDA/aT1NYXRoLm1pbihpLHUpOnQ+MCYmKGE9TWF0aC5tYXgoYSx1KSl9cmV0dXJuIG5bMF09bCxuWzFdPWksblsyXT1vLG5bM109YSxufWZ1bmN0aW9uIFYobix0KXtpZighdC5sZW5ndGgpcmV0dXJuIG51bGw7blswXT1uWzFdPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxuWzJdPW5bM109TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKUYobixuLHRbZV0pO3JldHVybiBufWZ1bmN0aW9uIFkobil7Y29uc3QgdD1bTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXTtyZXR1cm4gRih0LHQsbil9ZnVuY3Rpb24gXyhuKXtyZXR1cm4gVihbMCwwLDAsMF0sbil9ZnVuY3Rpb24gQShuKXtyZXR1cm4gVihbMCwwLDAsMF0sbil9ZnVuY3Rpb24gdyhuLHQsZSxyLHUpe3JldHVybiB0LnhtaW49cyhuLGUueG1pbiksdC55bWluPWYobixlLnltaW4pLHQueG1heD1zKG4sZS54bWF4KSx0LnltYXg9ZihuLGUueW1heCksdCE9PWUmJihyJiYodC56bWluPWUuem1pbix0LnptYXg9ZS56bWF4KSx1JiYodC5tbWluPWUubW1pbix0Lm1tYXg9ZS5tbWF4KSksdH1mdW5jdGlvbiBHKG4sdCxlLHIsdSl7cmV0dXJuIHQucG9pbnRzPUkobixlLnBvaW50cyxyLHUpPz9bXSx0fWZ1bmN0aW9uIEwobix0LGUscix1KXtyZXR1cm4gdC54PXMobixlLngpLHQueT1mKG4sZS55KSx0IT09ZSYmKHImJih0Lno9ZS56KSx1JiYodC5tPWUubSkpLHR9ZnVuY3Rpb24gTyhuLHQsZSxyLHUpe2NvbnN0IGw9ZyhuLGUucmluZ3Mscix1KTtyZXR1cm4gbD8odC5yaW5ncz1sLHQpOm51bGx9ZnVuY3Rpb24gUyhuLHQsZSxyLHUpe2NvbnN0IGw9TihuLGUucGF0aHMscix1KTtyZXR1cm4gbD8odC5wYXRocz1sLHQpOm51bGx9ZnVuY3Rpb24gZChsLGkpe3JldHVybiBsJiZpP24oaSk/TChsLHt9LGksITEsITEpOnQoaSk/UyhsLHt9LGksITEsITEpOmUoaSk/TyhsLHt9LGksITEsITEpOnIoaSk/RyhsLHt9LGksITEsITEpOnUoaSk/dyhsLHt9LGksITEsITEpOm51bGw6bnVsbH1mdW5jdGlvbiBqKG4sdCxlLHIsdSl7cmV0dXJuIHQueG1pbj1wKG4sZS54bWluKSx0LnltaW49eShuLGUueW1pbiksdC54bWF4PXAobixlLnhtYXgpLHQueW1heD15KG4sZS55bWF4KSx0IT09ZSYmKHImJih0LnptaW49ZS56bWluLHQuem1heD1lLnptYXgpLHUmJih0Lm1taW49ZS5tbWluLHQubW1heD1lLm1tYXgpKSx0fWZ1bmN0aW9uIFUobix0LGUscix1KXtyZXR1cm4gbnVsbCE9ZSYmKHQucG9pbnRzPUUobixlLnBvaW50cyxyLHUpKSx0fWZ1bmN0aW9uIGsobix0LGUscix1KXtyZXR1cm4gbnVsbD09ZXx8KHQueD1wKG4sZS54KSx0Lnk9eShuLGUueSksdCE9PWUmJihyJiYodC56PWUueiksdSYmKHQubT1lLm0pKSksdH1mdW5jdGlvbiBxKG4sdCxlLHIsdSl7cmV0dXJuIG51bGwhPWUmJih0LnJpbmdzPWIobixlLnJpbmdzLHIsdSkpLHR9ZnVuY3Rpb24gdihuLHQsZSxyLHUpe3JldHVybiBudWxsIT1lJiYodC5wYXRocz1QKG4sZS5wYXRocyxyLHUpKSx0fWV4cG9ydHtjIGFzIGVxdWFscyxGIGFzIGdldFF1YW50aXplZEJvdW5kc0Nvb3Jkc0FycmF5LFYgYXMgZ2V0UXVhbnRpemVkQm91bmRzQ29vcmRzQXJyYXlBcnJheSxfIGFzIGdldFF1YW50aXplZEJvdW5kc1BhdGhzLFkgYXMgZ2V0UXVhbnRpemVkQm91bmRzUG9pbnRzLEEgYXMgZ2V0UXVhbnRpemVkQm91bmRzUmluZ3MsaCBhcyBxdWFudGl6ZUJvdW5kcyx3IGFzIHF1YW50aXplRXh0ZW50LGQgYXMgcXVhbnRpemVHZW9tZXRyeSxHIGFzIHF1YW50aXplTXVsdGlwb2ludCxOIGFzIHF1YW50aXplUGF0aHMsTCBhcyBxdWFudGl6ZVBvaW50LEkgYXMgcXVhbnRpemVQb2ludHMsTyBhcyBxdWFudGl6ZVBvbHlnb24sUyBhcyBxdWFudGl6ZVBvbHlsaW5lLGcgYXMgcXVhbnRpemVSaW5ncyxzIGFzIHF1YW50aXplWCxmIGFzIHF1YW50aXplWSxtIGFzIHRvUXVhbnRpemF0aW9uVHJhbnNmb3JtLE0gYXMgdW5xdWFudGl6ZUJvdW5kcyx6IGFzIHVucXVhbnRpemVDb29yZHNBcnJheSxUIGFzIHVucXVhbnRpemVDb29yZHNBcnJheUFycmF5LGogYXMgdW5xdWFudGl6ZUV4dGVudCxVIGFzIHVucXVhbnRpemVNdWx0aXBvaW50LFAgYXMgdW5xdWFudGl6ZVBhdGhzLGsgYXMgdW5xdWFudGl6ZVBvaW50LEUgYXMgdW5xdWFudGl6ZVBvaW50cyxxIGFzIHVucXVhbnRpemVQb2x5Z29uLHYgYXMgdW5xdWFudGl6ZVBvbHlsaW5lLGIgYXMgdW5xdWFudGl6ZVJpbmdzLHAgYXMgdW5xdWFudGl6ZVgseSBhcyB1bnF1YW50aXplWX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtQb29sZWRSQnVzaCBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvbGlicy9yYnVzaC9Qb29sZWRSQnVzaC5qc1wiO2ltcG9ydHtlbXB0eSBhcyBzfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtjb25zdCBkPTVlNCxuPXttaW5YOjAsbWluWTowLG1heFg6MCxtYXhZOjB9O2Z1bmN0aW9uIHQoaSl7bi5taW5YPWlbMF0sbi5taW5ZPWlbMV0sbi5tYXhYPWlbMl0sbi5tYXhZPWlbM119ZnVuY3Rpb24gZShpLHMsZCl7dChzKSxpLnNlYXJjaChuLGQpfWNsYXNzIG97Y29uc3RydWN0b3IoKXt0aGlzLl9pbmRleEludmFsaWQ9ITEsdGhpcy5fYm91bmRzVG9Mb2FkPVtdLHRoaXMuX2JvdW5kc0J5SWQ9bmV3IE1hcCx0aGlzLl9pZEJ5Qm91bmRzPW5ldyBNYXAsdGhpcy5faW5kZXg9bmV3IGkoOSxoYXMoXCJlc3JpLWNzcC1yZXN0cmljdGlvbnNcIik/aT0+KHttaW5YOmlbMF0sbWluWTppWzFdLG1heFg6aVsyXSxtYXhZOmlbM119KTpbXCJbMF1cIixcIlsxXVwiLFwiWzJdXCIsXCJbM11cIl0pLHRoaXMuX2xvYWRJbmRleD0oKT0+e2lmKHRoaXMuX2luZGV4SW52YWxpZCl7Y29uc3QgaT1uZXcgQXJyYXkodGhpcy5faWRCeUJvdW5kcy5zaXplKTtsZXQgcz0wO3RoaXMuX2lkQnlCb3VuZHMuZm9yRWFjaCgoKGQsbik9PntpW3MrK109bn0pKSx0aGlzLl9pbmRleEludmFsaWQ9ITEsdGhpcy5faW5kZXguY2xlYXIoKSx0aGlzLl9pbmRleC5sb2FkKGkpfWVsc2UgdGhpcy5fYm91bmRzVG9Mb2FkLmxlbmd0aCYmKHRoaXMuX2luZGV4LmxvYWQoQXJyYXkuZnJvbShuZXcgU2V0KHRoaXMuX2JvdW5kc1RvTG9hZC5maWx0ZXIoKGk9PnRoaXMuX2lkQnlCb3VuZHMuaGFzKGkpKSkpKSksdGhpcy5fYm91bmRzVG9Mb2FkLmxlbmd0aD0wKX19Z2V0IGZ1bGxCb3VuZHMoKXtpZighdGhpcy5fYm91bmRzQnlJZC5zaXplKXJldHVybiBudWxsO2NvbnN0IGk9cygpO2Zvcihjb25zdCBzIG9mIHRoaXMuX2JvdW5kc0J5SWQudmFsdWVzKCkpcyYmKGlbMF09TWF0aC5taW4oc1swXSxpWzBdKSxpWzFdPU1hdGgubWluKHNbMV0saVsxXSksaVsyXT1NYXRoLm1heChzWzJdLGlbMl0pLGlbM109TWF0aC5tYXgoc1szXSxpWzNdKSk7cmV0dXJuIGl9Z2V0IHZhbGlkKCl7cmV0dXJuIXRoaXMuX2luZGV4SW52YWxpZH1jbGVhcigpe3RoaXMuX2luZGV4SW52YWxpZD0hMSx0aGlzLl9ib3VuZHNUb0xvYWQubGVuZ3RoPTAsdGhpcy5fYm91bmRzQnlJZC5jbGVhcigpLHRoaXMuX2lkQnlCb3VuZHMuY2xlYXIoKSx0aGlzLl9pbmRleC5jbGVhcigpfWRlbGV0ZShpKXtjb25zdCBzPXRoaXMuX2JvdW5kc0J5SWQuZ2V0KGkpO3RoaXMuX2JvdW5kc0J5SWQuZGVsZXRlKGkpLHMmJih0aGlzLl9pZEJ5Qm91bmRzLmRlbGV0ZShzKSx0aGlzLl9pbmRleEludmFsaWR8fHRoaXMuX2luZGV4LnJlbW92ZShzKSl9Zm9yRWFjaEluQm91bmRzKGkscyl7dGhpcy5fbG9hZEluZGV4KCksZSh0aGlzLl9pbmRleCxpLChpPT5zKHRoaXMuX2lkQnlCb3VuZHMuZ2V0KGkpKSkpfWdldChpKXtyZXR1cm4gdGhpcy5fYm91bmRzQnlJZC5nZXQoaSl9aGFzKGkpe3JldHVybiB0aGlzLl9ib3VuZHNCeUlkLmhhcyhpKX1pbnZhbGlkYXRlSW5kZXgoKXt0aGlzLl9pbmRleEludmFsaWR8fCh0aGlzLl9pbmRleEludmFsaWQ9ITAsdGhpcy5fYm91bmRzVG9Mb2FkLmxlbmd0aD0wKX1zZXQoaSxzKXtpZighdGhpcy5faW5kZXhJbnZhbGlkKXtjb25zdCBzPXRoaXMuX2JvdW5kc0J5SWQuZ2V0KGkpO3MmJih0aGlzLl9pbmRleC5yZW1vdmUocyksdGhpcy5faWRCeUJvdW5kcy5kZWxldGUocykpfXRoaXMuX2JvdW5kc0J5SWQuc2V0KGkscykscyYmKHRoaXMuX2lkQnlCb3VuZHMuc2V0KHMsaSksdGhpcy5faW5kZXhJbnZhbGlkfHwodGhpcy5fYm91bmRzVG9Mb2FkLnB1c2gocyksdGhpcy5fYm91bmRzVG9Mb2FkLmxlbmd0aD5kJiZ0aGlzLl9sb2FkSW5kZXgoKSkpfX1leHBvcnR7byBhcyBCb3VuZHNTdG9yZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2lzU29tZSBhcyBlfWZyb21cIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgbyxmcm9tUmVjdCBhcyBpfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgbn1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2dldEJvdW5kc09wdGltaXplZEdlb21ldHJ5IGFzIGF9ZnJvbVwiLi4vZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtCb3VuZHNTdG9yZSBhcyBkfWZyb21cIi4vQm91bmRzU3RvcmUuanNcIjtpbXBvcnR7Y2xlYW5Gcm9tR2VvbWV0cnlFbmdpbmUgYXMgdX1mcm9tXCIuL2dlb21ldHJ5VXRpbHMuanNcIjtpbXBvcnR7b3B0aW1pemVkRmVhdHVyZVF1ZXJ5RW5naW5lQWRhcHRlciBhcyBofWZyb21cIi4vb3B0aW1pemVkRmVhdHVyZVF1ZXJ5RW5naW5lQWRhcHRlci5qc1wiO2NvbnN0IGY9bygpO2NsYXNzIG17Y29uc3RydWN0b3IoZSl7dGhpcy5nZW9tZXRyeUluZm89ZSx0aGlzLl9ib3VuZHNTdG9yZT1uZXcgZCx0aGlzLl9mZWF0dXJlc0J5SWQ9bmV3IE1hcCx0aGlzLl9tYXJrZWRJZHM9bmV3IFNldCx0aGlzLmV2ZW50cz1uZXcgcix0aGlzLmZlYXR1cmVBZGFwdGVyPWh9Z2V0IGdlb21ldHJ5VHlwZSgpe3JldHVybiB0aGlzLmdlb21ldHJ5SW5mby5nZW9tZXRyeVR5cGV9Z2V0IGhhc00oKXtyZXR1cm4gdGhpcy5nZW9tZXRyeUluZm8uaGFzTX1nZXQgaGFzWigpe3JldHVybiB0aGlzLmdlb21ldHJ5SW5mby5oYXNafWdldCBudW1GZWF0dXJlcygpe3JldHVybiB0aGlzLl9mZWF0dXJlc0J5SWQuc2l6ZX1nZXQgZnVsbEJvdW5kcygpe3JldHVybiB0aGlzLl9ib3VuZHNTdG9yZS5mdWxsQm91bmRzfWdldCBzdG9yZVN0YXRpc3RpY3MoKXtsZXQgZT0wO3JldHVybiB0aGlzLl9mZWF0dXJlc0J5SWQuZm9yRWFjaCgodD0+e251bGwhPXQuZ2VvbWV0cnkmJnQuZ2VvbWV0cnkuY29vcmRzJiYoZSs9dC5nZW9tZXRyeS5jb29yZHMubGVuZ3RoKX0pKSx7ZmVhdHVyZUNvdW50OnRoaXMuX2ZlYXR1cmVzQnlJZC5zaXplLHZlcnRleENvdW50OmUvKHRoaXMuaGFzWj90aGlzLmhhc00/NDozOnRoaXMuaGFzTT8zOjIpfX1nZXRGdWxsRXh0ZW50KGUpe2lmKG51bGw9PXRoaXMuZnVsbEJvdW5kcylyZXR1cm4gbnVsbDtjb25zdFt0LHIscyxvXT10aGlzLmZ1bGxCb3VuZHM7cmV0dXJue3htaW46dCx5bWluOnIseG1heDpzLHltYXg6byxzcGF0aWFsUmVmZXJlbmNlOnUoZSl9fWFkZChlKXt0aGlzLl9hZGQoZSksdGhpcy5fZW1pdENoYW5nZWQoKX1hZGRNYW55KGUpe2Zvcihjb25zdCB0IG9mIGUpdGhpcy5fYWRkKHQpO3RoaXMuX2VtaXRDaGFuZ2VkKCl9dXBzZXJ0TWFueSh0KXtjb25zdCByPXQubWFwKChlPT50aGlzLl91cHNlcnQoZSkpKTtyZXR1cm4gdGhpcy5fZW1pdENoYW5nZWQoKSxyLmZpbHRlcihlKX1jbGVhcigpe3RoaXMuX2ZlYXR1cmVzQnlJZC5jbGVhcigpLHRoaXMuX2JvdW5kc1N0b3JlLmNsZWFyKCksdGhpcy5fZW1pdENoYW5nZWQoKX1yZW1vdmVCeUlkKGUpe2NvbnN0IHQ9dGhpcy5fZmVhdHVyZXNCeUlkLmdldChlKTtyZXR1cm4gdD8odGhpcy5fcmVtb3ZlKHQpLHRoaXMuX2VtaXRDaGFuZ2VkKCksdCk6bnVsbH1yZW1vdmVNYW55QnlJZChlKXt0aGlzLl9ib3VuZHNTdG9yZS5pbnZhbGlkYXRlSW5kZXgoKTtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXRoaXMuX2ZlYXR1cmVzQnlJZC5nZXQodCk7ZSYmdGhpcy5fcmVtb3ZlKGUpfXRoaXMuX2VtaXRDaGFuZ2VkKCl9Zm9yRWFjaEJvdW5kcyhlLHQpe2Zvcihjb25zdCByIG9mIGUpe2NvbnN0IGU9dGhpcy5fYm91bmRzU3RvcmUuZ2V0KHIub2JqZWN0SWQpO2UmJnQoaShmLGUpKX19Z2V0RmVhdHVyZShlKXtyZXR1cm4gdGhpcy5fZmVhdHVyZXNCeUlkLmdldChlKX1oYXMoZSl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVzQnlJZC5oYXMoZSl9Zm9yRWFjaChlKXt0aGlzLl9mZWF0dXJlc0J5SWQuZm9yRWFjaCgodD0+ZSh0KSkpfWZvckVhY2hJbkJvdW5kcyhlLHQpe3RoaXMuX2JvdW5kc1N0b3JlLmZvckVhY2hJbkJvdW5kcyhlLChlPT57dCh0aGlzLl9mZWF0dXJlc0J5SWQuZ2V0KGUpKX0pKX1zdGFydE1hcmtpbmdVc2VkRmVhdHVyZXMoKXt0aGlzLl9ib3VuZHNTdG9yZS5pbnZhbGlkYXRlSW5kZXgoKSx0aGlzLl9tYXJrZWRJZHMuY2xlYXIoKX1zd2VlcCgpe2xldCBlPSExO3RoaXMuX2ZlYXR1cmVzQnlJZC5mb3JFYWNoKCgodCxyKT0+e3RoaXMuX21hcmtlZElkcy5oYXMocil8fChlPSEwLHRoaXMuX3JlbW92ZSh0KSl9KSksdGhpcy5fbWFya2VkSWRzLmNsZWFyKCksZSYmdGhpcy5fZW1pdENoYW5nZWQoKX1fZW1pdENoYW5nZWQoKXt0aGlzLmV2ZW50cy5lbWl0KFwiY2hhbmdlZFwiLHZvaWQgMCl9X2FkZChlKXtpZighZSlyZXR1cm47Y29uc3Qgcj1lLm9iamVjdElkO2lmKG51bGw9PXIpcmV0dXJuIHZvaWQgcy5nZXRMb2dnZXIoXCJlc3JpLmxheWVycy5ncmFwaGljcy5kYXRhLkZlYXR1cmVTdG9yZVwiKS5lcnJvcihuZXcgdChcImZlYXR1cmVzdG9yZTppbnZhbGlkLWZlYXR1cmVcIixcImZlYXR1cmUgaWQgaXMgbWlzc2luZ1wiLHtmZWF0dXJlOmV9KSk7Y29uc3Qgbz10aGlzLl9mZWF0dXJlc0J5SWQuZ2V0KHIpO2xldCBpO2lmKHRoaXMuX21hcmtlZElkcy5hZGQociksbz8oZS5kaXNwbGF5SWQ9by5kaXNwbGF5SWQsaT10aGlzLl9ib3VuZHNTdG9yZS5nZXQociksdGhpcy5fYm91bmRzU3RvcmUuZGVsZXRlKHIpKTpudWxsIT10aGlzLm9uRmVhdHVyZUFkZCYmdGhpcy5vbkZlYXR1cmVBZGQoZSksIWUuZ2VvbWV0cnk/LmNvb3Jkcz8ubGVuZ3RoKXJldHVybiB0aGlzLl9ib3VuZHNTdG9yZS5zZXQocixudWxsKSx2b2lkIHRoaXMuX2ZlYXR1cmVzQnlJZC5zZXQocixlKTtpPWEobnVsbCE9aT9pOm4oKSxlLmdlb21ldHJ5LHRoaXMuZ2VvbWV0cnlJbmZvLmhhc1osdGhpcy5nZW9tZXRyeUluZm8uaGFzTSksbnVsbCE9aSYmdGhpcy5fYm91bmRzU3RvcmUuc2V0KHIsaSksdGhpcy5fZmVhdHVyZXNCeUlkLnNldChyLGUpfV91cHNlcnQoZSl7Y29uc3Qgcj1lPy5vYmplY3RJZDtpZihudWxsPT1yKXJldHVybiBzLmdldExvZ2dlcihcImVzcmkubGF5ZXJzLmdyYXBoaWNzLmRhdGEuRmVhdHVyZVN0b3JlXCIpLmVycm9yKG5ldyB0KFwiZmVhdHVyZXN0b3JlOmludmFsaWQtZmVhdHVyZVwiLFwiZmVhdHVyZSBpZCBpcyBtaXNzaW5nXCIse2ZlYXR1cmU6ZX0pKSxudWxsO2NvbnN0IG89dGhpcy5fZmVhdHVyZXNCeUlkLmdldChyKTtpZighbylyZXR1cm4gdGhpcy5fYWRkKGUpLGU7dGhpcy5fbWFya2VkSWRzLmFkZChyKTtjb25zdHtnZW9tZXRyeTppLGF0dHJpYnV0ZXM6ZH09ZTtmb3IoY29uc3QgdCBpbiBkKW8uYXR0cmlidXRlc1t0XT1kW3RdO3JldHVybiBpJiYoby5nZW9tZXRyeT1pLHRoaXMuX2JvdW5kc1N0b3JlLnNldChyLGEobigpLGksdGhpcy5nZW9tZXRyeUluZm8uaGFzWix0aGlzLmdlb21ldHJ5SW5mby5oYXNNKT8/bnVsbCkpLG99X3JlbW92ZShlKXtudWxsIT10aGlzLm9uRmVhdHVyZVJlbW92ZSYmdGhpcy5vbkZlYXR1cmVSZW1vdmUoZSk7Y29uc3QgdD1lLm9iamVjdElkO3JldHVybiB0aGlzLl9tYXJrZWRJZHMuZGVsZXRlKHQpLHRoaXMuX2JvdW5kc1N0b3JlLmRlbGV0ZSh0KSx0aGlzLl9mZWF0dXJlc0J5SWQuZGVsZXRlKHQpLGV9fWV4cG9ydHttIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQodCxlLHIpe3JldHVybntvYmplY3RJZDp0LHRhcmdldDplLGRpc3RhbmNlOnIsdHlwZTpcInZlcnRleFwifX1mdW5jdGlvbiBlKHQsZSxyLG4sZCxhPSExKXtyZXR1cm57b2JqZWN0SWQ6dCx0YXJnZXQ6ZSxkaXN0YW5jZTpyLHR5cGU6XCJlZGdlXCIsc3RhcnQ6bixlbmQ6ZCxkcmFwZWQ6YX19ZXhwb3J0e2UgYXMgbWFrZUVkZ2VDYW5kaWRhdGUsdCBhcyBtYWtlVmVydGV4Q2FuZGlkYXRlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7SlNPTlN1cHBvcnQgYXMgb31mcm9tXCIuLi8uLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtJbnRlZ2VyIGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjt2YXIgaTtsZXQgbD1pPWNsYXNzIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmNvbHM9bnVsbCx0aGlzLmxldmVsPTAsdGhpcy5sZXZlbFZhbHVlPW51bGwsdGhpcy5vcmlnaW49bnVsbCx0aGlzLnJlc29sdXRpb249MCx0aGlzLnJvd3M9bnVsbCx0aGlzLnNjYWxlPTB9Y2xvbmUoKXtyZXR1cm4gbmV3IGkoe2NvbHM6dGhpcy5jb2xzLGxldmVsOnRoaXMubGV2ZWwsbGV2ZWxWYWx1ZTp0aGlzLmxldmVsVmFsdWUscmVzb2x1dGlvbjp0aGlzLnJlc29sdXRpb24scm93czp0aGlzLnJvd3Msc2NhbGU6dGhpcy5zY2FsZX0pfX07ZShbcih7anNvbjp7d3JpdGU6ITAsb3JpZ2luczp7XCJ3ZWItZG9jdW1lbnRcIjp7cmVhZDohMSx3cml0ZTohMX0sXCJwb3J0YWwtaXRlbVwiOntyZWFkOiExLHdyaXRlOiExfX19fSldLGwucHJvdG90eXBlLFwiY29sc1wiLHZvaWQgMCksZShbcih7dHlwZTp0LGpzb246e3dyaXRlOiEwfX0pXSxsLnByb3RvdHlwZSxcImxldmVsXCIsdm9pZCAwKSxlKFtyKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sbC5wcm90b3R5cGUsXCJsZXZlbFZhbHVlXCIsdm9pZCAwKSxlKFtyKHtqc29uOnt3cml0ZTohMCxvcmlnaW5zOntcIndlYi1kb2N1bWVudFwiOntyZWFkOiExLHdyaXRlOiExfSxcInBvcnRhbC1pdGVtXCI6e3JlYWQ6ITEsd3JpdGU6ITF9fX19KV0sbC5wcm90b3R5cGUsXCJvcmlnaW5cIix2b2lkIDApLGUoW3Ioe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxsLnByb3RvdHlwZSxcInJlc29sdXRpb25cIix2b2lkIDApLGUoW3Ioe2pzb246e3dyaXRlOiEwLG9yaWdpbnM6e1wid2ViLWRvY3VtZW50XCI6e3JlYWQ6ITEsd3JpdGU6ITF9LFwicG9ydGFsLWl0ZW1cIjp7cmVhZDohMSx3cml0ZTohMX19fX0pXSxsLnByb3RvdHlwZSxcInJvd3NcIix2b2lkIDApLGUoW3Ioe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxsLnByb3RvdHlwZSxcInNjYWxlXCIsdm9pZCAwKSxsPWk9ZShbcyhcImVzcmkubGF5ZXJzLnN1cHBvcnQuTE9EXCIpXSxsKTtjb25zdCBwPWw7ZXhwb3J0e3AgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e0pTT05NYXAgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2pzb25NYXAuanNcIjtpbXBvcnR7SlNPTlN1cHBvcnQgYXMgb31mcm9tXCIuLi8uLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0e2dldE1ldGVyc1BlclVuaXRGb3JTUiBhcyByfWZyb21cIi4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtJbnRlZ2VyIGFzIGl9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBufWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7d3JpdGVyIGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy93cml0ZXIuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2ltcG9ydCBjIGZyb21cIi4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHV9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtpc1ZhbGlkIGFzIGYsZ2V0SW5mbyBhcyBoLGlzR2VvZ3JhcGhpYyBhcyBtLGVxdWFscyBhcyBkfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e3Byb2plY3QgYXMgZ31mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3dlYk1lcmNhdG9yVXRpbHMuanNcIjtpbXBvcnQgeSBmcm9tXCIuL0xPRC5qc1wiO2ltcG9ydHtUaWxlS2V5IGFzIHZ9ZnJvbVwiLi9UaWxlS2V5LmpzXCI7dmFyIHc7Y29uc3QgeD1uZXcgdCh7UE5HOlwicG5nXCIsUE5HODpcInBuZzhcIixQTkcyNDpcInBuZzI0XCIsUE5HMzI6XCJwbmczMlwiLEpQRUc6XCJqcGdcIixKUEc6XCJqcGdcIixESUI6XCJkaWJcIixUSUZGOlwidGlmZlwiLEVNRjpcImVtZlwiLFBTOlwicHNcIixQREY6XCJwZGZcIixHSUY6XCJnaWZcIixTVkc6XCJzdmdcIixTVkdaOlwic3ZnelwiLE1peGVkOlwibWl4ZWRcIixNSVhFRDpcIm1peGVkXCIsTEVSQzpcImxlcmNcIixMRVJDMkQ6XCJsZXJjMmRcIixSQVc6XCJyYXdcIixwYmY6XCJwYmZcIn0pO2xldCBPPXc9Y2xhc3MgZXh0ZW5kcyBve3N0YXRpYyBjcmVhdGUoZT17fSl7Y29uc3R7cmVzb2x1dGlvbkZhY3Rvcjp0PTEsc2NhbGVzOm8sc2l6ZTpzPTI1NixzcGF0aWFsUmVmZXJlbmNlOmk9Yy5XZWJNZXJjYXRvcixudW1MT0RzOmw9MjR9PWU7aWYoIWYoaSkpe2NvbnN0IGU9W107aWYobylmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrKyl7Y29uc3Qgcj1vW3RdO2UucHVzaChuZXcgeSh7bGV2ZWw6dCxzY2FsZTpyLHJlc29sdXRpb246cn0pKX1lbHNle2xldCB0PTVlLTQ7Zm9yKGxldCBvPWwtMTtvPj0wO28tLSllLnVuc2hpZnQobmV3IHkoe2xldmVsOm8sc2NhbGU6dCxyZXNvbHV0aW9uOnR9KSksdCo9Mn1yZXR1cm4gbmV3IHcoe2RwaTo5Nixsb2RzOmUsb3JpZ2luOm5ldyBwKDAsMCxpKSxzaXplOltzLHNdLHNwYXRpYWxSZWZlcmVuY2U6aX0pfWNvbnN0IG49aChpKSxhPWUub3JpZ2luP25ldyBwKHt4OmUub3JpZ2luLngseTplLm9yaWdpbi55LHNwYXRpYWxSZWZlcmVuY2U6aX0pOm5ldyBwKG4/e3g6bi5vcmlnaW5bMF0seTpuLm9yaWdpblsxXSxzcGF0aWFsUmVmZXJlbmNlOml9Ont4OjAseTowLHNwYXRpYWxSZWZlcmVuY2U6aX0pLHU9OTYsZD0xLyhyKGkpKjM5LjM3KnUpLGc9W107aWYobylmb3IobGV0IHI9MDtyPG8ubGVuZ3RoO3IrKyl7Y29uc3QgZT1vW3JdLHQ9ZSpkO2cucHVzaChuZXcgeSh7bGV2ZWw6cixzY2FsZTplLHJlc29sdXRpb246dH0pKX1lbHNle2xldCBlPW0oaSk/NTEyL3MqNTkxNjU3NTI3LjU5MTcwOTQ6MjU2L3MqNTkxNjU3NTI3LjU5MTU1NTtjb25zdCBvPU1hdGguY2VpbChsL3QpO2cucHVzaChuZXcgeSh7bGV2ZWw6MCxzY2FsZTplLHJlc29sdXRpb246ZSpkfSkpO2ZvcihsZXQgcj0xO3I8bztyKyspe2NvbnN0IG89ZS8yKip0LHM9bypkO2cucHVzaChuZXcgeSh7bGV2ZWw6cixzY2FsZTpvLHJlc29sdXRpb246c30pKSxlPW99fXJldHVybiBuZXcgdyh7ZHBpOnUsbG9kczpnLG9yaWdpbjphLHNpemU6W3Msc10sc3BhdGlhbFJlZmVyZW5jZTppfSl9Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5kcGk9OTYsdGhpcy5mb3JtYXQ9bnVsbCx0aGlzLm9yaWdpbj1udWxsLHRoaXMuc2l6ZT1udWxsLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1udWxsfWdldCBpc1dyYXBwYWJsZSgpe2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6ZSxvcmlnaW46dH09dGhpcztpZihlJiZ0KXtjb25zdCBvPWgoZSk7cmV0dXJuIGUuaXNXcmFwcGFibGUmJiEhbyYmTWF0aC5hYnMoby5vcmlnaW5bMF0tdC54KTw9by5keH1yZXR1cm4hMX1yZWFkT3JpZ2luKGUsdCl7cmV0dXJuIHAuZnJvbUpTT04oe3NwYXRpYWxSZWZlcmVuY2U6dC5zcGF0aWFsUmVmZXJlbmNlLC4uLmV9KX1zZXQgbG9kcyhlKXtsZXQgdD0wLG89MDtjb25zdCByPVtdLHM9dGhpcy5fbGV2ZWxUb0xPRD17fTtlJiYodD0tMS8wLG89MS8wLGUuZm9yRWFjaCgoZT0+e3IucHVzaChlLnNjYWxlKSx0PWUuc2NhbGU+dD9lLnNjYWxlOnQsbz1lLnNjYWxlPG8/ZS5zY2FsZTpvLHNbZS5sZXZlbF09ZX0pKSksdGhpcy5fc2V0KFwic2NhbGVzXCIsciksdGhpcy5fc2V0KFwibG9kc1wiLGUpLHRoaXMuX2luaXRpYWxpemVVcHNhbXBsZUxldmVscygpfXJlYWRTaXplKGUsdCl7cmV0dXJuW3QuY29scyx0LnJvd3NdfXdyaXRlU2l6ZShlLHQpe3QuY29scz1lWzBdLHQucm93cz1lWzFdfXpvb21Ub1NjYWxlKGUpe2NvbnN0IHQ9dGhpcy5zY2FsZXM7aWYoZTw9MClyZXR1cm4gdFswXTtpZihlPj10Lmxlbmd0aC0xKXJldHVybiB0W3QubGVuZ3RoLTFdO2NvbnN0IG89TWF0aC5mbG9vcihlKSxyPW8rMTtyZXR1cm4gdFtvXS8odFtvXS90W3JdKSoqKGUtbyl9c2NhbGVUb1pvb20oZSl7Y29uc3QgdD10aGlzLnNjYWxlcyxvPXQubGVuZ3RoLTE7bGV0IHI9MDtmb3IoO3I8bztyKyspe2NvbnN0IG89dFtyXSxzPXRbcisxXTtpZihvPD1lKXJldHVybiByO2lmKHM9PT1lKXJldHVybiByKzE7aWYobz5lJiZzPGUpcmV0dXJuIHIrTWF0aC5sb2coby9lKS9NYXRoLmxvZyhvL3MpfXJldHVybiByfXNuYXBTY2FsZShlLHQ9Ljk1KXtjb25zdCBvPXRoaXMuc2NhbGVUb1pvb20oZSk7cmV0dXJuIG8lTWF0aC5mbG9vcihvKT49dD90aGlzLnpvb21Ub1NjYWxlKE1hdGguY2VpbChvKSk6dGhpcy56b29tVG9TY2FsZShNYXRoLmZsb29yKG8pKX10aWxlQXQoZSx0LG8scil7Y29uc3Qgcz10aGlzLmxvZEF0KGUpO2lmKCFzKXJldHVybiBudWxsO2xldCBpLGw7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpaT10LGw9bztlbHNlIGlmKGQodC5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuc3BhdGlhbFJlZmVyZW5jZSkpaT10LngsbD10Lnkscj1vO2Vsc2V7Y29uc3QgZT1nKHQsdGhpcy5zcGF0aWFsUmVmZXJlbmNlKTtpZihudWxsPT1lKXJldHVybiBudWxsO2k9ZS54LGw9ZS55LHI9b31jb25zdCBuPXMucmVzb2x1dGlvbip0aGlzLnNpemVbMF0sYT1zLnJlc29sdXRpb24qdGhpcy5zaXplWzFdO3JldHVybiByfHwocj1uZXcgdihudWxsLDAsMCwwLHUoKSkpLHIubGV2ZWw9ZSxyLnJvdz1NYXRoLmZsb29yKCh0aGlzLm9yaWdpbi55LWwpL2ErLjAwMSksci5jb2w9TWF0aC5mbG9vcigoaS10aGlzLm9yaWdpbi54KS9uKy4wMDEpLHRoaXMudXBkYXRlVGlsZUluZm8ocikscn11cGRhdGVUaWxlSW5mbyhlLHQ9dy5FeHRyYXBvbGF0ZU9wdGlvbnMuTk9ORSl7bGV0IG89dGhpcy5sb2RBdChlLmxldmVsKTtpZighbyYmdD09PXcuRXh0cmFwb2xhdGVPcHRpb25zLlBPV0VSX09GX1RXTyl7Y29uc3QgdD10aGlzLmxvZHNbdGhpcy5sb2RzLmxlbmd0aC0xXTt0LmxldmVsPGUubGV2ZWwmJihvPXQpfWlmKCFvKXJldHVybjtjb25zdCByPWUubGV2ZWwtby5sZXZlbCxzPW8ucmVzb2x1dGlvbip0aGlzLnNpemVbMF0vMioqcixpPW8ucmVzb2x1dGlvbip0aGlzLnNpemVbMV0vMioqcjtlLmlkPWAke2UubGV2ZWx9LyR7ZS5yb3d9LyR7ZS5jb2x9YCxlLmV4dGVudHx8KGUuZXh0ZW50PXUoKSksZS5leHRlbnRbMF09dGhpcy5vcmlnaW4ueCtlLmNvbCpzLGUuZXh0ZW50WzFdPXRoaXMub3JpZ2luLnktKGUucm93KzEpKmksZS5leHRlbnRbMl09ZS5leHRlbnRbMF0rcyxlLmV4dGVudFszXT1lLmV4dGVudFsxXStpfXVwc2FtcGxlVGlsZShlKXtjb25zdCB0PXRoaXMuX3Vwc2FtcGxlTGV2ZWxzW2UubGV2ZWxdO3JldHVybiEoIXR8fC0xPT09dC5wYXJlbnRMZXZlbCkmJihlLmxldmVsPXQucGFyZW50TGV2ZWwsZS5yb3c9TWF0aC5mbG9vcihlLnJvdy90LmZhY3RvcisuMDAxKSxlLmNvbD1NYXRoLmZsb29yKGUuY29sL3QuZmFjdG9yKy4wMDEpLHRoaXMudXBkYXRlVGlsZUluZm8oZSksITApfWdldFRpbGVCb3VuZHMoZSx0KXtjb25zdCBvPXRoaXMubG9kQXQodC5sZXZlbCk7aWYobnVsbD09bylyZXR1cm4gbnVsbDtjb25zdHtyZXNvbHV0aW9uOnJ9PW8scz1yKnRoaXMuc2l6ZVswXSxpPXIqdGhpcy5zaXplWzFdO3JldHVybiBlWzBdPXRoaXMub3JpZ2luLngrdC5jb2wqcyxlWzFdPXRoaXMub3JpZ2luLnktKHQucm93KzEpKmksZVsyXT1lWzBdK3MsZVszXT1lWzFdK2ksZX1sb2RBdChlKXtyZXR1cm4gdGhpcy5fbGV2ZWxUb0xPRD8uW2VdPz9udWxsfWNsb25lKCl7cmV0dXJuIHcuZnJvbUpTT04odGhpcy53cml0ZSh7fSkpfWdldE9yQ3JlYXRlQ29tcGF0aWJsZShlLHQpe2lmKDI1Nj09PXRoaXMuc2l6ZVswXSYmMjU2PT09dGhpcy5zaXplWzFdKXJldHVybiAyNTY9PT1lP3RoaXM6bnVsbDtjb25zdCBvPVtdLHI9dGhpcy5sb2RzLmxlbmd0aDtmb3IobGV0IHM9MDtzPHI7cysrKXtjb25zdCBlPXRoaXMubG9kc1tzXSxyPWUucmVzb2x1dGlvbip0O28ucHVzaChuZXcgeSh7bGV2ZWw6ZS5sZXZlbCxzY2FsZTplLnNjYWxlLHJlc29sdXRpb246cn0pKX1yZXR1cm4gbmV3IHcoe3NpemU6W2UsZV0sZHBpOnRoaXMuZHBpLGZvcm1hdDp0aGlzLmZvcm1hdCxjb21wcmVzc2lvblF1YWxpdHk6dGhpcy5jb21wcmVzc2lvblF1YWxpdHksb3JpZ2luOnRoaXMub3JpZ2luLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlLGxvZHM6b30pfV9pbml0aWFsaXplVXBzYW1wbGVMZXZlbHMoKXtjb25zdCBlPXRoaXMubG9kczt0aGlzLl91cHNhbXBsZUxldmVscz1bXTtsZXQgdD1udWxsO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCByPWVbb107dGhpcy5fdXBzYW1wbGVMZXZlbHNbci5sZXZlbF09e3BhcmVudExldmVsOnQ/dC5sZXZlbDotMSxmYWN0b3I6dD90LnJlc29sdXRpb24vci5yZXNvbHV0aW9uOjB9LHQ9cn19fTtlKFtzKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0sTy5wcm90b3R5cGUsXCJjb21wcmVzc2lvblF1YWxpdHlcIix2b2lkIDApLGUoW3Moe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxPLnByb3RvdHlwZSxcImRwaVwiLHZvaWQgMCksZShbcyh7dHlwZTpTdHJpbmcsanNvbjp7cmVhZDp4LnJlYWQsd3JpdGU6eC53cml0ZSxvcmlnaW5zOntcIndlYi1zY2VuZVwiOntyZWFkOiExLHdyaXRlOiExfX19fSldLE8ucHJvdG90eXBlLFwiZm9ybWF0XCIsdm9pZCAwKSxlKFtzKHtyZWFkT25seTohMH0pXSxPLnByb3RvdHlwZSxcImlzV3JhcHBhYmxlXCIsbnVsbCksZShbcyh7dHlwZTpwLGpzb246e3dyaXRlOiEwfX0pXSxPLnByb3RvdHlwZSxcIm9yaWdpblwiLHZvaWQgMCksZShbbChcIm9yaWdpblwiKV0sTy5wcm90b3R5cGUsXCJyZWFkT3JpZ2luXCIsbnVsbCksZShbcyh7dHlwZTpbeV0sdmFsdWU6bnVsbCxqc29uOnt3cml0ZTohMH19KV0sTy5wcm90b3R5cGUsXCJsb2RzXCIsbnVsbCksZShbcyh7cmVhZE9ubHk6ITB9KV0sTy5wcm90b3R5cGUsXCJzY2FsZXNcIix2b2lkIDApLGUoW3Moe2Nhc3Q6ZT0+QXJyYXkuaXNBcnJheShlKT9lOlwibnVtYmVyXCI9PXR5cGVvZiBlP1tlLGVdOlsyNTYsMjU2XX0pXSxPLnByb3RvdHlwZSxcInNpemVcIix2b2lkIDApLGUoW2woXCJzaXplXCIsW1wicm93c1wiLFwiY29sc1wiXSldLE8ucHJvdG90eXBlLFwicmVhZFNpemVcIixudWxsKSxlKFthKFwic2l6ZVwiLHtjb2xzOnt0eXBlOml9LHJvd3M6e3R5cGU6aX19KV0sTy5wcm90b3R5cGUsXCJ3cml0ZVNpemVcIixudWxsKSxlKFtzKHt0eXBlOmMsanNvbjp7d3JpdGU6ITB9fSldLE8ucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksTz13PWUoW24oXCJlc3JpLmxheWVycy5zdXBwb3J0LlRpbGVJbmZvXCIpXSxPKSxmdW5jdGlvbihlKXt2YXIgdDsodD1lLkV4dHJhcG9sYXRlT3B0aW9uc3x8KGUuRXh0cmFwb2xhdGVPcHRpb25zPXt9KSlbdC5OT05FPTBdPVwiTk9ORVwiLHRbdC5QT1dFUl9PRl9UV089MV09XCJQT1dFUl9PRl9UV09cIn0oT3x8KE89e30pKTtjb25zdCBqPU87ZXhwb3J0e2ogYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtjb25zdHJ1Y3Rvcih0LHMsaSxvLGU9dm9pZCAwKXt0aGlzLmlkPXQsdGhpcy5sZXZlbD1zLHRoaXMucm93PWksdGhpcy5jb2w9byx0aGlzLmV4dGVudD1lfX1leHBvcnR7dCBhcyBUaWxlS2V5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi9CYXNlbWFwLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vY29uZmlnLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIGEsbWFwcGVkRmluZCBhcyBpfWZyb21cIi4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7VXJsIGFzIGwsbWFrZUFic29sdXRlIGFzIHMsbm9ybWFsaXplIGFzIHV9ZnJvbVwiLi4vY29yZS91cmxVdGlscy5qc1wiO2ltcG9ydHtlbnN1cmVUeXBlIGFzIGN9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydHtlZmZlY3RFcXVhbHMgYXMgb31mcm9tXCIuLi9sYXllcnMvZWZmZWN0cy91dGlscy5qc1wiO2ltcG9ydHtlc3JpQmFzZW1hcERlZmluaXRpb25zIGFzIGZ9ZnJvbVwiLi9iYXNlbWFwRGVmaW5pdGlvbnMuanNcIjtjb25zdCBwPW4uZ2V0TG9nZ2VyKFwiZXNyaS5zdXBwb3J0LmJhc2VtYXBVdGlsc1wiKTtmdW5jdGlvbiB5KCl7cmV0dXJue319ZnVuY3Rpb24gbShlKXtmb3IoY29uc3QgciBpbiBlKXtjb25zdCB0PWVbcl07YSh0KSxkZWxldGUgZVtyXX19ZnVuY3Rpb24gYih0LG4pe2xldCBhO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtjb25zdCBpPXQgaW4gZixsPSFpJiZ0LmluY2x1ZGVzKFwiL1wiKTtpZighaSYmIWwpe2NvbnN0IGU9T2JqZWN0LmVudHJpZXMoZikuZmlsdGVyKCgoW2UsdF0pPT5yLmFwaUtleSYmIXQuY2xhc3NpY3x8IXIuYXBpS2V5JiYodC5jbGFzc2ljfHx0LmlzM2QpKSkubWFwKCgoW2VdKT0+YFwiJHtlfVwiYCkpLnNvcnQoKS5qb2luKFwiLCBcIik7cmV0dXJuIHAud2FybihgVW5hYmxlIHRvIGZpbmQgYmFzZW1hcCBkZWZpbml0aW9uIGZvcjogJHt0fS4gVHJ5IG9uZSBvZiB0aGVzZTogJHtlfWApLG51bGx9biYmKGE9blt0XSksYXx8KGE9aT9lLmZyb21JZCh0KTpuZXcgZSh7c3R5bGU6e2lkOnR9fSksbiYmKG5bdF09YSkpfWVsc2UgYT1jKGUsdCk7cmV0dXJuIGE/LmRlc3Ryb3llZCYmKHAud2FybihcIlRoZSBwcm92aWRlZCBiYXNlbWFwIGlzIGFscmVhZHkgZGVzdHJveWVkXCIse2Jhc2VtYXA6YX0pLGE9bnVsbCksYX1mdW5jdGlvbiBkKGUpe3JldHVyblwiV2ViIFNjZW5lXCI9PT1lLnBvcnRhbEl0ZW0/LnR5cGV9ZnVuY3Rpb24gTChlKXtyZXR1cm4hIWU/LnBvcnRhbEl0ZW0/LnRhZ3M/LnNvbWUoKGU9PlwiYmV0YVwiPT09ZS50b0xvd2VyQ2FzZSgpKSl9ZnVuY3Rpb24gUyhlLHIpe3JldHVybiBlLmJhc2VtYXA/LnJlZmVyZW5jZUxheWVycz8uc29tZSgoZT0+ZS51aWQ9PT1yKSl8fGUuYmFzZW1hcD8uYmFzZUxheWVycz8uc29tZSgoZT0+ZS51aWQ9PT1yKSl9ZnVuY3Rpb24gdihlLHI9bnVsbCl7Y29uc3QgdD1iKGUpO2lmKCF0KXJldHVybiBudWxsO2NvbnN0IG49dC5jbG9uZSgpO3JldHVybiByJiYobi5iYXNlTGF5ZXJzPVQobi5iYXNlTGF5ZXJzLHIuYmFzZUxheWVycyksbi5yZWZlcmVuY2VMYXllcnM9VChuLnJlZmVyZW5jZUxheWVycyxyLnJlZmVyZW5jZUxheWVycykpLG59bGV0IGc7ZnVuY3Rpb24gaChlKXtpZihnKXJldHVybiBnKGUpO2xldCByPW51bGw7Y29uc3QgdD1NKGUpLG49IXQ/LmJhc2VMYXllcnMubGVuZ3RoO2Zvcihjb25zdCBhIGluIGYpe2NvbnN0IGU9Syh0LCQoZlthXSkse211c3RNYXRjaFJlZmVyZW5jZXM6bn0pO2lmKFwiZXF1YWxcIj09PWUpe3I9YTticmVha31cImJhc2UtbGF5ZXJzLWVxdWFsXCI9PT1lJiYocj1hKX1yZXR1cm4gcn1mdW5jdGlvbiBJKGUpe2c9ZX1mdW5jdGlvbiBSKGUscil7aWYoZT09PXIpcmV0dXJuITA7aWYobnVsbCE9ZT8ucG9ydGFsSXRlbT8uaWQmJmUucG9ydGFsSXRlbS5pZD09PXI/LnBvcnRhbEl0ZW0/LmlkKXJldHVybiEwO3JldHVyblwiZXF1YWxcIj09PUsoTShlKSxNKHIpLHttdXN0TWF0Y2hSZWZlcmVuY2VzOiEwfSl9ZnVuY3Rpb24gVChlLHIpe2NvbnN0IG49bmV3IHQ7cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9ci5maW5kKChyPT5cInNjZW5lXCIhPT1yLnR5cGUmJkQoQShlKSxBKHIpKSkpfHxlO24uaW5jbHVkZXModCk/bi5wdXNoKGUpOm4ucHVzaCh0KX0pKSxufWZ1bmN0aW9uIHcoZSl7cmV0dXJuISFlPy5iYXNlTGF5ZXJzLmNvbmNhdChlLnJlZmVyZW5jZUxheWVycykuc29tZShqKX1mdW5jdGlvbiBqKGUpe2lmKHgoZS51cmwpKXJldHVybiEwO2lmKFwidmVjdG9yLXRpbGVcIj09PWUudHlwZSlmb3IoY29uc3QgciBpbiBlLnNvdXJjZU5hbWVUb1NvdXJjZSl7Y29uc3QgdD1lLnNvdXJjZU5hbWVUb1NvdXJjZVtyXTtpZih4KHQ/LnNvdXJjZVVybCkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gVShlLHIpe2lmKG51bGw9PXJ8fG51bGw9PWUpcmV0dXJue3NwYXRpYWxSZWZlcmVuY2U6bnVsbCx1cGRhdGluZzohMX07aWYoXCJub3QtbG9hZGVkXCI9PT1yLmxvYWRTdGF0dXMpcmV0dXJuIHIubG9hZCgpLHtzcGF0aWFsUmVmZXJlbmNlOm51bGwsdXBkYXRpbmc6ITB9O2lmKHIuc3BhdGlhbFJlZmVyZW5jZSlyZXR1cm57c3BhdGlhbFJlZmVyZW5jZTpyLnNwYXRpYWxSZWZlcmVuY2UsdXBkYXRpbmc6ITF9O2lmKDA9PT1yLmJhc2VMYXllcnMubGVuZ3RoKXJldHVybntzcGF0aWFsUmVmZXJlbmNlOm51bGwsdXBkYXRpbmc6ITF9O2NvbnN0IHQ9ci5iYXNlTGF5ZXJzLmF0KDApO3N3aXRjaCh0LmxvYWRTdGF0dXMpe2Nhc2VcIm5vdC1sb2FkZWRcIjp0LmxvYWQoKTtjYXNlXCJsb2FkaW5nXCI6cmV0dXJue3NwYXRpYWxSZWZlcmVuY2U6bnVsbCx1cGRhdGluZzohMH07Y2FzZVwiZmFpbGVkXCI6cmV0dXJue3NwYXRpYWxSZWZlcmVuY2U6bnVsbCx1cGRhdGluZzohMX19Y29uc3Qgbj0oKFwic3VwcG9ydGVkU3BhdGlhbFJlZmVyZW5jZXNcImluIHQ/dC5zdXBwb3J0ZWRTcGF0aWFsUmVmZXJlbmNlczpudWxsKXx8W1widGlsZUluZm9cImluIHQ/dC50aWxlSW5mbz8uc3BhdGlhbFJlZmVyZW5jZTp0LnNwYXRpYWxSZWZlcmVuY2VdKS5maWx0ZXIoQm9vbGVhbiksYT1lLnNwYXRpYWxSZWZlcmVuY2U7cmV0dXJuIGE/e3NwYXRpYWxSZWZlcmVuY2U6bi5maW5kKChlPT5hLmVxdWFscyhlKSkpPz9uWzBdPz9udWxsLHVwZGF0aW5nOiExfTp7c3BhdGlhbFJlZmVyZW5jZTpuWzBdLHVwZGF0aW5nOiExfX1jb25zdCBxPS9eKGJhc2VtYXBzfGliYXNlbWFwcykuKi1hcGlcXC5hcmNnaXNcXC5jb20kL2k7ZnVuY3Rpb24geChlKXtpZighZSlyZXR1cm4hMTtjb25zdCByPW5ldyBsKHMoZSkpO3JldHVybiEhci5hdXRob3JpdHkmJnEudGVzdChyLmF1dGhvcml0eSl9ZnVuY3Rpb24gTShlKXtyZXR1cm4gZT8hZS5sb2FkZWQmJmUucmVzb3VyY2VJbmZvPyQoZS5yZXNvdXJjZUluZm8uZGF0YSk6e2Jhc2VMYXllcnM6ayhlLmJhc2VMYXllcnMpLHJlZmVyZW5jZUxheWVyczprKGUucmVmZXJlbmNlTGF5ZXJzKX06bnVsbH1mdW5jdGlvbiBrKGUpe3JldHVybih0LmlzQ29sbGVjdGlvbihlKT9lLnRvQXJyYXkoKTplKS5tYXAoQSl9ZnVuY3Rpb24gQShlKXtyZXR1cm57dHlwZTplLnR5cGUsZWZmZWN0OlwiZWZmZWN0XCJpbiBlP2UuZWZmZWN0OnZvaWQgMCx1cmw6RShcInVybFRlbXBsYXRlXCJpbiBlJiZlLnVybFRlbXBsYXRlfHxlLnVybHx8XCJzdHlsZVVybFwiaW4gZSYmZS5zdHlsZVVybHx8XCJcIiksbWluU2NhbGU6XCJtaW5TY2FsZVwiaW4gZSYmbnVsbCE9ZS5taW5TY2FsZT9lLm1pblNjYWxlOjAsbWF4U2NhbGU6XCJtYXhTY2FsZVwiaW4gZSYmbnVsbCE9ZS5tYXhTY2FsZT9lLm1heFNjYWxlOjAsb3BhY2l0eTpudWxsIT1lLm9wYWNpdHk/ZS5vcGFjaXR5OjEsdmlzaWJsZTpudWxsPT1lLnZpc2libGV8fCEhZS52aXNpYmxlLHN1YmxheWVyczpcIm1hcC1pbWFnZVwiIT09ZS50eXBlJiZcIndtc1wiIT09ZS50eXBlfHxudWxsPT1lLnN1YmxheWVycz92b2lkIDA6ZS5zdWJsYXllcnM/Lm1hcCgoZT0+KHtpZDplLmlkLHZpc2libGU6ZS52aXNpYmxlfSkpKSxhY3RpdmVMYXllcklkOlwid210c1wiPT09ZS50eXBlP2UuYWN0aXZlTGF5ZXI/LmlkOnZvaWQgMH19ZnVuY3Rpb24gQyhlKXtyZXR1cm4gZS5pc1JlZmVyZW5jZXx8XCJBcmNHSVNTY2VuZVNlcnZpY2VMYXllclwiPT09ZS5sYXllclR5cGV9ZnVuY3Rpb24gJChlKXtyZXR1cm4gZT97YmFzZUxheWVyczpHKChlLmJhc2VNYXBMYXllcnM/P1tdKS5maWx0ZXIoKGU9PiFDKGUpKSkpLHJlZmVyZW5jZUxheWVyczpHKChlLmJhc2VNYXBMYXllcnM/P1tdKS5maWx0ZXIoKGU9PkMoZSkpKSl9Om51bGx9ZnVuY3Rpb24gRyhlKXtyZXR1cm4gZS5tYXAoKGU9PkIoZSkpKX1mdW5jdGlvbiBCKGUpe2xldCByO3N3aXRjaChlLmxheWVyVHlwZSl7Y2FzZVwiVmVjdG9yVGlsZUxheWVyXCI6cj1cInZlY3Rvci10aWxlXCI7YnJlYWs7Y2FzZVwiQXJjR0lTVGlsZWRNYXBTZXJ2aWNlTGF5ZXJcIjpyPVwidGlsZVwiO2JyZWFrO2Nhc2VcIkFyY0dJU1NjZW5lU2VydmljZUxheWVyXCI6cj1cInNjZW5lXCI7YnJlYWs7ZGVmYXVsdDpyPVwidW5rbm93blwifXJldHVybnt0eXBlOnIsZWZmZWN0OmUuZWZmZWN0LHVybDpFKGUudGVtcGxhdGVVcmx8fGUudXJsVGVtcGxhdGV8fGUuc3R5bGVVcmx8fGUudXJsKSxtaW5TY2FsZTplLm1pblNjYWxlPz8wLG1heFNjYWxlOmUubWF4U2NhbGU/PzAsb3BhY2l0eTplLm9wYWNpdHk/PzEsdmlzaWJsZTpudWxsPT1lLnZpc2liaWxpdHl8fCEhZS52aXNpYmlsaXR5LHN1YmxheWVyczp2b2lkIDAsYWN0aXZlTGF5ZXJJZDp2b2lkIDB9fWZ1bmN0aW9uIEsoZSxyLHQpe2lmKG51bGwhPWUhPShudWxsIT1yKSlyZXR1cm5cIm5vdC1lcXVhbFwiO2lmKCFlfHwhcilyZXR1cm5cImVxdWFsXCI7aWYoIU4oZS5iYXNlTGF5ZXJzLHIuYmFzZUxheWVycykpcmV0dXJuXCJub3QtZXF1YWxcIjtyZXR1cm4gTihlLnJlZmVyZW5jZUxheWVycyxyLnJlZmVyZW5jZUxheWVycyk/XCJlcXVhbFwiOnQubXVzdE1hdGNoUmVmZXJlbmNlcz9cIm5vdC1lcXVhbFwiOlwiYmFzZS1sYXllcnMtZXF1YWxcIn1mdW5jdGlvbiBOKGUscil7aWYoZS5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylpZighRChlW3RdLHJbdF0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEQoZSxyKXtpZihlLnR5cGUhPT1yLnR5cGV8fGUudXJsIT09ci51cmx8fGUubWluU2NhbGUhPT1yLm1pblNjYWxlfHxlLm1heFNjYWxlIT09ci5tYXhTY2FsZXx8ZS52aXNpYmxlIT09ci52aXNpYmxlfHxlLm9wYWNpdHkhPT1yLm9wYWNpdHkpcmV0dXJuITE7aWYoIW8oZS5lZmZlY3Qsci5lZmZlY3QpKXJldHVybiExO2lmKG51bGwhPWUuYWN0aXZlTGF5ZXJJZHx8bnVsbCE9ci5hY3RpdmVMYXllcklkKXJldHVybiBlLmFjdGl2ZUxheWVySWQ9PT1yLmFjdGl2ZUxheWVySWQ7aWYobnVsbCE9ZS5zdWJsYXllcnN8fG51bGwhPXIuc3VibGF5ZXJzKXtpZihudWxsPT1lLnN1YmxheWVyc3x8bnVsbD09ci5zdWJsYXllcnN8fGUuc3VibGF5ZXJzLmxlbmd0aCE9PXIuc3VibGF5ZXJzLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IHQ9MDt0PGUuc3VibGF5ZXJzLmxlbmd0aDt0Kyspe2NvbnN0IG49ZS5zdWJsYXllcnMuYXQodCksYT1yLnN1YmxheWVycy5hdCh0KTtpZihuPy5pZCE9PWE/LmlkfHxuPy52aXNpYmxlIT09YT8udmlzaWJsZSlyZXR1cm4hMX19cmV0dXJuITB9ZnVuY3Rpb24gRShlKXtyZXR1cm4gZT91KGUpLnJlcGxhY2UoL15cXHMqaHR0cHM/Oi9pLFwiXCIpLnRvTG93ZXJDYXNlKCk6XCJcIn1mdW5jdGlvbiBPKGUpe2lmKCFlKXJldHVybiBudWxsO2NvbnN0e3RodW1ibmFpbFVybDpyfT1lO2lmKHIpcmV0dXJuIHI7Y29uc3QgdD1oKGUpO3JldHVybiB0P2ZbdF0udGh1bWJuYWlsVXJsOmkoZS5iYXNlTGF5ZXJzLFYpfWZ1bmN0aW9uIFYoZSl7cmV0dXJuXCJwb3J0YWxJdGVtXCJpbiBlP2UucG9ydGFsSXRlbT8udGh1bWJuYWlsVXJsOnZvaWQgMH1leHBvcnR7diBhcyBjbG9uZVByZXNlcnZpbmdUaWxlZExheWVycyxSIGFzIGNvbnRlbnRFcXVhbHMseSBhcyBjcmVhdGVDYWNoZSxtIGFzIGRlc3Ryb3lDYWNoZSxiIGFzIGVuc3VyZVR5cGUsVSBhcyBmaW5kU3BhdGlhbFJlZmVyZW5jZSxPIGFzIGdldEJhc2VtYXBUaHVtYm5haWxVcmwsaCBhcyBnZXRXZWxsS25vd25CYXNlbWFwSWQsdyBhcyBoYXNEZXZlbG9wZXJCYXNlbWFwTGF5ZXIsZCBhcyBpc0Jhc2VtYXAzRCxMIGFzIGlzQmFzZW1hcEluQmV0YSxTIGFzIGlzQmFzZW1hcExheWVyLGogYXMgaXNEZXZlbG9wZXJCYXNlbWFwTGF5ZXIsSSBhcyBvdmVycmlkZUdldFdlbGxLbm93bkJhc2VtYXBJZH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtjcmVhdGVSZXNvbHZlciBhcyBpLHRocm93SWZBYm9ydGVkIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgcix3aGVuT25jZSBhcyBuLHN5bmMgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL0ZlYXR1cmVTdG9yZS5qc1wiO2ltcG9ydHtRdWVyeUVuZ2luZSBhcyBjfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL1F1ZXJ5RW5naW5lLmpzXCI7aW1wb3J0IGggZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvVGlsZUluZm8uanNcIjtpbXBvcnQgZiBmcm9tXCIuLi8uLi8uLi8uLi8uLi9yZXN0L3N1cHBvcnQvUXVlcnkuanNcIjtpbXBvcnQgZyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9zeW1ib2xzL3N1cHBvcnQvRWxldmF0aW9uSW5mby5qc1wiO2ltcG9ydHtnZXRTbmFwcGluZ0NhbmRpZGF0ZUVsZXZhdGlvbkFsaWduZXIgYXMgbX1mcm9tXCIuLi9zbmFwcGluZ0NhbmRpZGF0ZUVsZXZhdGlvbkFsaWdubWVudC5qc1wiO2ltcG9ydHtnZXRTbmFwcGluZ0NhbmRpZGF0ZUVsZXZhdGlvbkZpbHRlciBhcyB5fWZyb21cIi4uL3NuYXBwaW5nQ2FuZGlkYXRlRWxldmF0aW9uRmlsdGVyLmpzXCI7aW1wb3J0e2dldFN5bWJvbG9neVNuYXBwaW5nQ2FuZGlkYXRlc0ZldGNoZXIgYXMgX31mcm9tXCIuLi9zeW1ib2xvZ3lTbmFwcGluZ0NhbmRpZGF0ZXMuanNcIjtpbXBvcnR7RmVhdHVyZVNlcnZpY2VUaWxlZEZldGNoZXIgYXMgU31mcm9tXCIuL0ZlYXR1cmVTZXJ2aWNlVGlsZWRGZXRjaGVyLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXJ2aWNlVGlsZVN0b3JlIGFzIEZ9ZnJvbVwiLi9GZWF0dXJlU2VydmljZVRpbGVTdG9yZS5qc1wiO2ltcG9ydHtmcm9tSlNPTiBhcyB2fWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvanNvblV0aWxzLmpzXCI7bGV0IHc9Y2xhc3MgZXh0ZW5kcyB0LkV2ZW50ZWRBY2Nlc3Nvcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5faXNJbml0aWFsaXppbmc9ITAsdGhpcy5yZW1vdGVDbGllbnQ9bnVsbCx0aGlzLl93aGVuU2V0dXA9aSgpLHRoaXMuX2VsZXZhdGlvbkFsaWduZXI9bSgpLHRoaXMuX2VsZXZhdGlvbkZpbHRlcj15KCksdGhpcy5fc3ltYm9sb2d5Q2FuZGlkYXRlc0ZldGNoZXI9XygpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcz1uZXcgZCx0aGlzLl9lZGl0c1VwZGF0aW5nSGFuZGxlcz1uZXcgZCx0aGlzLl9wZW5kaW5nQXBwbHlFZGl0cz1uZXcgTWFwLHRoaXMuX2FsaWduUG9pbnRzSW5GZWF0dXJlcz1hc3luYyhlLHQpPT57Y29uc3QgaT17cXVlcnk6ZX0scj1hd2FpdCB0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJhbGlnbkVsZXZhdGlvblwiLGkse3NpZ25hbDp0fSk7cmV0dXJuIHModCkscn0sdGhpcy5fZ2V0U3ltYm9sb2d5Q2FuZGlkYXRlcz1hc3luYyhlLHQpPT57Y29uc3QgaT17Y2FuZGlkYXRlczplLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5fc3BhdGlhbFJlZmVyZW5jZS50b0pTT04oKX0scj1hd2FpdCB0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJnZXRTeW1ib2xvZ3lDYW5kaWRhdGVzXCIsaSx7c2lnbmFsOnR9KTtyZXR1cm4gcyh0KSxyfX1nZXQgdXBkYXRpbmcoKXtyZXR1cm4gdGhpcy51cGRhdGluZ0V4Y2x1ZGluZ0VkaXRzfHx0aGlzLl9lZGl0c1VwZGF0aW5nSGFuZGxlcy51cGRhdGluZ3x8dGhpcy5fZmVhdHVyZUZldGNoZXIudXBkYXRpbmd9Z2V0IHVwZGF0aW5nRXhjbHVkaW5nRWRpdHMoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUZldGNoZXIudXBkYXRpbmdFeGNsdWRpbmdFZGl0c3x8dGhpcy5faXNJbml0aWFsaXppbmd8fHRoaXMuX3VwZGF0aW5nSGFuZGxlcy51cGRhdGluZ31kZXN0cm95KCl7dGhpcy5fZmVhdHVyZUZldGNoZXI/LmRlc3Ryb3koKSx0aGlzLl9xdWVyeUVuZ2luZT8uZGVzdHJveSgpLHRoaXMuX2ZlYXR1cmVTdG9yZT8uY2xlYXIoKX1hc3luYyBzZXR1cChlKXtpZih0aGlzLmRlc3Ryb3llZClyZXR1cm57cmVzdWx0Ont9fTtjb25zdHtnZW9tZXRyeVR5cGU6dCxvYmplY3RJZEZpZWxkOmksdGltZUluZm86cyxmaWVsZHNJbmRleDpufT1lLnNlcnZpY2VJbmZvLHtoYXNaOm99PWUsbD1wLmZyb21KU09OKGUuc3BhdGlhbFJlZmVyZW5jZSk7dGhpcy5fc3BhdGlhbFJlZmVyZW5jZT1sLHRoaXMuX2ZlYXR1cmVTdG9yZT1uZXcgdSh7Li4uZS5zZXJ2aWNlSW5mbyxoYXNaOm8saGFzTTohMX0pLHRoaXMuX3F1ZXJ5RW5naW5lPW5ldyBjKHtzcGF0aWFsUmVmZXJlbmNlOmUuc3BhdGlhbFJlZmVyZW5jZSxmZWF0dXJlU3RvcmU6dGhpcy5fZmVhdHVyZVN0b3JlLGdlb21ldHJ5VHlwZTp0LGZpZWxkc0luZGV4Om4saGFzWjpvLGhhc006ITEsb2JqZWN0SWRGaWVsZDppLHRpbWVJbmZvOnN9KSx0aGlzLl9mZWF0dXJlRmV0Y2hlcj1uZXcgUyh7c3RvcmU6bmV3IEYoe2ZlYXR1cmVTdG9yZTp0aGlzLl9mZWF0dXJlU3RvcmV9KSx1cmw6ZS5zZXJ2aWNlSW5mby51cmwsb2JqZWN0SWRGaWVsZDplLnNlcnZpY2VJbmZvLm9iamVjdElkRmllbGQsZ2xvYmFsSWRGaWVsZDplLnNlcnZpY2VJbmZvLmdsb2JhbElkRmllbGQsY2FwYWJpbGl0aWVzOmUuc2VydmljZUluZm8uY2FwYWJpbGl0aWVzLHNwYXRpYWxSZWZlcmVuY2U6bCxzb3VyY2VTcGF0aWFsUmVmZXJlbmNlOnAuZnJvbUpTT04oZS5zZXJ2aWNlSW5mby5zcGF0aWFsUmVmZXJlbmNlKX0pO2NvbnN0IGQ9XCIzZFwiPT09ZS5jb25maWd1cmF0aW9uLnZpZXdUeXBlO3JldHVybiB0aGlzLl9lbGV2YXRpb25BbGlnbmVyPW0oZCx7ZWxldmF0aW9uSW5mbzpudWxsIT1lLmVsZXZhdGlvbkluZm8/Zy5mcm9tSlNPTihlLmVsZXZhdGlvbkluZm8pOm51bGwsYWxpZ25Qb2ludHNJbkZlYXR1cmVzOnRoaXMuX2FsaWduUG9pbnRzSW5GZWF0dXJlc30pLHRoaXMuX2VsZXZhdGlvbkZpbHRlcj15KGQpLHRoaXMuYWRkSGFuZGxlcyhbcigoKCk9PnRoaXMuX2ZlYXR1cmVGZXRjaGVyLmF2YWlsYWJpbGl0eSksKGU9PnRoaXMuZW1pdChcIm5vdGlmeS1hdmFpbGFiaWxpdHlcIix7YXZhaWxhYmlsaXR5OmV9KSksYSkscigoKCk9PnRoaXMudXBkYXRpbmcpLCgoKT0+dGhpcy5fbm90aWZ5VXBkYXRpbmcoKSkpXSksdGhpcy5fd2hlblNldHVwLnJlc29sdmUoKSx0aGlzLl9pc0luaXRpYWxpemluZz0hMSx0aGlzLmNvbmZpZ3VyZShlLmNvbmZpZ3VyYXRpb24pfWFzeW5jIGNvbmZpZ3VyZShlKXtyZXR1cm4gYXdhaXQgdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fd2hlblNldHVwLnByb21pc2UpLHRoaXMuX3VwZGF0ZUZlYXR1cmVGZXRjaGVyQ29uZmlndXJhdGlvbihlKSxqfWFzeW5jIHNldFN1c3BlbmRlZChlLHQpe3JldHVybiBhd2FpdCB0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl93aGVuU2V0dXAucHJvbWlzZSkscyh0KSx0aGlzLl9mZWF0dXJlRmV0Y2hlci5zdXNwZW5kZWQ9ZSxqfWFzeW5jIHVwZGF0ZU91dEZpZWxkcyhlLHQpe3JldHVybiBhd2FpdCB0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl93aGVuU2V0dXAucHJvbWlzZSkscyh0KSx0aGlzLl9mZWF0dXJlRmV0Y2hlci5vdXRGaWVsZHM9bmV3IFNldChlPz9bXSksan1hc3luYyBmZXRjaENhbmRpZGF0ZXMoZSx0KXthd2FpdCB0aGlzLl93aGVuU2V0dXAucHJvbWlzZSxzKHQpO2NvbnN0IGk9YihlKSxyPXQ/LnNpZ25hbCxuPWF3YWl0IHRoaXMuX3F1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvclNuYXBwaW5nKGkscik7cyhyKTtjb25zdCBhPWF3YWl0IHRoaXMuX2VsZXZhdGlvbkFsaWduZXIuYWxpZ25DYW5kaWRhdGVzKG4uY2FuZGlkYXRlcyxwLmZyb21KU09OKGUucG9pbnQuc3BhdGlhbFJlZmVyZW5jZSk/P3AuV0dTODQscik7cyhyKTtjb25zdCBvPWF3YWl0IHRoaXMuX3N5bWJvbG9neUNhbmRpZGF0ZXNGZXRjaGVyLmZldGNoKGEscik7cyhyKTtjb25zdCBsPTA9PT1vLmxlbmd0aD9hOmEuY29uY2F0KG8pO3JldHVybntyZXN1bHQ6e2NhbmRpZGF0ZXM6dGhpcy5fZWxldmF0aW9uRmlsdGVyLmZpbHRlcihpLGwpfX19YXN5bmMgdXBkYXRlVGlsZXMoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fd2hlblNldHVwLnByb21pc2UpLHModCksdGhpcy5fZmVhdHVyZUZldGNoZXIudGlsZVNpemU9ZS50aWxlU2l6ZSx0aGlzLl9mZWF0dXJlRmV0Y2hlci50aWxlc09mSW50ZXJlc3Q9ZS50aWxlcyx0aGlzLl9mZWF0dXJlRmV0Y2hlci50aWxlSW5mbz1udWxsIT1lLnRpbGVJbmZvP2guZnJvbUpTT04oZS50aWxlSW5mbyk6bnVsbCxqfWFzeW5jIHJlZnJlc2goZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fd2hlblNldHVwLnByb21pc2UpLHModCksdGhpcy5fZmVhdHVyZUZldGNoZXIucmVmcmVzaCgpLGp9YXN5bmMgd2hlbk5vdFVwZGF0aW5nKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX3doZW5TZXR1cC5wcm9taXNlKSxzKHQpLGF3YWl0IG4oKCgpPT4hdGhpcy51cGRhdGluZ0V4Y2x1ZGluZ0VkaXRzKSx0KSxzKHQpLGp9YXN5bmMgZ2V0RGVidWdJbmZvKGUsdCl7cmV0dXJuIHModCkse3Jlc3VsdDp0aGlzLl9mZWF0dXJlRmV0Y2hlci5kZWJ1Z0luZm99fWFzeW5jIGJlZ2luQXBwbHlFZGl0cyhlLHQpe3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX3doZW5TZXR1cC5wcm9taXNlKSxzKHQpO2NvbnN0IHI9aSgpO3JldHVybiB0aGlzLl9wZW5kaW5nQXBwbHlFZGl0cy5zZXQoZS5pZCxyKSx0aGlzLl9mZWF0dXJlRmV0Y2hlci5hcHBseUVkaXRzKHIucHJvbWlzZSksdGhpcy5fZWRpdHNVcGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZShyLnByb21pc2UpLGp9YXN5bmMgZW5kQXBwbHlFZGl0cyhlLHQpe2NvbnN0IGk9dGhpcy5fcGVuZGluZ0FwcGx5RWRpdHMuZ2V0KGUuaWQpO3JldHVybiBpJiZpLnJlc29sdmUoZS5lZGl0cykscyh0KSxqfWFzeW5jIG5vdGlmeUVsZXZhdGlvblNvdXJjZUNoYW5nZShlLHQpe3JldHVybiB0aGlzLl9lbGV2YXRpb25BbGlnbmVyLm5vdGlmeUVsZXZhdGlvblNvdXJjZUNoYW5nZSgpLGp9YXN5bmMgbm90aWZ5U3ltYm9sb2d5Q2hhbmdlKGUsdCl7cmV0dXJuIHRoaXMuX3N5bWJvbG9neUNhbmRpZGF0ZXNGZXRjaGVyLm5vdGlmeVN5bWJvbG9neUNoYW5nZSgpLGp9YXN5bmMgc2V0U3ltYm9sb2d5U25hcHBpbmdTdXBwb3J0ZWQoZSl7cmV0dXJuIHRoaXMuX3N5bWJvbG9neUNhbmRpZGF0ZXNGZXRjaGVyPV8oZSx0aGlzLl9nZXRTeW1ib2xvZ3lDYW5kaWRhdGVzKSxqfV91cGRhdGVGZWF0dXJlRmV0Y2hlckNvbmZpZ3VyYXRpb24oZSl7dGhpcy5fZmVhdHVyZUZldGNoZXIuZmlsdGVyPW51bGwhPWUuZmlsdGVyP2YuZnJvbUpTT04oZS5maWx0ZXIpOm51bGwsdGhpcy5fZmVhdHVyZUZldGNoZXIuY3VzdG9tUGFyYW1ldGVycz1lLmN1c3RvbVBhcmFtZXRlcnN9X25vdGlmeVVwZGF0aW5nKCl7dGhpcy5lbWl0KFwibm90aWZ5LXVwZGF0aW5nXCIse3VwZGF0aW5nOnRoaXMudXBkYXRpbmd9KX19O2UoW28oe3JlYWRPbmx5OiEwfSldLHcucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxlKFtvKHtyZWFkT25seTohMH0pXSx3LnByb3RvdHlwZSxcInVwZGF0aW5nRXhjbHVkaW5nRWRpdHNcIixudWxsKSxlKFtvKCldLHcucHJvdG90eXBlLFwiX2lzSW5pdGlhbGl6aW5nXCIsdm9pZCAwKSx3PWUoW2woXCJlc3JpLnZpZXdzLmludGVyYWN0aXZlLnNuYXBwaW5nLmZlYXR1cmVTb3VyY2VzLmZlYXR1cmVTZXJ2aWNlU291cmNlLkZlYXR1cmVTZXJ2aWNlU25hcHBpbmdTb3VyY2VXb3JrZXJcIildLHcpO2NvbnN0IEk9dztmdW5jdGlvbiBiKGUpe2lmKCFlLmZpbHRlcilyZXR1cm57Li4uZSxxdWVyeTp7d2hlcmU6XCIxPTFcIn19O2NvbnN0e2Rpc3RhbmNlOnQsdW5pdHM6aSxzcGF0aWFsUmVsOnMsd2hlcmU6cix0aW1lRXh0ZW50Om4sb2JqZWN0SWRzOmF9PWUuZmlsdGVyLG89e2dlb21ldHJ5OmUuZmlsdGVyLmdlb21ldHJ5P3YoZS5maWx0ZXIuZ2VvbWV0cnkpOnZvaWQgMCxkaXN0YW5jZTp0LHVuaXRzOmksc3BhdGlhbFJlbDpzLHRpbWVFeHRlbnQ6bixvYmplY3RJZHM6YSx3aGVyZTpyPz9cIjE9MVwifTtyZXR1cm57Li4uZSxxdWVyeTpvfX1jb25zdCBqPXtyZXN1bHQ6e319O2V4cG9ydHtJIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLl9zdG9yZT1uZXcgTWFwLHRoaXMuX2J5dGVTaXplPTB9c2V0KHQsZSl7dGhpcy5kZWxldGUodCksdGhpcy5fc3RvcmUuc2V0KHQsZSksdGhpcy5fYnl0ZVNpemUrPWUuYnl0ZVNpemV9ZGVsZXRlKHQpe2NvbnN0IGU9dGhpcy5fc3RvcmUuZ2V0KHQpO3JldHVybiEhdGhpcy5fc3RvcmUuZGVsZXRlKHQpJiYobnVsbCE9ZSYmKHRoaXMuX2J5dGVTaXplLT1lLmJ5dGVTaXplKSwhMCl9Z2V0KHQpe3JldHVybiB0aGlzLl91c2VkKHQpLHRoaXMuX3N0b3JlLmdldCh0KX1oYXModCl7cmV0dXJuIHRoaXMuX3VzZWQodCksdGhpcy5fc3RvcmUuaGFzKHQpfWNsZWFyKCl7dGhpcy5fc3RvcmUuY2xlYXIoKX1hcHBseUJ5dGVTaXplTGltaXQodCxlKXtmb3IoY29uc3RbcyxyXW9mIHRoaXMuX3N0b3JlKXtpZih0aGlzLl9ieXRlU2l6ZTw9dClicmVhazt0aGlzLmRlbGV0ZShzKSxlKHIpfX12YWx1ZXMoKXtyZXR1cm4gdGhpcy5fc3RvcmUudmFsdWVzKCl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5fc3RvcmVbU3ltYm9sLml0ZXJhdG9yXSgpfV91c2VkKHQpe2NvbnN0IGU9dGhpcy5fc3RvcmUuZ2V0KHQpO2UmJih0aGlzLl9zdG9yZS5kZWxldGUodCksdGhpcy5fc3RvcmUuc2V0KHQsZSkpfX1leHBvcnR7dCBhcyBGZWF0dXJlU2VydmljZVRpbGVDYWNoZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtlc3RpbWF0ZUF0dHJpYnV0ZXNPYmplY3RTaXplIGFzIHMsZXN0aW1hdGVGaXhlZEFycmF5U2l6ZSBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYnl0ZVNpemVFc3RpbWF0aW9ucy5qc1wiO2ltcG9ydHtCeXRlU2l6ZVVuaXQgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0J5dGVTaXplVW5pdC5qc1wiO2ltcG9ydHtpbnRlcnNlY3Rpb24gYXMgbyxpc1N1YnNldE9mIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9TZXRVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBsfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBhLGludGVyc2VjdHMgYXMgYyxmcm9tRXh0ZW50IGFzIGgsYXJlYSBhcyBkfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7Z2V0Qm91bmRzT3B0aW1pemVkR2VvbWV0cnkgYXMgZn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtCb3VuZHNTdG9yZSBhcyBffWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL0JvdW5kc1N0b3JlLmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvVGlsZUluZm8uanNcIjtpbXBvcnR7VGlsZUtleSBhcyBtfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L1RpbGVLZXkuanNcIjtpbXBvcnR7ZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQgYXMgZ31mcm9tXCIuLi8uLi8uLi8uLi8uLi9yZXN0L3F1ZXJ5L29wZXJhdGlvbnMvcXVlcnkuanNcIjtpbXBvcnR7RmVhdHVyZVNlcnZpY2VUaWxlQ2FjaGUgYXMgeX1mcm9tXCIuL0ZlYXR1cmVTZXJ2aWNlVGlsZUNhY2hlLmpzXCI7bGV0IHY9Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudGlsZUluZm89bnVsbCx0aGlzLmV4dGVudD1udWxsLHRoaXMubWF4aW11bUJ5dGVTaXplPTEwKnIuTUVHQUJZVEVTLHRoaXMuX3RpbGVCb3VuZHM9bmV3IF8sdGhpcy5fdGlsZXM9bmV3IHksdGhpcy5fcmVmQ291bnRzPW5ldyBNYXAsdGhpcy5fdGlsZUZlYXR1cmVDb3VudHM9bmV3IE1hcCx0aGlzLl90bXBCb3VuZGluZ1JlY3Q9YSgpfWFkZChlLHQpe2Zvcihjb25zdCByIG9mIHQpdGhpcy5fcmVmZXJlbmNlRmVhdHVyZShyLm9iamVjdElkKTtjb25zdCBzPXRoaXMuZmVhdHVyZVN0b3JlLnVwc2VydE1hbnkodCksaT1zLm1hcCgoZT0+bmV3IFNldChPYmplY3Qua2V5cyhlLmF0dHJpYnV0ZXMpKSkpLnJlZHVjZSgoKGUsdCk9Pm8oZSx0KSksbmV3IFNldChPYmplY3Qua2V5cyhzWzBdPy5hdHRyaWJ1dGVzPz9bXSkpKTt0aGlzLl9hZGRUaWxlU3RvcmFnZShlLG5ldyBTZXQocy5tYXAoKGU9PmUub2JqZWN0SWQpKSksQyhzKSxpKSx0aGlzLl90aWxlcy5hcHBseUJ5dGVTaXplTGltaXQodGhpcy5tYXhpbXVtQnl0ZVNpemUsKGU9PnRoaXMuX3JlbW92ZVRpbGVTdG9yYWdlKGUpKSl9Z2V0QXR0cmlidXRlc0ZvclRpbGUoZSl7cmV0dXJuIGU/dGhpcy5fdGlsZXMuZ2V0KGUpPy5hdHRyaWJ1dGVLZXlzOm51bGx9ZGVzdHJveSgpe3RoaXMuY2xlYXIoKSx0aGlzLl90aWxlRmVhdHVyZUNvdW50cy5jbGVhcigpfWNsZWFyKCl7dGhpcy5mZWF0dXJlU3RvcmUuY2xlYXIoKSx0aGlzLl90aWxlQm91bmRzLmNsZWFyKCksdGhpcy5fdGlsZXMuY2xlYXIoKSx0aGlzLl9yZWZDb3VudHMuY2xlYXIoKX1yZWZyZXNoKCl7dGhpcy5jbGVhcigpLHRoaXMuX3RpbGVGZWF0dXJlQ291bnRzLmNsZWFyKCl9cHJvY2Vzc0VkaXRzKGUsdCxzKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc0VkaXRzRGVsZXRlKGUuZGVsZXRlZEZlYXR1cmVzLmNvbmNhdChlLnVwZGF0ZWRGZWF0dXJlcykpLHRoaXMuX3Byb2Nlc3NFZGl0c1JlZmV0Y2goZS5hZGRlZEZlYXR1cmVzLmNvbmNhdChlLnVwZGF0ZWRGZWF0dXJlcyksdCxzKX1fYWRkVGlsZVN0b3JhZ2UoZSx0LHMsaSl7Y29uc3Qgcj1lLmlkO3RoaXMuX3RpbGVzLnNldChyLG5ldyBFKGUsdCxzLGkpKSx0aGlzLl90aWxlQm91bmRzLnNldChyLGUuZXh0ZW50KSx0aGlzLl90aWxlRmVhdHVyZUNvdW50cy5zZXQocix0LnNpemUpfV9yZW1vdmUoe2lkOmV9KXtjb25zdCB0PXRoaXMuX3RpbGVzLmdldChlKTt0JiZ0aGlzLl9yZW1vdmVUaWxlU3RvcmFnZSh0KX1fcmVtb3ZlVGlsZVN0b3JhZ2UoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgaSBvZiBlLm9iamVjdElkcyl0aGlzLl91bnJlZmVyZW5jZUZlYXR1cmUoaSk9PT1BLlJFTU9WRUQmJnQucHVzaChpKTt0aGlzLmZlYXR1cmVTdG9yZS5yZW1vdmVNYW55QnlJZCh0KTtjb25zdCBzPWUuZGF0YS5pZDt0aGlzLl90aWxlcy5kZWxldGUocyksdGhpcy5fdGlsZUJvdW5kcy5kZWxldGUocyl9X3Byb2Nlc3NFZGl0c0RlbGV0ZShlKXt0aGlzLmZlYXR1cmVTdG9yZS5yZW1vdmVNYW55QnlJZChlKTtmb3IoY29uc3RbLHRdb2YgdGhpcy5fdGlsZXMpe2Zvcihjb25zdCBzIG9mIGUpdC5vYmplY3RJZHMuZGVsZXRlKHMpO3RoaXMuX3RpbGVGZWF0dXJlQ291bnRzLnNldCh0LmRhdGEuaWQsdC5vYmplY3RJZHMuc2l6ZSl9Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl9yZWZDb3VudHMuZGVsZXRlKHQpfWFzeW5jIF9wcm9jZXNzRWRpdHNSZWZldGNoKGUsdCxzKXtjb25zdCBpPShhd2FpdCB0KGUscykpLmZlYXR1cmVzLHtoYXNaOnIsaGFzTTpvfT10aGlzLmZlYXR1cmVTdG9yZTtmb3IoY29uc3QgbiBvZiBpKXtjb25zdCBlPWYodGhpcy5fdG1wQm91bmRpbmdSZWN0LG4uZ2VvbWV0cnkscixvKTtudWxsIT1lJiZ0aGlzLl90aWxlQm91bmRzLmZvckVhY2hJbkJvdW5kcyhlLChlPT57Y29uc3QgdD10aGlzLl90aWxlcy5nZXQoZSk7dGhpcy5mZWF0dXJlU3RvcmUuYWRkKG4pO2NvbnN0IHM9bi5vYmplY3RJZDt0Lm9iamVjdElkcy5oYXMocyl8fCh0Lm9iamVjdElkcy5hZGQocyksdGhpcy5fcmVmZXJlbmNlRmVhdHVyZShzKSx0aGlzLl90aWxlRmVhdHVyZUNvdW50cy5zZXQodC5kYXRhLmlkLHQub2JqZWN0SWRzLnNpemUpKX0pKX19cHJvY2VzcyhlLHQ9KCgpPT4hMCkscyl7aWYobnVsbD09dGhpcy50aWxlSW5mb3x8IWUuZXh0ZW50fHxudWxsIT10aGlzLmV4dGVudCYmIWMoaCh0aGlzLmV4dGVudCx0aGlzLl90bXBCb3VuZGluZ1JlY3QpLGUuZXh0ZW50KSlyZXR1cm4gbmV3IEYoZSk7Y29uc3QgaT10aGlzLmdldEF0dHJpYnV0ZXNGb3JUaWxlKGUuaWQpO2lmKG4ocyxpKSlyZXR1cm4gbmV3IEYoZSk7Y29uc3Qgcj10aGlzLl9jcmVhdGVUaWxlVHJlZShlLHRoaXMudGlsZUluZm8pO3JldHVybiB0aGlzLl9zaW1wbGlmeShyLHQsbnVsbCwwLDEpLHRoaXMuX2NvbGxlY3RNaXNzaW5nVGlsZXMoZSxyLHRoaXMudGlsZUluZm8scyl9Z2V0IGRlYnVnSW5mbygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX3RpbGVzLnZhbHVlcygpKS5tYXAoKCh7ZGF0YTplfSk9Pih7ZGF0YTplLGZlYXR1cmVDb3VudDp0aGlzLl90aWxlRmVhdHVyZUNvdW50cy5nZXQoZS5pZCl8fDB9KSkpfWdldEZlYXR1cmVDb3VudChlKXtyZXR1cm4gdGhpcy5fdGlsZUZlYXR1cmVDb3VudHMuZ2V0KGUuaWQpPz8wfWFzeW5jIGZldGNoQ291bnQoZSx0LHMsaSl7Y29uc3Qgcj10aGlzLl90aWxlRmVhdHVyZUNvdW50cy5nZXQoZS5pZCk7aWYobnVsbCE9cilyZXR1cm4gcjtjb25zdCBvPWF3YWl0IGcodCxzLGkpO3JldHVybiB0aGlzLl90aWxlRmVhdHVyZUNvdW50cy5zZXQoZS5pZCxvLmRhdGEuY291bnQpLG8uZGF0YS5jb3VudH1fY3JlYXRlVGlsZVRyZWUoZSx0KXtjb25zdCBzPW5ldyB3KGUubGV2ZWwsZS5yb3csZS5jb2wpO3JldHVybiB0LnVwZGF0ZVRpbGVJbmZvKHMscC5FeHRyYXBvbGF0ZU9wdGlvbnMuUE9XRVJfT0ZfVFdPKSx0aGlzLl90aWxlQm91bmRzLmZvckVhY2hJbkJvdW5kcyhlLmV4dGVudCwoaT0+e2NvbnN0IHI9dGhpcy5fdGlsZXMuZ2V0KGkpPy5kYXRhO3ImJnRoaXMuX3RpbGVzQXJlUmVsYXRlZChlLHIpJiZ0aGlzLl9wb3B1bGF0ZUNoaWxkcmVuKHMscix0LHRoaXMuX3RpbGVGZWF0dXJlQ291bnRzLmdldChyLmlkKXx8MCl9KSksc31fdGlsZXNBcmVSZWxhdGVkKGUsdCl7aWYoIWV8fCF0KXJldHVybiExO2lmKGUubGV2ZWw9PT10LmxldmVsKXJldHVybiBlLnJvdz09PXQucm93JiZlLmNvbD09PXQuY29sO2NvbnN0IHM9ZS5sZXZlbDx0LmxldmVsLGk9cz9lOnQscj1zP3Q6ZSxvPTE8PHIubGV2ZWwtaS5sZXZlbDtyZXR1cm4gTWF0aC5mbG9vcihyLnJvdy9vKT09PWkucm93JiZNYXRoLmZsb29yKHIuY29sL28pPT09aS5jb2x9X3BvcHVsYXRlQ2hpbGRyZW4oZSx0LHMsaSl7Y29uc3Qgcj10LmxldmVsLWUubGV2ZWwtMTtpZihyPDApcmV0dXJuIHZvaWQoZS5pc0xlYWY9ITApO2NvbnN0IG89dC5yb3c+PnIsbj10LmNvbD4+cixsPWUucm93PDwxLHU9bi0oZS5jb2w8PDEpKyhvLWw8PDEpLGE9ZS5jaGlsZHJlblt1XTtpZihudWxsIT1hKXRoaXMuX3BvcHVsYXRlQ2hpbGRyZW4oYSx0LHMsaSk7ZWxzZXtjb25zdCByPW5ldyB3KGUubGV2ZWwrMSxvLG4pO3MudXBkYXRlVGlsZUluZm8ocixwLkV4dHJhcG9sYXRlT3B0aW9ucy5QT1dFUl9PRl9UV08pLGUuY2hpbGRyZW5bdV09cix0aGlzLl9wb3B1bGF0ZUNoaWxkcmVuKHIsdCxzLGkpfX1fc2ltcGxpZnkoZSx0LHMsaSxyKXtjb25zdCBvPXIqcjtpZihlLmlzTGVhZilyZXR1cm4gdCh0aGlzLmdldEZlYXR1cmVDb3VudChlKSxyKT8wOih0aGlzLl9yZW1vdmUoZSksbnVsbCE9cyYmKHMuY2hpbGRyZW5baV09bnVsbCksbyk7Y29uc3Qgbj1yLzIsbD1uKm47bGV0IHU9MDtmb3IobGV0IGE9MDthPGUuY2hpbGRyZW4ubGVuZ3RoO2ErKyl7Y29uc3Qgcz1lLmNoaWxkcmVuW2FdO3UrPW51bGwhPXM/dGhpcy5fc2ltcGxpZnkocyx0LGUsYSxuKTpsfXJldHVybiAwPT09dT90aGlzLl9tZXJnZUNoaWxkcmVuKGUpOjEtdS9vPGImJih0aGlzLl9wdXJnZShlKSxudWxsIT1zJiYocy5jaGlsZHJlbltpXT1udWxsKSx1PW8pLHV9X21lcmdlQ2hpbGRyZW4oZSl7Y29uc3QgdD1uZXcgU2V0O2xldCBzLGk9MDt0aGlzLl9mb3JFYWNoTGVhZihlLChlPT57Y29uc3Qgcj10aGlzLl90aWxlcy5nZXQoZS5pZCk7aWYocil7cz1zP28ocyxyLmF0dHJpYnV0ZUtleXMpOm5ldyBTZXQoci5hdHRyaWJ1dGVLZXlzKSxpKz1yLmJ5dGVTaXplO2Zvcihjb25zdCBlIG9mIHIub2JqZWN0SWRzKXQuaGFzKGUpfHwodC5hZGQoZSksdGhpcy5fcmVmZXJlbmNlRmVhdHVyZShlKSk7dGhpcy5fcmVtb3ZlKGUpfX0pKSx0aGlzLl9hZGRUaWxlU3RvcmFnZShlLHQsaSxzPz9uZXcgU2V0KSxlLmlzTGVhZj0hMCxlLmNoaWxkcmVuWzBdPWUuY2hpbGRyZW5bMV09ZS5jaGlsZHJlblsyXT1lLmNoaWxkcmVuWzNdPW51bGwsdGhpcy5fdGlsZUZlYXR1cmVDb3VudHMuc2V0KGUuaWQsdC5zaXplKX1fZm9yRWFjaExlYWYoZSx0KXtmb3IoY29uc3QgcyBvZiBlLmNoaWxkcmVuKW51bGwhPXMmJihzLmlzTGVhZj90KHMpOnRoaXMuX2ZvckVhY2hMZWFmKHMsdCkpfV9wdXJnZShlKXtpZihudWxsIT1lKWlmKGUuaXNMZWFmKXRoaXMuX3JlbW92ZShlKTtlbHNlIGZvcihsZXQgdD0wO3Q8ZS5jaGlsZHJlbi5sZW5ndGg7dCsrKXtjb25zdCBzPWUuY2hpbGRyZW5bdF07dGhpcy5fcHVyZ2UocyksZS5jaGlsZHJlblt0XT1udWxsfX1fY29sbGVjdE1pc3NpbmdUaWxlcyhlLHQscyxpKXtjb25zdCByPW5ldyBqKHMsZSx0aGlzLmV4dGVudCk7cmV0dXJuIHRoaXMuX2NvbGxlY3RNaXNzaW5nVGlsZXNSZWN1cnNlKHQsciwxLGkpLHIuaW5mb31fY29sbGVjdE1pc3NpbmdUaWxlc1JlY3Vyc2UoZSx0LHMsaSl7Y29uc3Qgcj10aGlzLmdldEF0dHJpYnV0ZXNGb3JUaWxlKGUuaWQpLG89ciYmIW4oaSxyKTtpZihvJiZ0LmFkZE1pc3NpbmcoZS5sZXZlbCxlLnJvdyxlLmNvbCxzKSxlLmlzTGVhZilyZXR1cm47aWYoIWUuaGFzQ2hpbGRyZW4pcmV0dXJuIHZvaWQob3x8dC5hZGRNaXNzaW5nKGUubGV2ZWwsZS5yb3csZS5jb2wscykpO2NvbnN0IGw9cy8yO2ZvcihsZXQgbj0wO248ZS5jaGlsZHJlbi5sZW5ndGg7bisrKXtjb25zdCBzPWUuY2hpbGRyZW5bbl07bnVsbD09cz90LmFkZE1pc3NpbmcoZS5sZXZlbCsxLChlLnJvdzw8MSkrKCgyJm4pPj4xKSwoZS5jb2w8PDEpKygxJm4pLGwpOnRoaXMuX2NvbGxlY3RNaXNzaW5nVGlsZXNSZWN1cnNlKHMsdCxsLGkpfX1fcmVmZXJlbmNlRmVhdHVyZShlKXtjb25zdCB0PSh0aGlzLl9yZWZDb3VudHMuZ2V0KGUpfHwwKSsxO3JldHVybiB0aGlzLl9yZWZDb3VudHMuc2V0KGUsdCksMT09PXQ/QS5BRERFRDpBLlVOQ0hBTkdFRH1fdW5yZWZlcmVuY2VGZWF0dXJlKGUpe2NvbnN0IHQ9KHRoaXMuX3JlZkNvdW50cy5nZXQoZSl8fDApLTE7cmV0dXJuIDA9PT10Pyh0aGlzLl9yZWZDb3VudHMuZGVsZXRlKGUpLEEuUkVNT1ZFRCk6KHQ+MCYmdGhpcy5fcmVmQ291bnRzLnNldChlLHQpLEEuVU5DSEFOR0VEKX1nZXQgdGVzdCgpe3JldHVybnt0aWxlczpBcnJheS5mcm9tKHRoaXMuX3RpbGVzLnZhbHVlcygpKS5tYXAoKGU9PmAke2UuZGF0YS5pZH06WyR7QXJyYXkuZnJvbShlLm9iamVjdElkcyl9XWApKSxmZWF0dXJlUmVmZXJlbmNlczpBcnJheS5mcm9tKHRoaXMuX3JlZkNvdW50cy5rZXlzKCkpLm1hcCgoZT0+YCR7ZX06JHt0aGlzLl9yZWZDb3VudHMuZ2V0KGUpfWApKX19fTtmdW5jdGlvbiBDKGUpe3JldHVybiBlLnJlZHVjZSgoKGUsdCk9PmUrUyh0KSksMCl9ZnVuY3Rpb24gUyhlKXtyZXR1cm4gMzIrVChlLmdlb21ldHJ5KStzKGUuYXR0cmlidXRlcyl9ZnVuY3Rpb24gVChlKXtpZihudWxsPT1lKXJldHVybiAwO2NvbnN0IHQ9aShlLmxlbmd0aHMsNCk7cmV0dXJuIDMyK2koZS5jb29yZHMsOCkrdH1lKFtsKHtjb25zdHJ1Y3RPbmx5OiEwfSldLHYucHJvdG90eXBlLFwiZmVhdHVyZVN0b3JlXCIsdm9pZCAwKSxlKFtsKCldLHYucHJvdG90eXBlLFwidGlsZUluZm9cIix2b2lkIDApLGUoW2woKV0sdi5wcm90b3R5cGUsXCJleHRlbnRcIix2b2lkIDApLGUoW2woKV0sdi5wcm90b3R5cGUsXCJtYXhpbXVtQnl0ZVNpemVcIix2b2lkIDApLHY9ZShbdShcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuc25hcHBpbmcuZmVhdHVyZVNvdXJjZXMuZmVhdHVyZVNlcnZpY2VTb3VyY2UuRmVhdHVyZVNlcnZpY2VUaWxlU3RvcmVcIildLHYpO2NsYXNzIEV7Y29uc3RydWN0b3IoZSx0LHMsaSl7dGhpcy5kYXRhPWUsdGhpcy5vYmplY3RJZHM9dCx0aGlzLmJ5dGVTaXplPXMsdGhpcy5hdHRyaWJ1dGVLZXlzPWl9fWNsYXNzIHd7Y29uc3RydWN0b3IoZSx0LHMpe3RoaXMubGV2ZWw9ZSx0aGlzLnJvdz10LHRoaXMuY29sPXMsdGhpcy5pc0xlYWY9ITEsdGhpcy5leHRlbnQ9bnVsbCx0aGlzLmNoaWxkcmVuPVtudWxsLG51bGwsbnVsbCxudWxsXX1nZXQgaGFzQ2hpbGRyZW4oKXtyZXR1cm4hdGhpcy5pc0xlYWYmJihudWxsIT10aGlzLmNoaWxkcmVuWzBdfHxudWxsIT10aGlzLmNoaWxkcmVuWzFdfHxudWxsIT10aGlzLmNoaWxkcmVuWzJdfHxudWxsIT10aGlzLmNoaWxkcmVuWzNdKX19Y2xhc3MgRntjb25zdHJ1Y3RvcihlLHQ9W10pe3RoaXMubWlzc2luZ1RpbGVzPXQsdGhpcy5mdWxsQXJlYT0wLHRoaXMuY292ZXJlZEFyZWE9MCx0aGlzLmZ1bGxBcmVhPWQoZS5leHRlbnQpLHRoaXMuY292ZXJlZEFyZWE9dGhpcy5mdWxsQXJlYX1wcmVwZW5kKGUpe3RoaXMubWlzc2luZ1RpbGVzPWUubWlzc2luZ1RpbGVzLmNvbmNhdCh0aGlzLm1pc3NpbmdUaWxlcyksdGhpcy5jb3ZlcmVkQXJlYSs9ZS5jb3ZlcmVkQXJlYSx0aGlzLmZ1bGxBcmVhKz1lLmZ1bGxBcmVhfX1jbGFzcyBqe2NvbnN0cnVjdG9yKGUsdCxzKXt0aGlzLl90aWxlSW5mbz1lLHRoaXMuX2V4dGVudD1udWxsLHRoaXMuaW5mbz1uZXcgRih0KSxudWxsIT1zJiYodGhpcy5fZXh0ZW50PWgocykpfWFkZE1pc3NpbmcoZSx0LHMsaSl7Y29uc3Qgcj1uZXcgbShudWxsLGUsdCxzKTt0aGlzLl90aWxlSW5mby51cGRhdGVUaWxlSW5mbyhyLHAuRXh0cmFwb2xhdGVPcHRpb25zLlBPV0VSX09GX1RXTyksbnVsbD09ci5leHRlbnR8fG51bGwhPXRoaXMuX2V4dGVudCYmIWModGhpcy5fZXh0ZW50LHIuZXh0ZW50KXx8KHRoaXMuaW5mby5taXNzaW5nVGlsZXMucHVzaCh7ZGF0YTpyLHJlc29sdXRpb246aX0pLHRoaXMuaW5mby5jb3ZlcmVkQXJlYS09ZChyLmV4dGVudCkpfX1jb25zdCBiPS4xODc1MTt2YXIgQTshZnVuY3Rpb24oZSl7ZVtlLkFEREVEPTBdPVwiQURERURcIixlW2UuUkVNT1ZFRD0xXT1cIlJFTU9WRURcIixlW2UuVU5DSEFOR0VEPTJdPVwiVU5DSEFOR0VEXCJ9KEF8fChBPXt9KSk7ZXhwb3J0e3YgYXMgRmVhdHVyZVNlcnZpY2VUaWxlU3RvcmUsRiBhcyBQcm9jZXNzUmVzdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e2VxdWFscyBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtBc3luY1NlcXVlbmNlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9Bc3luY1NlcXVlbmNlLmpzXCI7aW1wb3J0e2NyZWF0ZVRhc2sgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FzeW5jVXRpbHMuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRFcnJvciBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3N5bmMgYXMgbCx3aGVuIGFzIHV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3VuaW9uIGFzIGQsZXF1YWxzIGFzIGMsaXNTdWJzZXRPZiBhcyBoLGRpZmZlcmVuY2UgYXMgcH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL1NldFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyBnfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnQgXyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnR7dG9FeHRlbnQgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e3VucXVhbnRpemVPcHRpbWl6ZWRGZWF0dXJlU2V0IGFzIEYsY29udmVydEZyb21GZWF0dXJlU2V0IGFzIGJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7aXNIb3N0ZWRBZ29sU2VydmljZSBhcyBUfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2FyY2dpc0xheWVyVXJsLmpzXCI7aW1wb3J0e09wdGltaXplZEZlYXR1cmVTZXRQYXJzZXJDb250ZXh0IGFzIFB9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vcmVzdC9xdWVyeS9vcGVyYXRpb25zL3BiZk9wdGltaXplZEZlYXR1cmVTZXQuanNcIjtpbXBvcnR7ZXhlY3V0ZVF1ZXJ5Rm9yRXh0ZW50IGFzIEksZXhlY3V0ZVF1ZXJ5UEJGIGFzIHYsZXhlY3V0ZVF1ZXJ5IGFzIE99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vcmVzdC9xdWVyeS9vcGVyYXRpb25zL3F1ZXJ5LmpzXCI7aW1wb3J0IFMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e1N0YXRlVHlwZSBhcyBDLFBlbmRpbmdGZWF0dXJlVGlsZSBhcyBFfWZyb21cIi4vUGVuZGluZ0ZlYXR1cmVUaWxlLmpzXCI7bGV0IGo9Y2xhc3MgZXh0ZW5kcyB0e2dldCBfbWluaW11bVZlcnRpY2VzUGVyRmVhdHVyZSgpe3N3aXRjaCh0aGlzLnN0b3JlPy5mZWF0dXJlU3RvcmUuZ2VvbWV0cnlUeXBlKXtjYXNlXCJlc3JpR2VvbWV0cnlQb2ludFwiOmNhc2VcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIjpyZXR1cm4gMTtjYXNlXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCI6cmV0dXJuIDQ7Y2FzZVwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIjpyZXR1cm4gMn19Z2V0IF9tYW5kYXRvcnlPdXRGaWVsZHMoKXtjb25zdCBlPW5ldyBTZXQ7cmV0dXJuIHRoaXMub2JqZWN0SWRGaWVsZCYmZS5hZGQodGhpcy5vYmplY3RJZEZpZWxkKSx0aGlzLmdsb2JhbElkRmllbGQmJmUuYWRkKHRoaXMuZ2xvYmFsSWRGaWVsZCksZX1zZXQgb3V0RmllbGRzKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0KFwib3V0RmllbGRzXCIpLGk9ZChlLHRoaXMuX21hbmRhdG9yeU91dEZpZWxkcyk7YyhpLHQpfHwodGhpcy5fc2V0KFwib3V0RmllbGRzXCIsaSksaChpLHQpfHx0aGlzLnJlZnJlc2goKSl9Z2V0IG91dEZpZWxkcygpe3JldHVybiB0aGlzLl9nZXQoXCJvdXRGaWVsZHNcIik/P3RoaXMuX21hbmRhdG9yeU91dEZpZWxkc31zZXQgZmlsdGVyKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0KFwiZmlsdGVyXCIpLGk9dGhpcy5fZmlsdGVyUHJvcGVydGllcyhlKTtKU09OLnN0cmluZ2lmeSh0KSE9PUpTT04uc3RyaW5naWZ5KGkpJiZ0aGlzLl9zZXQoXCJmaWx0ZXJcIixpKX1zZXQgY3VzdG9tUGFyYW1ldGVycyhlKXtjb25zdCB0PXRoaXMuX2dldChcImN1c3RvbVBhcmFtZXRlcnNcIik7SlNPTi5zdHJpbmdpZnkodCkhPT1KU09OLnN0cmluZ2lmeShlKSYmdGhpcy5fc2V0KFwiY3VzdG9tUGFyYW1ldGVyc1wiLGUpfWdldCBfY29uZmlndXJhdGlvbigpe3JldHVybntmaWx0ZXI6dGhpcy5maWx0ZXIsY3VzdG9tUGFyYW1ldGVyczp0aGlzLmN1c3RvbVBhcmFtZXRlcnMsdGlsZUluZm86dGhpcy50aWxlSW5mbyx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplfX1zZXQgdGlsZUluZm8oZSl7Y29uc3QgdD10aGlzLl9nZXQoXCJ0aWxlSW5mb1wiKTt0IT09ZSYmKG51bGwhPWUmJm51bGwhPXQmJkpTT04uc3RyaW5naWZ5KGUpPT09SlNPTi5zdHJpbmdpZnkodCl8fCh0aGlzLl9zZXQoXCJ0aWxlSW5mb1wiLGUpLHRoaXMuc3RvcmUudGlsZUluZm89ZSkpfXNldCB0aWxlU2l6ZShlKXt0aGlzLl9nZXQoXCJ0aWxlU2l6ZVwiKSE9PWUmJnRoaXMuX3NldChcInRpbGVTaXplXCIsZSl9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMudXBkYXRpbmdFeGNsdWRpbmdFZGl0c3x8dGhpcy5fcGVuZGluZ0VkaXRzLnVwZGF0aW5nfWdldCB1cGRhdGluZ0V4Y2x1ZGluZ0VkaXRzKCl7cmV0dXJuIHRoaXMuX3VwZGF0aW5nSGFuZGxlcy51cGRhdGluZ31nZXQgaGFzWigpe3JldHVybiB0aGlzLnN0b3JlLmZlYXR1cmVTdG9yZS5oYXNafWNvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuc3VzcGVuZGVkPSEwLHRoaXMudGlsZXNPZkludGVyZXN0PVtdLHRoaXMuYXZhaWxhYmlsaXR5PTAsdGhpcy5fcGVuZGluZ1RpbGVzPW5ldyBNYXAsdGhpcy5fdXBkYXRpbmdIYW5kbGVzPW5ldyBnLHRoaXMuX3BlbmRpbmdFZGl0cz1uZXcgcyx0aGlzLl9wZW5kaW5nRWRpdHNBYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcn1pbml0aWFsaXplKCl7dGhpcy5faW5pdGlhbGl6ZUZldGNoRXh0ZW50KCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuX2NvbmZpZ3VyYXRpb24pLCgoKT0+dGhpcy5yZWZyZXNoKCkpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy50aWxlc09mSW50ZXJlc3QpLCgoZSx0KT0+e2koZSx0LCgoe2lkOmV9LHtpZDp0fSk9PmU9PT10KSl8fHRoaXMuX3Byb2Nlc3MoKX0pLGwpLHRoaXMuYWRkSGFuZGxlcyh1KCgoKT0+IXRoaXMuc3VzcGVuZGVkKSwoKCk9PnRoaXMuX3Byb2Nlc3MoKSkpKX1kZXN0cm95KCl7dGhpcy5fcGVuZGluZ1RpbGVzLmZvckVhY2goKGU9PnRoaXMuX2RlbGV0ZVBlbmRpbmdUaWxlKGUpKSksdGhpcy5fcGVuZGluZ1RpbGVzLmNsZWFyKCksdGhpcy5zdG9yZS5kZXN0cm95KCksdGhpcy50aWxlc09mSW50ZXJlc3QubGVuZ3RoPTAsdGhpcy5fcGVuZGluZ0VkaXRzQWJvcnRDb250cm9sbGVyLmFib3J0KCksdGhpcy5fcGVuZGluZ0VkaXRzQWJvcnRDb250cm9sbGVyPW51bGwsdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmRlc3Ryb3koKX1yZWZyZXNoKCl7dGhpcy5zdG9yZS5yZWZyZXNoKCksdGhpcy5fcGVuZGluZ1RpbGVzLmZvckVhY2goKGU9PnRoaXMuX2RlbGV0ZVBlbmRpbmdUaWxlKGUpKSksdGhpcy5fcHJvY2VzcygpfWFwcGx5RWRpdHMoZSl7dGhpcy5fcGVuZGluZ0VkaXRzLnB1c2goZSwoYXN5bmMgZT0+e2lmKDA9PT1lLmFkZGVkRmVhdHVyZXMubGVuZ3RoJiYwPT09ZS51cGRhdGVkRmVhdHVyZXMubGVuZ3RoJiYwPT09ZS5kZWxldGVkRmVhdHVyZXMubGVuZ3RoKXJldHVybjtmb3IoY29uc3RbLGldb2YgdGhpcy5fcGVuZGluZ1RpbGVzKWkucmVzZXQoKTtjb25zdCB0PXsuLi5lLGRlbGV0ZWRGZWF0dXJlczplLmRlbGV0ZWRGZWF0dXJlcy5tYXAoKCh7b2JqZWN0SWQ6ZSxnbG9iYWxJZDp0fSk9PmUmJi0xIT09ZT9lOnRoaXMuX2xvb2t1cE9iamVjdElkQnlHbG9iYWxJZCh0KSkpfTthd2FpdCB0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLnN0b3JlLnByb2Nlc3NFZGl0cyh0LCgoZSx0KT0+dGhpcy5fcXVlcnlGZWF0dXJlc0J5SWQoZSx0KSksdGhpcy5fcGVuZGluZ0VkaXRzQWJvcnRDb250cm9sbGVyLnNpZ25hbCkpLHRoaXMuX3Byb2Nlc3NQZW5kaW5nVGlsZXMoKX0pKX1faW5pdGlhbGl6ZUZldGNoRXh0ZW50KCl7aWYoIXRoaXMuY2FwYWJpbGl0aWVzLnF1ZXJ5LnN1cHBvcnRzRXh0ZW50fHwhVCh0aGlzLnVybCkpcmV0dXJuO2NvbnN0IGU9cigoYXN5bmMgZT0+e3RyeXtjb25zdCB0PWF3YWl0IEkodGhpcy51cmwsbmV3IFMoe3doZXJlOlwiMT0xXCIsb3V0U3BhdGlhbFJlZmVyZW5jZTp0aGlzLnNwYXRpYWxSZWZlcmVuY2UsY2FjaGVIaW50OnRoaXMuY2FwYWJpbGl0aWVzLnF1ZXJ5LnN1cHBvcnRzQ2FjaGVIaW50Pz92b2lkIDB9KSx7cXVlcnk6dGhpcy5fY29uZmlndXJhdGlvbi5jdXN0b21QYXJhbWV0ZXJzLHNpZ25hbDplfSk7dGhpcy5zdG9yZS5leHRlbnQ9Xy5mcm9tSlNPTih0LmRhdGE/LmV4dGVudCl9Y2F0Y2godCl7YSh0KSxuLmdldExvZ2dlcih0aGlzKS53YXJuKFwiRmFpbGVkIHRvIGZldGNoIGRhdGEgZXh0ZW50XCIsdCl9fSkpO3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKGUucHJvbWlzZS50aGVuKCgoKT0+dGhpcy5fcHJvY2VzcygpKSkpLHRoaXMuYWRkSGFuZGxlcyhvKCgoKT0+ZS5hYm9ydCgpKSkpfWdldCBkZWJ1Z0luZm8oKXtyZXR1cm57bnVtYmVyT2ZGZWF0dXJlczp0aGlzLnN0b3JlLmZlYXR1cmVTdG9yZS5udW1GZWF0dXJlcyx0aWxlc09mSW50ZXJlc3Q6dGhpcy50aWxlc09mSW50ZXJlc3QscGVuZGluZ1RpbGVzOkFycmF5LmZyb20odGhpcy5fcGVuZGluZ1RpbGVzLnZhbHVlcygpKS5tYXAoKGU9PmUuZGVidWdJbmZvKSksc3RvcmVkVGlsZXM6dGhpcy5zdG9yZS5kZWJ1Z0luZm99fV9wcm9jZXNzKCl7dGhpcy5fbWFya1RpbGVzTm90QWxpdmUoKSx0aGlzLl9jcmVhdGVQZW5kaW5nVGlsZXMoKSx0aGlzLl9kZWxldGVQZW5kaW5nVGlsZXMoKSx0aGlzLl9wcm9jZXNzUGVuZGluZ1RpbGVzKCl9X21hcmtUaWxlc05vdEFsaXZlKCl7Zm9yKGNvbnN0WyxlXW9mIHRoaXMuX3BlbmRpbmdUaWxlcyllLmFsaXZlPSExfV9jcmVhdGVQZW5kaW5nVGlsZXMoKXtpZih0aGlzLnN1c3BlbmRlZClyZXR1cm47Y29uc3QgZT10aGlzLl9jb2xsZWN0TWlzc2luZ1RpbGVzSW5mbygpO2lmKHRoaXMuX3NldEF2YWlsYWJpbGl0eShudWxsPT1lPzE6ZS5jb3ZlcmVkQXJlYS9lLmZ1bGxBcmVhKSxudWxsIT1lKWZvcihjb25zdHtkYXRhOnQscmVzb2x1dGlvbjppfW9mIGUubWlzc2luZ1RpbGVzKXtjb25zdCBlPXRoaXMuX3BlbmRpbmdUaWxlcy5nZXQodC5pZCk7ZT8oZS5yZXNvbHV0aW9uPWksZS5hbGl2ZT0hMCk6dGhpcy5fY3JlYXRlUGVuZGluZ1RpbGUodCxpKX19X2NvbGxlY3RNaXNzaW5nVGlsZXNJbmZvKCl7bGV0IGU9bnVsbDtmb3IobGV0IHQ9dGhpcy50aWxlc09mSW50ZXJlc3QubGVuZ3RoLTE7dD49MDt0LS0pe2NvbnN0IGk9dGhpcy50aWxlc09mSW50ZXJlc3RbdF0scz10aGlzLnN0b3JlLnByb2Nlc3MoaSwoKGUsdCk9PnRoaXMuX3ZlcmlmeVRpbGVDb21wbGV4aXR5KGUsdCkpLHRoaXMub3V0RmllbGRzKTtudWxsPT1lP2U9czplLnByZXBlbmQocyl9cmV0dXJuIGV9X2RlbGV0ZVBlbmRpbmdUaWxlcygpe2Zvcihjb25zdFssZV1vZiB0aGlzLl9wZW5kaW5nVGlsZXMpZS5hbGl2ZXx8dGhpcy5fZGVsZXRlUGVuZGluZ1RpbGUoZSl9X3Byb2Nlc3NQZW5kaW5nVGlsZXMoKXtjb25zdCBlPXtmZXRjaENvdW50OihlLHQpPT50aGlzLl9mZXRjaENvdW50KGUsdCksZmV0Y2hGZWF0dXJlczooZSx0LGkpPT50aGlzLl9mZXRjaEZlYXR1cmVzKGUsdCxpKSxmaW5pc2g6KGUsdCk9PnRoaXMuX2ZpbmlzaFBlbmRpbmdUaWxlKGUsdCkscmVzdW1lOigpPT50aGlzLl9wcm9jZXNzUGVuZGluZ1RpbGVzKCl9O2lmKHRoaXMuX2Vuc3VyZUZldGNoQWxsQ291bnRzKGUpKWZvcihjb25zdFssdF1vZiB0aGlzLl9wZW5kaW5nVGlsZXMpdGhpcy5fdmVyaWZ5VGlsZUNvbXBsZXhpdHkodGhpcy5zdG9yZS5nZXRGZWF0dXJlQ291bnQodC5kYXRhKSx0LnJlc29sdXRpb24pJiZ0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0LnByb2Nlc3MoZSkpfV92ZXJpZnlUaWxlQ29tcGxleGl0eShlLHQpe3JldHVybiB0aGlzLl92ZXJpZnlWZXJ0ZXhDb21wbGV4aXR5KGUpJiZ0aGlzLl92ZXJpZnlGZWF0dXJlRGVuc2l0eShlLHQpfV92ZXJpZnlWZXJ0ZXhDb21wbGV4aXR5KGUpe3JldHVybiBlKnRoaXMuX21pbmltdW1WZXJ0aWNlc1BlckZlYXR1cmU8cX1fdmVyaWZ5RmVhdHVyZURlbnNpdHkoZSx0KXtpZihudWxsPT10aGlzLnRpbGVJbmZvKXJldHVybiExO2NvbnN0IGk9dGhpcy50aWxlU2l6ZSp0O3JldHVybiBlKihBLyhpKmkpKTxIfV9lbnN1cmVGZXRjaEFsbENvdW50cyhlKXtsZXQgdD0hMDtmb3IoY29uc3RbLGldb2YgdGhpcy5fcGVuZGluZ1RpbGVzKWkuc3RhdGUudHlwZTxDLkZFVENIRURfQ09VTlQmJnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKGkucHJvY2VzcyhlKSksaS5zdGF0ZS50eXBlPD1DLkZFVENIX0NPVU5UJiYodD0hMSk7cmV0dXJuIHR9X2ZpbmlzaFBlbmRpbmdUaWxlKGUsdCl7dGhpcy5zdG9yZS5hZGQoZS5kYXRhLHQpLHRoaXMuX2RlbGV0ZVBlbmRpbmdUaWxlKGUpLHRoaXMuX3VwZGF0ZUF2YWlsYWJpbGl0eSgpfV91cGRhdGVBdmFpbGFiaWxpdHkoKXtjb25zdCBlPXRoaXMuX2NvbGxlY3RNaXNzaW5nVGlsZXNJbmZvKCk7dGhpcy5fc2V0QXZhaWxhYmlsaXR5KG51bGw9PWU/MTplLmNvdmVyZWRBcmVhL2UuZnVsbEFyZWEpfV9zZXRBdmFpbGFiaWxpdHkoZSl7dGhpcy5fc2V0KFwiYXZhaWxhYmlsaXR5XCIsZSl9X2NyZWF0ZVBlbmRpbmdUaWxlKGUsdCl7Y29uc3QgaT1uZXcgRShlLHQpO3JldHVybiB0aGlzLl9wZW5kaW5nVGlsZXMuc2V0KGUuaWQsaSksaX1fZGVsZXRlUGVuZGluZ1RpbGUoZSl7ZS5yZXNldCgpLHRoaXMuX3BlbmRpbmdUaWxlcy5kZWxldGUoZS5kYXRhLmlkKX1hc3luYyBfZmV0Y2hDb3VudChlLHQpe3JldHVybiB0aGlzLnN0b3JlLmZldGNoQ291bnQoZS5kYXRhLHRoaXMudXJsLHRoaXMuX2NyZWF0ZUNvdW50UXVlcnkoZSkse3F1ZXJ5OnRoaXMuY3VzdG9tUGFyYW1ldGVycyx0aW1lb3V0Oncsc2lnbmFsOnR9KX1hc3luYyBfZmV0Y2hGZWF0dXJlcyhlLHQsaSl7bGV0IHM9MDtjb25zdCByPVtdO2xldCBvPTAsbj10O2Zvcig7Oyl7Y29uc3QgYT10aGlzLl9jcmVhdGVGZWF0dXJlc1F1ZXJ5KGUpLGw9dGhpcy5fc2V0UGFnaW5nUGFyYW1ldGVycyhhLHMsbikse2ZlYXR1cmVzOnUsZXhjZWVkZWRUcmFuc2ZlckxpbWl0OmR9PWF3YWl0IHRoaXMuX3F1ZXJ5RmVhdHVyZXMoYSxpKTtsJiYocys9YS5udW0pLG8rPXUubGVuZ3RoO2Zvcihjb25zdCBlIG9mIHUpci5wdXNoKGUpO2lmKG49dC1vLCFsfHwhZHx8bjw9MClyZXR1cm4gcn19X2ZpbHRlclByb3BlcnRpZXMoZSl7cmV0dXJuIG51bGw9PWU/e3doZXJlOlwiMT0xXCIsZ2RiVmVyc2lvbjp2b2lkIDAsdGltZUV4dGVudDp2b2lkIDB9Ont3aGVyZTplLndoZXJlfHxcIjE9MVwiLHRpbWVFeHRlbnQ6ZS50aW1lRXh0ZW50LGdkYlZlcnNpb246ZS5nZGJWZXJzaW9ufX1fbG9va3VwT2JqZWN0SWRCeUdsb2JhbElkKGUpe2NvbnN0IHQ9dGhpcy5nbG9iYWxJZEZpZWxkLGk9dGhpcy5vYmplY3RJZEZpZWxkO2lmKG51bGw9PXQpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgZ2xvYmFsSWRGaWVsZCB0byBiZSBkZWZpbmVkXCIpO2xldCBzPW51bGw7aWYodGhpcy5zdG9yZS5mZWF0dXJlU3RvcmUuZm9yRWFjaCgocj0+e2U9PT1yLmF0dHJpYnV0ZXNbdF0mJihzPXIub2JqZWN0SWQ/P3IuYXR0cmlidXRlc1tpXSl9KSksbnVsbD09cyl0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIHRvIGZpbmQgYSBmZWF0dXJlIHdpdGggZ2xvYmFsSWQgJHtlfWApO3JldHVybiBzfV9xdWVyeUZlYXR1cmVzQnlJZChlLHQpe2NvbnN0IGk9dGhpcy5fY3JlYXRlRmVhdHVyZXNRdWVyeSgpO3JldHVybiBpLm9iamVjdElkcz1lLHRoaXMuX3F1ZXJ5RmVhdHVyZXMoaSx0KX1fcXVlcnlGZWF0dXJlcyhlLHQpe3JldHVybiB0aGlzLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c0Zvcm1hdFBCRj90aGlzLl9xdWVyeUZlYXR1cmVzUEJGKGUsdCk6dGhpcy5fcXVlcnlGZWF0dXJlc0pTT04oZSx0KX1hc3luYyBfcXVlcnlGZWF0dXJlc1BCRihlLHQpe2NvbnN0e3NvdXJjZVNwYXRpYWxSZWZlcmVuY2U6aX09dGhpcyx7ZGF0YTpzfT1hd2FpdCB2KHRoaXMudXJsLGUsbmV3IFAoe3NvdXJjZVNwYXRpYWxSZWZlcmVuY2U6aX0pLHtxdWVyeTp0aGlzLl9jb25maWd1cmF0aW9uLmN1c3RvbVBhcmFtZXRlcnMsdGltZW91dDp3LHNpZ25hbDp0fSk7cmV0dXJuIEYocyl9YXN5bmMgX3F1ZXJ5RmVhdHVyZXNKU09OKGUsdCl7Y29uc3R7c291cmNlU3BhdGlhbFJlZmVyZW5jZTppfT10aGlzLHtkYXRhOnN9PWF3YWl0IE8odGhpcy51cmwsZSxpLHtxdWVyeTp0aGlzLl9jb25maWd1cmF0aW9uLmN1c3RvbVBhcmFtZXRlcnMsdGltZW91dDp3LHNpZ25hbDp0fSk7cmV0dXJuIGIocyx0aGlzLm9iamVjdElkRmllbGQpfV9jcmVhdGVDb3VudFF1ZXJ5KGUpe2NvbnN0IHQ9dGhpcy5fY3JlYXRlQmFzZVF1ZXJ5KGUpO3JldHVybiB0aGlzLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c0NhY2hlSGludCYmKHQuY2FjaGVIaW50PSEwKSx0fV9jcmVhdGVGZWF0dXJlc1F1ZXJ5KGU9bnVsbCl7Y29uc3QgdD10aGlzLl9jcmVhdGVCYXNlUXVlcnkoZSksaT1udWxsIT1lPy5kYXRhP3RoaXMuc3RvcmUuZ2V0QXR0cmlidXRlc0ZvclRpbGUoZT8uZGF0YT8uaWQpOm51bGwscz1kKHAodGhpcy5vdXRGaWVsZHMsaT8/bmV3IFNldCksdGhpcy5fbWFuZGF0b3J5T3V0RmllbGRzKTtyZXR1cm4gdC5vdXRGaWVsZHM9QXJyYXkuZnJvbShzKSx0LnJldHVybkdlb21ldHJ5PSEwLG51bGwhPWUmJih0aGlzLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c1Jlc3VsdFR5cGU/dC5yZXN1bHRUeXBlPVwidGlsZVwiOnRoaXMuY2FwYWJpbGl0aWVzLnF1ZXJ5LnN1cHBvcnRzQ2FjaGVIaW50JiYodC5jYWNoZUhpbnQ9ITApKSx0fV9jcmVhdGVCYXNlUXVlcnkoZSl7Y29uc3QgdD1uZXcgUyh7cmV0dXJuWjp0aGlzLmhhc1oscmV0dXJuTTohMSxnZW9tZXRyeTpudWxsIT10aGlzLnRpbGVJbmZvJiZudWxsIT1lP20oZS5kYXRhLmV4dGVudCx0aGlzLnRpbGVJbmZvLnNwYXRpYWxSZWZlcmVuY2UpOnZvaWQgMH0pLGk9dGhpcy5fY29uZmlndXJhdGlvbi5maWx0ZXI7cmV0dXJuIG51bGwhPWkmJih0LndoZXJlPWkud2hlcmUsdC5nZGJWZXJzaW9uPWkuZ2RiVmVyc2lvbix0LnRpbWVFeHRlbnQ9aS50aW1lRXh0ZW50KSx0Lm91dFNwYXRpYWxSZWZlcmVuY2U9dGhpcy5zcGF0aWFsUmVmZXJlbmNlLHR9X3NldFBhZ2luZ1BhcmFtZXRlcnMoZSx0LGkpe2lmKCF0aGlzLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c1BhZ2luYXRpb24pcmV0dXJuITE7Y29uc3R7c3VwcG9ydHNNYXhSZWNvcmRDb3VudEZhY3RvcjpzLHN1cHBvcnRzQ2FjaGVIaW50OnIsdGlsZU1heFJlY29yZENvdW50Om8sbWF4UmVjb3JkQ291bnQ6bixzdXBwb3J0c1Jlc3VsdFR5cGU6YX09dGhpcy5jYXBhYmlsaXRpZXMucXVlcnksbD1zP1MuTUFYX01BWF9SRUNPUkRfQ09VTlRfRkFDVE9SOjEsdT1sKigoYXx8cikmJm8/bzpufHx4KTtyZXR1cm4gZS5zdGFydD10LHM/KGUubWF4UmVjb3JkQ291bnRGYWN0b3I9TWF0aC5taW4obCxNYXRoLmNlaWwoaS91KSksZS5udW09TWF0aC5taW4oaSxlLm1heFJlY29yZENvdW50RmFjdG9yKnUpKTplLm51bT1NYXRoLm1pbihpLHUpLCEwfX07ZShbZih7Y29uc3RydWN0T25seTohMH0pXSxqLnByb3RvdHlwZSxcInVybFwiLHZvaWQgMCksZShbZih7Y29uc3RydWN0T25seTohMH0pXSxqLnByb3RvdHlwZSxcIm9iamVjdElkRmllbGRcIix2b2lkIDApLGUoW2Yoe2NvbnN0cnVjdE9ubHk6ITB9KV0sai5wcm90b3R5cGUsXCJnbG9iYWxJZEZpZWxkXCIsdm9pZCAwKSxlKFtmKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGoucHJvdG90eXBlLFwiY2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxlKFtmKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGoucHJvdG90eXBlLFwic291cmNlU3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksZShbZih7Y29uc3RydWN0T25seTohMH0pXSxqLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLGUoW2Yoe2NvbnN0cnVjdE9ubHk6ITB9KV0sai5wcm90b3R5cGUsXCJzdG9yZVwiLHZvaWQgMCksZShbZih7cmVhZE9ubHk6ITB9KV0sai5wcm90b3R5cGUsXCJfbWluaW11bVZlcnRpY2VzUGVyRmVhdHVyZVwiLG51bGwpLGUoW2YoKV0sai5wcm90b3R5cGUsXCJfbWFuZGF0b3J5T3V0RmllbGRzXCIsbnVsbCksZShbZigpXSxqLnByb3RvdHlwZSxcIm91dEZpZWxkc1wiLG51bGwpLGUoW2YoKV0sai5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIix2b2lkIDApLGUoW2YoKV0sai5wcm90b3R5cGUsXCJmaWx0ZXJcIixudWxsKSxlKFtmKCldLGoucHJvdG90eXBlLFwiY3VzdG9tUGFyYW1ldGVyc1wiLG51bGwpLGUoW2Yoe3JlYWRPbmx5OiEwfSldLGoucHJvdG90eXBlLFwiX2NvbmZpZ3VyYXRpb25cIixudWxsKSxlKFtmKCldLGoucHJvdG90eXBlLFwidGlsZUluZm9cIixudWxsKSxlKFtmKCldLGoucHJvdG90eXBlLFwidGlsZVNpemVcIixudWxsKSxlKFtmKCldLGoucHJvdG90eXBlLFwidGlsZXNPZkludGVyZXN0XCIsdm9pZCAwKSxlKFtmKHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbZih7cmVhZE9ubHk6ITB9KV0sai5wcm90b3R5cGUsXCJ1cGRhdGluZ0V4Y2x1ZGluZ0VkaXRzXCIsbnVsbCksZShbZih7cmVhZE9ubHk6ITB9KV0sai5wcm90b3R5cGUsXCJhdmFpbGFiaWxpdHlcIix2b2lkIDApLGUoW2YoKV0sai5wcm90b3R5cGUsXCJoYXNaXCIsbnVsbCksaj1lKFt5KFwiZXNyaS52aWV3cy5pbnRlcmFjdGl2ZS5zbmFwcGluZy5mZWF0dXJlU291cmNlcy5mZWF0dXJlU2VydmljZVNvdXJjZS5GZWF0dXJlU2VydmljZVRpbGVkRmV0Y2hlclwiKV0saik7Y29uc3QgeD0yZTMsdz02ZTUscT0xZTYsQT0yNSxIPTE7ZXhwb3J0e2ogYXMgRmVhdHVyZVNlcnZpY2VUaWxlZEZldGNoZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjcmVhdGVUYXNrIGFzIHQscmVzdWx0T3JBYm9ydCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYXN5bmNVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgcyxmcm9tRXh0ZW50IGFzIGEsaW50ZXJzZWN0cyBhcyBFfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtjbGFzcyBye2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5kYXRhPXQsdGhpcy5yZXNvbHV0aW9uPWUsdGhpcy5zdGF0ZT17dHlwZTp1LkNSRUFURUR9LHRoaXMuYWxpdmU9ITB9cHJvY2Vzcyh0KXtzd2l0Y2godGhpcy5zdGF0ZS50eXBlKXtjYXNlIHUuQ1JFQVRFRDpyZXR1cm4gdGhpcy5zdGF0ZT10aGlzLl9nb3RvRmV0Y2hDb3VudCh0aGlzLnN0YXRlLHQpLHRoaXMuc3RhdGUudGFzay5wcm9taXNlLnRoZW4odC5yZXN1bWUsdC5yZXN1bWUpO2Nhc2UgdS5GRVRDSF9DT1VOVDpicmVhaztjYXNlIHUuRkVUQ0hFRF9DT1VOVDpyZXR1cm4gdGhpcy5zdGF0ZT10aGlzLl9nb3RvRmV0Y2hGZWF0dXJlcyh0aGlzLnN0YXRlLHQpLHRoaXMuc3RhdGUudGFzay5wcm9taXNlLnRoZW4odC5yZXN1bWUsdC5yZXN1bWUpO2Nhc2UgdS5GRVRDSF9GRUFUVVJFUzpicmVhaztjYXNlIHUuRkVUQ0hFRF9GRUFUVVJFUzp0aGlzLnN0YXRlPXRoaXMuX2dvVG9Eb25lKHRoaXMuc3RhdGUsdCk7Y2FzZSB1LkRPTkU6fXJldHVybiBudWxsfWdldCBkZWJ1Z0luZm8oKXtyZXR1cm57ZGF0YTp0aGlzLmRhdGEsZmVhdHVyZUNvdW50OnRoaXMuX2ZlYXR1cmVDb3VudCxzdGF0ZTp0aGlzLl9zdGF0ZVRvU3RyaW5nfX1nZXQgX2ZlYXR1cmVDb3VudCgpe3N3aXRjaCh0aGlzLnN0YXRlLnR5cGUpe2Nhc2UgdS5DUkVBVEVEOmNhc2UgdS5GRVRDSF9DT1VOVDpyZXR1cm4gMDtjYXNlIHUuRkVUQ0hFRF9DT1VOVDpyZXR1cm4gdGhpcy5zdGF0ZS5mZWF0dXJlQ291bnQ7Y2FzZSB1LkZFVENIX0ZFQVRVUkVTOnJldHVybiB0aGlzLnN0YXRlLnByZXZpb3VzLmZlYXR1cmVDb3VudDtjYXNlIHUuRkVUQ0hFRF9GRUFUVVJFUzpyZXR1cm4gdGhpcy5zdGF0ZS5mZWF0dXJlcy5sZW5ndGg7Y2FzZSB1LkRPTkU6cmV0dXJuIHRoaXMuc3RhdGUucHJldmlvdXMuZmVhdHVyZXMubGVuZ3RofX1nZXQgX3N0YXRlVG9TdHJpbmcoKXtzd2l0Y2godGhpcy5zdGF0ZS50eXBlKXtjYXNlIHUuQ1JFQVRFRDpyZXR1cm5cImNyZWF0ZWRcIjtjYXNlIHUuRkVUQ0hfQ09VTlQ6cmV0dXJuXCJmZXRjaC1jb3VudFwiO2Nhc2UgdS5GRVRDSEVEX0NPVU5UOnJldHVyblwiZmV0Y2hlZC1jb3VudFwiO2Nhc2UgdS5GRVRDSF9GRUFUVVJFUzpyZXR1cm5cImZldGNoLWZlYXR1cmVzXCI7Y2FzZSB1LkZFVENIRURfRkVBVFVSRVM6cmV0dXJuXCJmZXRjaGVkLWZlYXR1cmVzXCI7Y2FzZSB1LkRPTkU6cmV0dXJuXCJkb25lXCJ9fV9nb3RvRmV0Y2hDb3VudChzLGEpe3JldHVybnt0eXBlOnUuRkVUQ0hfQ09VTlQscHJldmlvdXM6cyx0YXNrOnQoKGFzeW5jIHQ9Pntjb25zdCBzPWF3YWl0IGUoYS5mZXRjaENvdW50KHRoaXMsdCkpO3RoaXMuc3RhdGUudHlwZT09PXUuRkVUQ0hfQ09VTlQmJih0aGlzLnN0YXRlPXRoaXMuX2dvdG9GZXRjaGVkQ291bnQodGhpcy5zdGF0ZSxzLm9rP3MudmFsdWU6MS8wKSl9KSl9fV9nb3RvRmV0Y2hlZENvdW50KHQsZSl7cmV0dXJue3R5cGU6dS5GRVRDSEVEX0NPVU5ULGZlYXR1cmVDb3VudDplLHByZXZpb3VzOnR9fV9nb3RvRmV0Y2hGZWF0dXJlcyhzLGEpe3JldHVybnt0eXBlOnUuRkVUQ0hfRkVBVFVSRVMscHJldmlvdXM6cyx0YXNrOnQoKGFzeW5jIHQ9Pntjb25zdCBFPWF3YWl0IGUoYS5mZXRjaEZlYXR1cmVzKHRoaXMscy5mZWF0dXJlQ291bnQsdCkpO3RoaXMuc3RhdGUudHlwZT09PXUuRkVUQ0hfRkVBVFVSRVMmJih0aGlzLnN0YXRlPXRoaXMuX2dvdG9GZXRjaGVkRmVhdHVyZXModGhpcy5zdGF0ZSxFLm9rP0UudmFsdWU6W10pKX0pKX19X2dvdG9GZXRjaGVkRmVhdHVyZXModCxlKXtyZXR1cm57dHlwZTp1LkZFVENIRURfRkVBVFVSRVMscHJldmlvdXM6dCxmZWF0dXJlczplfX1fZ29Ub0RvbmUodCxlKXtyZXR1cm4gZS5maW5pc2godGhpcyx0LmZlYXR1cmVzKSx7dHlwZTp1LkRPTkUscHJldmlvdXM6dH19cmVzZXQoKXtjb25zdCB0PXRoaXMuc3RhdGU7c3dpdGNoKHRoaXMuc3RhdGU9e3R5cGU6dS5DUkVBVEVEfSx0LnR5cGUpe2Nhc2UgdS5DUkVBVEVEOmNhc2UgdS5GRVRDSEVEX0NPVU5UOmNhc2UgdS5GRVRDSEVEX0ZFQVRVUkVTOmNhc2UgdS5ET05FOmJyZWFrO2Nhc2UgdS5GRVRDSF9DT1VOVDpjYXNlIHUuRkVUQ0hfRkVBVFVSRVM6dC50YXNrLmFib3J0KCl9fWludGVyc2VjdHModCl7cmV0dXJuIG51bGw9PXR8fCF0aGlzLmRhdGEuZXh0ZW50fHwoYSh0LFQpLEUodGhpcy5kYXRhLmV4dGVudCxUKSl9fXZhciB1OyFmdW5jdGlvbih0KXt0W3QuQ1JFQVRFRD0wXT1cIkNSRUFURURcIix0W3QuRkVUQ0hfQ09VTlQ9MV09XCJGRVRDSF9DT1VOVFwiLHRbdC5GRVRDSEVEX0NPVU5UPTJdPVwiRkVUQ0hFRF9DT1VOVFwiLHRbdC5GRVRDSF9GRUFUVVJFUz0zXT1cIkZFVENIX0ZFQVRVUkVTXCIsdFt0LkZFVENIRURfRkVBVFVSRVM9NF09XCJGRVRDSEVEX0ZFQVRVUkVTXCIsdFt0LkRPTkU9NV09XCJET05FXCJ9KHV8fCh1PXt9KSk7Y29uc3QgVD1zKCk7ZXhwb3J0e3IgYXMgUGVuZGluZ0ZlYXR1cmVUaWxlLHUgYXMgU3RhdGVUeXBlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e0xSVUNhY2hlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9MUlVDYWNoZS5qc1wiO2ltcG9ydHtnZXRPckNyZWF0ZU1hcFZhbHVlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9NYXBVdGlscy5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2dldE1ldGVyc1BlclZlcnRpY2FsVW5pdEZvclNSIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS91bml0VXRpbHMuanNcIjtpbXBvcnR7Z2V0TWV0ZXJzUGVyVW5pdCBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC91bml0Q29udmVyc2lvblV0aWxzLmpzXCI7ZnVuY3Rpb24gaShlPSExLHQpe2lmKGUpe2NvbnN0e2VsZXZhdGlvbkluZm86ZSxhbGlnblBvaW50c0luRmVhdHVyZXM6c309dDtyZXR1cm4gbmV3IGMoZSxzKX1yZXR1cm4gbmV3IGF9Y2xhc3MgYXthc3luYyBhbGlnbkNhbmRpZGF0ZXMoZSx0LHMpe3JldHVybiBlfW5vdGlmeUVsZXZhdGlvblNvdXJjZUNoYW5nZSgpe319Y29uc3Qgcj0xMDI0O2NsYXNzIGN7Y29uc3RydWN0b3IodCxzKXt0aGlzLl9lbGV2YXRpb25JbmZvPXQsdGhpcy5fYWxpZ25Qb2ludHNJbkZlYXR1cmVzPXMsdGhpcy5fYWxpZ25tZW50c0NhY2hlPW5ldyBlKHIpLHRoaXMuX2NhY2hlVmVyc2lvbj0wfWFzeW5jIGFsaWduQ2FuZGlkYXRlcyhlLHQscyl7Y29uc3Qgbj10aGlzLl9lbGV2YXRpb25JbmZvO3JldHVybiBudWxsPT1ufHxcImFic29sdXRlLWhlaWdodFwiIT09bi5tb2RlfHxuLmZlYXR1cmVFeHByZXNzaW9uSW5mbz90aGlzLl9hbGlnbkNvbXB1dGVkRWxldmF0aW9uQ2FuZGlkYXRlcyhlLHQscyk6KHRoaXMuX2FsaWduQWJzb2x1dGVFbGV2YXRpb25DYW5kaWRhdGVzKGUsdCxuKSxlKX1ub3RpZnlFbGV2YXRpb25Tb3VyY2VDaGFuZ2UoKXt0aGlzLl9hbGlnbm1lbnRzQ2FjaGUuY2xlYXIoKSx0aGlzLl9jYWNoZVZlcnNpb24rK31fYWxpZ25BYnNvbHV0ZUVsZXZhdGlvbkNhbmRpZGF0ZXMoZSx0LHMpe2NvbnN0e29mZnNldDppLHVuaXQ6YX09cztpZihudWxsPT1pKXJldHVybjtjb25zdCByPW4odCksYz1pKihvKGE/P1wibWV0ZXJzXCIpL3IpO2Zvcihjb25zdCBuIG9mIGUpc3dpdGNoKG4udHlwZSl7Y2FzZVwiZWRnZVwiOm4uc3RhcnQueis9YyxuLmVuZC56Kz1jO2NvbnRpbnVlO2Nhc2VcInZlcnRleFwiOm4udGFyZ2V0LnorPWM7Y29udGludWV9fWFzeW5jIF9hbGlnbkNvbXB1dGVkRWxldmF0aW9uQ2FuZGlkYXRlcyhlLG4sbyl7Y29uc3QgaT1uZXcgTWFwO2Zvcihjb25zdCBzIG9mIGUpdChpLHMub2JqZWN0SWQsZCkucHVzaChzKTtjb25zdFthLHIsY109dGhpcy5fcHJlcGFyZVF1ZXJ5KGksbiksbD1hd2FpdCB0aGlzLl9hbGlnblBvaW50c0luRmVhdHVyZXMoYSxvKTtzKG8pO2lmKGMhPT10aGlzLl9jYWNoZVZlcnNpb24pcmV0dXJuIHRoaXMuX2FsaWduQ29tcHV0ZWRFbGV2YXRpb25DYW5kaWRhdGVzKGUsbixvKTt0aGlzLl9hcHBseUNhY2hlQW5kUmVzcG9uc2UoYSxsLHIpO2NvbnN0e2RyYXBlZE9iamVjdElkczpoLGZhaWxlZE9iamVjdElkczp1fT1sLHA9W107Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3R7b2JqZWN0SWQ6ZX09dDtoLmhhcyhlKSYmXCJlZGdlXCI9PT10LnR5cGUmJih0LmRyYXBlZD0hMCksdS5oYXMoZSl8fHAucHVzaCh0KX1yZXR1cm4gcH1fcHJlcGFyZVF1ZXJ5KGUsdCl7Y29uc3Qgcz1bXSxuPVtdO2Zvcihjb25zdFtvLGldb2YgZSl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBvZiBpKXRoaXMuX2FkZFRvUXVlcmllc09yQ2FjaGVkUmVzdWx0KG8sdC50YXJnZXQsZSxuKSxcImVkZ2VcIj09PXQudHlwZSYmKHRoaXMuX2FkZFRvUXVlcmllc09yQ2FjaGVkUmVzdWx0KG8sdC5zdGFydCxlLG4pLHRoaXMuX2FkZFRvUXVlcmllc09yQ2FjaGVkUmVzdWx0KG8sdC5lbmQsZSxuKSk7MCE9PWUubGVuZ3RoJiZzLnB1c2goe29iamVjdElkOm8scG9pbnRzOmV9KX1yZXR1cm5be3NwYXRpYWxSZWZlcmVuY2U6dC50b0pTT04oKSxwb2ludHNJbkZlYXR1cmVzOnN9LG4sdGhpcy5fY2FjaGVWZXJzaW9uXX1fYWRkVG9RdWVyaWVzT3JDYWNoZWRSZXN1bHQoZSx0LHMsbil7Y29uc3Qgbz1oKGUsdCksaT10aGlzLl9hbGlnbm1lbnRzQ2FjaGUuZ2V0KG8pO251bGw9PWk/cy5wdXNoKHQpOm4ucHVzaChuZXcgbCh0LGkpKX1fYXBwbHlDYWNoZUFuZFJlc3BvbnNlKGUse2VsZXZhdGlvbnM6dCxkcmFwZWRPYmplY3RJZHM6cyxmYWlsZWRPYmplY3RJZHM6bn0sbyl7Zm9yKGNvbnN0IHIgb2YgbylyLmFwcGx5KCk7bGV0IGk9MDtjb25zdCBhPXRoaXMuX2FsaWdubWVudHNDYWNoZTtmb3IoY29uc3R7b2JqZWN0SWQ6cixwb2ludHM6Y31vZiBlLnBvaW50c0luRmVhdHVyZXMpe2lmKG4uaGFzKHIpKXtpKz1jLmxlbmd0aDtjb250aW51ZX1jb25zdCBlPSFzLmhhcyhyKTtmb3IoY29uc3QgcyBvZiBjKXtjb25zdCBuPWgocixzKSxvPXRbaSsrXTtzLno9byxlJiZhLnB1dChuLG8sMSl9fX19Y2xhc3MgbHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucG9pbnQ9ZSx0aGlzLno9dH1hcHBseSgpe3RoaXMucG9pbnQuej10aGlzLnp9fWZ1bmN0aW9uIGgoZSx7eDp0LHk6cyx6Om4sc3BhdGlhbFJlZmVyZW5jZTpvfSl7cmV0dXJuYCR7ZX0tJHt0fS0ke3N9LSR7bj8/MH19LXdraWQ6JHtvPy53a2lkfWB9ZnVuY3Rpb24gZCgpe3JldHVybltdfWV4cG9ydHtpIGFzIGdldFNuYXBwaW5nQ2FuZGlkYXRlRWxldmF0aW9uQWxpZ25lcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2NsYXNzIHR7ZmlsdGVyKHQsbil7cmV0dXJuIG59bm90aWZ5RWxldmF0aW9uU291cmNlQ2hhbmdlKCl7fX1jbGFzcyBue2ZpbHRlcih0LG4pe2NvbnN0e3BvaW50OnIsZGlzdGFuY2U6Y309dCx7ejppfT1yO2lmKCEobnVsbCE9aSkpcmV0dXJuIG47aWYoMD09PW4ubGVuZ3RoKXJldHVybiBuO2NvbnN0IG89cyhjKSx1PXRoaXMuX3VwZGF0ZUNhbmRpZGF0ZXNUbzNEKG4scixvKS5maWx0ZXIoZSk7cmV0dXJuIHUuc29ydChhKSx1fV91cGRhdGVDYW5kaWRhdGVzVG8zRCh0LG4sZSl7Zm9yKGNvbnN0IHIgb2YgdClzd2l0Y2goci50eXBlKXtjYXNlXCJlZGdlXCI6YyhyLG4sZSk7Y29udGludWU7Y2FzZVwidmVydGV4XCI6byhyLG4sZSk7Y29udGludWV9cmV0dXJuIHR9fWZ1bmN0aW9uIGUodCl7cmV0dXJuIHQuZGlzdGFuY2U8PTF9ZnVuY3Rpb24gcihlPSExKXtyZXR1cm4gZT9uZXcgbjpuZXcgdH1mdW5jdGlvbiBjKHQsbix7eDplLHk6cix6OmN9KXtjb25zdHtzdGFydDpvLGVuZDpzLHRhcmdldDphfT10O3QuZHJhcGVkfHxpKGEsbixvLHMpO2NvbnN0IHU9KG4ueC1hLngpL2UsZD0obi55LWEueSkvcixmPShuLnotYS56KS9jO3QuZGlzdGFuY2U9TWF0aC5zcXJ0KHUqdStkKmQrZipmKX1mdW5jdGlvbiBpKHQsbixlLHIpe2NvbnN0IGM9ci54LWUueCxpPXIueS1lLnksbz1yLnotZS56LHM9YypjK2kqaStvKm8sYT0obi54LWUueCkqYysobi55LWUueSkqaStvKihuLnotZS56KSx1PU1hdGgubWluKDEsTWF0aC5tYXgoMCxhL3MpKSxkPWUueCtjKnUsZj1lLnkraSp1LHg9ZS56K28qdTt0Lng9ZCx0Lnk9Zix0Lno9eH1mdW5jdGlvbiBvKHQsbix7eDplLHk6cix6OmN9KXtjb25zdHt0YXJnZXQ6aX09dCxvPShuLngtaS54KS9lLHM9KG4ueS1pLnkpL3IsYT0obi56LWkueikvYyx1PU1hdGguc3FydChvKm8rcypzK2EqYSk7dC5kaXN0YW5jZT11fWZ1bmN0aW9uIHModCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/e3g6dCx5OnQsejp0fTp0fWZ1bmN0aW9uIGEodCxuKXtyZXR1cm4gdC5kaXN0YW5jZS1uLmRpc3RhbmNlfWV4cG9ydHtyIGFzIGdldFNuYXBwaW5nQ2FuZGlkYXRlRWxldmF0aW9uRmlsdGVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2Nsb25lIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e0xSVUNhY2hlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9MUlVDYWNoZS5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e251bWVyaWNIYXNoIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9zdHJpbmcuanNcIjtmdW5jdGlvbiBuKHQ9ITEsZSl7cmV0dXJuIHQ/bmV3IGkoZSk6bmV3IGN9Y2xhc3MgY3thc3luYyBmZXRjaCgpe3JldHVybltdfW5vdGlmeVN5bWJvbG9neUNoYW5nZSgpe319Y29uc3Qgcj0xMDI0O2NsYXNzIGl7Y29uc3RydWN0b3IodCl7dGhpcy5fZ2V0U3ltYm9sb2d5Q2FuZGlkYXRlcz10LHRoaXMuX2NhbmRpZGF0ZXNDYWNoZT1uZXcgZShyKSx0aGlzLl9jYWNoZVZlcnNpb249MH1hc3luYyBmZXRjaChlLG8pe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5bXTtjb25zdCBuPVtdLGM9W10scj10aGlzLl9jYW5kaWRhdGVzQ2FjaGU7Zm9yKGNvbnN0IHMgb2YgZSl7Y29uc3QgZT1hKHMpLG89ci5nZXQoZSk7aWYobylmb3IoY29uc3QgcyBvZiBvKWMucHVzaCh0KHMpKTtlbHNlIG4ucHVzaChzKSxyLnB1dChlLFtdLDEpfWlmKDA9PT1uLmxlbmd0aClyZXR1cm4gYztjb25zdCBpPXRoaXMuX2NhY2hlVmVyc2lvbix7Y2FuZGlkYXRlczpoLHNvdXJjZUNhbmRpZGF0ZUluZGljZXM6ZH09YXdhaXQgdGhpcy5fZ2V0U3ltYm9sb2d5Q2FuZGlkYXRlcyhuLG8pO3Mobyk7aWYoaSE9PXRoaXMuX2NhY2hlVmVyc2lvbilyZXR1cm4gdGhpcy5mZXRjaChlLG8pO2NvbnN0IGY9W10se2xlbmd0aDpnfT1oO2ZvcihsZXQgcz0wO3M8ZzsrK3Mpe2NvbnN0IGU9aFtzXSxvPWEobltkW3NdXSksYz1yLmdldChvKTtjLnB1c2goZSksci5wdXQobyxjLGMubGVuZ3RoKSxmLnB1c2godChlKSl9cmV0dXJuIGMuY29uY2F0KGYpfW5vdGlmeVN5bWJvbG9neUNoYW5nZSgpe3RoaXMuX2NhbmRpZGF0ZXNDYWNoZS5jbGVhcigpLHRoaXMuX2NhY2hlVmVyc2lvbisrfX1mdW5jdGlvbiBhKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcInZlcnRleFwiOntjb25zdHtvYmplY3RJZDplLHRhcmdldDpzfT10LG49YCR7ZX0tdmVydGV4LSR7cy54fS0ke3MueX0tJHtzLno/PzB9YDtyZXR1cm4gbyhuKS50b1N0cmluZygpfWNhc2VcImVkZ2VcIjp7Y29uc3R7b2JqZWN0SWQ6ZSxzdGFydDpzLGVuZDpufT10LGM9YCR7ZX0tZWRnZS0ke3MueH0tJHtzLnl9LSR7cy56Pz8wfS10by0ke24ueH0tJHtuLnl9LSR7bi56Pz8wfWA7cmV0dXJuIG8oYykudG9TdHJpbmcoKX1kZWZhdWx0OnJldHVyblwiXCJ9fWV4cG9ydHtuIGFzIGdldFN5bWJvbG9neVNuYXBwaW5nQ2FuZGlkYXRlc0ZldGNoZXJ9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9