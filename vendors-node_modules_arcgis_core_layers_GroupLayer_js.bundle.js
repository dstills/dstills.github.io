"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_layers_GroupLayer_js"],{

/***/ "./node_modules/@arcgis/core/core/CollectionFlattener.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/CollectionFlattener.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _accessorSupport_watch_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./accessorSupport/watch.js */ "./node_modules/@arcgis/core/core/accessorSupport/watch.js");
/* harmony import */ var _accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./accessorSupport/trackingUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js");
/* harmony import */ var _accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let i=class extends _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles((0,_accessorSupport_trackingUtils_js__WEBPACK_IMPORTED_MODULE_6__.autorun)((()=>this._refresh())))}destroy(){this.getCollections=null}_refresh(){const t=null!=this.getCollections?this.getCollections():null;if(null==t)return void this.removeAll();let o=0;for(const s of t)null!=s&&(o=this._processCollection(o,s));this.splice(o,this.length)}_createNewInstance(t){return new _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"](t)}_processCollection(t,o){if(!o)return t;const s=this.itemFilterFunction??(t=>!!t);for(const e of o)if(e){if(s(e)){const o=this.indexOf(e,t);o>=0?o!==t&&this.reorder(e,t):this.add(e,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(e);if(Array.isArray(o))for(const s of o)t=this._processCollection(t,s);else t=this._processCollection(t,o)}}return t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],i.prototype,"getCollections",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],i.prototype,"getChildrenFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],i.prototype,"itemFilterFunction",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.core.CollectionFlattener")],i);const l=i;


/***/ }),

/***/ "./node_modules/@arcgis/core/core/loadAll.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/core/loadAll.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadAll: () => (/* binding */ t),
/* harmony export */   loadAllChildren: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _Loadable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Loadable.js */ "./node_modules/@arcgis/core/core/Loadable.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function t(o,l){return await o.load(),a(o,l)}async function a(t,a){const s=[],c=(...o)=>{for(const l of o)null!=l&&(Array.isArray(l)?c(...l):_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"].isCollection(l)?l.forEach((o=>c(o))):_Loadable_js__WEBPACK_IMPORTED_MODULE_2__["default"].isLoadable(l)&&s.push(l))};a(c);let f=null;if(await (0,_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.map)(s,(async o=>{const n=await (0,_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.result)(i(o)?o.loadAll():o.load());!1!==n.ok||f||(f=n)})),f)throw f.error;return t}function i(o){return"loadAll"in o&&"function"==typeof o.loadAll}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/uuid.js":
/*!************************************************!*\
  !*** ./node_modules/@arcgis/core/core/uuid.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   generateBracedUUID: () => (/* binding */ r),
/* harmony export */   generateLowercaseBracedUUID: () => (/* binding */ o),
/* harmony export */   generateUUID: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const t="randomUUID"in crypto;function n(){if(t)return crypto.randomUUID();const n=crypto.getRandomValues(new Uint16Array(8));n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;const r=t=>n[t].toString(16).padStart(4,"0");return r(0)+r(1)+"-"+r(2)+"-"+r(3)+"-"+r(4)+"-"+r(5)+r(6)+r(7)}function r(){return`{${n().toUpperCase()}}`}function o(){return`{${n()}}`}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/GroupLayer.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/GroupLayer.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/CollectionFlattener.js */ "./node_modules/@arcgis/core/core/CollectionFlattener.js");
/* harmony import */ var _core_loadAll_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/loadAll.js */ "./node_modules/@arcgis/core/core/loadAll.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/accessorSupport/utils.js */ "./node_modules/@arcgis/core/core/accessorSupport/utils.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../core/accessorSupport/PropertyOrigin.js */ "./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ "./node_modules/@arcgis/core/layers/mixins/BlendLayer.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ "./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js");
/* harmony import */ var _support_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./support/lazyLayerLoader.js */ "./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js");
/* harmony import */ var _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../portal/PortalItem.js */ "./node_modules/@arcgis/core/portal/PortalItem.js");
/* harmony import */ var _support_collectionUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../support/collectionUtils.js */ "./node_modules/@arcgis/core/support/collectionUtils.js");
/* harmony import */ var _support_LayersMixin_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../support/LayersMixin.js */ "./node_modules/@arcgis/core/support/LayersMixin.js");
/* harmony import */ var _support_TablesMixin_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../support/TablesMixin.js */ "./node_modules/@arcgis/core/support/TablesMixin.js");
/* harmony import */ var _support_tagSymbols_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../support/tagSymbols.js */ "./node_modules/@arcgis/core/support/tagSymbols.js");
/* harmony import */ var _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../webdoc/interfaces.js */ "./node_modules/@arcgis/core/webdoc/interfaces.js");
/* harmony import */ var _webdoc_support_saveUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../webdoc/support/saveUtils.js */ "./node_modules/@arcgis/core/webdoc/support/saveUtils.js");
/* harmony import */ var _webdoc_support_writeUtils_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../webdoc/support/writeUtils.js */ "./node_modules/@arcgis/core/webdoc/support/writeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let V=class extends((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_17__.BlendLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_20__.ScaleRangeLayer)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_18__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_19__.PortalLayer)((0,_support_TablesMixin_js__WEBPACK_IMPORTED_MODULE_25__.TablesMixin)((0,_support_LayersMixin_js__WEBPACK_IMPORTED_MODULE_24__.LayersMixin)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_4__.MultiOriginJSONMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_16__["default"])))))))){constructor(e){super(e),this.allLayers=new _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_1__["default"]({getCollections:()=>[this.layers],getChildrenFunction:e=>"layers"in e?e.layers:null}),this.allTables=(0,_support_collectionUtils_js__WEBPACK_IMPORTED_MODULE_23__.createFlattenedTablesCollection)(this),this.fullExtent=void 0,this.operationalLayerType="GroupLayer",this.spatialReference=void 0,this.type="group",this._debouncedSaveOperations=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.debounce)((async(e,r,t)=>{const{save:i,saveAs:s}=await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_layers_save_groupLayerUtils_js").then(__webpack_require__.bind(__webpack_require__, /*! ./save/groupLayerUtils.js */ "./node_modules/@arcgis/core/layers/save/groupLayerUtils.js"));switch(e){case _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_27__.SaveOperationType.SAVE:return i(this,r);case _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_27__.SaveOperationType.SAVE_AS:return s(this,t,r)}}))}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>{let e=this.parent;for(;e&&"parent"in e&&e.parent;)e=e.parent;return e&&_support_tagSymbols_js__WEBPACK_IMPORTED_MODULE_26__.WebSceneTag in e}),(e=>{const r="prevent-adding-tables";this.removeHandles(r),e&&(this.tables.removeAll(),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.on)((()=>this.tables),"before-add",(e=>{e.preventDefault(),_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).errorOnce("tables","tables in group layers in a webscene are not supported. Please move the tables from the group layer to the webscene if you want to persist them.")})),r))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this.visible),this._onVisibilityChange.bind(this),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.sync)])}destroy(){this.allLayers.destroy(),this.allTables.destroy()}get sourceIsPortalItem(){return this.portalItem&&this.originIdOf("portalItem")===_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_15__.OriginId.USER}_writeLayers(e,r,t,i){const s=[];if(!e)return s;e.forEach((e=>{const r=(0,_webdoc_support_writeUtils_js__WEBPACK_IMPORTED_MODULE_29__.getLayerJSON)(e,i.webmap?i.webmap.getLayerJSONFromResourceInfo(e):null,i);r?.layerType&&s.push(r)})),r.layers=s}set portalItem(e){this._set("portalItem",e)}readPortalItem(e,r,t){const{itemId:i,layerType:s}=r;if("GroupLayer"===s&&i)return new _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_22__["default"]({id:i,portal:t?.portal})}writePortalItem(e,r){e?.id&&(r.itemId=e.id)}set visibilityMode(e){const r=this._get("visibilityMode")!==e;this._set("visibilityMode",e),r&&this._enforceVisibility(e,this.visible)}async beforeSave(){return (0,_webdoc_support_saveUtils_js__WEBPACK_IMPORTED_MODULE_28__.beforeSave)(this)}load(e){const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Group Layer","Scene Service"],layerModuleTypeMap:_support_lazyLayerLoader_js__WEBPACK_IMPORTED_MODULE_21__.layerLookupMap},e).catch((e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAbortError)(e),this.sourceIsPortalItem)throw e}));return this.addResolvingPromise(r),Promise.resolve(this)}async loadAll(){return (0,_core_loadAll_js__WEBPACK_IMPORTED_MODULE_2__.loadAll)(this,(e=>{e(this.layers,this.tables)}))}async save(e){return this._debouncedSaveOperations(_webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_27__.SaveOperationType.SAVE,e)}async saveAs(e,r){return this._debouncedSaveOperations(_webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_27__.SaveOperationType.SAVE_AS,r,e)}layerAdded(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this.hasHandles(e.uid)?console.error(`Layer readded to Grouplayer: uid=${e.uid}`):this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>e.visible),(r=>this._onChildVisibilityChange(e,r)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.sync),e.uid)}layerRemoved(e){this.removeHandles(e.uid),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(e){this.layers.forEach((r=>{r!==e&&(r.visible=!1)}))}_enforceVisibility(e,r){if(!(0,_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_11__.getProperties)(this).initialized)return;const t=this.layers;let i=t.find((e=>e.visible));switch(e){case"exclusive":t.length&&!i&&(i=t.at(0),i.visible=!0),this._turnOffOtherLayers(i);break;case"inherited":t.forEach((e=>{e.visible=r}))}}_onVisibilityChange(e){"inherited"===this.visibilityMode&&this.layers.forEach((r=>{r.visible=e}))}_onChildVisibilityChange(e,r){switch(this.visibilityMode){case"exclusive":r?this._turnOffOtherLayers(e):this._isAnyLayerVisible()||(e.visible=!0);break;case"inherited":e.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((e=>e.visible))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0,dependsOn:[]})],V.prototype,"allLayers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],V.prototype,"allTables",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({json:{read:!0,write:!0}})],V.prototype,"blendMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],V.prototype,"fullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],V.prototype,"sourceIsPortalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({json:{read:!1,write:{ignoreOrigin:!0}}})],V.prototype,"layers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_14__.writer)("layers")],V.prototype,"_writeLayers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:["GroupLayer"]})],V.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({json:{origins:{"web-map":{read:!1,write:{overridePolicy(e,r,t){return{enabled:"Group Layer"===e?.type&&t?.initiator!==this}}}},"web-scene":{read:!1,write:!1}}}})],V.prototype,"portalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_12__.reader)("web-map","portalItem",["itemId"])],V.prototype,"readPortalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_14__.writer)("web-map","portalItem",{itemId:{type:String}})],V.prototype,"writePortalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],V.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({json:{read:!1},readOnly:!0,value:"group"})],V.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{type:["independent","exclusive"],write:(e,r,t)=>{"inherited"!==e&&(r[t]=e)}}}}})],V.prototype,"visibilityMode",null),V=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.layers.GroupLayer")],V);const E=V;


/***/ }),

/***/ "./node_modules/@arcgis/core/portal/support/resourceUtils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/portal/support/resourceUtils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addOrUpdateResource: () => (/* binding */ s),
/* harmony export */   contentToBlob: () => (/* binding */ p),
/* harmony export */   fetchResources: () => (/* binding */ o),
/* harmony export */   getSiblingOfSameType: () => (/* binding */ d),
/* harmony export */   getSiblingOfSameTypeI: () => (/* binding */ m),
/* harmony export */   removeAllResources: () => (/* binding */ l),
/* harmony export */   removeResource: () => (/* binding */ n),
/* harmony export */   splitPrefixFileNameAndExtension: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function o(e,t={},a){await e.load(a);const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(e.itemUrl,"resources"),{start:s=1,num:n=10,sortOrder:l="asc",sortField:u="created"}=t,c={query:{start:s,num:n,sortOrder:l,sortField:u,token:e.apiKey},signal:a?.signal},i=await e.portal.request(o,c);return{total:i.total,nextStart:i.nextStart,resources:i.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function s(e,a,o,s){if(!e.hasPath())throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"](`portal-item-resource-${a}:invalid-path`,"Resource does not have a valid path");const n=e.portalItem;await n.load(s);const l=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(n.userItemUrl,"add"===a?"addResources":"updateResources"),[c,i]=u(e.path),p=new FormData;return c&&"."!==c&&p.append("resourcesPrefix",c),null!=s&&s.compress&&p.append("compress","true"),p.append("fileName",i),p.append("file",o,i),p.append("f","json"),s?.access&&p.append("access",s.access),await n.portal.request(l,{method:"post",body:p,signal:s?.signal}),e}async function n(e,a,o){if(!a.hasPath())throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("portal-item-resources-remove:invalid-path","Resource does not have a valid path");await e.load(o);const s=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(e.userItemUrl,"removeResources");await e.portal.request(s,{method:"post",query:{resource:a.path},signal:o?.signal}),a.portalItem=null}async function l(e,t){await e.load(t);const a=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(e.userItemUrl,"removeResources");return e.portal.request(a,{method:"post",query:{deleteAll:!0},signal:t?.signal})}function u(e){const t=e.lastIndexOf("/");return-1===t?[".",e]:[e.slice(0,t),e.slice(t+1)]}function c(e){const[t,r]=i(e),[a,o]=u(t);return[a,o,r]}function i(e){const t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.getPathExtension)(e);return null==t?[e,""]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if("blob"===t.type)return t.blob;if("json"===t.type)return new Blob([t.jsonString],{type:"application/json"});return(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t.url,{responseType:"blob"})).data}function d(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(a,t+o))}function m(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.join)(a,t+o))}


/***/ }),

/***/ "./node_modules/@arcgis/core/support/LayersMixin.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/support/LayersMixin.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayersMixin: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_collectionUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/collectionUtils.js */ "./node_modules/@arcgis/core/core/collectionUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_Layer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../layers/Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(e,r,t){let s,o;if(e)for(let a=0,i=e.length;a<i;a++){if(s=e.at(a),s?.[r]===t)return s;if("group"===s?.type&&(o=l(s.layers,r,t),o))return o}}const d=d=>{let y=class extends d{constructor(...e){super(...e),this.layers=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"];const t=e=>{e.parent&&"remove"in e.parent&&e.parent.remove(e)},o=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},a=e=>{e.parent=null,this.layerRemoved(e)};this.addHandles([this.layers.on("before-add",(e=>t(e.item))),this.layers.on("after-add",(e=>o(e.item))),this.layers.on("after-remove",(e=>a(e.item)))])}destroy(){const e=this.layers.toArray();for(const r of e)r.destroy();this.layers.destroy()}set layers(e){this._set("layers",(0,_core_collectionUtils_js__WEBPACK_IMPORTED_MODULE_2__.referenceSetter)(e,this._get("layers")))}add(e,r){const t=this.layers;if(r=t.getNextIndex(r),e instanceof _layers_Layer_js__WEBPACK_IMPORTED_MODULE_10__["default"]){const s=e;s.parent===this?this.reorder(s,r):t.add(s,r)}else (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isPromiseLike)(e)?e.then((e=>{this.destroyed||this.add(e,r)})):_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,r){const t=this.layers;let s=t.getNextIndex(r);e.slice().forEach((e=>{e.parent!==this?(t.add(e,s),s+=1):this.reorder(e,s)}))}findLayerById(e){return l(this.layers,"id",e)}findLayerByUid(e){return l(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,r){return this.layers.reorder(e,r)}layerAdded(e){}layerRemoved(e){}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"layers",null),y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.support.LayersMixin")],y),y};


/***/ }),

/***/ "./node_modules/@arcgis/core/support/TablesMixin.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/support/TablesMixin.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TablesMixin: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_collectionUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/collectionUtils.js */ "./node_modules/@arcgis/core/core/collectionUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function a(t,e,r){if(t)for(let s=0,o=t.length;s<o;s++){const o=t.at(s);if(o[e]===r)return o;if("group"===o?.type){const t=a(o.tables,e,r);if(t)return t}}}const l=l=>{let n=class extends l{constructor(...t){super(...t),this.tables=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.addHandles([this.tables.on("after-add",(t=>{const e=t.item;e.parent&&e.parent!==this&&"tables"in e.parent&&e.parent.tables.remove(e),e.parent=this,"feature"!==e.type&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(t=>{t.item.parent=null}))])}destroy(){const t=this.tables.toArray();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set("tables",(0,_core_collectionUtils_js__WEBPACK_IMPORTED_MODULE_2__.referenceSetter)(t,this._get("tables")))}findTableById(t){return a(this.tables,"id",t)}findTableByUid(t){return a(this.tables,"uid",t)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],n.prototype,"tables",null),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.support.TablesMixin")],n),n};


/***/ }),

/***/ "./node_modules/@arcgis/core/support/collectionUtils.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/support/collectionUtils.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createFlattenedTablesCollection: () => (/* binding */ t),
/* harmony export */   destroyMap: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/CollectionFlattener.js */ "./node_modules/@arcgis/core/core/CollectionFlattener.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){return new _core_CollectionFlattener_js__WEBPACK_IMPORTED_MODULE_0__["default"]({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const t=[];return"tables"in e&&t.push(e.tables),"layers"in e&&t.push(e.layers),t},itemFilterFunction:e=>{const t=e.parent;return!!t&&"tables"in t&&t.tables.includes(e)}})}function n(e){for(const t of e.values())t?.destroy();e.clear()}


/***/ }),

/***/ "./node_modules/@arcgis/core/support/tagSymbols.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/support/tagSymbols.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebSceneTag: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const e=Symbol("WebScene");


/***/ }),

/***/ "./node_modules/@arcgis/core/webdoc/support/saveUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/webdoc/support/saveUtils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   beforeSave: () => (/* binding */ m),
/* harmony export */   saveResources: () => (/* binding */ u),
/* harmony export */   updateItemWithResources: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_uuid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/uuid.js */ "./node_modules/@arcgis/core/core/uuid.js");
/* harmony import */ var _portal_support_resourceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../portal/support/resourceUtils.js */ "./node_modules/@arcgis/core/portal/support/resourceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function u(e,r,o=null){const t=await i(e,r,o);await h(t,r,o)}async function p(e,r,o,t,s=null){const a=await i(o,t,s);await e.update({data:r}),await h(a,t,s)}async function i(e,s,n=null){if(!s?.resources)return;const u=s.portalItem===e.portalItem?new Set(e.paths):new Set;e.paths.length=0,e.portalItem=s.portalItem;const p=new Set(s.resources.toKeep.map((e=>e.resource.path))),i=new Set,h=[];p.forEach((r=>{u.delete(r),e.paths.push(r)}));for(const r of s.resources.toUpdate)if(u.delete(r.resource.path),p.has(r.resource.path)||i.has(r.resource.path)){const{resource:o,content:t,finish:s,error:u}=r,p=(0,_portal_support_resourceUtils_js__WEBPACK_IMPORTED_MODULE_4__.getSiblingOfSameTypeI)(o,(0,_core_uuid_js__WEBPACK_IMPORTED_MODULE_3__.generateUUID)());e.paths.push(p.path),h.push(f({resource:p,content:t,compress:r.compress,finish:s,error:u},n))}else e.paths.push(r.resource.path),h.push(l(r,n)),i.add(r.resource.path);for(const r of s.resources.toAdd)e.paths.push(r.resource.path),u.has(r.resource.path)?u.delete(r.resource.path):h.push(f(r,n));if(0===h.length)return u;const m=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.allSettledErrors)(h);if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(n),m.length>0)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("save:resources","Failed to save one or more resources",{errors:m});return u}async function h(e,r,o=null){if(!e||!r.portalItem)return;const t=[];for(const s of e){const e=r.portalItem.resourceFromPath(s);t.push(e.portalItem.removeResource(e,o))}await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.eachAlways)(t)}async function f(r,o){const t={...null!=o?o:{},compress:r.compress},s=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.result)(r.resource.portalItem.addResource(r.resource,await (0,_portal_support_resourceUtils_js__WEBPACK_IMPORTED_MODULE_4__.contentToBlob)(r.content),t));if(!0!==s.ok)throw r.error?.(s.error),s.error;r.finish?.(r.resource)}async function l(r,o){const t=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.result)(r.resource.update(await (0,_portal_support_resourceUtils_js__WEBPACK_IMPORTED_MODULE_4__.contentToBlob)(r.content),o));if(!0!==t.ok)throw r.error?.(t.error),t.error;r.finish?.(r.resource)}async function m(e){const r=[];for(const o of e.allLayers)if("beforeSave"in o&&"function"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}


/***/ }),

/***/ "./node_modules/@arcgis/core/webdoc/support/writeUtils.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/webdoc/support/writeUtils.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   disableRestrictedWriting: () => (/* binding */ s),
/* harmony export */   enableRestrictedWriting: () => (/* binding */ a),
/* harmony export */   getLayerJSON: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_object_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/object.js */ "./node_modules/@arcgis/core/core/object.js");
/* harmony import */ var _core_accessorSupport_extensions_serializableProperty_writer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/extensions/serializableProperty/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/writer.js");
/* harmony import */ var _layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../layers/support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const o=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),l=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function a(e){o.delete(e),l.delete(e)}function s(e){o.add(e),l.add(e)}function u(e){return"basemap"===e.layerContainerType?o:"operational-layers"===e.layerContainerType?l:null}function d(e,t){if(t.restrictedWebMapWriting){const n=u(t);return null==n||n.has(e.type)&&!(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.isFeatureCollectionLayer)(e)}return!0}function p(e,t){if(t)if((0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.isFeatureCollectionLayer)(e)){const r=(0,_core_object_js__WEBPACK_IMPORTED_MODULE_2__.getDeepValue)("featureCollection.layers",t),i=r?.[0]?.layerDefinition;i&&m(e,i)}else"group"!==e.type&&m(e,t)}function m(e,t){"maxScale"in e&&(t.maxScale=(0,_core_accessorSupport_extensions_serializableProperty_writer_js__WEBPACK_IMPORTED_MODULE_3__.numberToJSON)(e.maxScale)??void 0),"minScale"in e&&(t.minScale=(0,_core_accessorSupport_extensions_serializableProperty_writer_js__WEBPACK_IMPORTED_MODULE_3__.numberToJSON)(e.minScale)??void 0)}function c(e,t){if(p(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,_core_accessorSupport_extensions_serializableProperty_writer_js__WEBPACK_IMPORTED_MODULE_3__.numberToJSON)(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if((0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.isFeatureCollectionLayer)(e)){const n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function f(n,r,o){if(!n.persistenceEnabled)return null;if(!("write"in n)||!n.write)return o?.messages&&o.messages.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("layer:unsupported",`Layers (${n.title}, ${n.id}) of type '${n.declaredClass}' cannot be persisted`,{layer:n})),null;if((0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_4__.isFeatureCollectionLayer)(n)&&!n.isTable)r=n.resourceInfo;else if(d(n,o)){const e={};return n.write(e,o)?e:null}return null!=r&&c(n,r=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__.clone)(r)),r}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfbGF5ZXJzX0dyb3VwTGF5ZXJfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNpWCxvQkFBb0Isc0RBQUMsQ0FBQyxlQUFlLGtDQUFrQyxhQUFhLGdCQUFnQiwwRUFBQyx5QkFBeUIsVUFBVSx5QkFBeUIsV0FBVyw2REFBNkQsd0NBQXdDLFFBQVEsMkRBQTJELDJCQUEyQixzQkFBc0IsV0FBVyxzREFBQyxJQUFJLHdCQUF3QixlQUFlLDBDQUEwQyx1QkFBdUIsU0FBUywwQkFBMEIsZ0RBQWdELDZCQUE2QixvQ0FBb0Msb0VBQW9FLHFDQUFxQyxXQUFXLHVEQUFDLEVBQUUsaUZBQUMseUNBQXlDLHVEQUFDLEVBQUUsaUZBQUMsOENBQThDLHVEQUFDLEVBQUUsaUZBQUMsK0NBQStDLHVEQUFDLEVBQUUsaUZBQUMsc0NBQXNDLFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmoxQztBQUNBO0FBQ0E7QUFDQTtBQUM4RyxzQkFBc0IsNkJBQTZCLHNCQUFzQixzQkFBc0Isb0RBQW9ELHNEQUFDLHNDQUFzQyxvREFBQyw0QkFBNEIsS0FBSyxXQUFXLFNBQVMsbURBQUMsY0FBYyxjQUFjLHNEQUFDLDRCQUE0QixvQkFBb0IsbUJBQW1CLFNBQVMsY0FBYyxrREFBNEY7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmxqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixhQUFhLGdDQUFnQyxtREFBbUQsMkNBQTJDLDZDQUE2QywrREFBK0QsYUFBYSxRQUFRLEVBQUUsbUJBQW1CLEVBQUUsYUFBYSxRQUFRLEVBQUUsS0FBSyxFQUFxRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmxiO0FBQ0E7QUFDQTtBQUNBO0FBQytxRCxvQkFBb0Isa0VBQUMsQ0FBQyw0RUFBQyxDQUFDLDhFQUFDLENBQUMsb0VBQUMsQ0FB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QW9ELCtFQUFDLGdCQUFnQiw4Q0FBOEMsdUJBQXVCLHNCQUFzQixjQUFjLDJEQUFDLHlCQUF5QiwrRUFBQyxnQkFBZ0IsOENBQThDLHVCQUF1QixvQkFBb0IsV0FBVyxpRkFBaUYsdUJBQXVCLGFBQWEsNEJBQW9HOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnBvRTtBQUNBO0FBQ0E7QUFDQTtBQUNvVCxnYUFBZ2EsY0FBYyx3QkFBd0IsY0FBYyxrQkFBa0IsY0FBYyw0RkFBNEYsZ0JBQWdCLDhCQUE4QixhQUFhLGdDQUFnQyx1RkFBQyxJQUFJLFNBQVMsZ0JBQWdCLFFBQVEsdUZBQUMsS0FBSyxRQUFRLDZEQUFDLHlEQUF5RCxVQUFVLDZCQUE2QixnQkFBZ0IsNEJBQTRCLDZHQUFDLGtEQUFrRCw2R0FBQyxzQkFBc0IsZ0JBQWdCLHdIQUF3SCw2R0FBQyw2R0FBNkcsdUZBQUMsS0FBSyw0QkFBNEIsa0NBQWtDLGtDQUFrQyxrQkFBa0IscUNBQXFDLG9FQUFvRSxzREFBQyxnQ0FBZ0MsUUFBUSxJQUFJLEtBQUssYUFBYSxnQkFBZ0Isd0JBQXdCLFFBQVEsUUFBUSxHQUFHLHVGQUFDLGlDQUFpQyxnQkFBZ0IsV0FBVywyQkFBMkIsc0JBQXNCLG9EQUFDLE9BQTRGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9Db2xsZWN0aW9uRmxhdHRlbmVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvbG9hZEFsbC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL3V1aWQuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL0dyb3VwTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcG9ydGFsL3N1cHBvcnQvcmVzb3VyY2VVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zdXBwb3J0L0xheWVyc01peGluLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3N1cHBvcnQvVGFibGVzTWl4aW4uanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc3VwcG9ydC9jb2xsZWN0aW9uVXRpbHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc3VwcG9ydC90YWdTeW1ib2xzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dlYmRvYy9zdXBwb3J0L3NhdmVVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93ZWJkb2Mvc3VwcG9ydC93cml0ZVV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgbyBmcm9tXCIuL0NvbGxlY3Rpb24uanNcIjtpbXBvcnRcIi4vYXN5bmNVdGlscy5qc1wiO2ltcG9ydFwiLi9FcnJvci5qc1wiO2ltcG9ydFwiLi9Mb2dnZXIuanNcIjtpbXBvcnRcIi4vYWNjZXNzb3JTdXBwb3J0L3dhdGNoLmpzXCI7aW1wb3J0e2F1dG9ydW4gYXMgc31mcm9tXCIuL2FjY2Vzc29yU3VwcG9ydC90cmFja2luZ1V0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGV9ZnJvbVwiLi9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyByfWZyb21cIi4vYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtsZXQgaT1jbGFzcyBleHRlbmRzIG97Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5nZXRDb2xsZWN0aW9ucz1udWxsfWluaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXMocygoKCk9PnRoaXMuX3JlZnJlc2goKSkpKX1kZXN0cm95KCl7dGhpcy5nZXRDb2xsZWN0aW9ucz1udWxsfV9yZWZyZXNoKCl7Y29uc3QgdD1udWxsIT10aGlzLmdldENvbGxlY3Rpb25zP3RoaXMuZ2V0Q29sbGVjdGlvbnMoKTpudWxsO2lmKG51bGw9PXQpcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVBbGwoKTtsZXQgbz0wO2Zvcihjb25zdCBzIG9mIHQpbnVsbCE9cyYmKG89dGhpcy5fcHJvY2Vzc0NvbGxlY3Rpb24obyxzKSk7dGhpcy5zcGxpY2Uobyx0aGlzLmxlbmd0aCl9X2NyZWF0ZU5ld0luc3RhbmNlKHQpe3JldHVybiBuZXcgbyh0KX1fcHJvY2Vzc0NvbGxlY3Rpb24odCxvKXtpZighbylyZXR1cm4gdDtjb25zdCBzPXRoaXMuaXRlbUZpbHRlckZ1bmN0aW9uPz8odD0+ISF0KTtmb3IoY29uc3QgZSBvZiBvKWlmKGUpe2lmKHMoZSkpe2NvbnN0IG89dGhpcy5pbmRleE9mKGUsdCk7bz49MD9vIT09dCYmdGhpcy5yZW9yZGVyKGUsdCk6dGhpcy5hZGQoZSx0KSwrK3R9aWYodGhpcy5nZXRDaGlsZHJlbkZ1bmN0aW9uKXtjb25zdCBvPXRoaXMuZ2V0Q2hpbGRyZW5GdW5jdGlvbihlKTtpZihBcnJheS5pc0FycmF5KG8pKWZvcihjb25zdCBzIG9mIG8pdD10aGlzLl9wcm9jZXNzQ29sbGVjdGlvbih0LHMpO2Vsc2UgdD10aGlzLl9wcm9jZXNzQ29sbGVjdGlvbih0LG8pfX1yZXR1cm4gdH19O3QoW2UoKV0saS5wcm90b3R5cGUsXCJnZXRDb2xsZWN0aW9uc1wiLHZvaWQgMCksdChbZSgpXSxpLnByb3RvdHlwZSxcImdldENoaWxkcmVuRnVuY3Rpb25cIix2b2lkIDApLHQoW2UoKV0saS5wcm90b3R5cGUsXCJpdGVtRmlsdGVyRnVuY3Rpb25cIix2b2lkIDApLGk9dChbcihcImVzcmkuY29yZS5Db2xsZWN0aW9uRmxhdHRlbmVyXCIpXSxpKTtjb25zdCBsPWk7ZXhwb3J0e2wgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e21hcCBhcyBvLHJlc3VsdCBhcyBsfWZyb21cIi4vYXN5bmNVdGlscy5qc1wiO2ltcG9ydCBuIGZyb21cIi4vQ29sbGVjdGlvbi5qc1wiO2ltcG9ydCByIGZyb21cIi4vTG9hZGFibGUuanNcIjthc3luYyBmdW5jdGlvbiB0KG8sbCl7cmV0dXJuIGF3YWl0IG8ubG9hZCgpLGEobyxsKX1hc3luYyBmdW5jdGlvbiBhKHQsYSl7Y29uc3Qgcz1bXSxjPSguLi5vKT0+e2Zvcihjb25zdCBsIG9mIG8pbnVsbCE9bCYmKEFycmF5LmlzQXJyYXkobCk/YyguLi5sKTpuLmlzQ29sbGVjdGlvbihsKT9sLmZvckVhY2goKG89PmMobykpKTpyLmlzTG9hZGFibGUobCkmJnMucHVzaChsKSl9O2EoYyk7bGV0IGY9bnVsbDtpZihhd2FpdCBvKHMsKGFzeW5jIG89Pntjb25zdCBuPWF3YWl0IGwoaShvKT9vLmxvYWRBbGwoKTpvLmxvYWQoKSk7ITEhPT1uLm9rfHxmfHwoZj1uKX0pKSxmKXRocm93IGYuZXJyb3I7cmV0dXJuIHR9ZnVuY3Rpb24gaShvKXtyZXR1cm5cImxvYWRBbGxcImluIG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8ubG9hZEFsbH1leHBvcnR7dCBhcyBsb2FkQWxsLGEgYXMgbG9hZEFsbENoaWxkcmVufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0PVwicmFuZG9tVVVJRFwiaW4gY3J5cHRvO2Z1bmN0aW9uIG4oKXtpZih0KXJldHVybiBjcnlwdG8ucmFuZG9tVVVJRCgpO2NvbnN0IG49Y3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDE2QXJyYXkoOCkpO25bM109NDA5NSZuWzNdfDE2Mzg0LG5bNF09MTYzODMmbls0XXwzMjc2ODtjb25zdCByPXQ9Pm5bdF0udG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDQsXCIwXCIpO3JldHVybiByKDApK3IoMSkrXCItXCIrcigyKStcIi1cIityKDMpK1wiLVwiK3IoNCkrXCItXCIrcig1KStyKDYpK3IoNyl9ZnVuY3Rpb24gcigpe3JldHVybmB7JHtuKCkudG9VcHBlckNhc2UoKX19YH1mdW5jdGlvbiBvKCl7cmV0dXJuYHske24oKX19YH1leHBvcnR7ciBhcyBnZW5lcmF0ZUJyYWNlZFVVSUQsbyBhcyBnZW5lcmF0ZUxvd2VyY2FzZUJyYWNlZFVVSUQsbiBhcyBnZW5lcmF0ZVVVSUR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uL2NvcmUvQ29sbGVjdGlvbkZsYXR0ZW5lci5qc1wiO2ltcG9ydHtsb2FkQWxsIGFzIHR9ZnJvbVwiLi4vY29yZS9sb2FkQWxsLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7TXVsdGlPcmlnaW5KU09OTWl4aW4gYXMgc31mcm9tXCIuLi9jb3JlL011bHRpT3JpZ2luSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7ZGVib3VuY2UgYXMgbyx0aHJvd0lmQWJvcnRFcnJvciBhcyBhfWZyb21cIi4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGwsc3luY0FuZEluaXRpYWwgYXMgcCxvbiBhcyBuLHN5bmMgYXMgZH1mcm9tXCIuLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgeX1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2dldFByb3BlcnRpZXMgYXMgY31mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgaH1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBtfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7d3JpdGVyIGFzIHV9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy93cml0ZXIuanNcIjtpbXBvcnR7T3JpZ2luSWQgYXMgYn1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9Qcm9wZXJ0eU9yaWdpbi5qc1wiO2ltcG9ydCB2IGZyb21cIi4vTGF5ZXIuanNcIjtpbXBvcnR7QmxlbmRMYXllciBhcyBmfWZyb21cIi4vbWl4aW5zL0JsZW5kTGF5ZXIuanNcIjtpbXBvcnR7T3BlcmF0aW9uYWxMYXllciBhcyBqfWZyb21cIi4vbWl4aW5zL09wZXJhdGlvbmFsTGF5ZXIuanNcIjtpbXBvcnR7UG9ydGFsTGF5ZXIgYXMgZ31mcm9tXCIuL21peGlucy9Qb3J0YWxMYXllci5qc1wiO2ltcG9ydHtTY2FsZVJhbmdlTGF5ZXIgYXMgd31mcm9tXCIuL21peGlucy9TY2FsZVJhbmdlTGF5ZXIuanNcIjtpbXBvcnR7bGF5ZXJMb29rdXBNYXAgYXMgTH1mcm9tXCIuL3N1cHBvcnQvbGF6eUxheWVyTG9hZGVyLmpzXCI7aW1wb3J0IFMgZnJvbVwiLi4vcG9ydGFsL1BvcnRhbEl0ZW0uanNcIjtpbXBvcnR7Y3JlYXRlRmxhdHRlbmVkVGFibGVzQ29sbGVjdGlvbiBhcyBffWZyb21cIi4uL3N1cHBvcnQvY29sbGVjdGlvblV0aWxzLmpzXCI7aW1wb3J0e0xheWVyc01peGluIGFzIEl9ZnJvbVwiLi4vc3VwcG9ydC9MYXllcnNNaXhpbi5qc1wiO2ltcG9ydHtUYWJsZXNNaXhpbiBhcyBPfWZyb21cIi4uL3N1cHBvcnQvVGFibGVzTWl4aW4uanNcIjtpbXBvcnR7V2ViU2NlbmVUYWcgYXMgTX1mcm9tXCIuLi9zdXBwb3J0L3RhZ1N5bWJvbHMuanNcIjtpbXBvcnR7U2F2ZU9wZXJhdGlvblR5cGUgYXMgeH1mcm9tXCIuLi93ZWJkb2MvaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtiZWZvcmVTYXZlIGFzIFB9ZnJvbVwiLi4vd2ViZG9jL3N1cHBvcnQvc2F2ZVV0aWxzLmpzXCI7aW1wb3J0e2dldExheWVySlNPTiBhcyBBfWZyb21cIi4uL3dlYmRvYy9zdXBwb3J0L3dyaXRlVXRpbHMuanNcIjtsZXQgVj1jbGFzcyBleHRlbmRzKGYodyhqKGcoTyhJKHModikpKSkpKSkpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuYWxsTGF5ZXJzPW5ldyByKHtnZXRDb2xsZWN0aW9uczooKT0+W3RoaXMubGF5ZXJzXSxnZXRDaGlsZHJlbkZ1bmN0aW9uOmU9PlwibGF5ZXJzXCJpbiBlP2UubGF5ZXJzOm51bGx9KSx0aGlzLmFsbFRhYmxlcz1fKHRoaXMpLHRoaXMuZnVsbEV4dGVudD12b2lkIDAsdGhpcy5vcGVyYXRpb25hbExheWVyVHlwZT1cIkdyb3VwTGF5ZXJcIix0aGlzLnNwYXRpYWxSZWZlcmVuY2U9dm9pZCAwLHRoaXMudHlwZT1cImdyb3VwXCIsdGhpcy5fZGVib3VuY2VkU2F2ZU9wZXJhdGlvbnM9bygoYXN5bmMoZSxyLHQpPT57Y29uc3R7c2F2ZTppLHNhdmVBczpzfT1hd2FpdCBpbXBvcnQoXCIuL3NhdmUvZ3JvdXBMYXllclV0aWxzLmpzXCIpO3N3aXRjaChlKXtjYXNlIHguU0FWRTpyZXR1cm4gaSh0aGlzLHIpO2Nhc2UgeC5TQVZFX0FTOnJldHVybiBzKHRoaXMsdCxyKX19KSl9aW5pdGlhbGl6ZSgpe3RoaXMuX2VuZm9yY2VWaXNpYmlsaXR5KHRoaXMudmlzaWJpbGl0eU1vZGUsdGhpcy52aXNpYmxlKSx0aGlzLmFkZEhhbmRsZXMoW2woKCgpPT57bGV0IGU9dGhpcy5wYXJlbnQ7Zm9yKDtlJiZcInBhcmVudFwiaW4gZSYmZS5wYXJlbnQ7KWU9ZS5wYXJlbnQ7cmV0dXJuIGUmJk0gaW4gZX0pLChlPT57Y29uc3Qgcj1cInByZXZlbnQtYWRkaW5nLXRhYmxlc1wiO3RoaXMucmVtb3ZlSGFuZGxlcyhyKSxlJiYodGhpcy50YWJsZXMucmVtb3ZlQWxsKCksdGhpcy5hZGRIYW5kbGVzKG4oKCgpPT50aGlzLnRhYmxlcyksXCJiZWZvcmUtYWRkXCIsKGU9PntlLnByZXZlbnREZWZhdWx0KCksaS5nZXRMb2dnZXIodGhpcykuZXJyb3JPbmNlKFwidGFibGVzXCIsXCJ0YWJsZXMgaW4gZ3JvdXAgbGF5ZXJzIGluIGEgd2Vic2NlbmUgYXJlIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSBtb3ZlIHRoZSB0YWJsZXMgZnJvbSB0aGUgZ3JvdXAgbGF5ZXIgdG8gdGhlIHdlYnNjZW5lIGlmIHlvdSB3YW50IHRvIHBlcnNpc3QgdGhlbS5cIil9KSkscikpfSkscCksbCgoKCk9PnRoaXMudmlzaWJsZSksdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlLmJpbmQodGhpcyksZCldKX1kZXN0cm95KCl7dGhpcy5hbGxMYXllcnMuZGVzdHJveSgpLHRoaXMuYWxsVGFibGVzLmRlc3Ryb3koKX1nZXQgc291cmNlSXNQb3J0YWxJdGVtKCl7cmV0dXJuIHRoaXMucG9ydGFsSXRlbSYmdGhpcy5vcmlnaW5JZE9mKFwicG9ydGFsSXRlbVwiKT09PWIuVVNFUn1fd3JpdGVMYXllcnMoZSxyLHQsaSl7Y29uc3Qgcz1bXTtpZighZSlyZXR1cm4gcztlLmZvckVhY2goKGU9Pntjb25zdCByPUEoZSxpLndlYm1hcD9pLndlYm1hcC5nZXRMYXllckpTT05Gcm9tUmVzb3VyY2VJbmZvKGUpOm51bGwsaSk7cj8ubGF5ZXJUeXBlJiZzLnB1c2gocil9KSksci5sYXllcnM9c31zZXQgcG9ydGFsSXRlbShlKXt0aGlzLl9zZXQoXCJwb3J0YWxJdGVtXCIsZSl9cmVhZFBvcnRhbEl0ZW0oZSxyLHQpe2NvbnN0e2l0ZW1JZDppLGxheWVyVHlwZTpzfT1yO2lmKFwiR3JvdXBMYXllclwiPT09cyYmaSlyZXR1cm4gbmV3IFMoe2lkOmkscG9ydGFsOnQ/LnBvcnRhbH0pfXdyaXRlUG9ydGFsSXRlbShlLHIpe2U/LmlkJiYoci5pdGVtSWQ9ZS5pZCl9c2V0IHZpc2liaWxpdHlNb2RlKGUpe2NvbnN0IHI9dGhpcy5fZ2V0KFwidmlzaWJpbGl0eU1vZGVcIikhPT1lO3RoaXMuX3NldChcInZpc2liaWxpdHlNb2RlXCIsZSksciYmdGhpcy5fZW5mb3JjZVZpc2liaWxpdHkoZSx0aGlzLnZpc2libGUpfWFzeW5jIGJlZm9yZVNhdmUoKXtyZXR1cm4gUCh0aGlzKX1sb2FkKGUpe2NvbnN0IHI9dGhpcy5sb2FkRnJvbVBvcnRhbCh7c3VwcG9ydGVkVHlwZXM6W1wiRmVhdHVyZSBTZXJ2aWNlXCIsXCJGZWF0dXJlIENvbGxlY3Rpb25cIixcIkdyb3VwIExheWVyXCIsXCJTY2VuZSBTZXJ2aWNlXCJdLGxheWVyTW9kdWxlVHlwZU1hcDpMfSxlKS5jYXRjaCgoZT0+e2lmKGEoZSksdGhpcy5zb3VyY2VJc1BvcnRhbEl0ZW0pdGhyb3cgZX0pKTtyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHIpLFByb21pc2UucmVzb2x2ZSh0aGlzKX1hc3luYyBsb2FkQWxsKCl7cmV0dXJuIHQodGhpcywoZT0+e2UodGhpcy5sYXllcnMsdGhpcy50YWJsZXMpfSkpfWFzeW5jIHNhdmUoZSl7cmV0dXJuIHRoaXMuX2RlYm91bmNlZFNhdmVPcGVyYXRpb25zKHguU0FWRSxlKX1hc3luYyBzYXZlQXMoZSxyKXtyZXR1cm4gdGhpcy5fZGVib3VuY2VkU2F2ZU9wZXJhdGlvbnMoeC5TQVZFX0FTLHIsZSl9bGF5ZXJBZGRlZChlKXtlLnZpc2libGUmJlwiZXhjbHVzaXZlXCI9PT10aGlzLnZpc2liaWxpdHlNb2RlP3RoaXMuX3R1cm5PZmZPdGhlckxheWVycyhlKTpcImluaGVyaXRlZFwiPT09dGhpcy52aXNpYmlsaXR5TW9kZSYmKGUudmlzaWJsZT10aGlzLnZpc2libGUpLHRoaXMuaGFzSGFuZGxlcyhlLnVpZCk/Y29uc29sZS5lcnJvcihgTGF5ZXIgcmVhZGRlZCB0byBHcm91cGxheWVyOiB1aWQ9JHtlLnVpZH1gKTp0aGlzLmFkZEhhbmRsZXMobCgoKCk9PmUudmlzaWJsZSksKHI9PnRoaXMuX29uQ2hpbGRWaXNpYmlsaXR5Q2hhbmdlKGUscikpLGQpLGUudWlkKX1sYXllclJlbW92ZWQoZSl7dGhpcy5yZW1vdmVIYW5kbGVzKGUudWlkKSx0aGlzLl9lbmZvcmNlVmlzaWJpbGl0eSh0aGlzLnZpc2liaWxpdHlNb2RlLHRoaXMudmlzaWJsZSl9X3R1cm5PZmZPdGhlckxheWVycyhlKXt0aGlzLmxheWVycy5mb3JFYWNoKChyPT57ciE9PWUmJihyLnZpc2libGU9ITEpfSkpfV9lbmZvcmNlVmlzaWJpbGl0eShlLHIpe2lmKCFjKHRoaXMpLmluaXRpYWxpemVkKXJldHVybjtjb25zdCB0PXRoaXMubGF5ZXJzO2xldCBpPXQuZmluZCgoZT0+ZS52aXNpYmxlKSk7c3dpdGNoKGUpe2Nhc2VcImV4Y2x1c2l2ZVwiOnQubGVuZ3RoJiYhaSYmKGk9dC5hdCgwKSxpLnZpc2libGU9ITApLHRoaXMuX3R1cm5PZmZPdGhlckxheWVycyhpKTticmVhaztjYXNlXCJpbmhlcml0ZWRcIjp0LmZvckVhY2goKGU9PntlLnZpc2libGU9cn0pKX19X29uVmlzaWJpbGl0eUNoYW5nZShlKXtcImluaGVyaXRlZFwiPT09dGhpcy52aXNpYmlsaXR5TW9kZSYmdGhpcy5sYXllcnMuZm9yRWFjaCgocj0+e3IudmlzaWJsZT1lfSkpfV9vbkNoaWxkVmlzaWJpbGl0eUNoYW5nZShlLHIpe3N3aXRjaCh0aGlzLnZpc2liaWxpdHlNb2RlKXtjYXNlXCJleGNsdXNpdmVcIjpyP3RoaXMuX3R1cm5PZmZPdGhlckxheWVycyhlKTp0aGlzLl9pc0FueUxheWVyVmlzaWJsZSgpfHwoZS52aXNpYmxlPSEwKTticmVhaztjYXNlXCJpbmhlcml0ZWRcIjplLnZpc2libGU9dGhpcy52aXNpYmxlfX1faXNBbnlMYXllclZpc2libGUoKXtyZXR1cm4gdGhpcy5sYXllcnMuc29tZSgoZT0+ZS52aXNpYmxlKSl9fTtlKFt5KHtyZWFkT25seTohMCxkZXBlbmRzT246W119KV0sVi5wcm90b3R5cGUsXCJhbGxMYXllcnNcIix2b2lkIDApLGUoW3koe3JlYWRPbmx5OiEwfSldLFYucHJvdG90eXBlLFwiYWxsVGFibGVzXCIsdm9pZCAwKSxlKFt5KHtqc29uOntyZWFkOiEwLHdyaXRlOiEwfX0pXSxWLnByb3RvdHlwZSxcImJsZW5kTW9kZVwiLHZvaWQgMCksZShbeSgpXSxWLnByb3RvdHlwZSxcImZ1bGxFeHRlbnRcIix2b2lkIDApLGUoW3koe3JlYWRPbmx5OiEwfSldLFYucHJvdG90eXBlLFwic291cmNlSXNQb3J0YWxJdGVtXCIsbnVsbCksZShbeSh7anNvbjp7cmVhZDohMSx3cml0ZTp7aWdub3JlT3JpZ2luOiEwfX19KV0sVi5wcm90b3R5cGUsXCJsYXllcnNcIix2b2lkIDApLGUoW3UoXCJsYXllcnNcIildLFYucHJvdG90eXBlLFwiX3dyaXRlTGF5ZXJzXCIsbnVsbCksZShbeSh7dHlwZTpbXCJHcm91cExheWVyXCJdfSldLFYucHJvdG90eXBlLFwib3BlcmF0aW9uYWxMYXllclR5cGVcIix2b2lkIDApLGUoW3koe2pzb246e29yaWdpbnM6e1wid2ViLW1hcFwiOntyZWFkOiExLHdyaXRlOntvdmVycmlkZVBvbGljeShlLHIsdCl7cmV0dXJue2VuYWJsZWQ6XCJHcm91cCBMYXllclwiPT09ZT8udHlwZSYmdD8uaW5pdGlhdG9yIT09dGhpc319fX0sXCJ3ZWItc2NlbmVcIjp7cmVhZDohMSx3cml0ZTohMX19fX0pXSxWLnByb3RvdHlwZSxcInBvcnRhbEl0ZW1cIixudWxsKSxlKFtoKFwid2ViLW1hcFwiLFwicG9ydGFsSXRlbVwiLFtcIml0ZW1JZFwiXSldLFYucHJvdG90eXBlLFwicmVhZFBvcnRhbEl0ZW1cIixudWxsKSxlKFt1KFwid2ViLW1hcFwiLFwicG9ydGFsSXRlbVwiLHtpdGVtSWQ6e3R5cGU6U3RyaW5nfX0pXSxWLnByb3RvdHlwZSxcIndyaXRlUG9ydGFsSXRlbVwiLG51bGwpLGUoW3koKV0sVi5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFt5KHtqc29uOntyZWFkOiExfSxyZWFkT25seTohMCx2YWx1ZTpcImdyb3VwXCJ9KV0sVi5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxlKFt5KHt0eXBlOltcImluZGVwZW5kZW50XCIsXCJpbmhlcml0ZWRcIixcImV4Y2x1c2l2ZVwiXSx2YWx1ZTpcImluZGVwZW5kZW50XCIsanNvbjp7d3JpdGU6ITAsb3JpZ2luczp7XCJ3ZWItbWFwXCI6e3R5cGU6W1wiaW5kZXBlbmRlbnRcIixcImV4Y2x1c2l2ZVwiXSx3cml0ZTooZSxyLHQpPT57XCJpbmhlcml0ZWRcIiE9PWUmJihyW3RdPWUpfX19fX0pXSxWLnByb3RvdHlwZSxcInZpc2liaWxpdHlNb2RlXCIsbnVsbCksVj1lKFttKFwiZXNyaS5sYXllcnMuR3JvdXBMYXllclwiKV0sVik7Y29uc3QgRT1WO2V4cG9ydHtFIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2pvaW4gYXMgcixnZXRQYXRoRXh0ZW5zaW9uIGFzIGF9ZnJvbVwiLi4vLi4vY29yZS91cmxVdGlscy5qc1wiO2FzeW5jIGZ1bmN0aW9uIG8oZSx0PXt9LGEpe2F3YWl0IGUubG9hZChhKTtjb25zdCBvPXIoZS5pdGVtVXJsLFwicmVzb3VyY2VzXCIpLHtzdGFydDpzPTEsbnVtOm49MTAsc29ydE9yZGVyOmw9XCJhc2NcIixzb3J0RmllbGQ6dT1cImNyZWF0ZWRcIn09dCxjPXtxdWVyeTp7c3RhcnQ6cyxudW06bixzb3J0T3JkZXI6bCxzb3J0RmllbGQ6dSx0b2tlbjplLmFwaUtleX0sc2lnbmFsOmE/LnNpZ25hbH0saT1hd2FpdCBlLnBvcnRhbC5yZXF1ZXN0KG8sYyk7cmV0dXJue3RvdGFsOmkudG90YWwsbmV4dFN0YXJ0OmkubmV4dFN0YXJ0LHJlc291cmNlczppLnJlc291cmNlcy5tYXAoKCh7Y3JlYXRlZDp0LHNpemU6cixyZXNvdXJjZTphfSk9Pih7Y3JlYXRlZDpuZXcgRGF0ZSh0KSxzaXplOnIscmVzb3VyY2U6ZS5yZXNvdXJjZUZyb21QYXRoKGEpfSkpKX19YXN5bmMgZnVuY3Rpb24gcyhlLGEsbyxzKXtpZighZS5oYXNQYXRoKCkpdGhyb3cgbmV3IHQoYHBvcnRhbC1pdGVtLXJlc291cmNlLSR7YX06aW52YWxpZC1wYXRoYCxcIlJlc291cmNlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCBwYXRoXCIpO2NvbnN0IG49ZS5wb3J0YWxJdGVtO2F3YWl0IG4ubG9hZChzKTtjb25zdCBsPXIobi51c2VySXRlbVVybCxcImFkZFwiPT09YT9cImFkZFJlc291cmNlc1wiOlwidXBkYXRlUmVzb3VyY2VzXCIpLFtjLGldPXUoZS5wYXRoKSxwPW5ldyBGb3JtRGF0YTtyZXR1cm4gYyYmXCIuXCIhPT1jJiZwLmFwcGVuZChcInJlc291cmNlc1ByZWZpeFwiLGMpLG51bGwhPXMmJnMuY29tcHJlc3MmJnAuYXBwZW5kKFwiY29tcHJlc3NcIixcInRydWVcIikscC5hcHBlbmQoXCJmaWxlTmFtZVwiLGkpLHAuYXBwZW5kKFwiZmlsZVwiLG8saSkscC5hcHBlbmQoXCJmXCIsXCJqc29uXCIpLHM/LmFjY2VzcyYmcC5hcHBlbmQoXCJhY2Nlc3NcIixzLmFjY2VzcyksYXdhaXQgbi5wb3J0YWwucmVxdWVzdChsLHttZXRob2Q6XCJwb3N0XCIsYm9keTpwLHNpZ25hbDpzPy5zaWduYWx9KSxlfWFzeW5jIGZ1bmN0aW9uIG4oZSxhLG8pe2lmKCFhLmhhc1BhdGgoKSl0aHJvdyBuZXcgdChcInBvcnRhbC1pdGVtLXJlc291cmNlcy1yZW1vdmU6aW52YWxpZC1wYXRoXCIsXCJSZXNvdXJjZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcGF0aFwiKTthd2FpdCBlLmxvYWQobyk7Y29uc3Qgcz1yKGUudXNlckl0ZW1VcmwsXCJyZW1vdmVSZXNvdXJjZXNcIik7YXdhaXQgZS5wb3J0YWwucmVxdWVzdChzLHttZXRob2Q6XCJwb3N0XCIscXVlcnk6e3Jlc291cmNlOmEucGF0aH0sc2lnbmFsOm8/LnNpZ25hbH0pLGEucG9ydGFsSXRlbT1udWxsfWFzeW5jIGZ1bmN0aW9uIGwoZSx0KXthd2FpdCBlLmxvYWQodCk7Y29uc3QgYT1yKGUudXNlckl0ZW1VcmwsXCJyZW1vdmVSZXNvdXJjZXNcIik7cmV0dXJuIGUucG9ydGFsLnJlcXVlc3QoYSx7bWV0aG9kOlwicG9zdFwiLHF1ZXJ5OntkZWxldGVBbGw6ITB9LHNpZ25hbDp0Py5zaWduYWx9KX1mdW5jdGlvbiB1KGUpe2NvbnN0IHQ9ZS5sYXN0SW5kZXhPZihcIi9cIik7cmV0dXJuLTE9PT10P1tcIi5cIixlXTpbZS5zbGljZSgwLHQpLGUuc2xpY2UodCsxKV19ZnVuY3Rpb24gYyhlKXtjb25zdFt0LHJdPWkoZSksW2Esb109dSh0KTtyZXR1cm5bYSxvLHJdfWZ1bmN0aW9uIGkoZSl7Y29uc3QgdD1hKGUpO3JldHVybiBudWxsPT10P1tlLFwiXCJdOltlLnNsaWNlKDAsZS5sZW5ndGgtdC5sZW5ndGgtMSksYC4ke3R9YF19YXN5bmMgZnVuY3Rpb24gcCh0KXtpZihcImJsb2JcIj09PXQudHlwZSlyZXR1cm4gdC5ibG9iO2lmKFwianNvblwiPT09dC50eXBlKXJldHVybiBuZXcgQmxvYihbdC5qc29uU3RyaW5nXSx7dHlwZTpcImFwcGxpY2F0aW9uL2pzb25cIn0pO3JldHVybihhd2FpdCBlKHQudXJsLHtyZXNwb25zZVR5cGU6XCJibG9iXCJ9KSkuZGF0YX1mdW5jdGlvbiBkKGUsdCl7aWYoIWUuaGFzUGF0aCgpKXJldHVybiBudWxsO2NvbnN0W2EsLG9dPWMoZS5wYXRoKTtyZXR1cm4gZS5wb3J0YWxJdGVtLnJlc291cmNlRnJvbVBhdGgocihhLHQrbykpfWZ1bmN0aW9uIG0oZSx0KXtpZighZS5oYXNQYXRoKCkpcmV0dXJuIG51bGw7Y29uc3RbYSwsb109YyhlLnBhdGgpO3JldHVybiBlLnBvcnRhbEl0ZW0ucmVzb3VyY2VGcm9tUGF0aChyKGEsdCtvKSl9ZXhwb3J0e3MgYXMgYWRkT3JVcGRhdGVSZXNvdXJjZSxwIGFzIGNvbnRlbnRUb0Jsb2IsbyBhcyBmZXRjaFJlc291cmNlcyxkIGFzIGdldFNpYmxpbmdPZlNhbWVUeXBlLG0gYXMgZ2V0U2libGluZ09mU2FtZVR5cGVJLGwgYXMgcmVtb3ZlQWxsUmVzb3VyY2VzLG4gYXMgcmVtb3ZlUmVzb3VyY2UsYyBhcyBzcGxpdFByZWZpeEZpbGVOYW1lQW5kRXh0ZW5zaW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi9jb3JlL0NvbGxlY3Rpb24uanNcIjtpbXBvcnR7cmVmZXJlbmNlU2V0dGVyIGFzIHR9ZnJvbVwiLi4vY29yZS9jb2xsZWN0aW9uVXRpbHMuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtpc1Byb21pc2VMaWtlIGFzIG99ZnJvbVwiLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGl9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBuIGZyb21cIi4uL2xheWVycy9MYXllci5qc1wiO2Z1bmN0aW9uIGwoZSxyLHQpe2xldCBzLG87aWYoZSlmb3IobGV0IGE9MCxpPWUubGVuZ3RoO2E8aTthKyspe2lmKHM9ZS5hdChhKSxzPy5bcl09PT10KXJldHVybiBzO2lmKFwiZ3JvdXBcIj09PXM/LnR5cGUmJihvPWwocy5sYXllcnMscix0KSxvKSlyZXR1cm4gb319Y29uc3QgZD1kPT57bGV0IHk9Y2xhc3MgZXh0ZW5kcyBke2NvbnN0cnVjdG9yKC4uLmUpe3N1cGVyKC4uLmUpLHRoaXMubGF5ZXJzPW5ldyByO2NvbnN0IHQ9ZT0+e2UucGFyZW50JiZcInJlbW92ZVwiaW4gZS5wYXJlbnQmJmUucGFyZW50LnJlbW92ZShlKX0sbz1lPT57ZS5wYXJlbnQ9dGhpcyx0aGlzLmxheWVyQWRkZWQoZSksXCJlbGV2YXRpb25cIiE9PWUudHlwZSYmXCJiYXNlLWVsZXZhdGlvblwiIT09ZS50eXBlfHxzLmdldExvZ2dlcih0aGlzKS5lcnJvcihgTGF5ZXIgJ3RpdGxlOiR7ZS50aXRsZX0sIGlkOiR7ZS5pZH0nIG9mIHR5cGUgJyR7ZS50eXBlfScgaXMgbm90IHN1cHBvcnRlZCBhcyBhbiBvcGVyYXRpb25hbCBsYXllciBhbmQgd2lsbCB0aGVyZWZvcmUgYmUgaWdub3JlZC5gKX0sYT1lPT57ZS5wYXJlbnQ9bnVsbCx0aGlzLmxheWVyUmVtb3ZlZChlKX07dGhpcy5hZGRIYW5kbGVzKFt0aGlzLmxheWVycy5vbihcImJlZm9yZS1hZGRcIiwoZT0+dChlLml0ZW0pKSksdGhpcy5sYXllcnMub24oXCJhZnRlci1hZGRcIiwoZT0+byhlLml0ZW0pKSksdGhpcy5sYXllcnMub24oXCJhZnRlci1yZW1vdmVcIiwoZT0+YShlLml0ZW0pKSldKX1kZXN0cm95KCl7Y29uc3QgZT10aGlzLmxheWVycy50b0FycmF5KCk7Zm9yKGNvbnN0IHIgb2YgZSlyLmRlc3Ryb3koKTt0aGlzLmxheWVycy5kZXN0cm95KCl9c2V0IGxheWVycyhlKXt0aGlzLl9zZXQoXCJsYXllcnNcIix0KGUsdGhpcy5fZ2V0KFwibGF5ZXJzXCIpKSl9YWRkKGUscil7Y29uc3QgdD10aGlzLmxheWVycztpZihyPXQuZ2V0TmV4dEluZGV4KHIpLGUgaW5zdGFuY2VvZiBuKXtjb25zdCBzPWU7cy5wYXJlbnQ9PT10aGlzP3RoaXMucmVvcmRlcihzLHIpOnQuYWRkKHMscil9ZWxzZSBvKGUpP2UudGhlbigoZT0+e3RoaXMuZGVzdHJveWVkfHx0aGlzLmFkZChlLHIpfSkpOnMuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiI2FkZCgpXCIsXCJUaGUgaXRlbSBiZWluZyBhZGRlZCBpcyBub3QgYSBMYXllciBvciBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIExheWVyLlwiKX1hZGRNYW55KGUscil7Y29uc3QgdD10aGlzLmxheWVycztsZXQgcz10LmdldE5leHRJbmRleChyKTtlLnNsaWNlKCkuZm9yRWFjaCgoZT0+e2UucGFyZW50IT09dGhpcz8odC5hZGQoZSxzKSxzKz0xKTp0aGlzLnJlb3JkZXIoZSxzKX0pKX1maW5kTGF5ZXJCeUlkKGUpe3JldHVybiBsKHRoaXMubGF5ZXJzLFwiaWRcIixlKX1maW5kTGF5ZXJCeVVpZChlKXtyZXR1cm4gbCh0aGlzLmxheWVycyxcInVpZFwiLGUpfXJlbW92ZShlKXtyZXR1cm4gdGhpcy5sYXllcnMucmVtb3ZlKGUpfXJlbW92ZU1hbnkoZSl7cmV0dXJuIHRoaXMubGF5ZXJzLnJlbW92ZU1hbnkoZSl9cmVtb3ZlQWxsKCl7cmV0dXJuIHRoaXMubGF5ZXJzLnJlbW92ZUFsbCgpfXJlb3JkZXIoZSxyKXtyZXR1cm4gdGhpcy5sYXllcnMucmVvcmRlcihlLHIpfWxheWVyQWRkZWQoZSl7fWxheWVyUmVtb3ZlZChlKXt9fTtyZXR1cm4gZShbYSgpXSx5LnByb3RvdHlwZSxcImxheWVyc1wiLG51bGwpLHk9ZShbaShcImVzcmkuc3VwcG9ydC5MYXllcnNNaXhpblwiKV0seSkseX07ZXhwb3J0e2QgYXMgTGF5ZXJzTWl4aW59O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydHtyZWZlcmVuY2VTZXR0ZXIgYXMgcn1mcm9tXCIuLi9jb3JlL2NvbGxlY3Rpb25VdGlscy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtmdW5jdGlvbiBhKHQsZSxyKXtpZih0KWZvcihsZXQgcz0wLG89dC5sZW5ndGg7czxvO3MrKyl7Y29uc3Qgbz10LmF0KHMpO2lmKG9bZV09PT1yKXJldHVybiBvO2lmKFwiZ3JvdXBcIj09PW8/LnR5cGUpe2NvbnN0IHQ9YShvLnRhYmxlcyxlLHIpO2lmKHQpcmV0dXJuIHR9fX1jb25zdCBsPWw9PntsZXQgbj1jbGFzcyBleHRlbmRzIGx7Y29uc3RydWN0b3IoLi4udCl7c3VwZXIoLi4udCksdGhpcy50YWJsZXM9bmV3IGUsdGhpcy5hZGRIYW5kbGVzKFt0aGlzLnRhYmxlcy5vbihcImFmdGVyLWFkZFwiLCh0PT57Y29uc3QgZT10Lml0ZW07ZS5wYXJlbnQmJmUucGFyZW50IT09dGhpcyYmXCJ0YWJsZXNcImluIGUucGFyZW50JiZlLnBhcmVudC50YWJsZXMucmVtb3ZlKGUpLGUucGFyZW50PXRoaXMsXCJmZWF0dXJlXCIhPT1lLnR5cGUmJnMuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGBMYXllciAndGl0bGU6JHtlLnRpdGxlfSwgaWQ6JHtlLmlkfScgb2YgdHlwZSAnJHtlLnR5cGV9JyBpcyBub3Qgc3VwcG9ydGVkIGFzIGEgdGFibGUgYW5kIHdpbGwgdGhlcmVmb3JlIGJlIGlnbm9yZWQuYCl9KSksdGhpcy50YWJsZXMub24oXCJhZnRlci1yZW1vdmVcIiwodD0+e3QuaXRlbS5wYXJlbnQ9bnVsbH0pKV0pfWRlc3Ryb3koKXtjb25zdCB0PXRoaXMudGFibGVzLnRvQXJyYXkoKTtmb3IoY29uc3QgZSBvZiB0KWUuZGVzdHJveSgpO3RoaXMudGFibGVzLmRlc3Ryb3koKX1zZXQgdGFibGVzKHQpe3RoaXMuX3NldChcInRhYmxlc1wiLHIodCx0aGlzLl9nZXQoXCJ0YWJsZXNcIikpKX1maW5kVGFibGVCeUlkKHQpe3JldHVybiBhKHRoaXMudGFibGVzLFwiaWRcIix0KX1maW5kVGFibGVCeVVpZCh0KXtyZXR1cm4gYSh0aGlzLnRhYmxlcyxcInVpZFwiLHQpfX07cmV0dXJuIHQoW28oKV0sbi5wcm90b3R5cGUsXCJ0YWJsZXNcIixudWxsKSxuPXQoW2koXCJlc3JpLnN1cHBvcnQuVGFibGVzTWl4aW5cIildLG4pLG59O2V4cG9ydHtsIGFzIFRhYmxlc01peGlufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi9jb3JlL0NvbGxlY3Rpb25GbGF0dGVuZXIuanNcIjtmdW5jdGlvbiB0KHQpe3JldHVybiBuZXcgZSh7Z2V0Q29sbGVjdGlvbnM6KCk9Plt0LnRhYmxlcyx0LmxheWVyc10sZ2V0Q2hpbGRyZW5GdW5jdGlvbjplPT57Y29uc3QgdD1bXTtyZXR1cm5cInRhYmxlc1wiaW4gZSYmdC5wdXNoKGUudGFibGVzKSxcImxheWVyc1wiaW4gZSYmdC5wdXNoKGUubGF5ZXJzKSx0fSxpdGVtRmlsdGVyRnVuY3Rpb246ZT0+e2NvbnN0IHQ9ZS5wYXJlbnQ7cmV0dXJuISF0JiZcInRhYmxlc1wiaW4gdCYmdC50YWJsZXMuaW5jbHVkZXMoZSl9fSl9ZnVuY3Rpb24gbihlKXtmb3IoY29uc3QgdCBvZiBlLnZhbHVlcygpKXQ/LmRlc3Ryb3koKTtlLmNsZWFyKCl9ZXhwb3J0e3QgYXMgY3JlYXRlRmxhdHRlbmVkVGFibGVzQ29sbGVjdGlvbixuIGFzIGRlc3Ryb3lNYXB9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGU9U3ltYm9sKFwiV2ViU2NlbmVcIik7ZXhwb3J0e2UgYXMgV2ViU2NlbmVUYWd9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtyZXN1bHQgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL2FzeW5jVXRpbHMuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2FsbFNldHRsZWRFcnJvcnMgYXMgbyx0aHJvd0lmQWJvcnRlZCBhcyB0LGVhY2hBbHdheXMgYXMgc31mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtnZW5lcmF0ZVVVSUQgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL3V1aWQuanNcIjtpbXBvcnR7Z2V0U2libGluZ09mU2FtZVR5cGVJIGFzIGMsY29udGVudFRvQmxvYiBhcyBufWZyb21cIi4uLy4uL3BvcnRhbC9zdXBwb3J0L3Jlc291cmNlVXRpbHMuanNcIjthc3luYyBmdW5jdGlvbiB1KGUscixvPW51bGwpe2NvbnN0IHQ9YXdhaXQgaShlLHIsbyk7YXdhaXQgaCh0LHIsbyl9YXN5bmMgZnVuY3Rpb24gcChlLHIsbyx0LHM9bnVsbCl7Y29uc3QgYT1hd2FpdCBpKG8sdCxzKTthd2FpdCBlLnVwZGF0ZSh7ZGF0YTpyfSksYXdhaXQgaChhLHQscyl9YXN5bmMgZnVuY3Rpb24gaShlLHMsbj1udWxsKXtpZighcz8ucmVzb3VyY2VzKXJldHVybjtjb25zdCB1PXMucG9ydGFsSXRlbT09PWUucG9ydGFsSXRlbT9uZXcgU2V0KGUucGF0aHMpOm5ldyBTZXQ7ZS5wYXRocy5sZW5ndGg9MCxlLnBvcnRhbEl0ZW09cy5wb3J0YWxJdGVtO2NvbnN0IHA9bmV3IFNldChzLnJlc291cmNlcy50b0tlZXAubWFwKChlPT5lLnJlc291cmNlLnBhdGgpKSksaT1uZXcgU2V0LGg9W107cC5mb3JFYWNoKChyPT57dS5kZWxldGUociksZS5wYXRocy5wdXNoKHIpfSkpO2Zvcihjb25zdCByIG9mIHMucmVzb3VyY2VzLnRvVXBkYXRlKWlmKHUuZGVsZXRlKHIucmVzb3VyY2UucGF0aCkscC5oYXMoci5yZXNvdXJjZS5wYXRoKXx8aS5oYXMoci5yZXNvdXJjZS5wYXRoKSl7Y29uc3R7cmVzb3VyY2U6byxjb250ZW50OnQsZmluaXNoOnMsZXJyb3I6dX09cixwPWMobyxhKCkpO2UucGF0aHMucHVzaChwLnBhdGgpLGgucHVzaChmKHtyZXNvdXJjZTpwLGNvbnRlbnQ6dCxjb21wcmVzczpyLmNvbXByZXNzLGZpbmlzaDpzLGVycm9yOnV9LG4pKX1lbHNlIGUucGF0aHMucHVzaChyLnJlc291cmNlLnBhdGgpLGgucHVzaChsKHIsbikpLGkuYWRkKHIucmVzb3VyY2UucGF0aCk7Zm9yKGNvbnN0IHIgb2Ygcy5yZXNvdXJjZXMudG9BZGQpZS5wYXRocy5wdXNoKHIucmVzb3VyY2UucGF0aCksdS5oYXMoci5yZXNvdXJjZS5wYXRoKT91LmRlbGV0ZShyLnJlc291cmNlLnBhdGgpOmgucHVzaChmKHIsbikpO2lmKDA9PT1oLmxlbmd0aClyZXR1cm4gdTtjb25zdCBtPWF3YWl0IG8oaCk7aWYodChuKSxtLmxlbmd0aD4wKXRocm93IG5ldyByKFwic2F2ZTpyZXNvdXJjZXNcIixcIkZhaWxlZCB0byBzYXZlIG9uZSBvciBtb3JlIHJlc291cmNlc1wiLHtlcnJvcnM6bX0pO3JldHVybiB1fWFzeW5jIGZ1bmN0aW9uIGgoZSxyLG89bnVsbCl7aWYoIWV8fCFyLnBvcnRhbEl0ZW0pcmV0dXJuO2NvbnN0IHQ9W107Zm9yKGNvbnN0IHMgb2YgZSl7Y29uc3QgZT1yLnBvcnRhbEl0ZW0ucmVzb3VyY2VGcm9tUGF0aChzKTt0LnB1c2goZS5wb3J0YWxJdGVtLnJlbW92ZVJlc291cmNlKGUsbykpfWF3YWl0IHModCl9YXN5bmMgZnVuY3Rpb24gZihyLG8pe2NvbnN0IHQ9ey4uLm51bGwhPW8/bzp7fSxjb21wcmVzczpyLmNvbXByZXNzfSxzPWF3YWl0IGUoci5yZXNvdXJjZS5wb3J0YWxJdGVtLmFkZFJlc291cmNlKHIucmVzb3VyY2UsYXdhaXQgbihyLmNvbnRlbnQpLHQpKTtpZighMCE9PXMub2spdGhyb3cgci5lcnJvcj8uKHMuZXJyb3IpLHMuZXJyb3I7ci5maW5pc2g/LihyLnJlc291cmNlKX1hc3luYyBmdW5jdGlvbiBsKHIsbyl7Y29uc3QgdD1hd2FpdCBlKHIucmVzb3VyY2UudXBkYXRlKGF3YWl0IG4oci5jb250ZW50KSxvKSk7aWYoITAhPT10Lm9rKXRocm93IHIuZXJyb3I/Lih0LmVycm9yKSx0LmVycm9yO3IuZmluaXNoPy4oci5yZXNvdXJjZSl9YXN5bmMgZnVuY3Rpb24gbShlKXtjb25zdCByPVtdO2Zvcihjb25zdCBvIG9mIGUuYWxsTGF5ZXJzKWlmKFwiYmVmb3JlU2F2ZVwiaW4gbyYmXCJmdW5jdGlvblwiPT10eXBlb2Ygby5iZWZvcmVTYXZlKXtjb25zdCBlPW8uYmVmb3JlU2F2ZSgpO2UmJnIucHVzaChlKX1hd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocil9ZXhwb3J0e20gYXMgYmVmb3JlU2F2ZSx1IGFzIHNhdmVSZXNvdXJjZXMscCBhcyB1cGRhdGVJdGVtV2l0aFJlc291cmNlc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtjbG9uZSBhcyB0fWZyb21cIi4uLy4uL2NvcmUvbGFuZy5qc1wiO2ltcG9ydHtnZXREZWVwVmFsdWUgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL29iamVjdC5qc1wiO2ltcG9ydHtudW1iZXJUb0pTT04gYXMgcn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9leHRlbnNpb25zL3NlcmlhbGl6YWJsZVByb3BlcnR5L3dyaXRlci5qc1wiO2ltcG9ydHtpc0ZlYXR1cmVDb2xsZWN0aW9uTGF5ZXIgYXMgaX1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9sYXllclV0aWxzLmpzXCI7Y29uc3Qgbz1uZXcgU2V0KFtcImJpbmctbWFwc1wiLFwiaW1hZ2VyeVwiLFwiaW1hZ2VyeS10aWxlXCIsXCJtYXAtaW1hZ2VcIixcIm9wZW4tc3RyZWV0LW1hcFwiLFwidGlsZVwiLFwidW5rbm93blwiLFwidW5zdXBwb3J0ZWRcIixcInZlY3Rvci10aWxlXCIsXCJ3ZWItdGlsZVwiLFwid21zXCIsXCJ3bXRzXCJdKSxsPW5ldyBTZXQoW1wiY3N2XCIsXCJmZWF0dXJlXCIsXCJnZW8tcnNzXCIsXCJnZW9qc29uXCIsXCJncm91cFwiLFwiaW1hZ2VyeVwiLFwiaW1hZ2VyeS10aWxlXCIsXCJrbWxcIixcIm1hcC1pbWFnZVwiLFwibWFwLW5vdGVzXCIsXCJtZWRpYVwiLFwib2djLWZlYXR1cmVcIixcIm9yaWVudGVkLWltYWdlcnlcIixcInJvdXRlXCIsXCJzdHJlYW1cIixcInN1YnR5cGUtZ3JvdXBcIixcInRpbGVcIixcInVua25vd25cIixcInVuc3VwcG9ydGVkXCIsXCJ2ZWN0b3ItdGlsZVwiLFwid2ViLXRpbGVcIixcIndmc1wiLFwid21zXCIsXCJ3bXRzXCJdKTtmdW5jdGlvbiBhKGUpe28uZGVsZXRlKGUpLGwuZGVsZXRlKGUpfWZ1bmN0aW9uIHMoZSl7by5hZGQoZSksbC5hZGQoZSl9ZnVuY3Rpb24gdShlKXtyZXR1cm5cImJhc2VtYXBcIj09PWUubGF5ZXJDb250YWluZXJUeXBlP286XCJvcGVyYXRpb25hbC1sYXllcnNcIj09PWUubGF5ZXJDb250YWluZXJUeXBlP2w6bnVsbH1mdW5jdGlvbiBkKGUsdCl7aWYodC5yZXN0cmljdGVkV2ViTWFwV3JpdGluZyl7Y29uc3Qgbj11KHQpO3JldHVybiBudWxsPT1ufHxuLmhhcyhlLnR5cGUpJiYhaShlKX1yZXR1cm4hMH1mdW5jdGlvbiBwKGUsdCl7aWYodClpZihpKGUpKXtjb25zdCByPW4oXCJmZWF0dXJlQ29sbGVjdGlvbi5sYXllcnNcIix0KSxpPXI/LlswXT8ubGF5ZXJEZWZpbml0aW9uO2kmJm0oZSxpKX1lbHNlXCJncm91cFwiIT09ZS50eXBlJiZtKGUsdCl9ZnVuY3Rpb24gbShlLHQpe1wibWF4U2NhbGVcImluIGUmJih0Lm1heFNjYWxlPXIoZS5tYXhTY2FsZSk/P3ZvaWQgMCksXCJtaW5TY2FsZVwiaW4gZSYmKHQubWluU2NhbGU9cihlLm1pblNjYWxlKT8/dm9pZCAwKX1mdW5jdGlvbiBjKGUsdCl7aWYocChlLHQpLHQmJih0LmlkPWUuaWQsXCJibGVuZE1vZGVcImluIGUmJih0LmJsZW5kTW9kZT1lLmJsZW5kTW9kZSxcIm5vcm1hbFwiPT09dC5ibGVuZE1vZGUmJmRlbGV0ZSB0LmJsZW5kTW9kZSksdC5vcGFjaXR5PXIoZS5vcGFjaXR5KT8/dm9pZCAwLHQudGl0bGU9ZS50aXRsZXx8XCJMYXllclwiLHQudmlzaWJpbGl0eT1lLnZpc2libGUsXCJsZWdlbmRFbmFibGVkXCJpbiBlJiZcIndtdHNcIiE9PWUudHlwZSkpaWYoaShlKSl7Y29uc3Qgbj10LmZlYXR1cmVDb2xsZWN0aW9uO24mJihuLnNob3dMZWdlbmQ9ZS5sZWdlbmRFbmFibGVkKX1lbHNlIHQuc2hvd0xlZ2VuZD1lLmxlZ2VuZEVuYWJsZWR9ZnVuY3Rpb24gZihuLHIsbyl7aWYoIW4ucGVyc2lzdGVuY2VFbmFibGVkKXJldHVybiBudWxsO2lmKCEoXCJ3cml0ZVwiaW4gbil8fCFuLndyaXRlKXJldHVybiBvPy5tZXNzYWdlcyYmby5tZXNzYWdlcy5wdXNoKG5ldyBlKFwibGF5ZXI6dW5zdXBwb3J0ZWRcIixgTGF5ZXJzICgke24udGl0bGV9LCAke24uaWR9KSBvZiB0eXBlICcke24uZGVjbGFyZWRDbGFzc30nIGNhbm5vdCBiZSBwZXJzaXN0ZWRgLHtsYXllcjpufSkpLG51bGw7aWYoaShuKSYmIW4uaXNUYWJsZSlyPW4ucmVzb3VyY2VJbmZvO2Vsc2UgaWYoZChuLG8pKXtjb25zdCBlPXt9O3JldHVybiBuLndyaXRlKGUsbyk/ZTpudWxsfXJldHVybiBudWxsIT1yJiZjKG4scj10KHIpKSxyfWV4cG9ydHtzIGFzIGRpc2FibGVSZXN0cmljdGVkV3JpdGluZyxhIGFzIGVuYWJsZVJlc3RyaWN0ZWRXcml0aW5nLGYgYXMgZ2V0TGF5ZXJKU09OfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==