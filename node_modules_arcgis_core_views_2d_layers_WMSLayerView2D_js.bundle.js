"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["node_modules_arcgis_core_views_2d_layers_WMSLayerView2D_js"],{

/***/ "./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExportWMSImageParameters: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const a={visible:"visibleSublayers"};let o=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.scale=0}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.removeHandles("layer"),e&&this.addHandles([e.sublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("wms-sublayer-update",(e=>this.notifyChange(a[e.propertyName])))],"layer"))}get layers(){return this.visibleSublayers.filter((({name:e})=>e)).map((({name:e})=>e)).join()}get version(){this.commitProperty("layers");const e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=e?.sublayers,t=[],a=e=>{const{minScale:s,maxScale:o,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===o||r>=o))&&(l?l.forEach(a):t.push(e))};return s?.forEach(a),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:a}=e;return{format:s,request:"GetMap",service:"WMS",styles:"",transparent:t?"TRUE":"FALSE",version:a,layers:r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],o.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],o.prototype,"layers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number})],o.prototype,"scale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],o.prototype,"version",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],o.prototype,"visibleSublayers",null),o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.ExportWMSImageParameters")],o);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/WMSLayerView2D.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/WMSLayerView2D.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../engine/BitmapContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _support_ExportStrategy_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/ExportStrategy.js */ "./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../layers/RefreshableLayerView.js */ "./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js");
/* harmony import */ var _layers_WMSLayerView_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../layers/WMSLayerView.js */ "./node_modules/@arcgis/core/views/layers/WMSLayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let y=class extends((0,_layers_WMSLayerView_js__WEBPACK_IMPORTED_MODULE_16__["default"])((0,_layers_RefreshableLayerView_js__WEBPACK_IMPORTED_MODULE_15__["default"])((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_12__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_14__["default"])))){constructor(){super(...arguments),this.bitmapContainer=new _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_11__.BitmapContainer}supportsSpatialReference(e){return this.layer.serviceSupportsSpatialReference(e)}update(e){this.strategy.update(e).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger(this).error(e)}))}attach(){const{layer:e}=this,{imageMaxHeight:t,imageMaxWidth:r}=e;this.bitmapContainer=new _engine_BitmapContainer_js__WEBPACK_IMPORTED_MODULE_11__.BitmapContainer,this.container.addChild(this.bitmapContainer),this.strategy=new _support_ExportStrategy_js__WEBPACK_IMPORTED_MODULE_13__["default"]({container:this.bitmapContainer,fetchSource:this.fetchImage.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxHeight:t,imageMaxWidth:r,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1}),this.addAttachHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.exportImageVersion),(()=>this.requestUpdate())))}detach(){this.strategy=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.strategy),this.container.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}createFetchPopupFeaturesQuery(e){const{view:t,bitmapContainer:r}=this,{x:i,y:s}=e,{spatialReference:a}=t;let o,n=0,m=0;if(r.children.some((e=>{const{width:t,height:r,resolution:h,x:c,y:d}=e,u=c+h*t,y=d-h*r;return i>=c&&i<=u&&s<=d&&s>=y&&(o=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_10__["default"]({xmin:c,ymin:y,xmax:u,ymax:d,spatialReference:a}),n=t,m=r,!0)})),!o)return null;const h=o.width/n,c=Math.round((i-o.xmin)/h),d=Math.round((o.ymax-s)/h);return{extent:o,width:n,height:m,x:c,y:d}}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}fetchImage(e,t,r,i){return this.layer.fetchImageBitmap(e,t,r,{timeExtent:this.timeExtent,...i})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"strategy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],y.prototype,"updating",void 0),y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.2d.layers.WMSLayerView2D")],y);const g=y;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/WMSLayerView.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/WMSLayerView.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _layers_support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/support/ExportWMSImageParameters.js */ "./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const i=i=>{let m=class extends i{initialize(){this.exportImageParameters=new _layers_support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_9__.ExportWMSImageParameters({layer:this.layer})}destroy(){this.exportImageParameters=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.exportImageParameters)}get exportImageVersion(){return this.exportImageParameters?.commitProperty("version"),this.commitProperty("timeExtent"),(this._get("exportImageVersion")||0)+1}fetchPopupFeatures(e){const{layer:t}=this;if(!e)return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:t}));const{popupEnabled:o}=t;if(!o)return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:o}));const s=this.createFetchPopupFeaturesQuery(e);if(!s)return Promise.resolve([]);const{extent:p,width:a,height:i,x:m,y:n}=s;if(!(p&&a&&i))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",{extent:p,width:a,height:i});return t.fetchFeatureInfo(p,a,i,m,n)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"exportImageParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"exportImageVersion",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__.combinedViewLayerTimeExtentProperty)],m.prototype,"timeExtent",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.mixins.WMSLayerView")],m),m};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2xheWVyc19XTVNMYXllclZpZXcyRF9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUMwVixTQUFTLDRCQUE0QixvQkFBb0IseURBQUMsQ0FBQyxlQUFlLHNCQUFzQixhQUFhLG9QQUFvUCxhQUFhLHVDQUF1QyxPQUFPLGNBQWMsT0FBTyxjQUFjLGNBQWMsOEJBQThCLG1CQUFtQiw0RUFBNEUsdUJBQXVCLE1BQU0sZ0JBQWdCLGdDQUFnQyxNQUFNLDRDQUE0QyxHQUFHLHNFQUFzRSx1QkFBdUIsU0FBUyxNQUFNLGlCQUFpQixPQUFPLDRDQUE0QyxHQUFHLE9BQU8scUdBQXFHLHVEQUFDLEVBQUUsc0ZBQUMsOEJBQThCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSwrQkFBK0IsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksK0JBQStCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLDBDQUEwQyx1REFBQyxFQUFFLHNGQUFDLHFEQUEyRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKcHBEO0FBQ0E7QUFDQTtBQUNBO0FBQ3kyQixvQkFBb0Isb0VBQUMsQ0FBQyw0RUFBQyxDQUFDLGtFQUFDLENBQUMsNkRBQUMsS0FBSyxjQUFjLDZDQUE2Qyx3RUFBQyxDQUFDLDRCQUE0QixxREFBcUQsVUFBVSxtQ0FBbUMsbUVBQUMsS0FBSyx1REFBQywwQkFBMEIsR0FBRyxTQUFTLE1BQU0sUUFBUSxPQUFPLGlDQUFpQyxHQUFHLHlCQUF5Qix3RUFBQyxpRUFBaUUsbUVBQUMsRUFBRSxxTkFBcU4sd0JBQXdCLDZEQUFDLDREQUE0RCxTQUFTLGNBQWMsNERBQUMsbURBQW1ELGFBQWEsY0FBYyxVQUFVLHFCQUFxQixpQ0FBaUMsTUFBTSx5QkFBeUIsT0FBTyxRQUFRLElBQUksbUJBQW1CLEdBQUcsY0FBYyx3QkFBd0IsTUFBTSxzQ0FBc0MsbUJBQW1CLHNDQUFzQyw0REFBQyxFQUFFLCtDQUErQyxjQUFjLGtCQUFrQix3RUFBd0UsT0FBTyxtQ0FBbUMsa0JBQWtCLHFCQUFxQixhQUFhLG9EQUFvRCxvQkFBb0IsMENBQTBDLGdDQUFnQyxJQUFJLHVEQUFDLEVBQUUsc0ZBQUMsbUNBQW1DLHVEQUFDLEVBQUUsc0ZBQUMscUNBQXFDLHVEQUFDLEVBQUUsc0ZBQUMsNENBQTRDLFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSng5RTtBQUNBO0FBQ0E7QUFDQTtBQUNxa0IsWUFBWSxzQkFBc0IsYUFBYSwrQkFBK0IsaUdBQUMsRUFBRSxpQkFBaUIsRUFBRSxVQUFVLDJCQUEyQiw0REFBQyw2QkFBNkIseUJBQXlCLHNJQUFzSSxzQkFBc0IsTUFBTSxRQUFRLE1BQU0sZ0NBQWdDLHNEQUFDLG9FQUFvRSxRQUFRLEdBQUcsTUFBTSxlQUFlLEdBQUcsZ0NBQWdDLHNEQUFDLGtFQUFrRSxlQUFlLEdBQUcsOENBQThDLGlDQUFpQyxNQUFNLGtDQUFrQyxHQUFHLHdCQUF3QixzREFBQyxtRkFBbUYsMEJBQTBCLEVBQUUsdUNBQXVDLE9BQU8sdURBQUMsRUFBRSxzRkFBQyxnREFBZ0QsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksMENBQTBDLHVEQUFDLEVBQUUsc0ZBQUMsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsQ0FBQyxvR0FBQyxzQ0FBc0MsdURBQUMsRUFBRSxzRkFBQywyQ0FBZ0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9FeHBvcnRXTVNJbWFnZVBhcmFtZXRlcnMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL1dNU0xheWVyVmlldzJELmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9XTVNMYXllclZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2NvbnN0IGE9e3Zpc2libGU6XCJ2aXNpYmxlU3VibGF5ZXJzXCJ9O2xldCBvPWNsYXNzIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnNjYWxlPTB9c2V0IGxheWVyKGUpe3RoaXMuX2dldChcImxheWVyXCIpIT09ZSYmKHRoaXMuX3NldChcImxheWVyXCIsZSksdGhpcy5yZW1vdmVIYW5kbGVzKFwibGF5ZXJcIiksZSYmdGhpcy5hZGRIYW5kbGVzKFtlLnN1YmxheWVycy5vbihcImNoYW5nZVwiLCgoKT0+dGhpcy5ub3RpZnlDaGFuZ2UoXCJ2aXNpYmxlU3VibGF5ZXJzXCIpKSksZS5vbihcIndtcy1zdWJsYXllci11cGRhdGVcIiwoZT0+dGhpcy5ub3RpZnlDaGFuZ2UoYVtlLnByb3BlcnR5TmFtZV0pKSldLFwibGF5ZXJcIikpfWdldCBsYXllcnMoKXtyZXR1cm4gdGhpcy52aXNpYmxlU3VibGF5ZXJzLmZpbHRlcigoKHtuYW1lOmV9KT0+ZSkpLm1hcCgoKHtuYW1lOmV9KT0+ZSkpLmpvaW4oKX1nZXQgdmVyc2lvbigpe3RoaXMuY29tbWl0UHJvcGVydHkoXCJsYXllcnNcIik7Y29uc3QgZT10aGlzLmxheWVyO3JldHVybiBlJiZlLmNvbW1pdFByb3BlcnR5KFwiaW1hZ2VUcmFuc3BhcmVuY3lcIiksKHRoaXMuX2dldChcInZlcnNpb25cIil8fDApKzF9Z2V0IHZpc2libGVTdWJsYXllcnMoKXtjb25zdHtsYXllcjplLHNjYWxlOnJ9PXRoaXMscz1lPy5zdWJsYXllcnMsdD1bXSxhPWU9Pntjb25zdHttaW5TY2FsZTpzLG1heFNjYWxlOm8sc3VibGF5ZXJzOmwsdmlzaWJsZTppfT1lO2kmJigwPT09cnx8KDA9PT1zfHxyPD1zKSYmKDA9PT1vfHxyPj1vKSkmJihsP2wuZm9yRWFjaChhKTp0LnB1c2goZSkpfTtyZXR1cm4gcz8uZm9yRWFjaChhKSx0fXRvSlNPTigpe2NvbnN0e2xheWVyOmUsbGF5ZXJzOnJ9PXRoaXMse2ltYWdlRm9ybWF0OnMsaW1hZ2VUcmFuc3BhcmVuY3k6dCx2ZXJzaW9uOmF9PWU7cmV0dXJue2Zvcm1hdDpzLHJlcXVlc3Q6XCJHZXRNYXBcIixzZXJ2aWNlOlwiV01TXCIsc3R5bGVzOlwiXCIsdHJhbnNwYXJlbnQ6dD9cIlRSVUVcIjpcIkZBTFNFXCIsdmVyc2lvbjphLGxheWVyczpyfX19O2UoW3MoKV0sby5wcm90b3R5cGUsXCJsYXllclwiLG51bGwpLGUoW3Moe3JlYWRPbmx5OiEwfSldLG8ucHJvdG90eXBlLFwibGF5ZXJzXCIsbnVsbCksZShbcyh7dHlwZTpOdW1iZXJ9KV0sby5wcm90b3R5cGUsXCJzY2FsZVwiLHZvaWQgMCksZShbcyh7cmVhZE9ubHk6ITB9KV0sby5wcm90b3R5cGUsXCJ2ZXJzaW9uXCIsbnVsbCksZShbcyh7cmVhZE9ubHk6ITB9KV0sby5wcm90b3R5cGUsXCJ2aXNpYmxlU3VibGF5ZXJzXCIsbnVsbCksbz1lKFt0KFwiZXNyaS5sYXllcnMuc3VwcG9ydC5FeHBvcnRXTVNJbWFnZVBhcmFtZXRlcnNcIildLG8pO2V4cG9ydHtvIGFzIEV4cG9ydFdNU0ltYWdlUGFyYW1ldGVyc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtpc0Fib3J0RXJyb3IgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0e0JpdG1hcENvbnRhaW5lciBhcyBufWZyb21cIi4uL2VuZ2luZS9CaXRtYXBDb250YWluZXIuanNcIjtpbXBvcnR7TGF5ZXJWaWV3MkRNaXhpbiBhcyBtfWZyb21cIi4vTGF5ZXJWaWV3MkQuanNcIjtpbXBvcnQgaCBmcm9tXCIuL3N1cHBvcnQvRXhwb3J0U3RyYXRlZ3kuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi8uLi9sYXllcnMvTGF5ZXJWaWV3LmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vbGF5ZXJzL1JlZnJlc2hhYmxlTGF5ZXJWaWV3LmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vbGF5ZXJzL1dNU0xheWVyVmlldy5qc1wiO2xldCB5PWNsYXNzIGV4dGVuZHModShkKG0oYykpKSl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuYml0bWFwQ29udGFpbmVyPW5ldyBufXN1cHBvcnRzU3BhdGlhbFJlZmVyZW5jZShlKXtyZXR1cm4gdGhpcy5sYXllci5zZXJ2aWNlU3VwcG9ydHNTcGF0aWFsUmVmZXJlbmNlKGUpfXVwZGF0ZShlKXt0aGlzLnN0cmF0ZWd5LnVwZGF0ZShlKS5jYXRjaCgoZT0+e2koZSl8fHQuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKGUpfSkpfWF0dGFjaCgpe2NvbnN0e2xheWVyOmV9PXRoaXMse2ltYWdlTWF4SGVpZ2h0OnQsaW1hZ2VNYXhXaWR0aDpyfT1lO3RoaXMuYml0bWFwQ29udGFpbmVyPW5ldyBuLHRoaXMuY29udGFpbmVyLmFkZENoaWxkKHRoaXMuYml0bWFwQ29udGFpbmVyKSx0aGlzLnN0cmF0ZWd5PW5ldyBoKHtjb250YWluZXI6dGhpcy5iaXRtYXBDb250YWluZXIsZmV0Y2hTb3VyY2U6dGhpcy5mZXRjaEltYWdlLmJpbmQodGhpcykscmVxdWVzdFVwZGF0ZTp0aGlzLnJlcXVlc3RVcGRhdGUuYmluZCh0aGlzKSxpbWFnZU1heEhlaWdodDp0LGltYWdlTWF4V2lkdGg6cixpbWFnZVJvdGF0aW9uU3VwcG9ydGVkOiExLGltYWdlTm9ybWFsaXphdGlvblN1cHBvcnRlZDohMSxoaWRwaTohMX0pLHRoaXMuYWRkQXR0YWNoSGFuZGxlcyhzKCgoKT0+dGhpcy5leHBvcnRJbWFnZVZlcnNpb24pLCgoKT0+dGhpcy5yZXF1ZXN0VXBkYXRlKCkpKSl9ZGV0YWNoKCl7dGhpcy5zdHJhdGVneT1yKHRoaXMuc3RyYXRlZ3kpLHRoaXMuY29udGFpbmVyLnJlbW92ZUFsbENoaWxkcmVuKCl9bW92ZVN0YXJ0KCl7fXZpZXdDaGFuZ2UoKXt9bW92ZUVuZCgpe3RoaXMucmVxdWVzdFVwZGF0ZSgpfWNyZWF0ZUZldGNoUG9wdXBGZWF0dXJlc1F1ZXJ5KGUpe2NvbnN0e3ZpZXc6dCxiaXRtYXBDb250YWluZXI6cn09dGhpcyx7eDppLHk6c309ZSx7c3BhdGlhbFJlZmVyZW5jZTphfT10O2xldCBvLG49MCxtPTA7aWYoci5jaGlsZHJlbi5zb21lKChlPT57Y29uc3R7d2lkdGg6dCxoZWlnaHQ6cixyZXNvbHV0aW9uOmgseDpjLHk6ZH09ZSx1PWMraCp0LHk9ZC1oKnI7cmV0dXJuIGk+PWMmJmk8PXUmJnM8PWQmJnM+PXkmJihvPW5ldyBwKHt4bWluOmMseW1pbjp5LHhtYXg6dSx5bWF4OmQsc3BhdGlhbFJlZmVyZW5jZTphfSksbj10LG09ciwhMCl9KSksIW8pcmV0dXJuIG51bGw7Y29uc3QgaD1vLndpZHRoL24sYz1NYXRoLnJvdW5kKChpLW8ueG1pbikvaCksZD1NYXRoLnJvdW5kKChvLnltYXgtcykvaCk7cmV0dXJue2V4dGVudDpvLHdpZHRoOm4saGVpZ2h0Om0seDpjLHk6ZH19YXN5bmMgZG9SZWZyZXNoKCl7dGhpcy5yZXF1ZXN0VXBkYXRlKCl9aXNVcGRhdGluZygpe3JldHVybiB0aGlzLnN0cmF0ZWd5LnVwZGF0aW5nfHx0aGlzLnVwZGF0ZVJlcXVlc3RlZH1mZXRjaEltYWdlKGUsdCxyLGkpe3JldHVybiB0aGlzLmxheWVyLmZldGNoSW1hZ2VCaXRtYXAoZSx0LHIse3RpbWVFeHRlbnQ6dGhpcy50aW1lRXh0ZW50LC4uLml9KX19O2UoW2EoKV0seS5wcm90b3R5cGUsXCJzdHJhdGVneVwiLHZvaWQgMCksZShbYSgpXSx5LnByb3RvdHlwZSxcInVwZGF0aW5nXCIsdm9pZCAwKSx5PWUoW28oXCJlc3JpLnZpZXdzLjJkLmxheWVycy5XTVNMYXllclZpZXcyRFwiKV0seSk7Y29uc3QgZz15O2V4cG9ydHtnIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBvfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgc31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2NvbWJpbmVkVmlld0xheWVyVGltZUV4dGVudFByb3BlcnR5IGFzIHB9ZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvY29tbW9uUHJvcGVydGllcy5qc1wiO2ltcG9ydHtFeHBvcnRXTVNJbWFnZVBhcmFtZXRlcnMgYXMgYX1mcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9FeHBvcnRXTVNJbWFnZVBhcmFtZXRlcnMuanNcIjtjb25zdCBpPWk9PntsZXQgbT1jbGFzcyBleHRlbmRzIGl7aW5pdGlhbGl6ZSgpe3RoaXMuZXhwb3J0SW1hZ2VQYXJhbWV0ZXJzPW5ldyBhKHtsYXllcjp0aGlzLmxheWVyfSl9ZGVzdHJveSgpe3RoaXMuZXhwb3J0SW1hZ2VQYXJhbWV0ZXJzPXQodGhpcy5leHBvcnRJbWFnZVBhcmFtZXRlcnMpfWdldCBleHBvcnRJbWFnZVZlcnNpb24oKXtyZXR1cm4gdGhpcy5leHBvcnRJbWFnZVBhcmFtZXRlcnM/LmNvbW1pdFByb3BlcnR5KFwidmVyc2lvblwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwidGltZUV4dGVudFwiKSwodGhpcy5fZ2V0KFwiZXhwb3J0SW1hZ2VWZXJzaW9uXCIpfHwwKSsxfWZldGNoUG9wdXBGZWF0dXJlcyhlKXtjb25zdHtsYXllcjp0fT10aGlzO2lmKCFlKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgcihcIndtc2xheWVydmlldzpmZXRjaFBvcHVwRmVhdHVyZXNcIixcIk5vdGhpbmcgdG8gZmV0Y2ggd2l0aG91dCBhcmVhXCIse2xheWVyOnR9KSk7Y29uc3R7cG9wdXBFbmFibGVkOm99PXQ7aWYoIW8pcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyByKFwid21zbGF5ZXJ2aWV3OmZldGNoUG9wdXBGZWF0dXJlc1wiLFwicG9wdXBFbmFibGVkIHNob3VsZCBiZSB0cnVlXCIse3BvcHVwRW5hYmxlZDpvfSkpO2NvbnN0IHM9dGhpcy5jcmVhdGVGZXRjaFBvcHVwRmVhdHVyZXNRdWVyeShlKTtpZighcylyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtjb25zdHtleHRlbnQ6cCx3aWR0aDphLGhlaWdodDppLHg6bSx5Om59PXM7aWYoIShwJiZhJiZpKSl0aHJvdyBuZXcgcihcIndtc2xheWVydmlldzpmZXRjaFBvcHVwRmVhdHVyZXNcIixcIldNU0xheWVyIGRvZXMgbm90IHN1cHBvcnQgZmV0Y2hpbmcgZmVhdHVyZXMuXCIse2V4dGVudDpwLHdpZHRoOmEsaGVpZ2h0Oml9KTtyZXR1cm4gdC5mZXRjaEZlYXR1cmVJbmZvKHAsYSxpLG0sbil9fTtyZXR1cm4gZShbbygpXSxtLnByb3RvdHlwZSxcImV4cG9ydEltYWdlUGFyYW1ldGVyc1wiLHZvaWQgMCksZShbbyh7cmVhZE9ubHk6ITB9KV0sbS5wcm90b3R5cGUsXCJleHBvcnRJbWFnZVZlcnNpb25cIixudWxsKSxlKFtvKCldLG0ucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW28ocCldLG0ucHJvdG90eXBlLFwidGltZUV4dGVudFwiLHZvaWQgMCksbT1lKFtzKFwiZXNyaS5sYXllcnMubWl4aW5zLldNU0xheWVyVmlld1wiKV0sbSksbX07ZXhwb3J0e2kgYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=