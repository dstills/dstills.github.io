"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_views_2d_engine_webgl_Utils_js-node_modules_arcgis_core_view-23ffb8"],{

/***/ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/support/UpdatingHandles.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UpdatingHandles: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _scheduling_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let h=class extends _Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(s,e,t={}){return this._installWatch(s,e,t,_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)}addWhen(s,e,t={}){return this._installWatch(s,e,t,_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.when)}addOnCollectionChange(s,e,{initial:i=!1,final:n=!1}={}){const r=++this._handleId;return this.addHandles([(0,_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)(s,"after-changes",this._createSyncUpdatingCallback(),_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.sync),(0,_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.on)(s,"change",e,{onListenerAdd:i?s=>e({added:s.toArray(),removed:[]}):void 0,onListenerRemove:n?s=>e({added:[],removed:s.toArray()}):void 0})],r),(0,_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>this.removeHandles(r)))}addPromise(s){if(null==s)return s;const e=++this._handleId;this.addHandles((0,_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>{this._pendingPromises.delete(s)&&(0!==this._pendingPromises.size||this.hasHandles(c)||this._set("updating",!1))})),e),this._pendingPromises.add(s),this._set("updating",!0);const i=()=>this.removeHandles(e);return s.then(i,i),s}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(s,e,i={},n){const d=++this._handleId;i.sync||this._installSyncUpdatingWatch(s,d);const a=n(s,e,i);return this.addHandles(a,d),(0,_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>this.removeHandles(d)))}_installSyncUpdatingWatch(s,e){const t=this._createSyncUpdatingCallback(),n=(0,_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)(s,t,{sync:!0,equals:()=>!1});return this.addHandles(n,e),n}_createSyncUpdatingCallback(){return()=>{this.removeHandles(c),++this._scheduleHandleId;const s=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles((0,_scheduling_js__WEBPACK_IMPORTED_MODULE_4__.schedule)((()=>{s===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(c))})),c)}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],h.prototype,"updating",void 0),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.core.support.UpdatingHandles")],h);const c=-42;


/***/ }),

/***/ "./node_modules/@arcgis/core/geohash/GeohashTree.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/geohash/GeohashTree.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GeohashNode: () => (/* binding */ c),
/* harmony export */   GeohashTree: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _geohashUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _views_2d_layers_features_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/2d/layers/features/support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class h{constructor(e=[],s,i=8096){this.onRelease=t=>{},this._nodes=0,this._root=new c(this,0,0,0),this._statisticFields=e,this._pool=i?new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](8096):null,this._serviceInfo=s}destroy(){this.clear()}_acquire(t,e,s){this._nodes++;let i=null;return null!=this._pool&&(i=this._pool.dequeue()),null!=i?i.realloc(t,e,s):i=new c(this,t,e,s),i}_release(t){this.onRelease(t),this._nodes--,null!=this._pool&&this._pool.enqueue(t)}get count(){return this._root.count}get size(){return this._nodes}get poolSize(){return this._pool?.size??0}get depth(){let t=0;return this.forEach((e=>t=Math.max(t,e.depth))),t}dropLevels(t){this.forEach((e=>{if(e.depth>=t)for(let t=0;t<e.children.length;t++){const s=e.children[t];s&&this._release(s)}})),this.forEach((e=>{if(e.depth>=t)for(let t=0;t<e.children.length;t++)e.children[t]=null}))}clear(){this.forEach((t=>this._release(t))),this._root=new c(this,0,0,0)}insert(t,e,s=0){const i=_views_2d_layers_features_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatures([t],this._serviceInfo).getCursor();i.next();const n=i.readGeometry();if(!n)return;const[o,a]=n.coords,r=t.geohashX,h=t.geohashY;this.insertCursor(i,t.displayId,o,a,r,h,e,s)}insertCursor(t,e,s,i,n,o,a,r=0){let l=this._root,h=0,c=0,u=0;for(;null!==l;){if(l.depth>=r&&(l.count+=1,l.xTotal+=s,l.yTotal+=i,l.xGeohashTotal+=n,l.yGeohashTotal+=o,l.referenceId=e,this._updateStatisticsCursor(t,l,1)),h>=a)return void l.add(e);const d=Math.ceil((h+1)/2),f=Math.floor((h+1)/2),x=1-h%2,m=30-(3*d+2*f),g=30-(2*d+3*f),y=(n&7*x+3*(1-x)<<m)>>m,p=(o&3*x+7*(1-x)<<g)>>g,_=y+p*(8*x+4*(1-x));c=c<<3*x+2*(1-x)|y,u=u<<2*x+3*(1-x)|p,null==l.children[_]&&(l.children[_]=this._acquire(c,u,h+1)),h+=1,l=l.children[_]}}remove(t,e){const s=_views_2d_layers_features_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_6__.FeatureSetReaderJSON.fromOptimizedFeatures([t],this._serviceInfo).getCursor();s.next();const i=s.readGeometry();if(!i)return;const[n,o]=i.coords,a=t.geohashX,r=t.geohashY;this.removeCursor(s,n,o,a,r,e)}removeCursor(t,e,s,i,n,o){let a=this._root,r=0;for(;null!==a;){if(a.count-=1,a.xTotal-=e,a.yTotal-=s,a.xGeohashTotal-=i,a.yGeohashTotal-=n,this._updateStatisticsCursor(t,a,-1),r>=o)return void a.remove(t.getDisplayId());const l=Math.ceil((r+1)/2),h=Math.floor((r+1)/2),c=1-r%2,u=30-(3*l+2*h),d=30-(2*l+3*h),f=((i&7*c+3*(1-c)<<u)>>u)+((n&3*c+7*(1-c)<<d)>>d)*(8*c+4*(1-c)),x=a.children[f];1===x?.count&&(this._release(x),a.children[f]=null),r+=1,a=x}}forEach(t){let e=this._root;for(;null!==e;){const s=this._linkChildren(e)||e.next;t(e),e=s}}find(t,e,s){return this._root.find(t,e,s,0,0,0)}findIf(t){let e=null;return this.forEach((s=>{t(s)&&(e=s)})),e}findAllIf(t){const e=[];return this.forEach((s=>{t(s)&&e.push(s)})),e}findSingleOccupancyNode(t,e,s,i,n){let o=this._root;for(;null!==o;){const a=o.depth,r=o.xNode,l=o.yNode,h=1-a%2,c=o.xGeohashTotal/o.count,u=o.yGeohashTotal/o.count;if(1===o.count&&t<c&&c<=s&&e<u&&u<=i)return o;if(a>=n){o=o.next;continue}const d=Math.ceil((a+1)/2),f=Math.floor((a+1)/2),x=30-(3*d+2*f),m=30-(2*d+3*f),g=~((1<<x)-1),y=~((1<<m)-1),p=(t&g)>>x,_=(e&y)>>m,v=(s&g)>>x,M=(i&y)>>m,T=r<<3*h+2*(1-h),b=l<<2*h+3*(1-h),k=T+8*h+4*(1-h),N=b+4*h+8*(1-h),I=Math.max(T,p),C=Math.max(b,_),G=Math.min(k,v),L=Math.min(N,M);let S=null,w=null;for(let t=C;t<=L;t++)for(let e=I;e<=G;e++){const s=e-T+(t-b)*(8*h+4*(1-h)),i=o.children[s];i&&(S||(S=i,S.next=o.next),w&&(w.next=i),w=i,i.next=o.next)}o=S||o.next}return null}getRegionDisplayIds(t){let e=this._root;const{bounds:s,geohashBounds:i,level:n}=t,[o,a,r,l]=s,h=[];for(;null!==e;){const t=e.depth,s=e.xNode,c=e.yNode;if(t>=n){const t=e.xTotal/e.count,s=e.yTotal/e.count;t>=o&&t<=r&&s>=a&&s<=l&&e.displayIds.forEach((t=>h.push(t))),e=e.next;continue}const u=Math.ceil((t+1)/2),d=Math.floor((t+1)/2),f=1-t%2,x=30-(3*u+2*d),m=30-(2*u+3*d),g=~((1<<x)-1),y=~((1<<m)-1),p=(i.xLL&g)>>x,_=(i.yLL&y)>>m,v=(i.xTR&g)>>x,M=(i.yTR&y)>>m,T=s<<3*f+2*(1-f),b=c<<2*f+3*(1-f),k=T+8*f+4*(1-f),N=b+4*f+8*(1-f),I=Math.max(T,p),C=Math.max(b,_),G=Math.min(k,v),L=Math.min(N,M);let S=null,w=null;for(let i=C;i<=L;i++)for(let t=I;t<=G;t++){const s=t-T+(i-b)*(8*f+4*(1-f)),n=e.children[s];n&&(S||(S=n,S.next=e.next),w&&(w.next=n),w=n,n.next=e.next)}e=S||e.next}return h}getRegionStatistics(t){let e=this._root,s=0,i=0,n=0;const o={},{bounds:a,geohashBounds:r,level:l}=t,[h,c,u,d]=a;let f=0;for(;null!==e;){const t=e.depth,a=e.xNode,x=e.yNode;if(t>=l){const t=e.xTotal/e.count,a=e.yTotal/e.count;t>h&&t<=u&&a>c&&a<=d&&(s+=e.count,i+=e.xTotal,n+=e.yTotal,1===e.count&&(f=e.referenceId),this._aggregateStatistics(o,e.statistics)),e=e.next;continue}const m=Math.ceil((t+1)/2),g=Math.floor((t+1)/2),y=1-t%2,p=30-(3*m+2*g),_=30-(2*m+3*g),v=~((1<<p)-1),M=~((1<<_)-1),T=(r.xLL&v)>>p,b=(r.yLL&M)>>_,k=(r.xTR&v)>>p,N=(r.yTR&M)>>_,I=a<<3*y+2*(1-y),C=x<<2*y+3*(1-y),G=I+8*y+4*(1-y),L=C+4*y+8*(1-y),S=Math.max(I,T),w=Math.max(C,b),R=Math.min(G,k),F=Math.min(L,N);let z=null,j=null;for(let r=w;r<=F;r++)for(let t=S;t<=R;t++){const a=t-I+(r-C)*(8*y+4*(1-y)),l=e.children[a];if(l){if(r!==w&&r!==F&&t!==S&&t!==R){const t=l.xTotal/l.count,e=l.yTotal/l.count;t>h&&t<=u&&e>c&&e<=d&&(s+=l.count,i+=l.xTotal,n+=l.yTotal,1===l.count&&(f=l.referenceId),this._aggregateStatistics(o,l.statistics));continue}z||(z=l,z.next=e.next),j&&(j.next=l),j=l,l.next=e.next}}e=z||e.next}return{count:s,attributes:this.normalizeStatistics(o,s),xTotal:i,yTotal:n,referenceId:f}}getBins(t){const e=[],{geohashBounds:s,level:i}=t;let n=this._root;for(;null!==n;){const t=n.depth,o=n.xNode,a=n.yNode;if(t>=i){e.push(n),n=n.next;continue}const r=Math.ceil((t+1)/2),l=Math.floor((t+1)/2),h=1-t%2,c=30-(3*r+2*l),u=30-(2*r+3*l),d=~((1<<c)-1),f=~((1<<u)-1),x=(s.xLL&d)>>c,m=(s.yLL&f)>>u,g=(s.xTR&d)>>c,y=(s.yTR&f)>>u,p=o<<3*h+2*(1-h),_=a<<2*h+3*(1-h),v=p+8*h+4*(1-h),M=_+4*h+8*(1-h),T=Math.max(p,x),b=Math.max(_,m),k=Math.min(v,g),N=Math.min(M,y);let I=null,C=null;for(let e=b;e<=N;e++)for(let t=T;t<=k;t++){const s=t-p+(e-_)*(8*h+4*(1-h)),i=n.children[s];i&&(I||(I=i,I.next=n.next),C&&(C.next=i),C=i,i.next=n.next)}n=I||n.next}return e}_linkChildren(t){let e=null,s=null;for(let i=0;i<=t.children.length;i++){const n=t.children[i];n&&(e||(e=n,e.next=t.next),s&&(s.next=n),s=n,n.next=t.next)}return e}_updateStatisticsCursor(t,e,s){for(const i of this._statisticFields){const n=i.name,o=i.inField?t.readAttribute(i.inField):t.getComputedNumericAtIndex(i.inFieldIndex);switch(i.statisticType){case"min":{if(isNaN(o))break;if(!e.statistics[n]){e.statistics[n]={value:o};break}const t=e.statistics[n].value;e.statistics[n].value=Math.min(t,o);break}case"max":{if(isNaN(o))break;if(!e.statistics[n]){e.statistics[n]={value:o};break}const t=e.statistics[n].value;e.statistics[n].value=Math.max(t,o);break}case"count":break;case"sum":case"avg":{e.statistics[n]||(e.statistics[n]={value:0,nanCount:0});const t=e.statistics[n].value,i=e.statistics[n].nanCount??0;null==o||isNaN(o)?e.statistics[n].nanCount=i+s:e.statistics[n].value=t+s*o;break}case"avg_angle":{e.statistics[n]||(e.statistics[n]={x:0,y:0,nanCount:0});const t=e.statistics[n].x,i=e.statistics[n].y,a=e.statistics[n].nanCount??0,r=Math.PI/180;null==o||isNaN(o)?e.statistics[n].nanCount=a+s:(e.statistics[n].x=t+s*Math.cos(o*r),e.statistics[n].y=i+s*Math.sin(o*r));break}case"mode":{e.statistics[n]||(e.statistics[n]={});const t=e.statistics[n][o]||0;e.statistics[n][o]=t+s;break}}}}_aggregateStatistics(t,e){for(const s of this._statisticFields){const i=s.name;switch(s.statisticType){case"min":{if(!t[i]){t[i]={value:e[i].value};break}const s=t[i].value;t[i].value=Math.min(s,e[i].value);break}case"max":{if(!t[i]){t[i]={value:e[i].value};break}const s=t[i].value;t[i].value=Math.max(s,e[i].value);break}case"count":break;case"sum":case"avg":case"avg_angle":case"mode":t[i]||(t[i]={});for(const s in e[i]){const n=t[i][s]||0;t[i][s]=n+e[i][s]}}}}normalizeStatistics(t,e){const s={};for(const i of this._statisticFields){const n=i.name;switch(i.statisticType){case"min":case"max":{const i=t[n];if(!e||!i)break;s[n]=i.value;break}case"count":if(!e)break;s[n]=e;break;case"sum":{if(!e)break;const{value:i,nanCount:o}=t[n];if(!(e-o))break;s[n]=i;break}case"avg":{if(!e)break;const{value:i,nanCount:o}=t[n];if(!(e-o))break;s[n]=i/(e-o);break}case"avg_angle":{if(!e)break;const{x:i,y:o,nanCount:a}=t[n];if(!(e-a))break;const r=i/(e-a),l=o/(e-a),h=180/Math.PI,c=Math.atan2(l,r)*h;s[n]=c;break}case"mode":{const e=t[n];let i=0,o=0,a=null;for(const t in e){const s=e[t];s===i?o+=1:s>i&&(i=s,o=1,a=t)}s[n]="null"===a||o>1?null:a;break}}}return s}}class c{constructor(t,e,s,i){this.count=0,this.xTotal=0,this.yTotal=0,this.statistics={},this.displayId=0,this.referenceId=0,this.displayIds=new Set,this.next=null,this.depth=0,this.xNode=0,this.yNode=0,this.xGeohashTotal=0,this.yGeohashTotal=0,this._tree=t,this.children=new Array(32);for(let n=0;n<this.children.length;n++)this.children[n]=null;this.xNode=e,this.yNode=s,this.depth=i}realloc(t,e,s){for(let i=0;i<this.children.length;i++)this.children[i]=null;return this.xNode=t,this.yNode=e,this.depth=s,this.next=null,this.xGeohashTotal=0,this.yGeohashTotal=0,this.displayId=0,this.referenceId=0,this.xTotal=0,this.yTotal=0,this.count=0,this.statistics={},this.displayIds.clear(),this}get id(){return`${this.xNode}.${this.yNode}`}add(t){this.displayIds.add(t)}remove(t){this.displayIds.delete(t)}getAttributes(){const t=this._tree.normalizeStatistics(this.statistics,this.count);return t.referenceId=null,t.aggregateId=this.id,t.aggregateCount=this.count,t}getGeometry(t,e){const o=this.getLngLatBounds(),[l,h,c,u]=o,d=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__.project)({rings:[[[l,h],[l,u],[c,u],[c,h],[l,h]]]},_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__["default"].WGS84,t),f=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],d,!1,!1);if(null!=e){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],f,!1,!1,"esriGeometryPolygon",e,!1,!1)}return f}getGeometryCentroid(t,e){const i=this.getLngLatBounds(),[l,h,c,u]=i,d=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_5__.project)({x:(l+c)/2,y:(h+u)/2},_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_2__["default"].WGS84,t),f=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromPoint)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],d);if(null!=e){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],f,!1,!1,"esriGeometryPoint",e,!1,!1)}return f}getLngLatBounds(){const t=this.depth,s=Math.ceil(t/2),i=Math.floor(t/2),n=30-(3*s+2*i),o=30-(2*s+3*i),a=this.xNode<<n,r=this.yNode<<o;return (0,_geohashUtils_js__WEBPACK_IMPORTED_MODULE_1__.decodeGeohashXY)({geohashX:a,geohashY:r},this.depth)}find(t,e,s,i,n,o){if(i>=s)return this;const a=1-i%2,r=3*a+2*(1-a),l=2*a+3*(1-a),h=30-n-r,c=30-o-l,u=((t&7*a+3*(1-a)<<h)>>h)+((e&3*a+7*(1-a)<<c)>>c)*(8*a+4*(1-a)),d=this.children[u];return null==d?null:d.find(t,e,s,i+1,n+r,o+l)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamFeatureManager: () => (/* binding */ o),
/* harmony export */   defaultStreamIdField: () => (/* binding */ s),
/* harmony export */   esriTimestamp: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s="__esri_stream_id__",i="__esri_timestamp__",r=1e3;class o{constructor(t,e,i,r,o=128){this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=i,this._purgeOptions=r,this.store=t,this.objectIdField=e,this.purgeInterval=o,this._useGeneratedIds=this.objectIdField===s}removeById(t){this._removed.push(t)}removeByTrackId(t){const e=this._trackIdToObservations.get(t);if(e)for(const s of e.entries)this._removed.push(s)}add(s){if(this._useGeneratedIds){const t=this._nextId();s.attributes[this.objectIdField]=t,s.objectId=t}else s.objectId=s.attributes[this.objectIdField];const i=s.objectId;if(this._addOrUpdated.set(i,s),this._maxAge=Math.max(this._maxAge,s.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return null==this._trackIdLessObservations&&(this._trackIdLessObservations=new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](1e5)),void this._trackIdLessObservations.enqueue(i);const o=s.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(o)){const s=null!=this._purgeOptions?.maxObservations?this._purgeOptions.maxObservations:r,i=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(s,0,r);this._trackIdToObservations.set(o,new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_0__["default"](i))}const d=this._trackIdToObservations.get(o),a=d?.enqueue(i);null!=a&&(this._addOrUpdated.has(a)?this._addOrUpdated.delete(a):this._removed.push(a))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now();s-this._lastPurge>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const r=[];if(null!=e)for(const i of e){const t=this.store.removeById(i);null!=t&&r.push(t)}const o=[];if(null!=t){const r=new Set(e??[]);for(const e of t)r.has(e.objectId)||(e.attributes[i]=s,this.store.add(e),o.push(e))}(o.length||r?.length)&&this.store.update(o,r)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach((s=>t[e++]=s)),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;null!=e&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=s.dequeue();this._removed.push(t),e--}if(null!=this._trackIdLessObservations){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();null!=t&&this._removed.push(t)}}}}_purgeByAge(t){const e=this._timeInfo?.startTimeField;if(!t.age||!e)return;const s=60*t.age*1e3,i=this._maxAge-s;this.store.forEach((t=>{t.attributes[e]<i&&this._removed.push(t.objectId)}))}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach((t=>{t.attributes[i]<s&&this._removed.push(t.objectId)}))}_purgeTracks(){this._trackIdToObservations.forEach(((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/enums.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/enums.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Alignment: () => (/* binding */ i),
/* harmony export */   AngleAlignment: () => (/* binding */ c),
/* harmony export */   AnimatedSymbolRepeatType: () => (/* binding */ d),
/* harmony export */   BalloonCalloutStyle: () => (/* binding */ p),
/* harmony export */   BillBoardMode: () => (/* binding */ m),
/* harmony export */   BlendingMode: () => (/* binding */ g),
/* harmony export */   BlockProgression: () => (/* binding */ C),
/* harmony export */   CGAAttributeType: () => (/* binding */ T),
/* harmony export */   CapType: () => (/* binding */ e),
/* harmony export */   ClippingType: () => (/* binding */ S),
/* harmony export */   DominantSizeAxis: () => (/* binding */ f),
/* harmony export */   ExpressionReturnType: () => (/* binding */ I),
/* harmony export */   ExternalColorMixMode: () => (/* binding */ t),
/* harmony export */   ExtremityPlacement: () => (/* binding */ o),
/* harmony export */   FillMode: () => (/* binding */ r),
/* harmony export */   FontEffects: () => (/* binding */ l),
/* harmony export */   FontEncoding: () => (/* binding */ a),
/* harmony export */   FontType: () => (/* binding */ u),
/* harmony export */   GeometricEffectArrowType: () => (/* binding */ P),
/* harmony export */   GeometricEffectControlMeasureLineRule: () => (/* binding */ R),
/* harmony export */   GeometricEffectDonutMethod: () => (/* binding */ B),
/* harmony export */   GeometricEffectEnclosingPolygonMethod: () => (/* binding */ N),
/* harmony export */   GeometricEffectExtensionOrigin: () => (/* binding */ h),
/* harmony export */   GeometricEffectOffsetMethod: () => (/* binding */ O),
/* harmony export */   GeometricEffectOffsetOption: () => (/* binding */ L),
/* harmony export */   GeometricEffectOffsetTangentMethod: () => (/* binding */ M),
/* harmony export */   GeometricEffectWaveform: () => (/* binding */ A),
/* harmony export */   GlyphHinting: () => (/* binding */ y),
/* harmony export */   GradientAlignment: () => (/* binding */ E),
/* harmony export */   GradientFillMethod: () => (/* binding */ D),
/* harmony export */   GradientStrokeMethod: () => (/* binding */ v),
/* harmony export */   GradientStrokeType: () => (/* binding */ F),
/* harmony export */   HorizontalAlignment: () => (/* binding */ x),
/* harmony export */   JoinType: () => (/* binding */ n),
/* harmony export */   LeaderLineStyle: () => (/* binding */ W),
/* harmony export */   LineCapStyle: () => (/* binding */ U),
/* harmony export */   LineDashEnding: () => (/* binding */ k),
/* harmony export */   LineDecorationStyle: () => (/* binding */ H),
/* harmony export */   LineGapType: () => (/* binding */ b),
/* harmony export */   LineJoinStyle: () => (/* binding */ w),
/* harmony export */   MarkerPlacementType: () => (/* binding */ G),
/* harmony export */   MaterialMode: () => (/* binding */ q),
/* harmony export */   PlacementClip: () => (/* binding */ J),
/* harmony export */   PlacementEndings: () => (/* binding */ X),
/* harmony export */   PlacementGridType: () => (/* binding */ Y),
/* harmony export */   PlacementOnLineRelativeTo: () => (/* binding */ Z),
/* harmony export */   PlacementPolygonCenterMethod: () => (/* binding */ K),
/* harmony export */   PlacementRandomlyAlongLineRandomization: () => (/* binding */ Q),
/* harmony export */   PlacementStepPosition: () => (/* binding */ V),
/* harmony export */   PointSymbolCalloutScale: () => (/* binding */ j),
/* harmony export */   RotationOrder: () => (/* binding */ s),
/* harmony export */   Simple3DLineStyle: () => (/* binding */ z),
/* harmony export */   SizeVariationMethod: () => (/* binding */ $),
/* harmony export */   SymbolUnits: () => (/* binding */ _),
/* harmony export */   TextCase: () => (/* binding */ ee),
/* harmony export */   TextReadingDirection: () => (/* binding */ ne),
/* harmony export */   TextureFilter: () => (/* binding */ ie),
/* harmony export */   VerticalAlignment: () => (/* binding */ te),
/* harmony export */   VerticalGlyphOrientation: () => (/* binding */ oe),
/* harmony export */   WaterbodySize: () => (/* binding */ re),
/* harmony export */   WaveStrength: () => (/* binding */ le)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var e,n,i,t,o,r,l,a,u,c,d,f,s,p,g,C,m,T,S,P,R,B,N,h,O,L,M,A,y,E,D,F,v,x,W,U,k,H,b,w,I,G,q,J,X,Y,Z,K,Q,V,j,z,$,_,ee,ne,ie,te,oe,re,le;!function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"}(e||(e={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(n||(n={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(i||(i={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(t||(t={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(o||(o={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(r||(r={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(l||(l={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(a||(a={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(u||(u={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(c||(c={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(d||(d={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(f||(f={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(s||(s={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(p||(p={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(g||(g={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(C||(C={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(m||(m={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(T||(T={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(S||(S={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(P||(P={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees"}(R||(R={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(B||(B={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(N||(N={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(h||(h={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(O||(O={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(L||(L={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(M||(M={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(A||(A={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(y||(y={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(E||(E={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(D||(D={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(F||(F={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AloneLine=1]="AloneLine"}(v||(v={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(x||(x={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(W||(W={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(U||(U={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(k||(k={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(H||(H={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(b||(b={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(w||(w={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(I||(I={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(G||(G={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(q||(q={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(J||(J={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(X||(X={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(Y||(Y={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(Z||(Z={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(K||(K={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(Q||(Q={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(V||(V={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(j||(j={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(z||(z={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}($||($={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(_||(_={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(ee||(ee={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(ne||(ne={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(ie||(ie={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(te||(te={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(oe||(oe={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(re||(re={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(le||(le={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   allocateTypedArrayBuffer: () => (/* binding */ P),
/* harmony export */   allocateTypedArrayBufferwithData: () => (/* binding */ x),
/* harmony export */   cVboInfo: () => (/* binding */ Y),
/* harmony export */   charCodes: () => (/* binding */ de),
/* harmony export */   copyMeshData: () => (/* binding */ j),
/* harmony export */   createGeometryData: () => (/* binding */ H),
/* harmony export */   createProgramDescriptor: () => (/* binding */ ee),
/* harmony export */   forEachGeometryType: () => (/* binding */ te),
/* harmony export */   getBytes: () => (/* binding */ q),
/* harmony export */   getCapType: () => (/* binding */ k),
/* harmony export */   getJoinType: () => (/* binding */ G),
/* harmony export */   getNamedBuffers: () => (/* binding */ b),
/* harmony export */   getPMSResourceSize: () => (/* binding */ me),
/* harmony export */   getPixelArrayCtor: () => (/* binding */ W),
/* harmony export */   getPixelBytes: () => (/* binding */ K),
/* harmony export */   getStrides: () => (/* binding */ R),
/* harmony export */   getUrl: () => (/* binding */ se),
/* harmony export */   getVVType: () => (/* binding */ V),
/* harmony export */   is3D: () => (/* binding */ ue),
/* harmony export */   isDefined: () => (/* binding */ z),
/* harmony export */   isGIF: () => (/* binding */ ie),
/* harmony export */   isGIFDataUri: () => (/* binding */ ae),
/* harmony export */   isImageResource: () => (/* binding */ re),
/* harmony export */   isMarkerPlacementInsidePolygon: () => (/* binding */ ye),
/* harmony export */   isNumber: () => (/* binding */ $),
/* harmony export */   isPNG: () => (/* binding */ oe),
/* harmony export */   isPNGDataUri: () => (/* binding */ ce),
/* harmony export */   isSVGResource: () => (/* binding */ ne),
/* harmony export */   isSimple: () => (/* binding */ le),
/* harmony export */   isValidSVG: () => (/* binding */ pe),
/* harmony export */   shouldRepeat: () => (/* binding */ fe),
/* harmony export */   strideToPackingFactor: () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../symbols/cim/enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const f=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.engine.webgl.Utils"),m="geometry",d=[{name:m,strideInBytes:12}],p=[{name:m,strideInBytes:36}],y=[{name:m,strideInBytes:24}],I=[{name:m,strideInBytes:12}],S=[{name:m,strideInBytes:40}],T=[{name:m,strideInBytes:36}],g=[{name:m,strideInBytes:36}];function w(e){const t={};for(const n of e)t[n.name]=n.strideInBytes;return t}const E=w([{name:m,strideInBytes:36}]),h=w(d),L=w(p),N=w(y),D=w(I),A=w(S),M=w(T),U=w(g);function R(e,t){switch(e){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.MARKER:return t===_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.HEATMAP?h:E;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.FILL:switch(t){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.DOT_DENSITY:return D;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.SIMPLE:case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLSymbologyType.OUTLINE_FILL_SIMPLE:return N;default:return L}case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LINE:return A;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.TEXT:return M;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL:return U}}const _=[m],B=[m],O=[m],v=[m],C=[m];function b(e){switch(e){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.MARKER:return _;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.FILL:return B;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LINE:return O;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.TEXT:return v;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL:return C}}function F(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function P(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}}function x(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}}function z(e){return null!=e}function $(e){return"number"==typeof e}function k(t){switch(t){case"butt":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.BUTT;case"round":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.ROUND;case"square":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.SQUARE;default:return f.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-invalid-type",`Cap type ${t} is not a valid option. Defaulting to round`)),_symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.CapType.ROUND}}function G(t){switch(t){case"miter":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.MITER;case"bevel":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.BEVEL;case"round":return _symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.ROUND;default:return f.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-invalid-type",`Join type ${t} is not a valid option. Defaulting to round`)),_symbols_cim_enums_js__WEBPACK_IMPORTED_MODULE_2__.JoinType.ROUND}}function V(e){switch(e){case"opacity":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.OPACITY;case"color":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.COLOR;case"rotation":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.ROTATION;case"size":return _enums_js__WEBPACK_IMPORTED_MODULE_3__.VVType.SIZE;default:return f.error(`Cannot interpret unknown vv: ${e}`),null}}function j(e,t,n,r,s,a,i){for(const c in a){const t=a[c].stride,r=F(t),i=a[c].data,o=n[c].data;if(null==i||null==o)continue;const u=t*s.vertexCount/r,l=t*e/r,f=t*s.vertexFrom/r;for(let e=0;e<u;++e)o[e+l]=i[e+f]}if(null!=i&&null!=r){const n=s.indexCount;for(let a=0;a<n;++a)r[a+t]=i[a+s.indexFrom]-s.vertexFrom+e}}const Y={[m]:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.Usage.STATIC_DRAW};function H(e,t){const n=[];for(let r=0;r<5;++r){const s=b(r),a={};for(const e of s)a[e]={data:t(r,e)};n.push({data:e(r),buffers:a})}return n}function q(e){switch(e){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.BYTE:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.UNSIGNED_BYTE:return 1;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.SHORT:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.UNSIGNED_SHORT:return 2;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.FLOAT:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.INT:case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.DataType.UNSIGNED_INT:return 4}}function K(t){switch(t){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_BYTE:return 1;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_SHORT_4_4_4_4:return 2;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.FLOAT:return 4;default:return void f.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("webgl-utils",`Unable to handle type ${t}`))}}function W(t){switch(t){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_BYTE:return Uint8Array;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.UNSIGNED_SHORT_4_4_4_4:return Uint16Array;case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.PixelType.FLOAT:return Float32Array;default:return void f.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("webgl-utils",`Unable to handle type ${t}`))}}function X(e){const t={};for(const n in e){const r=e[n];let s=0;t[n]=r.map((e=>{const t=new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_5__.VertexElementDescriptor(e.name,e.count,e.type,s,0,e.normalized||!1);return s+=e.count*q(e.type),t})),t[n]?.forEach((e=>e.stride=s))}return t}const J=e=>{const t=new Map;for(const n in e)for(const r of e[n])t.set(r.name,r.location);return t},Q=e=>{const t={};for(const n in e){const r=e[n];t[n]=r?.length?r[0].stride:0}return t},Z=new Map,ee=(e,t)=>{if(!Z.has(e)){const n=X(t),r={strides:Q(n),bufferLayouts:n,attributes:J(t)};Z.set(e,r)}return Z.get(e)};function te(e){e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.FILL),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LINE),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.MARKER),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.TEXT),e(_enums_js__WEBPACK_IMPORTED_MODULE_3__.WGLGeometryType.LABEL)}const ne=e=>"path"in e&&pe(e.path),re=e=>!(!("url"in e)||!e.url)||!(!("imageData"in e)||!e.imageData),se=e=>"imageData"in e&&e.imageData&&"contentType"in e&&e.contentType?`data:${e.contentType};base64,${e.imageData}`:"url"in e?e.url:null,ae=e=>null!=e&&e.startsWith("data:image/gif"),ie=e=>"url"in e&&e.url&&(e.url.includes(".gif")||ae(e.url))||"contentType"in e&&"image/gif"===e.contentType||"imageData"in e&&ae(e.imageData),ce=e=>null!=e&&e.startsWith("data:image/png"),oe=e=>"url"in e&&e.url&&(e.url.includes(".png")||ce(e.url))||"contentType"in e&&"image/png"===e.contentType||"imageData"in e&&ce(e.imageData),ue=e=>e.type&&e.type.toLowerCase().includes("3d");function le(e){switch(e.type){case"line":{const t=e;return"CIMSolidStroke"===t.cim.type&&!t.dashTemplate}case"fill":return"CIMSolidFill"===e.cim.type;case"esriSFS":return"esriSFSSolid"===e.style||"esriSFSNull"===e.style;case"esriSLS":return"esriSLSSolid"===e.style||"esriSLSNull"===e.style;default:return!1}}function fe(e){switch("cim"in e?e.cim.type:e.type){case"esriSMS":case"esriPMS":case"CIMPointSymbol":return!1;case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":return ye(e);default:return!0}}function me(e){const t="maxVVSize"in e&&e.maxVVSize,n="width"in e&&e.width||"size"in e&&e.size||0;return t||n}function de(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}const pe=e=>!!e&&(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4)),ye=e=>"fill"===e.type&&"CIMMarkerPlacementInsidePolygon"===e?.cim?.markerPlacement?.type;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/color.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/color.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   premultiplyAlpha: () => (/* binding */ r),
/* harmony export */   premultiplyAlphaRGBA: () => (/* binding */ t),
/* harmony export */   premultiplyAlphaRGBAArray: () => (/* binding */ o),
/* harmony export */   writeColor: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _number_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./number.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/number.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(n,r=0,t=!1){const o=n[r+3];return n[r]*=o,n[r+1]*=o,n[r+2]*=o,t||(n[r+3]*=255),n}function t(r){if(!r)return 0;const{r:t,g:o,b:u,a:i}=r;return (0,_number_js__WEBPACK_IMPORTED_MODULE_0__.i8888to32)(t*i,o*i,u*i,255*i)}function o(r){if(!r)return 0;const[t,o,u,i]=r;return (0,_number_js__WEBPACK_IMPORTED_MODULE_0__.i8888to32)(t*(i/255),o*(i/255),u*(i/255),i)}function u(n,r,t=0){if(null==r)return n[t]=0,n[t+1]=0,n[t+2]=0,void(n[t+3]=0);const{r:o,g:u,b:i,a:c}=r;n[t]=o*c/255,n[t+1]=u*c/255,n[t+2]=i*c/255,n[t+3]=c}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   angleFactor256: () => (/* binding */ f),
/* harmony export */   attributeDataAnimation: () => (/* binding */ Q),
/* harmony export */   attributeDataDd0: () => (/* binding */ T),
/* harmony export */   attributeDataDd1: () => (/* binding */ U),
/* harmony export */   attributeDataFilterFlags: () => (/* binding */ P),
/* harmony export */   attributeDataGpgpu: () => (/* binding */ R),
/* harmony export */   attributeDataVv: () => (/* binding */ S),
/* harmony export */   attributeStoreTextureSize: () => (/* binding */ A),
/* harmony export */   averageGlyphMosaicItem: () => (/* binding */ z),
/* harmony export */   bitsetFillHasPatternHeightPrecisionFactor: () => (/* binding */ ye),
/* harmony export */   bitsetFillHasPatternWidthPrecisionFactor: () => (/* binding */ be),
/* harmony export */   bitsetFillHasUnresolvedReplacementColor: () => (/* binding */ ve),
/* harmony export */   bitsetFillRandomPatternOffset: () => (/* binding */ ue),
/* harmony export */   bitsetGenericConsiderAlphaOnly: () => (/* binding */ ge),
/* harmony export */   bitsetGenericLockColor: () => (/* binding */ pe),
/* harmony export */   bitsetLineScaleDash: () => (/* binding */ je),
/* harmony export */   bitsetMarkerAlignmentMap: () => (/* binding */ ne),
/* harmony export */   bitsetMarkerAlignmentScreen: () => (/* binding */ le),
/* harmony export */   bitsetMarkerOutlineAllowColorOverride: () => (/* binding */ we),
/* harmony export */   bitsetMarkerScaleSymbolsProportionally: () => (/* binding */ xe),
/* harmony export */   bitsetTypeFillOutline: () => (/* binding */ ke),
/* harmony export */   bufferDataMinimumSize: () => (/* binding */ ie),
/* harmony export */   bufferDataPoolSize: () => (/* binding */ he),
/* harmony export */   chartMaxFields: () => (/* binding */ n),
/* harmony export */   collisionBoxPadding: () => (/* binding */ j),
/* harmony export */   collisionBucketSize: () => (/* binding */ p),
/* harmony export */   collisionEarlyRejectBucketSize: () => (/* binding */ g),
/* harmony export */   collisionMaxZoomDelta: () => (/* binding */ x),
/* harmony export */   collisionPlacementPadding: () => (/* binding */ u),
/* harmony export */   collisionTileBoxSize: () => (/* binding */ k),
/* harmony export */   compressionFactorForU16: () => (/* binding */ h),
/* harmony export */   debugLabels: () => (/* binding */ s),
/* harmony export */   displayRecordIntPerElement: () => (/* binding */ de),
/* harmony export */   dotDensityMaxFields: () => (/* binding */ l),
/* harmony export */   effectFlag0: () => (/* binding */ Y),
/* harmony export */   enableEarlyLabelDiscard: () => (/* binding */ Z),
/* harmony export */   extrudeScale: () => (/* binding */ o),
/* harmony export */   filterFlag0: () => (/* binding */ X),
/* harmony export */   glyphSize: () => (/* binding */ b),
/* harmony export */   heuristicGlyphsPerFeature: () => (/* binding */ y),
/* harmony export */   heuristicGlyphsPerLine: () => (/* binding */ v),
/* harmony export */   highlightFlag: () => (/* binding */ W),
/* harmony export */   hittestRadius: () => (/* binding */ _),
/* harmony export */   magicLabelLineHeight: () => (/* binding */ w),
/* harmony export */   maxFilters: () => (/* binding */ V),
/* harmony export */   maxGpuUploadsPerFrame: () => (/* binding */ oe),
/* harmony export */   maxRepresentableInt: () => (/* binding */ m),
/* harmony export */   maxSizeForU16Compression: () => (/* binding */ i),
/* harmony export */   minMaxZoomPrecisionFactor: () => (/* binding */ me),
/* harmony export */   nanMagicNumber: () => (/* binding */ t),
/* harmony export */   patchPixelBufferAllocSize: () => (/* binding */ fe),
/* harmony export */   patternFillRasterizationScale: () => (/* binding */ Ae),
/* harmony export */   pictureFillColor: () => (/* binding */ a),
/* harmony export */   randomInsidePolygonTextureSize: () => (/* binding */ se),
/* harmony export */   rasterTileSize: () => (/* binding */ d),
/* harmony export */   sdfTextureSize: () => (/* binding */ ce),
/* harmony export */   spritePadding: () => (/* binding */ ae),
/* harmony export */   textPlacementPadding: () => (/* binding */ q),
/* harmony export */   textureBindingAttributeData0: () => (/* binding */ E),
/* harmony export */   textureBindingAttributeData1: () => (/* binding */ F),
/* harmony export */   textureBindingAttributeData2: () => (/* binding */ G),
/* harmony export */   textureBindingAttributeData3: () => (/* binding */ H),
/* harmony export */   textureBindingAttributeData4: () => (/* binding */ I),
/* harmony export */   textureBindingAttributeData5: () => (/* binding */ J),
/* harmony export */   textureBindingBitmap: () => (/* binding */ D),
/* harmony export */   textureBindingGlyphAtlas: () => (/* binding */ C),
/* harmony export */   textureBindingGpgpu: () => (/* binding */ K),
/* harmony export */   textureBindingHighlight0: () => (/* binding */ L),
/* harmony export */   textureBindingHighlight1: () => (/* binding */ M),
/* harmony export */   textureBindingRenderer0: () => (/* binding */ N),
/* harmony export */   textureBindingRenderer1: () => (/* binding */ O),
/* harmony export */   textureBindingSpriteAtlas: () => (/* binding */ B),
/* harmony export */   textureUploadManagerBudget: () => (/* binding */ ze),
/* harmony export */   textureUploadManagerChunkSize: () => (/* binding */ qe),
/* harmony export */   thinLineHalfWidthThreshold: () => (/* binding */ $),
/* harmony export */   tileSize: () => (/* binding */ c),
/* harmony export */   vtlHighResCutoff: () => (/* binding */ te),
/* harmony export */   vtlTextureBindingUnitGlyphs: () => (/* binding */ re),
/* harmony export */   vtlTextureBindingUnitSprites: () => (/* binding */ ee),
/* harmony export */   webglMaxInnerStops: () => (/* binding */ r),
/* harmony export */   webglMaxStops: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const e=8,r=e-2,t=1e-30,o=64,a=4294967295,c=512,d=256,f=256/360,h=128,i=511,m=16777216,s=!1,p=128,l=8,n=10,w=29,x=1,g=16,j=16,k=c/p,u=8,v=50,y=10,b=24,q=8,z={metrics:{width:15,height:17,left:0,top:-7,advance:14}},A=1024,B=0,C=0,D=0,E=1,F=2,G=3,H=4,I=5,J=6,K=12,L=5,M=6,N=5,O=6,P=0,Q=1,R=2,S=3,T=3,U=4,V=2,W=1,X=2,Y=4,Z=!1,$=1.05,_=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-force-marker-text-draw-order")?.5:3,ee=5,re=6,te=1.15,oe=2,ae=2,ce=128-2*ae,de=8,fe=500,he=4,ie=128,me=10,se=1024,pe=2,le=0,ne=1,we=4,xe=8,ge=16,je=4,ke=1,ue=4,ve=8,ye=32,be=64,qe=128,ze=4,Ae=2;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MosaicType: () => (/* binding */ _),
/* harmony export */   VVType: () => (/* binding */ I),
/* harmony export */   WGLDrawPhase: () => (/* binding */ T),
/* harmony export */   WGLGeometryType: () => (/* binding */ E),
/* harmony export */   WGLSymbologyType: () => (/* binding */ S),
/* harmony export */   WGLVVFlag: () => (/* binding */ L),
/* harmony export */   WGLVVTarget: () => (/* binding */ A)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var E,T,I,L,A,_,S;!function(E){E[E.FILL=0]="FILL",E[E.LINE=1]="LINE",E[E.MARKER=2]="MARKER",E[E.TEXT=3]="TEXT",E[E.LABEL=4]="LABEL"}(E||(E={})),function(E){E[E.NONE=0]="NONE",E[E.MAP=1]="MAP",E[E.LABEL=2]="LABEL",E[E.LABEL_ALPHA=4]="LABEL_ALPHA",E[E.HITTEST=8]="HITTEST",E[E.HIGHLIGHT=16]="HIGHLIGHT",E[E.CLIP=32]="CLIP",E[E.DEBUG=64]="DEBUG",E[E.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(T||(T={})),function(E){E[E.SIZE=0]="SIZE",E[E.COLOR=1]="COLOR",E[E.OPACITY=2]="OPACITY",E[E.ROTATION=3]="ROTATION"}(I||(I={})),function(E){E[E.NONE=0]="NONE",E[E.OPACITY=1]="OPACITY",E[E.COLOR=2]="COLOR",E[E.ROTATION=4]="ROTATION",E[E.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",E[E.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",E[E.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",E[E.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(L||(L={})),function(E){E[E.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",E[E.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",E[E.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",E[E.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(A||(A={})),function(E){E[E.SPRITE=0]="SPRITE",E[E.GLYPH=1]="GLYPH"}(_||(_={})),function(E){E[E.DEFAULT=0]="DEFAULT",E[E.SIMPLE=1]="SIMPLE",E[E.DOT_DENSITY=2]="DOT_DENSITY",E[E.OUTLINE_FILL=3]="OUTLINE_FILL",E[E.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",E[E.HEATMAP=5]="HEATMAP",E[E.PIE_CHART=6]="PIE_CHART"}(S||(S={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/number.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/number.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i16: () => (/* binding */ e),
/* harmony export */   i1616to32: () => (/* binding */ w),
/* harmony export */   i32: () => (/* binding */ o),
/* harmony export */   i8: () => (/* binding */ u),
/* harmony export */   i8816to32: () => (/* binding */ y),
/* harmony export */   i8888to32: () => (/* binding */ x),
/* harmony export */   numTo32: () => (/* binding */ A),
/* harmony export */   toFloat32: () => (/* binding */ h),
/* harmony export */   toUint32: () => (/* binding */ a),
/* harmony export */   u16: () => (/* binding */ i),
/* harmony export */   u32: () => (/* binding */ c),
/* harmony export */   u32to4Xu8: () => (/* binding */ M),
/* harmony export */   u4u4to8: () => (/* binding */ m),
/* harmony export */   u8: () => (/* binding */ f)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=new Float32Array(1),r=new Uint32Array(n.buffer);function t(n,r,t){return Math.round(Math.max(Math.min(n,t),r))}function u(n){return t(n,-128,127)}function e(n){return t(n,-32768,32767)}function o(n){return t(n,-2147483648,2147483647)}function f(n){return t(n,0,255)}function i(n){return t(n,0,65535)}function c(n){return t(n,0,4294967295)}function a(t){return n[0]=t,r[0]}function h(t){return r[0]=t,n[0]}function M(n){return[255&n,(65280&n)>>>8,(16711680&n)>>>16,(4278190080&n)>>>24]}function m(n,r){return 15&n|(15&r)<<4}function w(n,r){return 65535&n|r<<16}function x(n,r,t,u){return 255&n|(255&r)<<8|(255&t)<<16|u<<24}function y(n,r,t){return 255&n|(255&r)<<8|t<<16}function A(n){return 0|n}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/Pipeline.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/Pipeline.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _processors_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./processors.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processors.js");
/* harmony import */ var _controllers_FeatureController2D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./controllers/FeatureController2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/FeatureController2D.js");
/* harmony import */ var _support_TileStore_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/TileStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/TileStore.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/* harmony import */ var _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../tiling/TileInfoView.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this.controller=null,this.processor=null,this.remoteClient=null,this.tileStore=null,this.service=null,this.viewState=null,this._paused=!1,this._pendingTileUpdates=[]}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.updating),(e=>{this.remoteClient.invoke("setUpdating",e).catch((e=>{}))}))])}destroy(){this.stop(),this.controller?.destroy(),this.processor?.destroy(),this.controller=this.processor=this.tileStore=this.remoteClient=null}get updating(){return!this.controller||this.controller.updating}stop(){this._paused=!0,Array.isArray(this.service?.source)&&(this.service.source.forEach((e=>e.close())),this.service.source.length=0),this.tileStore?.updateTiles({added:[],removed:this.tileStore.tiles.map((e=>e.id))}),this.tileStore?.destroy(),this.tileStore=null,this._pendingTileUpdates.length=0}async startup({service:e,config:t,tileInfo:r,tiles:s}){if(this._paused=!0,Array.isArray(this.service?.source)&&(this.service.source.forEach((e=>e.close())),this.service.source.length=0),this.service=e,!this.tileStore||!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__.equals)(this.tileStore.tileScheme.spatialReference,r.spatialReference)){const e=new _tiling_TileInfoView_js__WEBPACK_IMPORTED_MODULE_14__["default"](_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(r));s.added.length=s.removed.length=0,this.tileStore?.updateTiles({added:[],removed:this.tileStore.tiles.map((e=>e.id))}),this.tileStore?.destroy(),this.tileStore=new _support_TileStore_js__WEBPACK_IMPORTED_MODULE_12__["default"](e),this._pendingTileUpdates.length=0}for(await this._createProcessorAndController(t),await this.update({config:t}),this.controller.resume(),this.tileStore.clear(),this.tileStore.updateTiles(s),this._paused=!1;this._pendingTileUpdates.length;)this.tileStore.updateTiles(this._pendingTileUpdates.pop())}async updateTiles(e){this._paused?this._pendingTileUpdates.push(e):this.tileStore?.updateTiles(e)}async update({config:e}){const t=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_13__.UpdateToken.empty();return await Promise.all([this.processor.update(t,e),this.controller.update(t,e)]),t.toJSON()}async applyUpdate(e){return this.controller.applyUpdate(_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_13__.UpdateToken.create(e))}async _createProcessorAndController(e){await Promise.all([this._handleControllerConfig(e),this._handleProcessorConfig(e)]),this.controller.processor=this.processor}async _handleControllerConfig(e){return this._createController(this.service,e)}async _handleProcessorConfig(e){return this._createProcessor(this.service,e)}async _createController(e,t){this.controller&&(this.controller.destroy(),this.removeHandles("controller"));const{tileStore:s,remoteClient:o}=this,i=new _controllers_FeatureController2D_js__WEBPACK_IMPORTED_MODULE_11__["default"]({service:e,tileStore:s,remoteClient:o}),l=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>i.dataUpdating),(e=>{this.remoteClient.invoke("setDataUpdating",e).catch((e=>{}))}));return this.addHandles(l,"controller"),this.controller=i,i}async _createProcessor(e,t){const r=t.schema.processors[0].type,s=(await (0,_processors_js__WEBPACK_IMPORTED_MODULE_10__.loadProcessorModule)(r)).default,{remoteClient:o,tileStore:i}=this,l=new s({service:e,config:t,tileStore:i,remoteClient:o});return this.processor&&this.processor.destroy(),this.processor=l,l}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"controller",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"viewState",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.2d.layers.features.Pipeline")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/FeatureController2D.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/controllers/FeatureController2D.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ q)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../time/timeZoneUtils.js */ "./node_modules/@arcgis/core/time/timeZoneUtils.js");
/* harmony import */ var _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../FeatureStore2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js");
/* harmony import */ var _sources_createSource_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../sources/createSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/createSource.js");
/* harmony import */ var _support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/AttributeStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js");
/* harmony import */ var _support_BinStore_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/BinStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/BinStore.js");
/* harmony import */ var _support_ClusterStore_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/ClusterStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ClusterStore.js");
/* harmony import */ var _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/ComputedAttributeStorage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/* harmony import */ var _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../support/QueueProcessor.js */ "./node_modules/@arcgis/core/views/support/QueueProcessor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const w=5e3,x="tileRenderer.featuresView.attributeView.initialize",T="tileRenderer.featuresView.attributeView.requestUpdate",A="tileRenderer.featuresView.requestRender";function j(e){return"worker:port-closed"===e.name}function k(e){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(e)&&!j(e))throw e}function U(e){return"feature"===e.type&&"snapshot"===e.mode}let R=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this._storage=new _support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_19__.ComputedAttributeStorage,this._markedIdsBufId=this._storage.createBitset(),this._lastCleanup=performance.now(),this._cleanupNeeded=!1,this._invalidated=!1,this._tileToResolver=new Map,this._didEdit=!1,this._updateVersion=1,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_9__.UpdatingHandles,this.tileStore=null,this.config=null,this.processor=null,this.remoteClient=null,this.service=null}initialize(){this._initStores(),this._initSource(),this._updateQueue=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_22__.QueueProcessor({concurrency:"stream"===this._source.type?1:4,process:(e,t)=>this._onTileMessage(e,{signal:t})}),this.addHandles([this.tileStore.on("update",this.onTileUpdate.bind(this)),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.when)((()=>!this.updating),(()=>this.onIdle()))])}_initSource(){const e=this.tileStore.tileScheme,t=()=>this._updateQueue&&this._updateQueue.length<50,r=(e,t)=>(this._invalidated=!0,this._patchTile(e,t));this._source=(0,_sources_createSource_js__WEBPACK_IMPORTED_MODULE_15__.createSource)(this.service,{...this.service,fieldsIndex:this.fieldsIndex},this.spatialReference,e,r,t,this.featureStore),this._proxyEvents()}_setStreamClientProperty(e,t){this.remoteClient.invoke("setProperty",{propertyName:e,value:t}).catch(k)}_proxyEvents(){if("stream"===this._source.type){const e=this._source.events,t=this._source;this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>t.connectionStatus),(e=>this._setStreamClientProperty("pipelineConnectionStatus",e)),{initial:!0}),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>t.errorString),(e=>this._setStreamClientProperty("pipelineErrorString",e)),{initial:!0}),e.on("data-received",(e=>this.remoteClient.invoke("emitEvent",{name:"data-received",event:{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry}}).catch(k))),e.on("message-received",(e=>this.remoteClient.invoke("emitEvent",{name:"message-received",event:e}).catch(k))),e.on("updateRate",(e=>this.remoteClient.invoke("emitEvent",{name:"update-rate",event:{...e}}).catch(k)))])}}_initAttributeStore(e){this.attributeStore||(this.attributeStore=new _support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_16__["default"]({type:"remote",initialize:(e,t)=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.ignoreAbortErrors)(this.remoteClient.invoke(x,e,{signal:t}).catch(k)),update:(e,t)=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.ignoreAbortErrors)(this.remoteClient.invoke(T,e,{signal:t}).catch(k)),render:e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.ignoreAbortErrors)(this.remoteClient.invoke(A,void 0,{signal:e}).catch(k))},e))}_initStores(){const e="snapshot"===this.service.type?"snapshot":"on-demand",t={geometryInfo:{geometryType:this.service.geometryType,hasM:!1,hasZ:!1},spatialReference:this.spatialReference,fieldsIndex:this.fieldsIndex};this.featureStore=new _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_14__.FeatureStore2D(t,this._storage,e)}_initQueryEngine(e){const t=this;this.featureQueryEngine?.destroy(),this.featureQueryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__.QueryEngine({availableFields:e.availableFields,definitionExpression:e.schema.source.definitionExpression??void 0,fieldsIndex:_layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(this.service.fieldsIndex),geometryType:this.service.geometryType,objectIdField:this.service.objectIdField,hasM:!1,hasZ:!1,spatialReference:this.spatialReference.toJSON(),cacheSpatialQueries:!0,featureStore:this.featureStore,aggregateAdapter:{getFeatureObjectIds(e){if(null==t.aggregateStore)return[];return t.aggregateStore.getFeatureDisplayIdsForAggregate(e).map((e=>t.getObjectId(e)))}},timeInfo:this.service.timeInfo})}_initAggregateQueryEngine(e,t){if(this.aggregateQueryEngine?.destroy(),null==e)return;const r=t.targets.aggregate.params.fields.slice();this.aggregateQueryEngine=new _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_11__.QueryEngine({definitionExpression:void 0,fieldsIndex:_layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromLayerJSON({fields:r,dateFieldsTimeReference:{timeZoneIANA:_time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_13__.utc}}),geometryType:e.geometryInfo.geometryType,objectIdField:e.objectIdField,hasM:e.geometryInfo.hasM,hasZ:e.geometryInfo.hasZ,spatialReference:this.spatialReference.toJSON(),cacheSpatialQueries:!1,featureStore:e,aggregateAdapter:{getFeatureObjectIds:e=>[]}})}destroy(){this._updateQueue.destroy(),this._source.destroy(),this.featureQueryEngine?.destroy(),this.aggregateQueryEngine?.destroy(),this.attributeStore?.destroy();for(const e of this.tileStore.tiles)this._source.unsubscribe(e);clearInterval(this._checkUpdating),this._updatingHandles.destroy()}get fieldsIndex(){return _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(this.service.fieldsIndex)}get spatialReference(){return this.tileStore.tileScheme.spatialReference}get dataUpdating(){return this._source.updatingHandles.updating}get updating(){return this.isUpdating()}isUpdating(){const e=this._source.updatingHandles.updating,t=!this.attributeStore||this.attributeStore.updatingHandles.updating,r=e||t||this._updatingHandles.updating;if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-log-updating")){let s=`Updating FeatureController2D: ${r}\n`;s+=`  -> updatingSource ${e}\n`;for(const e of this._source.subscriptions)s+=`     ${e.tile.id} ${e.isDone}\n`;s+=`  -> updatingAttributeStore ${t}\n`,s+=`  -> updatingHandles ${this._updatingHandles.updating} (queue: ${this._updateQueue.length})\n`,console.log(s)}return r}updateCustomParameters(e){"stream"===this._source.type&&this._source.updateCustomParameters(e)}enableEvent(e){this._source.enableEvent(e.name,e.value)}pause(){this._updateQueue.pause(),this._updateQueue.clear()}resume(){this._updateQueue.resume()}pauseStream(){"stream"===this._source.type&&this._source.pauseStream()}resumeStream(){"stream"===this._source.type&&this._source.resumeStream()}sendMessageToSocket(e){"stream"===this._source.type&&this._source.sendMessageToSocket(e)}sendMessageToClient(e){"stream"===this._source.type&&this._source.sendMessageToClient(e)}_initAggregateStore(e){const t=e.schema.targets?.aggregate?.type??null;if((this.config?.schema.targets?.aggregate?.type??null)!==t&&(null!=this.aggregateStore&&(this.removeHandles("valueRangesChanged"),this.aggregateStore.destroy(),this.aggregateStore=null),t)){switch(t){case"cluster":{const e={geometryInfo:{geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1},spatialReference:this.spatialReference,fieldsIndex:this.fieldsIndex,fields:this.service.fields};this.aggregateStore=new _support_ClusterStore_js__WEBPACK_IMPORTED_MODULE_18__.ClusterStore(e,this.spatialReference,this._storage,{...this.service,fieldsIndex:this.fieldsIndex}),this.addHandles(this.aggregateStore.events.on("valueRangesChanged",(e=>{this.remoteClient.invoke("emitEvent",{name:"valueRangesChanged",event:{valueRanges:e.valueRanges}}).catch(k)})),"valueRangesChanged");break}case"bin":{const e={geometryInfo:{geometryType:"esriGeometryPolygon",hasM:!1,hasZ:!1},spatialReference:this.spatialReference,fieldsIndex:this.fieldsIndex,fields:this.service.fields};this.aggregateStore=new _support_BinStore_js__WEBPACK_IMPORTED_MODULE_17__.BinStore(e,this.spatialReference,this._storage,{...this.service,fieldsIndex:this.fieldsIndex});break}}this.aggregateStore.onTileUpdate({added:this.tileStore.tiles,removed:[]})}}async update(e,t){this._updateVersion++,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`FeatureController2D::update: Token version ${this._updateVersion}`),this._initQueryEngine(t),this._initAttributeStore(t),this.pause(),this.config?.timeZone!==t.timeZone&&(e.mesh=!0,e.storage.data=!0,e.storage.filters=!0,e.targets.aggregate=!0,e.targets.feature=!0,this.featureStore.invalidate()),await Promise.all([this._source.update(e,t.schema.source),this.featureStore.updateSchema(e,t.schema.targets.feature),this.attributeStore.update(e,t),this.attributeStore.updateFilters(e,t,this)]),this._initAggregateStore(t),null!=this.aggregateStore&&await this.aggregateStore.updateSchema(e,t.schema.targets.aggregate),this._initAggregateQueryEngine(this.aggregateStore,t.schema),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&e.describe(),this._set("config",t)}async applyUpdate(e){e.version=this._updateVersion,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug(`FeatureController2D::applyUpdate: Token version ${e.version}`),e.mesh&&this.clearTiles(),this._updateQueue.resume(),await this._source.applyUpdate(e),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Waiting for source update to finish"),this.notifyChange("updating"),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.whenOnce)((()=>!this.updating)),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Source update finsihed"),null!=this.aggregateStore&&(await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.after)(10),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Waiting for aggregate idle call"),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.whenOnce)((()=>!this.updating)),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Aggregate idle called")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("FeatureController2D::applyUpdate Update finished")}async onEdits({edits:e}){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")&&console.debug("Applying Edit:",e),this._didEdit=!0;try{const t=e.removed.map((e=>e.objectId&&-1!==e.objectId?e.objectId:this._lookupObjectIdByGlobalId(e.globalId))),r=e.addOrModified.map((({objectId:e})=>e));this.featureStore.invalidate(),await this._source.edit(r,t),this.clearTiles(),this.notifyChange("updating"),null!=this.aggregateStore&&this.aggregateStore.clear(),await this._source.resend(),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.whenOnce)((()=>!this.updating))}catch(t){}}async refresh(e){if(!e.dataChanged){const e=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_21__.UpdateToken.empty();return e.storage.filters=!0,this.applyUpdate(e)}this.featureStore.invalidate(),this.clearTiles(),this._source.refresh(this._updateVersion,e),this._cleanupNeeded=!0,this.notifyChange("updating"),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.whenOnce)((()=>!this.updating))}clearTiles(){for(const e of this.tileStore.tiles)this.processor.onTileClear(e,!1)}onTileUpdate(e){null!=this.aggregateStore&&this.aggregateStore.onTileUpdate(e);for(const t of e.added){const e=this._source.subscribe(t,this._updateVersion);"stream"!==this._source.type&&this._updatingHandles.addPromise(e.done),this._level=t.level}for(const t of e.removed)this._source.unsubscribe(t),this._cleanupNeeded=!0,this._tileToResolver.has(t.id)&&(this._tileToResolver.get(t.id).resolve(),this._tileToResolver.delete(t.id));this.notifyChange("updating")}async onIdle(){this._invalidated&&(this._invalidated=!1,null==this.aggregateStore&&"heatmap"!==this.processor.type||await this._repushCurrentLevelTiles()),this._markAndSweep()}async querySummaryStatistics({query:e,params:t}){return this.featureQueryEngine.executeQueryForSummaryStatistics(e,t)}async queryAggregateSummaryStatistics({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForSummaryStatistics(this._normalizeAggregateQuery(e),t)}async queryUniqueValues({query:e,params:t}){return this.featureQueryEngine.executeQueryForUniqueValues(e,t)}async queryAggregateUniqueValues({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForUniqueValues(this._normalizeAggregateQuery(e),t)}async queryClassBreaks({query:e,params:t}){return this.featureQueryEngine.executeQueryForClassBreaks(e,t)}async queryAggregateClassBreaks({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForClassBreaks(this._normalizeAggregateQuery(e),t)}async queryHistogram({query:e,params:t}){return this.featureQueryEngine.executeQueryForHistogram(e,t)}async queryAggregateHistogram({query:e,params:t}){return this.aggregateQueryEngine.executeQueryForHistogram(this._normalizeAggregateQuery(e),t)}queryExtent(e){return this.featureQueryEngine.executeQueryForExtent(e)}queryAggregates(e){return this.aggregateQueryEngine.executeQuery(this._normalizeAggregateQuery(e))}queryAggregateCount(e){return this.aggregateQueryEngine.executeQueryForCount(this._normalizeAggregateQuery(e))}queryAggregateIds(e){return this.aggregateQueryEngine.executeQueryForIds(this._normalizeAggregateQuery(e))}queryFeatures(e){return this.featureQueryEngine.executeQuery(e)}async queryVisibleFeatures(e){const t=await this.featureQueryEngine.executeQuery(e),r=t.objectIdFieldName;return t.features=t.features.filter((e=>{const t=e.attributes[r],s=this.getDisplayId(t);return null!=s&&this.attributeStore.isVisible(s)})),t}queryFeatureCount(e){return this.featureQueryEngine.executeQueryForCount(e)}queryLatestObservations(e){return this.featureQueryEngine.executeQueryForLatestObservations(e)}queryObjectIds(e){return this.featureQueryEngine.executeQueryForIds(e)}async queryStatistics(){return this.featureStore.storeStatistics}getObjectId(e){return this.featureStore.lookupObjectId(e,this._storage)}getDisplayId(e){if(null!=this.aggregateStore){const t=this.aggregateStore.getDisplayId(e);if(null==t){const t=this.featureStore.lookupDisplayId(e);return this.aggregateStore.getDisplayIdForReferenceId(t)}return t}return this.featureStore.lookupDisplayId(e)}getFeatures(e){const t=[],r=[];for(const s of e){const e=null!=this.aggregateStore?this.getAggregate(s):null;if(null!=e)if(null!=e.attributes.referenceId){const r=this.getFeature(e.attributes.referenceId);null!=r&&t.push(r)}else r.push(e);else{const e=this.getFeature(s);null!=e&&t.push(e)}}return{features:t,aggregates:r}}getFeature(e){const t=this.featureStore.lookupFeatureByDisplayId(e,this._storage);if(null==t)return null;const r=t.readHydratedGeometry(),s=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertToGeometry)(r,t.geometryType,t.hasZ,t.hasM);return{attributes:t.readAttributes(),geometry:s}}getAggregate(e){return null==this.aggregateStore?null:this.aggregateStore.getAggregate(e)}getAggregates(){return null==this.aggregateStore?[]:this.aggregateStore.getAggregates()}async setHighlight(e){const t=e.map((e=>this.getDisplayId(e))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome);return this.attributeStore.setHighlight(e,t)}_normalizeAggregateQuery(e){const t=e.objectIds??[];for(const r of e.aggregateIds??[])t.push(r);return e.objectIds=t,e.aggregateIds=[],e}_lookupObjectIdByGlobalId(e){const t=this.service.globalIdField;if(null==t)throw new Error("Expected globalIdField to be defined");let r=null;if(this.featureStore.forEach((s=>{e===s.readAttribute(t)&&(r=s.getObjectId())})),null==r)throw new Error(`Expected to find a feature with globalId ${e}`);return r}async _repushCurrentLevelTiles(){const e=this.tileStore.tiles.filter((e=>e.level===this._level));e.map((async e=>this._patchTile({type:"append",id:e.key.id,clear:!0,addOrUpdate:null,end:!1})));const t=e.map((async e=>this._patchTile({type:"append",id:e.key.id,addOrUpdate:_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_20__.FeatureSetReaderJSON.fromOptimizedFeatures([],{...this.service,fieldsIndex:this.fieldsIndex}),remove:[],end:!0,isRepush:!0,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_21__.UpdateToken.empty()})));await Promise.all(t)}_maybeForceCleanup(){performance.now()-this._lastCleanup>w&&this._markAndSweep()}_patchTile(e,t){const r=this._updateQueue.push(e,t).catch((e=>{}));return this._updatingHandles.addPromise(r)}async _onTileMessage(e,t){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-2d-update-debug")){const t=e.addOrUpdate?.hasFeatures;console.debug(e.id,`FeatureController:onTileMessage: [clear:${e.clear}, end:${e.end}, features: ${t}]`)}const r=this.tileStore.get(e.id);if(!r)return;if(e.clear)return this.processor.onTileClear(r,e.end);const s=e.status;this._cleanupNeeded=!0;const i=[];for(const a of e.remove??[]){const e=this.featureStore.lookupDisplayId(a);e&&i.push(e)}e.remove=i;try{if(null==e.addOrUpdate)return void this.processor.onTileMessage(r,{...e,addOrUpdate:null},null!=this.aggregateStore,t).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfNotAbortError);if(e.addOrUpdate.setArcadeSpatialReference(this.spatialReference),this.featureStore.hasInstance(e.addOrUpdate.instance)&&s.targets.feature||(s.targets.feature=!0,this.featureStore.onTileData(r,e,this.config?.timeZone)),!s.storage.data||!s.storage.filters){s.storage.data=!0,s.storage.filters=!0,this.attributeStore.onTileData(r,e);"stream"===this._source.type||this._didEdit?(await this.attributeStore.sendUpdates(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t)):this.attributeStore.sendUpdates()}if(null!=this.aggregateStore&&!s.targets.aggregate){s.targets.aggregate=!0;const t=U(this._source)&&this._source.loading,i=!U(this._source)||t||e.end;if(this.aggregateStore.onTileData(r,e,this._storage,this.attributeStore,this.config?.timeZone,i),!i)return;s.mesh||(this.attributeStore.onTileData(r,e),await this.attributeStore.sendUpdates())}if(!s.mesh){s.mesh=!0;const i=null!=this.aggregateStore&&"cluster"===this.aggregateStore.type;await this.processor.onTileMessage(r,e,i,t),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t)}this._maybeForceCleanup()}catch(n){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfNotAbortError)(n)}}_mark(e,t,r){const s=(4294901760&this._storage.getInstanceId(e))>>>16;e&&(t.add(s),r.set(e))}_markAndSweep(){this._lastCleanup=performance.now();if(!(!("feature"===this._source.type&&"snapshot"===this._source.mode)&&("stream"===this._source.type||this._cleanupNeeded)))return;this._cleanupNeeded=!1;const e=this._storage.getBitset(this._markedIdsBufId),t=new Set;e.clear();for(const r of this.tileStore.tiles)for(const s of this._source.readers(r.id)){const r=s.getCursor();for(;r.next();){let s=r.getDisplayId();if(!s){const e=r.getObjectId();s=this.featureStore.lookupDisplayId(e)}this._mark(s,t,e)}}"symbol"===this.processor.type&&this.processor.forEachBufferId((r=>{this._mark(r,t,e)})),this._updateQueue.forEach((r=>{for(const s of r.remove??[]){const r=this.featureStore.lookupDisplayId(s);this._mark(r,t,e)}})),null!=this.aggregateStore&&(this.aggregateStore.sweepFeatures(e,this.featureStore),"sweepAggregates"in this.aggregateStore&&this.aggregateStore.sweepAggregates(this._storage,this.attributeStore,this._level)),this.featureStore.sweepFeatures(e,this._storage,this.attributeStore),this.featureStore.sweepFeatureSets(t)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],R.prototype,"tileStore",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],R.prototype,"config",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],R.prototype,"fieldsIndex",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],R.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],R.prototype,"remoteClient",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],R.prototype,"service",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],R.prototype,"spatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],R.prototype,"dataUpdating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],R.prototype,"updating",null),R=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.features.controllers.FeatureController2D")],R);const q=R;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/support/sourceAdapters.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/controllers/support/sourceAdapters.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SourceAdapter: () => (/* binding */ m),
/* harmony export */   createSourceAdapter: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_workers_Connection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/workers/Connection.js */ "./node_modules/@arcgis/core/core/workers/Connection.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../layers/ogc/ogcFeatureUtils.js */ "./node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../rest/query/operations/query.js */ "./node_modules/@arcgis/core/rest/query/operations/query.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_FeatureSetReaderPBF_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../support/FeatureSetReaderPBF.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class m{constructor(e){this.service=e,this._arcadeLayerSchema={...e,fieldsIndex:_layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_5__["default"].fromJSON(e.fieldsIndex)}}destroy(){}}function p(e){return Array.isArray(e.source)}function l(e){return"ogc-source"===e?.type}function y(e){const{capabilities:t}=e;return l(e.source)?new F(e):p(e)?new h(e):t.query.supportsFormatPBF&&(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("featurelayer-pbf")?new d(e):new S(e)}async function f(t){const r=new _core_workers_Connection_js__WEBPACK_IMPORTED_MODULE_1__["default"];return await r.open(t,{}),r}class h extends m{constructor(e){super(e),this._portsOpen=f(e.source).then((e=>this.client=e))}destroy(){this.client.close(),this.client=null}async executeQuery(e,t){await this._portsOpen;const r=await this.client.invoke("queryFeatures",e.toJSON(),t);return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderJSON.fromFeatureSet(r,this._arcadeLayerSchema)}}class d extends m{async executeQuery(e,t){const{data:r}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_6__.executeQueryPBFBuffer)(this.service.source,e,t),a=!e.quantizationParameters;return _support_FeatureSetReaderPBF_js__WEBPACK_IMPORTED_MODULE_8__.FeatureSetReaderPBF.fromBuffer(r,this._arcadeLayerSchema,a)}}class S extends m{async executeQuery(e,s){const{source:i,capabilities:o,spatialReference:u,objectIdField:m,geometryType:p}=this.service;if(null!=e.quantizationParameters&&!o.query.supportsQuantization){const o=e.clone(),p=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.toQuantizationTransform)(o.quantizationParameters);o.quantizationParameters=null;const{data:l}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_6__.executeQuery)(i,o,u,s),y=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromFeatureSet)(l,m);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedFeatureSet)(p,y),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderJSON.fromOptimizedFeatureSet(y,this._arcadeLayerSchema)}const{data:l}=await (0,_rest_query_operations_query_js__WEBPACK_IMPORTED_MODULE_6__.executeQuery)(i,e,this.service.spatialReference,s);return"esriGeometryPoint"===p&&(l.features=l.features?.filter((e=>{if(null!=e.geometry){const t=e.geometry;return Number.isFinite(t.x)&&Number.isFinite(t.y)}return!0}))),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderJSON.fromFeatureSet(l,this._arcadeLayerSchema)}}class F extends m{async executeQuery(e,r){const{capabilities:i}=this.service;if(e.quantizationParameters&&!i.query.supportsQuantization){const i=e.clone(),o=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__.toQuantizationTransform)(i.quantizationParameters);i.quantizationParameters=null;const n=await (0,_layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__.queryOptimizedFeatureSet)(this.service.source,e,r);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedFeatureSet)(o,n),_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderJSON.fromOptimizedFeatureSet(n,this._arcadeLayerSchema)}const o=await (0,_layers_ogc_ogcFeatureUtils_js__WEBPACK_IMPORTED_MODULE_4__.queryOptimizedFeatureSet)(this.service.source,e,r);return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReaderJSON.fromOptimizedFeatureSet(o,this._arcadeLayerSchema)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/processors.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/processors.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadProcessorModule: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o){return"heatmap"===o?__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_2d_layers_features_processors_HeatmapProcessor_js").then(__webpack_require__.bind(__webpack_require__, /*! ./processors/HeatmapProcessor.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processors/HeatmapProcessor.js")):Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_geometry_support_TileClipper_js-node_modules_arcgis_core_vie-6140ae"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_earcut_js-node_modules_arcgis_core_views_2d_engine_we-b71fd7"), __webpack_require__.e("vendors-node_modules_arcgis_core_core_BidiEngine_js-node_modules_arcgis_core_views_2d_engine_-577e10"), __webpack_require__.e("vendors-node_modules_arcgis_core_symbols_cim_cimAnalyzer_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_views_2d_engine_webgl_mesh_MeshData_js-node_modules_arcgis_c-31af71"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_mat2d_js-node_modules_arcgis_core_chunks_mat2df32_js--9170f2"), __webpack_require__.e("vendors-node_modules_arcgis_core_chunks_vec2_js-node_modules_arcgis_core_chunks_vec2f32_js-no-c6674a")]).then(__webpack_require__.bind(__webpack_require__, /*! ./processors/SymbolProcessor.js */ "./node_modules/@arcgis/core/views/2d/layers/features/processors/SymbolProcessor.js"))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseFeatureSource: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _controllers_support_sourceAdapters_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/support/sourceAdapters.js */ "./node_modules/@arcgis/core/views/2d/layers/features/controllers/support/sourceAdapters.js");
/* harmony import */ var _DataTileSource_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DataTileSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js");
/* harmony import */ var _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../support/QueueProcessor.js */ "./node_modules/@arcgis/core/views/support/QueueProcessor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const u=4;class c extends _DataTileSource_js__WEBPACK_IMPORTED_MODULE_6__.DataTileSource{constructor(e){super(e),this.type="feature",this.mode="on-demand",this._adapter=(0,_controllers_support_sourceAdapters_js__WEBPACK_IMPORTED_MODULE_5__.createSourceAdapter)(e.serviceInfo),this._queue=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__.QueueProcessor({concurrency:8,process:async e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e),null!=e.tile){const t=e.tile.key.id,{signal:r}=e,s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-tiles-debug")?{tile:t.replaceAll("/","."),depth:e.depth}:void 0,i=await this._adapter.executeQuery(e.query,{signal:r,query:{...s,...this._schema?.customParameters}});return i.level=e.tile.key.level,i}return this._adapter.executeQuery(e.query,{...e,query:this._schema?.customParameters})}}),this._patchQueue=new _support_QueueProcessor_js__WEBPACK_IMPORTED_MODULE_7__.QueueProcessor({concurrency:8,process:async e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e),null!=e.tile){const t=e.tile.key.id,{signal:r}=e,s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-tiles-debug")?{tile:t.replaceAll("/","."),depth:e.depth}:void 0,i=await this._adapter.executeQuery(e.query,{signal:r,query:{...s,...this._schema?.customParameters}});return i.level=e.tile.key.level,i}return this._adapter.executeQuery(e.query,{...e,query:this._schema?.customParameters})}})}destroy(){super.destroy(),this._adapter.destroy(),this._queue.destroy(),this._patchQueue.destroy()}enqueueQuery(e,t){return this.updatingHandles.addPromise(this._queue.push(e,t))}enqueuePatchQuery(e,t){return this.updatingHandles.addPromise(this._patchQueue.push(e,t))}get maxRecordCountFactor(){const{query:e}=this._serviceInfo.capabilities;return e.supportsMaxRecordCountFactor?u:null}get maxPageSize(){const{query:e}=this._serviceInfo.capabilities;return(e.maxRecordCount??8e3)*(this.maxRecordCountFactor??1)}get pageSize(){return Math.min(8e3,this.maxPageSize)}enableEvent(e,t){}subscribe(e,s){const a=super.subscribe(e,s);return this._fetchDataTile(e).catch((s=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(s)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.views.2d.layers.features.sources.BaseFeatureSource").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("mapview-query-error","Encountered error when fetching tile",{tile:e,error:s}))})),a}unsubscribe(e){super.unsubscribe(e)}readers(e){return this._subscriptions.get(e).readers()}async query(e,t={}){const r=t.query??{};return this._adapter.executeQuery(e,{...t,query:{...r,...this._schema?.customParameters}})}async queryLastEditDate(){const t=this._serviceInfo.source,r={...t.query,f:"json"};return(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t.path,{query:r,responseType:"json"})).data.editingInfo.lastEditDate}createTileQuery(e,t={}){const r=this._serviceInfo.geometryType,s=this.createQuery(t);s.quantizationParameters=t.quantizationParameters??e.getQuantizationParameters(),s.resultType="tile",s.geometry=e.extent,this._serviceInfo.capabilities.query.supportsQuantization?"esriGeometryPolyline"===r&&(s.maxAllowableOffset=e.resolution*(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("feature-polyline-generalization-factor")):"esriGeometryPolyline"!==r&&"esriGeometryPolygon"!==r||(s.maxAllowableOffset=e.resolution,"esriGeometryPolyline"===r&&(s.maxAllowableOffset*=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("feature-polyline-generalization-factor")));const i=this._serviceInfo.capabilities.query;return s.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference,s.compactGeometryEnabled=i.supportsCompactGeometry,s}async _executePatchQuery(e,t,r,s){const i=t.clone();i.outFields=[this._serviceInfo.objectIdField,...r],i.returnCentroid=!1,i.returnGeometry=!1;const a=null!=i.start?i.start/8e3:0,o=s.signal;return await this.enqueuePatchQuery({tile:e,query:i,signal:o,depth:a})}async _resend(e,t){const{query:r,message:i}=e,a=null!=r.outFields?r.outFields:[],o=this._queryInfo.outFields,n=o.filter((e=>!a.includes(e)));if(null!=i.addOrUpdate)if(n.length)try{const e=this._subscriptions.get(i.id).tile,a=await this._executePatchQuery(e,r,n,t);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t),r.outFields=o,i.addOrUpdate.joinAttributes(a),this._onMessage({...i,end:i.end,type:"append"})}catch(u){}else this._onMessage({...i,type:"append"});else this._onMessage({...i,type:"append"})}async _resendSubscription(e){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug(e.tile.id,"Resend Subscription"),e.empty)return this._onMessage({id:e.tile.id,addOrUpdate:null,end:!1,type:"append"});const t=e.signal;for(const r of e.requests.done)await this._resend(r,{signal:t});return null!=e.edits?this._onMessage(e.edits):void 0}async resend(){const e=Array.from(this._subscriptions.values());await Promise.all(e.map((e=>this._resendSubscription(e))))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataTileSource: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _TimeExtent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../TimeExtent.js */ "./node_modules/@arcgis/core/TimeExtent.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _DataTileSubscription_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./DataTileSubscription.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSubscription.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function p(e,s){const t=new Set;return e&&e.forEach((e=>t.add(e))),s&&s.forEach((e=>t.add(e))),t.has("*")?["*"]:Array.from(t)}class m{constructor(e){this.updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_5__.UpdatingHandles,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._resolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createResolver)(),this._didEdit=!1,this._subscriptions=new Map,this._outSR=e.outSR,this._serviceInfo=e.serviceInfo,this._onTileUpdateMessage=e.onMessage,this._arcadeLayerSchema=e.arcadeLayerSchema}destroy(){for(const e of this._subscriptions.values())e.abort();this.updatingHandles.destroy()}get subscriptions(){return this._subscriptions.values()}async _onMessage(e){const s=this._subscriptions.get(e.id);if(!s)return;const t={...e,remove:e.remove??[],status:e.status??_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.ignoreAbortErrors)(this._onTileUpdateMessage(t,s.options))}update(s,t){const i=t.fields.length;t.outFields=p(this._schema?.outFields,t.outFields),t.outFields=t.outFields.length>=.75*i?["*"]:t.outFields,t.outFields.sort();const r=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.diff)(this._schema,t);if(!r)return;(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - Source:",r);const a="orderByFields"in this._serviceInfo&&this._serviceInfo.orderByFields?this._serviceInfo.orderByFields:this._serviceInfo.objectIdField+" ASC",d=this._serviceInfo.source,h={returnCentroid:!(null!==d&&"object"==typeof d&&"path"in d&&(0,_layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__.isHostedAgolService)(d.path))&&"esriGeometryPolygon"===this._serviceInfo.geometryType,returnGeometry:!0,timeReferenceUnknownClient:"stream"!==this._serviceInfo.type&&this._serviceInfo.timeReferenceUnknownClient,outFields:t.outFields,outSpatialReference:this._outSR,orderByFields:[a],where:t.definitionExpression||"1=1",gdbVersion:t.gdbVersion,historicMoment:t.historicMoment,timeExtent:t.timeExtent?_TimeExtent_js__WEBPACK_IMPORTED_MODULE_0__["default"].fromJSON(t.timeExtent):null},l=this._schema&&(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiff)(r,"outFields");this._schema&&(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiffAny)(r,["timeExtent","definitionExpression","gdbVersion","historicMoment","customParameters"])&&(s.why.mesh.push("Layer filter and/or custom parameters changed"),s.why.source.push("Layer filter and/or custom parameters changed"),s.mesh=!0,s.source=!0,s.queryFilter=!0),l&&(s.why.source.push("Layer required fields changed"),s.source=!0),(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.diff)(h,this._queryInfo)&&(this._queryInfo=h),this._schema=t,this._resolver.resolve()}whenInitialized(){return this._resolver.promise}async applyUpdate(e){if(e.queryFilter||e.source&&this._didEdit)return this.refresh(e.version),void(this._didEdit=!1);this._subscriptions.forEach((s=>s.applyUpdate(e))),await this.resend()}refresh(e,s){for(const t of this._tiles())this.unsubscribe(t),this.subscribe(t,e)}subscribe(e,s){const t=new _DataTileSubscription_js__WEBPACK_IMPORTED_MODULE_8__.DataTileSubscription(e,s);return this._subscriptions.set(e.id,t),t}unsubscribe(e){const s=this.getSubscription(e.id);null!=s&&s.abort(),this._subscriptions.delete(e.id)}createQuery(e={}){const s=this._queryInfo.historicMoment?new Date(this._queryInfo.historicMoment):null;return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_7__["default"]({...this._queryInfo,historicMoment:s,...e})}getSubscription(e){return this._subscriptions.has(e)?this._subscriptions.get(e):null}async queryLastEditDate(){throw new Error("Service does not support query type")}async query(e,s){throw new Error("Service does not support query")}*_tiles(){const e=Array.from(this._subscriptions.values());for(const s of e)yield s.tile}async edit(e,s){return this.updatingHandles.addPromise(this._edit(e,s))}async _edit(e,s){const t=Array.from(this._subscriptions.values()),i=t.map((({tile:e})=>e));for(const r of t)r.removeIds(s);if(e.length){const t=i.map((s=>{const t=this.createTileQuery(s);return t.objectIds=e,{tile:s,query:t}})).map((async({tile:e,query:s})=>({tile:e,result:await this.query(s,{query:{tile:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-tiles-debug")?e.id.replaceAll("/","."):void 0}}),query:s}))),o=(await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlwaysValues)(t)).map((async({tile:t,result:i})=>{if(!i.hasFeatures&&!s.length&&!e.length)return;const r=this._subscriptions.get(t.key.id);r&&r.edit(i,e)}));await Promise.allSettled(o)}this._didEdit=!0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSubscription.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSubscription.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DataTileSubscription: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/CircularArray.js */ "./node_modules/@arcgis/core/core/CircularArray.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class a{constructor(e,i){this.requests={done:new Array,stream:new _core_CircularArray_js__WEBPACK_IMPORTED_MODULE_1__["default"](10)},this._edits=null,this._abortController=new AbortController,this._version=0,this._isDone=!1,this.didSend=!1,this.tile=e,this._version=i,this._resolver=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createResolver)(),this._resolver.promise.catch((e=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfNotAbortError)(e)))}get signal(){return this._abortController.signal}get options(){return{signal:this._abortController.signal}}get empty(){return!this.requests.done.length&&null==this.edits}get edits(){return this._edits}get done(){return this._resolver.promise}get isDone(){return this._isDone}resolve(){this._isDone=!0,this._resolver.resolve()}clear(){this.requests.done=[]}applyUpdate(e){this.requests.done.forEach((s=>s.message.status.unset(e))),this._version=e.version,null!=this._edits&&this._edits.status.unset(e)}add(e){e.message.status=e.message.status??_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty(),e.message.status.version=this._version,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug(this.tile.id,"DataTileSubscription:add",this._version),e.message.end&&(this.requests.done.forEach((e=>{null!=e.message&&e.message.end&&(e.message.end=!1)})),this._resolver.resolve(),this._isDone=!0),this.requests.done.push(e)}edit(s,t){const r=s.getQuantizationTransform(),i=s.fullSchema(),a=Array.from(s.features()).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome),n=[...t,...a.map((e=>e.objectId))];if(this.removeIds(n),this._invalidate(),null==this._edits)return void(this._edits={type:"append",addOrUpdate:_support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_4__.FeatureSetReaderJSON.fromOptimizedFeatures(a,i,r),id:this.tile.id,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty(),end:!0});this.requests.done.forEach((e=>e.message.end=!1));this._edits.addOrUpdate.append(s.features())}*readers(){for(const{message:e}of this.requests.done)null!=e.addOrUpdate&&(yield e.addOrUpdate);null!=this._edits?.addOrUpdate&&(yield this._edits.addOrUpdate)}_invalidate(){for(const e of this.requests.done)e.message.status=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty();null!=this._edits&&(this._edits.status=_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_5__.UpdateToken.empty())}removeIds(e){this._invalidate();for(const{message:s}of this.requests.done){const t=s.addOrUpdate;null!=t&&(t.removeIds(e),t.isEmpty&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Removing FeatureSetReader"),s.addOrUpdate=null))}null!=this._edits?.addOrUpdate&&this._edits.addOrUpdate.removeIds(e),this.requests.done=this.requests.done.filter((e=>e.message.addOrUpdate||e.message.end))}abort(){this._abortController.abort(),this._resolver.reject((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createAbortError)())}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DrillDownFeatureSource.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/DrillDownFeatureSource.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrillDownFeatureSource: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-mobile"),i={maxDrillLevel:s?1:4,maxRecordCountFactor:s?1:3};class a extends _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__.BaseFeatureSource{constructor(e){super(e)}async _fetchDataTile(r){const s=this._serviceInfo.capabilities.query.supportsMaxRecordCountFactor,a=this._subscriptions.get(r.key.id),o=a.signal,n=r.getQuantizationParameters();let c=0;const d=async(u,l)=>{const m=this._queryInfo,p=this.createTileQuery(u,{maxRecordCountFactor:s?i.maxRecordCountFactor:void 0,returnExceededLimitFeatures:!1,quantizationParameters:n});c++;try{const t=await this.enqueueQuery({tile:r,query:p,signal:o,depth:l});if(c--,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(o),!t)return;if(m!==this._queryInfo)return void d(u,l);if(t.exceededTransferLimit&&l<i.maxDrillLevel){for(const e of u.createChildTiles())d(e,l+1);return}const s={id:r.id,addOrUpdate:t,end:0===c,type:"append"};a.add({query:p,message:s}),this._onMessage(s)}catch(f){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.isAbortError)(f)){const e={id:r.id,addOrUpdate:null,end:!0,type:"append"};a.add({query:p,message:e}),this._onMessage(e)}}};d(r,0)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/PagedFeatureSource.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/PagedFeatureSource.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PagedFeatureSource: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BaseFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class o extends _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__.BaseFeatureSource{constructor(e){super(e)}async _fetchDataTile(s){const i=6,o=20,n=this._subscriptions.get(s.key.id);let d=!1,c=0,u=0;const h=(e,t)=>{u--,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(n);const r=s.id,i=e.reader,o=e.query;if(!i.exceededTransferLimit){if(d=!0,0!==t&&!i.hasFeatures){const e={id:r,addOrUpdate:i,end:0===u,type:"append"};return n.add({message:e,query:o}),void this._onMessage(e)}const e={id:r,addOrUpdate:i,end:0===u,type:"append"};return n.add({message:e,query:o}),void this._onMessage(e)}const c={id:r,addOrUpdate:i,end:d&&0===u,type:"append"};n.add({message:c,query:o}),this._onMessage(c)};let m=0,p=0;for(;!d&&p++<o;){let o;for(let a=0;a<m+1;a++){const a=c++;u++,o=this._fetchDataTilePage(s,a,n).then((e=>e&&h(e,a))).catch((a=>{if(d=!0,!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(a)){_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.2d.layers.features.sources.PagedFeatureSource").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-query-error","Encountered error when fetching tile",{tile:s,error:a}));const r={id:s.id,addOrUpdate:null,end:d,type:"append"},i={start:this.pageSize*c,num:this.pageSize,returnExceededLimitFeatures:!0,quantizationParameters:s.getQuantizationParameters()};null!=this.maxRecordCountFactor&&(i.maxRecordCountFactor=this.maxRecordCountFactor);const o=this.createTileQuery(s,i);n.add({message:r,query:o}),this._onMessage(r)}}))}await o,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(n),m=Math.min(m+2,i)}}async _fetchDataTilePage(e,t,r){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(r);const i=this._queryInfo,o={start:this.pageSize*t,num:this.pageSize,returnExceededLimitFeatures:!0,quantizationParameters:e.getQuantizationParameters()};null!=this.maxRecordCountFactor&&(o.maxRecordCountFactor=this.maxRecordCountFactor);const n=this.createTileQuery(e,o);try{const s=r.signal,o=await this.enqueueQuery({tile:e,query:n,signal:s,depth:t});return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(r),o?i!==this._queryInfo?this._fetchDataTilePage(e,t,r):{reader:o,query:n}:null}catch(d){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfNotAbortError)(d),null}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/SnapshotFeatureSource.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/SnapshotFeatureSource.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SnapshotFeatureSource: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BaseFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js");
/* harmony import */ var _support_FeatureSetReaderPBFIndirect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../support/FeatureSetReaderPBFIndirect.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(e,t,s){const r=e.getXHydrated(),o=e.getYHydrated(),a=t.getColumnForX(r),n=Math.floor(t.normalizeCol(a));return`${s}/${Math.floor(t.getRowForY(o))}/${n}`}function h(e,t){if(null==e)return null;const s=t.transform,r=e.getQuantizationTransform();if(null==r){const[t,r]=s.scale,[o,a]=s.translate,n=-o/t,i=1/t,d=a/r,u=1/-r;return e.transform(n,d,i,u)}const[o,a]=r.scale,[n,i]=r.translate,[d,u]=s.scale,[l,h]=s.translate,c=o/d,g=(n-l)/d,p=a/u,_=(-i+h)/u;return e.transform(g,_,c,p)}let c=class extends _BaseFeatureSource_js__WEBPACK_IMPORTED_MODULE_7__.BaseFeatureSource{constructor(e){super(e),this.mode="snapshot",this._loading=!0,this._controller=new AbortController,this._downloadPromise=null,this._didSendEnd=!1,this._queries=new Array,this._invalidated=!1,this._hasAggregates=!1,this._random=new _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__["default"](1e3),this._store=e.store,this._markedIdsBufId=this._store.storage.createBitset()}destroy(){super.destroy(),this._controller.abort()}get loading(){return this._loading}get _signal(){return this._controller.signal}update(e,t){super.update(e,t),this._featureCount??=t.initialFeatureCount,null!=t.changedFeatureCount&&(this._featureCount=t.changedFeatureCount),this._hasAggregates=!!e.targets?.aggregate}async resend(e=!1){if(await this._downloadPromise,this._invalidated||e){const e=this._featureCount;return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.assertIsSome)(e,"Expected featureCount to be defined"),this._invalidated=!1,this._subscriptions.forEach((e=>e.clear())),this._downloadPromise=this._download(e),void await this._downloadPromise}const t=this._queries.map((({query:e,reader:t})=>this._sendPatchQuery(e,t)));await Promise.all(t),this._subscriptions.forEach((e=>{e.requests.done.forEach((e=>this._onMessage(e.message)))}))}async refresh(e,t){t&&(this._featureCount=t.featureCount),await this.resend(!0)}async _sendPatchQuery(e,t){const s=null!=e.outFields?e.outFields:[],o=this._queryInfo.outFields,a=o.filter((e=>!s.includes(e)));if(!a.length)return;const n=e.clone(),i=this._signal;n.returnGeometry=!1,n.returnCentroid=!1,n.outFields=a,e.outFields=o;const d=await this.enqueueQuery({query:n,depth:0,signal:i});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)({signal:i}),t.joinAttributes(d)}async _fetchDataTile(e){this._downloadPromise??=this._download(this._featureCount);const t=this._store.search(e),s=this._subscriptions.get(e.key.id),r=t.length-1;for(let d=0;d<r;d++){const r=h(t[d],e),a={type:"append",id:e.id,addOrUpdate:r,end:!1,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};s.add({query:null,message:a}),this._hasAggregates||await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.after)(1),this._onMessage(a)}const a=h(r>=0?t[r]:null,e),n=this._didSendEnd,i={type:"append",id:e.id,addOrUpdate:a,end:n,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};s.add({query:null,message:i}),this._onMessage(i)}async _download(e){try{await this.whenInitialized();const t=this._store.storage.getBitset(this._markedIdsBufId),s=new Set;t.clear();const r=Math.ceil(e/this.pageSize),o=Array.from({length:r},((e,t)=>t)).sort(((e,t)=>this._random.getInt()-this._random.getInt())).map((e=>this._downloadPage(e,t,s)));await Promise.all(o),this._store.sweepFeatures(t,this._store.storage),this._store.sweepFeatureSets(s)}catch(s){_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.2d.layers.features.sources.SnapshotFeatureSource").error("mapview-snapshot-source","Encountered and error when downloading feature snapshot",s)}this._sendEnd(),this._loading=!1}async _downloadPage(e,t,s){const o=this.pageSize,a={start:e*o,num:o,cacheHint:!0};null!=this.maxRecordCountFactor&&(a.maxRecordCountFactor=this.maxRecordCountFactor);const n=this.createQuery(a),i=this._signal,d=await this.enqueueQuery({query:n,depth:e,signal:i});(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)({signal:i}),this._queries.push({query:n,reader:d}),this._store.insert(d),s.add(d.instance);const u=d.getCursor();for(;u.next();)t.set(u.getDisplayId());this._send(d)}_send(e){if(!this._subscriptions.size)return;let t=null;const s=new Map,r=new Set,o=new Map;this._subscriptions.forEach((e=>{const a=e.tile;s.set(a.key.id,null),t=a.tileInfoView,r.add(a.level);const{row:n,col:i}=a.key,d=`${a.level}/${n}/${i}`,u=o.get(d)??[];u.push(e),o.set(d,u)}));for(const a of r){const r=t.getLODInfoAt(a),n=e.getCursor();for(;n.next();){const e=l(n,r,a),t=n.getIndex();if(o.has(e))for(const r of o.get(e)){const e=r.tile.id;let o=s.get(e);null==o&&(o=[],s.set(e,o)),o.push(t)}}}s.forEach(((t,s)=>{if(null!=t){const r=this._subscriptions.get(s),o={type:"append",id:s,addOrUpdate:h(_support_FeatureSetReaderPBFIndirect_js__WEBPACK_IMPORTED_MODULE_8__.FeatureSetReaderIndirect.from(e,t),r.tile),end:!1,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};r.add({query:null,message:o}),this._onMessage(o)}}))}_sendEnd(){this._subscriptions.forEach((e=>{const t={type:"append",id:e.tile.id,addOrUpdate:null,end:!0,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_9__.UpdateToken.empty()};e.add({query:null,message:t}),this._onMessage(t)})),this._didSendEnd=!0}};c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.view.2d.layers.features.sources.SnapshotFeatureSource")],c);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamConnectionState: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let s=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(r){super(r)}get connectionStatus(){return this.connection?.connectionStatus}get errorString(){return this.connection?.errorString}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"connection",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"connectionStatus",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],s.prototype,"errorString",null),s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__.subclass)("esri.views.2d.layers.features.sources.StreamConnectionState")],s);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamSource.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamSource.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StreamSource: () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/rbush.js */ "./node_modules/@arcgis/core/chunks/rbush.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_StreamFeatureManager_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/data/StreamFeatureManager.js */ "./node_modules/@arcgis/core/layers/graphics/data/StreamFeatureManager.js");
/* harmony import */ var _layers_graphics_sources_connections_createConnection_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/sources/connections/createConnection.js */ "./node_modules/@arcgis/core/layers/graphics/sources/connections/createConnection.js");
/* harmony import */ var _DataTileSource_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DataTileSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js");
/* harmony import */ var _StreamConnectionState_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StreamConnectionState.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamConnectionState.js");
/* harmony import */ var _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../support/FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../support/UpdateToken.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const p=2500;function _(e,t){const s=e.weakClone();if(null!=e.geometry){const i=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeX)(t,e.geometry.coords[0]),o=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeY)(t,e.geometry.coords[1]);s.geometry=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"]([],[i,o])}return s}function m(e){return"esriGeometryPoint"===e?_:(t,s)=>{const n=t.weakClone(),r=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],o=!1,d=!1,c=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeOptimizedGeometry)(r,t.geometry,o,d,e,s,!1,!1);return n.geometry=c,n}}function y(e){return"esriGeometryPoint"===e?e=>null!=e.geometry?{minX:e.geometry.coords[0],minY:e.geometry.coords[1],maxX:e.geometry.coords[0],maxY:e.geometry.coords[1]}:{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}:e=>{let t=1/0,s=1/0,i=-1/0,n=-1/0;return null!=e.geometry&&e.geometry.forEachVertex(((e,r)=>{t=Math.min(t,e),s=Math.min(s,r),i=Math.max(i,e),n=Math.max(n,r)})),{minX:t,minY:s,maxX:i,maxY:n}}}function g(e,s){const i=(0,_chunks_rbush_js__WEBPACK_IMPORTED_MODULE_2__.r)(9,y(s));return i.load(e),i}function f(e,t){return e.search({minX:t.bounds[0],minY:t.bounds[1],maxX:t.bounds[2],maxY:t.bounds[3]})}class v{constructor(e,t){this.onUpdate=e,this._geometryType=t,this._objectIdToFeature=new Map,this._index=null}get _features(){const e=[];return this._objectIdToFeature.forEach((t=>e.push(t))),e}add(e){this._objectIdToFeature.set(e.objectId,e),this._index=null}get(e){return this._objectIdToFeature.has(e)?this._objectIdToFeature.get(e):null}forEach(e){this._objectIdToFeature.forEach(e)}search(e){return this._index||(this._index=g(this._features,this._geometryType)),f(this._index,e)}clear(){this._index=null,this._objectIdToFeature.clear()}removeById(e){const t=this._objectIdToFeature.get(e);return t?(this._objectIdToFeature.delete(e),this._index=null,t):null}update(e,t){this.onUpdate(e,t)}get size(){return this._objectIdToFeature.size}}class I extends _DataTileSource_js__WEBPACK_IMPORTED_MODULE_7__.DataTileSource{constructor(t){super(t),this.type="stream",this._updateIntervalId=0,this._level=0,this._isPaused=!1,this._updateInfo={websocket:0,client:0},this._inUpdate=!1;const{outSR:s}=t,{geometryType:i,objectIdField:n,timeInfo:r,purgeOptions:a,source:c,spatialReference:u,serviceFilter:l,maxReconnectionAttempts:_,maxReconnectionInterval:y,updateInterval:g,customParameters:f,enabledEventTypes:I}=t.serviceInfo,b=new v(this._onUpdate.bind(this),i),T=new _layers_graphics_data_StreamFeatureManager_js__WEBPACK_IMPORTED_MODULE_5__.StreamFeatureManager(b,n,r,a),S=(0,_layers_graphics_sources_connections_createConnection_js__WEBPACK_IMPORTED_MODULE_6__.createConnection)(c,u,s,i,l,_,y,f??{});this._connectionState=new _StreamConnectionState_js__WEBPACK_IMPORTED_MODULE_8__.StreamConnectionState({connection:S}),this._store=b,this._manager=T,this._connection=S,this._quantize=m(i),this._enabledEventTypes=new Set(I),this._handlesGroup=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.handlesGroup)([this._connection.on("data-received",(e=>this._onFeature(e))),this._connection.on("message-received",(e=>this._onWebSocketMessage(e)))]),this._initUpdateInterval=()=>{let e=performance.now();this._updateIntervalId=setInterval((()=>{const s=performance.now(),i=s-e;if(i>p){e=s;const t=Math.round(this._updateInfo.client/(i/1e3)),n=Math.round(this._updateInfo.websocket/(i/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.events.emit("updateRate",{client:t,websocket:n})}t.canAcceptRequest()&&!this._inUpdate&&this._manager.checkForUpdates()}),g)},this._isPaused=t.serviceInfo.isPaused,this._isPaused||this._initUpdateInterval()}destroy(){super.destroy(),this._clearUpdateInterval(),this._connection.destroy(),this._handlesGroup?.remove()}_fetchDataTile(){}get connectionStatus(){return this._connectionState.connectionStatus}get errorString(){return this._connectionState.errorString}updateCustomParameters(e){this._connection.updateCustomParameters(e)}pauseStream(){this._isPaused||(this._isPaused=!0,this._clearUpdateInterval())}resumeStream(){this._isPaused&&(this._isPaused=!1,this._initUpdateInterval())}sendMessageToSocket(e){this._connection.sendMessageToSocket(e)}sendMessageToClient(e){this._isPaused&&"type"in e&&"clear"===e.type?(this._store.clear(),this._subscriptions.forEach(((e,t)=>{e.didSend&&e.tile.level===this._level&&this._onMessage({type:"append",id:t,addOrUpdate:null,clear:!0,end:!0})}))):this._connection.sendMessageToClient(e)}enableEvent(e,t){t?this._enabledEventTypes.add(e):this._enabledEventTypes.delete(e)}subscribe(e,t){const s=super.subscribe(e,t);this._level=e.level;const i=this._getTileFeatures(e);return this._onMessage({type:"append",id:e.key.id,addOrUpdate:i,end:!0}),s.didSend=!0,s}unsubscribe(e){super.unsubscribe(e)}*readers(e){const t=this._subscriptions.get(e),{tile:s}=t;yield this._getTileFeatures(s)}createTileQuery(e){throw new Error("Service does not support tile  queries")}async resend(){this._subscriptions.forEach((e=>{const{tile:t}=e,s={type:"append",id:t.id,addOrUpdate:this._getTileFeatures(t),end:!0};this._onMessage(s)}))}_getTileFeatures(e){const t=this._store.search(e).map((t=>this._quantize(t,e.transform)));return _support_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_9__.FeatureSetReaderJSON.fromOptimizedFeatures(t,this._arcadeLayerSchema,e.transform)}_onWebSocketMessage(e){if(this._enabledEventTypes.has("message-received")&&this.events.emit("message-received",e),"type"in e)switch(e.type){case"delete":if(e.objectIds)for(const t of e.objectIds)this._manager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this._manager.removeByTrackId(t);break;case"clear":this._store.forEach((e=>this._manager.removeById(e.objectId)))}}_onFeature(e){this._updateInfo.websocket++;try{this._enabledEventTypes.has("data-received")&&this.events.emit("data-received",e);const t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertFromFeature)(e,this._serviceInfo.geometryType,!1,!1,this._serviceInfo.objectIdField);this._manager.add(t)}catch(t){}}_clearUpdateInterval(){clearInterval(this._updateIntervalId),this._updateIntervalId=0}async _onUpdate(e,t){this._inUpdate=!0;try{null!=e&&(this._updateInfo.client+=e.length),this._subscriptions.forEach(((e,t)=>{e.didSend&&e.tile.level===this._level&&this._onMessage({type:"append",id:t,addOrUpdate:null,clear:!0,end:!1})}));const t=[];this._subscriptions.forEach(((e,s)=>{if(!e.didSend||e.tile.level!==this._level)return;const i=e.tile,n={type:"append",id:s,addOrUpdate:this._getTileFeatures(i),remove:[],end:!1,status:_support_UpdateToken_js__WEBPACK_IMPORTED_MODULE_10__.UpdateToken.empty()};e.requests.stream.enqueue(n),t.push(this._onMessage(n))})),await Promise.all(t),this._subscriptions.forEach(((e,t)=>{e.didSend&&e.tile.level===this._level&&this._onMessage({type:"append",id:t,addOrUpdate:null,end:!0})}))}catch{}this._inUpdate=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/sources/createSource.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/sources/createSource.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createSource: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _DrillDownFeatureSource_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DrillDownFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/DrillDownFeatureSource.js");
/* harmony import */ var _PagedFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PagedFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/PagedFeatureSource.js");
/* harmony import */ var _SnapshotFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SnapshotFeatureSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/SnapshotFeatureSource.js");
/* harmony import */ var _StreamSource_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StreamSource.js */ "./node_modules/@arcgis/core/views/2d/layers/features/sources/StreamSource.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function s(e,s,c,u,i,p,m){const f=n(e,s,c,u,i,p,m);switch(f.type){case"feature":switch(f.origin){case"hosted":case"local":return new _PagedFeatureSource_js__WEBPACK_IMPORTED_MODULE_2__.PagedFeatureSource(f);case"snapshot":return new _SnapshotFeatureSource_js__WEBPACK_IMPORTED_MODULE_3__.SnapshotFeatureSource(f);default:return new _DrillDownFeatureSource_js__WEBPACK_IMPORTED_MODULE_1__.DrillDownFeatureSource(f)}case"stream":return new _StreamSource_js__WEBPACK_IMPORTED_MODULE_4__.StreamSource(f)}}function n(r,t,a,o,s,n,c){switch(r.type){case"snapshot":return{type:"feature",origin:"snapshot",featureCount:r.featureCount??0,serviceInfo:r,onMessage:s,outSR:a,tileInfoView:o,canAcceptRequest:n,store:c,arcadeLayerSchema:t};case"stream":return{type:"stream",serviceInfo:r,onMessage:s,outSR:a,canAcceptRequest:n,arcadeLayerSchema:t};case"memory":case"on-demand":return{type:"feature",serviceInfo:r,onMessage:s,outSR:a,origin:u(r.source),tileInfoView:o,canAcceptRequest:n,arcadeLayerSchema:t}}function u(r){return Array.isArray(r)?"local":"path"in r&&(0,_layers_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_0__.isHostedAgolService)(r.path)?"hosted":"unknown"}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/BinStore.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/BinStore.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BinStore: () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../geohash/GeohashTree.js */ "./node_modules/@arcgis/core/geohash/GeohashTree.js");
/* harmony import */ var _geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../geohash/geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../FeatureStore2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js");
/* harmony import */ var _Store2D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Store2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js");
/* harmony import */ var _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const F=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.view.2d.layers.features.support.BinStore"),S=12,G=64,R=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.create)(),L=5;function T(e){return 57.29577951308232*e}class A extends _Store2D_js__WEBPACK_IMPORTED_MODULE_17__.Store2D{constructor(t,s,r,i){super(t,r),this.type="bin",this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.objectIdField="aggregateId",this.featureAdapter=_FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__.featureAdapter,this._geohashLevel=L,this._geohashBuf=[],this._serviceInfo=i,this.geometryInfo=t.geometryInfo,this._spatialReference=s,this._projectionSupportCheck=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__.checkProjectionSupport)(s,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84),this._bitsets.geohash=r.getBitset(r.createBitset()),this._bitsets.inserted=r.getBitset(r.createBitset())}destroy(){this._tree&&this._tree.destroy()}get featureSpatialReference(){return this._spatialReference}get fields(){return this._fields}async updateSchema(e,t){const o=this._schema;try{await super.updateSchema(e,t),await this._projectionSupportCheck}catch(h){}this._fields=this._schema.params.fields,this._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_14__["default"](this._fields);const a=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.diff)(o,t);t&&(null!=a||e.source||e.storage.filters)?(((0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiff)(a,"params.fields")||(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_4__.hasDiff)(a,"params")||!this._tree||e.source)&&(this._tree&&this._tree.destroy(),this._tree=new _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_5__.GeohashTree(this._statisticFields,this._serviceInfo),this._tree.onRelease=e=>e.displayId&&this._storage.releaseDisplayId(e.displayId),this._geohashLevel=this._schema.params.fixedBinLevel,this._rebuildTree(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&F.info("Aggregate mesh needs update due to tree changing")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&F.info("Aggregate mesh needs update due to tree changing"),e.targets[t.name]=!0,e.mesh=!1):o&&(e.mesh=!0)}clear(){this._rebuildTree()}sweepFeatures(e,t){this._bitsets.inserted.forEachSet((s=>{if(!e.has(s)){const e=t.lookupByDisplayIdUnsafe(s);this._remove(e)}}))}sweepAggregates(e,t,s){}onTileData(e,t,s,r,i,o=!0){if(!this._schema||null==t.addOrUpdate)return t;this.events.emit("changed");const a=this._getTransforms(e,this._spatialReference);{const e=t.addOrUpdate.getCursor();for(;e.next();)this._update(e,r)}if(t.status.mesh||!o)return t;const h=new Array;this._getBinsForTile(h,e,a,s),t.addOrUpdate=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromOptimizedFeatures(h,{fields:this.fields,fieldsIndex:this._fieldsIndex,geometryType:"esriGeometryPolygon",objectIdField:this.objectIdField}),t.addOrUpdate.attachStorage(s),t.end=!0,t.isRepush||(t.clear=!0);{const r=t.addOrUpdate.getCursor();for(;r.next();){const t=r.getDisplayId();this._bitsets.computed.unset(t),this.setComputedAttributes(s,r,t,e.scale,i)}}return t}forEachBin(e){this._tree.forEach(e)}forEach(e){this._tree.forEach((t=>{if(t.depth!==this._geohashLevel)return;const s=this._toFeatureJSON(t),r=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromFeatures([s],{objectIdField:this.objectIdField,globalIdField:null,geometryType:this.geometryInfo.geometryType,fields:this.fields,fieldsIndex:this._fieldsIndex}).getCursor();r.next(),e(r)}))}forEachInBounds(e,t){}forEachBounds(e,t){const{hasM:s,hasZ:r}=this.geometryInfo;for(const i of e){const e=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.getBoundsOptimizedGeometry)(R,i.readGeometry(),r,s);null!=e&&t(e)}}onTileUpdate(e){}getAggregate(e){const t=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__.createDisplayId)(e,!0),s=this._tree.findIf((e=>e.displayId===t));return s?this._toFeatureJSON(s):null}getAggregates(){return this._tree.findAllIf((e=>e.depth===this._geohashLevel)).map(this._toFeatureJSON.bind(this))}getDisplayId(e){return this._tree.findIf((t=>t.id===e))?.displayId}getFeatureDisplayIdsForAggregate(e){const t=this._tree.findIf((t=>t.id===e));return null!=t?Array.from(t.displayIds):[]}getDisplayIdForReferenceId(e){return this._tree.findIf((t=>1===t.displayIds.size&&t.displayIds.has(e)))?.displayId}_toFeatureJSON(e){const t=this._spatialReference;return{displayId:e.displayId,attributes:e.getAttributes(),geometry:(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertToGeometry)(e.getGeometry(t),"esriGeometryPolygon",!1,!1),centroid:null}}_rebuildTree(){this._bitsets.computed.clear(),this._bitsets.inserted.clear(),this._tree&&this._tree.clear()}_remove(e){const t=e.getDisplayId(),s=e.getXHydrated(),r=e.getYHydrated(),i=this._geohashBuf[2*t],o=this._geohashBuf[2*t+1];this._bitsets.inserted.has(t)&&(this._bitsets.inserted.unset(t),this._tree.removeCursor(e,s,r,i,o,this._geohashLevel))}_update(e,t){const s=e.getDisplayId(),r=this._bitsets.inserted,i=t.isVisible(s);if(i===r.has(s))return;if(!i)return void this._remove(e);const o=e.getXHydrated(),a=e.getYHydrated();if(!this._setGeohash(s,o,a))return;const h=this._geohashBuf[2*s],n=this._geohashBuf[2*s+1];this._tree.insertCursor(e,s,o,a,h,n,this._geohashLevel),r.set(s)}_setGeohash(e,t,s){if(this._bitsets.geohash.has(e))return!0;const r=this._geohashBuf;if(this._spatialReference.isWebMercator){const i=T(t/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius),a=i-360*Math.floor((i+180)/360),h=T(Math.PI/2-2*Math.atan(Math.exp(-s/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius)));(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashBuf)(r,e,h,a,S)}else{const i=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__.project)({x:t,y:s},this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84);if(!i)return!1;(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashBuf)(r,e,i.y,i.x,S)}return this._bitsets.geohash.set(e),!0}_getBinsForTile(e,t,s,r){try{const i=this._getGeohashBounds(t),o=this._tree.getBins(i);for(const t of o){t.displayId||(t.displayId=r.createDisplayId(!0));let i=null;const o=t.getGeometry(this._spatialReference,s.tile);o||(i=t.getGeometryCentroid(this._spatialReference,s.tile));const a=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__.OptimizedFeature(o,t.getAttributes(),i);a.objectId=t.id,a.displayId=t.displayId,e.push(a)}}catch(i){return void F.error("Unable to get bins for tile",t.key.id)}}_getGeohash(e,t,s){const r={geohashX:0,geohashY:0};return (0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_6__.setGeohashXY)(r,t,e,s),r}_getGeohashBounds(e){const t=this._getGeohashLevel(e.key.level),s=[e.extent.xmin,e.extent.ymin,e.extent.xmax,e.extent.ymax],r=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromExtent(_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__["default"].fromBounds(s,this._spatialReference)),i=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_13__.project)(r,this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84,{densificationStep:e.resolution*G}),o=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_10__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__["default"],i,!1,!1),a=o.coords.filter(((e,t)=>!(t%2))),h=o.coords.filter(((e,t)=>t%2)),n=Math.min(...a),d=Math.min(...h),l=Math.max(...a),p=Math.max(...h),f=this._getGeohash(n,d,t),c=this._getGeohash(l,p,t);return{bounds:s,geohashBounds:{xLL:f.geohashX,yLL:f.geohashY,xTR:c.geohashX,yTR:c.geohashY},level:t}}_getGeohashLevel(e){return this._schema.params.fixedBinLevel}_getTransforms(e,t){const s={originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[e.bounds[0],e.bounds[3]]},r=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__.getInfo)(t);if(!r)return{tile:s,left:null,right:null};const[i,o]=r.valid;return{tile:s,left:{...s,translate:[o,e.bounds[3]]},right:{...s,translate:[i-o+e.bounds[0],e.bounds[3]]}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/ClusterStore.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/ClusterStore.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ClusterInfo: () => (/* binding */ S),
/* harmony export */   ClusterStore: () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../geohash/GeohashTree.js */ "./node_modules/@arcgis/core/geohash/GeohashTree.js");
/* harmony import */ var _geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../geohash/geohashUtils.js */ "./node_modules/@arcgis/core/geohash/geohashUtils.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../FeatureStore2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js");
/* harmony import */ var _Store2D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Store2D.js */ "./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js");
/* harmony import */ var _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const C=12,L=64,w=1,B=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_6__.create)();class S extends _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_10__.OptimizedFeatureWithGeometry{constructor(e,t,s,r,i){super(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_11__["default"]([],[t,s]),r,null,e),this.geohashBoundsInfo=i}get count(){return this.attributes.cluster_count}static create(e,t,s,r,i,o,a,h){const l=new S(t,s,r,o,a);return l.displayId=e.createDisplayId(!0),l.referenceId=h,l.tileLevel=i,l}update(e,t,s,r,i,o){return this.geometry.coords[0]=e,this.geometry.coords[1]=t,this.tileLevel=s,this.attributes=r,this.geohashBoundsInfo=i,this.referenceId=null,this.referenceId=o,this}toJSON(){return{attributes:{...this.attributes,aggregateId:this.objectId,referenceId:1===this.attributes.cluster_count?this.referenceId:null},geometry:{x:this.geometry.coords[0],y:this.geometry.coords[1]}}}}function T(e){return 57.29577951308232*e}class V extends _Store2D_js__WEBPACK_IMPORTED_MODULE_17__.Store2D{constructor(t,s,r,i){super(t,r),this.type="cluster",this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.objectIdField="aggregateId",this.featureAdapter=_FeatureStore2D_js__WEBPACK_IMPORTED_MODULE_16__.featureAdapter,this._geohashLevel=0,this._tileLevel=0,this._aggregateValueRanges={},this._aggregateValueRangesChanged=!1,this._geohashBuf=[],this._clusters=new Map,this._tiles=new Map,this._serviceInfo=i,this.geometryInfo=t.geometryInfo,this._spatialReference=s,this._projectionSupportCheck=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_12__.checkProjectionSupport)(s,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84),this._bitsets.geohash=r.getBitset(r.createBitset()),this._bitsets.inserted=r.getBitset(r.createBitset())}destroy(){this._tree.destroy()}get featureSpatialReference(){return this._spatialReference}get fields(){return this._fields}async updateSchema(e,i){const o=this._schema;try{await super.updateSchema(e,i),await this._projectionSupportCheck}catch(h){}this._fields=[...this._schema.params.fields,{name:"referenceId",alias:"referenceId",type:"esriFieldTypeInteger"}];!!this._fields.some((e=>"cluster_count"===e.name))||this._fields.push({name:"cluster_count",alias:"cluster_count",type:"esriFieldTypeInteger"}),this._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_13__["default"](this._fields);const a=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__.diff)(o,i);i&&(null!=a||e.source||e.storage.filters)?(((0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_3__.hasDiff)(a,"params.fields")||!this._tree||e.source)&&(this._tree&&this._tree.destroy(),this._tree=new _geohash_GeohashTree_js__WEBPACK_IMPORTED_MODULE_4__.GeohashTree(this._statisticFields,this._serviceInfo),this._rebuildTree(),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Aggregate mesh needs update due to tree changing")),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - ClusterStore:",a),e.targets[i.name]=!0,e.mesh=!1,this._aggregateValueRanges={}):o&&(e.mesh=!0)}clear(){this._rebuildTree()}sweepFeatures(e,t){this._bitsets.inserted.forEachSet((s=>{if(!e.has(s)){const e=t.lookupByDisplayIdUnsafe(s);this._remove(e)}}))}sweepAggregates(e,t,s){this._clusters.forEach(((r,i)=>{r&&r.tileLevel!==s&&(e.releaseDisplayId(r.displayId),t.unsetAttributeData(r.displayId),this._clusters.delete(i))}))}onTileData(e,t,s,r,i,o=!0){if(!this._schema||null==t.addOrUpdate)return t;this.events.emit("changed");const a=this._getTransforms(e,this._spatialReference);{const e=t.addOrUpdate.getCursor();for(;e.next();)this._update(e,r)}if(t.status.mesh||!o)return t;const h=new Array,l=this._schema.params.clusterRadius;this._getClustersForTile(h,e,l,s,a),t.addOrUpdate=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromOptimizedFeatures(h,{fields:this.fields,fieldsIndex:this._fieldsIndex,geometryType:"esriGeometryPoint",objectIdField:this.objectIdField}),t.addOrUpdate.attachStorage(s),t.clear=!0,t.end=!0;{const r=t.addOrUpdate.getCursor();for(;r.next();){const t=r.getDisplayId();this._bitsets.computed.unset(t),this.setComputedAttributes(s,r,t,e.scale,i)}}return this._aggregateValueRangesChanged&&t.end&&(this.events.emit("valueRangesChanged",{valueRanges:this._aggregateValueRanges}),this._aggregateValueRangesChanged=!1),t}onTileUpdate({added:e,removed:t}){if(e.length){const t=e[0].level;this._tileLevel=t,this._setGeohashLevel(t)}if(!this._schema)return;const s=this._schema.params.clusterRadius;t.forEach((e=>{this._tiles.delete(e.key.id),this._markTileClustersForDeletion(e,s)}))}getAggregate(e){for(const t of this._clusters.values())if((t?.displayId&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__.displayIdTexelMask)==(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_15__.displayIdTexelMask))return t.toJSON();return null}getAggregates(){const e=[];for(const t of this._clusters.values())t?.tileLevel===this._tileLevel&&e.push(t.toJSON());return e}getDisplayId(e){const t=this._clusters.get(e);return t?t.displayId:null}getFeatureDisplayIdsForAggregate(e){const t=this._clusters.get(e);return t?this._tree.getRegionDisplayIds(t.geohashBoundsInfo):[]}getDisplayIdForReferenceId(e){for(const t of this._clusters.values())if(t?.referenceId===e)return t.displayId;return null}getAggregateValueRanges(){return this._aggregateValueRanges}forEach(e){this._clusters.forEach((t=>{if(!t)return;const s=t.toJSON(),r=_FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_18__.FeatureSetReaderJSON.fromFeatures([s],{objectIdField:this.objectIdField,globalIdField:null,geometryType:this.geometryInfo.geometryType,fields:this.fields,fieldsIndex:this._fieldsIndex}).getCursor();r.next(),e(r)}))}forEachInBounds(e,t){}forEachBounds(e,t){const{hasM:s,hasZ:r}=this.geometryInfo;for(const i of e){const e=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_9__.getBoundsOptimizedGeometry)(B,i.readGeometry(),r,s);null!=e&&t(e)}}size(){let e=0;return this.forEach((t=>e++)),e}_rebuildTree(){this._bitsets.computed.clear(),this._bitsets.inserted.clear(),this._tree&&this._tree.clear()}_remove(e){const t=e.getDisplayId(),s=e.getXHydrated(),r=e.getYHydrated(),i=this._geohashBuf[2*t],o=this._geohashBuf[2*t+1];this._bitsets.inserted.has(t)&&(this._bitsets.inserted.unset(t),this._tree.removeCursor(e,s,r,i,o,this._geohashLevel))}_update(e,t){const s=e.getDisplayId(),r=this._bitsets.inserted,i=t.isVisible(s);if(i===r.has(s))return;if(!i)return void this._remove(e);const o=e.getXHydrated(),a=e.getYHydrated();if(!this._setGeohash(s,o,a))return;const h=this._geohashBuf[2*s],l=this._geohashBuf[2*s+1];this._tree.insertCursor(e,s,o,a,h,l,this._geohashLevel),r.set(s)}_setGeohash(e,t,s){if(this._bitsets.geohash.has(e))return!0;const r=this._geohashBuf;if(this._spatialReference.isWebMercator){const o=T(t/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius),a=o-360*Math.floor((o+180)/360),l=T(Math.PI/2-2*Math.atan(Math.exp(-s/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius)));(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_5__.setGeohashBuf)(r,e,l,a,C)}else{const o=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_12__.project)({x:t,y:s},this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84);if(!o)return!1;(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_5__.setGeohashBuf)(r,e,o.y,o.x,C)}return this._bitsets.geohash.set(e),!0}_getClustersForTile(e,t,s,r,i,o=!0){const a=this._schema.params.clusterPixelBuffer,h=2*s,l=Math.ceil(2**t.key.level*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize/h)+1,n=Math.ceil(a/h)+0,g=Math.ceil(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize/h),{row:c,col:p}=t.key,_=p*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,m=c*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,y=Math.floor(_/h)-n,b=Math.floor(m/h)-n,v=y+g+2*n,R=b+g+2*n,x=t.tileInfoView.getLODInfoAt(t.key.level);for(let I=y;I<=v;I++)for(let s=b;s<=R;s++){let a=I;x.wrap&&(a=I<0?I+l:I%l);const h=x.wrap&&I<0,n=x.wrap&&I%l!==I,g=this._lookupCluster(r,x,t.key.level,a,s,t);if(null!=g){let t=null;if(i&&(t=h?i.left:n?i.right:i.tile),o&&null==t)continue;if(!g.count)continue;if(null!=t&&o){const s=g.geometry.clone();let r=g.attributes;s.coords[0]=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_9__.quantizeX)(t,s.coords[0]),s.coords[1]=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_9__.quantizeY)(t,s.coords[1]),1===g.count&&null!=g.referenceId&&(r={...g.attributes,referenceId:g.referenceId});const i=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_10__.OptimizedFeature(s,r);i.displayId=g.displayId,e.push(i)}}}}_getGeohashLevel(e){return Math.min(Math.ceil(e/2+2),C)}_setGeohashLevel(e){const t=this._getGeohashLevel(e),s=(Math.floor(t/w)+1)*w-1;if(this._geohashLevel!==s)return this._geohashLevel=s,this._rebuildTree(),void this._bitsets.geohash.clear()}_getTransforms(e,t){const s={originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[e.bounds[0],e.bounds[3]]},r=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_8__.getInfo)(t);if(!r)return{tile:s,left:null,right:null};const[i,o]=r.valid;return{tile:s,left:{...s,translate:[o,e.bounds[3]]},right:{...s,translate:[i-o+e.bounds[0],e.bounds[3]]}}}_getClusterId(e,t,s){return(15&e)<<28|(16383&t)<<14|16383&s}_markForDeletion(e,t,s){const r=this._getClusterId(e,t,s);this._clusters.delete(r)}_getClusterBounds(e,t,s){const r=this._schema.params.clusterRadius,i=2*r;let o=s%2?t*i:t*i-r;const a=s*i;let h=o+i;const l=a-i,n=2**e.level*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize;e.wrap&&o<0&&(o=0),e.wrap&&h>n&&(h=n);const u=o/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,d=a/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,g=h/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,c=l/_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize;return[e.getXForColumn(u),e.getYForRow(d),e.getXForColumn(g),e.getYForRow(c)]}_getGeohash(e,t,s){const r={geohashX:0,geohashY:0};return (0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_5__.setGeohashXY)(r,t,e,s),r}_getGeohashBounds(e,t){const s=this._getGeohashLevel(e.key.level);if(this._spatialReference.isWebMercator){const[e,r,i,a]=t,l={x:e,y:r},n={x:i,y:a};let u=0,d=0,g=0,c=0;{const e=T(l.x/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius);u=e-360*Math.floor((e+180)/360),d=T(Math.PI/2-2*Math.atan(Math.exp(-l.y/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius)))}{const e=T(n.x/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius);g=e-360*Math.floor((e+180)/360),c=T(Math.PI/2-2*Math.atan(Math.exp(-n.y/_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_7__.earth.radius)))}const f={geohashX:0,geohashY:0},p={geohashX:0,geohashY:0};(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_5__.setGeohashXY)(f,d,u,s),(0,_geohash_geohashUtils_js__WEBPACK_IMPORTED_MODULE_5__.setGeohashXY)(p,c,g,s);return{bounds:[e,r,i,a],geohashBounds:{xLL:f.geohashX,yLL:f.geohashY,xTR:p.geohashX,yTR:p.geohashY},level:s}}const r=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromExtent(_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_21__["default"].fromBounds(t,this._spatialReference)),i=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_12__.project)(r,this._spatialReference,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"].WGS84,{densificationStep:e.resolution*L});if(!i)return null;const a=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_9__.convertFromPolygon)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_11__["default"],i,!1,!1),l=a.coords.filter(((e,t)=>!(t%2))),n=a.coords.filter(((e,t)=>t%2)),u=Math.min(...l),d=Math.min(...n),c=Math.max(...l),f=Math.max(...n),_=this._getGeohash(u,d,s),y=this._getGeohash(c,f,s);return{bounds:t,geohashBounds:{xLL:_.geohashX,yLL:_.geohashY,xTR:y.geohashX,yTR:y.geohashY},level:s}}_lookupCluster(e,t,s,r,i,o){const a=this._getClusterId(s,r,i),h=this._clusters.get(a),l=this._getClusterBounds(t,r,i),n=this._getGeohashBounds(o,l);if(null==n)return null;const u=this._tree.getRegionStatistics(n),{count:d,xTotal:g,yTotal:c,referenceId:f}=u,p=d?g/d:0,_=d?c/d:0;if(0===d)return this._clusters.set(a,null),null;const m={cluster_count:d,...u.attributes},y=null!=h?h.update(p,_,s,m,n,f):S.create(e,a,p,_,s,m,n,f);if(0===d){const[e,t,s,r]=l;y.geometry.coords[0]=(e+s)/2,y.geometry.coords[1]=(t+r)/2}return this._clusters.set(a,y),this._updateAggregateValueRangeForCluster(y,y.tileLevel),y}_updateAggregateValueRangeForCluster(e,t){const s=this._aggregateValueRanges[t]||{minValue:1/0,maxValue:0},r=s.minValue,i=s.maxValue;s.minValue=Math.min(r,e.count),s.maxValue=Math.max(i,e.count),this._aggregateValueRanges[t]=s,r===s.minValue&&i===s.maxValue||(this._aggregateValueRangesChanged=!0)}_markTileClustersForDeletion(e,t){const s=2*t,r=Math.ceil(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize/s),{row:i,col:o}=e.key,a=o*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,h=i*_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__.tileSize,l=Math.floor(a/s),n=Math.floor(h/s);for(let u=l;u<l+r;u++)for(let t=n;t<n+r;t++)this._markForDeletion(e.key.level,u,t)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSetReaderPBF: () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_pbf_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/pbf.js */ "./node_modules/@arcgis/core/core/pbf.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/* harmony import */ var _FeatureSetReaderPBFHeader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./FeatureSetReaderPBFHeader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const u=!0,c=268435455,g=128,l=128e3,_={small:{delta:new Int32Array(g),decoded:new Int32Array(g)},large:{delta:new Int32Array(l),decoded:new Int32Array(l)}};function f(e){return e<=_.small.delta.length?_.small:(e<=_.large.delta.length||(_.large.delta=new Int32Array(Math.round(1.25*e)),_.large.decoded=new Int32Array(Math.round(1.25*e))),_.large)}function y(r){try{const e=2,t=new _core_pbf_js__WEBPACK_IMPORTED_MODULE_3__["default"](new Uint8Array(r),new DataView(r));for(;t.next();){if(t.tag()===e)return I(t.getMessage());t.skip()}}catch(i){const r=new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:i});_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.view.2d.layers.features.support.FeatureSetReaderPBF").error(r)}return null}function I(e){const t=1;for(;e.next();){if(e.tag()===t)return e.getMessage();e.skip()}return null}function p(e){const t=1,r=2,s=3,i=4,n=5,a=6,h=7,o=8,d=9,u=e.getLength(),c=e.pos()+u;for(;e.pos()<c&&e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case i:return e.getSInt32();case n:return e.getUInt32();case a:return e.getInt64();case h:return e.getUInt64();case o:return e.getSInt64();case d:return e.getBool();default:return e.skip(),null}return null}function m(e,t,r,s,i,n){return.5*Math.abs(e*s+r*n+i*t-e*n-r*t-i*s)}function x(e,t,r,s){return 0===e*s-r*t&&e*r+t*s>0}class S extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReader{static fromBuffer(e,t,r=!1){const s=t.geometryType,i=y(e),n=(0,_FeatureSetReaderPBFHeader_js__WEBPACK_IMPORTED_MODULE_8__.parseHeader)(i,"esriGeometryPoint"===s,r),a=_FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_7__.FeatureSetReader.createInstance();return new S(a,i,n,t)}constructor(e,t,r,s){super(e,s),this._hasNext=!1,this._isPoints=!1,this._featureIndex=-1,this._featureOffset=0,this._cache={area:0,unquantGeometry:void 0,geometry:void 0,centroid:void 0,legacyFeature:void 0,optFeature:void 0},this._geometryType=s.geometryType,this._reader=t,this._header=r,this._hasNext=r.hasFeatures,this._isPoints="esriGeometryPoint"===s.geometryType}get fields(){return this._header.fields}get geometryType(){return this._geometryType}get _size(){return this._header.featureCount}get hasZ(){return!1}get hasM(){return!1}get stride(){return 2+(this.hasZ?1:0)+(this.hasM?1:0)}get hasFeatures(){return this._header.hasFeatures}get hasNext(){return this._hasNext}get exceededTransferLimit(){return this._header.exceededTransferLimit}getSize(){return this._size}getQuantizationTransform(){return this._header.transform}getCursor(){return this.copy()}getIndex(){return this._featureIndex}setIndex(e){this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0,this._featureIndex=e}getAttributeHash(){let e="";for(const t of this._header.fields.fields)e+=this._readAttributeAtIndex(t.index)+".";return e}getObjectId(){return this._readAttributeAtIndex(this._header.objectIdFieldIndex)}getDisplayId(){return this._header.displayIds[this._featureIndex]}setDisplayId(e){this._header.displayIds[this._featureIndex]=e}getGroupId(){return this._header.groupIds[this._featureIndex]}setGroupId(e){this._header.groupIds[this._featureIndex]=e}readLegacyFeature(){if(void 0===this._cache.legacyFeature){const e=this.readCentroid(),t={attributes:this.readAttributes(),geometry:this._isPoints?this.readLegacyPointGeometry():this.readLegacyGeometry(),centroid:(e&&{x:e.coords[0],y:e.coords[1]})??null};return this._cache.legacyFeature=t,t}return this._cache.legacyFeature}readOptimizedFeature(){if(void 0===this._cache.optFeature){const e=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_5__.OptimizedFeature(this.readGeometry(),this.readAttributes(),this.readCentroid());return e.objectId=this.getObjectId(),e.displayId=this.getDisplayId(),this._cache.optFeature=e,e}return this._cache.optFeature}getXHydrated(){const e=this._header.centroid[2*this._featureIndex],t=this.getQuantizationTransform();return null==t?e:e*t.scale[0]+t.translate[0]}getYHydrated(){const e=this._header.centroid[2*this._featureIndex+1],t=this.getQuantizationTransform();return null==t?e:t.translate[1]-e*t.scale[1]}getX(){return this._header.centroid[2*this._featureIndex]*this._sx+this._tx}getY(){return this._header.centroid[2*this._featureIndex+1]*this._sy+this._ty}readLegacyPointGeometry(){return{x:this.getX(),y:this.getY()}}readLegacyGeometry(e){const t=this.readUnquantizedGeometry(e);return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_4__.convertToGeometry)(t,this.geometryType,!1,!1)}readLegacyCentroid(){const e=this.readCentroid();if(!e)return null;const[t,r]=e.coords;return{x:t,y:r}}readGeometryArea(){return this._cache.area||this.readGeometry(!0),this._cache.area}readUnquantizedGeometry(e=!1){if(void 0===this._cache.unquantGeometry){const t=this.readGeometry(e);if(!t)return this._cache.unquantGeometry=void 0,null;const r=f(t.coords.length).decoded,s=t.clone(r),i=s.coords;let n=0;for(const e of s.lengths){for(let t=1;t<e;t++){const e=2*(n+t),r=2*(n+t-1);i[e]+=i[r],i[e+1]+=i[r+1]}n+=e}return this._cache.unquantGeometry=s,s}return this._cache.unquantGeometry}readHydratedGeometry(){if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===c)return null;const e=this.getXHydrated(),t=this.getYHydrated();return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}const e=this.readGeometry();if(!e)return null;const t=e.clone(),r=this.getQuantizationTransform();return null!=r&&(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_4__.unquantizeOptimizedGeometry)(t,t,this.hasZ,this.hasM,r),t}readGeometry(e=!1){if(void 0===this._cache.geometry){let r=null;if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===c)return null;const e=this.getX(),t=this.getY();r=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}else{const s=this._header.offsets.geometry[this._featureIndex],i=this._reader;if(0===s){const e=this._readServerCentroid();if(!e)return null;const[t,r]=e.coords;return this.createQuantizedExtrudedGeometry(t,r)}i.move(s);try{if(r=e?this._parseGeometryForDisplay(i):this._parseGeometry(i),!r){const e=this._readServerCentroid();if(!e)return null;const[t,r]=e.coords;return this.createQuantizedExtrudedGeometry(t,r)}}catch(t){return console.error("Failed to parse geometry!",t),null}}return this._cache.geometry=r,r}return this._cache.geometry}readCentroid(){if(void 0===this._cache.centroid){let e;return e=this._computeCentroid(),e||(e=this._readServerCentroid()),this._cache.centroid=e??void 0,e??null}return this._cache.centroid}copy(){const e=this._reader.clone(),t=new S(this.instance,e,this._header,this.fullSchema());return this.copyInto(t),t}next(){for(this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0;++this._featureIndex<this._size&&!this._getExists(););return this._featureIndex<this._size}_readAttribute(e,t){const r=this._header.fields.get(e);if(null==r)return;let s=this._readAttributeAtIndex(r.index);"esriFieldTypeTimestampOffset"===this.fields.get(e)?.type&&(s=this.parseTimestampOffset(s));const i=this._header.fields.isDateField(r.name);return t?null==s?s:i?new Date(s):s:s}_readAttributes(){const e={};for(const t of this._header.fields.fields)e[t.name]=this._readAttributeAtIndex(t.index);return e}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._featureOffset=this._featureOffset,e._hasNext=this._hasNext}_readAttributeAtIndex(e){const t=this._header.offsets.attributes[this._featureIndex*this._header.fieldCount+e],r=this._reader;return r.move(t),p(r)}_readServerCentroid(){const e=this._header.centroid[2*this._featureIndex]+this._tx,t=this._header.centroid[2*this._featureIndex+1]+this._ty;return e===c?null:new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"]([],[e,t])}_parseGeometry(e){const t=2,r=3,s=e.asUnsafe(),i=s.getLength(),n=s.pos()+i,a=[],o=[];for(;s.pos()<n&&s.next();)switch(s.tag()){case t:{const e=s.getUInt32(),t=s.pos()+e;for(;s.pos()<t;)o.push(s.getUInt32());break}case r:{const e=s.getUInt32(),t=s.pos()+e;for(a.push(s.getSInt32()+this._tx),a.push(s.getSInt32()+this._ty),this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();s.pos()<t;)a.push(s.getSInt32()),a.push(s.getSInt32()),this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();break}default:s.skip()}return a.length?new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"](o,a):null}_parseGeometryForDisplay(e){const t=2,s=3,i=e.asUnsafe(),n=i.getLength(),a=i.pos()+n,o=[],d=[];let c=0,g=0,l=null,_=0;const y="esriGeometryPolygon"===this.geometryType;for(;i.pos()<a&&i.next();)switch(i.tag()){case t:{const e=i.getUInt32(),t=i.pos()+e;for(;i.pos()<t;){const e=i.getUInt32();o.push(e),c+=e}l=f(2*c).delta;break}case s:{i.getUInt32();const e=2+(this.hasZ?1:0)+(this.hasM?1:0);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.assertIsSome)(l);for(const t of o)if(g+e*t>l.length)for(let e=0;e<t;e++)i.getSInt32(),i.getSInt32(),this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();else if(y&&u){const e=this.getAreaSimplificationThreshold(t,this._header.vertexCount);let r=2,s=1;const n=!1;let a=i.getSInt32(),h=i.getSInt32();l[g++]=a,l[g++]=h,this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();let o=i.getSInt32(),u=i.getSInt32();for(this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();r<t;){let t=i.getSInt32(),n=i.getSInt32();this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32();const d=a+o,c=h+u;m(a,h,d,c,d+t,c+n)>=e?(_+=-.5*(d-a)*(c+h),s>1&&x(l[g-2],l[g-1],o,u)?(l[g-2]+=o,l[g-1]+=u):(l[g++]=o,l[g++]=u,s++),a=d,h=c):(t+=o,n+=u),o=t,u=n,r++}s<3||n?g-=2*s:(_+=-.5*(a+o-a)*(h+u+h),x(l[g-2],l[g-1],o,u)?(l[g-2]+=o,l[g-1]+=u,d.push(s)):(l[g++]=o,l[g++]=u,d.push(++s)))}else{let e=0,r=i.getSInt32(),s=i.getSInt32();this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32(),l[g++]=r,l[g++]=s,e+=1;for(let n=1;n<t;n++){const t=i.getSInt32(),a=i.getSInt32(),h=r+t,o=s+a;_+=-.5*(h-r)*(o+s),this.hasZ&&i.getSInt32(),this.hasM&&i.getSInt32(),n>2&&x(l[g-2],l[g-1],t,a)?(l[g-2]+=t,l[g-1]+=a):(l[g++]=t,l[g++]=a,e+=1),r=h,s=o}d.push(e)}break}default:i.skip()}if(this._cache.area=_,!d.length)return null;if(this._tx||this._ty){let e=0;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.assertIsSome)(l);for(const t of d)l[2*e]+=this._tx,l[2*e+1]+=this._ty,e+=t}return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"](d,l)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFHeader.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureSetHeader: () => (/* binding */ o),
/* harmony export */   parseHeader: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../rest/query/operations/pbfFeatureServiceParser.js */ "./node_modules/@arcgis/core/rest/query/operations/pbfFeatureServiceParser.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=268435455;class o{constructor(){this.hasFeatures=!1,this.exceededTransferLimit=!1,this.fieldCount=0,this.featureCount=0,this.objectIdFieldIndex=0,this.vertexCount=0,this.offsets={attributes:new Array,geometry:new Array},this.centroid=new Array}}function a(a,i,c=!1){const f=1,d=3,u=9,g=12,l=13,p=15,h=a.asUnsafe(),b=h.pos(),w=new o;let m=0,y=0;const k=1,x=2,I=4,L=3;let A=null,F=null,C=null,S=!1;const j=[];for(;h.next();)switch(h.tag()){case f:A=h.getString();break;case d:F=h.getString();break;case g:C=h.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__.parseTransform);break;case u:if(w.exceededTransferLimit=h.getBool(),w.exceededTransferLimit){w.offsets.geometry=c?new Float64Array(8e3):new Int32Array(8e3),w.centroid=c?new Float64Array(16e3):new Int32Array(16e3);for(let e=0;e<w.centroid.length;e++)w.centroid[e]=n}break;case l:{const e=h.processMessage(_rest_query_operations_pbfFeatureServiceParser_js__WEBPACK_IMPORTED_MODULE_2__.parseField);e.index=m++,j.push(e);break}case p:{const e=h.getLength(),t=h.pos()+e;if(!w.exceededTransferLimit){const e=w.offsets.geometry,t=w.centroid;e.push(0),t.push(n),t.push(n)}!S&&w.exceededTransferLimit&&(S=!0,w.offsets.attributes=c?new Float64Array(8e3*m):new Uint32Array(8e3*m));let s=y*m;for(;h.pos()<t&&h.next();)switch(h.tag()){case k:{if(S)w.offsets.attributes[s++]=h.pos();else{w.offsets.attributes.push(h.pos())}const e=h.getLength();h.skipLen(e);break}case x:if(i){const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case L:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();w.centroid[2*y]=e,w.centroid[2*y+1]=t;break}default:h.skip()}}else{w.offsets.geometry[y]=h.pos();const e=h.getLength();w.vertexCount+=e,h.skipLen(e)}break;case I:{const e=h.getLength(),t=h.pos()+e;for(;h.pos()<t&&h.next();)switch(h.tag()){case L:{h.getUInt32();const e=h.getSInt64(),t=h.getSInt64();w.centroid[2*y]=e,w.centroid[2*y+1]=t;break}default:h.skip()}break}default:h.skip()}y++,w.hasFeatures=!0;break}default:h.skip()}const U=A||F;if(!U)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("FeatureSet has no objectId or globalId field name");return w.fields=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"](j),w.featureCount=y,w.fieldCount=m,w.objectIdFieldIndex=w.fields.get(U)?.index,w.transform=C,w.displayIds=new Uint32Array(w.featureCount),w.groupIds=new Uint16Array(w.featureCount),h.move(b),w}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/UpdateToken.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UpdateToken: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(){this.version=0,this.source=!1,this.targets={feature:!1,aggregate:!1},this.storage={filters:!1,data:!1},this.mesh=!1,this.queryFilter=!1,this.why={mesh:[],source:[]}}static create(e){const s=new t;let r;for(r in e){const t=e[r];if("object"==typeof t)for(const e in t){const a=e,i=t[a];s[r][a]=i}s[r]=t}return s}static empty(){return t.create({})}static all(){return t.create({source:!0,targets:{feature:!0,aggregate:!0},storage:{filters:!0,data:!0},mesh:!0})}unset(t){this.version=t.version,t.source&&(this.source=!1),t.targets.feature&&(this.targets.feature=!1),t.targets.aggregate&&(this.targets.aggregate=!1),t.storage.filters&&(this.storage.filters=!1),t.storage.data&&(this.storage.data=!1),t.mesh&&(this.mesh=!1),t.queryFilter&&(this.queryFilter=!1)}any(){return this.source||this.mesh||this.storage.filters||this.storage.data||this.targets.feature||this.targets.aggregate||this.queryFilter}describe(){let t=0,e="";if(this.mesh){t+=20,e+="-> (20) Mesh needs update\n";for(const t of this.why.mesh)e+=`    + ${t}\n`}if(this.source){t+=10,e+="-> (10) The source needs update\n";for(const t of this.why.source)e+=`    + ${t}\n`}this.targets.feature&&(t+=5,e+="-> (5) Feature target parameters changed\n"),this.storage.filters&&(t+=5,e+="-> (5) Feature filter parameters changed\n"),this.targets.aggregate&&(t+=4,e+="-> (4) Aggregate target parameters changed\n"),this.storage.data&&(t+=1,e+="-> (1) Texture storage parameters changed");const s=t<5?"Fastest":t<10?"Fast":t<15?"Moderate":t<20?"Slow":"Very Slow";console.debug(`Applying ${s} update of cost ${t}/45 `),console.debug(e)}toJSON(){return{queryFilter:this.queryFilter,source:this.source,targets:this.targets,storage:this.storage,mesh:this.mesh}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VertexElementDescriptor: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t,s,i,h,o,e=!1,r=0){this.name=t,this.count=s,this.type=i,this.offset=h,this.stride=o,this.normalized=e,this.divisor=r}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfMmRfZW5naW5lX3dlYmdsX1V0aWxzX2pzLW5vZGVfbW9kdWxlc19hcmNnaXNfY29yZV92aWV3LTIzZmZiOC5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUN5WCxvQkFBb0Isb0RBQUMsQ0FBQyxjQUFjLDZHQUE2RyxVQUFVLGlCQUFpQixZQUFZLEVBQUUsZ0NBQWdDLG9EQUFDLEVBQUUsZ0JBQWdCLEVBQUUsZ0NBQWdDLG1EQUFDLEVBQUUsMkJBQTJCLHdCQUF3QixHQUFHLEVBQUUseUJBQXlCLHdCQUF3QixxREFBQyxzREFBc0QsbURBQUMsRUFBRSxxREFBQyxlQUFlLHNCQUFzQiw2QkFBNkIsa0NBQWtDLDZCQUE2QixTQUFTLE1BQU0sMkRBQUMsOEJBQThCLGNBQWMsb0JBQW9CLHlCQUF5QixnQkFBZ0IsMkRBQUMsT0FBTyxnSEFBZ0gsNERBQTRELGtDQUFrQyxxQkFBcUIsWUFBWSwrRUFBK0Usc0JBQXNCLElBQUkseUJBQXlCLDRDQUE0QyxpQkFBaUIsNEJBQTRCLDJEQUFDLDhCQUE4QiwrQkFBK0IsNkNBQTZDLHdEQUFDLE1BQU0sc0JBQXNCLEVBQUUsOEJBQThCLDhCQUE4QixXQUFXLCtDQUErQywrQkFBK0IsZ0VBQWdFLHdEQUFDLE9BQU8sdUdBQXVHLFNBQVMsdURBQUMsRUFBRSxpRkFBQyxFQUFFLFlBQVksb0NBQW9DLHVEQUFDLEVBQUUsaUZBQUMsMENBQTBDLFlBQXlDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0ovbEU7QUFDQTtBQUNBO0FBQ0E7QUFDbWYsUUFBUSwyQkFBMkIsb0JBQW9CLHFGQUFxRiw4REFBQyxnQ0FBZ0MsVUFBVSxhQUFhLGdCQUFnQixjQUFjLFdBQVcsaUdBQWlHLFlBQVksd0VBQXdFLFlBQVksd0JBQXdCLFdBQVcsbUJBQW1CLGVBQWUsMkJBQTJCLFlBQVksUUFBUSxrREFBa0QsY0FB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c0NBQXNDLE1BQU0sa0JBQWtCLEtBQUssOEJBQThCLHNCQUFzQiw4QkFBOEIsTUFBTSxRQUFRLGtDQUFrQyxLQUFLLG9CQUFvQixpQkFBaUIsUUFBUSxjQUFjLHNDQUFzQyxzQ0FBc0MsTUFBTSxpQkFBaUIsTUFBTSxpQkFBaUIscUJBQXFCLE1BQU0saUJBQWlCLGFBQWEsZ0JBQWdCLHNEQUFDLHNEQUFzRCxvQkFBb0Isc0VBQUMsa01BQWlQOzs7Ozs7Ozs7Ozs7Ozs7QUNKbDNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxjQUFjLDRDQUE0Qyx3QkFBd0IsZUFBZSxtQkFBbUIsNENBQTRDLG1CQUFtQixpQkFBaUIsY0FBYyxNQUFNLFlBQVksYUFBYSx3Q0FBd0MsaUJBQWlCLFVBQVUsT0FBTyxTQUFTLGVBQWUsa0JBQWtCLEVBQUUsYUFBYSxpQkFBaUIsbUJBQW1CLHdCQUF3QixVQUFVLG1CQUFtQixTQUFTLEVBQUUsU0FBUyxnU0FBZ1MsTUFBTSx1SUFBdUksV0FBVyxhQUFhLGNBQWMsdUNBQXVDLHlDQUF5QyxFQUFFLElBQUksZ0JBQWdCLDZDQUE2QywyQ0FBMkMsRUFBRSxJQUFJLG9UQUFvVCwwRUFBMEUsMEJBQTBCLEdBQUcsaUJBQWlCLEVBQUUsd0JBQXdCLFNBQVMsT0FBTywyR0FBb0k7Ozs7Ozs7Ozs7Ozs7OztBQ0oxdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdDQUFnQyxtR0FBd0kiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb2hhc2gvR2VvaGFzaFRyZWUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL2dyYXBoaWNzL2RhdGEvU3RyZWFtRmVhdHVyZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvc3ltYm9scy9jaW0vZW51bXMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL1V0aWxzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9jb2xvci5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvZGVmaW5pdGlvbnMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL2VudW1zLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9udW1iZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL1BpcGVsaW5lLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9jb250cm9sbGVycy9GZWF0dXJlQ29udHJvbGxlcjJELmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9jb250cm9sbGVycy9zdXBwb3J0L3NvdXJjZUFkYXB0ZXJzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9wcm9jZXNzb3JzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL0Jhc2VGZWF0dXJlU291cmNlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL0RhdGFUaWxlU291cmNlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL0RhdGFUaWxlU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL0RyaWxsRG93bkZlYXR1cmVTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvUGFnZWRGZWF0dXJlU291cmNlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL1NuYXBzaG90RmVhdHVyZVNvdXJjZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc291cmNlcy9TdHJlYW1Db25uZWN0aW9uU3RhdGUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3NvdXJjZXMvU3RyZWFtU291cmNlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zb3VyY2VzL2NyZWF0ZVNvdXJjZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9CaW5TdG9yZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9DbHVzdGVyU3RvcmUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlclBCRi5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVyUEJGSGVhZGVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L1VwZGF0ZVRva2VuLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL3dlYmdsL1ZlcnRleEVsZW1lbnREZXNjcmlwdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBzfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi9BY2Nlc3Nvci5qc1wiO2ltcG9ydHttYWtlSGFuZGxlIGFzIHR9ZnJvbVwiLi4vaGFuZGxlVXRpbHMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgaSx3aGVuIGFzIG4sb24gYXMgZCxzeW5jIGFzIGF9ZnJvbVwiLi4vcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtzY2hlZHVsZSBhcyByfWZyb21cIi4uL3NjaGVkdWxpbmcuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBsfWZyb21cIi4uL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7bGV0IGg9Y2xhc3MgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnVwZGF0aW5nPSExLHRoaXMuX2hhbmRsZUlkPTAsdGhpcy5fc2NoZWR1bGVIYW5kbGVJZD0wLHRoaXMuX3BlbmRpbmdQcm9taXNlcz1uZXcgU2V0fWRlc3Ryb3koKXt0aGlzLnJlbW92ZUFsbCgpfWFkZChzLGUsdD17fSl7cmV0dXJuIHRoaXMuX2luc3RhbGxXYXRjaChzLGUsdCxpKX1hZGRXaGVuKHMsZSx0PXt9KXtyZXR1cm4gdGhpcy5faW5zdGFsbFdhdGNoKHMsZSx0LG4pfWFkZE9uQ29sbGVjdGlvbkNoYW5nZShzLGUse2luaXRpYWw6aT0hMSxmaW5hbDpuPSExfT17fSl7Y29uc3Qgcj0rK3RoaXMuX2hhbmRsZUlkO3JldHVybiB0aGlzLmFkZEhhbmRsZXMoW2QocyxcImFmdGVyLWNoYW5nZXNcIix0aGlzLl9jcmVhdGVTeW5jVXBkYXRpbmdDYWxsYmFjaygpLGEpLGQocyxcImNoYW5nZVwiLGUse29uTGlzdGVuZXJBZGQ6aT9zPT5lKHthZGRlZDpzLnRvQXJyYXkoKSxyZW1vdmVkOltdfSk6dm9pZCAwLG9uTGlzdGVuZXJSZW1vdmU6bj9zPT5lKHthZGRlZDpbXSxyZW1vdmVkOnMudG9BcnJheSgpfSk6dm9pZCAwfSldLHIpLHQoKCgpPT50aGlzLnJlbW92ZUhhbmRsZXMocikpKX1hZGRQcm9taXNlKHMpe2lmKG51bGw9PXMpcmV0dXJuIHM7Y29uc3QgZT0rK3RoaXMuX2hhbmRsZUlkO3RoaXMuYWRkSGFuZGxlcyh0KCgoKT0+e3RoaXMuX3BlbmRpbmdQcm9taXNlcy5kZWxldGUocykmJigwIT09dGhpcy5fcGVuZGluZ1Byb21pc2VzLnNpemV8fHRoaXMuaGFzSGFuZGxlcyhjKXx8dGhpcy5fc2V0KFwidXBkYXRpbmdcIiwhMSkpfSkpLGUpLHRoaXMuX3BlbmRpbmdQcm9taXNlcy5hZGQocyksdGhpcy5fc2V0KFwidXBkYXRpbmdcIiwhMCk7Y29uc3QgaT0oKT0+dGhpcy5yZW1vdmVIYW5kbGVzKGUpO3JldHVybiBzLnRoZW4oaSxpKSxzfXJlbW92ZUFsbCgpe3RoaXMuX3BlbmRpbmdQcm9taXNlcy5jbGVhcigpLHRoaXMucmVtb3ZlQWxsSGFuZGxlcygpLHRoaXMuX3NldChcInVwZGF0aW5nXCIsITEpfV9pbnN0YWxsV2F0Y2gocyxlLGk9e30sbil7Y29uc3QgZD0rK3RoaXMuX2hhbmRsZUlkO2kuc3luY3x8dGhpcy5faW5zdGFsbFN5bmNVcGRhdGluZ1dhdGNoKHMsZCk7Y29uc3QgYT1uKHMsZSxpKTtyZXR1cm4gdGhpcy5hZGRIYW5kbGVzKGEsZCksdCgoKCk9PnRoaXMucmVtb3ZlSGFuZGxlcyhkKSkpfV9pbnN0YWxsU3luY1VwZGF0aW5nV2F0Y2gocyxlKXtjb25zdCB0PXRoaXMuX2NyZWF0ZVN5bmNVcGRhdGluZ0NhbGxiYWNrKCksbj1pKHMsdCx7c3luYzohMCxlcXVhbHM6KCk9PiExfSk7cmV0dXJuIHRoaXMuYWRkSGFuZGxlcyhuLGUpLG59X2NyZWF0ZVN5bmNVcGRhdGluZ0NhbGxiYWNrKCl7cmV0dXJuKCk9Pnt0aGlzLnJlbW92ZUhhbmRsZXMoYyksKyt0aGlzLl9zY2hlZHVsZUhhbmRsZUlkO2NvbnN0IHM9dGhpcy5fc2NoZWR1bGVIYW5kbGVJZDt0aGlzLl9nZXQoXCJ1cGRhdGluZ1wiKXx8dGhpcy5fc2V0KFwidXBkYXRpbmdcIiwhMCksdGhpcy5hZGRIYW5kbGVzKHIoKCgpPT57cz09PXRoaXMuX3NjaGVkdWxlSGFuZGxlSWQmJih0aGlzLl9zZXQoXCJ1cGRhdGluZ1wiLHRoaXMuX3BlbmRpbmdQcm9taXNlcy5zaXplPjApLHRoaXMucmVtb3ZlSGFuZGxlcyhjKSl9KSksYyl9fX07cyhbbyh7cmVhZE9ubHk6ITB9KV0saC5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLHZvaWQgMCksaD1zKFtsKFwiZXNyaS5jb3JlLnN1cHBvcnQuVXBkYXRpbmdIYW5kbGVzXCIpXSxoKTtjb25zdCBjPS00MjtleHBvcnR7aCBhcyBVcGRhdGluZ0hhbmRsZXN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uL2NvcmUvQ2lyY3VsYXJBcnJheS5qc1wiO2ltcG9ydHtkZWNvZGVHZW9oYXNoWFkgYXMgZX1mcm9tXCIuL2dlb2hhc2hVdGlscy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnR7Y29udmVydEZyb21Qb2x5Z29uIGFzIGkscXVhbnRpemVPcHRpbWl6ZWRHZW9tZXRyeSBhcyBuLGNvbnZlcnRGcm9tUG9pbnQgYXMgb31mcm9tXCIuLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydCBhIGZyb21cIi4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtwcm9qZWN0IGFzIHJ9ZnJvbVwiLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvcHJvamVjdGlvblN1cHBvcnQuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgbH1mcm9tXCIuLi92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVySlNPTi5qc1wiO2NsYXNzIGh7Y29uc3RydWN0b3IoZT1bXSxzLGk9ODA5Nil7dGhpcy5vblJlbGVhc2U9dD0+e30sdGhpcy5fbm9kZXM9MCx0aGlzLl9yb290PW5ldyBjKHRoaXMsMCwwLDApLHRoaXMuX3N0YXRpc3RpY0ZpZWxkcz1lLHRoaXMuX3Bvb2w9aT9uZXcgdCg4MDk2KTpudWxsLHRoaXMuX3NlcnZpY2VJbmZvPXN9ZGVzdHJveSgpe3RoaXMuY2xlYXIoKX1fYWNxdWlyZSh0LGUscyl7dGhpcy5fbm9kZXMrKztsZXQgaT1udWxsO3JldHVybiBudWxsIT10aGlzLl9wb29sJiYoaT10aGlzLl9wb29sLmRlcXVldWUoKSksbnVsbCE9aT9pLnJlYWxsb2ModCxlLHMpOmk9bmV3IGModGhpcyx0LGUscyksaX1fcmVsZWFzZSh0KXt0aGlzLm9uUmVsZWFzZSh0KSx0aGlzLl9ub2Rlcy0tLG51bGwhPXRoaXMuX3Bvb2wmJnRoaXMuX3Bvb2wuZW5xdWV1ZSh0KX1nZXQgY291bnQoKXtyZXR1cm4gdGhpcy5fcm9vdC5jb3VudH1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLl9ub2Rlc31nZXQgcG9vbFNpemUoKXtyZXR1cm4gdGhpcy5fcG9vbD8uc2l6ZT8/MH1nZXQgZGVwdGgoKXtsZXQgdD0wO3JldHVybiB0aGlzLmZvckVhY2goKGU9PnQ9TWF0aC5tYXgodCxlLmRlcHRoKSkpLHR9ZHJvcExldmVscyh0KXt0aGlzLmZvckVhY2goKGU9PntpZihlLmRlcHRoPj10KWZvcihsZXQgdD0wO3Q8ZS5jaGlsZHJlbi5sZW5ndGg7dCsrKXtjb25zdCBzPWUuY2hpbGRyZW5bdF07cyYmdGhpcy5fcmVsZWFzZShzKX19KSksdGhpcy5mb3JFYWNoKChlPT57aWYoZS5kZXB0aD49dClmb3IobGV0IHQ9MDt0PGUuY2hpbGRyZW4ubGVuZ3RoO3QrKyllLmNoaWxkcmVuW3RdPW51bGx9KSl9Y2xlYXIoKXt0aGlzLmZvckVhY2goKHQ9PnRoaXMuX3JlbGVhc2UodCkpKSx0aGlzLl9yb290PW5ldyBjKHRoaXMsMCwwLDApfWluc2VydCh0LGUscz0wKXtjb25zdCBpPWwuZnJvbU9wdGltaXplZEZlYXR1cmVzKFt0XSx0aGlzLl9zZXJ2aWNlSW5mbykuZ2V0Q3Vyc29yKCk7aS5uZXh0KCk7Y29uc3Qgbj1pLnJlYWRHZW9tZXRyeSgpO2lmKCFuKXJldHVybjtjb25zdFtvLGFdPW4uY29vcmRzLHI9dC5nZW9oYXNoWCxoPXQuZ2VvaGFzaFk7dGhpcy5pbnNlcnRDdXJzb3IoaSx0LmRpc3BsYXlJZCxvLGEscixoLGUscyl9aW5zZXJ0Q3Vyc29yKHQsZSxzLGksbixvLGEscj0wKXtsZXQgbD10aGlzLl9yb290LGg9MCxjPTAsdT0wO2Zvcig7bnVsbCE9PWw7KXtpZihsLmRlcHRoPj1yJiYobC5jb3VudCs9MSxsLnhUb3RhbCs9cyxsLnlUb3RhbCs9aSxsLnhHZW9oYXNoVG90YWwrPW4sbC55R2VvaGFzaFRvdGFsKz1vLGwucmVmZXJlbmNlSWQ9ZSx0aGlzLl91cGRhdGVTdGF0aXN0aWNzQ3Vyc29yKHQsbCwxKSksaD49YSlyZXR1cm4gdm9pZCBsLmFkZChlKTtjb25zdCBkPU1hdGguY2VpbCgoaCsxKS8yKSxmPU1hdGguZmxvb3IoKGgrMSkvMikseD0xLWglMixtPTMwLSgzKmQrMipmKSxnPTMwLSgyKmQrMypmKSx5PShuJjcqeCszKigxLXgpPDxtKT4+bSxwPShvJjMqeCs3KigxLXgpPDxnKT4+ZyxfPXkrcCooOCp4KzQqKDEteCkpO2M9Yzw8Myp4KzIqKDEteCl8eSx1PXU8PDIqeCszKigxLXgpfHAsbnVsbD09bC5jaGlsZHJlbltfXSYmKGwuY2hpbGRyZW5bX109dGhpcy5fYWNxdWlyZShjLHUsaCsxKSksaCs9MSxsPWwuY2hpbGRyZW5bX119fXJlbW92ZSh0LGUpe2NvbnN0IHM9bC5mcm9tT3B0aW1pemVkRmVhdHVyZXMoW3RdLHRoaXMuX3NlcnZpY2VJbmZvKS5nZXRDdXJzb3IoKTtzLm5leHQoKTtjb25zdCBpPXMucmVhZEdlb21ldHJ5KCk7aWYoIWkpcmV0dXJuO2NvbnN0W24sb109aS5jb29yZHMsYT10Lmdlb2hhc2hYLHI9dC5nZW9oYXNoWTt0aGlzLnJlbW92ZUN1cnNvcihzLG4sbyxhLHIsZSl9cmVtb3ZlQ3Vyc29yKHQsZSxzLGksbixvKXtsZXQgYT10aGlzLl9yb290LHI9MDtmb3IoO251bGwhPT1hOyl7aWYoYS5jb3VudC09MSxhLnhUb3RhbC09ZSxhLnlUb3RhbC09cyxhLnhHZW9oYXNoVG90YWwtPWksYS55R2VvaGFzaFRvdGFsLT1uLHRoaXMuX3VwZGF0ZVN0YXRpc3RpY3NDdXJzb3IodCxhLC0xKSxyPj1vKXJldHVybiB2b2lkIGEucmVtb3ZlKHQuZ2V0RGlzcGxheUlkKCkpO2NvbnN0IGw9TWF0aC5jZWlsKChyKzEpLzIpLGg9TWF0aC5mbG9vcigocisxKS8yKSxjPTEtciUyLHU9MzAtKDMqbCsyKmgpLGQ9MzAtKDIqbCszKmgpLGY9KChpJjcqYyszKigxLWMpPDx1KT4+dSkrKChuJjMqYys3KigxLWMpPDxkKT4+ZCkqKDgqYys0KigxLWMpKSx4PWEuY2hpbGRyZW5bZl07MT09PXg/LmNvdW50JiYodGhpcy5fcmVsZWFzZSh4KSxhLmNoaWxkcmVuW2ZdPW51bGwpLHIrPTEsYT14fX1mb3JFYWNoKHQpe2xldCBlPXRoaXMuX3Jvb3Q7Zm9yKDtudWxsIT09ZTspe2NvbnN0IHM9dGhpcy5fbGlua0NoaWxkcmVuKGUpfHxlLm5leHQ7dChlKSxlPXN9fWZpbmQodCxlLHMpe3JldHVybiB0aGlzLl9yb290LmZpbmQodCxlLHMsMCwwLDApfWZpbmRJZih0KXtsZXQgZT1udWxsO3JldHVybiB0aGlzLmZvckVhY2goKHM9Pnt0KHMpJiYoZT1zKX0pKSxlfWZpbmRBbGxJZih0KXtjb25zdCBlPVtdO3JldHVybiB0aGlzLmZvckVhY2goKHM9Pnt0KHMpJiZlLnB1c2gocyl9KSksZX1maW5kU2luZ2xlT2NjdXBhbmN5Tm9kZSh0LGUscyxpLG4pe2xldCBvPXRoaXMuX3Jvb3Q7Zm9yKDtudWxsIT09bzspe2NvbnN0IGE9by5kZXB0aCxyPW8ueE5vZGUsbD1vLnlOb2RlLGg9MS1hJTIsYz1vLnhHZW9oYXNoVG90YWwvby5jb3VudCx1PW8ueUdlb2hhc2hUb3RhbC9vLmNvdW50O2lmKDE9PT1vLmNvdW50JiZ0PGMmJmM8PXMmJmU8dSYmdTw9aSlyZXR1cm4gbztpZihhPj1uKXtvPW8ubmV4dDtjb250aW51ZX1jb25zdCBkPU1hdGguY2VpbCgoYSsxKS8yKSxmPU1hdGguZmxvb3IoKGErMSkvMikseD0zMC0oMypkKzIqZiksbT0zMC0oMipkKzMqZiksZz1+KCgxPDx4KS0xKSx5PX4oKDE8PG0pLTEpLHA9KHQmZyk+PngsXz0oZSZ5KT4+bSx2PShzJmcpPj54LE09KGkmeSk+Pm0sVD1yPDwzKmgrMiooMS1oKSxiPWw8PDIqaCszKigxLWgpLGs9VCs4KmgrNCooMS1oKSxOPWIrNCpoKzgqKDEtaCksST1NYXRoLm1heChULHApLEM9TWF0aC5tYXgoYixfKSxHPU1hdGgubWluKGssdiksTD1NYXRoLm1pbihOLE0pO2xldCBTPW51bGwsdz1udWxsO2ZvcihsZXQgdD1DO3Q8PUw7dCsrKWZvcihsZXQgZT1JO2U8PUc7ZSsrKXtjb25zdCBzPWUtVCsodC1iKSooOCpoKzQqKDEtaCkpLGk9by5jaGlsZHJlbltzXTtpJiYoU3x8KFM9aSxTLm5leHQ9by5uZXh0KSx3JiYody5uZXh0PWkpLHc9aSxpLm5leHQ9by5uZXh0KX1vPVN8fG8ubmV4dH1yZXR1cm4gbnVsbH1nZXRSZWdpb25EaXNwbGF5SWRzKHQpe2xldCBlPXRoaXMuX3Jvb3Q7Y29uc3R7Ym91bmRzOnMsZ2VvaGFzaEJvdW5kczppLGxldmVsOm59PXQsW28sYSxyLGxdPXMsaD1bXTtmb3IoO251bGwhPT1lOyl7Y29uc3QgdD1lLmRlcHRoLHM9ZS54Tm9kZSxjPWUueU5vZGU7aWYodD49bil7Y29uc3QgdD1lLnhUb3RhbC9lLmNvdW50LHM9ZS55VG90YWwvZS5jb3VudDt0Pj1vJiZ0PD1yJiZzPj1hJiZzPD1sJiZlLmRpc3BsYXlJZHMuZm9yRWFjaCgodD0+aC5wdXNoKHQpKSksZT1lLm5leHQ7Y29udGludWV9Y29uc3QgdT1NYXRoLmNlaWwoKHQrMSkvMiksZD1NYXRoLmZsb29yKCh0KzEpLzIpLGY9MS10JTIseD0zMC0oMyp1KzIqZCksbT0zMC0oMip1KzMqZCksZz1+KCgxPDx4KS0xKSx5PX4oKDE8PG0pLTEpLHA9KGkueExMJmcpPj54LF89KGkueUxMJnkpPj5tLHY9KGkueFRSJmcpPj54LE09KGkueVRSJnkpPj5tLFQ9czw8MypmKzIqKDEtZiksYj1jPDwyKmYrMyooMS1mKSxrPVQrOCpmKzQqKDEtZiksTj1iKzQqZis4KigxLWYpLEk9TWF0aC5tYXgoVCxwKSxDPU1hdGgubWF4KGIsXyksRz1NYXRoLm1pbihrLHYpLEw9TWF0aC5taW4oTixNKTtsZXQgUz1udWxsLHc9bnVsbDtmb3IobGV0IGk9QztpPD1MO2krKylmb3IobGV0IHQ9STt0PD1HO3QrKyl7Y29uc3Qgcz10LVQrKGktYikqKDgqZis0KigxLWYpKSxuPWUuY2hpbGRyZW5bc107biYmKFN8fChTPW4sUy5uZXh0PWUubmV4dCksdyYmKHcubmV4dD1uKSx3PW4sbi5uZXh0PWUubmV4dCl9ZT1TfHxlLm5leHR9cmV0dXJuIGh9Z2V0UmVnaW9uU3RhdGlzdGljcyh0KXtsZXQgZT10aGlzLl9yb290LHM9MCxpPTAsbj0wO2NvbnN0IG89e30se2JvdW5kczphLGdlb2hhc2hCb3VuZHM6cixsZXZlbDpsfT10LFtoLGMsdSxkXT1hO2xldCBmPTA7Zm9yKDtudWxsIT09ZTspe2NvbnN0IHQ9ZS5kZXB0aCxhPWUueE5vZGUseD1lLnlOb2RlO2lmKHQ+PWwpe2NvbnN0IHQ9ZS54VG90YWwvZS5jb3VudCxhPWUueVRvdGFsL2UuY291bnQ7dD5oJiZ0PD11JiZhPmMmJmE8PWQmJihzKz1lLmNvdW50LGkrPWUueFRvdGFsLG4rPWUueVRvdGFsLDE9PT1lLmNvdW50JiYoZj1lLnJlZmVyZW5jZUlkKSx0aGlzLl9hZ2dyZWdhdGVTdGF0aXN0aWNzKG8sZS5zdGF0aXN0aWNzKSksZT1lLm5leHQ7Y29udGludWV9Y29uc3QgbT1NYXRoLmNlaWwoKHQrMSkvMiksZz1NYXRoLmZsb29yKCh0KzEpLzIpLHk9MS10JTIscD0zMC0oMyptKzIqZyksXz0zMC0oMiptKzMqZyksdj1+KCgxPDxwKS0xKSxNPX4oKDE8PF8pLTEpLFQ9KHIueExMJnYpPj5wLGI9KHIueUxMJk0pPj5fLGs9KHIueFRSJnYpPj5wLE49KHIueVRSJk0pPj5fLEk9YTw8Myp5KzIqKDEteSksQz14PDwyKnkrMyooMS15KSxHPUkrOCp5KzQqKDEteSksTD1DKzQqeSs4KigxLXkpLFM9TWF0aC5tYXgoSSxUKSx3PU1hdGgubWF4KEMsYiksUj1NYXRoLm1pbihHLGspLEY9TWF0aC5taW4oTCxOKTtsZXQgej1udWxsLGo9bnVsbDtmb3IobGV0IHI9dztyPD1GO3IrKylmb3IobGV0IHQ9Uzt0PD1SO3QrKyl7Y29uc3QgYT10LUkrKHItQykqKDgqeSs0KigxLXkpKSxsPWUuY2hpbGRyZW5bYV07aWYobCl7aWYociE9PXcmJnIhPT1GJiZ0IT09UyYmdCE9PVIpe2NvbnN0IHQ9bC54VG90YWwvbC5jb3VudCxlPWwueVRvdGFsL2wuY291bnQ7dD5oJiZ0PD11JiZlPmMmJmU8PWQmJihzKz1sLmNvdW50LGkrPWwueFRvdGFsLG4rPWwueVRvdGFsLDE9PT1sLmNvdW50JiYoZj1sLnJlZmVyZW5jZUlkKSx0aGlzLl9hZ2dyZWdhdGVTdGF0aXN0aWNzKG8sbC5zdGF0aXN0aWNzKSk7Y29udGludWV9enx8KHo9bCx6Lm5leHQ9ZS5uZXh0KSxqJiYoai5uZXh0PWwpLGo9bCxsLm5leHQ9ZS5uZXh0fX1lPXp8fGUubmV4dH1yZXR1cm57Y291bnQ6cyxhdHRyaWJ1dGVzOnRoaXMubm9ybWFsaXplU3RhdGlzdGljcyhvLHMpLHhUb3RhbDppLHlUb3RhbDpuLHJlZmVyZW5jZUlkOmZ9fWdldEJpbnModCl7Y29uc3QgZT1bXSx7Z2VvaGFzaEJvdW5kczpzLGxldmVsOml9PXQ7bGV0IG49dGhpcy5fcm9vdDtmb3IoO251bGwhPT1uOyl7Y29uc3QgdD1uLmRlcHRoLG89bi54Tm9kZSxhPW4ueU5vZGU7aWYodD49aSl7ZS5wdXNoKG4pLG49bi5uZXh0O2NvbnRpbnVlfWNvbnN0IHI9TWF0aC5jZWlsKCh0KzEpLzIpLGw9TWF0aC5mbG9vcigodCsxKS8yKSxoPTEtdCUyLGM9MzAtKDMqcisyKmwpLHU9MzAtKDIqciszKmwpLGQ9figoMTw8YyktMSksZj1+KCgxPDx1KS0xKSx4PShzLnhMTCZkKT4+YyxtPShzLnlMTCZmKT4+dSxnPShzLnhUUiZkKT4+Yyx5PShzLnlUUiZmKT4+dSxwPW88PDMqaCsyKigxLWgpLF89YTw8MipoKzMqKDEtaCksdj1wKzgqaCs0KigxLWgpLE09Xys0KmgrOCooMS1oKSxUPU1hdGgubWF4KHAseCksYj1NYXRoLm1heChfLG0pLGs9TWF0aC5taW4odixnKSxOPU1hdGgubWluKE0seSk7bGV0IEk9bnVsbCxDPW51bGw7Zm9yKGxldCBlPWI7ZTw9TjtlKyspZm9yKGxldCB0PVQ7dDw9azt0Kyspe2NvbnN0IHM9dC1wKyhlLV8pKig4KmgrNCooMS1oKSksaT1uLmNoaWxkcmVuW3NdO2kmJihJfHwoST1pLEkubmV4dD1uLm5leHQpLEMmJihDLm5leHQ9aSksQz1pLGkubmV4dD1uLm5leHQpfW49SXx8bi5uZXh0fXJldHVybiBlfV9saW5rQ2hpbGRyZW4odCl7bGV0IGU9bnVsbCxzPW51bGw7Zm9yKGxldCBpPTA7aTw9dC5jaGlsZHJlbi5sZW5ndGg7aSsrKXtjb25zdCBuPXQuY2hpbGRyZW5baV07biYmKGV8fChlPW4sZS5uZXh0PXQubmV4dCkscyYmKHMubmV4dD1uKSxzPW4sbi5uZXh0PXQubmV4dCl9cmV0dXJuIGV9X3VwZGF0ZVN0YXRpc3RpY3NDdXJzb3IodCxlLHMpe2Zvcihjb25zdCBpIG9mIHRoaXMuX3N0YXRpc3RpY0ZpZWxkcyl7Y29uc3Qgbj1pLm5hbWUsbz1pLmluRmllbGQ/dC5yZWFkQXR0cmlidXRlKGkuaW5GaWVsZCk6dC5nZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KGkuaW5GaWVsZEluZGV4KTtzd2l0Y2goaS5zdGF0aXN0aWNUeXBlKXtjYXNlXCJtaW5cIjp7aWYoaXNOYU4obykpYnJlYWs7aWYoIWUuc3RhdGlzdGljc1tuXSl7ZS5zdGF0aXN0aWNzW25dPXt2YWx1ZTpvfTticmVha31jb25zdCB0PWUuc3RhdGlzdGljc1tuXS52YWx1ZTtlLnN0YXRpc3RpY3Nbbl0udmFsdWU9TWF0aC5taW4odCxvKTticmVha31jYXNlXCJtYXhcIjp7aWYoaXNOYU4obykpYnJlYWs7aWYoIWUuc3RhdGlzdGljc1tuXSl7ZS5zdGF0aXN0aWNzW25dPXt2YWx1ZTpvfTticmVha31jb25zdCB0PWUuc3RhdGlzdGljc1tuXS52YWx1ZTtlLnN0YXRpc3RpY3Nbbl0udmFsdWU9TWF0aC5tYXgodCxvKTticmVha31jYXNlXCJjb3VudFwiOmJyZWFrO2Nhc2VcInN1bVwiOmNhc2VcImF2Z1wiOntlLnN0YXRpc3RpY3Nbbl18fChlLnN0YXRpc3RpY3Nbbl09e3ZhbHVlOjAsbmFuQ291bnQ6MH0pO2NvbnN0IHQ9ZS5zdGF0aXN0aWNzW25dLnZhbHVlLGk9ZS5zdGF0aXN0aWNzW25dLm5hbkNvdW50Pz8wO251bGw9PW98fGlzTmFOKG8pP2Uuc3RhdGlzdGljc1tuXS5uYW5Db3VudD1pK3M6ZS5zdGF0aXN0aWNzW25dLnZhbHVlPXQrcypvO2JyZWFrfWNhc2VcImF2Z19hbmdsZVwiOntlLnN0YXRpc3RpY3Nbbl18fChlLnN0YXRpc3RpY3Nbbl09e3g6MCx5OjAsbmFuQ291bnQ6MH0pO2NvbnN0IHQ9ZS5zdGF0aXN0aWNzW25dLngsaT1lLnN0YXRpc3RpY3Nbbl0ueSxhPWUuc3RhdGlzdGljc1tuXS5uYW5Db3VudD8/MCxyPU1hdGguUEkvMTgwO251bGw9PW98fGlzTmFOKG8pP2Uuc3RhdGlzdGljc1tuXS5uYW5Db3VudD1hK3M6KGUuc3RhdGlzdGljc1tuXS54PXQrcypNYXRoLmNvcyhvKnIpLGUuc3RhdGlzdGljc1tuXS55PWkrcypNYXRoLnNpbihvKnIpKTticmVha31jYXNlXCJtb2RlXCI6e2Uuc3RhdGlzdGljc1tuXXx8KGUuc3RhdGlzdGljc1tuXT17fSk7Y29uc3QgdD1lLnN0YXRpc3RpY3Nbbl1bb118fDA7ZS5zdGF0aXN0aWNzW25dW29dPXQrczticmVha319fX1fYWdncmVnYXRlU3RhdGlzdGljcyh0LGUpe2Zvcihjb25zdCBzIG9mIHRoaXMuX3N0YXRpc3RpY0ZpZWxkcyl7Y29uc3QgaT1zLm5hbWU7c3dpdGNoKHMuc3RhdGlzdGljVHlwZSl7Y2FzZVwibWluXCI6e2lmKCF0W2ldKXt0W2ldPXt2YWx1ZTplW2ldLnZhbHVlfTticmVha31jb25zdCBzPXRbaV0udmFsdWU7dFtpXS52YWx1ZT1NYXRoLm1pbihzLGVbaV0udmFsdWUpO2JyZWFrfWNhc2VcIm1heFwiOntpZighdFtpXSl7dFtpXT17dmFsdWU6ZVtpXS52YWx1ZX07YnJlYWt9Y29uc3Qgcz10W2ldLnZhbHVlO3RbaV0udmFsdWU9TWF0aC5tYXgocyxlW2ldLnZhbHVlKTticmVha31jYXNlXCJjb3VudFwiOmJyZWFrO2Nhc2VcInN1bVwiOmNhc2VcImF2Z1wiOmNhc2VcImF2Z19hbmdsZVwiOmNhc2VcIm1vZGVcIjp0W2ldfHwodFtpXT17fSk7Zm9yKGNvbnN0IHMgaW4gZVtpXSl7Y29uc3Qgbj10W2ldW3NdfHwwO3RbaV1bc109bitlW2ldW3NdfX19fW5vcm1hbGl6ZVN0YXRpc3RpY3ModCxlKXtjb25zdCBzPXt9O2Zvcihjb25zdCBpIG9mIHRoaXMuX3N0YXRpc3RpY0ZpZWxkcyl7Y29uc3Qgbj1pLm5hbWU7c3dpdGNoKGkuc3RhdGlzdGljVHlwZSl7Y2FzZVwibWluXCI6Y2FzZVwibWF4XCI6e2NvbnN0IGk9dFtuXTtpZighZXx8IWkpYnJlYWs7c1tuXT1pLnZhbHVlO2JyZWFrfWNhc2VcImNvdW50XCI6aWYoIWUpYnJlYWs7c1tuXT1lO2JyZWFrO2Nhc2VcInN1bVwiOntpZighZSlicmVhaztjb25zdHt2YWx1ZTppLG5hbkNvdW50Om99PXRbbl07aWYoIShlLW8pKWJyZWFrO3Nbbl09aTticmVha31jYXNlXCJhdmdcIjp7aWYoIWUpYnJlYWs7Y29uc3R7dmFsdWU6aSxuYW5Db3VudDpvfT10W25dO2lmKCEoZS1vKSlicmVhaztzW25dPWkvKGUtbyk7YnJlYWt9Y2FzZVwiYXZnX2FuZ2xlXCI6e2lmKCFlKWJyZWFrO2NvbnN0e3g6aSx5Om8sbmFuQ291bnQ6YX09dFtuXTtpZighKGUtYSkpYnJlYWs7Y29uc3Qgcj1pLyhlLWEpLGw9by8oZS1hKSxoPTE4MC9NYXRoLlBJLGM9TWF0aC5hdGFuMihsLHIpKmg7c1tuXT1jO2JyZWFrfWNhc2VcIm1vZGVcIjp7Y29uc3QgZT10W25dO2xldCBpPTAsbz0wLGE9bnVsbDtmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBzPWVbdF07cz09PWk/bys9MTpzPmkmJihpPXMsbz0xLGE9dCl9c1tuXT1cIm51bGxcIj09PWF8fG8+MT9udWxsOmE7YnJlYWt9fX1yZXR1cm4gc319Y2xhc3MgY3tjb25zdHJ1Y3Rvcih0LGUscyxpKXt0aGlzLmNvdW50PTAsdGhpcy54VG90YWw9MCx0aGlzLnlUb3RhbD0wLHRoaXMuc3RhdGlzdGljcz17fSx0aGlzLmRpc3BsYXlJZD0wLHRoaXMucmVmZXJlbmNlSWQ9MCx0aGlzLmRpc3BsYXlJZHM9bmV3IFNldCx0aGlzLm5leHQ9bnVsbCx0aGlzLmRlcHRoPTAsdGhpcy54Tm9kZT0wLHRoaXMueU5vZGU9MCx0aGlzLnhHZW9oYXNoVG90YWw9MCx0aGlzLnlHZW9oYXNoVG90YWw9MCx0aGlzLl90cmVlPXQsdGhpcy5jaGlsZHJlbj1uZXcgQXJyYXkoMzIpO2ZvcihsZXQgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKXRoaXMuY2hpbGRyZW5bbl09bnVsbDt0aGlzLnhOb2RlPWUsdGhpcy55Tm9kZT1zLHRoaXMuZGVwdGg9aX1yZWFsbG9jKHQsZSxzKXtmb3IobGV0IGk9MDtpPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2krKyl0aGlzLmNoaWxkcmVuW2ldPW51bGw7cmV0dXJuIHRoaXMueE5vZGU9dCx0aGlzLnlOb2RlPWUsdGhpcy5kZXB0aD1zLHRoaXMubmV4dD1udWxsLHRoaXMueEdlb2hhc2hUb3RhbD0wLHRoaXMueUdlb2hhc2hUb3RhbD0wLHRoaXMuZGlzcGxheUlkPTAsdGhpcy5yZWZlcmVuY2VJZD0wLHRoaXMueFRvdGFsPTAsdGhpcy55VG90YWw9MCx0aGlzLmNvdW50PTAsdGhpcy5zdGF0aXN0aWNzPXt9LHRoaXMuZGlzcGxheUlkcy5jbGVhcigpLHRoaXN9Z2V0IGlkKCl7cmV0dXJuYCR7dGhpcy54Tm9kZX0uJHt0aGlzLnlOb2RlfWB9YWRkKHQpe3RoaXMuZGlzcGxheUlkcy5hZGQodCl9cmVtb3ZlKHQpe3RoaXMuZGlzcGxheUlkcy5kZWxldGUodCl9Z2V0QXR0cmlidXRlcygpe2NvbnN0IHQ9dGhpcy5fdHJlZS5ub3JtYWxpemVTdGF0aXN0aWNzKHRoaXMuc3RhdGlzdGljcyx0aGlzLmNvdW50KTtyZXR1cm4gdC5yZWZlcmVuY2VJZD1udWxsLHQuYWdncmVnYXRlSWQ9dGhpcy5pZCx0LmFnZ3JlZ2F0ZUNvdW50PXRoaXMuY291bnQsdH1nZXRHZW9tZXRyeSh0LGUpe2NvbnN0IG89dGhpcy5nZXRMbmdMYXRCb3VuZHMoKSxbbCxoLGMsdV09byxkPXIoe3JpbmdzOltbW2wsaF0sW2wsdV0sW2MsdV0sW2MsaF0sW2wsaF1dXX0scy5XR1M4NCx0KSxmPWkobmV3IGEsZCwhMSwhMSk7aWYobnVsbCE9ZSl7cmV0dXJuIG4obmV3IGEsZiwhMSwhMSxcImVzcmlHZW9tZXRyeVBvbHlnb25cIixlLCExLCExKX1yZXR1cm4gZn1nZXRHZW9tZXRyeUNlbnRyb2lkKHQsZSl7Y29uc3QgaT10aGlzLmdldExuZ0xhdEJvdW5kcygpLFtsLGgsYyx1XT1pLGQ9cih7eDoobCtjKS8yLHk6KGgrdSkvMn0scy5XR1M4NCx0KSxmPW8obmV3IGEsZCk7aWYobnVsbCE9ZSl7cmV0dXJuIG4obmV3IGEsZiwhMSwhMSxcImVzcmlHZW9tZXRyeVBvaW50XCIsZSwhMSwhMSl9cmV0dXJuIGZ9Z2V0TG5nTGF0Qm91bmRzKCl7Y29uc3QgdD10aGlzLmRlcHRoLHM9TWF0aC5jZWlsKHQvMiksaT1NYXRoLmZsb29yKHQvMiksbj0zMC0oMypzKzIqaSksbz0zMC0oMipzKzMqaSksYT10aGlzLnhOb2RlPDxuLHI9dGhpcy55Tm9kZTw8bztyZXR1cm4gZSh7Z2VvaGFzaFg6YSxnZW9oYXNoWTpyfSx0aGlzLmRlcHRoKX1maW5kKHQsZSxzLGksbixvKXtpZihpPj1zKXJldHVybiB0aGlzO2NvbnN0IGE9MS1pJTIscj0zKmErMiooMS1hKSxsPTIqYSszKigxLWEpLGg9MzAtbi1yLGM9MzAtby1sLHU9KCh0JjcqYSszKigxLWEpPDxoKT4+aCkrKChlJjMqYSs3KigxLWEpPDxjKT4+YykqKDgqYSs0KigxLWEpKSxkPXRoaXMuY2hpbGRyZW5bdV07cmV0dXJuIG51bGw9PWQ/bnVsbDpkLmZpbmQodCxlLHMsaSsxLG4rcixvK2wpfX1leHBvcnR7YyBhcyBHZW9oYXNoTm9kZSxoIGFzIEdlb2hhc2hUcmVlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0NpcmN1bGFyQXJyYXkuanNcIjtpbXBvcnR7Y2xhbXAgYXMgZX1mcm9tXCIuLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2NvbnN0IHM9XCJfX2Vzcmlfc3RyZWFtX2lkX19cIixpPVwiX19lc3JpX3RpbWVzdGFtcF9fXCIscj0xZTM7Y2xhc3Mgb3tjb25zdHJ1Y3Rvcih0LGUsaSxyLG89MTI4KXt0aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnM9bmV3IE1hcCx0aGlzLl9pZENvdW50ZXI9MCx0aGlzLl9sYXN0UHVyZ2U9cGVyZm9ybWFuY2Uubm93KCksdGhpcy5fYWRkT3JVcGRhdGVkPW5ldyBNYXAsdGhpcy5fcmVtb3ZlZD1bXSx0aGlzLl9tYXhBZ2U9MCx0aGlzLl90aW1lSW5mbz1pLHRoaXMuX3B1cmdlT3B0aW9ucz1yLHRoaXMuc3RvcmU9dCx0aGlzLm9iamVjdElkRmllbGQ9ZSx0aGlzLnB1cmdlSW50ZXJ2YWw9byx0aGlzLl91c2VHZW5lcmF0ZWRJZHM9dGhpcy5vYmplY3RJZEZpZWxkPT09c31yZW1vdmVCeUlkKHQpe3RoaXMuX3JlbW92ZWQucHVzaCh0KX1yZW1vdmVCeVRyYWNrSWQodCl7Y29uc3QgZT10aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuZ2V0KHQpO2lmKGUpZm9yKGNvbnN0IHMgb2YgZS5lbnRyaWVzKXRoaXMuX3JlbW92ZWQucHVzaChzKX1hZGQocyl7aWYodGhpcy5fdXNlR2VuZXJhdGVkSWRzKXtjb25zdCB0PXRoaXMuX25leHRJZCgpO3MuYXR0cmlidXRlc1t0aGlzLm9iamVjdElkRmllbGRdPXQscy5vYmplY3RJZD10fWVsc2Ugcy5vYmplY3RJZD1zLmF0dHJpYnV0ZXNbdGhpcy5vYmplY3RJZEZpZWxkXTtjb25zdCBpPXMub2JqZWN0SWQ7aWYodGhpcy5fYWRkT3JVcGRhdGVkLnNldChpLHMpLHRoaXMuX21heEFnZT1NYXRoLm1heCh0aGlzLl9tYXhBZ2Uscy5hdHRyaWJ1dGVzW3RoaXMuX3RpbWVJbmZvLnN0YXJ0VGltZUZpZWxkXSksIXRoaXMuX3RpbWVJbmZvLnRyYWNrSWRGaWVsZClyZXR1cm4gbnVsbD09dGhpcy5fdHJhY2tJZExlc3NPYnNlcnZhdGlvbnMmJih0aGlzLl90cmFja0lkTGVzc09ic2VydmF0aW9ucz1uZXcgdCgxZTUpKSx2b2lkIHRoaXMuX3RyYWNrSWRMZXNzT2JzZXJ2YXRpb25zLmVucXVldWUoaSk7Y29uc3Qgbz1zLmF0dHJpYnV0ZXNbdGhpcy5fdGltZUluZm8udHJhY2tJZEZpZWxkXTtpZighdGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmhhcyhvKSl7Y29uc3Qgcz1udWxsIT10aGlzLl9wdXJnZU9wdGlvbnM/Lm1heE9ic2VydmF0aW9ucz90aGlzLl9wdXJnZU9wdGlvbnMubWF4T2JzZXJ2YXRpb25zOnIsaT1lKHMsMCxyKTt0aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuc2V0KG8sbmV3IHQoaSkpfWNvbnN0IGQ9dGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmdldChvKSxhPWQ/LmVucXVldWUoaSk7bnVsbCE9YSYmKHRoaXMuX2FkZE9yVXBkYXRlZC5oYXMoYSk/dGhpcy5fYWRkT3JVcGRhdGVkLmRlbGV0ZShhKTp0aGlzLl9yZW1vdmVkLnB1c2goYSkpfWNoZWNrRm9yVXBkYXRlcygpe2NvbnN0IHQ9dGhpcy5fZ2V0VG9BZGQoKSxlPXRoaXMuX2dldFRvUmVtb3ZlKCkscz1wZXJmb3JtYW5jZS5ub3coKTtzLXRoaXMuX2xhc3RQdXJnZT49dGhpcy5wdXJnZUludGVydmFsJiYodGhpcy5fcHVyZ2UocyksdGhpcy5fbGFzdFB1cmdlPXMpO2NvbnN0IHI9W107aWYobnVsbCE9ZSlmb3IoY29uc3QgaSBvZiBlKXtjb25zdCB0PXRoaXMuc3RvcmUucmVtb3ZlQnlJZChpKTtudWxsIT10JiZyLnB1c2godCl9Y29uc3Qgbz1bXTtpZihudWxsIT10KXtjb25zdCByPW5ldyBTZXQoZT8/W10pO2Zvcihjb25zdCBlIG9mIHQpci5oYXMoZS5vYmplY3RJZCl8fChlLmF0dHJpYnV0ZXNbaV09cyx0aGlzLnN0b3JlLmFkZChlKSxvLnB1c2goZSkpfShvLmxlbmd0aHx8cj8ubGVuZ3RoKSYmdGhpcy5zdG9yZS51cGRhdGUobyxyKX1fZ2V0VG9BZGQoKXtpZighdGhpcy5fYWRkT3JVcGRhdGVkLnNpemUpcmV0dXJuIG51bGw7Y29uc3QgdD1uZXcgQXJyYXkodGhpcy5fYWRkT3JVcGRhdGVkLnNpemUpO2xldCBlPTA7cmV0dXJuIHRoaXMuX2FkZE9yVXBkYXRlZC5mb3JFYWNoKChzPT50W2UrK109cykpLHRoaXMuX2FkZE9yVXBkYXRlZC5jbGVhcigpLHR9X2dldFRvUmVtb3ZlKCl7Y29uc3QgdD10aGlzLl9yZW1vdmVkO3JldHVybiB0aGlzLl9yZW1vdmVkLmxlbmd0aD8odGhpcy5fcmVtb3ZlZD1bXSx0KTpudWxsfV9uZXh0SWQoKXtjb25zdCB0PXRoaXMuX2lkQ291bnRlcjtyZXR1cm4gdGhpcy5faWRDb3VudGVyPSh0aGlzLl9pZENvdW50ZXIrMSklNDI5NDk2NzI5NCsxLHR9X3B1cmdlKHQpe2NvbnN0IGU9dGhpcy5fcHVyZ2VPcHRpb25zO251bGwhPWUmJih0aGlzLl9wdXJnZVNvbWVCeURpc3BsYXlDb3VudChlKSx0aGlzLl9wdXJnZUJ5QWdlKGUpLHRoaXMuX3B1cmdlQnlBZ2VSZWNlaXZlZCh0LGUpLHRoaXMuX3B1cmdlVHJhY2tzKCkpfV9wdXJnZVNvbWVCeURpc3BsYXlDb3VudCh0KXtpZighdC5kaXNwbGF5Q291bnQpcmV0dXJuO2xldCBlPXRoaXMuc3RvcmUuc2l6ZTtpZihlPnQuZGlzcGxheUNvdW50KXtpZih0aGlzLl90aW1lSW5mby50cmFja0lkRmllbGQpZm9yKGNvbnN0IHMgb2YgdGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLnZhbHVlcygpKWlmKGU+dC5kaXNwbGF5Q291bnQmJnMuc2l6ZSl7Y29uc3QgdD1zLmRlcXVldWUoKTt0aGlzLl9yZW1vdmVkLnB1c2godCksZS0tfWlmKG51bGwhPXRoaXMuX3RyYWNrSWRMZXNzT2JzZXJ2YXRpb25zKXtsZXQgcz1lLXQuZGlzcGxheUNvdW50O2Zvcig7cy0tID4wOyl7Y29uc3QgdD10aGlzLl90cmFja0lkTGVzc09ic2VydmF0aW9ucy5kZXF1ZXVlKCk7bnVsbCE9dCYmdGhpcy5fcmVtb3ZlZC5wdXNoKHQpfX19fV9wdXJnZUJ5QWdlKHQpe2NvbnN0IGU9dGhpcy5fdGltZUluZm8/LnN0YXJ0VGltZUZpZWxkO2lmKCF0LmFnZXx8IWUpcmV0dXJuO2NvbnN0IHM9NjAqdC5hZ2UqMWUzLGk9dGhpcy5fbWF4QWdlLXM7dGhpcy5zdG9yZS5mb3JFYWNoKCh0PT57dC5hdHRyaWJ1dGVzW2VdPGkmJnRoaXMuX3JlbW92ZWQucHVzaCh0Lm9iamVjdElkKX0pKX1fcHVyZ2VCeUFnZVJlY2VpdmVkKHQsZSl7aWYoIWUuYWdlUmVjZWl2ZWQpcmV0dXJuO2NvbnN0IHM9dC02MCplLmFnZVJlY2VpdmVkKjFlMzt0aGlzLnN0b3JlLmZvckVhY2goKHQ9Pnt0LmF0dHJpYnV0ZXNbaV08cyYmdGhpcy5fcmVtb3ZlZC5wdXNoKHQub2JqZWN0SWQpfSkpfV9wdXJnZVRyYWNrcygpe3RoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy5mb3JFYWNoKCgodCxlKT0+ezA9PT10LnNpemUmJnRoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy5kZWxldGUoZSl9KSl9fWV4cG9ydHtvIGFzIFN0cmVhbUZlYXR1cmVNYW5hZ2VyLHMgYXMgZGVmYXVsdFN0cmVhbUlkRmllbGQsaSBhcyBlc3JpVGltZXN0YW1wfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgZSxuLGksdCxvLHIsbCxhLHUsYyxkLGYscyxwLGcsQyxtLFQsUyxQLFIsQixOLGgsTyxMLE0sQSx5LEUsRCxGLHYseCxXLFUsayxILGIsdyxJLEcscSxKLFgsWSxaLEssUSxWLGoseiwkLF8sZWUsbmUsaWUsdGUsb2UscmUsbGU7IWZ1bmN0aW9uKGUpe2VbZS5CVVRUPTBdPVwiQlVUVFwiLGVbZS5ST1VORD0xXT1cIlJPVU5EXCIsZVtlLlNRVUFSRT0yXT1cIlNRVUFSRVwiLGVbZS5VTktOT1dOPTRdPVwiVU5LTk9XTlwifShlfHwoZT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5CRVZFTD0wXT1cIkJFVkVMXCIsZVtlLlJPVU5EPTFdPVwiUk9VTkRcIixlW2UuTUlURVI9Ml09XCJNSVRFUlwiLGVbZS5VTktOT1dOPTRdPVwiVU5LTk9XTlwifShufHwobj17fSkpLGZ1bmN0aW9uKGUpe2VbZS5TQ1JFRU49MF09XCJTQ1JFRU5cIixlW2UuTUFQPTFdPVwiTUFQXCJ9KGl8fChpPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlRpbnQ9MF09XCJUaW50XCIsZVtlLklnbm9yZT0xXT1cIklnbm9yZVwiLGVbZS5NdWx0aXBseT05OV09XCJNdWx0aXBseVwifSh0fHwodD17fSkpLGZ1bmN0aW9uKGUpe2UuQm90aD1cIkJvdGhcIixlLkp1c3RCZWdpbj1cIkp1c3RCZWdpblwiLGUuSnVzdEVuZD1cIkp1c3RFbmRcIixlLk5vbmU9XCJOb25lXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZVtlLk1vc2FpYz0wXT1cIk1vc2FpY1wiLGVbZS5DZW50ZXJlZD0xXT1cIkNlbnRlcmVkXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZVtlLk5vcm1hbD0wXT1cIk5vcm1hbFwiLGVbZS5TdXBlcnNjcmlwdD0xXT1cIlN1cGVyc2NyaXB0XCIsZVtlLlN1YnNjcmlwdD0yXT1cIlN1YnNjcmlwdFwifShsfHwobD17fSkpLGZ1bmN0aW9uKGUpe2VbZS5NU1N5bWJvbD0wXT1cIk1TU3ltYm9sXCIsZVtlLlVuaWNvZGU9MV09XCJVbmljb2RlXCJ9KGF8fChhPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlVuc3BlY2lmaWVkPTBdPVwiVW5zcGVjaWZpZWRcIixlW2UuVHJ1ZVR5cGU9MV09XCJUcnVlVHlwZVwiLGVbZS5QU09wZW5UeXBlPTJdPVwiUFNPcGVuVHlwZVwiLGVbZS5UVE9wZW5UeXBlPTNdPVwiVFRPcGVuVHlwZVwiLGVbZS5UeXBlMT00XT1cIlR5cGUxXCJ9KHV8fCh1PXt9KSksZnVuY3Rpb24oZSl7ZVtlLkRpc3BsYXk9MF09XCJEaXNwbGF5XCIsZVtlLk1hcD0xXT1cIk1hcFwifShjfHwoYz17fSkpLGZ1bmN0aW9uKGUpe2UuTm9uZT1cIk5vbmVcIixlLkxvb3A9XCJMb29wXCIsZS5Pc2NpbGxhdGU9XCJPc2NpbGxhdGVcIn0oZHx8KGQ9e30pKSxmdW5jdGlvbihlKXtlW2UuWj0wXT1cIlpcIixlW2UuWD0xXT1cIlhcIixlW2UuWT0yXT1cIllcIn0oZnx8KGY9e30pKSxmdW5jdGlvbihlKXtlW2UuWFlaPTBdPVwiWFlaXCIsZVtlLlpYWT0xXT1cIlpYWVwiLGVbZS5ZWFo9Ml09XCJZWFpcIn0oc3x8KHM9e30pKSxmdW5jdGlvbihlKXtlW2UuUmVjdGFuZ2xlPTBdPVwiUmVjdGFuZ2xlXCIsZVtlLlJvdW5kZWRSZWN0YW5nbGU9MV09XCJSb3VuZGVkUmVjdGFuZ2xlXCIsZVtlLk92YWw9Ml09XCJPdmFsXCJ9KHB8fChwPXt9KSksZnVuY3Rpb24oZSl7ZVtlLk5vbmU9MF09XCJOb25lXCIsZVtlLkFscGhhPTFdPVwiQWxwaGFcIixlW2UuU2NyZWVuPTJdPVwiU2NyZWVuXCIsZVtlLk11bHRpcGx5PTNdPVwiTXVsdGlwbHlcIixlW2UuQWRkPTRdPVwiQWRkXCJ9KGd8fChnPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlRUQj0wXT1cIlRUQlwiLGVbZS5SVEw9MV09XCJSVExcIixlW2UuQlRUPTJdPVwiQlRUXCJ9KEN8fChDPXt9KSksZnVuY3Rpb24oZSl7ZVtlLk5vbmU9MF09XCJOb25lXCIsZVtlLlNpZ25Qb3N0PTFdPVwiU2lnblBvc3RcIixlW2UuRmFjZU5lYXJQbGFuZT0yXT1cIkZhY2VOZWFyUGxhbmVcIn0obXx8KG09e30pKSxmdW5jdGlvbihlKXtlW2UuRmxvYXQ9MF09XCJGbG9hdFwiLGVbZS5TdHJpbmc9MV09XCJTdHJpbmdcIixlW2UuQm9vbGVhbj0yXT1cIkJvb2xlYW5cIn0oVHx8KFQ9e30pKSxmdW5jdGlvbihlKXtlW2UuSW50ZXJzZWN0PTBdPVwiSW50ZXJzZWN0XCIsZVtlLlN1YnRyYWN0PTFdPVwiU3VidHJhY3RcIn0oU3x8KFM9e30pKSxmdW5jdGlvbihlKXtlLk9wZW5FbmRlZD1cIk9wZW5FbmRlZFwiLGUuQmxvY2s9XCJCbG9ja1wiLGUuQ3Jvc3NlZD1cIkNyb3NzZWRcIn0oUHx8KFA9e30pKSxmdW5jdGlvbihlKXtlLkZ1bGxHZW9tZXRyeT1cIkZ1bGxHZW9tZXRyeVwiLGUuUGVycGVuZGljdWxhckZyb21GaXJzdFNlZ21lbnQ9XCJQZXJwZW5kaWN1bGFyRnJvbUZpcnN0U2VnbWVudFwiLGUuUmV2ZXJzZWRGaXJzdFNlZ21lbnQ9XCJSZXZlcnNlZEZpcnN0U2VnbWVudFwiLGUuUGVycGVuZGljdWxhclRvU2Vjb25kU2VnbWVudD1cIlBlcnBlbmRpY3VsYXJUb1NlY29uZFNlZ21lbnRcIixlLlNlY29uZFNlZ21lbnRXaXRoVGlja3M9XCJTZWNvbmRTZWdtZW50V2l0aFRpY2tzXCIsZS5Eb3VibGVQZXJwZW5kaWN1bGFyPVwiRG91YmxlUGVycGVuZGljdWxhclwiLGUuT3Bwb3NpdGVUb0ZpcnN0U2VnbWVudD1cIk9wcG9zaXRlVG9GaXJzdFNlZ21lbnRcIixlLlRyaXBsZVBlcnBlbmRpY3VsYXI9XCJUcmlwbGVQZXJwZW5kaWN1bGFyXCIsZS5IYWxmQ2lyY2xlRmlyc3RTZWdtZW50PVwiSGFsZkNpcmNsZUZpcnN0U2VnbWVudFwiLGUuSGFsZkNpcmNsZVNlY29uZFNlZ21lbnQ9XCJIYWxmQ2lyY2xlU2Vjb25kU2VnbWVudFwiLGUuSGFsZkNpcmNsZUV4dGVuZGVkPVwiSGFsZkNpcmNsZUV4dGVuZGVkXCIsZS5PcGVuQ2lyY2xlPVwiT3BlbkNpcmNsZVwiLGUuQ292ZXJhZ2VFZGdlc1dpdGhUaWNrcz1cIkNvdmVyYWdlRWRnZXNXaXRoVGlja3NcIixlLkdhcEV4dGVudFdpdGhEb3VibGVUaWNrcz1cIkdhcEV4dGVudFdpdGhEb3VibGVUaWNrc1wiLGUuR2FwRXh0ZW50TWlkbGluZT1cIkdhcEV4dGVudE1pZGxpbmVcIixlLkNoZXZyb249XCJDaGV2cm9uXCIsZS5QZXJwZW5kaWN1bGFyV2l0aEFyYz1cIlBlcnBlbmRpY3VsYXJXaXRoQXJjXCIsZS5DbG9zZWRIYWxmQ2lyY2xlPVwiQ2xvc2VkSGFsZkNpcmNsZVwiLGUuVHJpcGxlUGFyYWxsZWxFeHRlbmRlZD1cIlRyaXBsZVBhcmFsbGVsRXh0ZW5kZWRcIixlLlBhcmFsbGVsV2l0aFRpY2tzPVwiUGFyYWxsZWxXaXRoVGlja3NcIixlLlBhcmFsbGVsPVwiUGFyYWxsZWxcIixlLlBlcnBlbmRpY3VsYXJUb0ZpcnN0U2VnbWVudD1cIlBlcnBlbmRpY3VsYXJUb0ZpcnN0U2VnbWVudFwiLGUuUGFyYWxsZWxPZmZzZXQ9XCJQYXJhbGxlbE9mZnNldFwiLGUuT2Zmc2V0T3Bwb3NpdGU9XCJPZmZzZXRPcHBvc2l0ZVwiLGUuT2Zmc2V0U2FtZT1cIk9mZnNldFNhbWVcIixlLkNpcmNsZVdpdGhBcmM9XCJDaXJjbGVXaXRoQXJjXCIsZS5Eb3VibGVKb2c9XCJEb3VibGVKb2dcIixlLlBlcnBlbmRpY3VsYXJPZmZzZXQ9XCJQZXJwZW5kaWN1bGFyT2Zmc2V0XCIsZS5MaW5lRXhjbHVkaW5nTGFzdFNlZ21lbnQ9XCJMaW5lRXhjbHVkaW5nTGFzdFNlZ21lbnRcIixlLk11bHRpdmVydGV4QXJyb3c9XCJNdWx0aXZlcnRleEFycm93XCIsZS5Dcm9zc2VkQXJyb3c9XCJDcm9zc2VkQXJyb3dcIixlLkNoZXZyb25BcnJvdz1cIkNoZXZyb25BcnJvd1wiLGUuQ2hldnJvbkFycm93T2Zmc2V0PVwiQ2hldnJvbkFycm93T2Zmc2V0XCIsZS5QYXJ0aWFsRmlyc3RTZWdtZW50PVwiUGFydGlhbEZpcnN0U2VnbWVudFwiLGUuQXJjaD1cIkFyY2hcIixlLkN1cnZlZFBhcmFsbGVsVGlja3M9XCJDdXJ2ZWRQYXJhbGxlbFRpY2tzXCIsZS5BcmM5MERlZ3JlZXM9XCJBcmM5MERlZ3JlZXNcIn0oUnx8KFI9e30pKSxmdW5jdGlvbihlKXtlLk1pdGVyZWQ9XCJNaXRlcmVkXCIsZS5CZXZlbGxlZD1cIkJldmVsbGVkXCIsZS5Sb3VuZGVkPVwiUm91bmRlZFwiLGUuU3F1YXJlPVwiU3F1YXJlXCIsZS5UcnVlQnVmZmVyPVwiVHJ1ZUJ1ZmZlclwifShCfHwoQj17fSkpLGZ1bmN0aW9uKGUpe2UuQ2xvc2VQYXRoPVwiQ2xvc2VQYXRoXCIsZS5Db252ZXhIdWxsPVwiQ29udmV4SHVsbFwiLGUuUmVjdGFuZ3VsYXJCb3g9XCJSZWN0YW5ndWxhckJveFwifShOfHwoTj17fSkpLGZ1bmN0aW9uKGUpe2UuQmVnaW5uaW5nT2ZMaW5lPVwiQmVnaW5uaW5nT2ZMaW5lXCIsZS5FbmRPZkxpbmU9XCJFbmRPZkxpbmVcIn0oaHx8KGg9e30pKSxmdW5jdGlvbihlKXtlLk1pdGVyZWQ9XCJNaXRlcmVkXCIsZS5CZXZlbGxlZD1cIkJldmVsbGVkXCIsZS5Sb3VuZGVkPVwiUm91bmRlZFwiLGUuU3F1YXJlPVwiU3F1YXJlXCJ9KE98fChPPXt9KSksZnVuY3Rpb24oZSl7ZS5GYXN0PVwiRmFzdFwiLGUuQWNjdXJhdGU9XCJBY2N1cmF0ZVwifShMfHwoTD17fSkpLGZ1bmN0aW9uKGUpe2UuQmVnaW5uaW5nT2ZMaW5lPVwiQmVnaW5uaW5nT2ZMaW5lXCIsZS5FbmRPZkxpbmU9XCJFbmRPZkxpbmVcIn0oTXx8KE09e30pKSxmdW5jdGlvbihlKXtlLlNpbnVzPVwiU2ludXNcIixlLlNxdWFyZT1cIlNxdWFyZVwiLGUuVHJpYW5nbGU9XCJUcmlhbmdsZVwiLGUuUmFuZG9tPVwiUmFuZG9tXCJ9KEF8fChBPXt9KSksZnVuY3Rpb24oZSl7ZVtlLk5vbmU9MF09XCJOb25lXCIsZVtlLkRlZmF1bHQ9MV09XCJEZWZhdWx0XCIsZVtlLkZvcmNlPTJdPVwiRm9yY2VcIn0oeXx8KHk9e30pKSxmdW5jdGlvbihlKXtlW2UuQnVmZmVyZWQ9MF09XCJCdWZmZXJlZFwiLGVbZS5MZWZ0PTFdPVwiTGVmdFwiLGVbZS5SaWdodD0yXT1cIlJpZ2h0XCIsZVtlLkFsb25nTGluZT0zXT1cIkFsb25nTGluZVwifShFfHwoRT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5MaW5lYXI9MF09XCJMaW5lYXJcIixlW2UuUmVjdGFuZ3VsYXI9MV09XCJSZWN0YW5ndWxhclwiLGVbZS5DaXJjdWxhcj0yXT1cIkNpcmN1bGFyXCIsZVtlLkJ1ZmZlcmVkPTNdPVwiQnVmZmVyZWRcIn0oRHx8KEQ9e30pKSxmdW5jdGlvbihlKXtlW2UuRGlzY3JldGU9MF09XCJEaXNjcmV0ZVwiLGVbZS5Db250aW51b3VzPTFdPVwiQ29udGludW91c1wifShGfHwoRj17fSkpLGZ1bmN0aW9uKGUpe2VbZS5BY3Jvc3NMaW5lPTBdPVwiQWNyb3NzTGluZVwiLGVbZS5BbG9uZUxpbmU9MV09XCJBbG9uZUxpbmVcIn0odnx8KHY9e30pKSxmdW5jdGlvbihlKXtlW2UuTGVmdD0wXT1cIkxlZnRcIixlW2UuUmlnaHQ9MV09XCJSaWdodFwiLGVbZS5DZW50ZXI9Ml09XCJDZW50ZXJcIixlW2UuSnVzdGlmeT0zXT1cIkp1c3RpZnlcIn0oeHx8KHg9e30pKSxmdW5jdGlvbihlKXtlW2UuQmFzZT0wXT1cIkJhc2VcIixlW2UuTWlkUG9pbnQ9MV09XCJNaWRQb2ludFwiLGVbZS5UaHJlZVBvaW50PTJdPVwiVGhyZWVQb2ludFwiLGVbZS5Gb3VyUG9pbnQ9M109XCJGb3VyUG9pbnRcIixlW2UuVW5kZXJsaW5lPTRdPVwiVW5kZXJsaW5lXCIsZVtlLkNpcmN1bGFyQ1c9NV09XCJDaXJjdWxhckNXXCIsZVtlLkNpcmN1bGFyQ0NXPTZdPVwiQ2lyY3VsYXJDQ1dcIn0oV3x8KFc9e30pKSxmdW5jdGlvbihlKXtlLkJ1dHQ9XCJCdXR0XCIsZS5Sb3VuZD1cIlJvdW5kXCIsZS5TcXVhcmU9XCJTcXVhcmVcIn0oVXx8KFU9e30pKSxmdW5jdGlvbihlKXtlLk5vQ29uc3RyYWludD1cIk5vQ29uc3RyYWludFwiLGUuSGFsZlBhdHRlcm49XCJIYWxmUGF0dGVyblwiLGUuSGFsZkdhcD1cIkhhbGZHYXBcIixlLkZ1bGxQYXR0ZXJuPVwiRnVsbFBhdHRlcm5cIixlLkZ1bGxHYXA9XCJGdWxsR2FwXCIsZS5DdXN0b209XCJDdXN0b21cIn0oa3x8KGs9e30pKSxmdW5jdGlvbihlKXtlW2UuTm9uZT0tMV09XCJOb25lXCIsZVtlLkN1c3RvbT0wXT1cIkN1c3RvbVwiLGVbZS5DaXJjbGU9MV09XCJDaXJjbGVcIixlW2UuT3BlbkFycm93PTJdPVwiT3BlbkFycm93XCIsZVtlLkNsb3NlZEFycm93PTNdPVwiQ2xvc2VkQXJyb3dcIixlW2UuRGlhbW9uZD00XT1cIkRpYW1vbmRcIn0oSHx8KEg9e30pKSxmdW5jdGlvbihlKXtlW2UuRXh0cmFMZWFkaW5nPTBdPVwiRXh0cmFMZWFkaW5nXCIsZVtlLk11bHRpcGxlPTFdPVwiTXVsdGlwbGVcIixlW2UuRXhhY3Q9Ml09XCJFeGFjdFwifShifHwoYj17fSkpLGZ1bmN0aW9uKGUpe2UuQmV2ZWw9XCJCZXZlbFwiLGUuUm91bmQ9XCJSb3VuZFwiLGUuTWl0ZXI9XCJNaXRlclwifSh3fHwodz17fSkpLGZ1bmN0aW9uKGUpe2VbZS5EZWZhdWx0PTBdPVwiRGVmYXVsdFwiLGVbZS5TdHJpbmc9MV09XCJTdHJpbmdcIixlW2UuTnVtZXJpYz0yXT1cIk51bWVyaWNcIn0oSXx8KEk9e30pKSxmdW5jdGlvbihlKXtlW2UuSW5zaWRlUG9seWdvbj0wXT1cIkluc2lkZVBvbHlnb25cIixlW2UuUG9seWdvbkNlbnRlcj0xXT1cIlBvbHlnb25DZW50ZXJcIixlW2UuUmFuZG9tbHlJbnNpZGVQb2x5Z29uPTJdPVwiUmFuZG9tbHlJbnNpZGVQb2x5Z29uXCJ9KEd8fChHPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlRpbnQ9MF09XCJUaW50XCIsZVtlLlJlcGxhY2U9MV09XCJSZXBsYWNlXCIsZVtlLk11bHRpcGx5PTJdPVwiTXVsdGlwbHlcIn0ocXx8KHE9e30pKSxmdW5jdGlvbihlKXtlW2UuQ2xpcEF0Qm91bmRhcnk9MF09XCJDbGlwQXRCb3VuZGFyeVwiLGVbZS5SZW1vdmVJZkNlbnRlck91dHNpZGVCb3VuZGFyeT0xXT1cIlJlbW92ZUlmQ2VudGVyT3V0c2lkZUJvdW5kYXJ5XCIsZVtlLkRvTm90VG91Y2hCb3VuZGFyeT0yXT1cIkRvTm90VG91Y2hCb3VuZGFyeVwiLGVbZS5Eb05vdENsaXA9M109XCJEb05vdENsaXBcIn0oSnx8KEo9e30pKSxmdW5jdGlvbihlKXtlLk5vQ29uc3RyYWludD1cIk5vQ29uc3RyYWludFwiLGUuV2l0aE1hcmtlcnM9XCJXaXRoTWFya2Vyc1wiLGUuV2l0aEZ1bGxHYXA9XCJXaXRoRnVsbEdhcFwiLGUuV2l0aEhhbGZHYXA9XCJXaXRoSGFsZkdhcFwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KFh8fChYPXt9KSksZnVuY3Rpb24oZSl7ZS5GaXhlZD1cIkZpeGVkXCIsZS5SYW5kb209XCJSYW5kb21cIixlLlJhbmRvbUZpeGVkUXVhbnRpdHk9XCJSYW5kb21GaXhlZFF1YW50aXR5XCJ9KFl8fChZPXt9KSksZnVuY3Rpb24oZSl7ZS5MaW5lTWlkZGxlPVwiTGluZU1pZGRsZVwiLGUuTGluZUJlZ2lubmluZz1cIkxpbmVCZWdpbm5pbmdcIixlLkxpbmVFbmQ9XCJMaW5lRW5kXCIsZS5TZWdtZW50TWlkcG9pbnQ9XCJTZWdtZW50TWlkcG9pbnRcIn0oWnx8KFo9e30pKSxmdW5jdGlvbihlKXtlLk9uUG9seWdvbj1cIk9uUG9seWdvblwiLGUuQ2VudGVyT2ZNYXNzPVwiQ2VudGVyT2ZNYXNzXCIsZS5Cb3VuZGluZ0JveENlbnRlcj1cIkJvdW5kaW5nQm94Q2VudGVyXCJ9KEt8fChLPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkxvdz0wXT1cIkxvd1wiLGVbZS5NZWRpdW09MV09XCJNZWRpdW1cIixlW2UuSGlnaD0yXT1cIkhpZ2hcIn0oUXx8KFE9e30pKSxmdW5jdGlvbihlKXtlW2UuTWFya2VyQ2VudGVyPTBdPVwiTWFya2VyQ2VudGVyXCIsZVtlLk1hcmtlckJvdW5kcz0xXT1cIk1hcmtlckJvdW5kc1wifShWfHwoVj17fSkpLGZ1bmN0aW9uKGUpe2VbZS5Ob25lPTBdPVwiTm9uZVwiLGVbZS5Qcm9wVW5pZm9ybT0xXT1cIlByb3BVbmlmb3JtXCIsZVtlLlByb3BOb251bmlmb3JtPTJdPVwiUHJvcE5vbnVuaWZvcm1cIixlW2UuRGlmVW5pZm9ybT0zXT1cIkRpZlVuaWZvcm1cIixlW2UuRGlmTm9udW5pZm9ybT00XT1cIkRpZk5vbnVuaWZvcm1cIn0oanx8KGo9e30pKSxmdW5jdGlvbihlKXtlLlR1YmU9XCJUdWJlXCIsZS5TdHJpcD1cIlN0cmlwXCIsZS5XYWxsPVwiV2FsbFwifSh6fHwoej17fSkpLGZ1bmN0aW9uKGUpe2VbZS5SYW5kb209MF09XCJSYW5kb21cIixlW2UuSW5jcmVhc2luZz0xXT1cIkluY3JlYXNpbmdcIixlW2UuRGVjcmVhc2luZz0yXT1cIkRlY3JlYXNpbmdcIixlW2UuSW5jcmVhc2luZ1RoZW5EZWNyZWFzaW5nPTNdPVwiSW5jcmVhc2luZ1RoZW5EZWNyZWFzaW5nXCJ9KCR8fCgkPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlJlbGF0aXZlPTBdPVwiUmVsYXRpdmVcIixlW2UuQWJzb2x1dGU9MV09XCJBYnNvbHV0ZVwifShffHwoXz17fSkpLGZ1bmN0aW9uKGUpe2VbZS5Ob3JtYWw9MF09XCJOb3JtYWxcIixlW2UuTG93ZXJDYXNlPTFdPVwiTG93ZXJDYXNlXCIsZVtlLkFsbGNhcHM9Ml09XCJBbGxjYXBzXCJ9KGVlfHwoZWU9e30pKSxmdW5jdGlvbihlKXtlW2UuTFRSPTBdPVwiTFRSXCIsZVtlLlJUTD0xXT1cIlJUTFwifShuZXx8KG5lPXt9KSksZnVuY3Rpb24oZSl7ZS5EcmFmdD1cIkRyYWZ0XCIsZS5QaWN0dXJlPVwiUGljdHVyZVwiLGUuVGV4dD1cIlRleHRcIn0oaWV8fChpZT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5Ub3A9MF09XCJUb3BcIixlW2UuQ2VudGVyPTFdPVwiQ2VudGVyXCIsZVtlLkJhc2VsaW5lPTJdPVwiQmFzZWxpbmVcIixlW2UuQm90dG9tPTNdPVwiQm90dG9tXCJ9KHRlfHwodGU9e30pKSxmdW5jdGlvbihlKXtlW2UuUmlnaHQ9MF09XCJSaWdodFwiLGVbZS5VcHJpZ2h0PTFdPVwiVXByaWdodFwifShvZXx8KG9lPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlNtYWxsPTBdPVwiU21hbGxcIixlW2UuTWVkaXVtPTFdPVwiTWVkaXVtXCIsZVtlLkxhcmdlPTJdPVwiTGFyZ2VcIn0ocmV8fChyZT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5DYWxtPTBdPVwiQ2FsbVwiLGVbZS5SaXBwbGVkPTFdPVwiUmlwcGxlZFwiLGVbZS5TbGlnaHQ9Ml09XCJTbGlnaHRcIixlW2UuTW9kZXJhdGU9M109XCJNb2RlcmF0ZVwifShsZXx8KGxlPXt9KSk7ZXhwb3J0e2kgYXMgQWxpZ25tZW50LGMgYXMgQW5nbGVBbGlnbm1lbnQsZCBhcyBBbmltYXRlZFN5bWJvbFJlcGVhdFR5cGUscCBhcyBCYWxsb29uQ2FsbG91dFN0eWxlLG0gYXMgQmlsbEJvYXJkTW9kZSxnIGFzIEJsZW5kaW5nTW9kZSxDIGFzIEJsb2NrUHJvZ3Jlc3Npb24sVCBhcyBDR0FBdHRyaWJ1dGVUeXBlLGUgYXMgQ2FwVHlwZSxTIGFzIENsaXBwaW5nVHlwZSxmIGFzIERvbWluYW50U2l6ZUF4aXMsSSBhcyBFeHByZXNzaW9uUmV0dXJuVHlwZSx0IGFzIEV4dGVybmFsQ29sb3JNaXhNb2RlLG8gYXMgRXh0cmVtaXR5UGxhY2VtZW50LHIgYXMgRmlsbE1vZGUsbCBhcyBGb250RWZmZWN0cyxhIGFzIEZvbnRFbmNvZGluZyx1IGFzIEZvbnRUeXBlLFAgYXMgR2VvbWV0cmljRWZmZWN0QXJyb3dUeXBlLFIgYXMgR2VvbWV0cmljRWZmZWN0Q29udHJvbE1lYXN1cmVMaW5lUnVsZSxCIGFzIEdlb21ldHJpY0VmZmVjdERvbnV0TWV0aG9kLE4gYXMgR2VvbWV0cmljRWZmZWN0RW5jbG9zaW5nUG9seWdvbk1ldGhvZCxoIGFzIEdlb21ldHJpY0VmZmVjdEV4dGVuc2lvbk9yaWdpbixPIGFzIEdlb21ldHJpY0VmZmVjdE9mZnNldE1ldGhvZCxMIGFzIEdlb21ldHJpY0VmZmVjdE9mZnNldE9wdGlvbixNIGFzIEdlb21ldHJpY0VmZmVjdE9mZnNldFRhbmdlbnRNZXRob2QsQSBhcyBHZW9tZXRyaWNFZmZlY3RXYXZlZm9ybSx5IGFzIEdseXBoSGludGluZyxFIGFzIEdyYWRpZW50QWxpZ25tZW50LEQgYXMgR3JhZGllbnRGaWxsTWV0aG9kLHYgYXMgR3JhZGllbnRTdHJva2VNZXRob2QsRiBhcyBHcmFkaWVudFN0cm9rZVR5cGUseCBhcyBIb3Jpem9udGFsQWxpZ25tZW50LG4gYXMgSm9pblR5cGUsVyBhcyBMZWFkZXJMaW5lU3R5bGUsVSBhcyBMaW5lQ2FwU3R5bGUsayBhcyBMaW5lRGFzaEVuZGluZyxIIGFzIExpbmVEZWNvcmF0aW9uU3R5bGUsYiBhcyBMaW5lR2FwVHlwZSx3IGFzIExpbmVKb2luU3R5bGUsRyBhcyBNYXJrZXJQbGFjZW1lbnRUeXBlLHEgYXMgTWF0ZXJpYWxNb2RlLEogYXMgUGxhY2VtZW50Q2xpcCxYIGFzIFBsYWNlbWVudEVuZGluZ3MsWSBhcyBQbGFjZW1lbnRHcmlkVHlwZSxaIGFzIFBsYWNlbWVudE9uTGluZVJlbGF0aXZlVG8sSyBhcyBQbGFjZW1lbnRQb2x5Z29uQ2VudGVyTWV0aG9kLFEgYXMgUGxhY2VtZW50UmFuZG9tbHlBbG9uZ0xpbmVSYW5kb21pemF0aW9uLFYgYXMgUGxhY2VtZW50U3RlcFBvc2l0aW9uLGogYXMgUG9pbnRTeW1ib2xDYWxsb3V0U2NhbGUscyBhcyBSb3RhdGlvbk9yZGVyLHogYXMgU2ltcGxlM0RMaW5lU3R5bGUsJCBhcyBTaXplVmFyaWF0aW9uTWV0aG9kLF8gYXMgU3ltYm9sVW5pdHMsZWUgYXMgVGV4dENhc2UsbmUgYXMgVGV4dFJlYWRpbmdEaXJlY3Rpb24saWUgYXMgVGV4dHVyZUZpbHRlcix0ZSBhcyBWZXJ0aWNhbEFsaWdubWVudCxvZSBhcyBWZXJ0aWNhbEdseXBoT3JpZW50YXRpb24scmUgYXMgV2F0ZXJib2R5U2l6ZSxsZSBhcyBXYXZlU3RyZW5ndGh9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtDYXBUeXBlIGFzIG4sSm9pblR5cGUgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL2NpbS9lbnVtcy5qc1wiO2ltcG9ydHtXR0xHZW9tZXRyeVR5cGUgYXMgcyxXR0xTeW1ib2xvZ3lUeXBlIGFzIGEsVlZUeXBlIGFzIGl9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtVc2FnZSBhcyBjLERhdGFUeXBlIGFzIG8sUGl4ZWxUeXBlIGFzIHV9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7VmVydGV4RWxlbWVudERlc2NyaXB0b3IgYXMgbH1mcm9tXCIuLi8uLi8uLi93ZWJnbC9WZXJ0ZXhFbGVtZW50RGVzY3JpcHRvci5qc1wiO2NvbnN0IGY9dC5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjJkLmVuZ2luZS53ZWJnbC5VdGlsc1wiKSxtPVwiZ2VvbWV0cnlcIixkPVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6MTJ9XSxwPVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6MzZ9XSx5PVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6MjR9XSxJPVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6MTJ9XSxTPVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6NDB9XSxUPVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6MzZ9XSxnPVt7bmFtZTptLHN0cmlkZUluQnl0ZXM6MzZ9XTtmdW5jdGlvbiB3KGUpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IG4gb2YgZSl0W24ubmFtZV09bi5zdHJpZGVJbkJ5dGVzO3JldHVybiB0fWNvbnN0IEU9dyhbe25hbWU6bSxzdHJpZGVJbkJ5dGVzOjM2fV0pLGg9dyhkKSxMPXcocCksTj13KHkpLEQ9dyhJKSxBPXcoUyksTT13KFQpLFU9dyhnKTtmdW5jdGlvbiBSKGUsdCl7c3dpdGNoKGUpe2Nhc2Ugcy5NQVJLRVI6cmV0dXJuIHQ9PT1hLkhFQVRNQVA/aDpFO2Nhc2Ugcy5GSUxMOnN3aXRjaCh0KXtjYXNlIGEuRE9UX0RFTlNJVFk6cmV0dXJuIEQ7Y2FzZSBhLlNJTVBMRTpjYXNlIGEuT1VUTElORV9GSUxMX1NJTVBMRTpyZXR1cm4gTjtkZWZhdWx0OnJldHVybiBMfWNhc2Ugcy5MSU5FOnJldHVybiBBO2Nhc2Ugcy5URVhUOnJldHVybiBNO2Nhc2Ugcy5MQUJFTDpyZXR1cm4gVX19Y29uc3QgXz1bbV0sQj1bbV0sTz1bbV0sdj1bbV0sQz1bbV07ZnVuY3Rpb24gYihlKXtzd2l0Y2goZSl7Y2FzZSBzLk1BUktFUjpyZXR1cm4gXztjYXNlIHMuRklMTDpyZXR1cm4gQjtjYXNlIHMuTElORTpyZXR1cm4gTztjYXNlIHMuVEVYVDpyZXR1cm4gdjtjYXNlIHMuTEFCRUw6cmV0dXJuIEN9fWZ1bmN0aW9uIEYoZSl7c3dpdGNoKGUlNCl7Y2FzZSAwOmNhc2UgMjpyZXR1cm4gNDtjYXNlIDE6Y2FzZSAzOnJldHVybiAxfX1mdW5jdGlvbiBQKGUsdCl7c3dpdGNoKHQlNCl7Y2FzZSAwOmNhc2UgMjpyZXR1cm4gbmV3IFVpbnQzMkFycmF5KE1hdGguZmxvb3IoZSp0LzQpKTtjYXNlIDE6Y2FzZSAzOnJldHVybiBuZXcgVWludDhBcnJheShlKnQpfX1mdW5jdGlvbiB4KGUsdCl7c3dpdGNoKHQlNCl7Y2FzZSAwOmNhc2UgMjpyZXR1cm4gbmV3IFVpbnQzMkFycmF5KGUpO2Nhc2UgMTpjYXNlIDM6cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpfX1mdW5jdGlvbiB6KGUpe3JldHVybiBudWxsIT1lfWZ1bmN0aW9uICQoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9ZnVuY3Rpb24gayh0KXtzd2l0Y2godCl7Y2FzZVwiYnV0dFwiOnJldHVybiBuLkJVVFQ7Y2FzZVwicm91bmRcIjpyZXR1cm4gbi5ST1VORDtjYXNlXCJzcXVhcmVcIjpyZXR1cm4gbi5TUVVBUkU7ZGVmYXVsdDpyZXR1cm4gZi5lcnJvcihuZXcgZShcIm1hcHZpZXctaW52YWxpZC10eXBlXCIsYENhcCB0eXBlICR7dH0gaXMgbm90IGEgdmFsaWQgb3B0aW9uLiBEZWZhdWx0aW5nIHRvIHJvdW5kYCkpLG4uUk9VTkR9fWZ1bmN0aW9uIEcodCl7c3dpdGNoKHQpe2Nhc2VcIm1pdGVyXCI6cmV0dXJuIHIuTUlURVI7Y2FzZVwiYmV2ZWxcIjpyZXR1cm4gci5CRVZFTDtjYXNlXCJyb3VuZFwiOnJldHVybiByLlJPVU5EO2RlZmF1bHQ6cmV0dXJuIGYuZXJyb3IobmV3IGUoXCJtYXB2aWV3LWludmFsaWQtdHlwZVwiLGBKb2luIHR5cGUgJHt0fSBpcyBub3QgYSB2YWxpZCBvcHRpb24uIERlZmF1bHRpbmcgdG8gcm91bmRgKSksci5ST1VORH19ZnVuY3Rpb24gVihlKXtzd2l0Y2goZSl7Y2FzZVwib3BhY2l0eVwiOnJldHVybiBpLk9QQUNJVFk7Y2FzZVwiY29sb3JcIjpyZXR1cm4gaS5DT0xPUjtjYXNlXCJyb3RhdGlvblwiOnJldHVybiBpLlJPVEFUSU9OO2Nhc2VcInNpemVcIjpyZXR1cm4gaS5TSVpFO2RlZmF1bHQ6cmV0dXJuIGYuZXJyb3IoYENhbm5vdCBpbnRlcnByZXQgdW5rbm93biB2djogJHtlfWApLG51bGx9fWZ1bmN0aW9uIGooZSx0LG4scixzLGEsaSl7Zm9yKGNvbnN0IGMgaW4gYSl7Y29uc3QgdD1hW2NdLnN0cmlkZSxyPUYodCksaT1hW2NdLmRhdGEsbz1uW2NdLmRhdGE7aWYobnVsbD09aXx8bnVsbD09byljb250aW51ZTtjb25zdCB1PXQqcy52ZXJ0ZXhDb3VudC9yLGw9dCplL3IsZj10KnMudmVydGV4RnJvbS9yO2ZvcihsZXQgZT0wO2U8dTsrK2Upb1tlK2xdPWlbZStmXX1pZihudWxsIT1pJiZudWxsIT1yKXtjb25zdCBuPXMuaW5kZXhDb3VudDtmb3IobGV0IGE9MDthPG47KythKXJbYSt0XT1pW2Ercy5pbmRleEZyb21dLXMudmVydGV4RnJvbStlfX1jb25zdCBZPXtbbV06Yy5TVEFUSUNfRFJBV307ZnVuY3Rpb24gSChlLHQpe2NvbnN0IG49W107Zm9yKGxldCByPTA7cjw1Oysrcil7Y29uc3Qgcz1iKHIpLGE9e307Zm9yKGNvbnN0IGUgb2YgcylhW2VdPXtkYXRhOnQocixlKX07bi5wdXNoKHtkYXRhOmUociksYnVmZmVyczphfSl9cmV0dXJuIG59ZnVuY3Rpb24gcShlKXtzd2l0Y2goZSl7Y2FzZSBvLkJZVEU6Y2FzZSBvLlVOU0lHTkVEX0JZVEU6cmV0dXJuIDE7Y2FzZSBvLlNIT1JUOmNhc2Ugby5VTlNJR05FRF9TSE9SVDpyZXR1cm4gMjtjYXNlIG8uRkxPQVQ6Y2FzZSBvLklOVDpjYXNlIG8uVU5TSUdORURfSU5UOnJldHVybiA0fX1mdW5jdGlvbiBLKHQpe3N3aXRjaCh0KXtjYXNlIHUuVU5TSUdORURfQllURTpyZXR1cm4gMTtjYXNlIHUuVU5TSUdORURfU0hPUlRfNF80XzRfNDpyZXR1cm4gMjtjYXNlIHUuRkxPQVQ6cmV0dXJuIDQ7ZGVmYXVsdDpyZXR1cm4gdm9pZCBmLmVycm9yKG5ldyBlKFwid2ViZ2wtdXRpbHNcIixgVW5hYmxlIHRvIGhhbmRsZSB0eXBlICR7dH1gKSl9fWZ1bmN0aW9uIFcodCl7c3dpdGNoKHQpe2Nhc2UgdS5VTlNJR05FRF9CWVRFOnJldHVybiBVaW50OEFycmF5O2Nhc2UgdS5VTlNJR05FRF9TSE9SVF80XzRfNF80OnJldHVybiBVaW50MTZBcnJheTtjYXNlIHUuRkxPQVQ6cmV0dXJuIEZsb2F0MzJBcnJheTtkZWZhdWx0OnJldHVybiB2b2lkIGYuZXJyb3IobmV3IGUoXCJ3ZWJnbC11dGlsc1wiLGBVbmFibGUgdG8gaGFuZGxlIHR5cGUgJHt0fWApKX19ZnVuY3Rpb24gWChlKXtjb25zdCB0PXt9O2Zvcihjb25zdCBuIGluIGUpe2NvbnN0IHI9ZVtuXTtsZXQgcz0wO3Rbbl09ci5tYXAoKGU9Pntjb25zdCB0PW5ldyBsKGUubmFtZSxlLmNvdW50LGUudHlwZSxzLDAsZS5ub3JtYWxpemVkfHwhMSk7cmV0dXJuIHMrPWUuY291bnQqcShlLnR5cGUpLHR9KSksdFtuXT8uZm9yRWFjaCgoZT0+ZS5zdHJpZGU9cykpfXJldHVybiB0fWNvbnN0IEo9ZT0+e2NvbnN0IHQ9bmV3IE1hcDtmb3IoY29uc3QgbiBpbiBlKWZvcihjb25zdCByIG9mIGVbbl0pdC5zZXQoci5uYW1lLHIubG9jYXRpb24pO3JldHVybiB0fSxRPWU9Pntjb25zdCB0PXt9O2Zvcihjb25zdCBuIGluIGUpe2NvbnN0IHI9ZVtuXTt0W25dPXI/Lmxlbmd0aD9yWzBdLnN0cmlkZTowfXJldHVybiB0fSxaPW5ldyBNYXAsZWU9KGUsdCk9PntpZighWi5oYXMoZSkpe2NvbnN0IG49WCh0KSxyPXtzdHJpZGVzOlEobiksYnVmZmVyTGF5b3V0czpuLGF0dHJpYnV0ZXM6Sih0KX07Wi5zZXQoZSxyKX1yZXR1cm4gWi5nZXQoZSl9O2Z1bmN0aW9uIHRlKGUpe2Uocy5GSUxMKSxlKHMuTElORSksZShzLk1BUktFUiksZShzLlRFWFQpLGUocy5MQUJFTCl9Y29uc3QgbmU9ZT0+XCJwYXRoXCJpbiBlJiZwZShlLnBhdGgpLHJlPWU9PiEoIShcInVybFwiaW4gZSl8fCFlLnVybCl8fCEoIShcImltYWdlRGF0YVwiaW4gZSl8fCFlLmltYWdlRGF0YSksc2U9ZT0+XCJpbWFnZURhdGFcImluIGUmJmUuaW1hZ2VEYXRhJiZcImNvbnRlbnRUeXBlXCJpbiBlJiZlLmNvbnRlbnRUeXBlP2BkYXRhOiR7ZS5jb250ZW50VHlwZX07YmFzZTY0LCR7ZS5pbWFnZURhdGF9YDpcInVybFwiaW4gZT9lLnVybDpudWxsLGFlPWU9Pm51bGwhPWUmJmUuc3RhcnRzV2l0aChcImRhdGE6aW1hZ2UvZ2lmXCIpLGllPWU9PlwidXJsXCJpbiBlJiZlLnVybCYmKGUudXJsLmluY2x1ZGVzKFwiLmdpZlwiKXx8YWUoZS51cmwpKXx8XCJjb250ZW50VHlwZVwiaW4gZSYmXCJpbWFnZS9naWZcIj09PWUuY29udGVudFR5cGV8fFwiaW1hZ2VEYXRhXCJpbiBlJiZhZShlLmltYWdlRGF0YSksY2U9ZT0+bnVsbCE9ZSYmZS5zdGFydHNXaXRoKFwiZGF0YTppbWFnZS9wbmdcIiksb2U9ZT0+XCJ1cmxcImluIGUmJmUudXJsJiYoZS51cmwuaW5jbHVkZXMoXCIucG5nXCIpfHxjZShlLnVybCkpfHxcImNvbnRlbnRUeXBlXCJpbiBlJiZcImltYWdlL3BuZ1wiPT09ZS5jb250ZW50VHlwZXx8XCJpbWFnZURhdGFcImluIGUmJmNlKGUuaW1hZ2VEYXRhKSx1ZT1lPT5lLnR5cGUmJmUudHlwZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiM2RcIik7ZnVuY3Rpb24gbGUoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwibGluZVwiOntjb25zdCB0PWU7cmV0dXJuXCJDSU1Tb2xpZFN0cm9rZVwiPT09dC5jaW0udHlwZSYmIXQuZGFzaFRlbXBsYXRlfWNhc2VcImZpbGxcIjpyZXR1cm5cIkNJTVNvbGlkRmlsbFwiPT09ZS5jaW0udHlwZTtjYXNlXCJlc3JpU0ZTXCI6cmV0dXJuXCJlc3JpU0ZTU29saWRcIj09PWUuc3R5bGV8fFwiZXNyaVNGU051bGxcIj09PWUuc3R5bGU7Y2FzZVwiZXNyaVNMU1wiOnJldHVyblwiZXNyaVNMU1NvbGlkXCI9PT1lLnN0eWxlfHxcImVzcmlTTFNOdWxsXCI9PT1lLnN0eWxlO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIGZlKGUpe3N3aXRjaChcImNpbVwiaW4gZT9lLmNpbS50eXBlOmUudHlwZSl7Y2FzZVwiZXNyaVNNU1wiOmNhc2VcImVzcmlQTVNcIjpjYXNlXCJDSU1Qb2ludFN5bWJvbFwiOnJldHVybiExO2Nhc2VcIkNJTVZlY3Rvck1hcmtlclwiOmNhc2VcIkNJTUNoYXJhY3Rlck1hcmtlclwiOmNhc2VcIkNJTVBpY3R1cmVNYXJrZXJcIjpyZXR1cm4geWUoZSk7ZGVmYXVsdDpyZXR1cm4hMH19ZnVuY3Rpb24gbWUoZSl7Y29uc3QgdD1cIm1heFZWU2l6ZVwiaW4gZSYmZS5tYXhWVlNpemUsbj1cIndpZHRoXCJpbiBlJiZlLndpZHRofHxcInNpemVcImluIGUmJmUuc2l6ZXx8MDtyZXR1cm4gdHx8bn1mdW5jdGlvbiBkZShlKXtjb25zdCB0PVtdO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXQucHVzaChlLmNoYXJDb2RlQXQobikpO3JldHVybiB0fWNvbnN0IHBlPWU9PiEhZSYmKGU9ZS50cmltKCksISEoL15bbXpsaHZjc3F0YV1cXHMqWy0rLjAtOV1bXm1saHZ6Y3NxdGFdKy9pLnRlc3QoZSkmJi9bXFxkel0kL2kudGVzdChlKSYmZS5sZW5ndGg+NCkpLHllPWU9PlwiZmlsbFwiPT09ZS50eXBlJiZcIkNJTU1hcmtlclBsYWNlbWVudEluc2lkZVBvbHlnb25cIj09PWU/LmNpbT8ubWFya2VyUGxhY2VtZW50Py50eXBlO2V4cG9ydHtQIGFzIGFsbG9jYXRlVHlwZWRBcnJheUJ1ZmZlcix4IGFzIGFsbG9jYXRlVHlwZWRBcnJheUJ1ZmZlcndpdGhEYXRhLFkgYXMgY1Zib0luZm8sZGUgYXMgY2hhckNvZGVzLGogYXMgY29weU1lc2hEYXRhLEggYXMgY3JlYXRlR2VvbWV0cnlEYXRhLGVlIGFzIGNyZWF0ZVByb2dyYW1EZXNjcmlwdG9yLHRlIGFzIGZvckVhY2hHZW9tZXRyeVR5cGUscSBhcyBnZXRCeXRlcyxrIGFzIGdldENhcFR5cGUsRyBhcyBnZXRKb2luVHlwZSxiIGFzIGdldE5hbWVkQnVmZmVycyxtZSBhcyBnZXRQTVNSZXNvdXJjZVNpemUsVyBhcyBnZXRQaXhlbEFycmF5Q3RvcixLIGFzIGdldFBpeGVsQnl0ZXMsUiBhcyBnZXRTdHJpZGVzLHNlIGFzIGdldFVybCxWIGFzIGdldFZWVHlwZSx1ZSBhcyBpczNELHogYXMgaXNEZWZpbmVkLGllIGFzIGlzR0lGLGFlIGFzIGlzR0lGRGF0YVVyaSxyZSBhcyBpc0ltYWdlUmVzb3VyY2UseWUgYXMgaXNNYXJrZXJQbGFjZW1lbnRJbnNpZGVQb2x5Z29uLCQgYXMgaXNOdW1iZXIsb2UgYXMgaXNQTkcsY2UgYXMgaXNQTkdEYXRhVXJpLG5lIGFzIGlzU1ZHUmVzb3VyY2UsbGUgYXMgaXNTaW1wbGUscGUgYXMgaXNWYWxpZFNWRyxmZSBhcyBzaG91bGRSZXBlYXQsRiBhcyBzdHJpZGVUb1BhY2tpbmdGYWN0b3J9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpODg4OHRvMzIgYXMgbn1mcm9tXCIuL251bWJlci5qc1wiO2Z1bmN0aW9uIHIobixyPTAsdD0hMSl7Y29uc3Qgbz1uW3IrM107cmV0dXJuIG5bcl0qPW8sbltyKzFdKj1vLG5bcisyXSo9byx0fHwobltyKzNdKj0yNTUpLG59ZnVuY3Rpb24gdChyKXtpZighcilyZXR1cm4gMDtjb25zdHtyOnQsZzpvLGI6dSxhOml9PXI7cmV0dXJuIG4odCppLG8qaSx1KmksMjU1KmkpfWZ1bmN0aW9uIG8ocil7aWYoIXIpcmV0dXJuIDA7Y29uc3RbdCxvLHUsaV09cjtyZXR1cm4gbih0KihpLzI1NSksbyooaS8yNTUpLHUqKGkvMjU1KSxpKX1mdW5jdGlvbiB1KG4scix0PTApe2lmKG51bGw9PXIpcmV0dXJuIG5bdF09MCxuW3QrMV09MCxuW3QrMl09MCx2b2lkKG5bdCszXT0wKTtjb25zdHtyOm8sZzp1LGI6aSxhOmN9PXI7blt0XT1vKmMvMjU1LG5bdCsxXT11KmMvMjU1LG5bdCsyXT1pKmMvMjU1LG5bdCszXT1jfWV4cG9ydHtyIGFzIHByZW11bHRpcGx5QWxwaGEsdCBhcyBwcmVtdWx0aXBseUFscGhhUkdCQSxvIGFzIHByZW11bHRpcGx5QWxwaGFSR0JBQXJyYXksdSBhcyB3cml0ZUNvbG9yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7Y29uc3QgZT04LHI9ZS0yLHQ9MWUtMzAsbz02NCxhPTQyOTQ5NjcyOTUsYz01MTIsZD0yNTYsZj0yNTYvMzYwLGg9MTI4LGk9NTExLG09MTY3NzcyMTYscz0hMSxwPTEyOCxsPTgsbj0xMCx3PTI5LHg9MSxnPTE2LGo9MTYsaz1jL3AsdT04LHY9NTAseT0xMCxiPTI0LHE9OCx6PXttZXRyaWNzOnt3aWR0aDoxNSxoZWlnaHQ6MTcsbGVmdDowLHRvcDotNyxhZHZhbmNlOjE0fX0sQT0xMDI0LEI9MCxDPTAsRD0wLEU9MSxGPTIsRz0zLEg9NCxJPTUsSj02LEs9MTIsTD01LE09NixOPTUsTz02LFA9MCxRPTEsUj0yLFM9MyxUPTMsVT00LFY9MixXPTEsWD0yLFk9NCxaPSExLCQ9MS4wNSxfPWhhcyhcImZlYXR1cmVsYXllci1mb3JjZS1tYXJrZXItdGV4dC1kcmF3LW9yZGVyXCIpPy41OjMsZWU9NSxyZT02LHRlPTEuMTUsb2U9MixhZT0yLGNlPTEyOC0yKmFlLGRlPTgsZmU9NTAwLGhlPTQsaWU9MTI4LG1lPTEwLHNlPTEwMjQscGU9MixsZT0wLG5lPTEsd2U9NCx4ZT04LGdlPTE2LGplPTQsa2U9MSx1ZT00LHZlPTgseWU9MzIsYmU9NjQscWU9MTI4LHplPTQsQWU9MjtleHBvcnR7ZiBhcyBhbmdsZUZhY3RvcjI1NixRIGFzIGF0dHJpYnV0ZURhdGFBbmltYXRpb24sVCBhcyBhdHRyaWJ1dGVEYXRhRGQwLFUgYXMgYXR0cmlidXRlRGF0YURkMSxQIGFzIGF0dHJpYnV0ZURhdGFGaWx0ZXJGbGFncyxSIGFzIGF0dHJpYnV0ZURhdGFHcGdwdSxTIGFzIGF0dHJpYnV0ZURhdGFWdixBIGFzIGF0dHJpYnV0ZVN0b3JlVGV4dHVyZVNpemUseiBhcyBhdmVyYWdlR2x5cGhNb3NhaWNJdGVtLHllIGFzIGJpdHNldEZpbGxIYXNQYXR0ZXJuSGVpZ2h0UHJlY2lzaW9uRmFjdG9yLGJlIGFzIGJpdHNldEZpbGxIYXNQYXR0ZXJuV2lkdGhQcmVjaXNpb25GYWN0b3IsdmUgYXMgYml0c2V0RmlsbEhhc1VucmVzb2x2ZWRSZXBsYWNlbWVudENvbG9yLHVlIGFzIGJpdHNldEZpbGxSYW5kb21QYXR0ZXJuT2Zmc2V0LGdlIGFzIGJpdHNldEdlbmVyaWNDb25zaWRlckFscGhhT25seSxwZSBhcyBiaXRzZXRHZW5lcmljTG9ja0NvbG9yLGplIGFzIGJpdHNldExpbmVTY2FsZURhc2gsbmUgYXMgYml0c2V0TWFya2VyQWxpZ25tZW50TWFwLGxlIGFzIGJpdHNldE1hcmtlckFsaWdubWVudFNjcmVlbix3ZSBhcyBiaXRzZXRNYXJrZXJPdXRsaW5lQWxsb3dDb2xvck92ZXJyaWRlLHhlIGFzIGJpdHNldE1hcmtlclNjYWxlU3ltYm9sc1Byb3BvcnRpb25hbGx5LGtlIGFzIGJpdHNldFR5cGVGaWxsT3V0bGluZSxpZSBhcyBidWZmZXJEYXRhTWluaW11bVNpemUsaGUgYXMgYnVmZmVyRGF0YVBvb2xTaXplLG4gYXMgY2hhcnRNYXhGaWVsZHMsaiBhcyBjb2xsaXNpb25Cb3hQYWRkaW5nLHAgYXMgY29sbGlzaW9uQnVja2V0U2l6ZSxnIGFzIGNvbGxpc2lvbkVhcmx5UmVqZWN0QnVja2V0U2l6ZSx4IGFzIGNvbGxpc2lvbk1heFpvb21EZWx0YSx1IGFzIGNvbGxpc2lvblBsYWNlbWVudFBhZGRpbmcsayBhcyBjb2xsaXNpb25UaWxlQm94U2l6ZSxoIGFzIGNvbXByZXNzaW9uRmFjdG9yRm9yVTE2LHMgYXMgZGVidWdMYWJlbHMsZGUgYXMgZGlzcGxheVJlY29yZEludFBlckVsZW1lbnQsbCBhcyBkb3REZW5zaXR5TWF4RmllbGRzLFkgYXMgZWZmZWN0RmxhZzAsWiBhcyBlbmFibGVFYXJseUxhYmVsRGlzY2FyZCxvIGFzIGV4dHJ1ZGVTY2FsZSxYIGFzIGZpbHRlckZsYWcwLGIgYXMgZ2x5cGhTaXplLHkgYXMgaGV1cmlzdGljR2x5cGhzUGVyRmVhdHVyZSx2IGFzIGhldXJpc3RpY0dseXBoc1BlckxpbmUsVyBhcyBoaWdobGlnaHRGbGFnLF8gYXMgaGl0dGVzdFJhZGl1cyx3IGFzIG1hZ2ljTGFiZWxMaW5lSGVpZ2h0LFYgYXMgbWF4RmlsdGVycyxvZSBhcyBtYXhHcHVVcGxvYWRzUGVyRnJhbWUsbSBhcyBtYXhSZXByZXNlbnRhYmxlSW50LGkgYXMgbWF4U2l6ZUZvclUxNkNvbXByZXNzaW9uLG1lIGFzIG1pbk1heFpvb21QcmVjaXNpb25GYWN0b3IsdCBhcyBuYW5NYWdpY051bWJlcixmZSBhcyBwYXRjaFBpeGVsQnVmZmVyQWxsb2NTaXplLEFlIGFzIHBhdHRlcm5GaWxsUmFzdGVyaXphdGlvblNjYWxlLGEgYXMgcGljdHVyZUZpbGxDb2xvcixzZSBhcyByYW5kb21JbnNpZGVQb2x5Z29uVGV4dHVyZVNpemUsZCBhcyByYXN0ZXJUaWxlU2l6ZSxjZSBhcyBzZGZUZXh0dXJlU2l6ZSxhZSBhcyBzcHJpdGVQYWRkaW5nLHEgYXMgdGV4dFBsYWNlbWVudFBhZGRpbmcsRSBhcyB0ZXh0dXJlQmluZGluZ0F0dHJpYnV0ZURhdGEwLEYgYXMgdGV4dHVyZUJpbmRpbmdBdHRyaWJ1dGVEYXRhMSxHIGFzIHRleHR1cmVCaW5kaW5nQXR0cmlidXRlRGF0YTIsSCBhcyB0ZXh0dXJlQmluZGluZ0F0dHJpYnV0ZURhdGEzLEkgYXMgdGV4dHVyZUJpbmRpbmdBdHRyaWJ1dGVEYXRhNCxKIGFzIHRleHR1cmVCaW5kaW5nQXR0cmlidXRlRGF0YTUsRCBhcyB0ZXh0dXJlQmluZGluZ0JpdG1hcCxDIGFzIHRleHR1cmVCaW5kaW5nR2x5cGhBdGxhcyxLIGFzIHRleHR1cmVCaW5kaW5nR3BncHUsTCBhcyB0ZXh0dXJlQmluZGluZ0hpZ2hsaWdodDAsTSBhcyB0ZXh0dXJlQmluZGluZ0hpZ2hsaWdodDEsTiBhcyB0ZXh0dXJlQmluZGluZ1JlbmRlcmVyMCxPIGFzIHRleHR1cmVCaW5kaW5nUmVuZGVyZXIxLEIgYXMgdGV4dHVyZUJpbmRpbmdTcHJpdGVBdGxhcyx6ZSBhcyB0ZXh0dXJlVXBsb2FkTWFuYWdlckJ1ZGdldCxxZSBhcyB0ZXh0dXJlVXBsb2FkTWFuYWdlckNodW5rU2l6ZSwkIGFzIHRoaW5MaW5lSGFsZldpZHRoVGhyZXNob2xkLGMgYXMgdGlsZVNpemUsdGUgYXMgdnRsSGlnaFJlc0N1dG9mZixyZSBhcyB2dGxUZXh0dXJlQmluZGluZ1VuaXRHbHlwaHMsZWUgYXMgdnRsVGV4dHVyZUJpbmRpbmdVbml0U3ByaXRlcyxyIGFzIHdlYmdsTWF4SW5uZXJTdG9wcyxlIGFzIHdlYmdsTWF4U3RvcHN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbnZhciBFLFQsSSxMLEEsXyxTOyFmdW5jdGlvbihFKXtFW0UuRklMTD0wXT1cIkZJTExcIixFW0UuTElORT0xXT1cIkxJTkVcIixFW0UuTUFSS0VSPTJdPVwiTUFSS0VSXCIsRVtFLlRFWFQ9M109XCJURVhUXCIsRVtFLkxBQkVMPTRdPVwiTEFCRUxcIn0oRXx8KEU9e30pKSxmdW5jdGlvbihFKXtFW0UuTk9ORT0wXT1cIk5PTkVcIixFW0UuTUFQPTFdPVwiTUFQXCIsRVtFLkxBQkVMPTJdPVwiTEFCRUxcIixFW0UuTEFCRUxfQUxQSEE9NF09XCJMQUJFTF9BTFBIQVwiLEVbRS5ISVRURVNUPThdPVwiSElUVEVTVFwiLEVbRS5ISUdITElHSFQ9MTZdPVwiSElHSExJR0hUXCIsRVtFLkNMSVA9MzJdPVwiQ0xJUFwiLEVbRS5ERUJVRz02NF09XCJERUJVR1wiLEVbRS5OVU1fRFJBV19QSEFTRVM9OV09XCJOVU1fRFJBV19QSEFTRVNcIn0oVHx8KFQ9e30pKSxmdW5jdGlvbihFKXtFW0UuU0laRT0wXT1cIlNJWkVcIixFW0UuQ09MT1I9MV09XCJDT0xPUlwiLEVbRS5PUEFDSVRZPTJdPVwiT1BBQ0lUWVwiLEVbRS5ST1RBVElPTj0zXT1cIlJPVEFUSU9OXCJ9KEl8fChJPXt9KSksZnVuY3Rpb24oRSl7RVtFLk5PTkU9MF09XCJOT05FXCIsRVtFLk9QQUNJVFk9MV09XCJPUEFDSVRZXCIsRVtFLkNPTE9SPTJdPVwiQ09MT1JcIixFW0UuUk9UQVRJT049NF09XCJST1RBVElPTlwiLEVbRS5TSVpFX01JTk1BWF9WQUxVRT04XT1cIlNJWkVfTUlOTUFYX1ZBTFVFXCIsRVtFLlNJWkVfU0NBTEVfU1RPUFM9MTZdPVwiU0laRV9TQ0FMRV9TVE9QU1wiLEVbRS5TSVpFX0ZJRUxEX1NUT1BTPTMyXT1cIlNJWkVfRklFTERfU1RPUFNcIixFW0UuU0laRV9VTklUX1ZBTFVFPTY0XT1cIlNJWkVfVU5JVF9WQUxVRVwifShMfHwoTD17fSkpLGZ1bmN0aW9uKEUpe0VbRS5NSU5NQVhfVEFSR0VUU19PVVRMSU5FPTEyOF09XCJNSU5NQVhfVEFSR0VUU19PVVRMSU5FXCIsRVtFLlNDQUxFX1RBUkdFVFNfT1VUTElORT0yNTZdPVwiU0NBTEVfVEFSR0VUU19PVVRMSU5FXCIsRVtFLkZJRUxEX1RBUkdFVFNfT1VUTElORT01MTJdPVwiRklFTERfVEFSR0VUU19PVVRMSU5FXCIsRVtFLlVOSVRfVEFSR0VUU19PVVRMSU5FPTEwMjRdPVwiVU5JVF9UQVJHRVRTX09VVExJTkVcIn0oQXx8KEE9e30pKSxmdW5jdGlvbihFKXtFW0UuU1BSSVRFPTBdPVwiU1BSSVRFXCIsRVtFLkdMWVBIPTFdPVwiR0xZUEhcIn0oX3x8KF89e30pKSxmdW5jdGlvbihFKXtFW0UuREVGQVVMVD0wXT1cIkRFRkFVTFRcIixFW0UuU0lNUExFPTFdPVwiU0lNUExFXCIsRVtFLkRPVF9ERU5TSVRZPTJdPVwiRE9UX0RFTlNJVFlcIixFW0UuT1VUTElORV9GSUxMPTNdPVwiT1VUTElORV9GSUxMXCIsRVtFLk9VVExJTkVfRklMTF9TSU1QTEU9NF09XCJPVVRMSU5FX0ZJTExfU0lNUExFXCIsRVtFLkhFQVRNQVA9NV09XCJIRUFUTUFQXCIsRVtFLlBJRV9DSEFSVD02XT1cIlBJRV9DSEFSVFwifShTfHwoUz17fSkpO2V4cG9ydHtfIGFzIE1vc2FpY1R5cGUsSSBhcyBWVlR5cGUsVCBhcyBXR0xEcmF3UGhhc2UsRSBhcyBXR0xHZW9tZXRyeVR5cGUsUyBhcyBXR0xTeW1ib2xvZ3lUeXBlLEwgYXMgV0dMVlZGbGFnLEEgYXMgV0dMVlZUYXJnZXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG49bmV3IEZsb2F0MzJBcnJheSgxKSxyPW5ldyBVaW50MzJBcnJheShuLmJ1ZmZlcik7ZnVuY3Rpb24gdChuLHIsdCl7cmV0dXJuIE1hdGgucm91bmQoTWF0aC5tYXgoTWF0aC5taW4obix0KSxyKSl9ZnVuY3Rpb24gdShuKXtyZXR1cm4gdChuLC0xMjgsMTI3KX1mdW5jdGlvbiBlKG4pe3JldHVybiB0KG4sLTMyNzY4LDMyNzY3KX1mdW5jdGlvbiBvKG4pe3JldHVybiB0KG4sLTIxNDc0ODM2NDgsMjE0NzQ4MzY0Nyl9ZnVuY3Rpb24gZihuKXtyZXR1cm4gdChuLDAsMjU1KX1mdW5jdGlvbiBpKG4pe3JldHVybiB0KG4sMCw2NTUzNSl9ZnVuY3Rpb24gYyhuKXtyZXR1cm4gdChuLDAsNDI5NDk2NzI5NSl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gblswXT10LHJbMF19ZnVuY3Rpb24gaCh0KXtyZXR1cm4gclswXT10LG5bMF19ZnVuY3Rpb24gTShuKXtyZXR1cm5bMjU1Jm4sKDY1MjgwJm4pPj4+OCwoMTY3MTE2ODAmbik+Pj4xNiwoNDI3ODE5MDA4MCZuKT4+PjI0XX1mdW5jdGlvbiBtKG4scil7cmV0dXJuIDE1Jm58KDE1JnIpPDw0fWZ1bmN0aW9uIHcobixyKXtyZXR1cm4gNjU1MzUmbnxyPDwxNn1mdW5jdGlvbiB4KG4scix0LHUpe3JldHVybiAyNTUmbnwoMjU1JnIpPDw4fCgyNTUmdCk8PDE2fHU8PDI0fWZ1bmN0aW9uIHkobixyLHQpe3JldHVybiAyNTUmbnwoMjU1JnIpPDw4fHQ8PDE2fWZ1bmN0aW9uIEEobil7cmV0dXJuIDB8bn1leHBvcnR7ZSBhcyBpMTYsdyBhcyBpMTYxNnRvMzIsbyBhcyBpMzIsdSBhcyBpOCx5IGFzIGk4ODE2dG8zMix4IGFzIGk4ODg4dG8zMixBIGFzIG51bVRvMzIsaCBhcyB0b0Zsb2F0MzIsYSBhcyB0b1VpbnQzMixpIGFzIHUxNixjIGFzIHUzMixNIGFzIHUzMnRvNFh1OCxtIGFzIHU0dTR0bzgsZiBhcyB1OH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2VxdWFscyBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvVGlsZUluZm8uanNcIjtpbXBvcnR7bG9hZFByb2Nlc3Nvck1vZHVsZSBhcyBufWZyb21cIi4vcHJvY2Vzc29ycy5qc1wiO2ltcG9ydCBhIGZyb21cIi4vY29udHJvbGxlcnMvRmVhdHVyZUNvbnRyb2xsZXIyRC5qc1wiO2ltcG9ydCBjIGZyb21cIi4vc3VwcG9ydC9UaWxlU3RvcmUuanNcIjtpbXBvcnR7VXBkYXRlVG9rZW4gYXMgcH1mcm9tXCIuL3N1cHBvcnQvVXBkYXRlVG9rZW4uanNcIjtpbXBvcnQgaCBmcm9tXCIuLi8uLi90aWxpbmcvVGlsZUluZm9WaWV3LmpzXCI7bGV0IGQ9Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmNvbnRyb2xsZXI9bnVsbCx0aGlzLnByb2Nlc3Nvcj1udWxsLHRoaXMucmVtb3RlQ2xpZW50PW51bGwsdGhpcy50aWxlU3RvcmU9bnVsbCx0aGlzLnNlcnZpY2U9bnVsbCx0aGlzLnZpZXdTdGF0ZT1udWxsLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9wZW5kaW5nVGlsZVVwZGF0ZXM9W119aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyhbcigoKCk9PnRoaXMudXBkYXRpbmcpLChlPT57dGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwic2V0VXBkYXRpbmdcIixlKS5jYXRjaCgoZT0+e30pKX0pKV0pfWRlc3Ryb3koKXt0aGlzLnN0b3AoKSx0aGlzLmNvbnRyb2xsZXI/LmRlc3Ryb3koKSx0aGlzLnByb2Nlc3Nvcj8uZGVzdHJveSgpLHRoaXMuY29udHJvbGxlcj10aGlzLnByb2Nlc3Nvcj10aGlzLnRpbGVTdG9yZT10aGlzLnJlbW90ZUNsaWVudD1udWxsfWdldCB1cGRhdGluZygpe3JldHVybiF0aGlzLmNvbnRyb2xsZXJ8fHRoaXMuY29udHJvbGxlci51cGRhdGluZ31zdG9wKCl7dGhpcy5fcGF1c2VkPSEwLEFycmF5LmlzQXJyYXkodGhpcy5zZXJ2aWNlPy5zb3VyY2UpJiYodGhpcy5zZXJ2aWNlLnNvdXJjZS5mb3JFYWNoKChlPT5lLmNsb3NlKCkpKSx0aGlzLnNlcnZpY2Uuc291cmNlLmxlbmd0aD0wKSx0aGlzLnRpbGVTdG9yZT8udXBkYXRlVGlsZXMoe2FkZGVkOltdLHJlbW92ZWQ6dGhpcy50aWxlU3RvcmUudGlsZXMubWFwKChlPT5lLmlkKSl9KSx0aGlzLnRpbGVTdG9yZT8uZGVzdHJveSgpLHRoaXMudGlsZVN0b3JlPW51bGwsdGhpcy5fcGVuZGluZ1RpbGVVcGRhdGVzLmxlbmd0aD0wfWFzeW5jIHN0YXJ0dXAoe3NlcnZpY2U6ZSxjb25maWc6dCx0aWxlSW5mbzpyLHRpbGVzOnN9KXtpZih0aGlzLl9wYXVzZWQ9ITAsQXJyYXkuaXNBcnJheSh0aGlzLnNlcnZpY2U/LnNvdXJjZSkmJih0aGlzLnNlcnZpY2Uuc291cmNlLmZvckVhY2goKGU9PmUuY2xvc2UoKSkpLHRoaXMuc2VydmljZS5zb3VyY2UubGVuZ3RoPTApLHRoaXMuc2VydmljZT1lLCF0aGlzLnRpbGVTdG9yZXx8IWkodGhpcy50aWxlU3RvcmUudGlsZVNjaGVtZS5zcGF0aWFsUmVmZXJlbmNlLHIuc3BhdGlhbFJlZmVyZW5jZSkpe2NvbnN0IGU9bmV3IGgobC5mcm9tSlNPTihyKSk7cy5hZGRlZC5sZW5ndGg9cy5yZW1vdmVkLmxlbmd0aD0wLHRoaXMudGlsZVN0b3JlPy51cGRhdGVUaWxlcyh7YWRkZWQ6W10scmVtb3ZlZDp0aGlzLnRpbGVTdG9yZS50aWxlcy5tYXAoKGU9PmUuaWQpKX0pLHRoaXMudGlsZVN0b3JlPy5kZXN0cm95KCksdGhpcy50aWxlU3RvcmU9bmV3IGMoZSksdGhpcy5fcGVuZGluZ1RpbGVVcGRhdGVzLmxlbmd0aD0wfWZvcihhd2FpdCB0aGlzLl9jcmVhdGVQcm9jZXNzb3JBbmRDb250cm9sbGVyKHQpLGF3YWl0IHRoaXMudXBkYXRlKHtjb25maWc6dH0pLHRoaXMuY29udHJvbGxlci5yZXN1bWUoKSx0aGlzLnRpbGVTdG9yZS5jbGVhcigpLHRoaXMudGlsZVN0b3JlLnVwZGF0ZVRpbGVzKHMpLHRoaXMuX3BhdXNlZD0hMTt0aGlzLl9wZW5kaW5nVGlsZVVwZGF0ZXMubGVuZ3RoOyl0aGlzLnRpbGVTdG9yZS51cGRhdGVUaWxlcyh0aGlzLl9wZW5kaW5nVGlsZVVwZGF0ZXMucG9wKCkpfWFzeW5jIHVwZGF0ZVRpbGVzKGUpe3RoaXMuX3BhdXNlZD90aGlzLl9wZW5kaW5nVGlsZVVwZGF0ZXMucHVzaChlKTp0aGlzLnRpbGVTdG9yZT8udXBkYXRlVGlsZXMoZSl9YXN5bmMgdXBkYXRlKHtjb25maWc6ZX0pe2NvbnN0IHQ9cC5lbXB0eSgpO3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wcm9jZXNzb3IudXBkYXRlKHQsZSksdGhpcy5jb250cm9sbGVyLnVwZGF0ZSh0LGUpXSksdC50b0pTT04oKX1hc3luYyBhcHBseVVwZGF0ZShlKXtyZXR1cm4gdGhpcy5jb250cm9sbGVyLmFwcGx5VXBkYXRlKHAuY3JlYXRlKGUpKX1hc3luYyBfY3JlYXRlUHJvY2Vzc29yQW5kQ29udHJvbGxlcihlKXthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5faGFuZGxlQ29udHJvbGxlckNvbmZpZyhlKSx0aGlzLl9oYW5kbGVQcm9jZXNzb3JDb25maWcoZSldKSx0aGlzLmNvbnRyb2xsZXIucHJvY2Vzc29yPXRoaXMucHJvY2Vzc29yfWFzeW5jIF9oYW5kbGVDb250cm9sbGVyQ29uZmlnKGUpe3JldHVybiB0aGlzLl9jcmVhdGVDb250cm9sbGVyKHRoaXMuc2VydmljZSxlKX1hc3luYyBfaGFuZGxlUHJvY2Vzc29yQ29uZmlnKGUpe3JldHVybiB0aGlzLl9jcmVhdGVQcm9jZXNzb3IodGhpcy5zZXJ2aWNlLGUpfWFzeW5jIF9jcmVhdGVDb250cm9sbGVyKGUsdCl7dGhpcy5jb250cm9sbGVyJiYodGhpcy5jb250cm9sbGVyLmRlc3Ryb3koKSx0aGlzLnJlbW92ZUhhbmRsZXMoXCJjb250cm9sbGVyXCIpKTtjb25zdHt0aWxlU3RvcmU6cyxyZW1vdGVDbGllbnQ6b309dGhpcyxpPW5ldyBhKHtzZXJ2aWNlOmUsdGlsZVN0b3JlOnMscmVtb3RlQ2xpZW50Om99KSxsPXIoKCgpPT5pLmRhdGFVcGRhdGluZyksKGU9Pnt0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJzZXREYXRhVXBkYXRpbmdcIixlKS5jYXRjaCgoZT0+e30pKX0pKTtyZXR1cm4gdGhpcy5hZGRIYW5kbGVzKGwsXCJjb250cm9sbGVyXCIpLHRoaXMuY29udHJvbGxlcj1pLGl9YXN5bmMgX2NyZWF0ZVByb2Nlc3NvcihlLHQpe2NvbnN0IHI9dC5zY2hlbWEucHJvY2Vzc29yc1swXS50eXBlLHM9KGF3YWl0IG4ocikpLmRlZmF1bHQse3JlbW90ZUNsaWVudDpvLHRpbGVTdG9yZTppfT10aGlzLGw9bmV3IHMoe3NlcnZpY2U6ZSxjb25maWc6dCx0aWxlU3RvcmU6aSxyZW1vdGVDbGllbnQ6b30pO3JldHVybiB0aGlzLnByb2Nlc3NvciYmdGhpcy5wcm9jZXNzb3IuZGVzdHJveSgpLHRoaXMucHJvY2Vzc29yPWwsbH19O2UoW3MoKV0sZC5wcm90b3R5cGUsXCJjb250cm9sbGVyXCIsdm9pZCAwKSxlKFtzKCldLGQucHJvdG90eXBlLFwicHJvY2Vzc29yXCIsdm9pZCAwKSxlKFtzKCldLGQucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxlKFtzKCldLGQucHJvdG90eXBlLFwidmlld1N0YXRlXCIsdm9pZCAwKSxkPWUoW28oXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy5QaXBlbGluZVwiKV0sZCk7Y29uc3QgdT1kO2V4cG9ydHt1IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7aXNTb21lIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtpZ25vcmVBYm9ydEVycm9ycyBhcyBzLGFmdGVyIGFzIGksdGhyb3dJZkFib3J0ZWQgYXMgYSx0aHJvd0lmTm90QWJvcnRFcnJvciBhcyBvLGlzQWJvcnRFcnJvciBhcyBufWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3doZW4gYXMgdSx3YXRjaCBhcyBnLHdoZW5PbmNlIGFzIGR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBofWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7VXBkYXRpbmdIYW5kbGVzIGFzIGN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9zdXBwb3J0L1VwZGF0aW5nSGFuZGxlcy5qc1wiO2ltcG9ydHtjb252ZXJ0VG9HZW9tZXRyeSBhcyBwfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lIGFzIHl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvUXVlcnlFbmdpbmUuanNcIjtpbXBvcnQgZiBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHt1dGMgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi8uLi90aW1lL3RpbWVab25lVXRpbHMuanNcIjtpbXBvcnR7RmVhdHVyZVN0b3JlMkQgYXMgU31mcm9tXCIuLi9GZWF0dXJlU3RvcmUyRC5qc1wiO2ltcG9ydHtjcmVhdGVTb3VyY2UgYXMgX31mcm9tXCIuLi9zb3VyY2VzL2NyZWF0ZVNvdXJjZS5qc1wiO2ltcG9ydCBiIGZyb21cIi4uL3N1cHBvcnQvQXR0cmlidXRlU3RvcmUuanNcIjtpbXBvcnR7QmluU3RvcmUgYXMgdn1mcm9tXCIuLi9zdXBwb3J0L0JpblN0b3JlLmpzXCI7aW1wb3J0e0NsdXN0ZXJTdG9yZSBhcyBJfWZyb21cIi4uL3N1cHBvcnQvQ2x1c3RlclN0b3JlLmpzXCI7aW1wb3J0e0NvbXB1dGVkQXR0cmlidXRlU3RvcmFnZSBhcyBRfWZyb21cIi4uL3N1cHBvcnQvQ29tcHV0ZWRBdHRyaWJ1dGVTdG9yYWdlLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJKU09OIGFzIEN9ZnJvbVwiLi4vc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVySlNPTi5qc1wiO2ltcG9ydHtVcGRhdGVUb2tlbiBhcyBGfWZyb21cIi4uL3N1cHBvcnQvVXBkYXRlVG9rZW4uanNcIjtpbXBvcnR7UXVldWVQcm9jZXNzb3IgYXMgRX1mcm9tXCIuLi8uLi8uLi8uLi9zdXBwb3J0L1F1ZXVlUHJvY2Vzc29yLmpzXCI7Y29uc3Qgdz01ZTMseD1cInRpbGVSZW5kZXJlci5mZWF0dXJlc1ZpZXcuYXR0cmlidXRlVmlldy5pbml0aWFsaXplXCIsVD1cInRpbGVSZW5kZXJlci5mZWF0dXJlc1ZpZXcuYXR0cmlidXRlVmlldy5yZXF1ZXN0VXBkYXRlXCIsQT1cInRpbGVSZW5kZXJlci5mZWF0dXJlc1ZpZXcucmVxdWVzdFJlbmRlclwiO2Z1bmN0aW9uIGooZSl7cmV0dXJuXCJ3b3JrZXI6cG9ydC1jbG9zZWRcIj09PWUubmFtZX1mdW5jdGlvbiBrKGUpe2lmKCFuKGUpJiYhaihlKSl0aHJvdyBlfWZ1bmN0aW9uIFUoZSl7cmV0dXJuXCJmZWF0dXJlXCI9PT1lLnR5cGUmJlwic25hcHNob3RcIj09PWUubW9kZX1sZXQgUj1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX3N0b3JhZ2U9bmV3IFEsdGhpcy5fbWFya2VkSWRzQnVmSWQ9dGhpcy5fc3RvcmFnZS5jcmVhdGVCaXRzZXQoKSx0aGlzLl9sYXN0Q2xlYW51cD1wZXJmb3JtYW5jZS5ub3coKSx0aGlzLl9jbGVhbnVwTmVlZGVkPSExLHRoaXMuX2ludmFsaWRhdGVkPSExLHRoaXMuX3RpbGVUb1Jlc29sdmVyPW5ldyBNYXAsdGhpcy5fZGlkRWRpdD0hMSx0aGlzLl91cGRhdGVWZXJzaW9uPTEsdGhpcy5fdXBkYXRpbmdIYW5kbGVzPW5ldyBjLHRoaXMudGlsZVN0b3JlPW51bGwsdGhpcy5jb25maWc9bnVsbCx0aGlzLnByb2Nlc3Nvcj1udWxsLHRoaXMucmVtb3RlQ2xpZW50PW51bGwsdGhpcy5zZXJ2aWNlPW51bGx9aW5pdGlhbGl6ZSgpe3RoaXMuX2luaXRTdG9yZXMoKSx0aGlzLl9pbml0U291cmNlKCksdGhpcy5fdXBkYXRlUXVldWU9bmV3IEUoe2NvbmN1cnJlbmN5Olwic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZT8xOjQscHJvY2VzczooZSx0KT0+dGhpcy5fb25UaWxlTWVzc2FnZShlLHtzaWduYWw6dH0pfSksdGhpcy5hZGRIYW5kbGVzKFt0aGlzLnRpbGVTdG9yZS5vbihcInVwZGF0ZVwiLHRoaXMub25UaWxlVXBkYXRlLmJpbmQodGhpcykpLHUoKCgpPT4hdGhpcy51cGRhdGluZyksKCgpPT50aGlzLm9uSWRsZSgpKSldKX1faW5pdFNvdXJjZSgpe2NvbnN0IGU9dGhpcy50aWxlU3RvcmUudGlsZVNjaGVtZSx0PSgpPT50aGlzLl91cGRhdGVRdWV1ZSYmdGhpcy5fdXBkYXRlUXVldWUubGVuZ3RoPDUwLHI9KGUsdCk9Pih0aGlzLl9pbnZhbGlkYXRlZD0hMCx0aGlzLl9wYXRjaFRpbGUoZSx0KSk7dGhpcy5fc291cmNlPV8odGhpcy5zZXJ2aWNlLHsuLi50aGlzLnNlcnZpY2UsZmllbGRzSW5kZXg6dGhpcy5maWVsZHNJbmRleH0sdGhpcy5zcGF0aWFsUmVmZXJlbmNlLGUscix0LHRoaXMuZmVhdHVyZVN0b3JlKSx0aGlzLl9wcm94eUV2ZW50cygpfV9zZXRTdHJlYW1DbGllbnRQcm9wZXJ0eShlLHQpe3RoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcInNldFByb3BlcnR5XCIse3Byb3BlcnR5TmFtZTplLHZhbHVlOnR9KS5jYXRjaChrKX1fcHJveHlFdmVudHMoKXtpZihcInN0cmVhbVwiPT09dGhpcy5fc291cmNlLnR5cGUpe2NvbnN0IGU9dGhpcy5fc291cmNlLmV2ZW50cyx0PXRoaXMuX3NvdXJjZTt0aGlzLmFkZEhhbmRsZXMoW2coKCgpPT50LmNvbm5lY3Rpb25TdGF0dXMpLChlPT50aGlzLl9zZXRTdHJlYW1DbGllbnRQcm9wZXJ0eShcInBpcGVsaW5lQ29ubmVjdGlvblN0YXR1c1wiLGUpKSx7aW5pdGlhbDohMH0pLGcoKCgpPT50LmVycm9yU3RyaW5nKSwoZT0+dGhpcy5fc2V0U3RyZWFtQ2xpZW50UHJvcGVydHkoXCJwaXBlbGluZUVycm9yU3RyaW5nXCIsZSkpLHtpbml0aWFsOiEwfSksZS5vbihcImRhdGEtcmVjZWl2ZWRcIiwoZT0+dGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwiZW1pdEV2ZW50XCIse25hbWU6XCJkYXRhLXJlY2VpdmVkXCIsZXZlbnQ6e2F0dHJpYnV0ZXM6ZS5hdHRyaWJ1dGVzLGNlbnRyb2lkOmUuY2VudHJvaWQsZ2VvbWV0cnk6ZS5nZW9tZXRyeX19KS5jYXRjaChrKSkpLGUub24oXCJtZXNzYWdlLXJlY2VpdmVkXCIsKGU9PnRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcImVtaXRFdmVudFwiLHtuYW1lOlwibWVzc2FnZS1yZWNlaXZlZFwiLGV2ZW50OmV9KS5jYXRjaChrKSkpLGUub24oXCJ1cGRhdGVSYXRlXCIsKGU9PnRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcImVtaXRFdmVudFwiLHtuYW1lOlwidXBkYXRlLXJhdGVcIixldmVudDp7Li4uZX19KS5jYXRjaChrKSkpXSl9fV9pbml0QXR0cmlidXRlU3RvcmUoZSl7dGhpcy5hdHRyaWJ1dGVTdG9yZXx8KHRoaXMuYXR0cmlidXRlU3RvcmU9bmV3IGIoe3R5cGU6XCJyZW1vdGVcIixpbml0aWFsaXplOihlLHQpPT5zKHRoaXMucmVtb3RlQ2xpZW50Lmludm9rZSh4LGUse3NpZ25hbDp0fSkuY2F0Y2goaykpLHVwZGF0ZTooZSx0KT0+cyh0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoVCxlLHtzaWduYWw6dH0pLmNhdGNoKGspKSxyZW5kZXI6ZT0+cyh0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoQSx2b2lkIDAse3NpZ25hbDplfSkuY2F0Y2goaykpfSxlKSl9X2luaXRTdG9yZXMoKXtjb25zdCBlPVwic25hcHNob3RcIj09PXRoaXMuc2VydmljZS50eXBlP1wic25hcHNob3RcIjpcIm9uLWRlbWFuZFwiLHQ9e2dlb21ldHJ5SW5mbzp7Z2VvbWV0cnlUeXBlOnRoaXMuc2VydmljZS5nZW9tZXRyeVR5cGUsaGFzTTohMSxoYXNaOiExfSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZSxmaWVsZHNJbmRleDp0aGlzLmZpZWxkc0luZGV4fTt0aGlzLmZlYXR1cmVTdG9yZT1uZXcgUyh0LHRoaXMuX3N0b3JhZ2UsZSl9X2luaXRRdWVyeUVuZ2luZShlKXtjb25zdCB0PXRoaXM7dGhpcy5mZWF0dXJlUXVlcnlFbmdpbmU/LmRlc3Ryb3koKSx0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZT1uZXcgeSh7YXZhaWxhYmxlRmllbGRzOmUuYXZhaWxhYmxlRmllbGRzLGRlZmluaXRpb25FeHByZXNzaW9uOmUuc2NoZW1hLnNvdXJjZS5kZWZpbml0aW9uRXhwcmVzc2lvbj8/dm9pZCAwLGZpZWxkc0luZGV4OmYuZnJvbUpTT04odGhpcy5zZXJ2aWNlLmZpZWxkc0luZGV4KSxnZW9tZXRyeVR5cGU6dGhpcy5zZXJ2aWNlLmdlb21ldHJ5VHlwZSxvYmplY3RJZEZpZWxkOnRoaXMuc2VydmljZS5vYmplY3RJZEZpZWxkLGhhc006ITEsaGFzWjohMSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZS50b0pTT04oKSxjYWNoZVNwYXRpYWxRdWVyaWVzOiEwLGZlYXR1cmVTdG9yZTp0aGlzLmZlYXR1cmVTdG9yZSxhZ2dyZWdhdGVBZGFwdGVyOntnZXRGZWF0dXJlT2JqZWN0SWRzKGUpe2lmKG51bGw9PXQuYWdncmVnYXRlU3RvcmUpcmV0dXJuW107cmV0dXJuIHQuYWdncmVnYXRlU3RvcmUuZ2V0RmVhdHVyZURpc3BsYXlJZHNGb3JBZ2dyZWdhdGUoZSkubWFwKChlPT50LmdldE9iamVjdElkKGUpKSl9fSx0aW1lSW5mbzp0aGlzLnNlcnZpY2UudGltZUluZm99KX1faW5pdEFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lKGUsdCl7aWYodGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZT8uZGVzdHJveSgpLG51bGw9PWUpcmV0dXJuO2NvbnN0IHI9dC50YXJnZXRzLmFnZ3JlZ2F0ZS5wYXJhbXMuZmllbGRzLnNsaWNlKCk7dGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZT1uZXcgeSh7ZGVmaW5pdGlvbkV4cHJlc3Npb246dm9pZCAwLGZpZWxkc0luZGV4OmYuZnJvbUxheWVySlNPTih7ZmllbGRzOnIsZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2U6e3RpbWVab25lSUFOQTptfX0pLGdlb21ldHJ5VHlwZTplLmdlb21ldHJ5SW5mby5nZW9tZXRyeVR5cGUsb2JqZWN0SWRGaWVsZDplLm9iamVjdElkRmllbGQsaGFzTTplLmdlb21ldHJ5SW5mby5oYXNNLGhhc1o6ZS5nZW9tZXRyeUluZm8uaGFzWixzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZS50b0pTT04oKSxjYWNoZVNwYXRpYWxRdWVyaWVzOiExLGZlYXR1cmVTdG9yZTplLGFnZ3JlZ2F0ZUFkYXB0ZXI6e2dldEZlYXR1cmVPYmplY3RJZHM6ZT0+W119fSl9ZGVzdHJveSgpe3RoaXMuX3VwZGF0ZVF1ZXVlLmRlc3Ryb3koKSx0aGlzLl9zb3VyY2UuZGVzdHJveSgpLHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lPy5kZXN0cm95KCksdGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZT8uZGVzdHJveSgpLHRoaXMuYXR0cmlidXRlU3RvcmU/LmRlc3Ryb3koKTtmb3IoY29uc3QgZSBvZiB0aGlzLnRpbGVTdG9yZS50aWxlcyl0aGlzLl9zb3VyY2UudW5zdWJzY3JpYmUoZSk7Y2xlYXJJbnRlcnZhbCh0aGlzLl9jaGVja1VwZGF0aW5nKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpfWdldCBmaWVsZHNJbmRleCgpe3JldHVybiBmLmZyb21KU09OKHRoaXMuc2VydmljZS5maWVsZHNJbmRleCl9Z2V0IHNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy50aWxlU3RvcmUudGlsZVNjaGVtZS5zcGF0aWFsUmVmZXJlbmNlfWdldCBkYXRhVXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5fc291cmNlLnVwZGF0aW5nSGFuZGxlcy51cGRhdGluZ31nZXQgdXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5pc1VwZGF0aW5nKCl9aXNVcGRhdGluZygpe2NvbnN0IGU9dGhpcy5fc291cmNlLnVwZGF0aW5nSGFuZGxlcy51cGRhdGluZyx0PSF0aGlzLmF0dHJpYnV0ZVN0b3JlfHx0aGlzLmF0dHJpYnV0ZVN0b3JlLnVwZGF0aW5nSGFuZGxlcy51cGRhdGluZyxyPWV8fHR8fHRoaXMuX3VwZGF0aW5nSGFuZGxlcy51cGRhdGluZztpZihoYXMoXCJlc3JpLTJkLWxvZy11cGRhdGluZ1wiKSl7bGV0IHM9YFVwZGF0aW5nIEZlYXR1cmVDb250cm9sbGVyMkQ6ICR7cn1cXG5gO3MrPWAgIC0+IHVwZGF0aW5nU291cmNlICR7ZX1cXG5gO2Zvcihjb25zdCBlIG9mIHRoaXMuX3NvdXJjZS5zdWJzY3JpcHRpb25zKXMrPWAgICAgICR7ZS50aWxlLmlkfSAke2UuaXNEb25lfVxcbmA7cys9YCAgLT4gdXBkYXRpbmdBdHRyaWJ1dGVTdG9yZSAke3R9XFxuYCxzKz1gICAtPiB1cGRhdGluZ0hhbmRsZXMgJHt0aGlzLl91cGRhdGluZ0hhbmRsZXMudXBkYXRpbmd9IChxdWV1ZTogJHt0aGlzLl91cGRhdGVRdWV1ZS5sZW5ndGh9KVxcbmAsY29uc29sZS5sb2cocyl9cmV0dXJuIHJ9dXBkYXRlQ3VzdG9tUGFyYW1ldGVycyhlKXtcInN0cmVhbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJnRoaXMuX3NvdXJjZS51cGRhdGVDdXN0b21QYXJhbWV0ZXJzKGUpfWVuYWJsZUV2ZW50KGUpe3RoaXMuX3NvdXJjZS5lbmFibGVFdmVudChlLm5hbWUsZS52YWx1ZSl9cGF1c2UoKXt0aGlzLl91cGRhdGVRdWV1ZS5wYXVzZSgpLHRoaXMuX3VwZGF0ZVF1ZXVlLmNsZWFyKCl9cmVzdW1lKCl7dGhpcy5fdXBkYXRlUXVldWUucmVzdW1lKCl9cGF1c2VTdHJlYW0oKXtcInN0cmVhbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJnRoaXMuX3NvdXJjZS5wYXVzZVN0cmVhbSgpfXJlc3VtZVN0cmVhbSgpe1wic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmdGhpcy5fc291cmNlLnJlc3VtZVN0cmVhbSgpfXNlbmRNZXNzYWdlVG9Tb2NrZXQoZSl7XCJzdHJlYW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZ0aGlzLl9zb3VyY2Uuc2VuZE1lc3NhZ2VUb1NvY2tldChlKX1zZW5kTWVzc2FnZVRvQ2xpZW50KGUpe1wic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmdGhpcy5fc291cmNlLnNlbmRNZXNzYWdlVG9DbGllbnQoZSl9X2luaXRBZ2dyZWdhdGVTdG9yZShlKXtjb25zdCB0PWUuc2NoZW1hLnRhcmdldHM/LmFnZ3JlZ2F0ZT8udHlwZT8/bnVsbDtpZigodGhpcy5jb25maWc/LnNjaGVtYS50YXJnZXRzPy5hZ2dyZWdhdGU/LnR5cGU/P251bGwpIT09dCYmKG51bGwhPXRoaXMuYWdncmVnYXRlU3RvcmUmJih0aGlzLnJlbW92ZUhhbmRsZXMoXCJ2YWx1ZVJhbmdlc0NoYW5nZWRcIiksdGhpcy5hZ2dyZWdhdGVTdG9yZS5kZXN0cm95KCksdGhpcy5hZ2dyZWdhdGVTdG9yZT1udWxsKSx0KSl7c3dpdGNoKHQpe2Nhc2VcImNsdXN0ZXJcIjp7Y29uc3QgZT17Z2VvbWV0cnlJbmZvOntnZW9tZXRyeVR5cGU6XCJlc3JpR2VvbWV0cnlQb2ludFwiLGhhc006ITEsaGFzWjohMX0sc3BhdGlhbFJlZmVyZW5jZTp0aGlzLnNwYXRpYWxSZWZlcmVuY2UsZmllbGRzSW5kZXg6dGhpcy5maWVsZHNJbmRleCxmaWVsZHM6dGhpcy5zZXJ2aWNlLmZpZWxkc307dGhpcy5hZ2dyZWdhdGVTdG9yZT1uZXcgSShlLHRoaXMuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLl9zdG9yYWdlLHsuLi50aGlzLnNlcnZpY2UsZmllbGRzSW5kZXg6dGhpcy5maWVsZHNJbmRleH0pLHRoaXMuYWRkSGFuZGxlcyh0aGlzLmFnZ3JlZ2F0ZVN0b3JlLmV2ZW50cy5vbihcInZhbHVlUmFuZ2VzQ2hhbmdlZFwiLChlPT57dGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwiZW1pdEV2ZW50XCIse25hbWU6XCJ2YWx1ZVJhbmdlc0NoYW5nZWRcIixldmVudDp7dmFsdWVSYW5nZXM6ZS52YWx1ZVJhbmdlc319KS5jYXRjaChrKX0pKSxcInZhbHVlUmFuZ2VzQ2hhbmdlZFwiKTticmVha31jYXNlXCJiaW5cIjp7Y29uc3QgZT17Z2VvbWV0cnlJbmZvOntnZW9tZXRyeVR5cGU6XCJlc3JpR2VvbWV0cnlQb2x5Z29uXCIsaGFzTTohMSxoYXNaOiExfSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZSxmaWVsZHNJbmRleDp0aGlzLmZpZWxkc0luZGV4LGZpZWxkczp0aGlzLnNlcnZpY2UuZmllbGRzfTt0aGlzLmFnZ3JlZ2F0ZVN0b3JlPW5ldyB2KGUsdGhpcy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuX3N0b3JhZ2Usey4uLnRoaXMuc2VydmljZSxmaWVsZHNJbmRleDp0aGlzLmZpZWxkc0luZGV4fSk7YnJlYWt9fXRoaXMuYWdncmVnYXRlU3RvcmUub25UaWxlVXBkYXRlKHthZGRlZDp0aGlzLnRpbGVTdG9yZS50aWxlcyxyZW1vdmVkOltdfSl9fWFzeW5jIHVwZGF0ZShlLHQpe3RoaXMuX3VwZGF0ZVZlcnNpb24rKyxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhgRmVhdHVyZUNvbnRyb2xsZXIyRDo6dXBkYXRlOiBUb2tlbiB2ZXJzaW9uICR7dGhpcy5fdXBkYXRlVmVyc2lvbn1gKSx0aGlzLl9pbml0UXVlcnlFbmdpbmUodCksdGhpcy5faW5pdEF0dHJpYnV0ZVN0b3JlKHQpLHRoaXMucGF1c2UoKSx0aGlzLmNvbmZpZz8udGltZVpvbmUhPT10LnRpbWVab25lJiYoZS5tZXNoPSEwLGUuc3RvcmFnZS5kYXRhPSEwLGUuc3RvcmFnZS5maWx0ZXJzPSEwLGUudGFyZ2V0cy5hZ2dyZWdhdGU9ITAsZS50YXJnZXRzLmZlYXR1cmU9ITAsdGhpcy5mZWF0dXJlU3RvcmUuaW52YWxpZGF0ZSgpKSxhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5fc291cmNlLnVwZGF0ZShlLHQuc2NoZW1hLnNvdXJjZSksdGhpcy5mZWF0dXJlU3RvcmUudXBkYXRlU2NoZW1hKGUsdC5zY2hlbWEudGFyZ2V0cy5mZWF0dXJlKSx0aGlzLmF0dHJpYnV0ZVN0b3JlLnVwZGF0ZShlLHQpLHRoaXMuYXR0cmlidXRlU3RvcmUudXBkYXRlRmlsdGVycyhlLHQsdGhpcyldKSx0aGlzLl9pbml0QWdncmVnYXRlU3RvcmUodCksbnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZSYmYXdhaXQgdGhpcy5hZ2dyZWdhdGVTdG9yZS51cGRhdGVTY2hlbWEoZSx0LnNjaGVtYS50YXJnZXRzLmFnZ3JlZ2F0ZSksdGhpcy5faW5pdEFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lKHRoaXMuYWdncmVnYXRlU3RvcmUsdC5zY2hlbWEpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZlLmRlc2NyaWJlKCksdGhpcy5fc2V0KFwiY29uZmlnXCIsdCl9YXN5bmMgYXBwbHlVcGRhdGUoZSl7ZS52ZXJzaW9uPXRoaXMuX3VwZGF0ZVZlcnNpb24saGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoYEZlYXR1cmVDb250cm9sbGVyMkQ6OmFwcGx5VXBkYXRlOiBUb2tlbiB2ZXJzaW9uICR7ZS52ZXJzaW9ufWApLGUubWVzaCYmdGhpcy5jbGVhclRpbGVzKCksdGhpcy5fdXBkYXRlUXVldWUucmVzdW1lKCksYXdhaXQgdGhpcy5fc291cmNlLmFwcGx5VXBkYXRlKGUpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUNvbnRyb2xsZXIyRDo6YXBwbHlVcGRhdGUgV2FpdGluZyBmb3Igc291cmNlIHVwZGF0ZSB0byBmaW5pc2hcIiksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSxhd2FpdCBkKCgoKT0+IXRoaXMudXBkYXRpbmcpKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkZlYXR1cmVDb250cm9sbGVyMkQ6OmFwcGx5VXBkYXRlIFNvdXJjZSB1cGRhdGUgZmluc2loZWRcIiksbnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZSYmKGF3YWl0IGkoMTApLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiRmVhdHVyZUNvbnRyb2xsZXIyRDo6YXBwbHlVcGRhdGUgV2FpdGluZyBmb3IgYWdncmVnYXRlIGlkbGUgY2FsbFwiKSxhd2FpdCBkKCgoKT0+IXRoaXMudXBkYXRpbmcpKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkZlYXR1cmVDb250cm9sbGVyMkQ6OmFwcGx5VXBkYXRlIEFnZ3JlZ2F0ZSBpZGxlIGNhbGxlZFwiKSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJGZWF0dXJlQ29udHJvbGxlcjJEOjphcHBseVVwZGF0ZSBVcGRhdGUgZmluaXNoZWRcIil9YXN5bmMgb25FZGl0cyh7ZWRpdHM6ZX0pe2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXBwbHlpbmcgRWRpdDpcIixlKSx0aGlzLl9kaWRFZGl0PSEwO3RyeXtjb25zdCB0PWUucmVtb3ZlZC5tYXAoKGU9PmUub2JqZWN0SWQmJi0xIT09ZS5vYmplY3RJZD9lLm9iamVjdElkOnRoaXMuX2xvb2t1cE9iamVjdElkQnlHbG9iYWxJZChlLmdsb2JhbElkKSkpLHI9ZS5hZGRPck1vZGlmaWVkLm1hcCgoKHtvYmplY3RJZDplfSk9PmUpKTt0aGlzLmZlYXR1cmVTdG9yZS5pbnZhbGlkYXRlKCksYXdhaXQgdGhpcy5fc291cmNlLmVkaXQocix0KSx0aGlzLmNsZWFyVGlsZXMoKSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpLG51bGwhPXRoaXMuYWdncmVnYXRlU3RvcmUmJnRoaXMuYWdncmVnYXRlU3RvcmUuY2xlYXIoKSxhd2FpdCB0aGlzLl9zb3VyY2UucmVzZW5kKCksYXdhaXQgZCgoKCk9PiF0aGlzLnVwZGF0aW5nKSl9Y2F0Y2godCl7fX1hc3luYyByZWZyZXNoKGUpe2lmKCFlLmRhdGFDaGFuZ2VkKXtjb25zdCBlPUYuZW1wdHkoKTtyZXR1cm4gZS5zdG9yYWdlLmZpbHRlcnM9ITAsdGhpcy5hcHBseVVwZGF0ZShlKX10aGlzLmZlYXR1cmVTdG9yZS5pbnZhbGlkYXRlKCksdGhpcy5jbGVhclRpbGVzKCksdGhpcy5fc291cmNlLnJlZnJlc2godGhpcy5fdXBkYXRlVmVyc2lvbixlKSx0aGlzLl9jbGVhbnVwTmVlZGVkPSEwLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksYXdhaXQgZCgoKCk9PiF0aGlzLnVwZGF0aW5nKSl9Y2xlYXJUaWxlcygpe2Zvcihjb25zdCBlIG9mIHRoaXMudGlsZVN0b3JlLnRpbGVzKXRoaXMucHJvY2Vzc29yLm9uVGlsZUNsZWFyKGUsITEpfW9uVGlsZVVwZGF0ZShlKXtudWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlJiZ0aGlzLmFnZ3JlZ2F0ZVN0b3JlLm9uVGlsZVVwZGF0ZShlKTtmb3IoY29uc3QgdCBvZiBlLmFkZGVkKXtjb25zdCBlPXRoaXMuX3NvdXJjZS5zdWJzY3JpYmUodCx0aGlzLl91cGRhdGVWZXJzaW9uKTtcInN0cmVhbVwiIT09dGhpcy5fc291cmNlLnR5cGUmJnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKGUuZG9uZSksdGhpcy5fbGV2ZWw9dC5sZXZlbH1mb3IoY29uc3QgdCBvZiBlLnJlbW92ZWQpdGhpcy5fc291cmNlLnVuc3Vic2NyaWJlKHQpLHRoaXMuX2NsZWFudXBOZWVkZWQ9ITAsdGhpcy5fdGlsZVRvUmVzb2x2ZXIuaGFzKHQuaWQpJiYodGhpcy5fdGlsZVRvUmVzb2x2ZXIuZ2V0KHQuaWQpLnJlc29sdmUoKSx0aGlzLl90aWxlVG9SZXNvbHZlci5kZWxldGUodC5pZCkpO3RoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIil9YXN5bmMgb25JZGxlKCl7dGhpcy5faW52YWxpZGF0ZWQmJih0aGlzLl9pbnZhbGlkYXRlZD0hMSxudWxsPT10aGlzLmFnZ3JlZ2F0ZVN0b3JlJiZcImhlYXRtYXBcIiE9PXRoaXMucHJvY2Vzc29yLnR5cGV8fGF3YWl0IHRoaXMuX3JlcHVzaEN1cnJlbnRMZXZlbFRpbGVzKCkpLHRoaXMuX21hcmtBbmRTd2VlcCgpfWFzeW5jIHF1ZXJ5U3VtbWFyeVN0YXRpc3RpY3Moe3F1ZXJ5OmUscGFyYW1zOnR9KXtyZXR1cm4gdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yU3VtbWFyeVN0YXRpc3RpY3MoZSx0KX1hc3luYyBxdWVyeUFnZ3JlZ2F0ZVN1bW1hcnlTdGF0aXN0aWNzKHtxdWVyeTplLHBhcmFtczp0fSl7cmV0dXJuIHRoaXMuYWdncmVnYXRlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yU3VtbWFyeVN0YXRpc3RpY3ModGhpcy5fbm9ybWFsaXplQWdncmVnYXRlUXVlcnkoZSksdCl9YXN5bmMgcXVlcnlVbmlxdWVWYWx1ZXMoe3F1ZXJ5OmUscGFyYW1zOnR9KXtyZXR1cm4gdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yVW5pcXVlVmFsdWVzKGUsdCl9YXN5bmMgcXVlcnlBZ2dyZWdhdGVVbmlxdWVWYWx1ZXMoe3F1ZXJ5OmUscGFyYW1zOnR9KXtyZXR1cm4gdGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JVbmlxdWVWYWx1ZXModGhpcy5fbm9ybWFsaXplQWdncmVnYXRlUXVlcnkoZSksdCl9YXN5bmMgcXVlcnlDbGFzc0JyZWFrcyh7cXVlcnk6ZSxwYXJhbXM6dH0pe3JldHVybiB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JDbGFzc0JyZWFrcyhlLHQpfWFzeW5jIHF1ZXJ5QWdncmVnYXRlQ2xhc3NCcmVha3Moe3F1ZXJ5OmUscGFyYW1zOnR9KXtyZXR1cm4gdGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JDbGFzc0JyZWFrcyh0aGlzLl9ub3JtYWxpemVBZ2dyZWdhdGVRdWVyeShlKSx0KX1hc3luYyBxdWVyeUhpc3RvZ3JhbSh7cXVlcnk6ZSxwYXJhbXM6dH0pe3JldHVybiB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JIaXN0b2dyYW0oZSx0KX1hc3luYyBxdWVyeUFnZ3JlZ2F0ZUhpc3RvZ3JhbSh7cXVlcnk6ZSxwYXJhbXM6dH0pe3JldHVybiB0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckhpc3RvZ3JhbSh0aGlzLl9ub3JtYWxpemVBZ2dyZWdhdGVRdWVyeShlKSx0KX1xdWVyeUV4dGVudChlKXtyZXR1cm4gdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yRXh0ZW50KGUpfXF1ZXJ5QWdncmVnYXRlcyhlKXtyZXR1cm4gdGhpcy5hZ2dyZWdhdGVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnkodGhpcy5fbm9ybWFsaXplQWdncmVnYXRlUXVlcnkoZSkpfXF1ZXJ5QWdncmVnYXRlQ291bnQoZSl7cmV0dXJuIHRoaXMuYWdncmVnYXRlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQodGhpcy5fbm9ybWFsaXplQWdncmVnYXRlUXVlcnkoZSkpfXF1ZXJ5QWdncmVnYXRlSWRzKGUpe3JldHVybiB0aGlzLmFnZ3JlZ2F0ZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvcklkcyh0aGlzLl9ub3JtYWxpemVBZ2dyZWdhdGVRdWVyeShlKSl9cXVlcnlGZWF0dXJlcyhlKXtyZXR1cm4gdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5KGUpfWFzeW5jIHF1ZXJ5VmlzaWJsZUZlYXR1cmVzKGUpe2NvbnN0IHQ9YXdhaXQgdGhpcy5mZWF0dXJlUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5KGUpLHI9dC5vYmplY3RJZEZpZWxkTmFtZTtyZXR1cm4gdC5mZWF0dXJlcz10LmZlYXR1cmVzLmZpbHRlcigoZT0+e2NvbnN0IHQ9ZS5hdHRyaWJ1dGVzW3JdLHM9dGhpcy5nZXREaXNwbGF5SWQodCk7cmV0dXJuIG51bGwhPXMmJnRoaXMuYXR0cmlidXRlU3RvcmUuaXNWaXNpYmxlKHMpfSkpLHR9cXVlcnlGZWF0dXJlQ291bnQoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckNvdW50KGUpfXF1ZXJ5TGF0ZXN0T2JzZXJ2YXRpb25zKGUpe3JldHVybiB0aGlzLmZlYXR1cmVRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JMYXRlc3RPYnNlcnZhdGlvbnMoZSl9cXVlcnlPYmplY3RJZHMoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvcklkcyhlKX1hc3luYyBxdWVyeVN0YXRpc3RpY3MoKXtyZXR1cm4gdGhpcy5mZWF0dXJlU3RvcmUuc3RvcmVTdGF0aXN0aWNzfWdldE9iamVjdElkKGUpe3JldHVybiB0aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBPYmplY3RJZChlLHRoaXMuX3N0b3JhZ2UpfWdldERpc3BsYXlJZChlKXtpZihudWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlKXtjb25zdCB0PXRoaXMuYWdncmVnYXRlU3RvcmUuZ2V0RGlzcGxheUlkKGUpO2lmKG51bGw9PXQpe2NvbnN0IHQ9dGhpcy5mZWF0dXJlU3RvcmUubG9va3VwRGlzcGxheUlkKGUpO3JldHVybiB0aGlzLmFnZ3JlZ2F0ZVN0b3JlLmdldERpc3BsYXlJZEZvclJlZmVyZW5jZUlkKHQpfXJldHVybiB0fXJldHVybiB0aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBEaXNwbGF5SWQoZSl9Z2V0RmVhdHVyZXMoZSl7Y29uc3QgdD1bXSxyPVtdO2Zvcihjb25zdCBzIG9mIGUpe2NvbnN0IGU9bnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZT90aGlzLmdldEFnZ3JlZ2F0ZShzKTpudWxsO2lmKG51bGwhPWUpaWYobnVsbCE9ZS5hdHRyaWJ1dGVzLnJlZmVyZW5jZUlkKXtjb25zdCByPXRoaXMuZ2V0RmVhdHVyZShlLmF0dHJpYnV0ZXMucmVmZXJlbmNlSWQpO251bGwhPXImJnQucHVzaChyKX1lbHNlIHIucHVzaChlKTtlbHNle2NvbnN0IGU9dGhpcy5nZXRGZWF0dXJlKHMpO251bGwhPWUmJnQucHVzaChlKX19cmV0dXJue2ZlYXR1cmVzOnQsYWdncmVnYXRlczpyfX1nZXRGZWF0dXJlKGUpe2NvbnN0IHQ9dGhpcy5mZWF0dXJlU3RvcmUubG9va3VwRmVhdHVyZUJ5RGlzcGxheUlkKGUsdGhpcy5fc3RvcmFnZSk7aWYobnVsbD09dClyZXR1cm4gbnVsbDtjb25zdCByPXQucmVhZEh5ZHJhdGVkR2VvbWV0cnkoKSxzPXAocix0Lmdlb21ldHJ5VHlwZSx0Lmhhc1osdC5oYXNNKTtyZXR1cm57YXR0cmlidXRlczp0LnJlYWRBdHRyaWJ1dGVzKCksZ2VvbWV0cnk6c319Z2V0QWdncmVnYXRlKGUpe3JldHVybiBudWxsPT10aGlzLmFnZ3JlZ2F0ZVN0b3JlP251bGw6dGhpcy5hZ2dyZWdhdGVTdG9yZS5nZXRBZ2dyZWdhdGUoZSl9Z2V0QWdncmVnYXRlcygpe3JldHVybiBudWxsPT10aGlzLmFnZ3JlZ2F0ZVN0b3JlP1tdOnRoaXMuYWdncmVnYXRlU3RvcmUuZ2V0QWdncmVnYXRlcygpfWFzeW5jIHNldEhpZ2hsaWdodChlKXtjb25zdCB0PWUubWFwKChlPT50aGlzLmdldERpc3BsYXlJZChlKSkpLmZpbHRlcihyKTtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVTdG9yZS5zZXRIaWdobGlnaHQoZSx0KX1fbm9ybWFsaXplQWdncmVnYXRlUXVlcnkoZSl7Y29uc3QgdD1lLm9iamVjdElkcz8/W107Zm9yKGNvbnN0IHIgb2YgZS5hZ2dyZWdhdGVJZHM/P1tdKXQucHVzaChyKTtyZXR1cm4gZS5vYmplY3RJZHM9dCxlLmFnZ3JlZ2F0ZUlkcz1bXSxlfV9sb29rdXBPYmplY3RJZEJ5R2xvYmFsSWQoZSl7Y29uc3QgdD10aGlzLnNlcnZpY2UuZ2xvYmFsSWRGaWVsZDtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIGdsb2JhbElkRmllbGQgdG8gYmUgZGVmaW5lZFwiKTtsZXQgcj1udWxsO2lmKHRoaXMuZmVhdHVyZVN0b3JlLmZvckVhY2goKHM9PntlPT09cy5yZWFkQXR0cmlidXRlKHQpJiYocj1zLmdldE9iamVjdElkKCkpfSkpLG51bGw9PXIpdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCB0byBmaW5kIGEgZmVhdHVyZSB3aXRoIGdsb2JhbElkICR7ZX1gKTtyZXR1cm4gcn1hc3luYyBfcmVwdXNoQ3VycmVudExldmVsVGlsZXMoKXtjb25zdCBlPXRoaXMudGlsZVN0b3JlLnRpbGVzLmZpbHRlcigoZT0+ZS5sZXZlbD09PXRoaXMuX2xldmVsKSk7ZS5tYXAoKGFzeW5jIGU9PnRoaXMuX3BhdGNoVGlsZSh7dHlwZTpcImFwcGVuZFwiLGlkOmUua2V5LmlkLGNsZWFyOiEwLGFkZE9yVXBkYXRlOm51bGwsZW5kOiExfSkpKTtjb25zdCB0PWUubWFwKChhc3luYyBlPT50aGlzLl9wYXRjaFRpbGUoe3R5cGU6XCJhcHBlbmRcIixpZDplLmtleS5pZCxhZGRPclVwZGF0ZTpDLmZyb21PcHRpbWl6ZWRGZWF0dXJlcyhbXSx7Li4udGhpcy5zZXJ2aWNlLGZpZWxkc0luZGV4OnRoaXMuZmllbGRzSW5kZXh9KSxyZW1vdmU6W10sZW5kOiEwLGlzUmVwdXNoOiEwLHN0YXR1czpGLmVtcHR5KCl9KSkpO2F3YWl0IFByb21pc2UuYWxsKHQpfV9tYXliZUZvcmNlQ2xlYW51cCgpe3BlcmZvcm1hbmNlLm5vdygpLXRoaXMuX2xhc3RDbGVhbnVwPncmJnRoaXMuX21hcmtBbmRTd2VlcCgpfV9wYXRjaFRpbGUoZSx0KXtjb25zdCByPXRoaXMuX3VwZGF0ZVF1ZXVlLnB1c2goZSx0KS5jYXRjaCgoZT0+e30pKTtyZXR1cm4gdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2Uocil9YXN5bmMgX29uVGlsZU1lc3NhZ2UoZSx0KXtpZihhKHQpLGhhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpKXtjb25zdCB0PWUuYWRkT3JVcGRhdGU/Lmhhc0ZlYXR1cmVzO2NvbnNvbGUuZGVidWcoZS5pZCxgRmVhdHVyZUNvbnRyb2xsZXI6b25UaWxlTWVzc2FnZTogW2NsZWFyOiR7ZS5jbGVhcn0sIGVuZDoke2UuZW5kfSwgZmVhdHVyZXM6ICR7dH1dYCl9Y29uc3Qgcj10aGlzLnRpbGVTdG9yZS5nZXQoZS5pZCk7aWYoIXIpcmV0dXJuO2lmKGUuY2xlYXIpcmV0dXJuIHRoaXMucHJvY2Vzc29yLm9uVGlsZUNsZWFyKHIsZS5lbmQpO2NvbnN0IHM9ZS5zdGF0dXM7dGhpcy5fY2xlYW51cE5lZWRlZD0hMDtjb25zdCBpPVtdO2Zvcihjb25zdCBhIG9mIGUucmVtb3ZlPz9bXSl7Y29uc3QgZT10aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBEaXNwbGF5SWQoYSk7ZSYmaS5wdXNoKGUpfWUucmVtb3ZlPWk7dHJ5e2lmKG51bGw9PWUuYWRkT3JVcGRhdGUpcmV0dXJuIHZvaWQgdGhpcy5wcm9jZXNzb3Iub25UaWxlTWVzc2FnZShyLHsuLi5lLGFkZE9yVXBkYXRlOm51bGx9LG51bGwhPXRoaXMuYWdncmVnYXRlU3RvcmUsdCkuY2F0Y2gobyk7aWYoZS5hZGRPclVwZGF0ZS5zZXRBcmNhZGVTcGF0aWFsUmVmZXJlbmNlKHRoaXMuc3BhdGlhbFJlZmVyZW5jZSksdGhpcy5mZWF0dXJlU3RvcmUuaGFzSW5zdGFuY2UoZS5hZGRPclVwZGF0ZS5pbnN0YW5jZSkmJnMudGFyZ2V0cy5mZWF0dXJlfHwocy50YXJnZXRzLmZlYXR1cmU9ITAsdGhpcy5mZWF0dXJlU3RvcmUub25UaWxlRGF0YShyLGUsdGhpcy5jb25maWc/LnRpbWVab25lKSksIXMuc3RvcmFnZS5kYXRhfHwhcy5zdG9yYWdlLmZpbHRlcnMpe3Muc3RvcmFnZS5kYXRhPSEwLHMuc3RvcmFnZS5maWx0ZXJzPSEwLHRoaXMuYXR0cmlidXRlU3RvcmUub25UaWxlRGF0YShyLGUpO1wic3RyZWFtXCI9PT10aGlzLl9zb3VyY2UudHlwZXx8dGhpcy5fZGlkRWRpdD8oYXdhaXQgdGhpcy5hdHRyaWJ1dGVTdG9yZS5zZW5kVXBkYXRlcygpLGEodCkpOnRoaXMuYXR0cmlidXRlU3RvcmUuc2VuZFVwZGF0ZXMoKX1pZihudWxsIT10aGlzLmFnZ3JlZ2F0ZVN0b3JlJiYhcy50YXJnZXRzLmFnZ3JlZ2F0ZSl7cy50YXJnZXRzLmFnZ3JlZ2F0ZT0hMDtjb25zdCB0PVUodGhpcy5fc291cmNlKSYmdGhpcy5fc291cmNlLmxvYWRpbmcsaT0hVSh0aGlzLl9zb3VyY2UpfHx0fHxlLmVuZDtpZih0aGlzLmFnZ3JlZ2F0ZVN0b3JlLm9uVGlsZURhdGEocixlLHRoaXMuX3N0b3JhZ2UsdGhpcy5hdHRyaWJ1dGVTdG9yZSx0aGlzLmNvbmZpZz8udGltZVpvbmUsaSksIWkpcmV0dXJuO3MubWVzaHx8KHRoaXMuYXR0cmlidXRlU3RvcmUub25UaWxlRGF0YShyLGUpLGF3YWl0IHRoaXMuYXR0cmlidXRlU3RvcmUuc2VuZFVwZGF0ZXMoKSl9aWYoIXMubWVzaCl7cy5tZXNoPSEwO2NvbnN0IGk9bnVsbCE9dGhpcy5hZ2dyZWdhdGVTdG9yZSYmXCJjbHVzdGVyXCI9PT10aGlzLmFnZ3JlZ2F0ZVN0b3JlLnR5cGU7YXdhaXQgdGhpcy5wcm9jZXNzb3Iub25UaWxlTWVzc2FnZShyLGUsaSx0KSxhKHQpfXRoaXMuX21heWJlRm9yY2VDbGVhbnVwKCl9Y2F0Y2gobil7byhuKX19X21hcmsoZSx0LHIpe2NvbnN0IHM9KDQyOTQ5MDE3NjAmdGhpcy5fc3RvcmFnZS5nZXRJbnN0YW5jZUlkKGUpKT4+PjE2O2UmJih0LmFkZChzKSxyLnNldChlKSl9X21hcmtBbmRTd2VlcCgpe3RoaXMuX2xhc3RDbGVhbnVwPXBlcmZvcm1hbmNlLm5vdygpO2lmKCEoIShcImZlYXR1cmVcIj09PXRoaXMuX3NvdXJjZS50eXBlJiZcInNuYXBzaG90XCI9PT10aGlzLl9zb3VyY2UubW9kZSkmJihcInN0cmVhbVwiPT09dGhpcy5fc291cmNlLnR5cGV8fHRoaXMuX2NsZWFudXBOZWVkZWQpKSlyZXR1cm47dGhpcy5fY2xlYW51cE5lZWRlZD0hMTtjb25zdCBlPXRoaXMuX3N0b3JhZ2UuZ2V0Qml0c2V0KHRoaXMuX21hcmtlZElkc0J1ZklkKSx0PW5ldyBTZXQ7ZS5jbGVhcigpO2Zvcihjb25zdCByIG9mIHRoaXMudGlsZVN0b3JlLnRpbGVzKWZvcihjb25zdCBzIG9mIHRoaXMuX3NvdXJjZS5yZWFkZXJzKHIuaWQpKXtjb25zdCByPXMuZ2V0Q3Vyc29yKCk7Zm9yKDtyLm5leHQoKTspe2xldCBzPXIuZ2V0RGlzcGxheUlkKCk7aWYoIXMpe2NvbnN0IGU9ci5nZXRPYmplY3RJZCgpO3M9dGhpcy5mZWF0dXJlU3RvcmUubG9va3VwRGlzcGxheUlkKGUpfXRoaXMuX21hcmsocyx0LGUpfX1cInN5bWJvbFwiPT09dGhpcy5wcm9jZXNzb3IudHlwZSYmdGhpcy5wcm9jZXNzb3IuZm9yRWFjaEJ1ZmZlcklkKChyPT57dGhpcy5fbWFyayhyLHQsZSl9KSksdGhpcy5fdXBkYXRlUXVldWUuZm9yRWFjaCgocj0+e2Zvcihjb25zdCBzIG9mIHIucmVtb3ZlPz9bXSl7Y29uc3Qgcj10aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBEaXNwbGF5SWQocyk7dGhpcy5fbWFyayhyLHQsZSl9fSkpLG51bGwhPXRoaXMuYWdncmVnYXRlU3RvcmUmJih0aGlzLmFnZ3JlZ2F0ZVN0b3JlLnN3ZWVwRmVhdHVyZXMoZSx0aGlzLmZlYXR1cmVTdG9yZSksXCJzd2VlcEFnZ3JlZ2F0ZXNcImluIHRoaXMuYWdncmVnYXRlU3RvcmUmJnRoaXMuYWdncmVnYXRlU3RvcmUuc3dlZXBBZ2dyZWdhdGVzKHRoaXMuX3N0b3JhZ2UsdGhpcy5hdHRyaWJ1dGVTdG9yZSx0aGlzLl9sZXZlbCkpLHRoaXMuZmVhdHVyZVN0b3JlLnN3ZWVwRmVhdHVyZXMoZSx0aGlzLl9zdG9yYWdlLHRoaXMuYXR0cmlidXRlU3RvcmUpLHRoaXMuZmVhdHVyZVN0b3JlLnN3ZWVwRmVhdHVyZVNldHModCl9fTtlKFtsKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFIucHJvdG90eXBlLFwidGlsZVN0b3JlXCIsdm9pZCAwKSxlKFtsKCldLFIucHJvdG90eXBlLFwiY29uZmlnXCIsdm9pZCAwKSxlKFtsKHtyZWFkT25seTohMH0pXSxSLnByb3RvdHlwZSxcImZpZWxkc0luZGV4XCIsbnVsbCksZShbbCgpXSxSLnByb3RvdHlwZSxcInByb2Nlc3NvclwiLHZvaWQgMCksZShbbCh7Y29uc3RydWN0T25seTohMH0pXSxSLnByb3RvdHlwZSxcInJlbW90ZUNsaWVudFwiLHZvaWQgMCksZShbbCh7Y29uc3RydWN0T25seTohMH0pXSxSLnByb3RvdHlwZSxcInNlcnZpY2VcIix2b2lkIDApLGUoW2woKV0sUi5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsbnVsbCksZShbbCgpXSxSLnByb3RvdHlwZSxcImRhdGFVcGRhdGluZ1wiLG51bGwpLGUoW2woKV0sUi5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLFI9ZShbaChcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLmNvbnRyb2xsZXJzLkZlYXR1cmVDb250cm9sbGVyMkRcIildLFIpO2NvbnN0IHE9UjtleHBvcnR7cSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vY29yZS93b3JrZXJzL0Nvbm5lY3Rpb24uanNcIjtpbXBvcnR7dG9RdWFudGl6YXRpb25UcmFuc2Zvcm0gYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3F1YW50aXphdGlvblV0aWxzLmpzXCI7aW1wb3J0e2NvbnZlcnRGcm9tRmVhdHVyZVNldCBhcyByLHF1YW50aXplT3B0aW1pemVkRmVhdHVyZVNldCBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e3F1ZXJ5T3B0aW1pemVkRmVhdHVyZVNldCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uLy4uL2xheWVycy9vZ2Mvb2djRmVhdHVyZVV0aWxzLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmllbGRzSW5kZXguanNcIjtpbXBvcnR7ZXhlY3V0ZVF1ZXJ5UEJGQnVmZmVyIGFzIG8sZXhlY3V0ZVF1ZXJ5IGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vLi4vcmVzdC9xdWVyeS9vcGVyYXRpb25zL3F1ZXJ5LmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJKU09OIGFzIGN9ZnJvbVwiLi4vLi4vc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVySlNPTi5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVyUEJGIGFzIHV9ZnJvbVwiLi4vLi4vc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVyUEJGLmpzXCI7Y2xhc3MgbXtjb25zdHJ1Y3RvcihlKXt0aGlzLnNlcnZpY2U9ZSx0aGlzLl9hcmNhZGVMYXllclNjaGVtYT17Li4uZSxmaWVsZHNJbmRleDppLmZyb21KU09OKGUuZmllbGRzSW5kZXgpfX1kZXN0cm95KCl7fX1mdW5jdGlvbiBwKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUuc291cmNlKX1mdW5jdGlvbiBsKGUpe3JldHVyblwib2djLXNvdXJjZVwiPT09ZT8udHlwZX1mdW5jdGlvbiB5KGUpe2NvbnN0e2NhcGFiaWxpdGllczp0fT1lO3JldHVybiBsKGUuc291cmNlKT9uZXcgRihlKTpwKGUpP25ldyBoKGUpOnQucXVlcnkuc3VwcG9ydHNGb3JtYXRQQkYmJmhhcyhcImZlYXR1cmVsYXllci1wYmZcIik/bmV3IGQoZSk6bmV3IFMoZSl9YXN5bmMgZnVuY3Rpb24gZih0KXtjb25zdCByPW5ldyBlO3JldHVybiBhd2FpdCByLm9wZW4odCx7fSkscn1jbGFzcyBoIGV4dGVuZHMgbXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9wb3J0c09wZW49ZihlLnNvdXJjZSkudGhlbigoZT0+dGhpcy5jbGllbnQ9ZSkpfWRlc3Ryb3koKXt0aGlzLmNsaWVudC5jbG9zZSgpLHRoaXMuY2xpZW50PW51bGx9YXN5bmMgZXhlY3V0ZVF1ZXJ5KGUsdCl7YXdhaXQgdGhpcy5fcG9ydHNPcGVuO2NvbnN0IHI9YXdhaXQgdGhpcy5jbGllbnQuaW52b2tlKFwicXVlcnlGZWF0dXJlc1wiLGUudG9KU09OKCksdCk7cmV0dXJuIGMuZnJvbUZlYXR1cmVTZXQocix0aGlzLl9hcmNhZGVMYXllclNjaGVtYSl9fWNsYXNzIGQgZXh0ZW5kcyBte2FzeW5jIGV4ZWN1dGVRdWVyeShlLHQpe2NvbnN0e2RhdGE6cn09YXdhaXQgbyh0aGlzLnNlcnZpY2Uuc291cmNlLGUsdCksYT0hZS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzO3JldHVybiB1LmZyb21CdWZmZXIocix0aGlzLl9hcmNhZGVMYXllclNjaGVtYSxhKX19Y2xhc3MgUyBleHRlbmRzIG17YXN5bmMgZXhlY3V0ZVF1ZXJ5KGUscyl7Y29uc3R7c291cmNlOmksY2FwYWJpbGl0aWVzOm8sc3BhdGlhbFJlZmVyZW5jZTp1LG9iamVjdElkRmllbGQ6bSxnZW9tZXRyeVR5cGU6cH09dGhpcy5zZXJ2aWNlO2lmKG51bGwhPWUucXVhbnRpemF0aW9uUGFyYW1ldGVycyYmIW8ucXVlcnkuc3VwcG9ydHNRdWFudGl6YXRpb24pe2NvbnN0IG89ZS5jbG9uZSgpLHA9dChvLnF1YW50aXphdGlvblBhcmFtZXRlcnMpO28ucXVhbnRpemF0aW9uUGFyYW1ldGVycz1udWxsO2NvbnN0e2RhdGE6bH09YXdhaXQgbihpLG8sdSxzKSx5PXIobCxtKTtyZXR1cm4gYShwLHkpLGMuZnJvbU9wdGltaXplZEZlYXR1cmVTZXQoeSx0aGlzLl9hcmNhZGVMYXllclNjaGVtYSl9Y29uc3R7ZGF0YTpsfT1hd2FpdCBuKGksZSx0aGlzLnNlcnZpY2Uuc3BhdGlhbFJlZmVyZW5jZSxzKTtyZXR1cm5cImVzcmlHZW9tZXRyeVBvaW50XCI9PT1wJiYobC5mZWF0dXJlcz1sLmZlYXR1cmVzPy5maWx0ZXIoKGU9PntpZihudWxsIT1lLmdlb21ldHJ5KXtjb25zdCB0PWUuZ2VvbWV0cnk7cmV0dXJuIE51bWJlci5pc0Zpbml0ZSh0LngpJiZOdW1iZXIuaXNGaW5pdGUodC55KX1yZXR1cm4hMH0pKSksYy5mcm9tRmVhdHVyZVNldChsLHRoaXMuX2FyY2FkZUxheWVyU2NoZW1hKX19Y2xhc3MgRiBleHRlbmRzIG17YXN5bmMgZXhlY3V0ZVF1ZXJ5KGUscil7Y29uc3R7Y2FwYWJpbGl0aWVzOml9PXRoaXMuc2VydmljZTtpZihlLnF1YW50aXphdGlvblBhcmFtZXRlcnMmJiFpLnF1ZXJ5LnN1cHBvcnRzUXVhbnRpemF0aW9uKXtjb25zdCBpPWUuY2xvbmUoKSxvPXQoaS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzKTtpLnF1YW50aXphdGlvblBhcmFtZXRlcnM9bnVsbDtjb25zdCBuPWF3YWl0IHModGhpcy5zZXJ2aWNlLnNvdXJjZSxlLHIpO3JldHVybiBhKG8sbiksYy5mcm9tT3B0aW1pemVkRmVhdHVyZVNldChuLHRoaXMuX2FyY2FkZUxheWVyU2NoZW1hKX1jb25zdCBvPWF3YWl0IHModGhpcy5zZXJ2aWNlLnNvdXJjZSxlLHIpO3JldHVybiBjLmZyb21PcHRpbWl6ZWRGZWF0dXJlU2V0KG8sdGhpcy5fYXJjYWRlTGF5ZXJTY2hlbWEpfX1leHBvcnR7bSBhcyBTb3VyY2VBZGFwdGVyLHkgYXMgY3JlYXRlU291cmNlQWRhcHRlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbyhvKXtyZXR1cm5cImhlYXRtYXBcIj09PW8/aW1wb3J0KFwiLi9wcm9jZXNzb3JzL0hlYXRtYXBQcm9jZXNzb3IuanNcIik6aW1wb3J0KFwiLi9wcm9jZXNzb3JzL1N5bWJvbFByb2Nlc3Nvci5qc1wiKX1leHBvcnR7byBhcyBsb2FkUHJvY2Vzc29yTW9kdWxlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyBzLGlzQWJvcnRFcnJvciBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZVNvdXJjZUFkYXB0ZXIgYXMgYX1mcm9tXCIuLi9jb250cm9sbGVycy9zdXBwb3J0L3NvdXJjZUFkYXB0ZXJzLmpzXCI7aW1wb3J0e0RhdGFUaWxlU291cmNlIGFzIG99ZnJvbVwiLi9EYXRhVGlsZVNvdXJjZS5qc1wiO2ltcG9ydHtRdWV1ZVByb2Nlc3NvciBhcyBufWZyb21cIi4uLy4uLy4uLy4uL3N1cHBvcnQvUXVldWVQcm9jZXNzb3IuanNcIjtjb25zdCB1PTQ7Y2xhc3MgYyBleHRlbmRzIG97Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy50eXBlPVwiZmVhdHVyZVwiLHRoaXMubW9kZT1cIm9uLWRlbWFuZFwiLHRoaXMuX2FkYXB0ZXI9YShlLnNlcnZpY2VJbmZvKSx0aGlzLl9xdWV1ZT1uZXcgbih7Y29uY3VycmVuY3k6OCxwcm9jZXNzOmFzeW5jIGU9PntpZihzKGUpLG51bGwhPWUudGlsZSl7Y29uc3QgdD1lLnRpbGUua2V5LmlkLHtzaWduYWw6cn09ZSxzPWhhcyhcImVzcmktdGlsZXMtZGVidWdcIik/e3RpbGU6dC5yZXBsYWNlQWxsKFwiL1wiLFwiLlwiKSxkZXB0aDplLmRlcHRofTp2b2lkIDAsaT1hd2FpdCB0aGlzLl9hZGFwdGVyLmV4ZWN1dGVRdWVyeShlLnF1ZXJ5LHtzaWduYWw6cixxdWVyeTp7Li4ucywuLi50aGlzLl9zY2hlbWE/LmN1c3RvbVBhcmFtZXRlcnN9fSk7cmV0dXJuIGkubGV2ZWw9ZS50aWxlLmtleS5sZXZlbCxpfXJldHVybiB0aGlzLl9hZGFwdGVyLmV4ZWN1dGVRdWVyeShlLnF1ZXJ5LHsuLi5lLHF1ZXJ5OnRoaXMuX3NjaGVtYT8uY3VzdG9tUGFyYW1ldGVyc30pfX0pLHRoaXMuX3BhdGNoUXVldWU9bmV3IG4oe2NvbmN1cnJlbmN5OjgscHJvY2Vzczphc3luYyBlPT57aWYocyhlKSxudWxsIT1lLnRpbGUpe2NvbnN0IHQ9ZS50aWxlLmtleS5pZCx7c2lnbmFsOnJ9PWUscz1oYXMoXCJlc3JpLXRpbGVzLWRlYnVnXCIpP3t0aWxlOnQucmVwbGFjZUFsbChcIi9cIixcIi5cIiksZGVwdGg6ZS5kZXB0aH06dm9pZCAwLGk9YXdhaXQgdGhpcy5fYWRhcHRlci5leGVjdXRlUXVlcnkoZS5xdWVyeSx7c2lnbmFsOnIscXVlcnk6ey4uLnMsLi4udGhpcy5fc2NoZW1hPy5jdXN0b21QYXJhbWV0ZXJzfX0pO3JldHVybiBpLmxldmVsPWUudGlsZS5rZXkubGV2ZWwsaX1yZXR1cm4gdGhpcy5fYWRhcHRlci5leGVjdXRlUXVlcnkoZS5xdWVyeSx7Li4uZSxxdWVyeTp0aGlzLl9zY2hlbWE/LmN1c3RvbVBhcmFtZXRlcnN9KX19KX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLHRoaXMuX2FkYXB0ZXIuZGVzdHJveSgpLHRoaXMuX3F1ZXVlLmRlc3Ryb3koKSx0aGlzLl9wYXRjaFF1ZXVlLmRlc3Ryb3koKX1lbnF1ZXVlUXVlcnkoZSx0KXtyZXR1cm4gdGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl9xdWV1ZS5wdXNoKGUsdCkpfWVucXVldWVQYXRjaFF1ZXJ5KGUsdCl7cmV0dXJuIHRoaXMudXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fcGF0Y2hRdWV1ZS5wdXNoKGUsdCkpfWdldCBtYXhSZWNvcmRDb3VudEZhY3Rvcigpe2NvbnN0e3F1ZXJ5OmV9PXRoaXMuX3NlcnZpY2VJbmZvLmNhcGFiaWxpdGllcztyZXR1cm4gZS5zdXBwb3J0c01heFJlY29yZENvdW50RmFjdG9yP3U6bnVsbH1nZXQgbWF4UGFnZVNpemUoKXtjb25zdHtxdWVyeTplfT10aGlzLl9zZXJ2aWNlSW5mby5jYXBhYmlsaXRpZXM7cmV0dXJuKGUubWF4UmVjb3JkQ291bnQ/PzhlMykqKHRoaXMubWF4UmVjb3JkQ291bnRGYWN0b3I/PzEpfWdldCBwYWdlU2l6ZSgpe3JldHVybiBNYXRoLm1pbig4ZTMsdGhpcy5tYXhQYWdlU2l6ZSl9ZW5hYmxlRXZlbnQoZSx0KXt9c3Vic2NyaWJlKGUscyl7Y29uc3QgYT1zdXBlci5zdWJzY3JpYmUoZSxzKTtyZXR1cm4gdGhpcy5fZmV0Y2hEYXRhVGlsZShlKS5jYXRjaCgocz0+e2kocyl8fHIuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMuc291cmNlcy5CYXNlRmVhdHVyZVNvdXJjZVwiKS5lcnJvcihuZXcgdChcIm1hcHZpZXctcXVlcnktZXJyb3JcIixcIkVuY291bnRlcmVkIGVycm9yIHdoZW4gZmV0Y2hpbmcgdGlsZVwiLHt0aWxlOmUsZXJyb3I6c30pKX0pKSxhfXVuc3Vic2NyaWJlKGUpe3N1cGVyLnVuc3Vic2NyaWJlKGUpfXJlYWRlcnMoZSl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KGUpLnJlYWRlcnMoKX1hc3luYyBxdWVyeShlLHQ9e30pe2NvbnN0IHI9dC5xdWVyeT8/e307cmV0dXJuIHRoaXMuX2FkYXB0ZXIuZXhlY3V0ZVF1ZXJ5KGUsey4uLnQscXVlcnk6ey4uLnIsLi4udGhpcy5fc2NoZW1hPy5jdXN0b21QYXJhbWV0ZXJzfX0pfWFzeW5jIHF1ZXJ5TGFzdEVkaXREYXRlKCl7Y29uc3QgdD10aGlzLl9zZXJ2aWNlSW5mby5zb3VyY2Uscj17Li4udC5xdWVyeSxmOlwianNvblwifTtyZXR1cm4oYXdhaXQgZSh0LnBhdGgse3F1ZXJ5OnIscmVzcG9uc2VUeXBlOlwianNvblwifSkpLmRhdGEuZWRpdGluZ0luZm8ubGFzdEVkaXREYXRlfWNyZWF0ZVRpbGVRdWVyeShlLHQ9e30pe2NvbnN0IHI9dGhpcy5fc2VydmljZUluZm8uZ2VvbWV0cnlUeXBlLHM9dGhpcy5jcmVhdGVRdWVyeSh0KTtzLnF1YW50aXphdGlvblBhcmFtZXRlcnM9dC5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPz9lLmdldFF1YW50aXphdGlvblBhcmFtZXRlcnMoKSxzLnJlc3VsdFR5cGU9XCJ0aWxlXCIscy5nZW9tZXRyeT1lLmV4dGVudCx0aGlzLl9zZXJ2aWNlSW5mby5jYXBhYmlsaXRpZXMucXVlcnkuc3VwcG9ydHNRdWFudGl6YXRpb24/XCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiPT09ciYmKHMubWF4QWxsb3dhYmxlT2Zmc2V0PWUucmVzb2x1dGlvbipoYXMoXCJmZWF0dXJlLXBvbHlsaW5lLWdlbmVyYWxpemF0aW9uLWZhY3RvclwiKSk6XCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiIT09ciYmXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCIhPT1yfHwocy5tYXhBbGxvd2FibGVPZmZzZXQ9ZS5yZXNvbHV0aW9uLFwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIj09PXImJihzLm1heEFsbG93YWJsZU9mZnNldCo9aGFzKFwiZmVhdHVyZS1wb2x5bGluZS1nZW5lcmFsaXphdGlvbi1mYWN0b3JcIikpKTtjb25zdCBpPXRoaXMuX3NlcnZpY2VJbmZvLmNhcGFiaWxpdGllcy5xdWVyeTtyZXR1cm4gcy5kZWZhdWx0U3BhdGlhbFJlZmVyZW5jZUVuYWJsZWQ9aS5zdXBwb3J0c0RlZmF1bHRTcGF0aWFsUmVmZXJlbmNlLHMuY29tcGFjdEdlb21ldHJ5RW5hYmxlZD1pLnN1cHBvcnRzQ29tcGFjdEdlb21ldHJ5LHN9YXN5bmMgX2V4ZWN1dGVQYXRjaFF1ZXJ5KGUsdCxyLHMpe2NvbnN0IGk9dC5jbG9uZSgpO2kub3V0RmllbGRzPVt0aGlzLl9zZXJ2aWNlSW5mby5vYmplY3RJZEZpZWxkLC4uLnJdLGkucmV0dXJuQ2VudHJvaWQ9ITEsaS5yZXR1cm5HZW9tZXRyeT0hMTtjb25zdCBhPW51bGwhPWkuc3RhcnQ/aS5zdGFydC84ZTM6MCxvPXMuc2lnbmFsO3JldHVybiBhd2FpdCB0aGlzLmVucXVldWVQYXRjaFF1ZXJ5KHt0aWxlOmUscXVlcnk6aSxzaWduYWw6byxkZXB0aDphfSl9YXN5bmMgX3Jlc2VuZChlLHQpe2NvbnN0e3F1ZXJ5OnIsbWVzc2FnZTppfT1lLGE9bnVsbCE9ci5vdXRGaWVsZHM/ci5vdXRGaWVsZHM6W10sbz10aGlzLl9xdWVyeUluZm8ub3V0RmllbGRzLG49by5maWx0ZXIoKGU9PiFhLmluY2x1ZGVzKGUpKSk7aWYobnVsbCE9aS5hZGRPclVwZGF0ZSlpZihuLmxlbmd0aCl0cnl7Y29uc3QgZT10aGlzLl9zdWJzY3JpcHRpb25zLmdldChpLmlkKS50aWxlLGE9YXdhaXQgdGhpcy5fZXhlY3V0ZVBhdGNoUXVlcnkoZSxyLG4sdCk7cyh0KSxyLm91dEZpZWxkcz1vLGkuYWRkT3JVcGRhdGUuam9pbkF0dHJpYnV0ZXMoYSksdGhpcy5fb25NZXNzYWdlKHsuLi5pLGVuZDppLmVuZCx0eXBlOlwiYXBwZW5kXCJ9KX1jYXRjaCh1KXt9ZWxzZSB0aGlzLl9vbk1lc3NhZ2Uoey4uLmksdHlwZTpcImFwcGVuZFwifSk7ZWxzZSB0aGlzLl9vbk1lc3NhZ2Uoey4uLmksdHlwZTpcImFwcGVuZFwifSl9YXN5bmMgX3Jlc2VuZFN1YnNjcmlwdGlvbihlKXtpZihoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhlLnRpbGUuaWQsXCJSZXNlbmQgU3Vic2NyaXB0aW9uXCIpLGUuZW1wdHkpcmV0dXJuIHRoaXMuX29uTWVzc2FnZSh7aWQ6ZS50aWxlLmlkLGFkZE9yVXBkYXRlOm51bGwsZW5kOiExLHR5cGU6XCJhcHBlbmRcIn0pO2NvbnN0IHQ9ZS5zaWduYWw7Zm9yKGNvbnN0IHIgb2YgZS5yZXF1ZXN0cy5kb25lKWF3YWl0IHRoaXMuX3Jlc2VuZChyLHtzaWduYWw6dH0pO3JldHVybiBudWxsIT1lLmVkaXRzP3RoaXMuX29uTWVzc2FnZShlLmVkaXRzKTp2b2lkIDB9YXN5bmMgcmVzZW5kKCl7Y29uc3QgZT1BcnJheS5mcm9tKHRoaXMuX3N1YnNjcmlwdGlvbnMudmFsdWVzKCkpO2F3YWl0IFByb21pc2UuYWxsKGUubWFwKChlPT50aGlzLl9yZXNlbmRTdWJzY3JpcHRpb24oZSkpKSl9fWV4cG9ydHtjIGFzIEJhc2VGZWF0dXJlU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9UaW1lRXh0ZW50LmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtjcmVhdGVSZXNvbHZlciBhcyB0LGlnbm9yZUFib3J0RXJyb3JzIGFzIGksZWFjaEFsd2F5c1ZhbHVlcyBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2RpZmYgYXMgbyxoYXNEaWZmIGFzIG4saGFzRGlmZkFueSBhcyB1fWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0e2lzSG9zdGVkQWdvbFNlcnZpY2UgYXMgY31mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9hcmNnaXNMYXllclVybC5qc1wiO2ltcG9ydCBkIGZyb21cIi4uLy4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9RdWVyeS5qc1wiO2ltcG9ydHtEYXRhVGlsZVN1YnNjcmlwdGlvbiBhcyBofWZyb21cIi4vRGF0YVRpbGVTdWJzY3JpcHRpb24uanNcIjtpbXBvcnR7VXBkYXRlVG9rZW4gYXMgbH1mcm9tXCIuLi9zdXBwb3J0L1VwZGF0ZVRva2VuLmpzXCI7ZnVuY3Rpb24gcChlLHMpe2NvbnN0IHQ9bmV3IFNldDtyZXR1cm4gZSYmZS5mb3JFYWNoKChlPT50LmFkZChlKSkpLHMmJnMuZm9yRWFjaCgoZT0+dC5hZGQoZSkpKSx0LmhhcyhcIipcIik/W1wiKlwiXTpBcnJheS5mcm9tKHQpfWNsYXNzIG17Y29uc3RydWN0b3IoZSl7dGhpcy51cGRhdGluZ0hhbmRsZXM9bmV3IGEsdGhpcy5ldmVudHM9bmV3IHMsdGhpcy5fcmVzb2x2ZXI9dCgpLHRoaXMuX2RpZEVkaXQ9ITEsdGhpcy5fc3Vic2NyaXB0aW9ucz1uZXcgTWFwLHRoaXMuX291dFNSPWUub3V0U1IsdGhpcy5fc2VydmljZUluZm89ZS5zZXJ2aWNlSW5mbyx0aGlzLl9vblRpbGVVcGRhdGVNZXNzYWdlPWUub25NZXNzYWdlLHRoaXMuX2FyY2FkZUxheWVyU2NoZW1hPWUuYXJjYWRlTGF5ZXJTY2hlbWF9ZGVzdHJveSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3N1YnNjcmlwdGlvbnMudmFsdWVzKCkpZS5hYm9ydCgpO3RoaXMudXBkYXRpbmdIYW5kbGVzLmRlc3Ryb3koKX1nZXQgc3Vic2NyaXB0aW9ucygpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zLnZhbHVlcygpfWFzeW5jIF9vbk1lc3NhZ2UoZSl7Y29uc3Qgcz10aGlzLl9zdWJzY3JpcHRpb25zLmdldChlLmlkKTtpZighcylyZXR1cm47Y29uc3QgdD17Li4uZSxyZW1vdmU6ZS5yZW1vdmU/P1tdLHN0YXR1czplLnN0YXR1cz8/bC5lbXB0eSgpfTtyZXR1cm4gaSh0aGlzLl9vblRpbGVVcGRhdGVNZXNzYWdlKHQscy5vcHRpb25zKSl9dXBkYXRlKHMsdCl7Y29uc3QgaT10LmZpZWxkcy5sZW5ndGg7dC5vdXRGaWVsZHM9cCh0aGlzLl9zY2hlbWE/Lm91dEZpZWxkcyx0Lm91dEZpZWxkcyksdC5vdXRGaWVsZHM9dC5vdXRGaWVsZHMubGVuZ3RoPj0uNzUqaT9bXCIqXCJdOnQub3V0RmllbGRzLHQub3V0RmllbGRzLnNvcnQoKTtjb25zdCByPW8odGhpcy5fc2NoZW1hLHQpO2lmKCFyKXJldHVybjtoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkFwcGx5aW5nIFVwZGF0ZSAtIFNvdXJjZTpcIixyKTtjb25zdCBhPVwib3JkZXJCeUZpZWxkc1wiaW4gdGhpcy5fc2VydmljZUluZm8mJnRoaXMuX3NlcnZpY2VJbmZvLm9yZGVyQnlGaWVsZHM/dGhpcy5fc2VydmljZUluZm8ub3JkZXJCeUZpZWxkczp0aGlzLl9zZXJ2aWNlSW5mby5vYmplY3RJZEZpZWxkK1wiIEFTQ1wiLGQ9dGhpcy5fc2VydmljZUluZm8uc291cmNlLGg9e3JldHVybkNlbnRyb2lkOiEobnVsbCE9PWQmJlwib2JqZWN0XCI9PXR5cGVvZiBkJiZcInBhdGhcImluIGQmJmMoZC5wYXRoKSkmJlwiZXNyaUdlb21ldHJ5UG9seWdvblwiPT09dGhpcy5fc2VydmljZUluZm8uZ2VvbWV0cnlUeXBlLHJldHVybkdlb21ldHJ5OiEwLHRpbWVSZWZlcmVuY2VVbmtub3duQ2xpZW50Olwic3RyZWFtXCIhPT10aGlzLl9zZXJ2aWNlSW5mby50eXBlJiZ0aGlzLl9zZXJ2aWNlSW5mby50aW1lUmVmZXJlbmNlVW5rbm93bkNsaWVudCxvdXRGaWVsZHM6dC5vdXRGaWVsZHMsb3V0U3BhdGlhbFJlZmVyZW5jZTp0aGlzLl9vdXRTUixvcmRlckJ5RmllbGRzOlthXSx3aGVyZTp0LmRlZmluaXRpb25FeHByZXNzaW9ufHxcIjE9MVwiLGdkYlZlcnNpb246dC5nZGJWZXJzaW9uLGhpc3RvcmljTW9tZW50OnQuaGlzdG9yaWNNb21lbnQsdGltZUV4dGVudDp0LnRpbWVFeHRlbnQ/ZS5mcm9tSlNPTih0LnRpbWVFeHRlbnQpOm51bGx9LGw9dGhpcy5fc2NoZW1hJiZuKHIsXCJvdXRGaWVsZHNcIik7dGhpcy5fc2NoZW1hJiZ1KHIsW1widGltZUV4dGVudFwiLFwiZGVmaW5pdGlvbkV4cHJlc3Npb25cIixcImdkYlZlcnNpb25cIixcImhpc3RvcmljTW9tZW50XCIsXCJjdXN0b21QYXJhbWV0ZXJzXCJdKSYmKHMud2h5Lm1lc2gucHVzaChcIkxheWVyIGZpbHRlciBhbmQvb3IgY3VzdG9tIHBhcmFtZXRlcnMgY2hhbmdlZFwiKSxzLndoeS5zb3VyY2UucHVzaChcIkxheWVyIGZpbHRlciBhbmQvb3IgY3VzdG9tIHBhcmFtZXRlcnMgY2hhbmdlZFwiKSxzLm1lc2g9ITAscy5zb3VyY2U9ITAscy5xdWVyeUZpbHRlcj0hMCksbCYmKHMud2h5LnNvdXJjZS5wdXNoKFwiTGF5ZXIgcmVxdWlyZWQgZmllbGRzIGNoYW5nZWRcIikscy5zb3VyY2U9ITApLG8oaCx0aGlzLl9xdWVyeUluZm8pJiYodGhpcy5fcXVlcnlJbmZvPWgpLHRoaXMuX3NjaGVtYT10LHRoaXMuX3Jlc29sdmVyLnJlc29sdmUoKX13aGVuSW5pdGlhbGl6ZWQoKXtyZXR1cm4gdGhpcy5fcmVzb2x2ZXIucHJvbWlzZX1hc3luYyBhcHBseVVwZGF0ZShlKXtpZihlLnF1ZXJ5RmlsdGVyfHxlLnNvdXJjZSYmdGhpcy5fZGlkRWRpdClyZXR1cm4gdGhpcy5yZWZyZXNoKGUudmVyc2lvbiksdm9pZCh0aGlzLl9kaWRFZGl0PSExKTt0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKHM9PnMuYXBwbHlVcGRhdGUoZSkpKSxhd2FpdCB0aGlzLnJlc2VuZCgpfXJlZnJlc2goZSxzKXtmb3IoY29uc3QgdCBvZiB0aGlzLl90aWxlcygpKXRoaXMudW5zdWJzY3JpYmUodCksdGhpcy5zdWJzY3JpYmUodCxlKX1zdWJzY3JpYmUoZSxzKXtjb25zdCB0PW5ldyBoKGUscyk7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnMuc2V0KGUuaWQsdCksdH11bnN1YnNjcmliZShlKXtjb25zdCBzPXRoaXMuZ2V0U3Vic2NyaXB0aW9uKGUuaWQpO251bGwhPXMmJnMuYWJvcnQoKSx0aGlzLl9zdWJzY3JpcHRpb25zLmRlbGV0ZShlLmlkKX1jcmVhdGVRdWVyeShlPXt9KXtjb25zdCBzPXRoaXMuX3F1ZXJ5SW5mby5oaXN0b3JpY01vbWVudD9uZXcgRGF0ZSh0aGlzLl9xdWVyeUluZm8uaGlzdG9yaWNNb21lbnQpOm51bGw7cmV0dXJuIG5ldyBkKHsuLi50aGlzLl9xdWVyeUluZm8saGlzdG9yaWNNb21lbnQ6cywuLi5lfSl9Z2V0U3Vic2NyaXB0aW9uKGUpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zLmhhcyhlKT90aGlzLl9zdWJzY3JpcHRpb25zLmdldChlKTpudWxsfWFzeW5jIHF1ZXJ5TGFzdEVkaXREYXRlKCl7dGhyb3cgbmV3IEVycm9yKFwiU2VydmljZSBkb2VzIG5vdCBzdXBwb3J0IHF1ZXJ5IHR5cGVcIil9YXN5bmMgcXVlcnkoZSxzKXt0aHJvdyBuZXcgRXJyb3IoXCJTZXJ2aWNlIGRvZXMgbm90IHN1cHBvcnQgcXVlcnlcIil9Kl90aWxlcygpe2NvbnN0IGU9QXJyYXkuZnJvbSh0aGlzLl9zdWJzY3JpcHRpb25zLnZhbHVlcygpKTtmb3IoY29uc3QgcyBvZiBlKXlpZWxkIHMudGlsZX1hc3luYyBlZGl0KGUscyl7cmV0dXJuIHRoaXMudXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fZWRpdChlLHMpKX1hc3luYyBfZWRpdChlLHMpe2NvbnN0IHQ9QXJyYXkuZnJvbSh0aGlzLl9zdWJzY3JpcHRpb25zLnZhbHVlcygpKSxpPXQubWFwKCgoe3RpbGU6ZX0pPT5lKSk7Zm9yKGNvbnN0IHIgb2YgdClyLnJlbW92ZUlkcyhzKTtpZihlLmxlbmd0aCl7Y29uc3QgdD1pLm1hcCgocz0+e2NvbnN0IHQ9dGhpcy5jcmVhdGVUaWxlUXVlcnkocyk7cmV0dXJuIHQub2JqZWN0SWRzPWUse3RpbGU6cyxxdWVyeTp0fX0pKS5tYXAoKGFzeW5jKHt0aWxlOmUscXVlcnk6c30pPT4oe3RpbGU6ZSxyZXN1bHQ6YXdhaXQgdGhpcy5xdWVyeShzLHtxdWVyeTp7dGlsZTpoYXMoXCJlc3JpLXRpbGVzLWRlYnVnXCIpP2UuaWQucmVwbGFjZUFsbChcIi9cIixcIi5cIik6dm9pZCAwfX0pLHF1ZXJ5OnN9KSkpLG89KGF3YWl0IHIodCkpLm1hcCgoYXN5bmMoe3RpbGU6dCxyZXN1bHQ6aX0pPT57aWYoIWkuaGFzRmVhdHVyZXMmJiFzLmxlbmd0aCYmIWUubGVuZ3RoKXJldHVybjtjb25zdCByPXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KHQua2V5LmlkKTtyJiZyLmVkaXQoaSxlKX0pKTthd2FpdCBQcm9taXNlLmFsbFNldHRsZWQobyl9dGhpcy5fZGlkRWRpdD0hMH19ZXhwb3J0e20gYXMgRGF0YVRpbGVTb3VyY2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc1NvbWUgYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0NpcmN1bGFyQXJyYXkuanNcIjtpbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2NyZWF0ZVJlc29sdmVyIGFzIHQsdGhyb3dJZk5vdEFib3J0RXJyb3IgYXMgcixjcmVhdGVBYm9ydEVycm9yIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgb31mcm9tXCIuLi9zdXBwb3J0L0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7aW1wb3J0e1VwZGF0ZVRva2VuIGFzIGR9ZnJvbVwiLi4vc3VwcG9ydC9VcGRhdGVUb2tlbi5qc1wiO2NsYXNzIGF7Y29uc3RydWN0b3IoZSxpKXt0aGlzLnJlcXVlc3RzPXtkb25lOm5ldyBBcnJheSxzdHJlYW06bmV3IHMoMTApfSx0aGlzLl9lZGl0cz1udWxsLHRoaXMuX2Fib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuX3ZlcnNpb249MCx0aGlzLl9pc0RvbmU9ITEsdGhpcy5kaWRTZW5kPSExLHRoaXMudGlsZT1lLHRoaXMuX3ZlcnNpb249aSx0aGlzLl9yZXNvbHZlcj10KCksdGhpcy5fcmVzb2x2ZXIucHJvbWlzZS5jYXRjaCgoZT0+cihlKSkpfWdldCBzaWduYWwoKXtyZXR1cm4gdGhpcy5fYWJvcnRDb250cm9sbGVyLnNpZ25hbH1nZXQgb3B0aW9ucygpe3JldHVybntzaWduYWw6dGhpcy5fYWJvcnRDb250cm9sbGVyLnNpZ25hbH19Z2V0IGVtcHR5KCl7cmV0dXJuIXRoaXMucmVxdWVzdHMuZG9uZS5sZW5ndGgmJm51bGw9PXRoaXMuZWRpdHN9Z2V0IGVkaXRzKCl7cmV0dXJuIHRoaXMuX2VkaXRzfWdldCBkb25lKCl7cmV0dXJuIHRoaXMuX3Jlc29sdmVyLnByb21pc2V9Z2V0IGlzRG9uZSgpe3JldHVybiB0aGlzLl9pc0RvbmV9cmVzb2x2ZSgpe3RoaXMuX2lzRG9uZT0hMCx0aGlzLl9yZXNvbHZlci5yZXNvbHZlKCl9Y2xlYXIoKXt0aGlzLnJlcXVlc3RzLmRvbmU9W119YXBwbHlVcGRhdGUoZSl7dGhpcy5yZXF1ZXN0cy5kb25lLmZvckVhY2goKHM9PnMubWVzc2FnZS5zdGF0dXMudW5zZXQoZSkpKSx0aGlzLl92ZXJzaW9uPWUudmVyc2lvbixudWxsIT10aGlzLl9lZGl0cyYmdGhpcy5fZWRpdHMuc3RhdHVzLnVuc2V0KGUpfWFkZChlKXtlLm1lc3NhZ2Uuc3RhdHVzPWUubWVzc2FnZS5zdGF0dXM/P2QuZW1wdHkoKSxlLm1lc3NhZ2Uuc3RhdHVzLnZlcnNpb249dGhpcy5fdmVyc2lvbixoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1Zyh0aGlzLnRpbGUuaWQsXCJEYXRhVGlsZVN1YnNjcmlwdGlvbjphZGRcIix0aGlzLl92ZXJzaW9uKSxlLm1lc3NhZ2UuZW5kJiYodGhpcy5yZXF1ZXN0cy5kb25lLmZvckVhY2goKGU9PntudWxsIT1lLm1lc3NhZ2UmJmUubWVzc2FnZS5lbmQmJihlLm1lc3NhZ2UuZW5kPSExKX0pKSx0aGlzLl9yZXNvbHZlci5yZXNvbHZlKCksdGhpcy5faXNEb25lPSEwKSx0aGlzLnJlcXVlc3RzLmRvbmUucHVzaChlKX1lZGl0KHMsdCl7Y29uc3Qgcj1zLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpLGk9cy5mdWxsU2NoZW1hKCksYT1BcnJheS5mcm9tKHMuZmVhdHVyZXMoKSkuZmlsdGVyKGUpLG49Wy4uLnQsLi4uYS5tYXAoKGU9PmUub2JqZWN0SWQpKV07aWYodGhpcy5yZW1vdmVJZHMobiksdGhpcy5faW52YWxpZGF0ZSgpLG51bGw9PXRoaXMuX2VkaXRzKXJldHVybiB2b2lkKHRoaXMuX2VkaXRzPXt0eXBlOlwiYXBwZW5kXCIsYWRkT3JVcGRhdGU6by5mcm9tT3B0aW1pemVkRmVhdHVyZXMoYSxpLHIpLGlkOnRoaXMudGlsZS5pZCxzdGF0dXM6ZC5lbXB0eSgpLGVuZDohMH0pO3RoaXMucmVxdWVzdHMuZG9uZS5mb3JFYWNoKChlPT5lLm1lc3NhZ2UuZW5kPSExKSk7dGhpcy5fZWRpdHMuYWRkT3JVcGRhdGUuYXBwZW5kKHMuZmVhdHVyZXMoKSl9KnJlYWRlcnMoKXtmb3IoY29uc3R7bWVzc2FnZTplfW9mIHRoaXMucmVxdWVzdHMuZG9uZSludWxsIT1lLmFkZE9yVXBkYXRlJiYoeWllbGQgZS5hZGRPclVwZGF0ZSk7bnVsbCE9dGhpcy5fZWRpdHM/LmFkZE9yVXBkYXRlJiYoeWllbGQgdGhpcy5fZWRpdHMuYWRkT3JVcGRhdGUpfV9pbnZhbGlkYXRlKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5yZXF1ZXN0cy5kb25lKWUubWVzc2FnZS5zdGF0dXM9ZC5lbXB0eSgpO251bGwhPXRoaXMuX2VkaXRzJiYodGhpcy5fZWRpdHMuc3RhdHVzPWQuZW1wdHkoKSl9cmVtb3ZlSWRzKGUpe3RoaXMuX2ludmFsaWRhdGUoKTtmb3IoY29uc3R7bWVzc2FnZTpzfW9mIHRoaXMucmVxdWVzdHMuZG9uZSl7Y29uc3QgdD1zLmFkZE9yVXBkYXRlO251bGwhPXQmJih0LnJlbW92ZUlkcyhlKSx0LmlzRW1wdHkmJihoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIlJlbW92aW5nIEZlYXR1cmVTZXRSZWFkZXJcIikscy5hZGRPclVwZGF0ZT1udWxsKSl9bnVsbCE9dGhpcy5fZWRpdHM/LmFkZE9yVXBkYXRlJiZ0aGlzLl9lZGl0cy5hZGRPclVwZGF0ZS5yZW1vdmVJZHMoZSksdGhpcy5yZXF1ZXN0cy5kb25lPXRoaXMucmVxdWVzdHMuZG9uZS5maWx0ZXIoKGU9PmUubWVzc2FnZS5hZGRPclVwZGF0ZXx8ZS5tZXNzYWdlLmVuZCkpfWFib3J0KCl7dGhpcy5fYWJvcnRDb250cm9sbGVyLmFib3J0KCksdGhpcy5fcmVzb2x2ZXIucmVqZWN0KGkoKSl9fWV4cG9ydHthIGFzIERhdGFUaWxlU3Vic2NyaXB0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgaGFzIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIGUsaXNBYm9ydEVycm9yIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7QmFzZUZlYXR1cmVTb3VyY2UgYXMgcn1mcm9tXCIuL0Jhc2VGZWF0dXJlU291cmNlLmpzXCI7Y29uc3Qgcz1oYXMoXCJlc3JpLW1vYmlsZVwiKSxpPXttYXhEcmlsbExldmVsOnM/MTo0LG1heFJlY29yZENvdW50RmFjdG9yOnM/MTozfTtjbGFzcyBhIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1hc3luYyBfZmV0Y2hEYXRhVGlsZShyKXtjb25zdCBzPXRoaXMuX3NlcnZpY2VJbmZvLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c01heFJlY29yZENvdW50RmFjdG9yLGE9dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQoci5rZXkuaWQpLG89YS5zaWduYWwsbj1yLmdldFF1YW50aXphdGlvblBhcmFtZXRlcnMoKTtsZXQgYz0wO2NvbnN0IGQ9YXN5bmModSxsKT0+e2NvbnN0IG09dGhpcy5fcXVlcnlJbmZvLHA9dGhpcy5jcmVhdGVUaWxlUXVlcnkodSx7bWF4UmVjb3JkQ291bnRGYWN0b3I6cz9pLm1heFJlY29yZENvdW50RmFjdG9yOnZvaWQgMCxyZXR1cm5FeGNlZWRlZExpbWl0RmVhdHVyZXM6ITEscXVhbnRpemF0aW9uUGFyYW1ldGVyczpufSk7YysrO3RyeXtjb25zdCB0PWF3YWl0IHRoaXMuZW5xdWV1ZVF1ZXJ5KHt0aWxlOnIscXVlcnk6cCxzaWduYWw6byxkZXB0aDpsfSk7aWYoYy0tLGUobyksIXQpcmV0dXJuO2lmKG0hPT10aGlzLl9xdWVyeUluZm8pcmV0dXJuIHZvaWQgZCh1LGwpO2lmKHQuZXhjZWVkZWRUcmFuc2ZlckxpbWl0JiZsPGkubWF4RHJpbGxMZXZlbCl7Zm9yKGNvbnN0IGUgb2YgdS5jcmVhdGVDaGlsZFRpbGVzKCkpZChlLGwrMSk7cmV0dXJufWNvbnN0IHM9e2lkOnIuaWQsYWRkT3JVcGRhdGU6dCxlbmQ6MD09PWMsdHlwZTpcImFwcGVuZFwifTthLmFkZCh7cXVlcnk6cCxtZXNzYWdlOnN9KSx0aGlzLl9vbk1lc3NhZ2Uocyl9Y2F0Y2goZil7aWYoIXQoZikpe2NvbnN0IGU9e2lkOnIuaWQsYWRkT3JVcGRhdGU6bnVsbCxlbmQ6ITAsdHlwZTpcImFwcGVuZFwifTthLmFkZCh7cXVlcnk6cCxtZXNzYWdlOmV9KSx0aGlzLl9vbk1lc3NhZ2UoZSl9fX07ZChyLDApfX1leHBvcnR7YSBhcyBEcmlsbERvd25GZWF0dXJlU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIHIsdGhyb3dJZkFib3J0ZWQgYXMgYSx0aHJvd0lmTm90QWJvcnRFcnJvciBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e0Jhc2VGZWF0dXJlU291cmNlIGFzIGl9ZnJvbVwiLi9CYXNlRmVhdHVyZVNvdXJjZS5qc1wiO2NsYXNzIG8gZXh0ZW5kcyBpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9mZXRjaERhdGFUaWxlKHMpe2NvbnN0IGk9NixvPTIwLG49dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQocy5rZXkuaWQpO2xldCBkPSExLGM9MCx1PTA7Y29uc3QgaD0oZSx0KT0+e3UtLSxhKG4pO2NvbnN0IHI9cy5pZCxpPWUucmVhZGVyLG89ZS5xdWVyeTtpZighaS5leGNlZWRlZFRyYW5zZmVyTGltaXQpe2lmKGQ9ITAsMCE9PXQmJiFpLmhhc0ZlYXR1cmVzKXtjb25zdCBlPXtpZDpyLGFkZE9yVXBkYXRlOmksZW5kOjA9PT11LHR5cGU6XCJhcHBlbmRcIn07cmV0dXJuIG4uYWRkKHttZXNzYWdlOmUscXVlcnk6b30pLHZvaWQgdGhpcy5fb25NZXNzYWdlKGUpfWNvbnN0IGU9e2lkOnIsYWRkT3JVcGRhdGU6aSxlbmQ6MD09PXUsdHlwZTpcImFwcGVuZFwifTtyZXR1cm4gbi5hZGQoe21lc3NhZ2U6ZSxxdWVyeTpvfSksdm9pZCB0aGlzLl9vbk1lc3NhZ2UoZSl9Y29uc3QgYz17aWQ6cixhZGRPclVwZGF0ZTppLGVuZDpkJiYwPT09dSx0eXBlOlwiYXBwZW5kXCJ9O24uYWRkKHttZXNzYWdlOmMscXVlcnk6b30pLHRoaXMuX29uTWVzc2FnZShjKX07bGV0IG09MCxwPTA7Zm9yKDshZCYmcCsrPG87KXtsZXQgbztmb3IobGV0IGE9MDthPG0rMTthKyspe2NvbnN0IGE9YysrO3UrKyxvPXRoaXMuX2ZldGNoRGF0YVRpbGVQYWdlKHMsYSxuKS50aGVuKChlPT5lJiZoKGUsYSkpKS5jYXRjaCgoYT0+e2lmKGQ9ITAsIXIoYSkpe3QuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMuc291cmNlcy5QYWdlZEZlYXR1cmVTb3VyY2VcIikuZXJyb3IobmV3IGUoXCJtYXB2aWV3LXF1ZXJ5LWVycm9yXCIsXCJFbmNvdW50ZXJlZCBlcnJvciB3aGVuIGZldGNoaW5nIHRpbGVcIix7dGlsZTpzLGVycm9yOmF9KSk7Y29uc3Qgcj17aWQ6cy5pZCxhZGRPclVwZGF0ZTpudWxsLGVuZDpkLHR5cGU6XCJhcHBlbmRcIn0saT17c3RhcnQ6dGhpcy5wYWdlU2l6ZSpjLG51bTp0aGlzLnBhZ2VTaXplLHJldHVybkV4Y2VlZGVkTGltaXRGZWF0dXJlczohMCxxdWFudGl6YXRpb25QYXJhbWV0ZXJzOnMuZ2V0UXVhbnRpemF0aW9uUGFyYW1ldGVycygpfTtudWxsIT10aGlzLm1heFJlY29yZENvdW50RmFjdG9yJiYoaS5tYXhSZWNvcmRDb3VudEZhY3Rvcj10aGlzLm1heFJlY29yZENvdW50RmFjdG9yKTtjb25zdCBvPXRoaXMuY3JlYXRlVGlsZVF1ZXJ5KHMsaSk7bi5hZGQoe21lc3NhZ2U6cixxdWVyeTpvfSksdGhpcy5fb25NZXNzYWdlKHIpfX0pKX1hd2FpdCBvLGEobiksbT1NYXRoLm1pbihtKzIsaSl9fWFzeW5jIF9mZXRjaERhdGFUaWxlUGFnZShlLHQscil7YShyKTtjb25zdCBpPXRoaXMuX3F1ZXJ5SW5mbyxvPXtzdGFydDp0aGlzLnBhZ2VTaXplKnQsbnVtOnRoaXMucGFnZVNpemUscmV0dXJuRXhjZWVkZWRMaW1pdEZlYXR1cmVzOiEwLHF1YW50aXphdGlvblBhcmFtZXRlcnM6ZS5nZXRRdWFudGl6YXRpb25QYXJhbWV0ZXJzKCl9O251bGwhPXRoaXMubWF4UmVjb3JkQ291bnRGYWN0b3ImJihvLm1heFJlY29yZENvdW50RmFjdG9yPXRoaXMubWF4UmVjb3JkQ291bnRGYWN0b3IpO2NvbnN0IG49dGhpcy5jcmVhdGVUaWxlUXVlcnkoZSxvKTt0cnl7Y29uc3Qgcz1yLnNpZ25hbCxvPWF3YWl0IHRoaXMuZW5xdWV1ZVF1ZXJ5KHt0aWxlOmUscXVlcnk6bixzaWduYWw6cyxkZXB0aDp0fSk7cmV0dXJuIGEociksbz9pIT09dGhpcy5fcXVlcnlJbmZvP3RoaXMuX2ZldGNoRGF0YVRpbGVQYWdlKGUsdCxyKTp7cmVhZGVyOm8scXVlcnk6bn06bnVsbH1jYXRjaChkKXtyZXR1cm4gcyhkKSxudWxsfX19ZXhwb3J0e28gYXMgUGFnZWRGZWF0dXJlU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7YXNzZXJ0SXNTb21lIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyByLGFmdGVyIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL1JhbmRvbUxDRy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBufWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7QmFzZUZlYXR1cmVTb3VyY2UgYXMgaX1mcm9tXCIuL0Jhc2VGZWF0dXJlU291cmNlLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJJbmRpcmVjdCBhcyBkfWZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlclBCRkluZGlyZWN0LmpzXCI7aW1wb3J0e1VwZGF0ZVRva2VuIGFzIHV9ZnJvbVwiLi4vc3VwcG9ydC9VcGRhdGVUb2tlbi5qc1wiO2Z1bmN0aW9uIGwoZSx0LHMpe2NvbnN0IHI9ZS5nZXRYSHlkcmF0ZWQoKSxvPWUuZ2V0WUh5ZHJhdGVkKCksYT10LmdldENvbHVtbkZvclgociksbj1NYXRoLmZsb29yKHQubm9ybWFsaXplQ29sKGEpKTtyZXR1cm5gJHtzfS8ke01hdGguZmxvb3IodC5nZXRSb3dGb3JZKG8pKX0vJHtufWB9ZnVuY3Rpb24gaChlLHQpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7Y29uc3Qgcz10LnRyYW5zZm9ybSxyPWUuZ2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCk7aWYobnVsbD09cil7Y29uc3RbdCxyXT1zLnNjYWxlLFtvLGFdPXMudHJhbnNsYXRlLG49LW8vdCxpPTEvdCxkPWEvcix1PTEvLXI7cmV0dXJuIGUudHJhbnNmb3JtKG4sZCxpLHUpfWNvbnN0W28sYV09ci5zY2FsZSxbbixpXT1yLnRyYW5zbGF0ZSxbZCx1XT1zLnNjYWxlLFtsLGhdPXMudHJhbnNsYXRlLGM9by9kLGc9KG4tbCkvZCxwPWEvdSxfPSgtaStoKS91O3JldHVybiBlLnRyYW5zZm9ybShnLF8sYyxwKX1sZXQgYz1jbGFzcyBleHRlbmRzIGl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5tb2RlPVwic25hcHNob3RcIix0aGlzLl9sb2FkaW5nPSEwLHRoaXMuX2NvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcix0aGlzLl9kb3dubG9hZFByb21pc2U9bnVsbCx0aGlzLl9kaWRTZW5kRW5kPSExLHRoaXMuX3F1ZXJpZXM9bmV3IEFycmF5LHRoaXMuX2ludmFsaWRhdGVkPSExLHRoaXMuX2hhc0FnZ3JlZ2F0ZXM9ITEsdGhpcy5fcmFuZG9tPW5ldyBhKDFlMyksdGhpcy5fc3RvcmU9ZS5zdG9yZSx0aGlzLl9tYXJrZWRJZHNCdWZJZD10aGlzLl9zdG9yZS5zdG9yYWdlLmNyZWF0ZUJpdHNldCgpfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5fY29udHJvbGxlci5hYm9ydCgpfWdldCBsb2FkaW5nKCl7cmV0dXJuIHRoaXMuX2xvYWRpbmd9Z2V0IF9zaWduYWwoKXtyZXR1cm4gdGhpcy5fY29udHJvbGxlci5zaWduYWx9dXBkYXRlKGUsdCl7c3VwZXIudXBkYXRlKGUsdCksdGhpcy5fZmVhdHVyZUNvdW50Pz89dC5pbml0aWFsRmVhdHVyZUNvdW50LG51bGwhPXQuY2hhbmdlZEZlYXR1cmVDb3VudCYmKHRoaXMuX2ZlYXR1cmVDb3VudD10LmNoYW5nZWRGZWF0dXJlQ291bnQpLHRoaXMuX2hhc0FnZ3JlZ2F0ZXM9ISFlLnRhcmdldHM/LmFnZ3JlZ2F0ZX1hc3luYyByZXNlbmQoZT0hMSl7aWYoYXdhaXQgdGhpcy5fZG93bmxvYWRQcm9taXNlLHRoaXMuX2ludmFsaWRhdGVkfHxlKXtjb25zdCBlPXRoaXMuX2ZlYXR1cmVDb3VudDtyZXR1cm4gcyhlLFwiRXhwZWN0ZWQgZmVhdHVyZUNvdW50IHRvIGJlIGRlZmluZWRcIiksdGhpcy5faW52YWxpZGF0ZWQ9ITEsdGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChlPT5lLmNsZWFyKCkpKSx0aGlzLl9kb3dubG9hZFByb21pc2U9dGhpcy5fZG93bmxvYWQoZSksdm9pZCBhd2FpdCB0aGlzLl9kb3dubG9hZFByb21pc2V9Y29uc3QgdD10aGlzLl9xdWVyaWVzLm1hcCgoKHtxdWVyeTplLHJlYWRlcjp0fSk9PnRoaXMuX3NlbmRQYXRjaFF1ZXJ5KGUsdCkpKTthd2FpdCBQcm9taXNlLmFsbCh0KSx0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKGU9PntlLnJlcXVlc3RzLmRvbmUuZm9yRWFjaCgoZT0+dGhpcy5fb25NZXNzYWdlKGUubWVzc2FnZSkpKX0pKX1hc3luYyByZWZyZXNoKGUsdCl7dCYmKHRoaXMuX2ZlYXR1cmVDb3VudD10LmZlYXR1cmVDb3VudCksYXdhaXQgdGhpcy5yZXNlbmQoITApfWFzeW5jIF9zZW5kUGF0Y2hRdWVyeShlLHQpe2NvbnN0IHM9bnVsbCE9ZS5vdXRGaWVsZHM/ZS5vdXRGaWVsZHM6W10sbz10aGlzLl9xdWVyeUluZm8ub3V0RmllbGRzLGE9by5maWx0ZXIoKGU9PiFzLmluY2x1ZGVzKGUpKSk7aWYoIWEubGVuZ3RoKXJldHVybjtjb25zdCBuPWUuY2xvbmUoKSxpPXRoaXMuX3NpZ25hbDtuLnJldHVybkdlb21ldHJ5PSExLG4ucmV0dXJuQ2VudHJvaWQ9ITEsbi5vdXRGaWVsZHM9YSxlLm91dEZpZWxkcz1vO2NvbnN0IGQ9YXdhaXQgdGhpcy5lbnF1ZXVlUXVlcnkoe3F1ZXJ5Om4sZGVwdGg6MCxzaWduYWw6aX0pO3Ioe3NpZ25hbDppfSksdC5qb2luQXR0cmlidXRlcyhkKX1hc3luYyBfZmV0Y2hEYXRhVGlsZShlKXt0aGlzLl9kb3dubG9hZFByb21pc2U/Pz10aGlzLl9kb3dubG9hZCh0aGlzLl9mZWF0dXJlQ291bnQpO2NvbnN0IHQ9dGhpcy5fc3RvcmUuc2VhcmNoKGUpLHM9dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQoZS5rZXkuaWQpLHI9dC5sZW5ndGgtMTtmb3IobGV0IGQ9MDtkPHI7ZCsrKXtjb25zdCByPWgodFtkXSxlKSxhPXt0eXBlOlwiYXBwZW5kXCIsaWQ6ZS5pZCxhZGRPclVwZGF0ZTpyLGVuZDohMSxzdGF0dXM6dS5lbXB0eSgpfTtzLmFkZCh7cXVlcnk6bnVsbCxtZXNzYWdlOmF9KSx0aGlzLl9oYXNBZ2dyZWdhdGVzfHxhd2FpdCBvKDEpLHRoaXMuX29uTWVzc2FnZShhKX1jb25zdCBhPWgocj49MD90W3JdOm51bGwsZSksbj10aGlzLl9kaWRTZW5kRW5kLGk9e3R5cGU6XCJhcHBlbmRcIixpZDplLmlkLGFkZE9yVXBkYXRlOmEsZW5kOm4sc3RhdHVzOnUuZW1wdHkoKX07cy5hZGQoe3F1ZXJ5Om51bGwsbWVzc2FnZTppfSksdGhpcy5fb25NZXNzYWdlKGkpfWFzeW5jIF9kb3dubG9hZChlKXt0cnl7YXdhaXQgdGhpcy53aGVuSW5pdGlhbGl6ZWQoKTtjb25zdCB0PXRoaXMuX3N0b3JlLnN0b3JhZ2UuZ2V0Qml0c2V0KHRoaXMuX21hcmtlZElkc0J1ZklkKSxzPW5ldyBTZXQ7dC5jbGVhcigpO2NvbnN0IHI9TWF0aC5jZWlsKGUvdGhpcy5wYWdlU2l6ZSksbz1BcnJheS5mcm9tKHtsZW5ndGg6cn0sKChlLHQpPT50KSkuc29ydCgoKGUsdCk9PnRoaXMuX3JhbmRvbS5nZXRJbnQoKS10aGlzLl9yYW5kb20uZ2V0SW50KCkpKS5tYXAoKGU9PnRoaXMuX2Rvd25sb2FkUGFnZShlLHQscykpKTthd2FpdCBQcm9taXNlLmFsbChvKSx0aGlzLl9zdG9yZS5zd2VlcEZlYXR1cmVzKHQsdGhpcy5fc3RvcmUuc3RvcmFnZSksdGhpcy5fc3RvcmUuc3dlZXBGZWF0dXJlU2V0cyhzKX1jYXRjaChzKXt0LmdldExvZ2dlcihcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLnNvdXJjZXMuU25hcHNob3RGZWF0dXJlU291cmNlXCIpLmVycm9yKFwibWFwdmlldy1zbmFwc2hvdC1zb3VyY2VcIixcIkVuY291bnRlcmVkIGFuZCBlcnJvciB3aGVuIGRvd25sb2FkaW5nIGZlYXR1cmUgc25hcHNob3RcIixzKX10aGlzLl9zZW5kRW5kKCksdGhpcy5fbG9hZGluZz0hMX1hc3luYyBfZG93bmxvYWRQYWdlKGUsdCxzKXtjb25zdCBvPXRoaXMucGFnZVNpemUsYT17c3RhcnQ6ZSpvLG51bTpvLGNhY2hlSGludDohMH07bnVsbCE9dGhpcy5tYXhSZWNvcmRDb3VudEZhY3RvciYmKGEubWF4UmVjb3JkQ291bnRGYWN0b3I9dGhpcy5tYXhSZWNvcmRDb3VudEZhY3Rvcik7Y29uc3Qgbj10aGlzLmNyZWF0ZVF1ZXJ5KGEpLGk9dGhpcy5fc2lnbmFsLGQ9YXdhaXQgdGhpcy5lbnF1ZXVlUXVlcnkoe3F1ZXJ5Om4sZGVwdGg6ZSxzaWduYWw6aX0pO3Ioe3NpZ25hbDppfSksdGhpcy5fcXVlcmllcy5wdXNoKHtxdWVyeTpuLHJlYWRlcjpkfSksdGhpcy5fc3RvcmUuaW5zZXJ0KGQpLHMuYWRkKGQuaW5zdGFuY2UpO2NvbnN0IHU9ZC5nZXRDdXJzb3IoKTtmb3IoO3UubmV4dCgpOyl0LnNldCh1LmdldERpc3BsYXlJZCgpKTt0aGlzLl9zZW5kKGQpfV9zZW5kKGUpe2lmKCF0aGlzLl9zdWJzY3JpcHRpb25zLnNpemUpcmV0dXJuO2xldCB0PW51bGw7Y29uc3Qgcz1uZXcgTWFwLHI9bmV3IFNldCxvPW5ldyBNYXA7dGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChlPT57Y29uc3QgYT1lLnRpbGU7cy5zZXQoYS5rZXkuaWQsbnVsbCksdD1hLnRpbGVJbmZvVmlldyxyLmFkZChhLmxldmVsKTtjb25zdHtyb3c6bixjb2w6aX09YS5rZXksZD1gJHthLmxldmVsfS8ke259LyR7aX1gLHU9by5nZXQoZCk/P1tdO3UucHVzaChlKSxvLnNldChkLHUpfSkpO2Zvcihjb25zdCBhIG9mIHIpe2NvbnN0IHI9dC5nZXRMT0RJbmZvQXQoYSksbj1lLmdldEN1cnNvcigpO2Zvcig7bi5uZXh0KCk7KXtjb25zdCBlPWwobixyLGEpLHQ9bi5nZXRJbmRleCgpO2lmKG8uaGFzKGUpKWZvcihjb25zdCByIG9mIG8uZ2V0KGUpKXtjb25zdCBlPXIudGlsZS5pZDtsZXQgbz1zLmdldChlKTtudWxsPT1vJiYobz1bXSxzLnNldChlLG8pKSxvLnB1c2godCl9fX1zLmZvckVhY2goKCh0LHMpPT57aWYobnVsbCE9dCl7Y29uc3Qgcj10aGlzLl9zdWJzY3JpcHRpb25zLmdldChzKSxvPXt0eXBlOlwiYXBwZW5kXCIsaWQ6cyxhZGRPclVwZGF0ZTpoKGQuZnJvbShlLHQpLHIudGlsZSksZW5kOiExLHN0YXR1czp1LmVtcHR5KCl9O3IuYWRkKHtxdWVyeTpudWxsLG1lc3NhZ2U6b30pLHRoaXMuX29uTWVzc2FnZShvKX19KSl9X3NlbmRFbmQoKXt0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKGU9Pntjb25zdCB0PXt0eXBlOlwiYXBwZW5kXCIsaWQ6ZS50aWxlLmlkLGFkZE9yVXBkYXRlOm51bGwsZW5kOiEwLHN0YXR1czp1LmVtcHR5KCl9O2UuYWRkKHtxdWVyeTpudWxsLG1lc3NhZ2U6dH0pLHRoaXMuX29uTWVzc2FnZSh0KX0pKSx0aGlzLl9kaWRTZW5kRW5kPSEwfX07Yz1lKFtuKFwiZXNyaS52aWV3LjJkLmxheWVycy5mZWF0dXJlcy5zb3VyY2VzLlNuYXBzaG90RmVhdHVyZVNvdXJjZVwiKV0sYyk7ZXhwb3J0e2MgYXMgU25hcHNob3RGZWF0dXJlU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtsZXQgcz1jbGFzcyBleHRlbmRzIG97Y29uc3RydWN0b3Iocil7c3VwZXIocil9Z2V0IGNvbm5lY3Rpb25TdGF0dXMoKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uPy5jb25uZWN0aW9uU3RhdHVzfWdldCBlcnJvclN0cmluZygpe3JldHVybiB0aGlzLmNvbm5lY3Rpb24/LmVycm9yU3RyaW5nfX07cihbdCgpXSxzLnByb3RvdHlwZSxcImNvbm5lY3Rpb25cIix2b2lkIDApLHIoW3QoKV0scy5wcm90b3R5cGUsXCJjb25uZWN0aW9uU3RhdHVzXCIsbnVsbCkscihbdCgpXSxzLnByb3RvdHlwZSxcImVycm9yU3RyaW5nXCIsbnVsbCkscz1yKFtlKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMuc291cmNlcy5TdHJlYW1Db25uZWN0aW9uU3RhdGVcIildLHMpO2V4cG9ydHtzIGFzIFN0cmVhbUNvbm5lY3Rpb25TdGF0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2hhbmRsZXNHcm91cCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3IgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jaHVua3MvcmJ1c2guanNcIjtpbXBvcnR7Y29udmVydEZyb21GZWF0dXJlIGFzIHMscXVhbnRpemVPcHRpbWl6ZWRHZW9tZXRyeSBhcyBpLHF1YW50aXplWCBhcyBuLHF1YW50aXplWSBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e1N0cmVhbUZlYXR1cmVNYW5hZ2VyIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvU3RyZWFtRmVhdHVyZU1hbmFnZXIuanNcIjtpbXBvcnR7Y3JlYXRlQ29ubmVjdGlvbiBhcyBkfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9zb3VyY2VzL2Nvbm5lY3Rpb25zL2NyZWF0ZUNvbm5lY3Rpb24uanNcIjtpbXBvcnR7RGF0YVRpbGVTb3VyY2UgYXMgY31mcm9tXCIuL0RhdGFUaWxlU291cmNlLmpzXCI7aW1wb3J0e1N0cmVhbUNvbm5lY3Rpb25TdGF0ZSBhcyBofWZyb21cIi4vU3RyZWFtQ29ubmVjdGlvblN0YXRlLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJKU09OIGFzIHV9ZnJvbVwiLi4vc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVySlNPTi5qc1wiO2ltcG9ydHtVcGRhdGVUb2tlbiBhcyBsfWZyb21cIi4uL3N1cHBvcnQvVXBkYXRlVG9rZW4uanNcIjtjb25zdCBwPTI1MDA7ZnVuY3Rpb24gXyhlLHQpe2NvbnN0IHM9ZS53ZWFrQ2xvbmUoKTtpZihudWxsIT1lLmdlb21ldHJ5KXtjb25zdCBpPW4odCxlLmdlb21ldHJ5LmNvb3Jkc1swXSksbz1yKHQsZS5nZW9tZXRyeS5jb29yZHNbMV0pO3MuZ2VvbWV0cnk9bmV3IGEoW10sW2ksb10pfXJldHVybiBzfWZ1bmN0aW9uIG0oZSl7cmV0dXJuXCJlc3JpR2VvbWV0cnlQb2ludFwiPT09ZT9fOih0LHMpPT57Y29uc3Qgbj10LndlYWtDbG9uZSgpLHI9bmV3IGEsbz0hMSxkPSExLGM9aShyLHQuZ2VvbWV0cnksbyxkLGUscywhMSwhMSk7cmV0dXJuIG4uZ2VvbWV0cnk9YyxufX1mdW5jdGlvbiB5KGUpe3JldHVyblwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PWU/ZT0+bnVsbCE9ZS5nZW9tZXRyeT97bWluWDplLmdlb21ldHJ5LmNvb3Jkc1swXSxtaW5ZOmUuZ2VvbWV0cnkuY29vcmRzWzFdLG1heFg6ZS5nZW9tZXRyeS5jb29yZHNbMF0sbWF4WTplLmdlb21ldHJ5LmNvb3Jkc1sxXX06e21pblg6MS8wLG1pblk6MS8wLG1heFg6LTEvMCxtYXhZOi0xLzB9OmU9PntsZXQgdD0xLzAscz0xLzAsaT0tMS8wLG49LTEvMDtyZXR1cm4gbnVsbCE9ZS5nZW9tZXRyeSYmZS5nZW9tZXRyeS5mb3JFYWNoVmVydGV4KCgoZSxyKT0+e3Q9TWF0aC5taW4odCxlKSxzPU1hdGgubWluKHMsciksaT1NYXRoLm1heChpLGUpLG49TWF0aC5tYXgobixyKX0pKSx7bWluWDp0LG1pblk6cyxtYXhYOmksbWF4WTpufX19ZnVuY3Rpb24gZyhlLHMpe2NvbnN0IGk9dCg5LHkocykpO3JldHVybiBpLmxvYWQoZSksaX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIGUuc2VhcmNoKHttaW5YOnQuYm91bmRzWzBdLG1pblk6dC5ib3VuZHNbMV0sbWF4WDp0LmJvdW5kc1syXSxtYXhZOnQuYm91bmRzWzNdfSl9Y2xhc3Mgdntjb25zdHJ1Y3RvcihlLHQpe3RoaXMub25VcGRhdGU9ZSx0aGlzLl9nZW9tZXRyeVR5cGU9dCx0aGlzLl9vYmplY3RJZFRvRmVhdHVyZT1uZXcgTWFwLHRoaXMuX2luZGV4PW51bGx9Z2V0IF9mZWF0dXJlcygpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMuX29iamVjdElkVG9GZWF0dXJlLmZvckVhY2goKHQ9PmUucHVzaCh0KSkpLGV9YWRkKGUpe3RoaXMuX29iamVjdElkVG9GZWF0dXJlLnNldChlLm9iamVjdElkLGUpLHRoaXMuX2luZGV4PW51bGx9Z2V0KGUpe3JldHVybiB0aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5oYXMoZSk/dGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuZ2V0KGUpOm51bGx9Zm9yRWFjaChlKXt0aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5mb3JFYWNoKGUpfXNlYXJjaChlKXtyZXR1cm4gdGhpcy5faW5kZXh8fCh0aGlzLl9pbmRleD1nKHRoaXMuX2ZlYXR1cmVzLHRoaXMuX2dlb21ldHJ5VHlwZSkpLGYodGhpcy5faW5kZXgsZSl9Y2xlYXIoKXt0aGlzLl9pbmRleD1udWxsLHRoaXMuX29iamVjdElkVG9GZWF0dXJlLmNsZWFyKCl9cmVtb3ZlQnlJZChlKXtjb25zdCB0PXRoaXMuX29iamVjdElkVG9GZWF0dXJlLmdldChlKTtyZXR1cm4gdD8odGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuZGVsZXRlKGUpLHRoaXMuX2luZGV4PW51bGwsdCk6bnVsbH11cGRhdGUoZSx0KXt0aGlzLm9uVXBkYXRlKGUsdCl9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuc2l6ZX19Y2xhc3MgSSBleHRlbmRzIGN7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy50eXBlPVwic3RyZWFtXCIsdGhpcy5fdXBkYXRlSW50ZXJ2YWxJZD0wLHRoaXMuX2xldmVsPTAsdGhpcy5faXNQYXVzZWQ9ITEsdGhpcy5fdXBkYXRlSW5mbz17d2Vic29ja2V0OjAsY2xpZW50OjB9LHRoaXMuX2luVXBkYXRlPSExO2NvbnN0e291dFNSOnN9PXQse2dlb21ldHJ5VHlwZTppLG9iamVjdElkRmllbGQ6bix0aW1lSW5mbzpyLHB1cmdlT3B0aW9uczphLHNvdXJjZTpjLHNwYXRpYWxSZWZlcmVuY2U6dSxzZXJ2aWNlRmlsdGVyOmwsbWF4UmVjb25uZWN0aW9uQXR0ZW1wdHM6XyxtYXhSZWNvbm5lY3Rpb25JbnRlcnZhbDp5LHVwZGF0ZUludGVydmFsOmcsY3VzdG9tUGFyYW1ldGVyczpmLGVuYWJsZWRFdmVudFR5cGVzOkl9PXQuc2VydmljZUluZm8sYj1uZXcgdih0aGlzLl9vblVwZGF0ZS5iaW5kKHRoaXMpLGkpLFQ9bmV3IG8oYixuLHIsYSksUz1kKGMsdSxzLGksbCxfLHksZj8/e30pO3RoaXMuX2Nvbm5lY3Rpb25TdGF0ZT1uZXcgaCh7Y29ubmVjdGlvbjpTfSksdGhpcy5fc3RvcmU9Yix0aGlzLl9tYW5hZ2VyPVQsdGhpcy5fY29ubmVjdGlvbj1TLHRoaXMuX3F1YW50aXplPW0oaSksdGhpcy5fZW5hYmxlZEV2ZW50VHlwZXM9bmV3IFNldChJKSx0aGlzLl9oYW5kbGVzR3JvdXA9ZShbdGhpcy5fY29ubmVjdGlvbi5vbihcImRhdGEtcmVjZWl2ZWRcIiwoZT0+dGhpcy5fb25GZWF0dXJlKGUpKSksdGhpcy5fY29ubmVjdGlvbi5vbihcIm1lc3NhZ2UtcmVjZWl2ZWRcIiwoZT0+dGhpcy5fb25XZWJTb2NrZXRNZXNzYWdlKGUpKSldKSx0aGlzLl9pbml0VXBkYXRlSW50ZXJ2YWw9KCk9PntsZXQgZT1wZXJmb3JtYW5jZS5ub3coKTt0aGlzLl91cGRhdGVJbnRlcnZhbElkPXNldEludGVydmFsKCgoKT0+e2NvbnN0IHM9cGVyZm9ybWFuY2Uubm93KCksaT1zLWU7aWYoaT5wKXtlPXM7Y29uc3QgdD1NYXRoLnJvdW5kKHRoaXMuX3VwZGF0ZUluZm8uY2xpZW50LyhpLzFlMykpLG49TWF0aC5yb3VuZCh0aGlzLl91cGRhdGVJbmZvLndlYnNvY2tldC8oaS8xZTMpKTt0aGlzLl91cGRhdGVJbmZvLmNsaWVudD0wLHRoaXMuX3VwZGF0ZUluZm8ud2Vic29ja2V0PTAsdGhpcy5ldmVudHMuZW1pdChcInVwZGF0ZVJhdGVcIix7Y2xpZW50OnQsd2Vic29ja2V0Om59KX10LmNhbkFjY2VwdFJlcXVlc3QoKSYmIXRoaXMuX2luVXBkYXRlJiZ0aGlzLl9tYW5hZ2VyLmNoZWNrRm9yVXBkYXRlcygpfSksZyl9LHRoaXMuX2lzUGF1c2VkPXQuc2VydmljZUluZm8uaXNQYXVzZWQsdGhpcy5faXNQYXVzZWR8fHRoaXMuX2luaXRVcGRhdGVJbnRlcnZhbCgpfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5fY2xlYXJVcGRhdGVJbnRlcnZhbCgpLHRoaXMuX2Nvbm5lY3Rpb24uZGVzdHJveSgpLHRoaXMuX2hhbmRsZXNHcm91cD8ucmVtb3ZlKCl9X2ZldGNoRGF0YVRpbGUoKXt9Z2V0IGNvbm5lY3Rpb25TdGF0dXMoKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlLmNvbm5lY3Rpb25TdGF0dXN9Z2V0IGVycm9yU3RyaW5nKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZS5lcnJvclN0cmluZ311cGRhdGVDdXN0b21QYXJhbWV0ZXJzKGUpe3RoaXMuX2Nvbm5lY3Rpb24udXBkYXRlQ3VzdG9tUGFyYW1ldGVycyhlKX1wYXVzZVN0cmVhbSgpe3RoaXMuX2lzUGF1c2VkfHwodGhpcy5faXNQYXVzZWQ9ITAsdGhpcy5fY2xlYXJVcGRhdGVJbnRlcnZhbCgpKX1yZXN1bWVTdHJlYW0oKXt0aGlzLl9pc1BhdXNlZCYmKHRoaXMuX2lzUGF1c2VkPSExLHRoaXMuX2luaXRVcGRhdGVJbnRlcnZhbCgpKX1zZW5kTWVzc2FnZVRvU29ja2V0KGUpe3RoaXMuX2Nvbm5lY3Rpb24uc2VuZE1lc3NhZ2VUb1NvY2tldChlKX1zZW5kTWVzc2FnZVRvQ2xpZW50KGUpe3RoaXMuX2lzUGF1c2VkJiZcInR5cGVcImluIGUmJlwiY2xlYXJcIj09PWUudHlwZT8odGhpcy5fc3RvcmUuY2xlYXIoKSx0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKChlLHQpPT57ZS5kaWRTZW5kJiZlLnRpbGUubGV2ZWw9PT10aGlzLl9sZXZlbCYmdGhpcy5fb25NZXNzYWdlKHt0eXBlOlwiYXBwZW5kXCIsaWQ6dCxhZGRPclVwZGF0ZTpudWxsLGNsZWFyOiEwLGVuZDohMH0pfSkpKTp0aGlzLl9jb25uZWN0aW9uLnNlbmRNZXNzYWdlVG9DbGllbnQoZSl9ZW5hYmxlRXZlbnQoZSx0KXt0P3RoaXMuX2VuYWJsZWRFdmVudFR5cGVzLmFkZChlKTp0aGlzLl9lbmFibGVkRXZlbnRUeXBlcy5kZWxldGUoZSl9c3Vic2NyaWJlKGUsdCl7Y29uc3Qgcz1zdXBlci5zdWJzY3JpYmUoZSx0KTt0aGlzLl9sZXZlbD1lLmxldmVsO2NvbnN0IGk9dGhpcy5fZ2V0VGlsZUZlYXR1cmVzKGUpO3JldHVybiB0aGlzLl9vbk1lc3NhZ2Uoe3R5cGU6XCJhcHBlbmRcIixpZDplLmtleS5pZCxhZGRPclVwZGF0ZTppLGVuZDohMH0pLHMuZGlkU2VuZD0hMCxzfXVuc3Vic2NyaWJlKGUpe3N1cGVyLnVuc3Vic2NyaWJlKGUpfSpyZWFkZXJzKGUpe2NvbnN0IHQ9dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQoZSkse3RpbGU6c309dDt5aWVsZCB0aGlzLl9nZXRUaWxlRmVhdHVyZXMocyl9Y3JlYXRlVGlsZVF1ZXJ5KGUpe3Rocm93IG5ldyBFcnJvcihcIlNlcnZpY2UgZG9lcyBub3Qgc3VwcG9ydCB0aWxlICBxdWVyaWVzXCIpfWFzeW5jIHJlc2VuZCgpe3RoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e2NvbnN0e3RpbGU6dH09ZSxzPXt0eXBlOlwiYXBwZW5kXCIsaWQ6dC5pZCxhZGRPclVwZGF0ZTp0aGlzLl9nZXRUaWxlRmVhdHVyZXModCksZW5kOiEwfTt0aGlzLl9vbk1lc3NhZ2Uocyl9KSl9X2dldFRpbGVGZWF0dXJlcyhlKXtjb25zdCB0PXRoaXMuX3N0b3JlLnNlYXJjaChlKS5tYXAoKHQ9PnRoaXMuX3F1YW50aXplKHQsZS50cmFuc2Zvcm0pKSk7cmV0dXJuIHUuZnJvbU9wdGltaXplZEZlYXR1cmVzKHQsdGhpcy5fYXJjYWRlTGF5ZXJTY2hlbWEsZS50cmFuc2Zvcm0pfV9vbldlYlNvY2tldE1lc3NhZ2UoZSl7aWYodGhpcy5fZW5hYmxlZEV2ZW50VHlwZXMuaGFzKFwibWVzc2FnZS1yZWNlaXZlZFwiKSYmdGhpcy5ldmVudHMuZW1pdChcIm1lc3NhZ2UtcmVjZWl2ZWRcIixlKSxcInR5cGVcImluIGUpc3dpdGNoKGUudHlwZSl7Y2FzZVwiZGVsZXRlXCI6aWYoZS5vYmplY3RJZHMpZm9yKGNvbnN0IHQgb2YgZS5vYmplY3RJZHMpdGhpcy5fbWFuYWdlci5yZW1vdmVCeUlkKHQpO2lmKGUudHJhY2tJZHMpZm9yKGNvbnN0IHQgb2YgZS50cmFja0lkcyl0aGlzLl9tYW5hZ2VyLnJlbW92ZUJ5VHJhY2tJZCh0KTticmVhaztjYXNlXCJjbGVhclwiOnRoaXMuX3N0b3JlLmZvckVhY2goKGU9PnRoaXMuX21hbmFnZXIucmVtb3ZlQnlJZChlLm9iamVjdElkKSkpfX1fb25GZWF0dXJlKGUpe3RoaXMuX3VwZGF0ZUluZm8ud2Vic29ja2V0Kys7dHJ5e3RoaXMuX2VuYWJsZWRFdmVudFR5cGVzLmhhcyhcImRhdGEtcmVjZWl2ZWRcIikmJnRoaXMuZXZlbnRzLmVtaXQoXCJkYXRhLXJlY2VpdmVkXCIsZSk7Y29uc3QgdD1zKGUsdGhpcy5fc2VydmljZUluZm8uZ2VvbWV0cnlUeXBlLCExLCExLHRoaXMuX3NlcnZpY2VJbmZvLm9iamVjdElkRmllbGQpO3RoaXMuX21hbmFnZXIuYWRkKHQpfWNhdGNoKHQpe319X2NsZWFyVXBkYXRlSW50ZXJ2YWwoKXtjbGVhckludGVydmFsKHRoaXMuX3VwZGF0ZUludGVydmFsSWQpLHRoaXMuX3VwZGF0ZUludGVydmFsSWQ9MH1hc3luYyBfb25VcGRhdGUoZSx0KXt0aGlzLl9pblVwZGF0ZT0hMDt0cnl7bnVsbCE9ZSYmKHRoaXMuX3VwZGF0ZUluZm8uY2xpZW50Kz1lLmxlbmd0aCksdGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKCgoZSx0KT0+e2UuZGlkU2VuZCYmZS50aWxlLmxldmVsPT09dGhpcy5fbGV2ZWwmJnRoaXMuX29uTWVzc2FnZSh7dHlwZTpcImFwcGVuZFwiLGlkOnQsYWRkT3JVcGRhdGU6bnVsbCxjbGVhcjohMCxlbmQ6ITF9KX0pKTtjb25zdCB0PVtdO3RoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoKGUscyk9PntpZighZS5kaWRTZW5kfHxlLnRpbGUubGV2ZWwhPT10aGlzLl9sZXZlbClyZXR1cm47Y29uc3QgaT1lLnRpbGUsbj17dHlwZTpcImFwcGVuZFwiLGlkOnMsYWRkT3JVcGRhdGU6dGhpcy5fZ2V0VGlsZUZlYXR1cmVzKGkpLHJlbW92ZTpbXSxlbmQ6ITEsc3RhdHVzOmwuZW1wdHkoKX07ZS5yZXF1ZXN0cy5zdHJlYW0uZW5xdWV1ZShuKSx0LnB1c2godGhpcy5fb25NZXNzYWdlKG4pKX0pKSxhd2FpdCBQcm9taXNlLmFsbCh0KSx0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKChlLHQpPT57ZS5kaWRTZW5kJiZlLnRpbGUubGV2ZWw9PT10aGlzLl9sZXZlbCYmdGhpcy5fb25NZXNzYWdlKHt0eXBlOlwiYXBwZW5kXCIsaWQ6dCxhZGRPclVwZGF0ZTpudWxsLGVuZDohMH0pfSkpfWNhdGNoe310aGlzLl9pblVwZGF0ZT0hMX19ZXhwb3J0e0kgYXMgU3RyZWFtU291cmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aXNIb3N0ZWRBZ29sU2VydmljZSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2FyY2dpc0xheWVyVXJsLmpzXCI7aW1wb3J0e0RyaWxsRG93bkZlYXR1cmVTb3VyY2UgYXMgcn1mcm9tXCIuL0RyaWxsRG93bkZlYXR1cmVTb3VyY2UuanNcIjtpbXBvcnR7UGFnZWRGZWF0dXJlU291cmNlIGFzIHR9ZnJvbVwiLi9QYWdlZEZlYXR1cmVTb3VyY2UuanNcIjtpbXBvcnR7U25hcHNob3RGZWF0dXJlU291cmNlIGFzIGF9ZnJvbVwiLi9TbmFwc2hvdEZlYXR1cmVTb3VyY2UuanNcIjtpbXBvcnR7U3RyZWFtU291cmNlIGFzIG99ZnJvbVwiLi9TdHJlYW1Tb3VyY2UuanNcIjtmdW5jdGlvbiBzKGUscyxjLHUsaSxwLG0pe2NvbnN0IGY9bihlLHMsYyx1LGkscCxtKTtzd2l0Y2goZi50eXBlKXtjYXNlXCJmZWF0dXJlXCI6c3dpdGNoKGYub3JpZ2luKXtjYXNlXCJob3N0ZWRcIjpjYXNlXCJsb2NhbFwiOnJldHVybiBuZXcgdChmKTtjYXNlXCJzbmFwc2hvdFwiOnJldHVybiBuZXcgYShmKTtkZWZhdWx0OnJldHVybiBuZXcgcihmKX1jYXNlXCJzdHJlYW1cIjpyZXR1cm4gbmV3IG8oZil9fWZ1bmN0aW9uIG4ocix0LGEsbyxzLG4sYyl7c3dpdGNoKHIudHlwZSl7Y2FzZVwic25hcHNob3RcIjpyZXR1cm57dHlwZTpcImZlYXR1cmVcIixvcmlnaW46XCJzbmFwc2hvdFwiLGZlYXR1cmVDb3VudDpyLmZlYXR1cmVDb3VudD8/MCxzZXJ2aWNlSW5mbzpyLG9uTWVzc2FnZTpzLG91dFNSOmEsdGlsZUluZm9WaWV3Om8sY2FuQWNjZXB0UmVxdWVzdDpuLHN0b3JlOmMsYXJjYWRlTGF5ZXJTY2hlbWE6dH07Y2FzZVwic3RyZWFtXCI6cmV0dXJue3R5cGU6XCJzdHJlYW1cIixzZXJ2aWNlSW5mbzpyLG9uTWVzc2FnZTpzLG91dFNSOmEsY2FuQWNjZXB0UmVxdWVzdDpuLGFyY2FkZUxheWVyU2NoZW1hOnR9O2Nhc2VcIm1lbW9yeVwiOmNhc2VcIm9uLWRlbWFuZFwiOnJldHVybnt0eXBlOlwiZmVhdHVyZVwiLHNlcnZpY2VJbmZvOnIsb25NZXNzYWdlOnMsb3V0U1I6YSxvcmlnaW46dShyLnNvdXJjZSksdGlsZUluZm9WaWV3Om8sY2FuQWNjZXB0UmVxdWVzdDpuLGFyY2FkZUxheWVyU2NoZW1hOnR9fWZ1bmN0aW9uIHUocil7cmV0dXJuIEFycmF5LmlzQXJyYXkocik/XCJsb2NhbFwiOlwicGF0aFwiaW4gciYmZShyLnBhdGgpP1wiaG9zdGVkXCI6XCJ1bmtub3duXCJ9fWV4cG9ydHtzIGFzIGNyZWF0ZVNvdXJjZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkaWZmIGFzIHMsaGFzRGlmZiBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtHZW9oYXNoVHJlZSBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb2hhc2gvR2VvaGFzaFRyZWUuanNcIjtpbXBvcnR7c2V0R2VvaGFzaEJ1ZiBhcyBvLHNldEdlb2hhc2hYWSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb2hhc2gvZ2VvaGFzaFV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBofWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHtlYXJ0aCBhcyBufWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvRWxsaXBzb2lkLmpzXCI7aW1wb3J0e2dldEluZm8gYXMgZH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtnZXRCb3VuZHNPcHRpbWl6ZWRHZW9tZXRyeSBhcyBsLGNvbnZlcnRUb0dlb21ldHJ5IGFzIHAsY29udmVydEZyb21Qb2x5Z29uIGFzIGd9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7T3B0aW1pemVkRmVhdHVyZSBhcyBmfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRGZWF0dXJlLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e2NoZWNrUHJvamVjdGlvblN1cHBvcnQgYXMgYyxwcm9qZWN0IGFzIG19ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvcHJvamVjdGlvblN1cHBvcnQuanNcIjtpbXBvcnQgXyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydHtjcmVhdGVEaXNwbGF5SWQgYXMgeX1mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvRGlzcGxheUlkLmpzXCI7aW1wb3J0e2ZlYXR1cmVBZGFwdGVyIGFzIEl9ZnJvbVwiLi4vRmVhdHVyZVN0b3JlMkQuanNcIjtpbXBvcnR7U3RvcmUyRCBhcyBifWZyb21cIi4uL1N0b3JlMkQuanNcIjtpbXBvcnR7RmVhdHVyZVNldFJlYWRlckpTT04gYXMgan1mcm9tXCIuL0ZlYXR1cmVTZXRSZWFkZXJKU09OLmpzXCI7aW1wb3J0IHggZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydCB2IGZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L1BvbHlnb24uanNcIjtpbXBvcnQgQiBmcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtjb25zdCBGPXQuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3LjJkLmxheWVycy5mZWF0dXJlcy5zdXBwb3J0LkJpblN0b3JlXCIpLFM9MTIsRz02NCxSPWgoKSxMPTU7ZnVuY3Rpb24gVChlKXtyZXR1cm4gNTcuMjk1Nzc5NTEzMDgyMzIqZX1jbGFzcyBBIGV4dGVuZHMgYntjb25zdHJ1Y3Rvcih0LHMscixpKXtzdXBlcih0LHIpLHRoaXMudHlwZT1cImJpblwiLHRoaXMuZXZlbnRzPW5ldyBlLHRoaXMub2JqZWN0SWRGaWVsZD1cImFnZ3JlZ2F0ZUlkXCIsdGhpcy5mZWF0dXJlQWRhcHRlcj1JLHRoaXMuX2dlb2hhc2hMZXZlbD1MLHRoaXMuX2dlb2hhc2hCdWY9W10sdGhpcy5fc2VydmljZUluZm89aSx0aGlzLmdlb21ldHJ5SW5mbz10Lmdlb21ldHJ5SW5mbyx0aGlzLl9zcGF0aWFsUmVmZXJlbmNlPXMsdGhpcy5fcHJvamVjdGlvblN1cHBvcnRDaGVjaz1jKHMseC5XR1M4NCksdGhpcy5fYml0c2V0cy5nZW9oYXNoPXIuZ2V0Qml0c2V0KHIuY3JlYXRlQml0c2V0KCkpLHRoaXMuX2JpdHNldHMuaW5zZXJ0ZWQ9ci5nZXRCaXRzZXQoci5jcmVhdGVCaXRzZXQoKSl9ZGVzdHJveSgpe3RoaXMuX3RyZWUmJnRoaXMuX3RyZWUuZGVzdHJveSgpfWdldCBmZWF0dXJlU3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLl9zcGF0aWFsUmVmZXJlbmNlfWdldCBmaWVsZHMoKXtyZXR1cm4gdGhpcy5fZmllbGRzfWFzeW5jIHVwZGF0ZVNjaGVtYShlLHQpe2NvbnN0IG89dGhpcy5fc2NoZW1hO3RyeXthd2FpdCBzdXBlci51cGRhdGVTY2hlbWEoZSx0KSxhd2FpdCB0aGlzLl9wcm9qZWN0aW9uU3VwcG9ydENoZWNrfWNhdGNoKGgpe310aGlzLl9maWVsZHM9dGhpcy5fc2NoZW1hLnBhcmFtcy5maWVsZHMsdGhpcy5fZmllbGRzSW5kZXg9bmV3IF8odGhpcy5fZmllbGRzKTtjb25zdCBhPXMobyx0KTt0JiYobnVsbCE9YXx8ZS5zb3VyY2V8fGUuc3RvcmFnZS5maWx0ZXJzKT8oKHIoYSxcInBhcmFtcy5maWVsZHNcIil8fHIoYSxcInBhcmFtc1wiKXx8IXRoaXMuX3RyZWV8fGUuc291cmNlKSYmKHRoaXMuX3RyZWUmJnRoaXMuX3RyZWUuZGVzdHJveSgpLHRoaXMuX3RyZWU9bmV3IGkodGhpcy5fc3RhdGlzdGljRmllbGRzLHRoaXMuX3NlcnZpY2VJbmZvKSx0aGlzLl90cmVlLm9uUmVsZWFzZT1lPT5lLmRpc3BsYXlJZCYmdGhpcy5fc3RvcmFnZS5yZWxlYXNlRGlzcGxheUlkKGUuZGlzcGxheUlkKSx0aGlzLl9nZW9oYXNoTGV2ZWw9dGhpcy5fc2NoZW1hLnBhcmFtcy5maXhlZEJpbkxldmVsLHRoaXMuX3JlYnVpbGRUcmVlKCksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJkYuaW5mbyhcIkFnZ3JlZ2F0ZSBtZXNoIG5lZWRzIHVwZGF0ZSBkdWUgdG8gdHJlZSBjaGFuZ2luZ1wiKSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJkYuaW5mbyhcIkFnZ3JlZ2F0ZSBtZXNoIG5lZWRzIHVwZGF0ZSBkdWUgdG8gdHJlZSBjaGFuZ2luZ1wiKSxlLnRhcmdldHNbdC5uYW1lXT0hMCxlLm1lc2g9ITEpOm8mJihlLm1lc2g9ITApfWNsZWFyKCl7dGhpcy5fcmVidWlsZFRyZWUoKX1zd2VlcEZlYXR1cmVzKGUsdCl7dGhpcy5fYml0c2V0cy5pbnNlcnRlZC5mb3JFYWNoU2V0KChzPT57aWYoIWUuaGFzKHMpKXtjb25zdCBlPXQubG9va3VwQnlEaXNwbGF5SWRVbnNhZmUocyk7dGhpcy5fcmVtb3ZlKGUpfX0pKX1zd2VlcEFnZ3JlZ2F0ZXMoZSx0LHMpe31vblRpbGVEYXRhKGUsdCxzLHIsaSxvPSEwKXtpZighdGhpcy5fc2NoZW1hfHxudWxsPT10LmFkZE9yVXBkYXRlKXJldHVybiB0O3RoaXMuZXZlbnRzLmVtaXQoXCJjaGFuZ2VkXCIpO2NvbnN0IGE9dGhpcy5fZ2V0VHJhbnNmb3JtcyhlLHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UpO3tjb25zdCBlPXQuYWRkT3JVcGRhdGUuZ2V0Q3Vyc29yKCk7Zm9yKDtlLm5leHQoKTspdGhpcy5fdXBkYXRlKGUscil9aWYodC5zdGF0dXMubWVzaHx8IW8pcmV0dXJuIHQ7Y29uc3QgaD1uZXcgQXJyYXk7dGhpcy5fZ2V0Qmluc0ZvclRpbGUoaCxlLGEscyksdC5hZGRPclVwZGF0ZT1qLmZyb21PcHRpbWl6ZWRGZWF0dXJlcyhoLHtmaWVsZHM6dGhpcy5maWVsZHMsZmllbGRzSW5kZXg6dGhpcy5fZmllbGRzSW5kZXgsZ2VvbWV0cnlUeXBlOlwiZXNyaUdlb21ldHJ5UG9seWdvblwiLG9iamVjdElkRmllbGQ6dGhpcy5vYmplY3RJZEZpZWxkfSksdC5hZGRPclVwZGF0ZS5hdHRhY2hTdG9yYWdlKHMpLHQuZW5kPSEwLHQuaXNSZXB1c2h8fCh0LmNsZWFyPSEwKTt7Y29uc3Qgcj10LmFkZE9yVXBkYXRlLmdldEN1cnNvcigpO2Zvcig7ci5uZXh0KCk7KXtjb25zdCB0PXIuZ2V0RGlzcGxheUlkKCk7dGhpcy5fYml0c2V0cy5jb21wdXRlZC51bnNldCh0KSx0aGlzLnNldENvbXB1dGVkQXR0cmlidXRlcyhzLHIsdCxlLnNjYWxlLGkpfX1yZXR1cm4gdH1mb3JFYWNoQmluKGUpe3RoaXMuX3RyZWUuZm9yRWFjaChlKX1mb3JFYWNoKGUpe3RoaXMuX3RyZWUuZm9yRWFjaCgodD0+e2lmKHQuZGVwdGghPT10aGlzLl9nZW9oYXNoTGV2ZWwpcmV0dXJuO2NvbnN0IHM9dGhpcy5fdG9GZWF0dXJlSlNPTih0KSxyPWouZnJvbUZlYXR1cmVzKFtzXSx7b2JqZWN0SWRGaWVsZDp0aGlzLm9iamVjdElkRmllbGQsZ2xvYmFsSWRGaWVsZDpudWxsLGdlb21ldHJ5VHlwZTp0aGlzLmdlb21ldHJ5SW5mby5nZW9tZXRyeVR5cGUsZmllbGRzOnRoaXMuZmllbGRzLGZpZWxkc0luZGV4OnRoaXMuX2ZpZWxkc0luZGV4fSkuZ2V0Q3Vyc29yKCk7ci5uZXh0KCksZShyKX0pKX1mb3JFYWNoSW5Cb3VuZHMoZSx0KXt9Zm9yRWFjaEJvdW5kcyhlLHQpe2NvbnN0e2hhc006cyxoYXNaOnJ9PXRoaXMuZ2VvbWV0cnlJbmZvO2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9bChSLGkucmVhZEdlb21ldHJ5KCkscixzKTtudWxsIT1lJiZ0KGUpfX1vblRpbGVVcGRhdGUoZSl7fWdldEFnZ3JlZ2F0ZShlKXtjb25zdCB0PXkoZSwhMCkscz10aGlzLl90cmVlLmZpbmRJZigoZT0+ZS5kaXNwbGF5SWQ9PT10KSk7cmV0dXJuIHM/dGhpcy5fdG9GZWF0dXJlSlNPTihzKTpudWxsfWdldEFnZ3JlZ2F0ZXMoKXtyZXR1cm4gdGhpcy5fdHJlZS5maW5kQWxsSWYoKGU9PmUuZGVwdGg9PT10aGlzLl9nZW9oYXNoTGV2ZWwpKS5tYXAodGhpcy5fdG9GZWF0dXJlSlNPTi5iaW5kKHRoaXMpKX1nZXREaXNwbGF5SWQoZSl7cmV0dXJuIHRoaXMuX3RyZWUuZmluZElmKCh0PT50LmlkPT09ZSkpPy5kaXNwbGF5SWR9Z2V0RmVhdHVyZURpc3BsYXlJZHNGb3JBZ2dyZWdhdGUoZSl7Y29uc3QgdD10aGlzLl90cmVlLmZpbmRJZigodD0+dC5pZD09PWUpKTtyZXR1cm4gbnVsbCE9dD9BcnJheS5mcm9tKHQuZGlzcGxheUlkcyk6W119Z2V0RGlzcGxheUlkRm9yUmVmZXJlbmNlSWQoZSl7cmV0dXJuIHRoaXMuX3RyZWUuZmluZElmKCh0PT4xPT09dC5kaXNwbGF5SWRzLnNpemUmJnQuZGlzcGxheUlkcy5oYXMoZSkpKT8uZGlzcGxheUlkfV90b0ZlYXR1cmVKU09OKGUpe2NvbnN0IHQ9dGhpcy5fc3BhdGlhbFJlZmVyZW5jZTtyZXR1cm57ZGlzcGxheUlkOmUuZGlzcGxheUlkLGF0dHJpYnV0ZXM6ZS5nZXRBdHRyaWJ1dGVzKCksZ2VvbWV0cnk6cChlLmdldEdlb21ldHJ5KHQpLFwiZXNyaUdlb21ldHJ5UG9seWdvblwiLCExLCExKSxjZW50cm9pZDpudWxsfX1fcmVidWlsZFRyZWUoKXt0aGlzLl9iaXRzZXRzLmNvbXB1dGVkLmNsZWFyKCksdGhpcy5fYml0c2V0cy5pbnNlcnRlZC5jbGVhcigpLHRoaXMuX3RyZWUmJnRoaXMuX3RyZWUuY2xlYXIoKX1fcmVtb3ZlKGUpe2NvbnN0IHQ9ZS5nZXREaXNwbGF5SWQoKSxzPWUuZ2V0WEh5ZHJhdGVkKCkscj1lLmdldFlIeWRyYXRlZCgpLGk9dGhpcy5fZ2VvaGFzaEJ1ZlsyKnRdLG89dGhpcy5fZ2VvaGFzaEJ1ZlsyKnQrMV07dGhpcy5fYml0c2V0cy5pbnNlcnRlZC5oYXModCkmJih0aGlzLl9iaXRzZXRzLmluc2VydGVkLnVuc2V0KHQpLHRoaXMuX3RyZWUucmVtb3ZlQ3Vyc29yKGUscyxyLGksbyx0aGlzLl9nZW9oYXNoTGV2ZWwpKX1fdXBkYXRlKGUsdCl7Y29uc3Qgcz1lLmdldERpc3BsYXlJZCgpLHI9dGhpcy5fYml0c2V0cy5pbnNlcnRlZCxpPXQuaXNWaXNpYmxlKHMpO2lmKGk9PT1yLmhhcyhzKSlyZXR1cm47aWYoIWkpcmV0dXJuIHZvaWQgdGhpcy5fcmVtb3ZlKGUpO2NvbnN0IG89ZS5nZXRYSHlkcmF0ZWQoKSxhPWUuZ2V0WUh5ZHJhdGVkKCk7aWYoIXRoaXMuX3NldEdlb2hhc2gocyxvLGEpKXJldHVybjtjb25zdCBoPXRoaXMuX2dlb2hhc2hCdWZbMipzXSxuPXRoaXMuX2dlb2hhc2hCdWZbMipzKzFdO3RoaXMuX3RyZWUuaW5zZXJ0Q3Vyc29yKGUscyxvLGEsaCxuLHRoaXMuX2dlb2hhc2hMZXZlbCksci5zZXQocyl9X3NldEdlb2hhc2goZSx0LHMpe2lmKHRoaXMuX2JpdHNldHMuZ2VvaGFzaC5oYXMoZSkpcmV0dXJuITA7Y29uc3Qgcj10aGlzLl9nZW9oYXNoQnVmO2lmKHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UuaXNXZWJNZXJjYXRvcil7Y29uc3QgaT1UKHQvbi5yYWRpdXMpLGE9aS0zNjAqTWF0aC5mbG9vcigoaSsxODApLzM2MCksaD1UKE1hdGguUEkvMi0yKk1hdGguYXRhbihNYXRoLmV4cCgtcy9uLnJhZGl1cykpKTtvKHIsZSxoLGEsUyl9ZWxzZXtjb25zdCBpPW0oe3g6dCx5OnN9LHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UseC5XR1M4NCk7aWYoIWkpcmV0dXJuITE7byhyLGUsaS55LGkueCxTKX1yZXR1cm4gdGhpcy5fYml0c2V0cy5nZW9oYXNoLnNldChlKSwhMH1fZ2V0Qmluc0ZvclRpbGUoZSx0LHMscil7dHJ5e2NvbnN0IGk9dGhpcy5fZ2V0R2VvaGFzaEJvdW5kcyh0KSxvPXRoaXMuX3RyZWUuZ2V0QmlucyhpKTtmb3IoY29uc3QgdCBvZiBvKXt0LmRpc3BsYXlJZHx8KHQuZGlzcGxheUlkPXIuY3JlYXRlRGlzcGxheUlkKCEwKSk7bGV0IGk9bnVsbDtjb25zdCBvPXQuZ2V0R2VvbWV0cnkodGhpcy5fc3BhdGlhbFJlZmVyZW5jZSxzLnRpbGUpO298fChpPXQuZ2V0R2VvbWV0cnlDZW50cm9pZCh0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLHMudGlsZSkpO2NvbnN0IGE9bmV3IGYobyx0LmdldEF0dHJpYnV0ZXMoKSxpKTthLm9iamVjdElkPXQuaWQsYS5kaXNwbGF5SWQ9dC5kaXNwbGF5SWQsZS5wdXNoKGEpfX1jYXRjaChpKXtyZXR1cm4gdm9pZCBGLmVycm9yKFwiVW5hYmxlIHRvIGdldCBiaW5zIGZvciB0aWxlXCIsdC5rZXkuaWQpfX1fZ2V0R2VvaGFzaChlLHQscyl7Y29uc3Qgcj17Z2VvaGFzaFg6MCxnZW9oYXNoWTowfTtyZXR1cm4gYShyLHQsZSxzKSxyfV9nZXRHZW9oYXNoQm91bmRzKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0R2VvaGFzaExldmVsKGUua2V5LmxldmVsKSxzPVtlLmV4dGVudC54bWluLGUuZXh0ZW50LnltaW4sZS5leHRlbnQueG1heCxlLmV4dGVudC55bWF4XSxyPXYuZnJvbUV4dGVudChCLmZyb21Cb3VuZHMocyx0aGlzLl9zcGF0aWFsUmVmZXJlbmNlKSksaT1tKHIsdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSx4LldHUzg0LHtkZW5zaWZpY2F0aW9uU3RlcDplLnJlc29sdXRpb24qR30pLG89ZyhuZXcgdSxpLCExLCExKSxhPW8uY29vcmRzLmZpbHRlcigoKGUsdCk9PiEodCUyKSkpLGg9by5jb29yZHMuZmlsdGVyKCgoZSx0KT0+dCUyKSksbj1NYXRoLm1pbiguLi5hKSxkPU1hdGgubWluKC4uLmgpLGw9TWF0aC5tYXgoLi4uYSkscD1NYXRoLm1heCguLi5oKSxmPXRoaXMuX2dldEdlb2hhc2gobixkLHQpLGM9dGhpcy5fZ2V0R2VvaGFzaChsLHAsdCk7cmV0dXJue2JvdW5kczpzLGdlb2hhc2hCb3VuZHM6e3hMTDpmLmdlb2hhc2hYLHlMTDpmLmdlb2hhc2hZLHhUUjpjLmdlb2hhc2hYLHlUUjpjLmdlb2hhc2hZfSxsZXZlbDp0fX1fZ2V0R2VvaGFzaExldmVsKGUpe3JldHVybiB0aGlzLl9zY2hlbWEucGFyYW1zLmZpeGVkQmluTGV2ZWx9X2dldFRyYW5zZm9ybXMoZSx0KXtjb25zdCBzPXtvcmlnaW5Qb3NpdGlvbjpcInVwcGVyTGVmdFwiLHNjYWxlOltlLnJlc29sdXRpb24sZS5yZXNvbHV0aW9uXSx0cmFuc2xhdGU6W2UuYm91bmRzWzBdLGUuYm91bmRzWzNdXX0scj1kKHQpO2lmKCFyKXJldHVybnt0aWxlOnMsbGVmdDpudWxsLHJpZ2h0Om51bGx9O2NvbnN0W2ksb109ci52YWxpZDtyZXR1cm57dGlsZTpzLGxlZnQ6ey4uLnMsdHJhbnNsYXRlOltvLGUuYm91bmRzWzNdXX0scmlnaHQ6ey4uLnMsdHJhbnNsYXRlOltpLW8rZS5ib3VuZHNbMF0sZS5ib3VuZHNbM11dfX19fWV4cG9ydHtBIGFzIEJpblN0b3JlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtkaWZmIGFzIHQsaGFzRGlmZiBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtHZW9oYXNoVHJlZSBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb2hhc2gvR2VvaGFzaFRyZWUuanNcIjtpbXBvcnR7c2V0R2VvaGFzaEJ1ZiBhcyBpLHNldEdlb2hhc2hYWSBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb2hhc2gvZ2VvaGFzaFV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHtlYXJ0aCBhcyBofWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvRWxsaXBzb2lkLmpzXCI7aW1wb3J0e2dldEluZm8gYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtnZXRCb3VuZHNPcHRpbWl6ZWRHZW9tZXRyeSBhcyBuLHF1YW50aXplWCBhcyB1LHF1YW50aXplWSBhcyBkLGNvbnZlcnRGcm9tUG9seWdvbiBhcyBnfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e09wdGltaXplZEZlYXR1cmVXaXRoR2VvbWV0cnkgYXMgYyxPcHRpbWl6ZWRGZWF0dXJlIGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEZlYXR1cmUuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkR2VvbWV0cnkuanNcIjtpbXBvcnR7Y2hlY2tQcm9qZWN0aW9uU3VwcG9ydCBhcyBfLHByb2plY3QgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9wcm9qZWN0aW9uU3VwcG9ydC5qc1wiO2ltcG9ydCB5IGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0ZpZWxkc0luZGV4LmpzXCI7aW1wb3J0e3RpbGVTaXplIGFzIEl9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL2RlZmluaXRpb25zLmpzXCI7aW1wb3J0e2Rpc3BsYXlJZFRleGVsTWFzayBhcyBifWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9EaXNwbGF5SWQuanNcIjtpbXBvcnR7ZmVhdHVyZUFkYXB0ZXIgYXMgdn1mcm9tXCIuLi9GZWF0dXJlU3RvcmUyRC5qc1wiO2ltcG9ydHtTdG9yZTJEIGFzIFJ9ZnJvbVwiLi4vU3RvcmUyRC5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVySlNPTiBhcyB4fWZyb21cIi4vRmVhdHVyZVNldFJlYWRlckpTT04uanNcIjtpbXBvcnQgTSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IGogZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9seWdvbi5qc1wiO2ltcG9ydCBGIGZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2NvbnN0IEM9MTIsTD02NCx3PTEsQj1hKCk7Y2xhc3MgUyBleHRlbmRzIGN7Y29uc3RydWN0b3IoZSx0LHMscixpKXtzdXBlcihuZXcgcChbXSxbdCxzXSkscixudWxsLGUpLHRoaXMuZ2VvaGFzaEJvdW5kc0luZm89aX1nZXQgY291bnQoKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmNsdXN0ZXJfY291bnR9c3RhdGljIGNyZWF0ZShlLHQscyxyLGksbyxhLGgpe2NvbnN0IGw9bmV3IFModCxzLHIsbyxhKTtyZXR1cm4gbC5kaXNwbGF5SWQ9ZS5jcmVhdGVEaXNwbGF5SWQoITApLGwucmVmZXJlbmNlSWQ9aCxsLnRpbGVMZXZlbD1pLGx9dXBkYXRlKGUsdCxzLHIsaSxvKXtyZXR1cm4gdGhpcy5nZW9tZXRyeS5jb29yZHNbMF09ZSx0aGlzLmdlb21ldHJ5LmNvb3Jkc1sxXT10LHRoaXMudGlsZUxldmVsPXMsdGhpcy5hdHRyaWJ1dGVzPXIsdGhpcy5nZW9oYXNoQm91bmRzSW5mbz1pLHRoaXMucmVmZXJlbmNlSWQ9bnVsbCx0aGlzLnJlZmVyZW5jZUlkPW8sdGhpc310b0pTT04oKXtyZXR1cm57YXR0cmlidXRlczp7Li4udGhpcy5hdHRyaWJ1dGVzLGFnZ3JlZ2F0ZUlkOnRoaXMub2JqZWN0SWQscmVmZXJlbmNlSWQ6MT09PXRoaXMuYXR0cmlidXRlcy5jbHVzdGVyX2NvdW50P3RoaXMucmVmZXJlbmNlSWQ6bnVsbH0sZ2VvbWV0cnk6e3g6dGhpcy5nZW9tZXRyeS5jb29yZHNbMF0seTp0aGlzLmdlb21ldHJ5LmNvb3Jkc1sxXX19fX1mdW5jdGlvbiBUKGUpe3JldHVybiA1Ny4yOTU3Nzk1MTMwODIzMiplfWNsYXNzIFYgZXh0ZW5kcyBSe2NvbnN0cnVjdG9yKHQscyxyLGkpe3N1cGVyKHQsciksdGhpcy50eXBlPVwiY2x1c3RlclwiLHRoaXMuZXZlbnRzPW5ldyBlLHRoaXMub2JqZWN0SWRGaWVsZD1cImFnZ3JlZ2F0ZUlkXCIsdGhpcy5mZWF0dXJlQWRhcHRlcj12LHRoaXMuX2dlb2hhc2hMZXZlbD0wLHRoaXMuX3RpbGVMZXZlbD0wLHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzPXt9LHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzQ2hhbmdlZD0hMSx0aGlzLl9nZW9oYXNoQnVmPVtdLHRoaXMuX2NsdXN0ZXJzPW5ldyBNYXAsdGhpcy5fdGlsZXM9bmV3IE1hcCx0aGlzLl9zZXJ2aWNlSW5mbz1pLHRoaXMuZ2VvbWV0cnlJbmZvPXQuZ2VvbWV0cnlJbmZvLHRoaXMuX3NwYXRpYWxSZWZlcmVuY2U9cyx0aGlzLl9wcm9qZWN0aW9uU3VwcG9ydENoZWNrPV8ocyxNLldHUzg0KSx0aGlzLl9iaXRzZXRzLmdlb2hhc2g9ci5nZXRCaXRzZXQoci5jcmVhdGVCaXRzZXQoKSksdGhpcy5fYml0c2V0cy5pbnNlcnRlZD1yLmdldEJpdHNldChyLmNyZWF0ZUJpdHNldCgpKX1kZXN0cm95KCl7dGhpcy5fdHJlZS5kZXN0cm95KCl9Z2V0IGZlYXR1cmVTcGF0aWFsUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMuX3NwYXRpYWxSZWZlcmVuY2V9Z2V0IGZpZWxkcygpe3JldHVybiB0aGlzLl9maWVsZHN9YXN5bmMgdXBkYXRlU2NoZW1hKGUsaSl7Y29uc3Qgbz10aGlzLl9zY2hlbWE7dHJ5e2F3YWl0IHN1cGVyLnVwZGF0ZVNjaGVtYShlLGkpLGF3YWl0IHRoaXMuX3Byb2plY3Rpb25TdXBwb3J0Q2hlY2t9Y2F0Y2goaCl7fXRoaXMuX2ZpZWxkcz1bLi4udGhpcy5fc2NoZW1hLnBhcmFtcy5maWVsZHMse25hbWU6XCJyZWZlcmVuY2VJZFwiLGFsaWFzOlwicmVmZXJlbmNlSWRcIix0eXBlOlwiZXNyaUZpZWxkVHlwZUludGVnZXJcIn1dOyEhdGhpcy5fZmllbGRzLnNvbWUoKGU9PlwiY2x1c3Rlcl9jb3VudFwiPT09ZS5uYW1lKSl8fHRoaXMuX2ZpZWxkcy5wdXNoKHtuYW1lOlwiY2x1c3Rlcl9jb3VudFwiLGFsaWFzOlwiY2x1c3Rlcl9jb3VudFwiLHR5cGU6XCJlc3JpRmllbGRUeXBlSW50ZWdlclwifSksdGhpcy5fZmllbGRzSW5kZXg9bmV3IHkodGhpcy5fZmllbGRzKTtjb25zdCBhPXQobyxpKTtpJiYobnVsbCE9YXx8ZS5zb3VyY2V8fGUuc3RvcmFnZS5maWx0ZXJzKT8oKHMoYSxcInBhcmFtcy5maWVsZHNcIil8fCF0aGlzLl90cmVlfHxlLnNvdXJjZSkmJih0aGlzLl90cmVlJiZ0aGlzLl90cmVlLmRlc3Ryb3koKSx0aGlzLl90cmVlPW5ldyByKHRoaXMuX3N0YXRpc3RpY0ZpZWxkcyx0aGlzLl9zZXJ2aWNlSW5mbyksdGhpcy5fcmVidWlsZFRyZWUoKSxoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkFnZ3JlZ2F0ZSBtZXNoIG5lZWRzIHVwZGF0ZSBkdWUgdG8gdHJlZSBjaGFuZ2luZ1wiKSksaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBcHBseWluZyBVcGRhdGUgLSBDbHVzdGVyU3RvcmU6XCIsYSksZS50YXJnZXRzW2kubmFtZV09ITAsZS5tZXNoPSExLHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzPXt9KTpvJiYoZS5tZXNoPSEwKX1jbGVhcigpe3RoaXMuX3JlYnVpbGRUcmVlKCl9c3dlZXBGZWF0dXJlcyhlLHQpe3RoaXMuX2JpdHNldHMuaW5zZXJ0ZWQuZm9yRWFjaFNldCgocz0+e2lmKCFlLmhhcyhzKSl7Y29uc3QgZT10Lmxvb2t1cEJ5RGlzcGxheUlkVW5zYWZlKHMpO3RoaXMuX3JlbW92ZShlKX19KSl9c3dlZXBBZ2dyZWdhdGVzKGUsdCxzKXt0aGlzLl9jbHVzdGVycy5mb3JFYWNoKCgocixpKT0+e3ImJnIudGlsZUxldmVsIT09cyYmKGUucmVsZWFzZURpc3BsYXlJZChyLmRpc3BsYXlJZCksdC51bnNldEF0dHJpYnV0ZURhdGEoci5kaXNwbGF5SWQpLHRoaXMuX2NsdXN0ZXJzLmRlbGV0ZShpKSl9KSl9b25UaWxlRGF0YShlLHQscyxyLGksbz0hMCl7aWYoIXRoaXMuX3NjaGVtYXx8bnVsbD09dC5hZGRPclVwZGF0ZSlyZXR1cm4gdDt0aGlzLmV2ZW50cy5lbWl0KFwiY2hhbmdlZFwiKTtjb25zdCBhPXRoaXMuX2dldFRyYW5zZm9ybXMoZSx0aGlzLl9zcGF0aWFsUmVmZXJlbmNlKTt7Y29uc3QgZT10LmFkZE9yVXBkYXRlLmdldEN1cnNvcigpO2Zvcig7ZS5uZXh0KCk7KXRoaXMuX3VwZGF0ZShlLHIpfWlmKHQuc3RhdHVzLm1lc2h8fCFvKXJldHVybiB0O2NvbnN0IGg9bmV3IEFycmF5LGw9dGhpcy5fc2NoZW1hLnBhcmFtcy5jbHVzdGVyUmFkaXVzO3RoaXMuX2dldENsdXN0ZXJzRm9yVGlsZShoLGUsbCxzLGEpLHQuYWRkT3JVcGRhdGU9eC5mcm9tT3B0aW1pemVkRmVhdHVyZXMoaCx7ZmllbGRzOnRoaXMuZmllbGRzLGZpZWxkc0luZGV4OnRoaXMuX2ZpZWxkc0luZGV4LGdlb21ldHJ5VHlwZTpcImVzcmlHZW9tZXRyeVBvaW50XCIsb2JqZWN0SWRGaWVsZDp0aGlzLm9iamVjdElkRmllbGR9KSx0LmFkZE9yVXBkYXRlLmF0dGFjaFN0b3JhZ2UocyksdC5jbGVhcj0hMCx0LmVuZD0hMDt7Y29uc3Qgcj10LmFkZE9yVXBkYXRlLmdldEN1cnNvcigpO2Zvcig7ci5uZXh0KCk7KXtjb25zdCB0PXIuZ2V0RGlzcGxheUlkKCk7dGhpcy5fYml0c2V0cy5jb21wdXRlZC51bnNldCh0KSx0aGlzLnNldENvbXB1dGVkQXR0cmlidXRlcyhzLHIsdCxlLnNjYWxlLGkpfX1yZXR1cm4gdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXNDaGFuZ2VkJiZ0LmVuZCYmKHRoaXMuZXZlbnRzLmVtaXQoXCJ2YWx1ZVJhbmdlc0NoYW5nZWRcIix7dmFsdWVSYW5nZXM6dGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXN9KSx0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc0NoYW5nZWQ9ITEpLHR9b25UaWxlVXBkYXRlKHthZGRlZDplLHJlbW92ZWQ6dH0pe2lmKGUubGVuZ3RoKXtjb25zdCB0PWVbMF0ubGV2ZWw7dGhpcy5fdGlsZUxldmVsPXQsdGhpcy5fc2V0R2VvaGFzaExldmVsKHQpfWlmKCF0aGlzLl9zY2hlbWEpcmV0dXJuO2NvbnN0IHM9dGhpcy5fc2NoZW1hLnBhcmFtcy5jbHVzdGVyUmFkaXVzO3QuZm9yRWFjaCgoZT0+e3RoaXMuX3RpbGVzLmRlbGV0ZShlLmtleS5pZCksdGhpcy5fbWFya1RpbGVDbHVzdGVyc0ZvckRlbGV0aW9uKGUscyl9KSl9Z2V0QWdncmVnYXRlKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2NsdXN0ZXJzLnZhbHVlcygpKWlmKCh0Py5kaXNwbGF5SWQmYik9PShlJmIpKXJldHVybiB0LnRvSlNPTigpO3JldHVybiBudWxsfWdldEFnZ3JlZ2F0ZXMoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIHRoaXMuX2NsdXN0ZXJzLnZhbHVlcygpKXQ/LnRpbGVMZXZlbD09PXRoaXMuX3RpbGVMZXZlbCYmZS5wdXNoKHQudG9KU09OKCkpO3JldHVybiBlfWdldERpc3BsYXlJZChlKXtjb25zdCB0PXRoaXMuX2NsdXN0ZXJzLmdldChlKTtyZXR1cm4gdD90LmRpc3BsYXlJZDpudWxsfWdldEZlYXR1cmVEaXNwbGF5SWRzRm9yQWdncmVnYXRlKGUpe2NvbnN0IHQ9dGhpcy5fY2x1c3RlcnMuZ2V0KGUpO3JldHVybiB0P3RoaXMuX3RyZWUuZ2V0UmVnaW9uRGlzcGxheUlkcyh0Lmdlb2hhc2hCb3VuZHNJbmZvKTpbXX1nZXREaXNwbGF5SWRGb3JSZWZlcmVuY2VJZChlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9jbHVzdGVycy52YWx1ZXMoKSlpZih0Py5yZWZlcmVuY2VJZD09PWUpcmV0dXJuIHQuZGlzcGxheUlkO3JldHVybiBudWxsfWdldEFnZ3JlZ2F0ZVZhbHVlUmFuZ2VzKCl7cmV0dXJuIHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzfWZvckVhY2goZSl7dGhpcy5fY2x1c3RlcnMuZm9yRWFjaCgodD0+e2lmKCF0KXJldHVybjtjb25zdCBzPXQudG9KU09OKCkscj14LmZyb21GZWF0dXJlcyhbc10se29iamVjdElkRmllbGQ6dGhpcy5vYmplY3RJZEZpZWxkLGdsb2JhbElkRmllbGQ6bnVsbCxnZW9tZXRyeVR5cGU6dGhpcy5nZW9tZXRyeUluZm8uZ2VvbWV0cnlUeXBlLGZpZWxkczp0aGlzLmZpZWxkcyxmaWVsZHNJbmRleDp0aGlzLl9maWVsZHNJbmRleH0pLmdldEN1cnNvcigpO3IubmV4dCgpLGUocil9KSl9Zm9yRWFjaEluQm91bmRzKGUsdCl7fWZvckVhY2hCb3VuZHMoZSx0KXtjb25zdHtoYXNNOnMsaGFzWjpyfT10aGlzLmdlb21ldHJ5SW5mbztmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPW4oQixpLnJlYWRHZW9tZXRyeSgpLHIscyk7bnVsbCE9ZSYmdChlKX19c2l6ZSgpe2xldCBlPTA7cmV0dXJuIHRoaXMuZm9yRWFjaCgodD0+ZSsrKSksZX1fcmVidWlsZFRyZWUoKXt0aGlzLl9iaXRzZXRzLmNvbXB1dGVkLmNsZWFyKCksdGhpcy5fYml0c2V0cy5pbnNlcnRlZC5jbGVhcigpLHRoaXMuX3RyZWUmJnRoaXMuX3RyZWUuY2xlYXIoKX1fcmVtb3ZlKGUpe2NvbnN0IHQ9ZS5nZXREaXNwbGF5SWQoKSxzPWUuZ2V0WEh5ZHJhdGVkKCkscj1lLmdldFlIeWRyYXRlZCgpLGk9dGhpcy5fZ2VvaGFzaEJ1ZlsyKnRdLG89dGhpcy5fZ2VvaGFzaEJ1ZlsyKnQrMV07dGhpcy5fYml0c2V0cy5pbnNlcnRlZC5oYXModCkmJih0aGlzLl9iaXRzZXRzLmluc2VydGVkLnVuc2V0KHQpLHRoaXMuX3RyZWUucmVtb3ZlQ3Vyc29yKGUscyxyLGksbyx0aGlzLl9nZW9oYXNoTGV2ZWwpKX1fdXBkYXRlKGUsdCl7Y29uc3Qgcz1lLmdldERpc3BsYXlJZCgpLHI9dGhpcy5fYml0c2V0cy5pbnNlcnRlZCxpPXQuaXNWaXNpYmxlKHMpO2lmKGk9PT1yLmhhcyhzKSlyZXR1cm47aWYoIWkpcmV0dXJuIHZvaWQgdGhpcy5fcmVtb3ZlKGUpO2NvbnN0IG89ZS5nZXRYSHlkcmF0ZWQoKSxhPWUuZ2V0WUh5ZHJhdGVkKCk7aWYoIXRoaXMuX3NldEdlb2hhc2gocyxvLGEpKXJldHVybjtjb25zdCBoPXRoaXMuX2dlb2hhc2hCdWZbMipzXSxsPXRoaXMuX2dlb2hhc2hCdWZbMipzKzFdO3RoaXMuX3RyZWUuaW5zZXJ0Q3Vyc29yKGUscyxvLGEsaCxsLHRoaXMuX2dlb2hhc2hMZXZlbCksci5zZXQocyl9X3NldEdlb2hhc2goZSx0LHMpe2lmKHRoaXMuX2JpdHNldHMuZ2VvaGFzaC5oYXMoZSkpcmV0dXJuITA7Y29uc3Qgcj10aGlzLl9nZW9oYXNoQnVmO2lmKHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UuaXNXZWJNZXJjYXRvcil7Y29uc3Qgbz1UKHQvaC5yYWRpdXMpLGE9by0zNjAqTWF0aC5mbG9vcigobysxODApLzM2MCksbD1UKE1hdGguUEkvMi0yKk1hdGguYXRhbihNYXRoLmV4cCgtcy9oLnJhZGl1cykpKTtpKHIsZSxsLGEsQyl9ZWxzZXtjb25zdCBvPW0oe3g6dCx5OnN9LHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UsTS5XR1M4NCk7aWYoIW8pcmV0dXJuITE7aShyLGUsby55LG8ueCxDKX1yZXR1cm4gdGhpcy5fYml0c2V0cy5nZW9oYXNoLnNldChlKSwhMH1fZ2V0Q2x1c3RlcnNGb3JUaWxlKGUsdCxzLHIsaSxvPSEwKXtjb25zdCBhPXRoaXMuX3NjaGVtYS5wYXJhbXMuY2x1c3RlclBpeGVsQnVmZmVyLGg9MipzLGw9TWF0aC5jZWlsKDIqKnQua2V5LmxldmVsKkkvaCkrMSxuPU1hdGguY2VpbChhL2gpKzAsZz1NYXRoLmNlaWwoSS9oKSx7cm93OmMsY29sOnB9PXQua2V5LF89cCpJLG09YypJLHk9TWF0aC5mbG9vcihfL2gpLW4sYj1NYXRoLmZsb29yKG0vaCktbix2PXkrZysyKm4sUj1iK2crMipuLHg9dC50aWxlSW5mb1ZpZXcuZ2V0TE9ESW5mb0F0KHQua2V5LmxldmVsKTtmb3IobGV0IEk9eTtJPD12O0krKylmb3IobGV0IHM9YjtzPD1SO3MrKyl7bGV0IGE9STt4LndyYXAmJihhPUk8MD9JK2w6SSVsKTtjb25zdCBoPXgud3JhcCYmSTwwLG49eC53cmFwJiZJJWwhPT1JLGc9dGhpcy5fbG9va3VwQ2x1c3RlcihyLHgsdC5rZXkubGV2ZWwsYSxzLHQpO2lmKG51bGwhPWcpe2xldCB0PW51bGw7aWYoaSYmKHQ9aD9pLmxlZnQ6bj9pLnJpZ2h0OmkudGlsZSksbyYmbnVsbD09dCljb250aW51ZTtpZighZy5jb3VudCljb250aW51ZTtpZihudWxsIT10JiZvKXtjb25zdCBzPWcuZ2VvbWV0cnkuY2xvbmUoKTtsZXQgcj1nLmF0dHJpYnV0ZXM7cy5jb29yZHNbMF09dSh0LHMuY29vcmRzWzBdKSxzLmNvb3Jkc1sxXT1kKHQscy5jb29yZHNbMV0pLDE9PT1nLmNvdW50JiZudWxsIT1nLnJlZmVyZW5jZUlkJiYocj17Li4uZy5hdHRyaWJ1dGVzLHJlZmVyZW5jZUlkOmcucmVmZXJlbmNlSWR9KTtjb25zdCBpPW5ldyBmKHMscik7aS5kaXNwbGF5SWQ9Zy5kaXNwbGF5SWQsZS5wdXNoKGkpfX19fV9nZXRHZW9oYXNoTGV2ZWwoZSl7cmV0dXJuIE1hdGgubWluKE1hdGguY2VpbChlLzIrMiksQyl9X3NldEdlb2hhc2hMZXZlbChlKXtjb25zdCB0PXRoaXMuX2dldEdlb2hhc2hMZXZlbChlKSxzPShNYXRoLmZsb29yKHQvdykrMSkqdy0xO2lmKHRoaXMuX2dlb2hhc2hMZXZlbCE9PXMpcmV0dXJuIHRoaXMuX2dlb2hhc2hMZXZlbD1zLHRoaXMuX3JlYnVpbGRUcmVlKCksdm9pZCB0aGlzLl9iaXRzZXRzLmdlb2hhc2guY2xlYXIoKX1fZ2V0VHJhbnNmb3JtcyhlLHQpe2NvbnN0IHM9e29yaWdpblBvc2l0aW9uOlwidXBwZXJMZWZ0XCIsc2NhbGU6W2UucmVzb2x1dGlvbixlLnJlc29sdXRpb25dLHRyYW5zbGF0ZTpbZS5ib3VuZHNbMF0sZS5ib3VuZHNbM11dfSxyPWwodCk7aWYoIXIpcmV0dXJue3RpbGU6cyxsZWZ0Om51bGwscmlnaHQ6bnVsbH07Y29uc3RbaSxvXT1yLnZhbGlkO3JldHVybnt0aWxlOnMsbGVmdDp7Li4ucyx0cmFuc2xhdGU6W28sZS5ib3VuZHNbM11dfSxyaWdodDp7Li4ucyx0cmFuc2xhdGU6W2ktbytlLmJvdW5kc1swXSxlLmJvdW5kc1szXV19fX1fZ2V0Q2x1c3RlcklkKGUsdCxzKXtyZXR1cm4oMTUmZSk8PDI4fCgxNjM4MyZ0KTw8MTR8MTYzODMmc31fbWFya0ZvckRlbGV0aW9uKGUsdCxzKXtjb25zdCByPXRoaXMuX2dldENsdXN0ZXJJZChlLHQscyk7dGhpcy5fY2x1c3RlcnMuZGVsZXRlKHIpfV9nZXRDbHVzdGVyQm91bmRzKGUsdCxzKXtjb25zdCByPXRoaXMuX3NjaGVtYS5wYXJhbXMuY2x1c3RlclJhZGl1cyxpPTIqcjtsZXQgbz1zJTI/dCppOnQqaS1yO2NvbnN0IGE9cyppO2xldCBoPW8raTtjb25zdCBsPWEtaSxuPTIqKmUubGV2ZWwqSTtlLndyYXAmJm88MCYmKG89MCksZS53cmFwJiZoPm4mJihoPW4pO2NvbnN0IHU9by9JLGQ9YS9JLGc9aC9JLGM9bC9JO3JldHVybltlLmdldFhGb3JDb2x1bW4odSksZS5nZXRZRm9yUm93KGQpLGUuZ2V0WEZvckNvbHVtbihnKSxlLmdldFlGb3JSb3coYyldfV9nZXRHZW9oYXNoKGUsdCxzKXtjb25zdCByPXtnZW9oYXNoWDowLGdlb2hhc2hZOjB9O3JldHVybiBvKHIsdCxlLHMpLHJ9X2dldEdlb2hhc2hCb3VuZHMoZSx0KXtjb25zdCBzPXRoaXMuX2dldEdlb2hhc2hMZXZlbChlLmtleS5sZXZlbCk7aWYodGhpcy5fc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yKXtjb25zdFtlLHIsaSxhXT10LGw9e3g6ZSx5OnJ9LG49e3g6aSx5OmF9O2xldCB1PTAsZD0wLGc9MCxjPTA7e2NvbnN0IGU9VChsLngvaC5yYWRpdXMpO3U9ZS0zNjAqTWF0aC5mbG9vcigoZSsxODApLzM2MCksZD1UKE1hdGguUEkvMi0yKk1hdGguYXRhbihNYXRoLmV4cCgtbC55L2gucmFkaXVzKSkpfXtjb25zdCBlPVQobi54L2gucmFkaXVzKTtnPWUtMzYwKk1hdGguZmxvb3IoKGUrMTgwKS8zNjApLGM9VChNYXRoLlBJLzItMipNYXRoLmF0YW4oTWF0aC5leHAoLW4ueS9oLnJhZGl1cykpKX1jb25zdCBmPXtnZW9oYXNoWDowLGdlb2hhc2hZOjB9LHA9e2dlb2hhc2hYOjAsZ2VvaGFzaFk6MH07byhmLGQsdSxzKSxvKHAsYyxnLHMpO3JldHVybntib3VuZHM6W2UscixpLGFdLGdlb2hhc2hCb3VuZHM6e3hMTDpmLmdlb2hhc2hYLHlMTDpmLmdlb2hhc2hZLHhUUjpwLmdlb2hhc2hYLHlUUjpwLmdlb2hhc2hZfSxsZXZlbDpzfX1jb25zdCByPWouZnJvbUV4dGVudChGLmZyb21Cb3VuZHModCx0aGlzLl9zcGF0aWFsUmVmZXJlbmNlKSksaT1tKHIsdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSxNLldHUzg0LHtkZW5zaWZpY2F0aW9uU3RlcDplLnJlc29sdXRpb24qTH0pO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IGE9ZyhuZXcgcCxpLCExLCExKSxsPWEuY29vcmRzLmZpbHRlcigoKGUsdCk9PiEodCUyKSkpLG49YS5jb29yZHMuZmlsdGVyKCgoZSx0KT0+dCUyKSksdT1NYXRoLm1pbiguLi5sKSxkPU1hdGgubWluKC4uLm4pLGM9TWF0aC5tYXgoLi4ubCksZj1NYXRoLm1heCguLi5uKSxfPXRoaXMuX2dldEdlb2hhc2godSxkLHMpLHk9dGhpcy5fZ2V0R2VvaGFzaChjLGYscyk7cmV0dXJue2JvdW5kczp0LGdlb2hhc2hCb3VuZHM6e3hMTDpfLmdlb2hhc2hYLHlMTDpfLmdlb2hhc2hZLHhUUjp5Lmdlb2hhc2hYLHlUUjp5Lmdlb2hhc2hZfSxsZXZlbDpzfX1fbG9va3VwQ2x1c3RlcihlLHQscyxyLGksbyl7Y29uc3QgYT10aGlzLl9nZXRDbHVzdGVySWQocyxyLGkpLGg9dGhpcy5fY2x1c3RlcnMuZ2V0KGEpLGw9dGhpcy5fZ2V0Q2x1c3RlckJvdW5kcyh0LHIsaSksbj10aGlzLl9nZXRHZW9oYXNoQm91bmRzKG8sbCk7aWYobnVsbD09bilyZXR1cm4gbnVsbDtjb25zdCB1PXRoaXMuX3RyZWUuZ2V0UmVnaW9uU3RhdGlzdGljcyhuKSx7Y291bnQ6ZCx4VG90YWw6Zyx5VG90YWw6YyxyZWZlcmVuY2VJZDpmfT11LHA9ZD9nL2Q6MCxfPWQ/Yy9kOjA7aWYoMD09PWQpcmV0dXJuIHRoaXMuX2NsdXN0ZXJzLnNldChhLG51bGwpLG51bGw7Y29uc3QgbT17Y2x1c3Rlcl9jb3VudDpkLC4uLnUuYXR0cmlidXRlc30seT1udWxsIT1oP2gudXBkYXRlKHAsXyxzLG0sbixmKTpTLmNyZWF0ZShlLGEscCxfLHMsbSxuLGYpO2lmKDA9PT1kKXtjb25zdFtlLHQscyxyXT1sO3kuZ2VvbWV0cnkuY29vcmRzWzBdPShlK3MpLzIseS5nZW9tZXRyeS5jb29yZHNbMV09KHQrcikvMn1yZXR1cm4gdGhpcy5fY2x1c3RlcnMuc2V0KGEseSksdGhpcy5fdXBkYXRlQWdncmVnYXRlVmFsdWVSYW5nZUZvckNsdXN0ZXIoeSx5LnRpbGVMZXZlbCkseX1fdXBkYXRlQWdncmVnYXRlVmFsdWVSYW5nZUZvckNsdXN0ZXIoZSx0KXtjb25zdCBzPXRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzW3RdfHx7bWluVmFsdWU6MS8wLG1heFZhbHVlOjB9LHI9cy5taW5WYWx1ZSxpPXMubWF4VmFsdWU7cy5taW5WYWx1ZT1NYXRoLm1pbihyLGUuY291bnQpLHMubWF4VmFsdWU9TWF0aC5tYXgoaSxlLmNvdW50KSx0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc1t0XT1zLHI9PT1zLm1pblZhbHVlJiZpPT09cy5tYXhWYWx1ZXx8KHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzQ2hhbmdlZD0hMCl9X21hcmtUaWxlQ2x1c3RlcnNGb3JEZWxldGlvbihlLHQpe2NvbnN0IHM9Mip0LHI9TWF0aC5jZWlsKEkvcykse3JvdzppLGNvbDpvfT1lLmtleSxhPW8qSSxoPWkqSSxsPU1hdGguZmxvb3IoYS9zKSxuPU1hdGguZmxvb3IoaC9zKTtmb3IobGV0IHU9bDt1PGwrcjt1KyspZm9yKGxldCB0PW47dDxuK3I7dCsrKXRoaXMuX21hcmtGb3JEZWxldGlvbihlLmtleS5sZXZlbCx1LHQpfX1leHBvcnR7UyBhcyBDbHVzdGVySW5mbyxWIGFzIENsdXN0ZXJTdG9yZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2Fzc2VydElzU29tZSBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL3BiZi5qc1wiO2ltcG9ydHtjb252ZXJ0VG9HZW9tZXRyeSBhcyBpLHVucXVhbnRpemVPcHRpbWl6ZWRHZW9tZXRyeSBhcyBufWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e09wdGltaXplZEZlYXR1cmUgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkRmVhdHVyZS5qc1wiO2ltcG9ydCBoIGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVyIGFzIG99ZnJvbVwiLi9GZWF0dXJlU2V0UmVhZGVyLmpzXCI7aW1wb3J0e3BhcnNlSGVhZGVyIGFzIGR9ZnJvbVwiLi9GZWF0dXJlU2V0UmVhZGVyUEJGSGVhZGVyLmpzXCI7Y29uc3QgdT0hMCxjPTI2ODQzNTQ1NSxnPTEyOCxsPTEyOGUzLF89e3NtYWxsOntkZWx0YTpuZXcgSW50MzJBcnJheShnKSxkZWNvZGVkOm5ldyBJbnQzMkFycmF5KGcpfSxsYXJnZTp7ZGVsdGE6bmV3IEludDMyQXJyYXkobCksZGVjb2RlZDpuZXcgSW50MzJBcnJheShsKX19O2Z1bmN0aW9uIGYoZSl7cmV0dXJuIGU8PV8uc21hbGwuZGVsdGEubGVuZ3RoP18uc21hbGw6KGU8PV8ubGFyZ2UuZGVsdGEubGVuZ3RofHwoXy5sYXJnZS5kZWx0YT1uZXcgSW50MzJBcnJheShNYXRoLnJvdW5kKDEuMjUqZSkpLF8ubGFyZ2UuZGVjb2RlZD1uZXcgSW50MzJBcnJheShNYXRoLnJvdW5kKDEuMjUqZSkpKSxfLmxhcmdlKX1mdW5jdGlvbiB5KHIpe3RyeXtjb25zdCBlPTIsdD1uZXcgcyhuZXcgVWludDhBcnJheShyKSxuZXcgRGF0YVZpZXcocikpO2Zvcig7dC5uZXh0KCk7KXtpZih0LnRhZygpPT09ZSlyZXR1cm4gSSh0LmdldE1lc3NhZ2UoKSk7dC5za2lwKCl9fWNhdGNoKGkpe2NvbnN0IHI9bmV3IGUoXCJxdWVyeTpwYXJzaW5nLXBiZlwiLFwiRXJyb3Igd2hpbGUgcGFyc2luZyBGZWF0dXJlU2V0IFBCRiBwYXlsb2FkXCIse2Vycm9yOml9KTt0LmdldExvZ2dlcihcImVzcmkudmlldy4yZC5sYXllcnMuZmVhdHVyZXMuc3VwcG9ydC5GZWF0dXJlU2V0UmVhZGVyUEJGXCIpLmVycm9yKHIpfXJldHVybiBudWxsfWZ1bmN0aW9uIEkoZSl7Y29uc3QgdD0xO2Zvcig7ZS5uZXh0KCk7KXtpZihlLnRhZygpPT09dClyZXR1cm4gZS5nZXRNZXNzYWdlKCk7ZS5za2lwKCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcChlKXtjb25zdCB0PTEscj0yLHM9MyxpPTQsbj01LGE9NixoPTcsbz04LGQ9OSx1PWUuZ2V0TGVuZ3RoKCksYz1lLnBvcygpK3U7Zm9yKDtlLnBvcygpPGMmJmUubmV4dCgpOylzd2l0Y2goZS50YWcoKSl7Y2FzZSB0OnJldHVybiBlLmdldFN0cmluZygpO2Nhc2UgcjpyZXR1cm4gZS5nZXRGbG9hdCgpO2Nhc2UgczpyZXR1cm4gZS5nZXREb3VibGUoKTtjYXNlIGk6cmV0dXJuIGUuZ2V0U0ludDMyKCk7Y2FzZSBuOnJldHVybiBlLmdldFVJbnQzMigpO2Nhc2UgYTpyZXR1cm4gZS5nZXRJbnQ2NCgpO2Nhc2UgaDpyZXR1cm4gZS5nZXRVSW50NjQoKTtjYXNlIG86cmV0dXJuIGUuZ2V0U0ludDY0KCk7Y2FzZSBkOnJldHVybiBlLmdldEJvb2woKTtkZWZhdWx0OnJldHVybiBlLnNraXAoKSxudWxsfXJldHVybiBudWxsfWZ1bmN0aW9uIG0oZSx0LHIscyxpLG4pe3JldHVybi41Kk1hdGguYWJzKGUqcytyKm4raSp0LWUqbi1yKnQtaSpzKX1mdW5jdGlvbiB4KGUsdCxyLHMpe3JldHVybiAwPT09ZSpzLXIqdCYmZSpyK3Qqcz4wfWNsYXNzIFMgZXh0ZW5kcyBve3N0YXRpYyBmcm9tQnVmZmVyKGUsdCxyPSExKXtjb25zdCBzPXQuZ2VvbWV0cnlUeXBlLGk9eShlKSxuPWQoaSxcImVzcmlHZW9tZXRyeVBvaW50XCI9PT1zLHIpLGE9by5jcmVhdGVJbnN0YW5jZSgpO3JldHVybiBuZXcgUyhhLGksbix0KX1jb25zdHJ1Y3RvcihlLHQscixzKXtzdXBlcihlLHMpLHRoaXMuX2hhc05leHQ9ITEsdGhpcy5faXNQb2ludHM9ITEsdGhpcy5fZmVhdHVyZUluZGV4PS0xLHRoaXMuX2ZlYXR1cmVPZmZzZXQ9MCx0aGlzLl9jYWNoZT17YXJlYTowLHVucXVhbnRHZW9tZXRyeTp2b2lkIDAsZ2VvbWV0cnk6dm9pZCAwLGNlbnRyb2lkOnZvaWQgMCxsZWdhY3lGZWF0dXJlOnZvaWQgMCxvcHRGZWF0dXJlOnZvaWQgMH0sdGhpcy5fZ2VvbWV0cnlUeXBlPXMuZ2VvbWV0cnlUeXBlLHRoaXMuX3JlYWRlcj10LHRoaXMuX2hlYWRlcj1yLHRoaXMuX2hhc05leHQ9ci5oYXNGZWF0dXJlcyx0aGlzLl9pc1BvaW50cz1cImVzcmlHZW9tZXRyeVBvaW50XCI9PT1zLmdlb21ldHJ5VHlwZX1nZXQgZmllbGRzKCl7cmV0dXJuIHRoaXMuX2hlYWRlci5maWVsZHN9Z2V0IGdlb21ldHJ5VHlwZSgpe3JldHVybiB0aGlzLl9nZW9tZXRyeVR5cGV9Z2V0IF9zaXplKCl7cmV0dXJuIHRoaXMuX2hlYWRlci5mZWF0dXJlQ291bnR9Z2V0IGhhc1ooKXtyZXR1cm4hMX1nZXQgaGFzTSgpe3JldHVybiExfWdldCBzdHJpZGUoKXtyZXR1cm4gMisodGhpcy5oYXNaPzE6MCkrKHRoaXMuaGFzTT8xOjApfWdldCBoYXNGZWF0dXJlcygpe3JldHVybiB0aGlzLl9oZWFkZXIuaGFzRmVhdHVyZXN9Z2V0IGhhc05leHQoKXtyZXR1cm4gdGhpcy5faGFzTmV4dH1nZXQgZXhjZWVkZWRUcmFuc2ZlckxpbWl0KCl7cmV0dXJuIHRoaXMuX2hlYWRlci5leGNlZWRlZFRyYW5zZmVyTGltaXR9Z2V0U2l6ZSgpe3JldHVybiB0aGlzLl9zaXplfWdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpe3JldHVybiB0aGlzLl9oZWFkZXIudHJhbnNmb3JtfWdldEN1cnNvcigpe3JldHVybiB0aGlzLmNvcHkoKX1nZXRJbmRleCgpe3JldHVybiB0aGlzLl9mZWF0dXJlSW5kZXh9c2V0SW5kZXgoZSl7dGhpcy5fY2FjaGUuYXJlYT0wLHRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeT12b2lkIDAsdGhpcy5fY2FjaGUuZ2VvbWV0cnk9dm9pZCAwLHRoaXMuX2NhY2hlLmNlbnRyb2lkPXZvaWQgMCx0aGlzLl9jYWNoZS5sZWdhY3lGZWF0dXJlPXZvaWQgMCx0aGlzLl9jYWNoZS5vcHRGZWF0dXJlPXZvaWQgMCx0aGlzLl9mZWF0dXJlSW5kZXg9ZX1nZXRBdHRyaWJ1dGVIYXNoKCl7bGV0IGU9XCJcIjtmb3IoY29uc3QgdCBvZiB0aGlzLl9oZWFkZXIuZmllbGRzLmZpZWxkcyllKz10aGlzLl9yZWFkQXR0cmlidXRlQXRJbmRleCh0LmluZGV4KStcIi5cIjtyZXR1cm4gZX1nZXRPYmplY3RJZCgpe3JldHVybiB0aGlzLl9yZWFkQXR0cmlidXRlQXRJbmRleCh0aGlzLl9oZWFkZXIub2JqZWN0SWRGaWVsZEluZGV4KX1nZXREaXNwbGF5SWQoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmRpc3BsYXlJZHNbdGhpcy5fZmVhdHVyZUluZGV4XX1zZXREaXNwbGF5SWQoZSl7dGhpcy5faGVhZGVyLmRpc3BsYXlJZHNbdGhpcy5fZmVhdHVyZUluZGV4XT1lfWdldEdyb3VwSWQoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmdyb3VwSWRzW3RoaXMuX2ZlYXR1cmVJbmRleF19c2V0R3JvdXBJZChlKXt0aGlzLl9oZWFkZXIuZ3JvdXBJZHNbdGhpcy5fZmVhdHVyZUluZGV4XT1lfXJlYWRMZWdhY3lGZWF0dXJlKCl7aWYodm9pZCAwPT09dGhpcy5fY2FjaGUubGVnYWN5RmVhdHVyZSl7Y29uc3QgZT10aGlzLnJlYWRDZW50cm9pZCgpLHQ9e2F0dHJpYnV0ZXM6dGhpcy5yZWFkQXR0cmlidXRlcygpLGdlb21ldHJ5OnRoaXMuX2lzUG9pbnRzP3RoaXMucmVhZExlZ2FjeVBvaW50R2VvbWV0cnkoKTp0aGlzLnJlYWRMZWdhY3lHZW9tZXRyeSgpLGNlbnRyb2lkOihlJiZ7eDplLmNvb3Jkc1swXSx5OmUuY29vcmRzWzFdfSk/P251bGx9O3JldHVybiB0aGlzLl9jYWNoZS5sZWdhY3lGZWF0dXJlPXQsdH1yZXR1cm4gdGhpcy5fY2FjaGUubGVnYWN5RmVhdHVyZX1yZWFkT3B0aW1pemVkRmVhdHVyZSgpe2lmKHZvaWQgMD09PXRoaXMuX2NhY2hlLm9wdEZlYXR1cmUpe2NvbnN0IGU9bmV3IGEodGhpcy5yZWFkR2VvbWV0cnkoKSx0aGlzLnJlYWRBdHRyaWJ1dGVzKCksdGhpcy5yZWFkQ2VudHJvaWQoKSk7cmV0dXJuIGUub2JqZWN0SWQ9dGhpcy5nZXRPYmplY3RJZCgpLGUuZGlzcGxheUlkPXRoaXMuZ2V0RGlzcGxheUlkKCksdGhpcy5fY2FjaGUub3B0RmVhdHVyZT1lLGV9cmV0dXJuIHRoaXMuX2NhY2hlLm9wdEZlYXR1cmV9Z2V0WEh5ZHJhdGVkKCl7Y29uc3QgZT10aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXhdLHQ9dGhpcy5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKTtyZXR1cm4gbnVsbD09dD9lOmUqdC5zY2FsZVswXSt0LnRyYW5zbGF0ZVswXX1nZXRZSHlkcmF0ZWQoKXtjb25zdCBlPXRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleCsxXSx0PXRoaXMuZ2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCk7cmV0dXJuIG51bGw9PXQ/ZTp0LnRyYW5zbGF0ZVsxXS1lKnQuc2NhbGVbMV19Z2V0WCgpe3JldHVybiB0aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXhdKnRoaXMuX3N4K3RoaXMuX3R4fWdldFkoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4KzFdKnRoaXMuX3N5K3RoaXMuX3R5fXJlYWRMZWdhY3lQb2ludEdlb21ldHJ5KCl7cmV0dXJue3g6dGhpcy5nZXRYKCkseTp0aGlzLmdldFkoKX19cmVhZExlZ2FjeUdlb21ldHJ5KGUpe2NvbnN0IHQ9dGhpcy5yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeShlKTtyZXR1cm4gaSh0LHRoaXMuZ2VvbWV0cnlUeXBlLCExLCExKX1yZWFkTGVnYWN5Q2VudHJvaWQoKXtjb25zdCBlPXRoaXMucmVhZENlbnRyb2lkKCk7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3RbdCxyXT1lLmNvb3JkcztyZXR1cm57eDp0LHk6cn19cmVhZEdlb21ldHJ5QXJlYSgpe3JldHVybiB0aGlzLl9jYWNoZS5hcmVhfHx0aGlzLnJlYWRHZW9tZXRyeSghMCksdGhpcy5fY2FjaGUuYXJlYX1yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeShlPSExKXtpZih2b2lkIDA9PT10aGlzLl9jYWNoZS51bnF1YW50R2VvbWV0cnkpe2NvbnN0IHQ9dGhpcy5yZWFkR2VvbWV0cnkoZSk7aWYoIXQpcmV0dXJuIHRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeT12b2lkIDAsbnVsbDtjb25zdCByPWYodC5jb29yZHMubGVuZ3RoKS5kZWNvZGVkLHM9dC5jbG9uZShyKSxpPXMuY29vcmRzO2xldCBuPTA7Zm9yKGNvbnN0IGUgb2Ygcy5sZW5ndGhzKXtmb3IobGV0IHQ9MTt0PGU7dCsrKXtjb25zdCBlPTIqKG4rdCkscj0yKihuK3QtMSk7aVtlXSs9aVtyXSxpW2UrMV0rPWlbcisxXX1uKz1lfXJldHVybiB0aGlzLl9jYWNoZS51bnF1YW50R2VvbWV0cnk9cyxzfXJldHVybiB0aGlzLl9jYWNoZS51bnF1YW50R2VvbWV0cnl9cmVhZEh5ZHJhdGVkR2VvbWV0cnkoKXtpZih0aGlzLl9pc1BvaW50cyl7aWYodGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4XT09PWMpcmV0dXJuIG51bGw7Y29uc3QgZT10aGlzLmdldFhIeWRyYXRlZCgpLHQ9dGhpcy5nZXRZSHlkcmF0ZWQoKTtyZXR1cm4gbmV3IGgoW10sW2UsdF0pfWNvbnN0IGU9dGhpcy5yZWFkR2VvbWV0cnkoKTtpZighZSlyZXR1cm4gbnVsbDtjb25zdCB0PWUuY2xvbmUoKSxyPXRoaXMuZ2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCk7cmV0dXJuIG51bGwhPXImJm4odCx0LHRoaXMuaGFzWix0aGlzLmhhc00sciksdH1yZWFkR2VvbWV0cnkoZT0hMSl7aWYodm9pZCAwPT09dGhpcy5fY2FjaGUuZ2VvbWV0cnkpe2xldCByPW51bGw7aWYodGhpcy5faXNQb2ludHMpe2lmKHRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleF09PT1jKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5nZXRYKCksdD10aGlzLmdldFkoKTtyPW5ldyBoKFtdLFtlLHRdKX1lbHNle2NvbnN0IHM9dGhpcy5faGVhZGVyLm9mZnNldHMuZ2VvbWV0cnlbdGhpcy5fZmVhdHVyZUluZGV4XSxpPXRoaXMuX3JlYWRlcjtpZigwPT09cyl7Y29uc3QgZT10aGlzLl9yZWFkU2VydmVyQ2VudHJvaWQoKTtpZighZSlyZXR1cm4gbnVsbDtjb25zdFt0LHJdPWUuY29vcmRzO3JldHVybiB0aGlzLmNyZWF0ZVF1YW50aXplZEV4dHJ1ZGVkR2VvbWV0cnkodCxyKX1pLm1vdmUocyk7dHJ5e2lmKHI9ZT90aGlzLl9wYXJzZUdlb21ldHJ5Rm9yRGlzcGxheShpKTp0aGlzLl9wYXJzZUdlb21ldHJ5KGkpLCFyKXtjb25zdCBlPXRoaXMuX3JlYWRTZXJ2ZXJDZW50cm9pZCgpO2lmKCFlKXJldHVybiBudWxsO2NvbnN0W3Qscl09ZS5jb29yZHM7cmV0dXJuIHRoaXMuY3JlYXRlUXVhbnRpemVkRXh0cnVkZWRHZW9tZXRyeSh0LHIpfX1jYXRjaCh0KXtyZXR1cm4gY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBwYXJzZSBnZW9tZXRyeSFcIix0KSxudWxsfX1yZXR1cm4gdGhpcy5fY2FjaGUuZ2VvbWV0cnk9cixyfXJldHVybiB0aGlzLl9jYWNoZS5nZW9tZXRyeX1yZWFkQ2VudHJvaWQoKXtpZih2b2lkIDA9PT10aGlzLl9jYWNoZS5jZW50cm9pZCl7bGV0IGU7cmV0dXJuIGU9dGhpcy5fY29tcHV0ZUNlbnRyb2lkKCksZXx8KGU9dGhpcy5fcmVhZFNlcnZlckNlbnRyb2lkKCkpLHRoaXMuX2NhY2hlLmNlbnRyb2lkPWU/P3ZvaWQgMCxlPz9udWxsfXJldHVybiB0aGlzLl9jYWNoZS5jZW50cm9pZH1jb3B5KCl7Y29uc3QgZT10aGlzLl9yZWFkZXIuY2xvbmUoKSx0PW5ldyBTKHRoaXMuaW5zdGFuY2UsZSx0aGlzLl9oZWFkZXIsdGhpcy5mdWxsU2NoZW1hKCkpO3JldHVybiB0aGlzLmNvcHlJbnRvKHQpLHR9bmV4dCgpe2Zvcih0aGlzLl9jYWNoZS5hcmVhPTAsdGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5PXZvaWQgMCx0aGlzLl9jYWNoZS5nZW9tZXRyeT12b2lkIDAsdGhpcy5fY2FjaGUuY2VudHJvaWQ9dm9pZCAwLHRoaXMuX2NhY2hlLmxlZ2FjeUZlYXR1cmU9dm9pZCAwLHRoaXMuX2NhY2hlLm9wdEZlYXR1cmU9dm9pZCAwOysrdGhpcy5fZmVhdHVyZUluZGV4PHRoaXMuX3NpemUmJiF0aGlzLl9nZXRFeGlzdHMoKTspO3JldHVybiB0aGlzLl9mZWF0dXJlSW5kZXg8dGhpcy5fc2l6ZX1fcmVhZEF0dHJpYnV0ZShlLHQpe2NvbnN0IHI9dGhpcy5faGVhZGVyLmZpZWxkcy5nZXQoZSk7aWYobnVsbD09cilyZXR1cm47bGV0IHM9dGhpcy5fcmVhZEF0dHJpYnV0ZUF0SW5kZXgoci5pbmRleCk7XCJlc3JpRmllbGRUeXBlVGltZXN0YW1wT2Zmc2V0XCI9PT10aGlzLmZpZWxkcy5nZXQoZSk/LnR5cGUmJihzPXRoaXMucGFyc2VUaW1lc3RhbXBPZmZzZXQocykpO2NvbnN0IGk9dGhpcy5faGVhZGVyLmZpZWxkcy5pc0RhdGVGaWVsZChyLm5hbWUpO3JldHVybiB0P251bGw9PXM/czppP25ldyBEYXRlKHMpOnM6c31fcmVhZEF0dHJpYnV0ZXMoKXtjb25zdCBlPXt9O2Zvcihjb25zdCB0IG9mIHRoaXMuX2hlYWRlci5maWVsZHMuZmllbGRzKWVbdC5uYW1lXT10aGlzLl9yZWFkQXR0cmlidXRlQXRJbmRleCh0LmluZGV4KTtyZXR1cm4gZX1jb3B5SW50byhlKXtzdXBlci5jb3B5SW50byhlKSxlLl9mZWF0dXJlSW5kZXg9dGhpcy5fZmVhdHVyZUluZGV4LGUuX2ZlYXR1cmVPZmZzZXQ9dGhpcy5fZmVhdHVyZU9mZnNldCxlLl9oYXNOZXh0PXRoaXMuX2hhc05leHR9X3JlYWRBdHRyaWJ1dGVBdEluZGV4KGUpe2NvbnN0IHQ9dGhpcy5faGVhZGVyLm9mZnNldHMuYXR0cmlidXRlc1t0aGlzLl9mZWF0dXJlSW5kZXgqdGhpcy5faGVhZGVyLmZpZWxkQ291bnQrZV0scj10aGlzLl9yZWFkZXI7cmV0dXJuIHIubW92ZSh0KSxwKHIpfV9yZWFkU2VydmVyQ2VudHJvaWQoKXtjb25zdCBlPXRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleF0rdGhpcy5fdHgsdD10aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXgrMV0rdGhpcy5fdHk7cmV0dXJuIGU9PT1jP251bGw6bmV3IGgoW10sW2UsdF0pfV9wYXJzZUdlb21ldHJ5KGUpe2NvbnN0IHQ9MixyPTMscz1lLmFzVW5zYWZlKCksaT1zLmdldExlbmd0aCgpLG49cy5wb3MoKStpLGE9W10sbz1bXTtmb3IoO3MucG9zKCk8biYmcy5uZXh0KCk7KXN3aXRjaChzLnRhZygpKXtjYXNlIHQ6e2NvbnN0IGU9cy5nZXRVSW50MzIoKSx0PXMucG9zKCkrZTtmb3IoO3MucG9zKCk8dDspby5wdXNoKHMuZ2V0VUludDMyKCkpO2JyZWFrfWNhc2Ugcjp7Y29uc3QgZT1zLmdldFVJbnQzMigpLHQ9cy5wb3MoKStlO2ZvcihhLnB1c2gocy5nZXRTSW50MzIoKSt0aGlzLl90eCksYS5wdXNoKHMuZ2V0U0ludDMyKCkrdGhpcy5fdHkpLHRoaXMuaGFzWiYmcy5nZXRTSW50MzIoKSx0aGlzLmhhc00mJnMuZ2V0U0ludDMyKCk7cy5wb3MoKTx0OylhLnB1c2gocy5nZXRTSW50MzIoKSksYS5wdXNoKHMuZ2V0U0ludDMyKCkpLHRoaXMuaGFzWiYmcy5nZXRTSW50MzIoKSx0aGlzLmhhc00mJnMuZ2V0U0ludDMyKCk7YnJlYWt9ZGVmYXVsdDpzLnNraXAoKX1yZXR1cm4gYS5sZW5ndGg/bmV3IGgobyxhKTpudWxsfV9wYXJzZUdlb21ldHJ5Rm9yRGlzcGxheShlKXtjb25zdCB0PTIscz0zLGk9ZS5hc1Vuc2FmZSgpLG49aS5nZXRMZW5ndGgoKSxhPWkucG9zKCkrbixvPVtdLGQ9W107bGV0IGM9MCxnPTAsbD1udWxsLF89MDtjb25zdCB5PVwiZXNyaUdlb21ldHJ5UG9seWdvblwiPT09dGhpcy5nZW9tZXRyeVR5cGU7Zm9yKDtpLnBvcygpPGEmJmkubmV4dCgpOylzd2l0Y2goaS50YWcoKSl7Y2FzZSB0Ontjb25zdCBlPWkuZ2V0VUludDMyKCksdD1pLnBvcygpK2U7Zm9yKDtpLnBvcygpPHQ7KXtjb25zdCBlPWkuZ2V0VUludDMyKCk7by5wdXNoKGUpLGMrPWV9bD1mKDIqYykuZGVsdGE7YnJlYWt9Y2FzZSBzOntpLmdldFVJbnQzMigpO2NvbnN0IGU9MisodGhpcy5oYXNaPzE6MCkrKHRoaXMuaGFzTT8xOjApO3IobCk7Zm9yKGNvbnN0IHQgb2YgbylpZihnK2UqdD5sLmxlbmd0aClmb3IobGV0IGU9MDtlPHQ7ZSsrKWkuZ2V0U0ludDMyKCksaS5nZXRTSW50MzIoKSx0aGlzLmhhc1omJmkuZ2V0U0ludDMyKCksdGhpcy5oYXNNJiZpLmdldFNJbnQzMigpO2Vsc2UgaWYoeSYmdSl7Y29uc3QgZT10aGlzLmdldEFyZWFTaW1wbGlmaWNhdGlvblRocmVzaG9sZCh0LHRoaXMuX2hlYWRlci52ZXJ0ZXhDb3VudCk7bGV0IHI9MixzPTE7Y29uc3Qgbj0hMTtsZXQgYT1pLmdldFNJbnQzMigpLGg9aS5nZXRTSW50MzIoKTtsW2crK109YSxsW2crK109aCx0aGlzLmhhc1omJmkuZ2V0U0ludDMyKCksdGhpcy5oYXNNJiZpLmdldFNJbnQzMigpO2xldCBvPWkuZ2V0U0ludDMyKCksdT1pLmdldFNJbnQzMigpO2Zvcih0aGlzLmhhc1omJmkuZ2V0U0ludDMyKCksdGhpcy5oYXNNJiZpLmdldFNJbnQzMigpO3I8dDspe2xldCB0PWkuZ2V0U0ludDMyKCksbj1pLmdldFNJbnQzMigpO3RoaXMuaGFzWiYmaS5nZXRTSW50MzIoKSx0aGlzLmhhc00mJmkuZ2V0U0ludDMyKCk7Y29uc3QgZD1hK28sYz1oK3U7bShhLGgsZCxjLGQrdCxjK24pPj1lPyhfKz0tLjUqKGQtYSkqKGMraCkscz4xJiZ4KGxbZy0yXSxsW2ctMV0sbyx1KT8obFtnLTJdKz1vLGxbZy0xXSs9dSk6KGxbZysrXT1vLGxbZysrXT11LHMrKyksYT1kLGg9Yyk6KHQrPW8sbis9dSksbz10LHU9bixyKyt9czwzfHxuP2ctPTIqczooXys9LS41KihhK28tYSkqKGgrdStoKSx4KGxbZy0yXSxsW2ctMV0sbyx1KT8obFtnLTJdKz1vLGxbZy0xXSs9dSxkLnB1c2gocykpOihsW2crK109byxsW2crK109dSxkLnB1c2goKytzKSkpfWVsc2V7bGV0IGU9MCxyPWkuZ2V0U0ludDMyKCkscz1pLmdldFNJbnQzMigpO3RoaXMuaGFzWiYmaS5nZXRTSW50MzIoKSx0aGlzLmhhc00mJmkuZ2V0U0ludDMyKCksbFtnKytdPXIsbFtnKytdPXMsZSs9MTtmb3IobGV0IG49MTtuPHQ7bisrKXtjb25zdCB0PWkuZ2V0U0ludDMyKCksYT1pLmdldFNJbnQzMigpLGg9cit0LG89cythO18rPS0uNSooaC1yKSoobytzKSx0aGlzLmhhc1omJmkuZ2V0U0ludDMyKCksdGhpcy5oYXNNJiZpLmdldFNJbnQzMigpLG4+MiYmeChsW2ctMl0sbFtnLTFdLHQsYSk/KGxbZy0yXSs9dCxsW2ctMV0rPWEpOihsW2crK109dCxsW2crK109YSxlKz0xKSxyPWgscz1vfWQucHVzaChlKX1icmVha31kZWZhdWx0Omkuc2tpcCgpfWlmKHRoaXMuX2NhY2hlLmFyZWE9XywhZC5sZW5ndGgpcmV0dXJuIG51bGw7aWYodGhpcy5fdHh8fHRoaXMuX3R5KXtsZXQgZT0wO3IobCk7Zm9yKGNvbnN0IHQgb2YgZClsWzIqZV0rPXRoaXMuX3R4LGxbMiplKzFdKz10aGlzLl90eSxlKz10fXJldHVybiBuZXcgaChkLGwpfX1leHBvcnR7UyBhcyBGZWF0dXJlU2V0UmVhZGVyUEJGfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmllbGRzSW5kZXguanNcIjtpbXBvcnR7cGFyc2VGaWVsZCBhcyBzLHBhcnNlVHJhbnNmb3JtIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vcmVzdC9xdWVyeS9vcGVyYXRpb25zL3BiZkZlYXR1cmVTZXJ2aWNlUGFyc2VyLmpzXCI7Y29uc3Qgbj0yNjg0MzU0NTU7Y2xhc3Mgb3tjb25zdHJ1Y3Rvcigpe3RoaXMuaGFzRmVhdHVyZXM9ITEsdGhpcy5leGNlZWRlZFRyYW5zZmVyTGltaXQ9ITEsdGhpcy5maWVsZENvdW50PTAsdGhpcy5mZWF0dXJlQ291bnQ9MCx0aGlzLm9iamVjdElkRmllbGRJbmRleD0wLHRoaXMudmVydGV4Q291bnQ9MCx0aGlzLm9mZnNldHM9e2F0dHJpYnV0ZXM6bmV3IEFycmF5LGdlb21ldHJ5Om5ldyBBcnJheX0sdGhpcy5jZW50cm9pZD1uZXcgQXJyYXl9fWZ1bmN0aW9uIGEoYSxpLGM9ITEpe2NvbnN0IGY9MSxkPTMsdT05LGc9MTIsbD0xMyxwPTE1LGg9YS5hc1Vuc2FmZSgpLGI9aC5wb3MoKSx3PW5ldyBvO2xldCBtPTAseT0wO2NvbnN0IGs9MSx4PTIsST00LEw9MztsZXQgQT1udWxsLEY9bnVsbCxDPW51bGwsUz0hMTtjb25zdCBqPVtdO2Zvcig7aC5uZXh0KCk7KXN3aXRjaChoLnRhZygpKXtjYXNlIGY6QT1oLmdldFN0cmluZygpO2JyZWFrO2Nhc2UgZDpGPWguZ2V0U3RyaW5nKCk7YnJlYWs7Y2FzZSBnOkM9aC5wcm9jZXNzTWVzc2FnZShyKTticmVhaztjYXNlIHU6aWYody5leGNlZWRlZFRyYW5zZmVyTGltaXQ9aC5nZXRCb29sKCksdy5leGNlZWRlZFRyYW5zZmVyTGltaXQpe3cub2Zmc2V0cy5nZW9tZXRyeT1jP25ldyBGbG9hdDY0QXJyYXkoOGUzKTpuZXcgSW50MzJBcnJheSg4ZTMpLHcuY2VudHJvaWQ9Yz9uZXcgRmxvYXQ2NEFycmF5KDE2ZTMpOm5ldyBJbnQzMkFycmF5KDE2ZTMpO2ZvcihsZXQgZT0wO2U8dy5jZW50cm9pZC5sZW5ndGg7ZSsrKXcuY2VudHJvaWRbZV09bn1icmVhaztjYXNlIGw6e2NvbnN0IGU9aC5wcm9jZXNzTWVzc2FnZShzKTtlLmluZGV4PW0rKyxqLnB1c2goZSk7YnJlYWt9Y2FzZSBwOntjb25zdCBlPWguZ2V0TGVuZ3RoKCksdD1oLnBvcygpK2U7aWYoIXcuZXhjZWVkZWRUcmFuc2ZlckxpbWl0KXtjb25zdCBlPXcub2Zmc2V0cy5nZW9tZXRyeSx0PXcuY2VudHJvaWQ7ZS5wdXNoKDApLHQucHVzaChuKSx0LnB1c2gobil9IVMmJncuZXhjZWVkZWRUcmFuc2ZlckxpbWl0JiYoUz0hMCx3Lm9mZnNldHMuYXR0cmlidXRlcz1jP25ldyBGbG9hdDY0QXJyYXkoOGUzKm0pOm5ldyBVaW50MzJBcnJheSg4ZTMqbSkpO2xldCBzPXkqbTtmb3IoO2gucG9zKCk8dCYmaC5uZXh0KCk7KXN3aXRjaChoLnRhZygpKXtjYXNlIGs6e2lmKFMpdy5vZmZzZXRzLmF0dHJpYnV0ZXNbcysrXT1oLnBvcygpO2Vsc2V7dy5vZmZzZXRzLmF0dHJpYnV0ZXMucHVzaChoLnBvcygpKX1jb25zdCBlPWguZ2V0TGVuZ3RoKCk7aC5za2lwTGVuKGUpO2JyZWFrfWNhc2UgeDppZihpKXtjb25zdCBlPWguZ2V0TGVuZ3RoKCksdD1oLnBvcygpK2U7Zm9yKDtoLnBvcygpPHQmJmgubmV4dCgpOylzd2l0Y2goaC50YWcoKSl7Y2FzZSBMOntoLmdldFVJbnQzMigpO2NvbnN0IGU9aC5nZXRTSW50NjQoKSx0PWguZ2V0U0ludDY0KCk7dy5jZW50cm9pZFsyKnldPWUsdy5jZW50cm9pZFsyKnkrMV09dDticmVha31kZWZhdWx0Omguc2tpcCgpfX1lbHNle3cub2Zmc2V0cy5nZW9tZXRyeVt5XT1oLnBvcygpO2NvbnN0IGU9aC5nZXRMZW5ndGgoKTt3LnZlcnRleENvdW50Kz1lLGguc2tpcExlbihlKX1icmVhaztjYXNlIEk6e2NvbnN0IGU9aC5nZXRMZW5ndGgoKSx0PWgucG9zKCkrZTtmb3IoO2gucG9zKCk8dCYmaC5uZXh0KCk7KXN3aXRjaChoLnRhZygpKXtjYXNlIEw6e2guZ2V0VUludDMyKCk7Y29uc3QgZT1oLmdldFNJbnQ2NCgpLHQ9aC5nZXRTSW50NjQoKTt3LmNlbnRyb2lkWzIqeV09ZSx3LmNlbnRyb2lkWzIqeSsxXT10O2JyZWFrfWRlZmF1bHQ6aC5za2lwKCl9YnJlYWt9ZGVmYXVsdDpoLnNraXAoKX15Kyssdy5oYXNGZWF0dXJlcz0hMDticmVha31kZWZhdWx0Omguc2tpcCgpfWNvbnN0IFU9QXx8RjtpZighVSl0aHJvdyBuZXcgZShcIkZlYXR1cmVTZXQgaGFzIG5vIG9iamVjdElkIG9yIGdsb2JhbElkIGZpZWxkIG5hbWVcIik7cmV0dXJuIHcuZmllbGRzPW5ldyB0KGopLHcuZmVhdHVyZUNvdW50PXksdy5maWVsZENvdW50PW0sdy5vYmplY3RJZEZpZWxkSW5kZXg9dy5maWVsZHMuZ2V0KFUpPy5pbmRleCx3LnRyYW5zZm9ybT1DLHcuZGlzcGxheUlkcz1uZXcgVWludDMyQXJyYXkody5mZWF0dXJlQ291bnQpLHcuZ3JvdXBJZHM9bmV3IFVpbnQxNkFycmF5KHcuZmVhdHVyZUNvdW50KSxoLm1vdmUoYiksd31leHBvcnR7byBhcyBGZWF0dXJlU2V0SGVhZGVyLGEgYXMgcGFyc2VIZWFkZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLnZlcnNpb249MCx0aGlzLnNvdXJjZT0hMSx0aGlzLnRhcmdldHM9e2ZlYXR1cmU6ITEsYWdncmVnYXRlOiExfSx0aGlzLnN0b3JhZ2U9e2ZpbHRlcnM6ITEsZGF0YTohMX0sdGhpcy5tZXNoPSExLHRoaXMucXVlcnlGaWx0ZXI9ITEsdGhpcy53aHk9e21lc2g6W10sc291cmNlOltdfX1zdGF0aWMgY3JlYXRlKGUpe2NvbnN0IHM9bmV3IHQ7bGV0IHI7Zm9yKHIgaW4gZSl7Y29uc3QgdD1lW3JdO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KWZvcihjb25zdCBlIGluIHQpe2NvbnN0IGE9ZSxpPXRbYV07c1tyXVthXT1pfXNbcl09dH1yZXR1cm4gc31zdGF0aWMgZW1wdHkoKXtyZXR1cm4gdC5jcmVhdGUoe30pfXN0YXRpYyBhbGwoKXtyZXR1cm4gdC5jcmVhdGUoe3NvdXJjZTohMCx0YXJnZXRzOntmZWF0dXJlOiEwLGFnZ3JlZ2F0ZTohMH0sc3RvcmFnZTp7ZmlsdGVyczohMCxkYXRhOiEwfSxtZXNoOiEwfSl9dW5zZXQodCl7dGhpcy52ZXJzaW9uPXQudmVyc2lvbix0LnNvdXJjZSYmKHRoaXMuc291cmNlPSExKSx0LnRhcmdldHMuZmVhdHVyZSYmKHRoaXMudGFyZ2V0cy5mZWF0dXJlPSExKSx0LnRhcmdldHMuYWdncmVnYXRlJiYodGhpcy50YXJnZXRzLmFnZ3JlZ2F0ZT0hMSksdC5zdG9yYWdlLmZpbHRlcnMmJih0aGlzLnN0b3JhZ2UuZmlsdGVycz0hMSksdC5zdG9yYWdlLmRhdGEmJih0aGlzLnN0b3JhZ2UuZGF0YT0hMSksdC5tZXNoJiYodGhpcy5tZXNoPSExKSx0LnF1ZXJ5RmlsdGVyJiYodGhpcy5xdWVyeUZpbHRlcj0hMSl9YW55KCl7cmV0dXJuIHRoaXMuc291cmNlfHx0aGlzLm1lc2h8fHRoaXMuc3RvcmFnZS5maWx0ZXJzfHx0aGlzLnN0b3JhZ2UuZGF0YXx8dGhpcy50YXJnZXRzLmZlYXR1cmV8fHRoaXMudGFyZ2V0cy5hZ2dyZWdhdGV8fHRoaXMucXVlcnlGaWx0ZXJ9ZGVzY3JpYmUoKXtsZXQgdD0wLGU9XCJcIjtpZih0aGlzLm1lc2gpe3QrPTIwLGUrPVwiLT4gKDIwKSBNZXNoIG5lZWRzIHVwZGF0ZVxcblwiO2Zvcihjb25zdCB0IG9mIHRoaXMud2h5Lm1lc2gpZSs9YCAgICArICR7dH1cXG5gfWlmKHRoaXMuc291cmNlKXt0Kz0xMCxlKz1cIi0+ICgxMCkgVGhlIHNvdXJjZSBuZWVkcyB1cGRhdGVcXG5cIjtmb3IoY29uc3QgdCBvZiB0aGlzLndoeS5zb3VyY2UpZSs9YCAgICArICR7dH1cXG5gfXRoaXMudGFyZ2V0cy5mZWF0dXJlJiYodCs9NSxlKz1cIi0+ICg1KSBGZWF0dXJlIHRhcmdldCBwYXJhbWV0ZXJzIGNoYW5nZWRcXG5cIiksdGhpcy5zdG9yYWdlLmZpbHRlcnMmJih0Kz01LGUrPVwiLT4gKDUpIEZlYXR1cmUgZmlsdGVyIHBhcmFtZXRlcnMgY2hhbmdlZFxcblwiKSx0aGlzLnRhcmdldHMuYWdncmVnYXRlJiYodCs9NCxlKz1cIi0+ICg0KSBBZ2dyZWdhdGUgdGFyZ2V0IHBhcmFtZXRlcnMgY2hhbmdlZFxcblwiKSx0aGlzLnN0b3JhZ2UuZGF0YSYmKHQrPTEsZSs9XCItPiAoMSkgVGV4dHVyZSBzdG9yYWdlIHBhcmFtZXRlcnMgY2hhbmdlZFwiKTtjb25zdCBzPXQ8NT9cIkZhc3Rlc3RcIjp0PDEwP1wiRmFzdFwiOnQ8MTU/XCJNb2RlcmF0ZVwiOnQ8MjA/XCJTbG93XCI6XCJWZXJ5IFNsb3dcIjtjb25zb2xlLmRlYnVnKGBBcHBseWluZyAke3N9IHVwZGF0ZSBvZiBjb3N0ICR7dH0vNDUgYCksY29uc29sZS5kZWJ1ZyhlKX10b0pTT04oKXtyZXR1cm57cXVlcnlGaWx0ZXI6dGhpcy5xdWVyeUZpbHRlcixzb3VyY2U6dGhpcy5zb3VyY2UsdGFyZ2V0czp0aGlzLnRhcmdldHMsc3RvcmFnZTp0aGlzLnN0b3JhZ2UsbWVzaDp0aGlzLm1lc2h9fX1leHBvcnR7dCBhcyBVcGRhdGVUb2tlbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtjb25zdHJ1Y3Rvcih0LHMsaSxoLG8sZT0hMSxyPTApe3RoaXMubmFtZT10LHRoaXMuY291bnQ9cyx0aGlzLnR5cGU9aSx0aGlzLm9mZnNldD1oLHRoaXMuc3RyaWRlPW8sdGhpcy5ub3JtYWxpemVkPWUsdGhpcy5kaXZpc29yPXJ9fWV4cG9ydHt0IGFzIFZlcnRleEVsZW1lbnREZXNjcmlwdG9yfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==