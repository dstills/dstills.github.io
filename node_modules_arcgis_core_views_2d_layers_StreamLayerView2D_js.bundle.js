"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["node_modules_arcgis_core_views_2d_layers_StreamLayerView2D_js"],{

/***/ "./node_modules/@arcgis/core/views/2d/layers/StreamLayerView2D.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/StreamLayerView2D.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _FeatureLayerView2D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./FeatureLayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js");
/* harmony import */ var _support_util_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./support/util.js */ "./node_modules/@arcgis/core/views/2d/layers/support/util.js");
/* harmony import */ var _layers_StreamLayerView_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../layers/StreamLayerView.js */ "./node_modules/@arcgis/core/views/layers/StreamLayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function u(e,t){if(null==e&&null==t)return null;const r={};return null!=t&&(r.geometry=t.toJSON()),null!=e&&(r.where=e),r}let d=class extends((0,_layers_StreamLayerView_js__WEBPACK_IMPORTED_MODULE_12__["default"])(_FeatureLayerView2D_js__WEBPACK_IMPORTED_MODULE_10__["default"])){constructor(){super(...arguments),this.pipelineConnectionStatus="disconnected",this.pipelineErrorString=null,this._enabledEventTypes=new Set}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.layer.customParameters),(e=>this._proxy.updateCustomParameters(e))),this.layer.on("send-message-to-socket",(e=>this._proxy.sendMessageToSocket(e))),this.layer.on("send-message-to-client",(e=>this._proxy.sendMessageToClient(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.layer.purgeOptions),(()=>this._update())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>this.suspended),this._onSuspendedChange.bind(this))],"constructor")}get connectionError(){return this.pipelineErrorString?new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("stream-controller",this.pipelineErrorString):null}on(e,t){if(Array.isArray(e))return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.handlesGroup)(e.map((e=>this.on(e,t))));const i=["data-received","message-received"].includes(e);i&&(this._enabledEventTypes.add(e),this._proxy.enableEvent(e,!0));const n=super.on(e,t),o=this;return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__.makeHandle)((()=>{n.remove(),i&&(o._proxy.closed||o.hasEventListener(e)||o._proxy.enableEvent(e,!1))}))}queryLatestObservations(e,r){if(!(this.layer.timeInfo?.endField||this.layer.timeInfo?.startField||this.layer.timeInfo?.trackIdField))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("streamlayer-no-timeField","queryLatestObservation can only be used with services that define a TrackIdField");return this._proxy.queryLatestObservations(this._cleanUpQuery(e),r).then((e=>{const t=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(e);return t.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),t}))}detach(){super.detach(),this.pipelineConnectionStatus="disconnected"}get _streamConnectionStatus(){return this.pipelineConnectionStatus}_doPause(){this._proxy?.pauseStream()}_doResume(){this._proxy?.resumeStream()}_createClientOptions(){return{...super._createClientOptions(),setProperty:e=>{this.set(e.propertyName,e.value)}}}_createTileRendererHash(e){const t=`${JSON.stringify(this.layer.purgeOptions)}.${JSON.stringify(u(this.layer.definitionExpression,this.layer.geometryDefinition))})`;return super._createTileRendererHash(e)+t}async _createServiceOptions(){const e=this.layer,{objectIdField:t}=e,r=e.fields.map((e=>e.toJSON())),s=(0,_support_util_js__WEBPACK_IMPORTED_MODULE_11__.toJSONGeometryType)(e.geometryType),i=e.timeInfo?.toJSON()||null,n=e.spatialReference?e.spatialReference.toJSON():null;return{type:"stream",isPaused:this._isUserPaused,fields:r,fieldsIndex:this.layer.fieldsIndex.toJSON(),geometryType:s,objectIdField:t,timeInfo:i,source:this.layer.parsedUrl,serviceFilter:u(this.layer.definitionExpression,this.layer.geometryDefinition),purgeOptions:this.layer.purgeOptions.toJSON(),enabledEventTypes:Array.from(this._enabledEventTypes.values()),spatialReference:n,maxReconnectionAttempts:this.layer.maxReconnectionAttempts,maxReconnectionInterval:this.layer.maxReconnectionInterval,updateInterval:this.layer.updateInterval,customParameters:e.customParameters}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"pipelineConnectionStatus",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],d.prototype,"pipelineErrorString",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],d.prototype,"connectionError",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],d.prototype,"_streamConnectionStatus",null),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.2d.layers.StreamLayerView2D")],d);const y=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/StreamLayerView.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/StreamLayerView.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const o=o=>{let i=class extends o{resume(){this._isUserPaused=!1,this.suspended||this._doResume()}pause(){this._isUserPaused=!0,this.suspended||this._doPause()}constructor(...s){super(...s),this._isUserPaused=!1,this.filter=null}get connectionStatus(){return this._isUserPaused?"paused":this._streamConnectionStatus}_onSuspendedChange(s){s?this._doPause():this._isUserPaused||this._doResume()}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],i.prototype,"_isUserPaused",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],i.prototype,"connectionStatus",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({type:_layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_6__["default"]})],i.prototype,"filter",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.layers.mixins.StreamLayerView")],i),i};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2xheWVyc19TdHJlYW1MYXllclZpZXcyRF9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUMrcUIsZ0JBQWdCLGdDQUFnQyxXQUFXLCtEQUErRCxvQkFBb0IsdUVBQUMsQ0FBQywrREFBQyxHQUFHLGNBQWMsK0hBQStILGFBQWEsaUJBQWlCLDZEQUFDLCtPQUErTyw2REFBQyxxREFBcUQsNkRBQUMsMEVBQTBFLHNCQUFzQixvQ0FBb0Msc0RBQUMsb0RBQW9ELFFBQVEsMkJBQTJCLGtFQUFDLDJCQUEyQix5REFBeUQsa0VBQWtFLDZCQUE2QixPQUFPLGdFQUFDLE9BQU8sbUZBQW1GLEdBQUcsNkJBQTZCLGtIQUFrSCxzREFBQyxnSEFBZ0gsOEVBQThFLFFBQVEsbUVBQUMsYUFBYSwrQkFBK0IsNENBQTRDLEtBQUssR0FBRyxTQUFTLDREQUE0RCw4QkFBOEIscUNBQXFDLFdBQVcsMkJBQTJCLFlBQVksNEJBQTRCLHVCQUF1QixPQUFPLGdEQUFnRCxtQ0FBbUMsMkJBQTJCLFdBQVcsd0NBQXdDLEdBQUcsaUZBQWlGLEdBQUcsMENBQTBDLDhCQUE4QixvQkFBb0IsZ0JBQWdCLHFDQUFxQyxxRUFBQyxvR0FBb0csT0FBTywwakJBQTBqQix1REFBQyxFQUFFLHNGQUFDLG1EQUFtRCx1REFBQyxFQUFFLHNGQUFDLDhDQUE4Qyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSx1Q0FBdUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksaURBQWlELHVEQUFDLEVBQUUsc0ZBQUMsK0NBQStDLFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjN4SDtBQUNBO0FBQ0E7QUFDQTtBQUN5VyxZQUFZLHNCQUFzQixTQUFTLHVEQUF1RCxRQUFRLHNEQUFzRCxrQkFBa0IsbURBQW1ELHVCQUF1QixnRUFBZ0Usc0JBQXNCLHlEQUF5RCxPQUFPLHVEQUFDLEVBQUUsc0ZBQUMsd0NBQXdDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHdDQUF3Qyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsS0FBSyx3RUFBQyxDQUFDLGtDQUFrQyx1REFBQyxFQUFFLHNGQUFDLDhDQUFtRSIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9TdHJlYW1MYXllclZpZXcyRC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvU3RyZWFtTGF5ZXJWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2hhbmRsZXNHcm91cCBhcyByLG1ha2VIYW5kbGUgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvRmVhdHVyZVNldC5qc1wiO2ltcG9ydCBsIGZyb21cIi4vRmVhdHVyZUxheWVyVmlldzJELmpzXCI7aW1wb3J0e3RvSlNPTkdlb21ldHJ5VHlwZSBhcyBwfWZyb21cIi4vc3VwcG9ydC91dGlsLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vbGF5ZXJzL1N0cmVhbUxheWVyVmlldy5qc1wiO2Z1bmN0aW9uIHUoZSx0KXtpZihudWxsPT1lJiZudWxsPT10KXJldHVybiBudWxsO2NvbnN0IHI9e307cmV0dXJuIG51bGwhPXQmJihyLmdlb21ldHJ5PXQudG9KU09OKCkpLG51bGwhPWUmJihyLndoZXJlPWUpLHJ9bGV0IGQ9Y2xhc3MgZXh0ZW5kcyhjKGwpKXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5waXBlbGluZUNvbm5lY3Rpb25TdGF0dXM9XCJkaXNjb25uZWN0ZWRcIix0aGlzLnBpcGVsaW5lRXJyb3JTdHJpbmc9bnVsbCx0aGlzLl9lbmFibGVkRXZlbnRUeXBlcz1uZXcgU2V0fWluaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXMoW2koKCgpPT50aGlzLmxheWVyLmN1c3RvbVBhcmFtZXRlcnMpLChlPT50aGlzLl9wcm94eS51cGRhdGVDdXN0b21QYXJhbWV0ZXJzKGUpKSksdGhpcy5sYXllci5vbihcInNlbmQtbWVzc2FnZS10by1zb2NrZXRcIiwoZT0+dGhpcy5fcHJveHkuc2VuZE1lc3NhZ2VUb1NvY2tldChlKSkpLHRoaXMubGF5ZXIub24oXCJzZW5kLW1lc3NhZ2UtdG8tY2xpZW50XCIsKGU9PnRoaXMuX3Byb3h5LnNlbmRNZXNzYWdlVG9DbGllbnQoZSkpKSxpKCgoKT0+dGhpcy5sYXllci5wdXJnZU9wdGlvbnMpLCgoKT0+dGhpcy5fdXBkYXRlKCkpKSxpKCgoKT0+dGhpcy5zdXNwZW5kZWQpLHRoaXMuX29uU3VzcGVuZGVkQ2hhbmdlLmJpbmQodGhpcykpXSxcImNvbnN0cnVjdG9yXCIpfWdldCBjb25uZWN0aW9uRXJyb3IoKXtyZXR1cm4gdGhpcy5waXBlbGluZUVycm9yU3RyaW5nP25ldyB0KFwic3RyZWFtLWNvbnRyb2xsZXJcIix0aGlzLnBpcGVsaW5lRXJyb3JTdHJpbmcpOm51bGx9b24oZSx0KXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiByKGUubWFwKChlPT50aGlzLm9uKGUsdCkpKSk7Y29uc3QgaT1bXCJkYXRhLXJlY2VpdmVkXCIsXCJtZXNzYWdlLXJlY2VpdmVkXCJdLmluY2x1ZGVzKGUpO2kmJih0aGlzLl9lbmFibGVkRXZlbnRUeXBlcy5hZGQoZSksdGhpcy5fcHJveHkuZW5hYmxlRXZlbnQoZSwhMCkpO2NvbnN0IG49c3VwZXIub24oZSx0KSxvPXRoaXM7cmV0dXJuIHMoKCgpPT57bi5yZW1vdmUoKSxpJiYoby5fcHJveHkuY2xvc2VkfHxvLmhhc0V2ZW50TGlzdGVuZXIoZSl8fG8uX3Byb3h5LmVuYWJsZUV2ZW50KGUsITEpKX0pKX1xdWVyeUxhdGVzdE9ic2VydmF0aW9ucyhlLHIpe2lmKCEodGhpcy5sYXllci50aW1lSW5mbz8uZW5kRmllbGR8fHRoaXMubGF5ZXIudGltZUluZm8/LnN0YXJ0RmllbGR8fHRoaXMubGF5ZXIudGltZUluZm8/LnRyYWNrSWRGaWVsZCkpdGhyb3cgbmV3IHQoXCJzdHJlYW1sYXllci1uby10aW1lRmllbGRcIixcInF1ZXJ5TGF0ZXN0T2JzZXJ2YXRpb24gY2FuIG9ubHkgYmUgdXNlZCB3aXRoIHNlcnZpY2VzIHRoYXQgZGVmaW5lIGEgVHJhY2tJZEZpZWxkXCIpO3JldHVybiB0aGlzLl9wcm94eS5xdWVyeUxhdGVzdE9ic2VydmF0aW9ucyh0aGlzLl9jbGVhblVwUXVlcnkoZSkscikudGhlbigoZT0+e2NvbnN0IHQ9YS5mcm9tSlNPTihlKTtyZXR1cm4gdC5mZWF0dXJlcy5mb3JFYWNoKChlPT57ZS5sYXllcj10aGlzLmxheWVyLGUuc291cmNlTGF5ZXI9dGhpcy5sYXllcn0pKSx0fSkpfWRldGFjaCgpe3N1cGVyLmRldGFjaCgpLHRoaXMucGlwZWxpbmVDb25uZWN0aW9uU3RhdHVzPVwiZGlzY29ubmVjdGVkXCJ9Z2V0IF9zdHJlYW1Db25uZWN0aW9uU3RhdHVzKCl7cmV0dXJuIHRoaXMucGlwZWxpbmVDb25uZWN0aW9uU3RhdHVzfV9kb1BhdXNlKCl7dGhpcy5fcHJveHk/LnBhdXNlU3RyZWFtKCl9X2RvUmVzdW1lKCl7dGhpcy5fcHJveHk/LnJlc3VtZVN0cmVhbSgpfV9jcmVhdGVDbGllbnRPcHRpb25zKCl7cmV0dXJuey4uLnN1cGVyLl9jcmVhdGVDbGllbnRPcHRpb25zKCksc2V0UHJvcGVydHk6ZT0+e3RoaXMuc2V0KGUucHJvcGVydHlOYW1lLGUudmFsdWUpfX19X2NyZWF0ZVRpbGVSZW5kZXJlckhhc2goZSl7Y29uc3QgdD1gJHtKU09OLnN0cmluZ2lmeSh0aGlzLmxheWVyLnB1cmdlT3B0aW9ucyl9LiR7SlNPTi5zdHJpbmdpZnkodSh0aGlzLmxheWVyLmRlZmluaXRpb25FeHByZXNzaW9uLHRoaXMubGF5ZXIuZ2VvbWV0cnlEZWZpbml0aW9uKSl9KWA7cmV0dXJuIHN1cGVyLl9jcmVhdGVUaWxlUmVuZGVyZXJIYXNoKGUpK3R9YXN5bmMgX2NyZWF0ZVNlcnZpY2VPcHRpb25zKCl7Y29uc3QgZT10aGlzLmxheWVyLHtvYmplY3RJZEZpZWxkOnR9PWUscj1lLmZpZWxkcy5tYXAoKGU9PmUudG9KU09OKCkpKSxzPXAoZS5nZW9tZXRyeVR5cGUpLGk9ZS50aW1lSW5mbz8udG9KU09OKCl8fG51bGwsbj1lLnNwYXRpYWxSZWZlcmVuY2U/ZS5zcGF0aWFsUmVmZXJlbmNlLnRvSlNPTigpOm51bGw7cmV0dXJue3R5cGU6XCJzdHJlYW1cIixpc1BhdXNlZDp0aGlzLl9pc1VzZXJQYXVzZWQsZmllbGRzOnIsZmllbGRzSW5kZXg6dGhpcy5sYXllci5maWVsZHNJbmRleC50b0pTT04oKSxnZW9tZXRyeVR5cGU6cyxvYmplY3RJZEZpZWxkOnQsdGltZUluZm86aSxzb3VyY2U6dGhpcy5sYXllci5wYXJzZWRVcmwsc2VydmljZUZpbHRlcjp1KHRoaXMubGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24sdGhpcy5sYXllci5nZW9tZXRyeURlZmluaXRpb24pLHB1cmdlT3B0aW9uczp0aGlzLmxheWVyLnB1cmdlT3B0aW9ucy50b0pTT04oKSxlbmFibGVkRXZlbnRUeXBlczpBcnJheS5mcm9tKHRoaXMuX2VuYWJsZWRFdmVudFR5cGVzLnZhbHVlcygpKSxzcGF0aWFsUmVmZXJlbmNlOm4sbWF4UmVjb25uZWN0aW9uQXR0ZW1wdHM6dGhpcy5sYXllci5tYXhSZWNvbm5lY3Rpb25BdHRlbXB0cyxtYXhSZWNvbm5lY3Rpb25JbnRlcnZhbDp0aGlzLmxheWVyLm1heFJlY29ubmVjdGlvbkludGVydmFsLHVwZGF0ZUludGVydmFsOnRoaXMubGF5ZXIudXBkYXRlSW50ZXJ2YWwsY3VzdG9tUGFyYW1ldGVyczplLmN1c3RvbVBhcmFtZXRlcnN9fX07ZShbbigpXSxkLnByb3RvdHlwZSxcInBpcGVsaW5lQ29ubmVjdGlvblN0YXR1c1wiLHZvaWQgMCksZShbbigpXSxkLnByb3RvdHlwZSxcInBpcGVsaW5lRXJyb3JTdHJpbmdcIix2b2lkIDApLGUoW24oe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwiY29ubmVjdGlvbkVycm9yXCIsbnVsbCksZShbbih7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJfc3RyZWFtQ29ubmVjdGlvblN0YXR1c1wiLG51bGwpLGQ9ZShbbyhcImVzcmkudmlld3MuMmQubGF5ZXJzLlN0cmVhbUxheWVyVmlldzJEXCIpXSxkKTtjb25zdCB5PWQ7ZXhwb3J0e3kgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgc31mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGV9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyByfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9GZWF0dXJlRmlsdGVyLmpzXCI7Y29uc3Qgbz1vPT57bGV0IGk9Y2xhc3MgZXh0ZW5kcyBve3Jlc3VtZSgpe3RoaXMuX2lzVXNlclBhdXNlZD0hMSx0aGlzLnN1c3BlbmRlZHx8dGhpcy5fZG9SZXN1bWUoKX1wYXVzZSgpe3RoaXMuX2lzVXNlclBhdXNlZD0hMCx0aGlzLnN1c3BlbmRlZHx8dGhpcy5fZG9QYXVzZSgpfWNvbnN0cnVjdG9yKC4uLnMpe3N1cGVyKC4uLnMpLHRoaXMuX2lzVXNlclBhdXNlZD0hMSx0aGlzLmZpbHRlcj1udWxsfWdldCBjb25uZWN0aW9uU3RhdHVzKCl7cmV0dXJuIHRoaXMuX2lzVXNlclBhdXNlZD9cInBhdXNlZFwiOnRoaXMuX3N0cmVhbUNvbm5lY3Rpb25TdGF0dXN9X29uU3VzcGVuZGVkQ2hhbmdlKHMpe3M/dGhpcy5fZG9QYXVzZSgpOnRoaXMuX2lzVXNlclBhdXNlZHx8dGhpcy5fZG9SZXN1bWUoKX19O3JldHVybiBzKFtlKCldLGkucHJvdG90eXBlLFwiX2lzVXNlclBhdXNlZFwiLHZvaWQgMCkscyhbZSh7cmVhZE9ubHk6ITB9KV0saS5wcm90b3R5cGUsXCJjb25uZWN0aW9uU3RhdHVzXCIsbnVsbCkscyhbZSh7dHlwZTp0fSldLGkucHJvdG90eXBlLFwiZmlsdGVyXCIsdm9pZCAwKSxpPXMoW3IoXCJlc3JpLmxheWVycy5taXhpbnMuU3RyZWFtTGF5ZXJWaWV3XCIpXSxpKSxpfTtleHBvcnR7byBhcyBkZWZhdWx0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==