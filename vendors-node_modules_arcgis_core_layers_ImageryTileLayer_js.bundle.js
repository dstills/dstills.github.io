"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_layers_ImageryTileLayer_js"],{

/***/ "./node_modules/@arcgis/core/core/ByteSizeUnit.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/ByteSizeUnit.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ByteSizeUnit: () => (/* binding */ E)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var E;!function(E){E[E.KILOBYTES=1024]="KILOBYTES",E[E.MEGABYTES=1048576]="MEGABYTES",E[E.GIGABYTES=1073741824]="GIGABYTES"}(E||(E={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/UintArray.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/UintArray.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   newUintArray: () => (/* binding */ t),
/* harmony export */   uintArrayFrom: () => (/* binding */ e),
/* harmony export */   uintSubArray: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(n,t=!1){return n<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.nativeArrayMaxSize?t?new Array(n).fill(0):new Array(n):new Uint32Array(n)}function e(t){return((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(t)?t.length:t.byteLength/8)<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.nativeArrayMaxSize?Array.from(t):new Uint32Array(t)}function y(r,n,t){return Array.isArray(r)?r.slice(n,n+t):r.subarray(n,n+t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/ImageryTileLayer.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/ImageryTileLayer.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PopupTemplate.js */ "./node_modules/@arcgis/core/PopupTemplate.js");
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Clonable.js */ "./node_modules/@arcgis/core/core/Clonable.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/MultiOriginJSONSupport.js */ "./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Layer.js */ "./node_modules/@arcgis/core/layers/Layer.js");
/* harmony import */ var _mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./mixins/ArcGISService.js */ "./node_modules/@arcgis/core/layers/mixins/ArcGISService.js");
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./mixins/BlendLayer.js */ "./node_modules/@arcgis/core/layers/mixins/BlendLayer.js");
/* harmony import */ var _mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./mixins/CustomParametersMixin.js */ "./node_modules/@arcgis/core/layers/mixins/CustomParametersMixin.js");
/* harmony import */ var _mixins_ImageryTileMixin_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mixins/ImageryTileMixin.js */ "./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js");
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./mixins/OperationalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js");
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./mixins/PortalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/PortalLayer.js");
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./mixins/RefreshableLayer.js */ "./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js");
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./mixins/ScaleRangeLayer.js */ "./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js");
/* harmony import */ var _mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./mixins/TemporalLayer.js */ "./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_Field_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./support/Field.js */ "./node_modules/@arcgis/core/layers/support/Field.js");
/* harmony import */ var _support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./support/rasterEnums.js */ "./node_modules/@arcgis/core/layers/support/rasterEnums.js");
/* harmony import */ var _support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./support/RasterFunction.js */ "./node_modules/@arcgis/core/layers/support/RasterFunction.js");
/* harmony import */ var _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./support/rasterDatasets/FunctionRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js");
/* harmony import */ var _support_rasterDatasets_RasterFactory_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./support/rasterDatasets/RasterFactory.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js");
/* harmony import */ var _support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./support/rasterFunctions/rasterFunctionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterFunctionHelper.js");
/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../support/popupUtils.js */ "./node_modules/@arcgis/core/support/popupUtils.js");
/* harmony import */ var _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../webdoc/interfaces.js */ "./node_modules/@arcgis/core/webdoc/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let E=class extends((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_16__.BlendLayer)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_22__.ScaleRangeLayer)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_19__.OperationalLayer)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_20__.PortalLayer)((0,_mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_17__.CustomParametersMixin)((0,_mixins_ImageryTileMixin_js__WEBPACK_IMPORTED_MODULE_18__.ImageryTileMixin)((0,_mixins_TemporalLayer_js__WEBPACK_IMPORTED_MODULE_23__.TemporalLayer)((0,_mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_15__.ArcGISService)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_21__.RefreshableLayer)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__.MultiOriginJSONMixin)((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_2__.ClonableMixin)(_Layer_js__WEBPACK_IMPORTED_MODULE_14__["default"])))))))))))){constructor(...e){super(...e),this._primaryRasters=[],this.bandIds=null,this.interpolation=null,this.legendEnabled=!0,this.isReference=null,this.listMode="show",this.sourceJSON=null,this.version=null,this.type="imagery-tile",this.operationalLayerType="ArcGISTiledImageServiceLayer",this.popupEnabled=!0,this.popupTemplate=null,this.fields=null,this._debouncedSaveOperations=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.debounce)((async(e,r,t)=>{const{save:s,saveAs:i}=await __webpack_require__.e(/*! import() */ "node_modules_arcgis_core_layers_save_imageryUtils_js").then(__webpack_require__.bind(__webpack_require__, /*! ./save/imageryUtils.js */ "./node_modules/@arcgis/core/layers/save/imageryUtils.js"));switch(e){case _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.SaveOperationType.SAVE:return s(this,r);case _webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.SaveOperationType.SAVE_AS:return i(this,t,r)}}))}normalizeCtorArgs(e,r){return"string"==typeof e?{url:e,...r}:e}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"]},e).catch(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAbortError).then((()=>this._openRaster(r)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get rasterFields(){const e=[new _support_Field_js__WEBPACK_IMPORTED_MODULE_25__["default"]({name:"Raster.ServicePixelValue",alias:"Pixel Value",domain:null,editable:!1,length:50,type:"string"}),new _support_Field_js__WEBPACK_IMPORTED_MODULE_25__["default"]({name:"Raster.ServicePixelValue.Raw",alias:"Raw Pixel Value",domain:null,editable:!1,length:50,type:"string"})],{rasterInfo:r}=this,t=r?.attributeTable,s=null!=t?t.fields:null,i="Raster.";if(s){const r=s.filter((e=>"oid"!==e.type&&"value"!==e.name.toLowerCase())).map((e=>{const r=e.clone();return r.name=i+e.name,r}));e.push(...r)}const o=r?.dataType,a=r?.multidimensionalInfo;if(("vector-magdir"===o||"vector-uv"===o)&&null!=a){const r=a.variables[0].unit?.trim(),t="Magnitude"+(r?` (${r})`:"");e.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_25__["default"]({name:"Raster.Magnitude",alias:t,domain:null,editable:!1,type:"double"})),e.push(new _support_Field_js__WEBPACK_IMPORTED_MODULE_25__["default"]({name:"Raster.Direction",alias:"Direction (Â°)",domain:null,editable:!1,type:"double"}))}return e}createPopupTemplate(e){const{rasterFields:r}=this,t=new Set(r.map((({name:e})=>e)).filter((e=>"raster.servicepixelvalue.raw"!==e.toLowerCase())));return (0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_31__.createPopupTemplate)({fields:r,title:this.title},{...e,visibleFieldNames:t})}async generateRasterInfo(e,r){if(!(e=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__.ensureClass)(_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_27__["default"],e)))return this.rasterInfo;try{const t={raster:this._primaryRasters[0]};this._primaryRasters.length>1&&this._primaryRasters.forEach((e=>t[e.url]=e));const s=(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_30__.create)(e.functionDefinition?.toJSON()??e.toJSON(),t),i=new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_28__["default"]({rasterFunction:s});return await i.open(r),i.rasterInfo}catch(t){if(t instanceof _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"])throw t;throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("imagery-tile-layer","the given raster function is not supported")}}async save(e){return this._debouncedSaveOperations(_webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.SaveOperationType.SAVE,e)}async saveAs(e,r){return this._debouncedSaveOperations(_webdoc_interfaces_js__WEBPACK_IMPORTED_MODULE_32__.SaveOperationType.SAVE_AS,r,e)}write(e,r){const t=this._primaryRasters[0]??this.raster;if(this.loaded?"RasterTileServer"===t.datasetFormat&&("Raster"===t.tileType||"Map"===t.tileType):this.url&&/\/ImageServer(\/|\/?$)/i.test(this.url))return super.write(e,r);if(r?.messages){const e=`${r.origin}/${r.layerContainerType||"operational-layers"}`;r.messages.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}async _openRaster(e){let r=!1;if(this.raster)this.raster.rasterInfo||await this.raster.open(),"Function"===this.raster.datasetFormat?(r=!0,this._primaryRasters=this.raster.primaryRasters.rasters):this._primaryRasters=[this.raster],this.url=this.raster.url;else{const{rasterFunction:r}=this,t=[this.url];r&&(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_30__.getPrimaryRasterUrls)(r.toJSON(),t);const a=await Promise.all(t.map((r=>_support_rasterDatasets_RasterFactory_js__WEBPACK_IMPORTED_MODULE_29__["default"].open({url:r,sourceJSON:this.sourceJSON,ioConfig:{sampling:"closest",...this.ioConfig,customFetchParameters:this.customParameters},signal:e})))),n=a.findIndex((e=>null==e));if(n>-1)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("imagery-tile-layer:open",`cannot open raster: ${t[n]}`);if(this._primaryRasters=a,r){const e={raster:this._primaryRasters[0]};this._primaryRasters.length>1&&this._primaryRasters.forEach((r=>e[r.url]=r));const t=(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_30__.create)(r.functionDefinition?.toJSON()??r.toJSON(),e),n=new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_28__["default"]({rasterFunction:t});try{await n.open(),this.raster=n}catch(o){const e=_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this);o instanceof _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]&&e.error("imagery-tile-layer:open",o.message),e.warn("imagery-tile-layer:open","the raster function cannot be applied and is removed"),this._set("rasterFunction",null),this.raster=a[0]}}else this.raster=a[0]}const t=this.raster.rasterInfo;if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("imagery-tile-layer:load","cannot load resources on "+this.url);if(this._set("rasterInfo",r?t:this._primaryRasters[0].rasterInfo),this._set("spatialReference",t.spatialReference),this.sourceJSON=this.sourceJSON||this.raster.sourceJSON,null!=this.sourceJSON){const e="Map"===this.raster.tileType&&null!=this.sourceJSON.minLOD&&null!=this.sourceJSON.maxLOD?this.sourceJSON:{...this.sourceJSON,minScale:0,maxScale:0};this.read(e,{origin:"service"})}else this.read({tileInfo:this.rasterInfo.storageInfo.tileInfo.toJSON()},{origin:"service"});this.title||(this.title=this.raster.datasetName),"Map"===this.raster.tileType&&(this.popupEnabled=!1),this._configDefaultSettings(),this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this.customParameters),(e=>{this.raster&&(this.raster.ioConfig.customFetchParameters=e)})))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({clonable:!1})],E.prototype,"_primaryRasters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__.Integer],json:{write:{overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType||"0,1,2"!==this.bandIds?.join(",")}}}}})],E.prototype,"bandIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({json:{write:{overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType||"bilinear"!==this.interpolation}}}}}),(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_12__.enumeration)(_support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_26__.interpolationKebab)],E.prototype,"interpolation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_24__.legendEnabled)],E.prototype,"legendEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],E.prototype,"isReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:["show","hide"]})],E.prototype,"listMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({json:{read:!0,write:!0}})],E.prototype,"blendMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],E.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0,json:{origins:{service:{read:{source:"currentVersion"}}}}})],E.prototype,"version",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0,json:{read:!1}})],E.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:["ArcGISTiledImageServiceLayer"]})],E.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,r)=>!r.disablePopup},write:{target:"disablePopup",overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType}},writer(e,r,t){r[t]=!e}}}})],E.prototype,"popupEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:_PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__["default"],json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType}}}}})],E.prototype,"popupTemplate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],E.prototype,"defaultPopupTemplate",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0,type:[_support_Field_js__WEBPACK_IMPORTED_MODULE_25__["default"]]})],E.prototype,"fields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0,type:[_support_Field_js__WEBPACK_IMPORTED_MODULE_25__["default"]]})],E.prototype,"rasterFields",null),E=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)("esri.layers.ImageryTileLayer")],E);const A=E;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImageryTileMixin: () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../rasterRenderers.js */ "./node_modules/@arcgis/core/rasterRenderers.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _support_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../support/DimensionalDefinition.js */ "./node_modules/@arcgis/core/layers/support/DimensionalDefinition.js");
/* harmony import */ var _support_MultidimensionalSubset_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/MultidimensionalSubset.js */ "./node_modules/@arcgis/core/layers/support/MultidimensionalSubset.js");
/* harmony import */ var _support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/RasterFunction.js */ "./node_modules/@arcgis/core/layers/support/RasterFunction.js");
/* harmony import */ var _support_RasterJobHandler_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../support/RasterJobHandler.js */ "./node_modules/@arcgis/core/layers/support/RasterJobHandler.js");
/* harmony import */ var _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../support/rasterDatasets/FunctionRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js");
/* harmony import */ var _support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../support/rasterDatasets/multidimensionalUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/multidimensionalUtils.js");
/* harmony import */ var _support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../support/rasterFunctions/clipUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js");
/* harmony import */ var _support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../support/rasterFunctions/rasterFunctionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterFunctionHelper.js");
/* harmony import */ var _support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../support/rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../support/rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../support/rasterFunctions/vectorFieldUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js");
/* harmony import */ var _renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../renderers/support/rasterRendererHelper.js */ "./node_modules/@arcgis/core/renderers/support/rasterRendererHelper.js");
/* harmony import */ var _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../renderers/support/RasterSymbolizer.js */ "./node_modules/@arcgis/core/renderers/support/RasterSymbolizer.js");
/* harmony import */ var _rest_support_ImageHistogramParameters_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../rest/support/ImageHistogramParameters.js */ "./node_modules/@arcgis/core/rest/support/ImageHistogramParameters.js");
/* harmony import */ var _views_2d_engine_flow_dataUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../views/2d/engine/flow/dataUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/flow/dataUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const B=_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger("esri.layers.mixins.ImageryTileMixin"),V=o=>{let V=class extends o{constructor(...e){super(...e),this._isConstructedFromFunctionRaster=!1,this._rasterJobHandler={instance:null,refCount:0,connectionPromise:null},this.bandIds=null,this.copyright=null,this.interpolation="nearest",this.multidimensionalSubset=null,this.raster=null,this.rasterInfo=null,this.sourceJSON=null,this.spatialReference=null,this.symbolizer=null,this._isConstructedFromFunctionRaster="Function"===e[0]?.raster?.datasetFormat}get fullExtent(){return this.rasterInfo?.extent}set multidimensionalDefinition(e){this._set("multidimensionalDefinition",e),this.updateRenderer()}set rasterFunction(e){"none"===e?.functionName?.toLowerCase()&&(e=void 0),this._set("rasterFunction",e),this.updateRasterFunction()}set url(e){this._set("url",(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_13__.sanitizeUrl)(e,B))}set renderer(e){null==e&&null==this.rasterFunction?this._configDefaultRenderer("override"):(this._set("renderer",e),this.updateRenderer())}readRenderer(e,t,r){const n=t?.layerDefinition?.drawingInfo?.renderer;return (0,_rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__.read)(n,r)||void 0}async convertVectorFieldData(e,t){if(null==e||!this.rasterInfo)return null;const r=this._rasterJobHandler.instance,i=this.rasterInfo.dataType;return r?r.convertVectorFieldData({pixelBlock:e,dataType:i},t):(0,_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_26__.convertVectorFieldData)(e,i)}async computeStatisticsHistograms(e,t){e=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__.ensureClass)(_rest_support_ImageHistogramParameters_js__WEBPACK_IMPORTED_MODULE_29__["default"],e).clone();const{rasterInfo:r}=this,{geometry:i}=e;if(null==i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-mixin:compute-statistics-histograms","geometry must be specified");let n=i;const{spatialReference:o}=r;i.spatialReference.equals(o)||(await (0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.load)(),n="extent"===i.type?(0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectExtent)(i,o):(0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectPolygon)(i,o));const a=e.pixelSize??new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_32__["default"]({x:r.pixelSize.x,y:r.pixelSize.y,spatialReference:o}),{extent:u,width:c,height:d}=(0,_support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_22__.snapToRaster)(r,n,a),m=await this.fetchPixels(u,c,d,{...t,interpolation:"nearest"});if(null==m.pixelBlock)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-mixin:compute-statistics-histograms","failed to fetch pixels");const h=await (0,_support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_22__.clip)(m.pixelBlock,u,n),p=this._rasterJobHandler.instance;return p?p.computeStatisticsHistograms({pixelBlock:h},t):(0,_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_25__.computeStatisticsHistograms)(h)}async createFlowMesh(e,t){const r=this._rasterJobHandler.instance;return r?r.createFlowMesh(e,t):(0,_views_2d_engine_flow_dataUtils_js__WEBPACK_IMPORTED_MODULE_30__.createFlowMesh)(e.meshType,e.simulationSettings,e.flowData,null!=t.signal?t.signal:(new AbortController).signal)}normalizeRasterFetchOptions(e){const{multidimensionalInfo:t}=this.rasterInfo??{};if(null==t)return e;let r=e.multidimensionalDefinition||this.multidimensionalDefinition;r?.length||(r=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultMultidimensionalDefinition)(this.raster.rasterInfo,{multidimensionalSubset:this.multidimensionalSubset}));const i=e.timeExtent||this.timeExtent;if(null!=r&&null!=i&&(null!=i.start||null!=i.end)){r=r.map((e=>e.clone()));const n=t.variables.find((({name:e})=>e===r[0].variableName))?.dimensions?.find((({name:e})=>"StdTime"===e)),s=r.find((({dimensionName:e})=>"StdTime"===e));if(!n||!s)return{...e,multidimensionalDefinition:null};const{start:o,end:a}=i,l=null==o?null:o.getTime(),u=null==a?null:a.getTime(),c=l??u,d=u??l;if(null!=n.values){const e=n.values.filter((e=>{if(Array.isArray(e)){if(c===d)return e[0]<=c&&e[1]>=c;const t=e[0]<=c&&e[1]>c||e[0]<d&&e[1]>=d,r=e[0]>=c&&e[1]<=d||e[0]<c&&e[1]>d;return t||r}return c===d?e===c:e>=c&&e<=d}));if(e.length){const t=e.sort(((e,t)=>{const r=Array.isArray(e)?e[0]:e,i=Array.isArray(e)?e[1]:e,n=Array.isArray(t)?t[0]:t,s=Array.isArray(t)?t[1]:t;if(c===d)return r-n;return Math.abs(i-d)-Math.abs(s-d)}))[0];s.values=[t]}else r=null}else if(n.hasRegularIntervals&&n.extent){const[e,t]=n.extent;c>t||d<e?r=null:s.values=c===d?[c]:[Math.max(e,c),Math.min(t,d)]}}return null!=r&&(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.hasExcludedVariableOrDimension)(r,this.multidimensionalSubset)?{...e,multidimensionalDefinition:null}:{...e,multidimensionalDefinition:r}}async updateRasterFunction(){if(!this.loaded||"imagery-tile"!==this.type||!this.rasterFunction&&!this._cachedRasterFunctionJson||JSON.stringify(this.rasterFunction)===JSON.stringify(this._cachedRasterFunctionJson))return;if(this._isConstructedFromFunctionRaster&&"Function"===this.raster.datasetFormat){const e=this.raster.rasterFunction.toJSON();return!this.rasterFunction&&e&&this._set("rasterFunction",_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_17__["default"].fromJSON(e)),void(this._cachedRasterFunctionJson=this.rasterFunction?.toJSON())}let e,t=this.raster,r=!1;"Function"===t.datasetFormat?(e=t.primaryRasters.rasters,t=e[0],r=!0):e=[t];const{rasterFunction:i}=this;if(i){const r={raster:t};e.length>1&&e.forEach((e=>r[e.url]=e));const n=(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_23__.create)(i.functionDefinition?.toJSON()??i.toJSON(),r),s=new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_20__["default"]({rasterFunction:n});s.rasterJobHandler=this._rasterJobHandler.instance,await s.open(),this._cachedRasterFunctionJson=this.rasterFunction?.toJSON(),this.raster=s}else this.raster=t,this._cachedRasterFunctionJson=null,await t.when();if(this._cachedRendererJson=null,!r&&!i)return;const{bandIds:n}=this,{bandCount:s}=this.raster.rasterInfo,o=n?.length?n.some((e=>e>=s)):s>=3;n&&(o||this.renderer&&"raster-stretch"!==this.renderer.type)&&this._set("bandIds",null),this._configDefaultRenderer("auto")}async updateRenderer(){const{loaded:e,symbolizer:t}=this;if(!e||!t||!this.renderer)return;const{rasterInfo:r}=this.raster,i=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultVariablInfo)(r,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),n=i?.name,s=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.normalizeRendererJSON)({...this.renderer.toJSON(),variableName:n});if(JSON.stringify(this._cachedRendererJson)===JSON.stringify(s))return;const o=this._rasterJobHandler.instance;o&&(t.rasterInfo=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getVariableRasterInfo)(r,n),t.rendererJSON=s,t.bind(),await o.updateSymbolizer(t),this._cachedRendererJson=s)}async applyRenderer(e,t){const r=e?.pixelBlock;if(!(null!=r&&r.pixels&&r.pixels.length>0))return null;let i;await this.updateRenderer();const n=this._rasterJobHandler.instance,s=this.bandIds??[];return i=n?await n.symbolize({...e,simpleStretchParams:t,bandIds:s}):this.symbolizer.symbolize({...e,simpleStretchParams:t,bandIds:s}),i}getTileUrl(e,t,r){return"RasterTileServer"===this.raster.datasetFormat?`${this.url}/tile/${e}/${t}/${r}`:""}getCompatibleTileInfo(e,t,r=!1){if(!this.loaded||null==t)return null;if(r&&e.equals(this.spatialReference))return this.tileInfo;const i=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__.getInfo)(e);return _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"].create({size:256,spatialReference:e,origin:i?{x:i.origin[0],y:i.origin[1]}:{x:t.xmin,y:t.ymax}})}getCompatibleFullExtent(e){return this.loaded?(this._compatibleFullExtent&&this._compatibleFullExtent.spatialReference.equals(e)||(this._compatibleFullExtent=this.raster.computeExtent(e)),this._compatibleFullExtent):null}async fetchTile(e,t,r,i={}){if(L(this),i.requestAsImageElement){const s=this.getTileUrl(e,t,r);return (0,_request_js__WEBPACK_IMPORTED_MODULE_3__["default"])(s,{responseType:"image",query:{...this.refreshParameters,...this.raster.ioConfig.customFetchParameters},signal:i.signal}).then((e=>e.data))}const{rasterInfo:s}=this;if(null!=s.multidimensionalInfo&&null==(i=this.normalizeRasterFetchOptions(i)).multidimensionalDefinition){const n=i.tileInfo||s.storageInfo.tileInfo;return{extent:this.raster.getTileExtentFromTileInfo(e,t,r,n),pixelBlock:null}}return await this._initJobHandler(),await this.updateRasterFunction(),"raster-shaded-relief"===this.renderer?.type&&(i={...i,buffer:{cols:1,rows:1}}),this.raster.fetchTile(e,t,r,i)}async fetchPixels(e,t,r,i={}){return null!=this.rasterInfo.multidimensionalInfo&&null==(i=this.normalizeRasterFetchOptions(i)).multidimensionalDefinition?{extent:e,pixelBlock:null}:(await this._initJobHandler(),await this.updateRasterFunction(),t=Math.round(t),r=Math.round(r),this.raster.fetchPixels(e,t,r,i))}async identify(e,t={}){const{raster:r,rasterInfo:i}=this;if(null!=i.multidimensionalInfo){if(!(i.hasMultidimensionalTranspose&&!!((0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.isMultiSliceOrRangeDefinition)(t.multidimensionalDefinition)||t.transposedVariableName||t.timeExtent))&&null==(t=this.normalizeRasterFetchOptions(t)).multidimensionalDefinition)return{location:e,value:null}}const n=this.multidimensionalSubset?.areaOfInterest;if(n&&!n.contains(e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile-mixin:identify","the request cannot be fulfilled when falling outside of the multidimensional subset");return r.identify(e,t)}increaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount++}decreaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount--,this._rasterJobHandler.refCount<=0&&this._shutdownJobHandler()}hasStandardTime(){const e=this.rasterInfo?.multidimensionalInfo;if(null==e||"standard-time"!==this.rasterInfo?.dataType)return!1;const t=this.multidimensionalDefinition,r=t?.[0]?.variableName;return e.variables.some((e=>e.name===r&&(!t?.[0].dimensionName||e.dimensions.some((e=>"StdTime"===e.name)))))}getStandardTimeValue(e){return new Date(24*(e-25569)*3600*1e3).toString()}getMultidimensionalSubsetVariables(e){const t=e??this.rasterInfo?.multidimensionalInfo;return (0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getSubsetVariablesFromMdInfo)(this.multidimensionalSubset,t)}_configDefaultSettings(){this._configDefaultInterpolation(),this.multidimensionalDefinition||(this.multidimensionalDefinition=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultMultidimensionalDefinition)(this.raster.rasterInfo,{multidimensionalSubset:this.multidimensionalSubset})),this.rasterFunction&&"Function"===this.raster.datasetFormat&&(this._cachedRasterFunctionJson=this.rasterFunction.toJSON()),this._configDefaultRenderer()}_initJobHandler(){if(null!=this._rasterJobHandler.connectionPromise)return this._rasterJobHandler.connectionPromise;const e=new _support_RasterJobHandler_js__WEBPACK_IMPORTED_MODULE_18__["default"];return this._rasterJobHandler.connectionPromise=e.initialize().then((async()=>{L(this),this._rasterJobHandler.instance=e,this.raster.rasterJobHandler=e,"Function"===this.raster.datasetFormat&&this.raster.syncJobHandler(),this.rasterFunction&&await this.updateRasterFunction().catch((()=>{})),this.renderer&&this.updateRenderer()})).catch((()=>{})),this._rasterJobHandler.connectionPromise}_shutdownJobHandler(){this._rasterJobHandler.instance&&this._rasterJobHandler.instance.destroy(),this._rasterJobHandler.instance=null,this._rasterJobHandler.connectionPromise=null,this._rasterJobHandler.refCount=0,this._cachedRendererJson=null,this.raster&&(this.raster.rasterJobHandler=null)}_configDefaultInterpolation(){if(null==this.interpolation){L(this);const{raster:e}=this,t=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getDefaultInterpolation)(e.rasterInfo,e.tileType,this.sourceJSON?.defaultResamplingMethod);this._set("interpolation",t)}}_configDefaultRenderer(e="no"){L(this);const{rasterInfo:t}=this.raster;!this.bandIds&&t.bandCount>1&&(this.bandIds=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getDefaultBandCombination)(t));const r=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_21__.getDefaultVariablInfo)(t,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),i=r?.name;if(!this.renderer||"override"===e){const e=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.createDefaultRenderer)(t,{bandIds:this.bandIds,variableName:i}),r=t.statistics,n=r&&r.length>0?r[0]:null,s=n?.max??0,o=n?.min??0;"WCSServer"===this.raster.datasetFormat&&"raster-stretch"===e.type&&(s>1e24||o<-1e24)&&(e.dynamicRangeAdjustment=!0,e.statistics=null,"none"===e.stretchType&&(e.stretchType="min-max")),this.renderer=e}const n=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.normalizeRendererJSON)({...this.renderer.toJSON(),variableName:i}),s=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.getVariableRasterInfo)(t,i);this.symbolizer?(this.symbolizer.rendererJSON=n,this.symbolizer.rasterInfo=s):this.symbolizer=new _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_28__["default"]({rendererJSON:n,rasterInfo:s});const o=this.symbolizer.bind();if(o.success){if("auto"===e){const{colormap:e}=this.raster.rasterInfo,t=this.renderer;if(null!=e&&"raster-colormap"===t.type){const e=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__.createDefaultRenderer)(this.raster.rasterInfo);JSON.stringify(e)!==JSON.stringify(t)&&this._configDefaultRenderer("override")}else if("raster-stretch"===t.type){const e=this.bandIds?.length,r=t.statistics?.length;!t.dynamicRangeAdjustment&&r&&e&&r!==e&&this._configDefaultRenderer("override")}}}else B.warn("imagery-tile-mixin",o.error||"The given renderer is not supported by the layer."),"auto"===e&&this._configDefaultRenderer("override")}};function L(e){if(!e.raster||!e.rasterInfo)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("imagery-tile","no raster")}return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({clonable:!1})],V.prototype,"_cachedRendererJson",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({clonable:!1})],V.prototype,"_cachedRasterFunctionJson",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({clonable:!1})],V.prototype,"_compatibleFullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({clonable:!1})],V.prototype,"_isConstructedFromFunctionRaster",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({clonable:!1})],V.prototype,"_rasterJobHandler",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"bandIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{origins:{service:{read:{source:"copyrightText"}}}}})],V.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({json:{read:!1}})],V.prototype,"fullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"interpolation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"ioConfig",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:[_support_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_15__["default"]],json:{write:!0}})],V.prototype,"multidimensionalDefinition",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_support_MultidimensionalSubset_js__WEBPACK_IMPORTED_MODULE_16__["default"],json:{write:!0}})],V.prototype,"multidimensionalSubset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"raster",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_17__["default"],json:{name:"renderingRule",write:!0}})],V.prototype,"rasterFunction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"rasterInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],V.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0,type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_31__["default"],json:{read:!1}})],V.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_19__["default"]})],V.prototype,"tileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_14__.url)],V.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({types:_rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__.rasterRendererTypes,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy(){const e="raster-stretch"===this.renderer?.type&&"none"===this.renderer.stretchType&&!this.renderer.useGamma;return{enabled:!this.loaded||"Raster"===this.raster.tileType||!e}}},origins:{"web-scene":{types:_rasterRenderers_js__WEBPACK_IMPORTED_MODULE_2__.websceneRasterRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:e=>({enabled:e&&"vector-field"!==e.type&&"flow"!==e.type})}}}}})],V.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__.reader)("renderer")],V.prototype,"readRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({clonable:!1})],V.prototype,"symbolizer",void 0),V=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.layers.ImageryTileMixin")],V),V};


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/LOD.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/LOD.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var i;let l=i=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new i({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"cols",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__.Integer,json:{write:!0}})],l.prototype,"level",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:String,json:{write:!0}})],l.prototype,"levelValue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"origin",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,json:{write:!0}})],l.prototype,"resolution",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"rows",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,json:{write:!0}})],l.prototype,"scale",void 0),l=i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.LOD")],l);const p=l;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/TileInfo.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/TileInfo.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/jsonMap.js */ "./node_modules/@arcgis/core/core/jsonMap.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./LOD.js */ "./node_modules/@arcgis/core/layers/support/LOD.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/layers/support/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var w;const x=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__.JSONMap({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let O=w=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.JSONSupport{static create(e={}){const{resolutionFactor:t=1,scales:o,size:s=256,spatialReference:i=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"].WebMercator,numLODs:l=24}=e;if(!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.isValid)(i)){const e=[];if(o)for(let t=0;t<o.length;t++){const r=o[t];e.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:t,scale:r,resolution:r}))}else{let t=5e-4;for(let o=l-1;o>=0;o--)e.unshift(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:o,scale:t,resolution:t})),t*=2}return new w({dpi:96,lods:e,origin:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"](0,0,i),size:[s,s],spatialReference:i})}const n=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.getInfo)(i),a=e.origin?new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"]({x:e.origin.x,y:e.origin.y,spatialReference:i}):new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"](n?{x:n.origin[0],y:n.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),u=96,d=1/((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__.getMetersPerUnitForSR)(i)*39.37*u),g=[];if(o)for(let r=0;r<o.length;r++){const e=o[r],t=e*d;g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:r,scale:e,resolution:t}))}else{let e=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.isGeographic)(i)?512/s*591657527.5917094:256/s*591657527.591555;const o=Math.ceil(l/t);g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:0,scale:e,resolution:e*d}));for(let r=1;r<o;r++){const o=e/2**t,s=o*d;g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:r,scale:o,resolution:s})),e=o}}return new w({dpi:u,lods:g,origin:a,size:[s,s],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const o=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.getInfo)(e);return e.isWrappable&&!!o&&Math.abs(o.origin[0]-t.x)<=o.dx}return!1}readOrigin(e,t){return _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,o=0;const r=[],s=this._levelToLOD={};e&&(t=-1/0,o=1/0,e.forEach((e=>{r.push(e.scale),t=e.scale>t?e.scale:t,o=e.scale<o?e.scale:o,s[e.level]=e}))),this._set("scales",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const o=Math.floor(e),r=o+1;return t[o]/(t[o]/t[r])**(e-o)}scaleToZoom(e){const t=this.scales,o=t.length-1;let r=0;for(;r<o;r++){const o=t[r],s=t[r+1];if(o<=e)return r;if(s===e)return r+1;if(o>e&&s<e)return r+Math.log(o/e)/Math.log(o/s)}return r}snapScale(e,t=.95){const o=this.scaleToZoom(e);return o%Math.floor(o)>=t?this.zoomToScale(Math.ceil(o)):this.zoomToScale(Math.floor(o))}tileAt(e,t,o,r){const s=this.lodAt(e);if(!s)return null;let i,l;if("number"==typeof t)i=t,l=o;else if((0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__.equals)(t.spatialReference,this.spatialReference))i=t.x,l=t.y,r=o;else{const e=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__.project)(t,this.spatialReference);if(null==e)return null;i=e.x,l=e.y,r=o}const n=s.resolution*this.size[0],a=s.resolution*this.size[1];return r||(r=new _TileKey_js__WEBPACK_IMPORTED_MODULE_17__.TileKey(null,0,0,0,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)())),r.level=e,r.row=Math.floor((this.origin.y-l)/a+.001),r.col=Math.floor((i-this.origin.x)/n+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=w.ExtrapolateOptions.NONE){let o=this.lodAt(e.level);if(!o&&t===w.ExtrapolateOptions.POWER_OF_TWO){const t=this.lods[this.lods.length-1];t.level<e.level&&(o=t)}if(!o)return;const r=e.level-o.level,s=o.resolution*this.size[0]/2**r,i=o.resolution*this.size[1]/2**r;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__.create)()),e.extent[0]=this.origin.x+e.col*s,e.extent[1]=this.origin.y-(e.row+1)*i,e.extent[2]=e.extent[0]+s,e.extent[3]=e.extent[1]+i}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const o=this.lodAt(t.level);if(null==o)return null;const{resolution:r}=o,s=r*this.size[0],i=r*this.size[1];return e[0]=this.origin.x+t.col*s,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+s,e[3]=e[1]+i,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return w.fromJSON(this.write({}))}getOrCreateCompatible(e,t){if(256===this.size[0]&&256===this.size[1])return 256===e?this:null;const o=[],r=this.lods.length;for(let s=0;s<r;s++){const e=this.lods[s],r=e.resolution*t;o.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:e.level,scale:e.scale,resolution:r}))}return new w({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:o})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let o=0;o<e.length;o++){const r=e[o];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],O.prototype,"compressionQuality",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Number,json:{write:!0}})],O.prototype,"dpi",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{read:x.read,write:x.write,origins:{"web-scene":{read:!1,write:!1}}}})],O.prototype,"format",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],O.prototype,"isWrappable",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"],json:{write:!0}})],O.prototype,"origin",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.reader)("origin")],O.prototype,"readOrigin",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:[_LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]],value:null,json:{write:!0}})],O.prototype,"lods",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],O.prototype,"scales",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],O.prototype,"size",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.reader)("size",["rows","cols"])],O.prototype,"readSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__.writer)("size",{cols:{type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__.Integer},rows:{type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__.Integer}})],O.prototype,"writeSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__["default"],json:{write:!0}})],O.prototype,"spatialReference",void 0),O=w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.layers.support.TileInfo")],O),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(O||(O={}));const j=O;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/TileKey.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/TileKey.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TileKey: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t,s,i,o,e=void 0){this.id=t,this.level=s,this.row=i,this.col=o,this.extent=e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/Tilemap.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/Tilemap.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Tilemap: () => (/* binding */ r),
/* harmony export */   tilemapDefinitionId: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _geometry_support_UintArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/support/UintArray.js */ "./node_modules/@arcgis/core/geometry/support/UintArray.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r{constructor(t){this._validateJSON(t);const{location:i,data:e}=t;this.location=Object.freeze((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__.clone)(i));const r=this.location.width,n=this.location.height;let s=!0,h=!0;const c=Math.ceil(r*n/32),m=(0,_geometry_support_UintArray_js__WEBPACK_IMPORTED_MODULE_5__.newUintArray)(c);let f=0;for(let a=0;a<e.length;a++){const t=a%32;e[a]?(h=!1,m[f]|=1<<t):s=!1,31===t&&++f}h?(this._availability="unavailable",this.byteSize=40):s?(this._availability="available",this.byteSize=40):(this._availability=m,this.byteSize=40+(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_4__.estimateSize)(m))}getAvailability(t,i){if("unavailable"===this._availability||"available"===this._availability)return this._availability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%32,o=e>>5,l=this._availability;return o<0||o>l.length?"unknown":l[o]&1<<a?"available":"unavailable"}static fromDefinition(a,o){const l=a.service.request||_request_js__WEBPACK_IMPORTED_MODULE_0__["default"],{row:n,col:h,width:c,height:m}=a,f={query:{f:"json"}};return o=o?{...f,...o}:f,l(s(a),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:n,left:h,width:c,height:m},valid:!0,data:(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.constant)(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==n||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:location-mismatch","Tilemap response for different location than requested",{response:t,definition:{top:n,left:h,width:c,height:m}});return r.fromJSON(t)}))}static fromJSON(t){return Object.freeze(new r(t))}_validateJSON(t){if(!t?.location)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:missing-location","Location missing from tilemap response");if(!1===t.valid)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:invalid","Tilemap response was marked as invalid");if(!t.data)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(t.data))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:data-mismatch","Data must be an array of numbers");if(t.data.length!==t.location.width*t.location.height)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function n(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function s(t){let i;if(t.service.tileServers?.length){const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}else i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;const e=t.service.query;return e&&(i=`${i}?${e}`),i}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/TilemapCache.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/TilemapCache.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TilemapCache: () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/ByteSizeUnit.js */ "./node_modules/@arcgis/core/core/ByteSizeUnit.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/LRUCache.js */ "./node_modules/@arcgis/core/core/LRUCache.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/layers/support/TileKey.js");
/* harmony import */ var _Tilemap_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Tilemap.js */ "./node_modules/@arcgis/core/layers/support/Tilemap.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var w;let T=w=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(e),this._pendingTilemapRequests={},this.request=_request_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_6__.LRUCache(2*_core_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_3__.ByteSizeUnit.MEGABYTES),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.watch)((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.initial)])}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}fetchTilemap(e,t,i,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,i,l);if(o)return Promise.resolve(o);const a=r?.signal;return r={...r,signal:null},new Promise(((e,t)=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.onAbort)(a,(()=>t((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.createAbortError)())));const i=(0,_Tilemap_js__WEBPACK_IMPORTED_MODULE_18__.tilemapDefinitionId)(l);let s=this._pendingTilemapRequests[i];if(!s){s=_Tilemap_js__WEBPACK_IMPORTED_MODULE_18__.Tilemap.fromDefinition(l,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>{delete this._pendingTilemapRequests[i]};this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}getAvailability(e,t,i){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return"unavailable";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):"unknown"}fetchAvailability(e,t,i,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:i})):this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof _Tilemap_js__WEBPACK_IMPORTED_MODULE_18__.Tilemap){const l=r.getAvailability(t,i);if("unavailable"===l)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:i});return l}if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(r))throw r;return"unknown"}))}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const o=this.fetchAvailability(e,t,i,s).catch((e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,s);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,s,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,s,o){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.hasHandles(a))return;const n=new AbortController;o.then((()=>n.abort()),(()=>n.abort()));let c=!1;const h=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__.makeHandle)((()=>{c||(c=!0,n.abort())}));if(this.addHandles(h,a),await (0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_10__.waitTicks)(10,n.signal).catch((()=>{})),c||(c=!0,this.removeHandles(a)),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAborted)(n))return;const m=new _TileKey_js__WEBPACK_IMPORTED_MODULE_17__.TileKey(e,t,i,r),f={...s,signal:n.signal},v=this.layer.tileInfo;for(let l=0;w._prefetches.length<w._maxPrefetch&&v.upsampleTile(m);++l){const e=this.fetchAvailability(m.level,m.row,m.col,f);w._prefetches.push(e);const t=()=>{w._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_11__.objectToQuery)({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=(0,_Tilemap_js__WEBPACK_IMPORTED_MODULE_18__.tilemapDefinitionId)(r);return this._tilemapCache.get(s)}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,r)=>!!e._tilemapFromCache(t,i,r,e._tmpTilemapDefinition)}}};T._maxPrefetch=4,T._prefetches=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_7__["default"]({initialSize:w._maxPrefetch}),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"minLOD",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"maxLOD",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"request",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"size",void 0),T=w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__.subclass)("esri.layers.support.TilemapCache")],T);


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ U)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _commonProperties_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../DimensionalDefinition.js */ "./node_modules/@arcgis/core/layers/support/DimensionalDefinition.js");
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../LOD.js */ "./node_modules/@arcgis/core/layers/support/LOD.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./multidimensionalUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/multidimensionalUtils.js");
/* harmony import */ var _RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./RawBlockCache.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js");
/* harmony import */ var _rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../rasterFormats/pixelRangeUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/pixelRangeUtils.js");
/* harmony import */ var _rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../rasterFormats/RasterCodec.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/RasterCodec.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../rasterFunctions/vectorFieldUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const J=8,N=256;let V=class extends((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__.JSONSupport)){constructor(){super(...arguments),this.datasetName=null,this.datasetFormat=null,this.hasUniqueSourceStorageInfo=!0,this.rasterInfo=null,this.ioConfig={sampling:"closest"}}async init(){const e=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.load)();this.addResolvingPromise(e),await this.when()}normalizeCtorArgs(e){return e?.ioConfig&&(e={...e,ioConfig:{resolution:null,bandIds:null,sampling:"closest",tileInfo:_TileInfo_js__WEBPACK_IMPORTED_MODULE_18__["default"].create(),...e.ioConfig}}),e}get _isGlobalWrappableSource(){const{rasterInfo:e}=this,t=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWidth)(e.spatialReference);return null!=t&&e.extent.width>=t/2}get _hasNoneOrGCSShiftTransform(){const{transform:e}=this.rasterInfo;return null==e||"gcs-shift"===e.type}set rasterJobHandler(e){this._set("rasterJobHandler",e),"Function"===this.datasetFormat&&this.primaryRasters?.rasters?.forEach((t=>t.rasterJobHandler=e))}set url(e){this._set("url",(0,_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_13__.sanitizeUrl)(e,_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this)))}async open(e){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("BaseRaster:open-not-implemented","open() is not implemented")}async fetchTile(e,t,i,o={}){const r=o.tileInfo||this.rasterInfo.storageInfo.tileInfo,n=this.getTileExtentFromTileInfo(e,t,i,r);return this.fetchPixels(n,r.size[0],r.size[1],o)}async identify(e,t={}){e=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__.ensureClass)(_geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"],e).clone().normalize();const{multidimensionalDefinition:i,timeExtent:o}=t,{rasterInfo:r}=this,{hasMultidimensionalTranspose:n,multidimensionalInfo:s}=r;let{transposedVariableName:l}=t;const c=null!=s&&n&&(null!=o||(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_19__.isMultiSliceOrRangeDefinition)(i));if(c&&!l){l=null!=i&&i.length>0?i[0].variableName??void 0:s.variables[0].name,t={...t,transposedVariableName:l}}t=this._getRequestOptionsWithSliceId(t);const{spatialReference:m,extent:f}=r,{datumTransformation:u}=t;let h=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectPoint)(e,m,u);if(!f.intersects(h))return{location:h,value:null};if(null!=r.transform){const e=r.transform.inverseTransform(h);if(!r.nativeExtent.intersects(e))return{location:e,value:null};h=e}let p=0;const d=null!=l&&null!=s&&r.hasMultidimensionalTranspose;if("Function"===this.datasetFormat){const e=this.primaryRasters.rasters[0];if(d)return e.identify(h,t);const{pixelSize:i}=r,o=3,n=i.x*o/2,s=i.y*o/2,l=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_26__["default"]({xmin:h.x-n,xmax:h.x+n,ymin:h.y-s,ymax:h.y+s,spatialReference:m}),a={interpolation:"nearest"},{pixelBlock:c}=await e.fetchPixels(l,o,o,a),{pixelBlock:f}=await this.fetchPixels(l,o,o,a);if(null==c)return{location:h,value:null};const u=Math.floor(o*o*.5),p=!c.mask||c.mask[u]?c.pixels.map((e=>e[u])):null;let x;return null!=f&&(x=!f.mask||f.mask[u]?f.pixels.map((e=>e[u])):void 0),{location:h,value:p,processedValue:x,pyramidLevel:0}}if(!d)if(t.srcResolution){p=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.snapPyramid)(t.srcResolution,r,this.ioConfig.sampling).pyramidLevel}else if(p=await this.computeBestPyramidLevelForLocation(e,t),null==p)return{location:h,value:null};const y=this.identifyPixelLocation(h,p,null,d);if(null===y)return{location:h,value:null};const{row:g,col:I,rowOffset:k,colOffset:T,blockWidth:b}=y,v=l??t.sliceId,P=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.getRasterId)(this.url,v),B=`${p}/${g}/${I}`;let M=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.getBlock)(P,null,B);null==M&&(M=this.fetchRawTile(p,g,I,t),(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.putBlock)(P,null,B,M));const _=await M;if(!_?.pixels?.length)return{location:h,value:null};const W=k*b+T;return this._processIdentifyResult(_,{srcLocation:h,position:W,pyramidLevel:p,useTransposedTile:!!d,requestSomeSlices:c,identifyOptions:t})}async fetchPixels(e,t,i,o={}){e=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.shiftExtent)(e),o=this._getRequestOptionsWithSliceId(o);const{_hasNoneOrGCSShiftTransform:r}=this;if(o.requestRawData&&r)return this._fetchPixels(e,t,i,o);const n=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWidth)(e.spatialReference),s=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWrapCount)(e);if(null==n||0===s||1===s&&this._isGlobalWrappableSource&&r)return this._fetchPixels(e,t,i,o);if(s>=3)return{extent:e,pixelBlock:null};const l=[],{xmin:a,xmax:c}=e,m=Math.round(n/(c-a)*t),f=m-Math.round((n/2-a)/(c-a)*t);let u=0;const h=[];for(let y=0;y<=s;y++){const r=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_26__["default"]({xmin:0===y?a:-n/2,xmax:y===s?c-n*y:n/2,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference}),p=0===y?m-f:y===s?t-u:m;u+=p,h.push(p);const d=o.disableWrapAround&&y>0?null:this._fetchPixels(r,p,i,o);l.push(d)}const p=(await Promise.all(l)).map((e=>e?.pixelBlock));let d=null;const x={width:t,height:i};if(this.rasterJobHandler){d=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:p,srcMosaicSize:x,destDimension:null,coefs:null,sampleSpacing:null,interpolation:"nearest",alignmentInfo:null,blockWidths:h},o)).pixelBlock}else d=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_23__.mosaic)(p,x,{blockWidths:h});return{extent:e,srcExtent:(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectExtent)(e,this.rasterInfo.spatialReference,o.datumTransformation),pixelBlock:d}}async fetchRawPixels(e,t,i,o={}){t={x:Math.floor(t.x),y:Math.floor(t.y)};const r=await this._fetchRawTiles(e,t,i,o),{nativeExtent:n,nativePixelSize:s,storageInfo:l}=this.rasterInfo,a=2**e,c=s.x*a,m=s.y*a,f=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_26__["default"]({xmin:n.xmin+c*t.x,xmax:n.xmin+c*(t.x+i.width-1),ymin:n.ymax-m*(t.y+i.height-1),ymax:n.ymax-m*t.y,spatialReference:n.spatialReference});if(!r)return{extent:f,srcExtent:f,pixelBlock:null};const{pixelBlocks:u,mosaicSize:h}=r;if(1===u.length&&null!=u[0]&&u[0].width===i.width&&u[0].height===i.height)return{extent:f,srcExtent:f,pixelBlock:r.pixelBlocks[0]};const p=e>0?l.pyramidBlockWidth:l.blockWidth,d=e>0?l.pyramidBlockHeight:l.blockHeight,x={x:t.x%p,y:t.y%d};let y;if(this.rasterJobHandler){y=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:u,srcMosaicSize:h,destDimension:i,clipOffset:x,clipSize:i,coefs:null,sampleSpacing:null,interpolation:o.interpolation,alignmentInfo:null,blockWidths:null},o)).pixelBlock}else y=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_23__.mosaic)(u,h,{clipOffset:x,clipSize:i});return{extent:f,srcExtent:f,pixelBlock:y}}fetchRawTile(e,t,o,r){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("BaseRaster:read-not-implemented","fetchRawTile() is not implemented")}computeExtent(e){return (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectExtent)(this.rasterInfo.extent,e)}decodePixelBlock(e,t){return!this.rasterJobHandler||t.useCanvas?(0,_rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_22__.decode)(e,t):this.rasterJobHandler.decode({data:e,options:t})}async request(e,i,o=0){const{customFetchParameters:r}=this.ioConfig,{range:n,query:s,headers:l}=i;o=o??i.retryCount??this.ioConfig.retryCount;const a=n?{Range:`bytes=${n.from}-${n.to}`}:null;try{return await (0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(e,{...i,query:{...s,...r},headers:{...l,...a}})}catch(c){if(o>0)return o--,this.request(e,i,o);throw c}}getSliceIndex(e){const{multidimensionalInfo:t}=this.rasterInfo;return null==t||null==e||0===e.length?null:(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_19__.getSliceIndex)(e,t)}getTileExtentFromTileInfo(e,t,i,o){const r=o.lodAt(e);return this.getTileExtent({x:r.resolution,y:r.resolution},t,i,o.origin,o.spatialReference,o.size)}updateTileInfo(){const{storageInfo:e,spatialReference:t,extent:i,pixelSize:o}=this.rasterInfo;if(!e.tileInfo){const r=[],n=e.maximumPyramidLevel||0;let s=Math.max(o.x,o.y),l=1/.0254*96*s;for(let e=0;e<=n;e++)r.unshift(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__["default"]({level:n-e,resolution:s,scale:l})),s*=2,l*=2;const a=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]({x:i.xmin,y:i.ymax,spatialReference:t});e.tileInfo=new _TileInfo_js__WEBPACK_IMPORTED_MODULE_18__["default"]({origin:a,size:[e.blockWidth,e.blockHeight],spatialReference:t,lods:r}),e.isVirtualTileInfo=!0}}createRemoteDatasetStorageInfo(e,t=512,i=512,o){const{width:r,height:n,nativeExtent:s,pixelSize:l,spatialReference:a}=e,c=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]({x:s.xmin,y:s.ymax,spatialReference:a});null==o&&(o=Math.max(0,Math.round(Math.log(Math.max(r,n))/Math.LN2-8)));const m=this.computeBlockBoundary(s,512,512,{x:s.xmin,y:s.ymax},[l],o);e.storageInfo=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_17__["default"]({blockWidth:t,blockHeight:i,pyramidBlockWidth:t,pyramidBlockHeight:i,origin:c,firstPyramidLevel:1,maximumPyramidLevel:o,blockBoundary:m})}async computeBestPyramidLevelForLocation(e,t={}){return 0}computeBlockBoundary(e,t,i,o,r,n=0,s=2){if(1===r.length&&n>0){r=[...r];let{x:e,y:t}=r[0];for(let i=0;i<n;i++)e*=s,t*=s,r.push({x:e,y:t})}const l=[],{x:a,y:c}=o;for(let m=0;m<r.length;m++){const{x:o,y:n}=r[m];l.push({minCol:Math.floor((e.xmin-a+.1*o)/t/o),maxCol:Math.floor((e.xmax-a-.1*o)/t/o),minRow:Math.floor((c-e.ymax+.1*n)/i/n),maxRow:Math.floor((c-e.ymin-.1*n)/i/n)})}return l}getPyramidPixelSize(e){const{nativePixelSize:t}=this.rasterInfo,{pyramidResolutions:i,pyramidScalingFactor:o}=this.rasterInfo.storageInfo;if(0===e)return t;if(null!=i&&i.length)return i[e-1];const r=o**e;return{x:t.x*r,y:t.y*r}}identifyPixelLocation(e,t,i,o){const{spatialReference:r,nativeExtent:n,storageInfo:s}=this.rasterInfo,{maximumPyramidLevel:l,origin:a,transposeInfo:c}=s,m=o&&null!=c?c.tileSize[0]:s.blockWidth,f=o&&null!=c?c.tileSize[1]:s.blockHeight,u=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectPoint)(e,r,i);if(!n.intersects(u))return null;if(t<0||t>l)return null;const h=this.getPyramidPixelSize(t),{x:p,y:d}=h,x=(a.y-u.y)/d/f,y=(u.x-a.x)/p/m,g=Math.min(f-1,Math.floor((x-Math.floor(x))*f)),I=Math.min(m-1,Math.floor((y-Math.floor(y))*m));return{pyramidLevel:t,row:Math.floor(x),col:Math.floor(y),rowOffset:g,colOffset:I,blockWidth:m,srcLocation:u}}getTileExtent(e,t,i,o,r,n){const[s,l]=n,a=o.x+i*s*e.x,c=a+s*e.x,m=o.y-t*l*e.y,f=m-l*e.y;return new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_26__["default"]({xmin:a,xmax:c,ymin:f,ymax:m,spatialReference:r})}getBlockWidthHeight(e){return{blockWidth:e>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,blockHeight:e>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight}}isBlockOutside(e,t,i){const o=this.rasterInfo.storageInfo.blockBoundary[e];return!o||o.maxRow<t||o.maxCol<i||o.minRow>t||o.minCol>i}async _fetchPixels(e,t,i,o={}){let r=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWrapCount)(e);if(r>=2)return{extent:e,pixelBlock:null};const n=this._getSourceDataInfo(e,t,i,o),{pyramidLevel:s,srcResolution:l,srcExtent:a,srcWidth:c,srcHeight:m,ul:f}=n;if(0===c||0===m)return{extent:e,srcExtent:a,pixelBlock:null};const{rasterInfo:u}=this,h=u.transform,p="gcs-shift"===h?.type,d=null!=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWidth)(e.spatialReference);!p&&d||(r=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWrapCount)(n.srcExtent,p));const x=await this._fetchRawTiles(s,f,{width:c,height:m,wrapCount:r},o);if(!x)return{extent:e,srcExtent:a,pixelBlock:null};const y=u.storageInfo,g=s>0?y.pyramidBlockWidth:y.blockWidth,I=s>0?y.pyramidBlockHeight:y.blockHeight;let{x:R,y:w}=u.pixelSize;if(s>0){const{pyramidResolutions:e,pyramidScalingFactor:t}=y;if(null!=e&&e[s-1])({x:R,y:w}=e[s-1]);else{const e=t**s;R*=e,w*=e}}const S=u.spatialReference,k=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]({x:R,y:w,spatialReference:S}),T=g===c&&I===m&&f.x%g==0&&f.y%I==0,b=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference}),v=!e.spatialReference.equals(S),C=S.isGeographic?1e-9:1e-4,{datumTransformation:j}=o;if(!v&&T&&1===x.pixelBlocks.length&&g===t&&I===i&&this._isSameResolution(l,b,C))return{extent:e,srcExtent:a,srcTilePixelSize:k,pixelBlock:x.pixelBlocks[0]};const H=d&&null!=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getWorldWidth)(a.spatialReference)&&this._hasNoneOrGCSShiftTransform,L=o.requestProjectedLocalDirections&&this.rasterInfo.dataType.startsWith("vector");L&&!this.rasterJobHandler&&await (0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.load)();const D=this.rasterJobHandler?await this.rasterJobHandler.getProjectionOffsetGrid({projectedExtent:e,srcBufferExtent:x.extent,pixelSize:b.toJSON(),datumTransformation:j,rasterTransform:h,hasWrapAround:r>0||H,isAdaptive:!1!==this.ioConfig.optimizeProjectionAccuracy,includeGCSGrid:L},o):(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getProjectionOffsetGrid)({projectedExtent:e,srcBufferExtent:x.extent,pixelSize:b,datumTransformation:j,rasterTransform:h,hasWrapAround:r>0||H,isAdaptive:!1,includeGCSGrid:L});let F;const A=!o.requestRawData,G={rows:D.spacing[0],cols:D.spacing[1]},J=this._hasNoneOrGCSShiftTransform?this._getRasterTileAlignmentInfo(s,x.extent.xmin):void 0,{pixelBlocks:N,mosaicSize:V,isPartiallyFilled:U}=x;let $=null;if(this.rasterJobHandler){const e=await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:N,srcMosaicSize:V,destDimension:A?{width:t,height:i}:null,coefs:A?D.coefficients:null,sampleSpacing:A?G:null,projectDirections:L,gcsGrid:L?D.gcsGrid:null,isUV:"vector-uv"===this.rasterInfo.dataType,interpolation:o.interpolation,alignmentInfo:J,blockWidths:null},o);({pixelBlock:F,localNorthDirections:$}=e)}else{const e=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_23__.mosaic)(N,V,{alignmentInfo:J});F=A?(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_23__.approximateTransform)(e,{width:t,height:i},D.coefficients,G,o.interpolation):e,L&&D.gcsGrid&&($=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_23__.getLocalArithmeticNorthRotations)({width:t,height:i},D.gcsGrid),F=(0,_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_25__.convertToLocalDirections)(F,this.rasterInfo.dataType,$))}return o.requestRawData||L?{extent:e,srcExtent:a,srcTilePixelSize:k,pixelBlock:F,transformGrid:D,localNorthDirections:$,isPartiallyFilled:U}:{extent:e,srcExtent:a,srcTilePixelSize:k,pixelBlock:F}}async _fetchRawTiles(e,t,i,o){const{origin:r,blockBoundary:n}=this.rasterInfo.storageInfo,{blockWidth:s,blockHeight:l}=this.getBlockWidthHeight(e);let{x:a,y:c}=t,{width:m,height:f,wrapCount:u}=i;const h=this._getRasterTileAlignmentInfo(e,0);o.buffer&&(a-=o.buffer.cols,c-=o.buffer.rows,m+=2*o.buffer.cols,f+=2*o.buffer.rows);let p=0,d=0,x=0;if(u&&null!=h){({worldColumnCountFromOrigin:d,originColumnOffset:x,rightPadding:p}=h);d*h.blockWidth-p>=a+m&&(p=0)}const y=Math.floor(a/s),g=Math.floor(c/l),I=Math.floor((a+m+p-1)/s),R=Math.floor((c+f+p-1)/l),w=n[e];if(!w)return null;const{minRow:S,minCol:k,maxCol:T,maxRow:b}=w;if(0===u&&(R<S||I<k||g>b||y>T))return null;const v=new Array;let P=!1;const B=null==this.ioConfig.allowPartialFill?o.allowPartialFill:this.ioConfig.allowPartialFill;for(let z=g;z<=R;z++)for(let t=y;t<=I;t++){let i=t;if(!o.disableWrapAround&&u&&null!=h&&d<=t&&(i=t-d-x),z>=S&&i>=k&&b>=z&&T>=i){const t=this._fetchRawTile(e,z,i,o);B?v.push(new Promise((e=>{t.then((t=>e(t))).catch((()=>{P=!0,e(null)}))}))):v.push(t)}else v.push(Promise.resolve(null))}if(0===v.length)return null;const M=await Promise.all(v),_={height:(R-g+1)*l,width:(I-y+1)*s},{spatialReference:W}=this.rasterInfo,C=this.getPyramidPixelSize(e),{x:j,y:H}=C;return{extent:new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_26__["default"]({xmin:r.x+y*s*j,xmax:r.x+(I+1)*s*j,ymin:r.y-(R+1)*l*H,ymax:r.y-g*l*H,spatialReference:W}),pixelBlocks:M,mosaicSize:_,isPartiallyFilled:P}}_isSameResolution(e,t,i){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}_fetchRawTile(e,t,i,o){const r=this.rasterInfo.storageInfo.blockBoundary[e];if(!r)return Promise.resolve(null);const{minRow:n,minCol:l,maxCol:a,maxRow:c}=r;if(t<n||i<l||t>c||i>a)return Promise.resolve(null);const m=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.getRasterId)(this.url,o.sliceId),f=`${e}/${t}/${i}`;let u=(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.getBlock)(m,o.registryId,f);if(null==u){const r=new AbortController;u=this.fetchRawTile(e,t,i,{...o,signal:r.signal}),(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.putBlock)(m,o.registryId,f,u,r),u.catch((()=>(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.deleteBlock)(m,o.registryId,f)))}return o.signal&&(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.onAbort)(o,(()=>{(0,_RawBlockCache_js__WEBPACK_IMPORTED_MODULE_20__.decreaseRefCount)(m,o.registryId,f)})),u}_computeMagDirValues(e){const{bandCount:t,dataType:i}=this.rasterInfo;if(!(2===t&&"vector-magdir"===i||"vector-uv"===i)||2!==e?.length||!e[0]?.length)return null;const o=e[0].length;if("vector-magdir"===i){const t=e[1].map((e=>(e+360)%360));return[e[0],t]}const[r,n]=e,s=[],l=[];for(let a=0;a<o;a++){const[e,t]=(0,_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_25__.uvComponentToVector)([r[a],n[a]]);s.push(e),l.push(t)}return[s,l]}_getRasterTileAlignmentInfo(e,t){return null==this._rasterTileAlighmentInfo&&(this._rasterTileAlighmentInfo=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.getRasterDatasetAlignmentInfo)(this.rasterInfo)),null==this._rasterTileAlighmentInfo.pyramidsInfo?null:{startX:t,halfWorldWidth:this._rasterTileAlighmentInfo.halfWorldWidth,hasGCSSShiftTransform:this._rasterTileAlighmentInfo.hasGCSSShiftTransform,...this._rasterTileAlighmentInfo.pyramidsInfo[e]}}_getSourceDataInfo(e,t,i,o={}){const r={datumTransformation:o.datumTransformation,pyramidLevel:0,pyramidResolution:null,srcExtent:null,srcHeight:0,srcResolution:null,srcWidth:0,ul:{x:0,y:0}};o.srcResolution&&(r.srcResolution=o.srcResolution,this._updateSourceDataInfo(e,r));const n=this.rasterInfo.storageInfo.maximumPyramidLevel||0,{srcWidth:s,srcHeight:l,pyramidLevel:a}=r,c=s/t,m=l/i,f=a<n&&c*m>=16,u=a===n&&this._requireTooManySrcTiles(s,l,t,i);if(f||u||(0===s||0===l)){const s=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference});let l=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectResolution)(s,this.rasterInfo.spatialReference,e,r.datumTransformation);const u=!l||o.srcResolution&&l.x+l.y<o.srcResolution.x+o.srcResolution.y;if(f&&o.srcResolution&&u){const e=Math.round(Math.log(Math.max(c,m))/Math.LN2)-1;if(n-a+3>=e){const t=2**e;l={x:o.srcResolution.x*t,y:o.srcResolution.y*t}}}l&&(r.srcResolution=l,this._updateSourceDataInfo(e,r))}return this._requireTooManySrcTiles(r.srcWidth,r.srcHeight,t,i)&&(r.srcWidth=0,r.srcHeight=0),r}_requireTooManySrcTiles(e,t,i,o){const{tileInfo:r}=this.rasterInfo.storageInfo;return Math.ceil(e/r.size[0])*Math.ceil(t/r.size[1])>=N||e/i>J||t/o>J}_updateSourceDataInfo(e,t){t.srcWidth=0,t.srcHeight=0;const{rasterInfo:i}=this,o=i.spatialReference,{srcResolution:r,datumTransformation:n}=t,{pyramidLevel:s,pyramidResolution:l,excessiveReading:a}=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.snapPyramid)(r,i,this.ioConfig.sampling);if(a)return;let c=t.srcExtent||(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_24__.projectExtent)(e,o,n);if(null==c)return;const m=i.transform;m&&(c=m.inverseTransform(c)),t.srcExtent=c;const{x:f,y:u}=i.storageInfo.origin,h=Math.floor((c.xmin-f)/l.x+.1),p=Math.floor((u-c.ymax)/l.y+.1),d=Math.floor((c.xmax-f)/l.x-.1),x=Math.floor((u-c.ymin)/l.y-.1),y=c.width<.1*l.x?0:d-h+1,g=c.height<.1*l.y?0:x-p+1;t.pyramidLevel=s,t.pyramidResolution=l,t.srcWidth=y,t.srcHeight=g,t.ul={x:h,y:p}}_getRequestOptionsWithSliceId(e){return null!=this.rasterInfo.multidimensionalInfo&&null==e.sliceId&&(e={...e,sliceId:this.getSliceIndex(e.multidimensionalDefinition)}),e}_processIdentifyResult(e,t){const{srcLocation:i,position:o,pyramidLevel:r,useTransposedTile:n}=t,s=e.pixels[0].length/e.width/e.height;if(!(!e.mask||e.mask[o]))return{location:i,value:null};const{multidimensionalInfo:l}=this.rasterInfo;if(null==l||!n){const t=e.pixels.map((e=>e[o])),n={location:i,value:t,pyramidLevel:r},s=this._computeMagDirValues(t.map((e=>[e])));return s?.length&&(n.magdirValue=s.map((e=>e[0]))),n}let a=e.pixels.map((e=>e.slice(o*s,o*s+s))),c=this._computeMagDirValues(a);const{requestSomeSlices:m,identifyOptions:f}=t;let h=(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_19__.createSlices)(l,f.transposedVariableName);if(m){const e=(0,_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_19__.getSliceIds)(h,f.multidimensionalDefinition,f.timeExtent);a=a.map((t=>e.map((e=>t[e])))),c=c?.map((t=>e.map((e=>t[e])))),h=e.map((e=>h[e]))}const p=e.noDataValues||this.rasterInfo.noDataValue,d={pixels:a,pixelType:e.pixelType};let x;null!=p&&((0,_rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_21__.convertNoDataToMask)(d,p),x=d.mask);return{location:i,value:null,dataSeries:h.map(((e,t)=>{const i={value:0===x?.[t]?null:a.map((e=>e[t])),multidimensionalDefinition:e.multidimensionalDefinition.map((e=>new _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_15__["default"]({...e,isSlice:!0})))};return c?.length&&(i.magdirValue=[c[0][t],c[1][t]]),i})),pyramidLevel:r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],V.prototype,"_rasterTileAlighmentInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],V.prototype,"_isGlobalWrappableSource",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],V.prototype,"_hasNoneOrGCSShiftTransform",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],V.prototype,"rasterJobHandler",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)(_commonProperties_js__WEBPACK_IMPORTED_MODULE_14__.url)],V.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:String,json:{write:!0}})],V.prototype,"datasetName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:String,json:{write:!0}})],V.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],V.prototype,"hasUniqueSourceStorageInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],V.prototype,"rasterInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],V.prototype,"ioConfig",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],V.prototype,"sourceJSON",void 0),V=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.layers.support.rasterDatasets.BaseRaster")],V);const U=V;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../LOD.js */ "./node_modules/@arcgis/core/layers/support/LOD.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _DBFParser_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./DBFParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js");
/* harmony import */ var _rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterTransforms/utils.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/utils.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const g=new Map;g.set("int16","esriFieldTypeSmallInteger"),g.set("int32","esriFieldTypeInteger"),g.set("int64","esriFieldTypeInteger"),g.set("float32","esriFieldTypeSingle"),g.set("float64","esriFieldTypeDouble"),g.set("text","esriFieldTypeString");const y=8;let x=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_12__["default"]{constructor(){super(...arguments),this.storageInfo=null,this.datasetFormat="CRF"}async open(e){await this.init();const{data:r}=await this.request(this.url+"/conf.json",{signal:e?.signal});if(!this._validateHeader(r))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("cloudraster:open","Invalid or unsupported conf.json.");this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1);const{storageInfo:o,rasterInfo:i}=this._parseHeader(r);if("thematic"===i.dataType){const e=await this._fetchAuxiliaryInformation();i.attributeTable=e}this._set("storageInfo",o),this._set("rasterInfo",i),this.ioConfig.retryCount=this.ioConfig.retryCount||0}async fetchRawTile(e,t,r,o={}){const{transposeInfo:i}=this.rasterInfo.storageInfo,{transposedVariableName:s}=o,a=!(!i||!s),n=a?0:this.rasterInfo.storageInfo.maximumPyramidLevel-e;if(n<0)return null;const l=this._buildCacheFilePath(n,t,r,o.multidimensionalDefinition,s),f=this._getIndexRecordFromBundle(t,r,a),m=await this.request(l,{range:{from:0,to:this.storageInfo.headerSize-1},responseType:"array-buffer",signal:o.signal});if(!m)return null;const c=new Uint8Array(m.data),p=this._getTileEndAndContentType(c,f);if(0===p.recordSize)return null;const d=await this.request(l,{range:{from:p.position,to:p.position+p.recordSize},responseType:"array-buffer",signal:o.signal});if(!d)return null;const[u,h]=this._getTileSize(a);return this.decodePixelBlock(d.data,{width:u,height:h,planes:null,pixelType:null,returnInterleaved:a})}_validateHeader(e){const t=["origin","extent","geodataXform","LODInfos","blockWidth","blockHeight","bandCount","pixelType","pixelSizeX","pixelSizeY","format","packetSize"];return e&&"RasterInfo"===e.type&&!t.some((t=>!e[t]))}_parseHeader(e){const t=["u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64"][e.pixelType],{bandCount:r,colormap:o,blockWidth:l,blockHeight:f,firstPyramidLevel:m,maximumPyramidLevel:c}=e,p=e.statistics?.map((e=>({min:e.min,max:e.max,avg:e.mean,stddev:e.standardDeviation,median:e.median,mode:e.mode}))),g=e.histograms?.[0]?.counts?.length?e.histograms:null,x=e.extent.spatialReference,S=e.geodataXform?.spatialReference,I=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"](x?.wkid||x?.wkt||x?.wkt2?x:S);let w=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"]({xmin:e.extent.xmin,ymin:e.extent.ymin,xmax:e.extent.xmax,ymax:e.extent.ymax,spatialReference:I});const _=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"]({x:e.pixelSizeX,y:e.pixelSizeY,spatialReference:I}),v=Math.round((w.xmax-w.xmin)/_.x),b=Math.round((w.ymax-w.ymin)/_.y),z=this._parseTransform(e.geodataXform),T=z?w:null;z&&(w=z.forwardTransform(w),_.x=(w.xmax-w.xmin)/v,_.y=(w.ymax-w.ymin)/b);const k=e.properties??{},j=e.format.toLowerCase().replace("cache/",""),C=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"](e.origin.x,e.origin.y,I);let R,F,P,H;if(o?.colors)for(R=[],F=0;F<o.colors.length;F++)P=o.colors[F],H=o.values?o.values[F]:F,R.push([H,255&P,P<<16>>>24,P<<8>>>24,P>>>24]);const D=e.LODInfos,L=[];for(F=0;F<D.levels.length;F++)L.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_8__["default"]({level:D.levels[F],resolution:D.resolutions[F],scale:96/.0254*D.resolutions[F]}));const M=new _TileInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]({dpi:96,lods:L,format:j,origin:C,size:[l,f],spatialReference:I}),O={recordSize:y,packetSize:e.packetSize,headerSize:e.packetSize*e.packetSize*y+64},B=[{maxCol:Math.ceil(v/l)-1,maxRow:Math.ceil(b/f)-1,minCol:0,minRow:0}];let $=2;if(c>0)for(F=0;F<c;F++)B.push({maxCol:Math.ceil(v/$/l)-1,maxRow:Math.ceil(b/$/f)-1,minCol:0,minRow:0}),$*=2;const N=e.mdInfo;let q=null;if(N&&k._yxs){const e=k._yxs;q={packetSize:e.PacketSize,tileSize:[e.TileXSize,e.TileYSize]}}return{storageInfo:O,rasterInfo:new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:v,height:b,pixelType:t,bandCount:r,extent:w,nativeExtent:T,transform:z,spatialReference:I,pixelSize:_,keyProperties:k,statistics:p,histograms:g,multidimensionalInfo:N,colormap:R,storageInfo:new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({blockWidth:l,blockHeight:f,pyramidBlockWidth:l,pyramidBlockHeight:f,origin:C,tileInfo:M,transposeInfo:q,firstPyramidLevel:m,maximumPyramidLevel:c,blockBoundary:B})})}}_parseTransform(e){if(!(0,_rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_14__.isTransformSupported)(e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("cloudraster:open","the data contains unsupported geodata transform types");const r=(0,_rasterTransforms_utils_js__WEBPACK_IMPORTED_MODULE_14__.readTransform)(e);if("identity"===r.type)return null;if("polynomial"!==r.type||!r.forwardCoefficients?.length||!r.inverseCoefficients?.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("cloudraster:open","the data contains unsupported geodata transforms - both forward and inverse coefficients are required currently");return r}async _fetchAuxiliaryInformation(e){const t=this.request(this.url+"/conf.vat.json",{signal:e}).then((e=>e.data)).catch((()=>null)),r=this.request(this.url+"/conf.vat.dbf",{responseType:"array-buffer",signal:e}).then((e=>e.data)).catch((()=>null)),o=await Promise.all([t,r]);let i;if(o[0]){let e=o[0].fields;const t=o[0].values;if(e&&t){e=e.map((e=>({type:"OID"===e.name?"esriFieldTypeOID":g.get(e.type),name:e.name,alias:e.alias||e.name})));const r=t.map((e=>({attributes:e})));e&&t&&(i={fields:e,features:r})}}if(!i&&o[1]){i=_DBFParser_js__WEBPACK_IMPORTED_MODULE_13__["default"].parse(o[1]).recordSet}return _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_15__["default"].fromJSON(i)}_buildCacheFilePath(e,t,r,o,i){const s=this._getPackageSize(!!i),a=Math.floor(t/s)*s,n=Math.floor(r/s)*s,l="R"+this._toHexString4(a)+"C"+this._toHexString4(n);let f="L";f+=e>=10?e.toString():"0"+e.toString();const{multidimensionalInfo:m}=this.rasterInfo,c=o?.[0];if(null==m||!c)return`${this.url}/_alllayers/${f}/${l}.bundle`;let p="_yxs";if(!i){p=m.variables.find((e=>e.name===c.variableName)).dimensions[0].values.indexOf(c.values[0]).toString(16);const e=4-p.length;for(let t=0;t<e;t++)p="0"+p;p="S"+p}const d=this._getVariableFolderName(i||c.variableName);return`${this.url}/_alllayers/${d}/${p}/${f}/${l}.bundle`}_getPackageSize(e=!1){const{transposeInfo:t}=this.rasterInfo.storageInfo;return e&&null!=t?t.packetSize??0:this.storageInfo.packetSize}_getTileSize(e=!1){const{storageInfo:t}=this.rasterInfo,{transposeInfo:r}=t;return e&&null!=r?r.tileSize:t.tileInfo.size}_getVariableFolderName(e){return""===(e=e.trim())?"_v":e.replaceAll(/[\{|\}\-]/g,"_").replace("\\*","_v")}_getIndexRecordFromBundle(e,t,r=!1){const o=this._getPackageSize(r),i=o*(e%o)+t%o;if(i<0)throw new Error("Invalid level / row / col");return 20+i*this.storageInfo.recordSize+44}_getTileEndAndContentType(e,t){const r=e.subarray(t,t+8);let o,i=0;for(o=0;o<5;o++)i|=(255&r[o])<<8*o;const s=0xffffffffff&i;for(i=0,o=5;o<8;o++)i|=(255&r[o])<<8*(o-5);return{position:s,recordSize:0xffffffffff&i}}_toHexString4(e){let t=e.toString(16);if(4!==t.length){let e=4-t.length;for(;e-- >0;)t="0"+t}return t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],x.prototype,"storageInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:String,json:{write:!0}})],x.prototype,"datasetFormat",void 0),x=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.rasterDatasets.CloudRaster")],x);const S=x;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./byteStreamUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/byteStreamUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(e){const t=e.fields,r=e.records,n=t.some((e=>"oid"===e.name.toLowerCase()))?"OBJECTID":"OID",i=[{name:n,type:"esriFieldTypeOID",alias:"OID"}].concat(t.map((e=>({name:e.name,type:"esriFieldType"+e.typeName,alias:e.name})))),s=i.map((e=>e.name)),a=[];let o=0,l=0;return r.forEach((e=>{const t={};for(t[n]=o++,l=1;l<s.length;l++)t[s[l]]=e[l-1];a.push({attributes:t})})),{displayFieldName:"",fields:i,features:a}}class r{static get supportedVersions(){return[5]}static parse(r){const n=new DataView(r),i=3&n.getUint8(0);if(3!==i)return{header:{version:i},recordSet:null};const s=n.getUint32(4,!0),a=n.getUint16(8,!0),o=n.getUint16(10,!0),l={version:i,recordCount:s,headerByteCount:a,recordByteCount:o};let p=32;const g=[],u=[];let d;if(3===i){for(;13!==n.getUint8(p);)d=String.fromCharCode(n.getUint8(p+11)).trim(),g.push({name:(0,_byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUTF8)(new Uint8Array(r,p,11)),type:d,typeName:["String","Date","Double","Boolean","String","Integer"][["C","D","F","L","M","N"].indexOf(d)],length:n.getUint8(p+16)}),p+=32;if(p+=1,g.length>0)for(;u.length<s&&r.byteLength-p>o;){const t=[];32===n.getUint8(p)?(p+=1,g.forEach((n=>{if("C"===n.type)t.push((0,_byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUTF8)(new Uint8Array(r,p,n.length)).trim());else if("N"===n.type)t.push(parseInt(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim(),10));else if("F"===n.type)t.push(parseFloat(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim()));else if("D"===n.type){const e=String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim();t.push(new Date(parseInt(e.substring(0,4),10),parseInt(e.substring(4,6),10)-1,parseInt(e.substring(6,8),10)))}p+=n.length})),u.push(t)):p+=o}}return{header:l,fields:g,records:u,recordSet:t({fields:g,records:u})}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+"/"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+"/"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r){const i=this._cachedBlocks,c=t+"/"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this._trim(),this._updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+"/"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this._trim()}empty(){this._cachedBlocks.clear(),this._clearTimer()}getCurrentSize(){return this._cachedBlocks.size}_updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this._clearTimer()}),this._interval)}_trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}_clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let n=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_7__["default"]{constructor(){super(...arguments),this.datasetFormat="Function",this.tileType="Raster",this.rasterFunction=null}async open(t){await this.init();const{rasterFunction:r}=this;this.primaryRasters?.rasters?.length?r.sourceRasters=this.primaryRasters.rasters:(this.primaryRasters=r.getPrimaryRasters(),this.rasterJobHandler&&this.primaryRasters.rasters?.forEach((t=>t.rasterJobHandler=this.rasterJobHandler)));const{rasters:s,rasterIds:a}=this.primaryRasters,i=s.map((e=>e.rasterInfo?void 0:e.open(t)));await Promise.all(i);const n=s.map((({rasterInfo:t})=>t)),c=r.bind({rasterInfos:n,rasterIds:a});if(!c.success||0===n.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("raster-function:open",`cannot bind the function: ${c.error??""}`);const l="Table"===r.functionName?r:r.functionArguments?.raster;"Table"===l?.functionName&&(r.rasterInfo.attributeTable=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(l.functionArguments.attributeTableAsRecordSet)),await this.syncJobHandler();const p=n[0];this.hasUniqueSourceStorageInfo=1===n.length||n.slice(1).every((t=>this._hasSameStorageInfo(t,p))),this.set("sourceJSON",s[0].sourceJSON),this.set("rasterInfo",r.rasterInfo)}async syncJobHandler(){return this.rasterJobHandler?.updateRasterFunction(this.rasterFunction)}async fetchPixels(t,e,r,s={}){const{rasters:a,rasterIds:o}=this.primaryRasters;let n=!1;const{interpolation:c}=s,l=this.rasterFunction.flatWebGLFunctionChain?.hasFocalFunction;!s.requestRawData&&"bilinear"!==c&&l&&(n=1===a.length&&!s.skipRasterFunction,s={...s,interpolation:"bilinear",requestRawData:n});const p=a.map((a=>a.fetchPixels(t,e,r,s))),u=await Promise.all(p),m=u.map((t=>t.pixelBlock)),h=n||s.requestRawData?u.map((t=>t.srcTilePixelSize)):null;if(s.skipRasterFunction||m.every((t=>null==t)))return u[0];const d=u.find((t=>null!=t.pixelBlock))?.extent??t,f=this.rasterJobHandler?await this.rasterJobHandler.process({extent:d,primaryPixelBlocks:m,primaryPixelSizes:h,primaryRasterIds:o}):this.rasterFunction.process({extent:d,primaryPixelBlocks:m,primaryPixelSizes:h,primaryRasterIds:o}),{transformGrid:y}=u[0];if(!n||null==f||null==y)return{...u[0],pixelBlock:f};const x={rows:y.spacing[0],cols:y.spacing[1]};let b;if(this.rasterJobHandler){b=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:[f],srcMosaicSize:{width:f.width,height:f.height},destDimension:{width:e,height:r},coefs:y.coefficients,sampleSpacing:x,projectDirections:!1,gcsGrid:null,isUV:!1,interpolation:c,alignmentInfo:void 0,blockWidths:null},s)).pixelBlock}else b=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__.approximateTransform)(f,{width:e,height:r},y.coefficients,x,c);return{extent:t,srcExtent:u[0].srcExtent,pixelBlock:b}}_hasSameStorageInfo(t,e){const{storageInfo:r,pixelSize:s,spatialReference:a,extent:i}=t,{storageInfo:o,pixelSize:n,spatialReference:c,extent:l}=e;return s.x===n.x&&s.y===n.y&&a.equals(c)&&i.equals(l)&&r.blockHeight===o.blockHeight&&r.blockWidth===o.blockWidth&&r.maximumPyramidLevel===o.maximumPyramidLevel}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:String,json:{write:!0}})],n.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"tileType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"rasterFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],n.prototype,"primaryRasters",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.rasterDatasets.FunctionRaster")],n);const c=n;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _InMemoryRaster_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./InMemoryRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js");
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pamParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js");
/* harmony import */ var _rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../rasterFormats/RasterCodec.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/RasterCodec.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let h=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_9__["default"]{async open(t){await this.init();const e=await this._fetchData(t);let{spatialReference:s,statistics:r,histograms:a,transform:o}=await this._fetchAuxiliaryData(t);const i=!s;i&&(s=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_15__["default"]({wkid:3857})),a?.length&&null==r&&(r=(0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_13__.estimateStatisticsFromHistograms)(a));const{width:l,height:m}=e;let c=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_16__["default"]({xmin:-.5,ymin:.5-m,xmax:l-.5,ymax:.5,spatialReference:s});const h=o?o.forwardTransform(c):c;let d=!0;if(o){const t=o.forwardCoefficients;d=t&&0===t[1]&&0===t[2],d&&(o=null,c=h)}const w=new _InMemoryRaster_js__WEBPACK_IMPORTED_MODULE_10__["default"]({data:{extent:h,nativeExtent:c,transform:o,pixelBlock:e,statistics:r,histograms:a,keyProperties:{DateType:"Processed"},isPseudoSpatialReference:i}});await w.open(),w.data=null,this._set("rasterInfo",w.rasterInfo),this._inMemoryRaster=w}fetchRawTile(t,e,s,r={}){return this._inMemoryRaster.fetchRawTile(t,e,s,r)}async _fetchData(t){const{data:s}=await this.request(this.url,{responseType:"array-buffer",signal:t?.signal}),r=(0,_rasterFormats_RasterCodec_js__WEBPACK_IMPORTED_MODULE_12__.getFormat)(s).toUpperCase();if("JPG"!==r&&"PNG"!==r&&"GIF"!==r&&"BMP"!==r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("image-aux-raster:open","the data is not a supported format");this._set("datasetFormat",r);const a=r.toLowerCase(),o="gif"===a||"bmp"===a||!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("ios"),i=await this.decodePixelBlock(s,{format:a,useCanvas:o,hasNoZlibMask:!0});if(null==i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("image-aux-raster:open","the data cannot be decoded");return i}async _fetchAuxiliaryData(t){const e=t?.signal,a=this.ioConfig.skipExtensions??[],o=a.includes("aux.xml")?null:this.request(this.url+".aux.xml",{responseType:"xml",signal:e}),i=this.datasetFormat,n="JPG"===i?"jgw":"PNG"===i?"pgw":"BMP"===i?"bpw":null,m=n&&a.includes(n)?null:this.request(this.url.slice(0,this.url.lastIndexOf("."))+"."+n,{responseType:"text",signal:e}),p=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.eachAlways)([o,m]);if(e?.aborted)throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.createAbortError)();const f=(0,_pamParser_js__WEBPACK_IMPORTED_MODULE_11__.parsePAMInfo)(p[0].value?.data);if(!f.transform){const t=p[1].value?p[1].value.data.split("\n").slice(0,6).map((t=>Number(t))):null;f.transform=6===t?.length?new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_14__["default"]({forwardCoefficients:[t[4],t[5],t[0],-t[1],t[2],-t[3]]}):null}return f}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:!0}})],h.prototype,"datasetFormat",void 0),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.rasterDatasets.ImageAuxRaster")],h);const d=h;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _TilemapCache_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../TilemapCache.js */ "./node_modules/@arcgis/core/layers/support/TilemapCache.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rasterTransforms_GCSShiftTransform_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../rasterTransforms/GCSShiftTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/GCSShiftTransform.js");
/* harmony import */ var _rest_imageService_fetchRasterInfo_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../rest/imageService/fetchRasterInfo.js */ "./node_modules/@arcgis/core/rest/imageService/fetchRasterInfo.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let g=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_14__["default"]{constructor(){super(...arguments),this._levelOffset=0,this._tilemapCache=null,this._slices=null,this.datasetFormat="RasterTileServer",this.tileType=null}async open(e){await this.init();const r=e?.signal,a=this.sourceJSON?{data:this.sourceJSON}:await this.request(this.url,{query:{f:"json"},signal:r});a.ssl&&(this.url=this.url.replace(/^http:/i,"https:"));const l=a.data;if(this.sourceJSON=l,!l)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imageserverraster:open","cannot initialize tiled image service, missing service info");if(!l.tileInfo)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("imageserverraster:open","use ImageryLayer to open non-tiled image services");this._fixScaleInServiceInfo();const m=["jpg","jpeg","png","png8","png24","png32","mixed"];this.tileType=l.cacheType,null==this.tileType&&(m.includes(l.tileInfo.format.toLowerCase())?this.tileType="Map":"lerc"===l.tileInfo.format.toLowerCase()?this.tileType="Elevation":this.tileType="Raster"),this.datasetName=l.name?.slice(l.name.indexOf("/")+1)??"";const u=await this._fetchRasterInfo({signal:r});if(null==u)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("image-server-raster:open","cannot initialize image service");(0,_rest_imageService_fetchRasterInfo_js__WEBPACK_IMPORTED_MODULE_17__.patchServiceInfo)(u,l);const h="Map"===this.tileType?v(l.tileInfo,l):_TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(l.tileInfo);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.assertIsSome)(h);const[p,d]=this._computeMinMaxLOD(u,h),{extent:y,pixelSize:x}=u,g=.5/u.width*x.x,S=Math.max(x.x,x.y),{lods:I}=h;("Map"!==this.tileType&&0!==l.maxScale||Math.abs(x.x-x.y)>g||!I.some((e=>Math.abs(e.resolution-S)<g)))&&(x.x=x.y=p.resolution,u.width=Math.ceil((y.xmax-y.xmin)/x.x-.1),u.height=Math.ceil((y.ymax-y.ymin)/x.y-.1));const w=p.level-d.level,[j,M]=h.size,b=[],T=[];I.forEach(((e,t)=>{e.level>=d.level&&e.level<=p.level&&b.push({x:e.resolution,y:e.resolution}),t<I.length-1&&T.push(Math.round(10*e.resolution/I[t+1].resolution)/10)})),b.sort(((e,t)=>e.x-t.x));const _=this.computeBlockBoundary(y,j,M,h.origin,b,w),O=b.length>1?b.slice(1):null;let R;l.transposeInfo&&(R={tileSize:[l.transposeInfo.rows,l.transposeInfo.cols],packetSize:u.keyProperties?._yxs.PacketSize??0});const z=T.length<=1||T.length>=3&&T.slice(0,-1).every((e=>e===T[0]))?T[0]??2:Math.round(10/(d.resolution/p.resolution)**(-1/w))/10;if(u.storageInfo=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]({blockWidth:h.size[0],blockHeight:h.size[1],pyramidBlockWidth:h.size[0],pyramidBlockHeight:h.size[1],pyramidResolutions:O,pyramidScalingFactor:z,compression:h.format,origin:h.origin,firstPyramidLevel:1,maximumPyramidLevel:w,tileInfo:h,transposeInfo:R,blockBoundary:_}),this._fixGCSShift(u),this._set("rasterInfo",u),l.capabilities.toLowerCase().includes("tilemap")){const e={tileInfo:u.storageInfo.tileInfo,parsedUrl:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.urlToObject)(this.url),url:this.url,tileServers:[]};this._tilemapCache=new _TilemapCache_js__WEBPACK_IMPORTED_MODULE_13__.TilemapCache({layer:e})}}async fetchRawTile(e,t,i,s={}){const{storageInfo:r,extent:a}=this.rasterInfo,{transposeInfo:l}=r,o=null!=l&&!!s.transposedVariableName;if(this._slices&&!o&&null==s.sliceId)return null;const n=o?0:r.maximumPyramidLevel-e+this._levelOffset,c=`${this.url}/tile/${n}/${t}/${i}`,m=this._slices?o?{variable:s.transposedVariableName}:{sliceId:s.sliceId||0}:null,{data:h}=await this.request(c,{query:m,responseType:"array-buffer",signal:s.signal});if(!h)return null;const f=o?l.tileSize:r.tileInfo.size,p=await this.decodePixelBlock(h,{width:f[0],height:f[1],planes:null,pixelType:null,isPoint:"Elevation"===this.tileType,returnInterleaved:o,noDataValue:this.rasterInfo.noDataValue});if(null==p)return null;const d=r.blockBoundary[e];if("jpg"!==r.compression||i>d.minCol&&i<d.maxCol&&t>d.minRow&&t<d.maxRow)return p;const{origin:y,blockWidth:x,blockHeight:g}=r,{x:v,y:S}=this.getPyramidPixelSize(e),I=Math.round((a.xmin-y.x)/v)%x,w=Math.round((a.xmax-y.x)/v)%x||x,j=Math.round((y.y-a.ymax)/S)%g,M=Math.round((y.y-a.ymin)/S)%g||g,b=i===d.minCol?I:0,T=t===d.minRow?j:0,_=i===d.maxCol?w:x,O=t===d.maxRow?M:g;return (0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_15__.setValidBoundary)(p,{x:b,y:T},{width:_-b,height:O-T}),p}getSliceIndex(e){if(!this._slices||null==e||0===e.length)return null;const t=e;for(let i=0;i<this._slices.length;i++){const e=this._slices[i].multidimensionalDefinition;if(e.length===t.length&&!e.some((e=>{const i=t.find((t=>e.variableName===t.variableName&&t.dimensionName===e.dimensionName));if(!i)return!0;return(Array.isArray(e.values[0])?`${e.values[0][0]}-${e.values[0][1]}`:e.values[0])!==(Array.isArray(i.values[0])?`${i.values[0][0]}-${i.values[0][1]}`:i.values[0])})))return i}return null}async fetchVariableStatisticsHistograms(e,t){const i=this.request(this.url+"/statistics",{query:{variable:e,f:"json"},signal:t}).then((e=>e.data?.statistics)),s=this.request(this.url+"/histograms",{query:{variable:e,f:"json"},signal:t}).then((e=>e.data?.histograms)),r=await Promise.all([i,s]);return r[0]&&r[0].forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),r[1]?.[0]?.counts?.length||(r[1]=null),{statistics:r[0]||null,histograms:r[1]||null}}async computeBestPyramidLevelForLocation(e,t={}){if(!this._tilemapCache)return 0;let i=this.identifyPixelLocation(e,0,t.datumTransformation);if(null===i)return null;let s=0;const{maximumPyramidLevel:r}=this.rasterInfo.storageInfo;let a=r-s+this._levelOffset;const l=i.srcLocation;for(;a>=0;){try{if("available"===await this._tilemapCache.fetchAvailability(a,i.row,i.col,t))break}catch{}if(a--,s++,i=this.identifyPixelLocation(l,s,t.datumTransformation),null===i)return null}return-1===a||null==i?null:s}async _fetchRasterInfo(e){const t=this.sourceJSON;if("Map"===this.tileType){const e=t.fullExtent||t.extent,i=Math.ceil((e.xmax-e.xmin)/t.pixelSizeX-.1),s=Math.ceil((e.ymax-e.ymin)/t.pixelSizeY-.1),r=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_18__["default"].fromJSON(t.spatialReference||e.spatialReference),a=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_19__["default"]({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:r});return new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({width:i,height:s,bandCount:3,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__["default"].fromJSON(e),spatialReference:r,pixelSize:a,pixelType:"u8",statistics:null,keyProperties:{DataType:"processed"}})}const{signal:i}=e,s=(0,_rest_imageService_fetchRasterInfo_js__WEBPACK_IMPORTED_MODULE_17__.fetchServiceRasterInfo)(this.url,this.sourceJSON,{signal:i,query:this.ioConfig.customFetchParameters}),r=t.hasMultidimensions?this.request(`${this.url}/slices`,{query:{f:"json"},signal:i}).then((e=>e.data?.slices)).catch((()=>null)):null,a=await Promise.all([s,r]);return this._slices=a[1],a[0]}_fixScaleInServiceInfo(){const{sourceJSON:e}=this;e.minScale&&e.minScale<0&&(e.minScale=0),e.maxScale&&e.maxScale<0&&(e.maxScale=0)}_fixGCSShift(e){const{extent:t,spatialReference:i}=e;t.xmin>-1&&t.xmax>181&&i?.wkid&&i.isGeographic&&(e.nativeExtent=e.extent,e.transform=new _rasterTransforms_GCSShiftTransform_js__WEBPACK_IMPORTED_MODULE_16__["default"],e.extent=e.transform.forwardTransform(t))}_computeMinMaxLOD(e,t){const{pixelSize:i}=e,s=.5/e.width*i.x,{lods:r}=t,a=t.lodAt(Math.max.apply(null,r.map((e=>e.level)))),l=t.lodAt(Math.min.apply(null,r.map((e=>e.level)))),{tileType:o}=this;if("Map"===o)return this._levelOffset=r[0].level,[a,l];if("Raster"===o){return[r.find((e=>e.resolution===i.x))??a,l]}const{minScale:n,maxScale:c}=this.sourceJSON;let m=a;c>0&&(m=r.find((e=>Math.abs(e.scale-c)<s)),m||(m=r.filter((e=>e.scale>c)).sort(((e,t)=>e.scale>t.scale?1:-1))[0]??a));let u=l;return n>0&&(u=r.find((e=>Math.abs(e.scale-n)<s))??l,this._levelOffset=u.level-l.level),[m,u]}};function v(e,t){if(!e)return null;const{minScale:i,maxScale:s,minLOD:r,maxLOD:a}=t;if(null!=r&&null!=a)return _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON({...e,lods:e.lods.filter((({level:e})=>null!=e&&e>=r&&e<=a))});if(0!==i&&0!==s){const t=e=>Math.round(1e4*e)/1e4,r=i?t(i):1/0,a=s?t(s):-1/0;return _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON({...e,lods:e.lods.filter((e=>{const i=t(e.scale);return i<=r&&i>=a}))})}return _TileInfo_js__WEBPACK_IMPORTED_MODULE_12__["default"].fromJSON(e)}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:!0}})],g.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],g.prototype,"tileType",void 0),g=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.layers.support.rasterDatasets.ImageServerRaster")],g);const S=g;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../rasterFunctions/pixelUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let c=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_10__["default"]{constructor(){super(...arguments),this.datasetFormat="MEMORY",this.data=null}async open(t){await this.init();const e=this.data,{pixelBlock:s,statistics:r,histograms:i,name:a,keyProperties:n,nativeExtent:m,transform:c}=this.data,{width:h,height:f,pixelType:u}=s,d=e.extent??new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_13__["default"]({xmin:-.5,ymin:.5,xmax:h-.5,ymax:f-.5,spatialReference:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_14__["default"]({wkid:3857})}),y=e.isPseudoSpatialReference??!e.extent,x={x:d.width/h,y:d.height/f},g=new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:h,height:f,pixelType:u,extent:d,nativeExtent:m,transform:c,pixelSize:x,spatialReference:d.spatialReference,bandCount:s.pixels.length,keyProperties:n||{},statistics:r,isPseudoSpatialReference:y,histograms:i});this.createRemoteDatasetStorageInfo(g,512,512),this._set("rasterInfo",g),this.updateTileInfo(),await this._buildInMemoryRaster(s,{width:512,height:512},t),this.datasetName=a,this.url="/InMemory/"+a}fetchRawTile(t,e,s,r={}){const i=this._pixelBlockTiles.get(`${t}/${e}/${s}`);return Promise.resolve(i)}async _buildInMemoryRaster(t,r,i){const o=this.rasterInfo.storageInfo.maximumPyramidLevel,a=this.rasterJobHandler?this.rasterJobHandler.split({pixelBlock:t,tileSize:r,maximumPyramidLevel:o},i):Promise.resolve((0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_11__.split)(t,r,o)),l=null!=this.rasterInfo.statistics,p=null!=this.rasterInfo.histograms,c=l?Promise.resolve({statistics:null,histograms:null}):this.rasterJobHandler?this.rasterJobHandler.estimateStatisticsHistograms({pixelBlock:t},i):Promise.resolve((0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_12__.estimateStatisticsHistograms)(t)),h=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.eachAlways)([a,c]);if(!h[0].value&&h[1].value)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("inmemory-raster:open","failed to build in memory raster");this._pixelBlockTiles=h[0].value,l||(this.rasterInfo.statistics=h[1].value?.statistics),p||(this.rasterInfo.histograms=h[1].value?.histograms)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:!0}})],c.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"data",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.rasterDatasets.InMemoryRaster")],c);const h=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../PixelBlock.js */ "./node_modules/@arcgis/core/layers/support/PixelBlock.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pamParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js");
/* harmony import */ var _xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./xmlUtilities.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js");
/* harmony import */ var _rasterFormats_utils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterFormats/utils.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/utils.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const y=new Map;y.set("Int8","s8"),y.set("UInt8","u8"),y.set("Int16","s16"),y.set("UInt16","u16"),y.set("Int32","s32"),y.set("UInt32","u32"),y.set("Float32","f32"),y.set("Float64","f32"),y.set("Double64","f32");const x=new Map;x.set("none",{blobExtension:".til",isOneSegment:!0,decoderFormat:"bip"}),x.set("lerc",{blobExtension:".lrc",isOneSegment:!1,decoderFormat:"lerc"}),x.set("deflate",{blobExtension:".pzp",isOneSegment:!0,decoderFormat:"deflate"}),x.set("jpeg",{blobExtension:".pjg",isOneSegment:!0,decoderFormat:"jpg"});let w=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__["default"]{constructor(){super(...arguments),this._files=null,this._storageIndex=null,this.datasetFormat="MRF"}async open(t){await this.init(),this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1);const e=t?t.signal:null,r=await this.request(this.url,{responseType:"xml",signal:e}),{rasterInfo:s,files:o}=this._parseHeader(r.data);if(-1===this.ioConfig.skipExtensions?.indexOf("aux.xml")){const e=await this._fetchAuxiliaryData(t);null!=e&&(s.statistics=e.statistics??s.statistics,s.histograms=e.histograms,e.histograms&&null==s.statistics&&(s.statistics=(0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_15__.estimateStatisticsFromHistograms)(e.histograms)))}this._set("rasterInfo",s),this._files=o;const i=await this.request(o.index,{responseType:"array-buffer",signal:e});this._storageIndex=this._parseIndex(i.data);const{blockWidth:a,blockHeight:n}=this.rasterInfo.storageInfo,l=this.rasterInfo.storageInfo.pyramidScalingFactor,{width:f,height:c}=this.rasterInfo,p=[],m=this._getBandSegmentCount();let u=0,g=-1;for(;u<this._storageIndex.length;){g++;const t=Math.ceil(f/a/l**g)-1,e=Math.ceil(c/n/l**g)-1;u+=(t+1)*(e+1)*m*4,p.push({maxRow:e,maxCol:t,minCol:0,minRow:0})}this.rasterInfo.storageInfo.blockBoundary=p,g>0&&(this.rasterInfo.storageInfo.firstPyramidLevel=1,this.rasterInfo.storageInfo.maximumPyramidLevel=g),this.updateTileInfo()}async fetchRawTile(t,e,r,s={}){const{blockWidth:i,blockHeight:a,blockBoundary:n}=this.rasterInfo.storageInfo,l=n[t];if(!l||l.maxRow<e||l.maxCol<r||l.minRow>e||l.minCol>r)return null;const{bandCount:f,pixelType:c}=this.rasterInfo,{ranges:p,actualTileWidth:m,actualTileHeight:h}=this._getTileLocation(t,e,r);if(!p||0===p.length)return null;if(0===p[0].from&&0===p[0].to){const t=new Uint8Array(i*a);return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_8__["default"]({width:i,height:a,pixels:null,mask:t,validPixelCount:0})}const{bandIds:u}=this.ioConfig,g=this._getBandSegmentCount(),d=[];let y=0;for(y=0;y<g;y++)u&&!u.includes(y)||d.push(this.request(this._files.data,{range:{from:p[y].from,to:p[y].to},responseType:"array-buffer",signal:s.signal}));const w=await Promise.all(d),I=w.map((t=>t.data.byteLength)).reduce(((t,e)=>t+e)),b=new Uint8Array(I);let A=0;for(y=0;y<g;y++)b.set(new Uint8Array(w[y].data),A),A+=w[y].data.byteLength;const F=x.get(this.rasterInfo.storageInfo.compression).decoderFormat,_=await this.decodePixelBlock(b.buffer,{width:i,height:a,format:F,planes:u?.length||f,pixelType:c});if(null==_)return null;let{noDataValue:R}=this.rasterInfo;if(null!=R&&"lerc"!==F&&!_.mask&&(R=R[0],null!=R)){const t=_.width*_.height,e=new Uint8Array(t);if(Math.abs(R)>1e24)for(y=0;y<t;y++)Math.abs((_.pixels[0][y]-R)/R)>1e-6&&(e[y]=1);else for(y=0;y<t;y++)_.pixels[0][y]!==R&&(e[y]=1);_.mask=e}let S=0,j=0;if(m!==i||h!==a){let t=_.mask;if(t)for(y=0;y<a;y++)if(j=y*i,y<h)for(S=m;S<i;S++)t[j+S]=0;else for(S=0;S<i;S++)t[j+S]=0;else for(t=new Uint8Array(i*a),_.mask=t,y=0;y<h;y++)for(j=y*i,S=0;S<m;S++)t[j+S]=1}return _}_parseIndex(t){if(t.byteLength%16>0)throw new Error("invalid array buffer must be multiples of 16");let e,r,s,o,i,a;if(_rasterFormats_utils_js__WEBPACK_IMPORTED_MODULE_14__.isPlatformLittleEndian){for(r=new Uint8Array(t),o=new ArrayBuffer(t.byteLength),s=new Uint8Array(o),i=0;i<t.byteLength/4;i++)for(a=0;a<4;a++)s[4*i+a]=r[4*i+3-a];e=new Uint32Array(o)}else e=new Uint32Array(t);return e}_getBandSegmentCount(){return x.get(this.rasterInfo.storageInfo.compression).isOneSegment?1:this.rasterInfo.bandCount}_getTileLocation(t,e,r){const{blockWidth:s,blockHeight:o,pyramidScalingFactor:i}=this.rasterInfo.storageInfo,{width:a,height:n}=this.rasterInfo,l=this._getBandSegmentCount();let f,c,p,m=0,h=0;for(p=0;p<t;p++)h=i**p,f=Math.ceil(a/s/h),c=Math.ceil(n/o/h),m+=f*c;h=i**t,f=Math.ceil(a/s/h),c=Math.ceil(n/o/h),m+=e*f+r,m*=4*l;const u=this._storageIndex.subarray(m,m+4*l);let g=0,d=0;const y=[];for(let x=0;x<l;x++)g=u[4*x]*2**32+u[4*x+1],d=g+u[4*x+2]*2**32+u[4*x+3],y.push({from:g,to:d});return{ranges:y,actualTileWidth:r<f-1?s:Math.ceil(a/h)-s*(f-1),actualTileHeight:e<c-1?o:Math.ceil(n/h)-o*(c-1)}}_parseHeader(t){const r=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/Raster");if(!r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","not a valid MRF format");const s=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(r,"Size"),o=parseInt(s.getAttribute("x"),10),n=parseInt(s.getAttribute("y"),10),f=parseInt(s.getAttribute("c"),10),m=((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(r,"Compression")||"none").toLowerCase();if(!x.has(m))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","currently does not support compression "+m);const h=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(r,"DataType")||"UInt8",w=y.get(h);if(null==w)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","currently does not support pixel type "+h);const I=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(r,"PageSize"),b=parseInt(I.getAttribute("x"),10),A=parseInt(I.getAttribute("y"),10),F=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(r,"DataValues");let _,R;F&&(R=F.getAttribute("NoData"),null!=R&&(_=R.trim().split(" ").map((t=>parseFloat(t)))));if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/CachedSource"))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("mrf:open","currently does not support MRF referencing other data files");const S=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/GeoTags"),j=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(S,"BoundingBox");let k,M=!1;if(null!=j){const t=parseFloat(j.getAttribute("minx")),e=parseFloat(j.getAttribute("miny")),r=parseFloat(j.getAttribute("maxx")),s=parseFloat(j.getAttribute("maxy")),o=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(S,"Projection")||"";let i=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"].WGS84;if("LOCAL_CS[]"!==o)if(o.toLowerCase().startsWith("epsg:")){const t=Number(o.slice(5));isNaN(t)||0===t||(i=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]({wkid:t}))}else i=(0,_pamParser_js__WEBPACK_IMPORTED_MODULE_12__.parseSpatialReference)(o)??_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"].WGS84;else M=!0,i=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]({wkid:3857});k=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"](t,e,r,s),k.spatialReference=i}else M=!0,k=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_17__["default"]({xmin:-.5,ymin:.5-n,xmax:o-.5,ymax:.5,spatialReference:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_16__["default"]({wkid:3857})});const T=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElement)(t,"MRF_META/Rsets"),C=parseInt(T?.getAttribute("scale")||"2",10),U=k.spatialReference,B=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({origin:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"]({x:k.xmin,y:k.ymax,spatialReference:U}),blockWidth:b,blockHeight:A,pyramidBlockWidth:b,pyramidBlockHeight:A,compression:m,pyramidScalingFactor:C}),E=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_18__["default"]({x:k.width/o,y:k.height/n,spatialReference:U}),L=new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:o,height:n,extent:k,isPseudoSpatialReference:M,spatialReference:U,bandCount:f,pixelType:w,pixelSize:E,noDataValue:_,storageInfo:B}),P=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(t,"datafile"),W=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_13__.getElementValue)(t,"IndexFile");return{rasterInfo:L,files:{mrf:this.url,index:W||this.url.replace(".mrf",".idx"),data:P||this.url.replace(".mrf",x.get(m).blobExtension)}}}async _fetchAuxiliaryData(t){try{const{data:e}=await this.request(this.url+".aux.xml",{responseType:"xml",signal:t?.signal});return (0,_pamParser_js__WEBPACK_IMPORTED_MODULE_12__.parsePAMInfo)(e)}catch{return null}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],w.prototype,"_files",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],w.prototype,"_storageIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:String,json:{write:!0}})],w.prototype,"datasetFormat",void 0),w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.support.rasterIO.MRFRaster")],w);const I=w;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _CloudRaster_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CloudRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js");
/* harmony import */ var _ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ImageAuxRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js");
/* harmony import */ var _ImageServerRaster_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ImageServerRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js");
/* harmony import */ var _MRFRaster_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MRFRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js");
/* harmony import */ var _TIFFRaster_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TIFFRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const c=new Map;c.set("CRF",{desc:"Cloud Raster Format",constructor:_CloudRaster_js__WEBPACK_IMPORTED_MODULE_1__["default"]}),c.set("MRF",{desc:"Meta Raster Format",constructor:_MRFRaster_js__WEBPACK_IMPORTED_MODULE_4__["default"]}),c.set("TIFF",{desc:"GeoTIFF",constructor:_TIFFRaster_js__WEBPACK_IMPORTED_MODULE_5__["default"]}),c.set("RasterTileServer",{desc:"Raster Tile Server",constructor:_ImageServerRaster_js__WEBPACK_IMPORTED_MODULE_3__["default"]}),c.set("JPG",{desc:"JPG Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]}),c.set("PNG",{desc:"PNG Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]}),c.set("GIF",{desc:"GIF Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]}),c.set("BMP",{desc:"BMP Raster Format",constructor:_ImageAuxRaster_js__WEBPACK_IMPORTED_MODULE_2__["default"]});class n{static get supportedFormats(){const t=new Set;return c.forEach(((e,r)=>t.add(r))),t}static async open(e){const{url:r,ioConfig:s,sourceJSON:o}=e;let a=e.datasetFormat;null==a&&r.lastIndexOf(".")&&(a=r.slice(r.lastIndexOf(".")+1).toUpperCase()),"OVR"===a||"TIF"===a?a="TIFF":"JPG"!==a&&"JPEG"!==a&&"JFIF"!==a||(a="JPG"),r.toLowerCase().includes("/imageserver")&&!r.toLowerCase().includes("/wcsserver")&&(a="RasterTileServer");const n={url:r,sourceJSON:o,datasetFormat:a,ioConfig:s??{bandIds:null,sampling:null}};let l,i;if(a&&this.supportedFormats.has(a)){if("CRF"===a&&!s?.enableCRF)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("rasterfactory:open",`cannot open raster: ${r}`);return l=c.get(a).constructor,i=new l(n),await i.open({signal:e.signal}),i}if(a)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("rasterfactory:open","not a supported format "+a);const u=Array.from(c.keys());let F=0;const m=()=>(a=u[F++],a&&("CRF"!==a||s?.enableCRF)?(l=c.get(a).constructor,i=new l(n),i.open({signal:e.signal}).then((()=>i)).catch((()=>m()))):null);return m()}static register(t,e,r){c.has(t.toUpperCase())||c.set(t.toUpperCase(),{desc:e,constructor:r})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   decreaseRefCount: () => (/* binding */ s),
/* harmony export */   deleteBlock: () => (/* binding */ h),
/* harmony export */   deleteRaster: () => (/* binding */ f),
/* harmony export */   getBlock: () => (/* binding */ m),
/* harmony export */   getRasterId: () => (/* binding */ i),
/* harmony export */   putBlock: () => (/* binding */ x),
/* harmony export */   register: () => (/* binding */ u),
/* harmony export */   unregister: () => (/* binding */ a),
/* harmony export */   update: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _EphemeralBlockCache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EphemeralBlockCache.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js");
/* harmony import */ var _rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../rasterFunctions/rasterProjectionHelper.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const r=new Map,c=new _EphemeralBlockCache_js__WEBPACK_IMPORTED_MODULE_1__["default"];function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function u(e,t){const n={extent:null,rasterInfo:t,cache:new Map},o=r.get(e);return o?(o.push(n),o.length-1):(r.set(e,[n]),0)}function a(e,t){const n=r.get(e);n&&(n[t]=null,n.some((e=>null!=e))||r.delete(e))}function f(e){r.delete(e)}function s(e,t,n){const o=r.get(e);if(!o)return null==t?c.decreaseRefCount(e,n):0;if(null==t||null==o[t])return c.decreaseRefCount(e,n);const l=o[t]?.cache,i=l?.get(n);if(l&&i){if(i.refCount--,0===i.refCount){l.delete(n);for(let e=0;e<o.length;e++)o[e]?.cache.delete(n);i.controller&&i.controller.abort()}return i.refCount}return 0}function m(e,t,n){const o=r.get(e);if(!o)return null==t?c.getBlock(e,n):null;if(null==t||null==o[t]){for(let e=0;e<o.length;e++){const t=o[e]?.cache.get(n);if(t)return t.refCount++,t.block}return c.getBlock(e,n)}const l=o[t]?.cache.get(n);if(l)return l.refCount++,l.block;for(let r=0;r<o.length;r++){if(r===t||!o[r])continue;const e=o[r]?.cache,l=e?.get(n);if(e&&l)return l.refCount++,e.set(n,l),l.block}return null}function x(e,t,n,o,l=null){const i=r.get(e);if(!i)return void(null==t&&c.putBlock(e,n,o,l));if(null==t||null==i[t])return void c.putBlock(e,n,o,l);const u={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:l};o.then((()=>u.isResolved=!0)).catch((()=>u.isRejected=!0)),i[t]?.cache.set(n,u)}function h(e,t,n){const o=r.get(e);o?null!=t&&null!=o[t]?o[t]?.cache.delete(n):c.deleteBlock(e,n):null==t&&c.deleteBlock(e,n)}function d(e,t){const n=r.get(e);return n?n[t]??null:null}function g(e,r,c,i,u,a,f=null){const s=d(e,r);if(!s)return;const m=s.extent,{cache:x,rasterInfo:h}=s;if(m&&m.xmin===c.xmin&&m.xmax===c.xmax&&m.ymin===c.ymin&&m.ymax===c.ymax)return;i=i??0;const g=c.clone().normalize(),{spatialReference:y,transform:p}=h,k=new Set;for(let d=0;d<g.length;d++){const e=g[d];if(e.xmax-e.xmin<=i||e.ymax-e.ymin<=i)continue;let r=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__.projectExtent)(e,y,f);null!=p&&(r=p.inverseTransform(r));const c=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_3__["default"]({x:i,y:i,spatialReference:e.spatialReference});if(null==u&&!(u=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__.projectResolution)(c,y,e,f)))return;const{pyramidLevel:s,pyramidResolution:m,excessiveReading:x}=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_2__.snapPyramid)(u,h,a||"closest");if(x)return;const{storageInfo:M}=h,{origin:R}=M,C={x:Math.max(0,Math.floor((r.xmin-R.x)/m.x)),y:Math.max(0,Math.floor((R.y-r.ymax)/m.y))},B=Math.ceil((r.xmax-r.xmin)/m.x-.1),j=Math.ceil((r.ymax-r.ymin)/m.y-.1),v=s>0?M.pyramidBlockWidth:M.blockWidth,b=s>0?M.pyramidBlockHeight:M.blockHeight,w=1,$=Math.max(0,Math.floor(C.x/v)-w),I=Math.max(0,Math.floor(C.y/b)-w),H=Math.floor((C.x+B-1)/v)+w,E=Math.floor((C.y+j-1)/b)+w;for(let t=I;t<=E;t++)for(let e=$;e<=H;e++)k.add(`${s}/${t}/${e}`)}x.forEach(((e,t)=>{if(!k.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),s.extent={xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../RasterInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterInfo.js");
/* harmony import */ var _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../RasterStorageInfo.js */ "./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js");
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./BaseRaster.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js");
/* harmony import */ var _DBFParser_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./DBFParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js");
/* harmony import */ var _pamParser_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./pamParser.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js");
/* harmony import */ var _rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../rasterFormats/TiffDecoder.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/TiffDecoder.js");
/* harmony import */ var _rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../rasterFormats/TiffTags.js */ "./node_modules/@arcgis/core/layers/support/rasterFormats/TiffTags.js");
/* harmony import */ var _rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../rasterFunctions/stretchUtils.js */ "./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js");
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const S=(e,t)=>e.get(t)?.values,F=(e,t)=>e.get(t)?.values?.[0];let P=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_11__["default"]{constructor(){super(...arguments),this._files=null,this._headerInfo=null,this._bufferSize=1048576,this.datasetFormat="TIFF"}async open(e){await this.init();const t=e?e.signal:null,{data:s}=await this.request(this.url,{range:{from:0,to:this._bufferSize},responseType:"array-buffer",signal:t});if(!s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","failed to open url "+this.url);this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1,this.url.lastIndexOf("."));const{littleEndian:a,firstIFDPos:n,isBigTiff:o}=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.parseSignature)(s),f=[];await this._readIFDs(f,s,a,n,0,o?8:4,t);const{imageInfo:l,rasterInfo:u}=this._parseIFDs(f),p=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.getPyramidIFDs)(f),d=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.getMaskIFDs)(f);if(this._headerInfo={littleEndian:a,isBigTiff:o,ifds:f,pyramidIFDs:p,maskIFDs:d,...l},this._set("rasterInfo",u),!l.isSupported)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","this tiff is not supported: "+l.message);if(!l.tileWidth)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","none-tiled tiff is not optimized for access, convert to COG and retry.");u.isPseudoSpatialReference&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).warn("The spatial reference for this tiff is unsupported. Only EPSG spatial reference codes and Esri WKTs are supported.");const y=f[0].get("PREDICTOR")?.values?.[0],g=f[0].get("SAMPLEFORMAT")?.values?.[0];if(3===g&&2===y)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("tiffraster:open","unsupported horizontal difference encoding. Predictor=3 is supported for floatting point data");const{skipExtensions:T=[]}=this.ioConfig;if(!T.includes("aux.xml")){const t=await this._fetchAuxiliaryMetaData(e);null!=t&&this._processPAMInfo(t,u)}T.includes("vat.dbf")||1!==u.bandCount||"u8"!==u.pixelType||(u.attributeTable=await this._fetchAuxiliaryTable(e),null!=u.attributeTable&&(u.keyProperties.DataType="thematic")),this.updateTileInfo()}async fetchRawTile(e,t,r,i={}){if(!this._headerInfo?.isSupported||this.isBlockOutside(e,t,r))return null;const s=await this._fetchRawTiffTile(e,t,r,!1,i);if(null!=s&&this._headerInfo.hasMaskBand){const a=await this._fetchRawTiffTile(e,t,r,!0,i);null!=a&&a.pixels[0]instanceof Uint8Array&&(s.mask=a.pixels[0])}return s}_parseIFDs(e){const t=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.getImageInfo)(e),{width:r,height:i,tileWidth:s,tileHeight:a,planes:f,pixelType:l,compression:p,firstPyramidLevel:c,maximumPyramidLevel:h,pyramidBlockWidth:m,pyramidBlockHeight:y,tileBoundary:g,affine:T,metadata:x}=t,I=t.extent.spatialReference?.wkt||t.extent.spatialReference?.wkid;let R=(0,_pamParser_js__WEBPACK_IMPORTED_MODULE_13__.parseSpatialReference)(I),P=!!t.isPseudoGeographic;null==R&&(P=!0,R=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_19__["default"]({wkid:3857}));const v=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__["default"]({...t.extent,spatialReference:R}),D=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_21__["default"](v?{x:v.xmin,y:v.ymax,spatialReference:R}:{x:0,y:0}),k=new _RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({blockWidth:s,blockHeight:a,pyramidBlockWidth:m,pyramidBlockHeight:y,compression:p,origin:D,firstPyramidLevel:c,maximumPyramidLevel:h,blockBoundary:g}),O=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_21__["default"]({x:(v.xmax-v.xmin)/r,y:(v.ymax-v.ymin)/i,spatialReference:R}),j=x?{BandProperties:x.bandProperties,DataType:x.dataType}:{};let L=null;const B=F(e[0],"PHOTOMETRICINTERPRETATION"),z=S(e[0],"COLORMAP");if(B<=3&&z?.length>3&&z.length%3==0){L=[];const e=z.length/3;for(let t=0;t<e;t++)L.push([t,z[t]>>>8,z[t+e]>>>8,z[t+2*e]>>>8])}const A=new _RasterInfo_js__WEBPACK_IMPORTED_MODULE_9__["default"]({width:r,height:i,bandCount:f,pixelType:l,pixelSize:O,storageInfo:k,spatialReference:R,isPseudoSpatialReference:P,keyProperties:j,extent:v,colormap:L,statistics:x?x.statistics:null});return T?.length&&(A.nativeExtent=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_20__["default"]({xmin:-.5,ymin:.5-i,xmax:r-.5,ymax:.5,spatialReference:R}),A.transform=new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_17__["default"]({polynomialOrder:1,forwardCoefficients:[T[2]+T[0]/2,T[5]-T[3]/2,T[0],T[3],-T[1],-T[4]]}),A.extent=A.transform.forwardTransform(A.nativeExtent),A.pixelSize=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_21__["default"]({x:(v.xmax-v.xmin)/r,y:(v.ymax-v.ymin)/i,spatialReference:R}),k.origin.x=-.5,k.origin.y=.5),{imageInfo:t,rasterInfo:A}}_processPAMInfo(e,t){if(t.statistics=e.statistics??t.statistics,t.histograms=e.histograms,e.histograms&&null==t.statistics&&(t.statistics=(0,_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_16__.estimateStatisticsFromHistograms)(e.histograms)),e.transform&&null==t.transform){t.transform=e.transform,t.nativeExtent=t.extent;const r=t.transform.forwardTransform(t.nativeExtent);t.pixelSize=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_21__["default"]({x:(r.xmax-r.xmin)/t.width,y:(r.ymax-r.ymin)/t.height,spatialReference:t.spatialReference}),t.extent=r}t.isPseudoSpatialReference&&e.spatialReference&&(t.spatialReference=e.spatialReference,t.extent.spatialReference=t.nativeExtent.spatialReference=t.storageInfo.origin.spatialReference=t.spatialReference)}async _readIFDs(e,t,r,i,s,a=4,n){if(!i)return null;if(i>=t.byteLength||i<0){t=(await this.request(this.url,{range:{from:i+s,to:i+s+this._bufferSize},responseType:"array-buffer",signal:n})).data,s=i+s,i=0}const o=await this._readIFD(t,r,i,s,_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_15__["default"].tiffTags,a,n);if(e.push(o.ifd),!o.nextIFD)return null;await this._readIFDs(e,t,r,o.nextIFD-s,s,a,n)}async _readIFD(e,r,i,s,a=_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_15__["default"].tiffTags,n=4,o){if(!e)return null;const f=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.parseIFD)(e,r,i,s,a,n);if(f.success){const i=[];if(f.ifd?.forEach((e=>{e.values||i.push(e)})),i.length>0){const a=i.map((e=>e.offlineOffsetSize)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome),n=Math.min.apply(null,a.map((e=>e[0])));if(Math.min.apply(null,a.map((e=>e[0]+e[1])))-n<=this._bufferSize){const{data:t}=await this.request(this.url,{range:{from:n,to:n+this._bufferSize},responseType:"array-buffer",signal:o});e=t,s=n,i.forEach((t=>(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.parseFieldValues)(e,r,t,s)))}}if(f.ifd?.has("GEOKEYDIRECTORY")){const t=f.ifd.get("GEOKEYDIRECTORY"),i=t?.values;if(i&&i.length>4){const a=i[0]+"."+i[1]+"."+i[2],n=await this._readIFD(e,r,t.valueOffset+6-s,s,_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_15__["default"].geoKeys,2,o);t.data=n.ifd,t.data&&t.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}return f}if(f.requiredBufferSize&&f.requiredBufferSize!==e.byteLength){const t=await this.request(this.url,{range:{from:s,to:s+f.requiredBufferSize+4},responseType:"array-buffer",signal:o});return(e=t.data).byteLength<f.requiredBufferSize?null:this._readIFD(e,r,0,s,_rasterFormats_TiffTags_js__WEBPACK_IMPORTED_MODULE_15__["default"].tiffTags,4,o)}}async _fetchRawTiffTile(e,t,r,i,s={}){const a=this._getTileLocation(e,t,r,i);if(!a)return null;const{ranges:n,actualTileWidth:o,actualTileHeight:f,ifd:l}=a,u=n.map((e=>this.request(this.url,{range:e,responseType:"array-buffer",signal:s.signal}))),p=await Promise.all(u),c=p.map((e=>e.data.byteLength)).reduce(((e,t)=>e+t)),h=1===p.length?p[0].data:new ArrayBuffer(c),m=[0],d=[0];if(p.length>1){const e=new Uint8Array(h);for(let t=0,r=0;t<p.length;t++){const i=p[t].data;e.set(new Uint8Array(i),r),m[t]=r,r+=i.byteLength,d[t]=i.byteLength}}const{blockWidth:y,blockHeight:g}=this.getBlockWidthHeight(e),T=await this.decodePixelBlock(h,{format:"tiff",customOptions:{headerInfo:this._headerInfo,ifd:l,offsets:m,sizes:d},width:y,height:g,planes:null,pixelType:null});if(null==T)return null;let x,I,w;if(o!==y||f!==g){let e=T.mask;if(e)for(x=0;x<g;x++)if(w=x*y,x<f)for(I=o;I<y;I++)e[w+I]=0;else for(I=0;I<y;I++)e[w+I]=0;else for(e=new Uint8Array(y*g),T.mask=e,x=0;x<f;x++)for(w=x*y,I=0;I<o;I++)e[w+I]=1}return T}_getTileLocation(e,t,r,i=!1){const{firstPyramidLevel:s,blockBoundary:a}=this.rasterInfo.storageInfo,n=0===e?0:e-(s-1),{_headerInfo:o}=this;if(!o)return null;const f=i?o.maskIFDs[n]:0===n?o?.ifds[0]:o?.pyramidIFDs[n-1];if(!f)return null;const l=(0,_rasterFormats_TiffDecoder_js__WEBPACK_IMPORTED_MODULE_14__.isBSQConfig)(f,o),u=S(f,"TILEOFFSETS");if(void 0===u)return null;const p=S(f,"TILEBYTECOUNTS"),{minRow:c,minCol:h,maxRow:m,maxCol:d}=a[n];if(t>m||r>d||t<c||r<h)return null;const y=F(f,"IMAGEWIDTH"),g=F(f,"IMAGELENGTH"),x=F(f,"TILEWIDTH"),I=F(f,"TILELENGTH"),w=[];if(l){const{bandCount:e}=this.rasterInfo;for(let i=0;i<e;i++){const e=i*(m+1)*(d+1)+t*(d+1)+r;w[i]={from:u[e],to:u[e]+p[e]-1}}}else{const e=t*(d+1)+r;w.push({from:u[e],to:u[e]+p[e]-1})}for(let T=0;T<w.length;T++)if(null==w[T].from||!w[T].to||w[T].to<0)return null;return{ranges:w,ifd:f,actualTileWidth:r===d&&y%x||x,actualTileHeight:t===m&&g%I||I}}async _fetchAuxiliaryMetaData(e){try{const{data:t}=await this.request(this.url+".aux.xml",{responseType:"xml",signal:e?.signal});return (0,_pamParser_js__WEBPACK_IMPORTED_MODULE_13__.parsePAMInfo)(t)}catch{return null}}async _fetchAuxiliaryTable(e){try{const{data:t}=await this.request(this.url+".vat.dbf",{responseType:"array-buffer",signal:e?.signal}),r=_DBFParser_js__WEBPACK_IMPORTED_MODULE_12__["default"].parse(t);return r?.recordSet?_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_18__["default"].fromJSON(r.recordSet):null}catch{return null}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"_files",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"_headerInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],P.prototype,"_bufferSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:String,json:{write:!0}})],P.prototype,"datasetFormat",void 0),P=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.rasterDatasets.TIFFRaster")],P);const v=P;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parsePAMInfo: () => (/* binding */ S),
/* harmony export */   parseSpatialReference: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./xmlUtilities.js */ "./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js");
/* harmony import */ var _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../rasterTransforms/PolynomialTransform.js */ "./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function u(e,t){if(!e||!t)return null;const n=[];for(let r=0;r<e.length;r++)n.push(e[r]),n.push(t[r]);return n}function c(e){const t=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElement)(e,"GeodataXform"),n=d((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(t,"SpatialReference/WKID")||(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementValue)(t,"SpatialReference/WKT"));if("typens:PolynomialXform"!==t.getAttribute("xsi:type"))return{spatialReference:n,transform:null};const s=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(t,"PolynomialOrder")??1,f=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValues)(t,"CoeffX/Double"),c=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValues)(t,"CoeffY/Double"),m=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValues)(t,"InverseCoeffX/Double"),p=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValues)(t,"InverseCoeffY/Double"),S=u(f,c),C=u(m,p);return{spatialReference:n,transform:S&&C&&S.length&&C.length?new _rasterTransforms_PolynomialTransform_js__WEBPACK_IMPORTED_MODULE_4__["default"]({spatialReference:n,polynomialOrder:s,forwardCoefficients:S,inverseCoefficients:C}):null}}function m(e){const t=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(e,"NoDataValue"),n=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElement)(e,"Histograms/HistItem"),l=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(n,"HistMin"),o=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(n,"HistMax"),f=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(n,"BucketCount"),u=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementValue)(n,"HistCounts")?.split("|").map((e=>Number(e)));let c,m,d,p;(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElements)(e,"Metadata/MDI").forEach((e=>{const t=Number(e.textContent??e.nodeValue);switch(e.getAttribute("key").toUpperCase()){case"STATISTICS_MINIMUM":c=t;break;case"STATISTICS_MAXIMUM":m=t;break;case"STATISTICS_MEAN":d=t;break;case"STATISTICS_STDDEV":p=t}}));const S=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementNumericValue)(e,"Metadata/SourceBandIndex");return{noDataValue:t,histogram:u?.length&&null!=l&&null!=o?{min:l,max:o,size:f||u.length,counts:u}:null,sourceBandIndex:S,statistics:null!=c&&null!=m?{min:c,max:m,avg:d,stddev:p}:null}}function d(e){if(!e)return null;let n=Number(e);if(!isNaN(n)&&0!==n)return new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"]({wkid:n});if(e=String(e).trim(),(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__.isWKT2)(e))return new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"]({wkt2:e});const r=e.toUpperCase();if(r.startsWith("COMPD_CS")){if(!r.includes("VERTCS")||!r.includes("GEOGCS")&&!r.startsWith("PROJCS"))return null;const t=r.indexOf("VERTCS"),s=r.indexOf("PROJCS"),a=s>-1?s:r.indexOf("GEOGCS");if(-1===a)return null;const i=e.slice(a,e.lastIndexOf("]",t)+1).trim(),l=e.slice(t,e.lastIndexOf("]")).trim();n=p(i);const o=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"](n?{wkid:n}:{wkt:i}),u=p(l);return u&&(o.vcsWkid=u),o}return r.startsWith("GEOGCS")||r.startsWith("PROJCS")?(n=p(e),new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"](0!==n?{wkid:n}:{wkt:e})):null}function p(e){const t=e.replaceAll("]","[").replaceAll('"',"").split("[").map((e=>e.trim())).filter((e=>""!==e)),n=t[t.length-1].split(","),r=n[0]?.toLowerCase();if(("epsg"===r||"esri"===r)&&e.endsWith('"]]')){const e=Number(n[1]);if(!isNaN(e)&&0!==e)return e}return 0}function S(t){if("pamdataset"!==t?.documentElement.tagName?.toLowerCase())return{};const a={spatialReference:null,transform:null,metadata:{},rasterBands:[],statistics:null,histograms:null};t.documentElement.childNodes.forEach((e=>{if(1===e.nodeType)if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.isSameTagIgnoreNS)(e,"SRS")){if(!a.spatialReference){const t=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementValue)(e);a.spatialReference=d(t)}}else if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.isSameTagIgnoreNS)(e,"Metadata"))if("xml:ESRI"===e.getAttribute("domain")){const{spatialReference:t,transform:n}=c(e);a.transform=n,a.spatialReference||(a.spatialReference=t)}else{(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElements)(e,"MDI").forEach((e=>a.metadata[e.getAttribute("key")]=(0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.getElementValue)(e)))}else if((0,_xmlUtilities_js__WEBPACK_IMPORTED_MODULE_3__.isSameTagIgnoreNS)(e,"PAMRasterBand")){const t=m(e);null!=t.sourceBandIndex&&null==a.rasterBands[t.sourceBandIndex]?a.rasterBands[t.sourceBandIndex]=t:a.rasterBands.push(t)}}));const i=a.rasterBands;if(i.length){const t=!!i[0].statistics;a.statistics=t?i.map((e=>e.statistics)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome):null;const n=!!i[0].histogram;a.histograms=n?i.map((e=>e.histogram)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome):null}return a}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getElement: () => (/* binding */ e),
/* harmony export */   getElementNumericValue: () => (/* binding */ o),
/* harmony export */   getElementNumericValues: () => (/* binding */ u),
/* harmony export */   getElementValue: () => (/* binding */ t),
/* harmony export */   getElementValues: () => (/* binding */ l),
/* harmony export */   getElements: () => (/* binding */ n),
/* harmony export */   getNodeNameIgnoreNS: () => (/* binding */ c),
/* harmony export */   getSpaceDelimitedNumericValues: () => (/* binding */ r),
/* harmony export */   isSameTagIgnoreNS: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(e,t){if(!e||!t)return[];let l=t;t.includes("/")?(l=t.slice(0,t.indexOf("/")),t=t.slice(t.indexOf("/")+1)):t="";const r=[];if(t){const u=n(e,l);for(let e=0;e<u.length;e++){n(u[e],t).forEach((n=>r.push(n)))}return r}const u=e.getElementsByTagNameNS("*",l);if(!u||0===u.length)return[];for(let n=0;n<u.length;n++)r.push(u[n]||u.item(n));return r}function e(t,l){if(!t||!l)return null;let r=l;l.includes("/")?(r=l.slice(0,l.indexOf("/")),l=l.slice(l.indexOf("/")+1)):l="";const u=n(t,r);return u.length>0?l?e(u[0],l):u[0]:null}function t(n,t=null){const l=t?e(n,t):n;let r;return l?(r=l.textContent||l.nodeValue,r?r.trim():null):null}function l(e,t){const l=n(e,t),r=[];let u;for(let n=0;n<l.length;n++)u=l[n].textContent||l[n].nodeValue,u&&(u=u.trim(),""!==u&&r.push(u));return r}function r(n,e=null){const l=t(n,e);return l?.split(" ").map((n=>Number(n)))??[]}function u(n,e){return l(n,e).map((n=>Number(n)))}function o(n,e){const l=t(n,e);return Number(l)}function i(n,e){const t=n?.nodeName?.toLowerCase(),l=e.toLowerCase();return t.slice(t.lastIndexOf(":")+1)===l}function c(n){return n.nodeName.slice(n.nodeName.lastIndexOf(":")+1)}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clip: () => (/* binding */ a),
/* harmony export */   snapToRaster: () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../PixelBlock.js */ "./node_modules/@arcgis/core/layers/support/PixelBlock.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(e,i){if(e.spatialReference.equals(i))return e;const n=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(e.spatialReference),a=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnitForSR)(i);if(n===a)return e;const h=n/a;return{x:e.x*h,y:e.y*h}}async function a(t,e,n){if("extent"===n.type)return o(t,e,n);const{width:a,height:x}=t,l=new Uint8Array(a*x),{contains:m,intersects:s}=await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_chunks_geometryEngineBase_js"), __webpack_require__.e("node_modules_arcgis_core_geometry_geometryEngine_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../geometry/geometryEngine.js */ "./node_modules/@arcgis/core/geometry/geometryEngine.js"));return s(e,n)?"polyline"===n.type?r(t,e,n):m(n,e)?t:h(t,e,n):new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:x,mask:l,maskIsAlpha:!1,pixels:[...t.pixels]})}function h(t,e,n){if(!t)return t;const{width:a,height:h}=t,o=e.width/a,r=e.height/h,{xmin:x,ymax:l}=e;let m;if("extent"===n.type){const t=(n.xmin-x)/o,e=(n.xmax-x)/o,i=(l-n.ymax)/r,a=(l-n.ymin)/r;m=[[[t,i],[t,a],[e,a],[e,i],[t,i]]]}else m=n.rings.map((t=>t.map((([t,e])=>[(t-x)/o,(l-e)/r]))));const s=document.createElement("canvas");s.width=a,s.height=h;const p=s.getContext("2d");p.fillStyle="#f00",m.forEach((t=>{p.beginPath(),p.moveTo(t[0][0],t[0][1]);for(let e=0;e<t.length;e++)p.lineTo(t[e][0],t[e][1]);p.closePath(),p.fill()}));const f=p.getImageData(0,0,a,h).data,y=t.mask,c=a*h,M=new Uint8Array(c);for(let i=0;i<c;i++)y&&!y[i]||(M[i]=f[4*i+3]>127?255:0);return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:M,maskIsAlpha:!1,pixels:[...t.pixels]})}function o(t,e,n){const{width:a,height:h}=t,o=new Uint8Array(a*h),r=e.width/a,x=e.height/h;if(n.width/r<.5||n.height/x<.5)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]});const{xmin:l,xmax:m,ymin:s,ymax:p}=e,{xmin:f,xmax:y,ymin:c,ymax:M}=n,u=Math.max(l,f),w=Math.min(m,y),d=Math.max(s,c),g=Math.min(p,M),T=.5*r,k=.5*x;if(w-u<T||g-d<k||w<l+T||u>m-T||d>p-k||g<s+k)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]});const A=Math.max(0,(u-l)/r),R=Math.min(a,Math.max(0,(w-l)/r)),U=Math.max(0,(p-g)/x),j=Math.min(h,Math.max(0,(p-d)/x)),E=Math.round(A),I=Math.round(R)-1,P=Math.round(U),v=Math.round(j)-1;if(E===I&&A%1>.5&&R%1<.5||P===v&&U%1>.5&&j%1<.5)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]});if(0===E&&0===P&&I===a&&v===h)return t;const b=t.mask;for(let i=P;i<=v;i++)for(let t=E;t<=I;t++){const e=i*a+t;o[e]=b?b[e]:255}return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]})}function r(t,e,n){const{width:a,height:h}=t,o=new Uint8Array(a*h),r=e.width/a,x=e.height/h,{xmin:l,ymax:m}=e,{paths:s}=n,p=t.mask;for(let i=0;i<s.length;i++){const t=s[i];for(let e=0;e<t.length-1;e++){const[i,n]=t[e],[s,f]=t[e+1];let y=Math.floor((m-n)/x),c=Math.floor((m-f)/x);if(c<y){const t=y;y=c,c=t}y=Math.max(0,y),c=Math.min(h-1,c);const M=(s-i)/(f-n);for(let t=y;t<=c;t++){const e=t===y?Math.max(n,f):(h+1-t)*x,m=t===c?Math.min(n,f):e-x;let u=f===n?Math.floor((i-l)/r):Math.floor((M*(e-n)+i-l)/r),w=f===n?Math.floor((s-l)/r):Math.floor((M*(m-n)+i-l)/r);if(w<u){const t=u;u=w,w=t}const d=t*a;u=Math.max(0,u),w=Math.min(a-1,w);for(let t=d+u;t<=d+w;t++)o[t]=p?p[t]:255}}}return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_2__["default"]({pixelType:t.pixelType,width:a,height:h,mask:o,pixels:[...t.pixels]})}function x(t,i,a,h=!0){const{spatialReference:o}=t,{x:r,y:x}=n(a,o);let l,m,s;const p="extent"===i.type?i:i.extent;let{xmin:f,xmax:y,ymax:c,ymin:M}=p;const{xmin:u,ymax:w}=t.extent;return h?(f=u+(f>u?r*Math.round((f-u)/r):0),c=w-(c<w?x*Math.round((w-c)/x):0),y=u+(y>u?r*Math.round((y-u)/r):0),M=w-(M<w?x*Math.round((w-M)/x):0),l=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__["default"]({xmin:f,ymax:c,xmax:y,ymin:M,spatialReference:o}),m=Math.round(l.width/r),s=Math.round(l.height/x)):(m=Math.floor((y-f)/r+.8),s=Math.floor((c-M)/x+.8),f=u+(f>u?r*Math.floor((f-u)/r+.1):0),c=w-(c<w?x*Math.floor((w-c)/x+.1):0),y=f+m*r,M=c-s*x,l=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__["default"]({xmin:f,ymax:c,xmax:y,ymin:M,spatialReference:o})),{extent:l,width:m,height:s}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfbGF5ZXJzX0ltYWdlcnlUaWxlTGF5ZXJfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sYUFBYSx5R0FBeUcsU0FBUyxHQUE2Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmxLO0FBQ0E7QUFDQTtBQUNBO0FBQytFLG1CQUFtQixVQUFVLHVFQUFDLHdEQUF3RCxjQUFjLE9BQU8sZ0VBQUMsOEJBQThCLHVFQUFDLGtDQUFrQyxrQkFBa0IseURBQXdIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdFk7QUFDQTtBQUNBO0FBQ0E7QUFDNjBELG9CQUFvQixrRUFBQyxDQUFDLDRFQUFDLENBQUMsOEVBQUMsQ0FBQyxvRUFBQyxDQUFDLHdGQUFDLENBQUMsOEVBQUMsQ0FBQyx3RUFBQyxDQUFDLHdFQUFDLENBQUMsOEVBQUMsQ0FBQyxxRkFBQyxDQUFDLGdFQUFDLENBQUMsa0RBQUMsYUFBYSxrQkFBa0Isb1dBQW9XLCtEQUFDLGlCQUFpQixNQUFNLGdCQUFnQixPQUFPLDBPQUFnQyxDQUFDLFVBQVUsS0FBSyxxRUFBQyx1QkFBdUIsS0FBSyxxRUFBQyw2QkFBNkIsR0FBRyx1QkFBdUIsMEJBQTBCLFdBQVcsR0FBRyxRQUFRLDhCQUE4QixxREFBcUQsaUNBQWlDLFVBQVUsb0VBQUMseURBQXlELDJCQUEyQixrQ0FBa0MsbUJBQW1CLGFBQWEsMERBQUMsRUFBRSxvR0FBb0csTUFBTSwwREFBQyxFQUFFLDRHQUE0RyxJQUFJLGFBQWEsOERBQThELE1BQU0sK0VBQStFLGtCQUFrQix5QkFBeUIsR0FBRyxhQUFhLDhDQUE4QyxvREFBb0QsMERBQTBELEVBQUUsT0FBTyxXQUFXLDBEQUFDLEVBQUUsc0VBQXNFLGNBQWMsMERBQUMsRUFBRSxvRkFBb0YsR0FBRyxTQUFTLHVCQUF1QixNQUFNLGVBQWUseUJB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QVcsc0RBQUMsRUFBRSxtRUFBbUUsRUFBRSxrQkFBa0IsTUFBTSxpQkFBaUIsbURBQW1ELGNBQWMsSUFBSSxRQUFRLFlBQVksWUFBWSxXQUFXLEtBQUssYUFBYSxZQUFZLGFBQWEsS0FBSyw2QkFBNkIsZ0RBQWdELFFBQVEsVUFBVSxRQUFRLGtDQUFrQyxvQkFBb0IsWUFBWSxLQUFLLEtBQUssZ0VBQWdFLG9IQUFvSCxRQUFRLFVBQVUsUUFBUSxZQUFZLGtDQUFrQyxjQUFjLE9BQU8sc0JBQXNCLFdBQVcsc0RBQUMsRUFBRSxtRUFBbUUsRUFBRSx1QkFBdUIsTUFBTSxtQkFBbUIsSUFBSSxRQUFRLFFBQVEsVUFBVSxxQ0FBcUMsSUFBSSw0QkFBNEIsR0FBRyxNQUFNLGNBQWMsVUFBVSx3SkFBd0osMkRBQUMsRUFBRSwrQ0FBK0MsdU1BQXVNLDJEQUFDLEVBQUUsK0NBQStDLElBQUksMkJBQStEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9CeXRlU2l6ZVVuaXQuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC9VaW50QXJyYXkuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL0ltYWdlcnlUaWxlTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL21peGlucy9JbWFnZXJ5VGlsZU1peGluLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L0xPRC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9UaWxlSW5mby5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9UaWxlS2V5LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L1RpbGVtYXAuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvVGlsZW1hcENhY2hlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL0Jhc2VSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvQ2xvdWRSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvREJGUGFyc2VyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL0VwaGVtZXJhbEJsb2NrQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvRnVuY3Rpb25SYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvSW1hZ2VBdXhSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvSW1hZ2VTZXJ2ZXJSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvSW5NZW1vcnlSYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvTVJGUmFzdGVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL1Jhc3RlckZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvUmF3QmxvY2tDYWNoZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy9USUZGUmFzdGVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L3Jhc3RlckRhdGFzZXRzL3BhbVBhcnNlci5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy94bWxVdGlsaXRpZXMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL2NsaXBVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIEU7IWZ1bmN0aW9uKEUpe0VbRS5LSUxPQllURVM9MTAyNF09XCJLSUxPQllURVNcIixFW0UuTUVHQUJZVEVTPTEwNDg1NzZdPVwiTUVHQUJZVEVTXCIsRVtFLkdJR0FCWVRFUz0xMDczNzQxODI0XT1cIkdJR0FCWVRFU1wifShFfHwoRT17fSkpO2V4cG9ydHtFIGFzIEJ5dGVTaXplVW5pdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e25hdGl2ZUFycmF5TWF4U2l6ZSBhcyByLGlzQXJyYXkgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL3R5cGVkQXJyYXlVdGlsLmpzXCI7ZnVuY3Rpb24gdChuLHQ9ITEpe3JldHVybiBuPD1yP3Q/bmV3IEFycmF5KG4pLmZpbGwoMCk6bmV3IEFycmF5KG4pOm5ldyBVaW50MzJBcnJheShuKX1mdW5jdGlvbiBlKHQpe3JldHVybihuKHQpP3QubGVuZ3RoOnQuYnl0ZUxlbmd0aC84KTw9cj9BcnJheS5mcm9tKHQpOm5ldyBVaW50MzJBcnJheSh0KX1mdW5jdGlvbiB5KHIsbix0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShyKT9yLnNsaWNlKG4sbit0KTpyLnN1YmFycmF5KG4sbit0KX1leHBvcnR7dCBhcyBuZXdVaW50QXJyYXksZSBhcyB1aW50QXJyYXlGcm9tLHkgYXMgdWludFN1YkFycmF5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi9Qb3B1cFRlbXBsYXRlLmpzXCI7aW1wb3J0e0Nsb25hYmxlTWl4aW4gYXMgdH1mcm9tXCIuLi9jb3JlL0Nsb25hYmxlLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBpIGZyb21cIi4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e011bHRpT3JpZ2luSlNPTk1peGluIGFzIG99ZnJvbVwiLi4vY29yZS9NdWx0aU9yaWdpbkpTT05TdXBwb3J0LmpzXCI7aW1wb3J0e2RlYm91bmNlIGFzIGEsdGhyb3dJZkFib3J0RXJyb3IgYXMgbn1mcm9tXCIuLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBsfWZyb21cIi4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBwfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnR7ZW5zdXJlQ2xhc3MgYXMgbSxJbnRlZ2VyIGFzIHV9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtlbnVtZXJhdGlvbiBhcyBjfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvZW51bWVyYXRpb24uanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgZH1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGggZnJvbVwiLi9MYXllci5qc1wiO2ltcG9ydHtBcmNHSVNTZXJ2aWNlIGFzIHl9ZnJvbVwiLi9taXhpbnMvQXJjR0lTU2VydmljZS5qc1wiO2ltcG9ydHtCbGVuZExheWVyIGFzIGZ9ZnJvbVwiLi9taXhpbnMvQmxlbmRMYXllci5qc1wiO2ltcG9ydHtDdXN0b21QYXJhbWV0ZXJzTWl4aW4gYXMgZ31mcm9tXCIuL21peGlucy9DdXN0b21QYXJhbWV0ZXJzTWl4aW4uanNcIjtpbXBvcnR7SW1hZ2VyeVRpbGVNaXhpbiBhcyB2fWZyb21cIi4vbWl4aW5zL0ltYWdlcnlUaWxlTWl4aW4uanNcIjtpbXBvcnR7T3BlcmF0aW9uYWxMYXllciBhcyBTfWZyb21cIi4vbWl4aW5zL09wZXJhdGlvbmFsTGF5ZXIuanNcIjtpbXBvcnR7UG9ydGFsTGF5ZXIgYXMgan1mcm9tXCIuL21peGlucy9Qb3J0YWxMYXllci5qc1wiO2ltcG9ydHtSZWZyZXNoYWJsZUxheWVyIGFzIFJ9ZnJvbVwiLi9taXhpbnMvUmVmcmVzaGFibGVMYXllci5qc1wiO2ltcG9ydHtTY2FsZVJhbmdlTGF5ZXIgYXMgYn1mcm9tXCIuL21peGlucy9TY2FsZVJhbmdlTGF5ZXIuanNcIjtpbXBvcnR7VGVtcG9yYWxMYXllciBhcyB3fWZyb21cIi4vbWl4aW5zL1RlbXBvcmFsTGF5ZXIuanNcIjtpbXBvcnR7bGVnZW5kRW5hYmxlZCBhcyBPfWZyb21cIi4vc3VwcG9ydC9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0IEkgZnJvbVwiLi9zdXBwb3J0L0ZpZWxkLmpzXCI7aW1wb3J0e2ludGVycG9sYXRpb25LZWJhYiBhcyBQfWZyb21cIi4vc3VwcG9ydC9yYXN0ZXJFbnVtcy5qc1wiO2ltcG9ydCBUIGZyb21cIi4vc3VwcG9ydC9SYXN0ZXJGdW5jdGlvbi5qc1wiO2ltcG9ydCBfIGZyb21cIi4vc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy9GdW5jdGlvblJhc3Rlci5qc1wiO2ltcG9ydCB4IGZyb21cIi4vc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy9SYXN0ZXJGYWN0b3J5LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBOLGdldFByaW1hcnlSYXN0ZXJVcmxzIGFzIEZ9ZnJvbVwiLi9zdXBwb3J0L3Jhc3RlckZ1bmN0aW9ucy9yYXN0ZXJGdW5jdGlvbkhlbHBlci5qc1wiO2ltcG9ydHtjcmVhdGVQb3B1cFRlbXBsYXRlIGFzIEp9ZnJvbVwiLi4vc3VwcG9ydC9wb3B1cFV0aWxzLmpzXCI7aW1wb3J0e1NhdmVPcGVyYXRpb25UeXBlIGFzIEx9ZnJvbVwiLi4vd2ViZG9jL2ludGVyZmFjZXMuanNcIjtsZXQgRT1jbGFzcyBleHRlbmRzKGYoYihTKGooZyh2KHcoeShSKG8odChoKSkpKSkpKSkpKSkpe2NvbnN0cnVjdG9yKC4uLmUpe3N1cGVyKC4uLmUpLHRoaXMuX3ByaW1hcnlSYXN0ZXJzPVtdLHRoaXMuYmFuZElkcz1udWxsLHRoaXMuaW50ZXJwb2xhdGlvbj1udWxsLHRoaXMubGVnZW5kRW5hYmxlZD0hMCx0aGlzLmlzUmVmZXJlbmNlPW51bGwsdGhpcy5saXN0TW9kZT1cInNob3dcIix0aGlzLnNvdXJjZUpTT049bnVsbCx0aGlzLnZlcnNpb249bnVsbCx0aGlzLnR5cGU9XCJpbWFnZXJ5LXRpbGVcIix0aGlzLm9wZXJhdGlvbmFsTGF5ZXJUeXBlPVwiQXJjR0lTVGlsZWRJbWFnZVNlcnZpY2VMYXllclwiLHRoaXMucG9wdXBFbmFibGVkPSEwLHRoaXMucG9wdXBUZW1wbGF0ZT1udWxsLHRoaXMuZmllbGRzPW51bGwsdGhpcy5fZGVib3VuY2VkU2F2ZU9wZXJhdGlvbnM9YSgoYXN5bmMoZSxyLHQpPT57Y29uc3R7c2F2ZTpzLHNhdmVBczppfT1hd2FpdCBpbXBvcnQoXCIuL3NhdmUvaW1hZ2VyeVV0aWxzLmpzXCIpO3N3aXRjaChlKXtjYXNlIEwuU0FWRTpyZXR1cm4gcyh0aGlzLHIpO2Nhc2UgTC5TQVZFX0FTOnJldHVybiBpKHRoaXMsdCxyKX19KSl9bm9ybWFsaXplQ3RvckFyZ3MoZSxyKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT97dXJsOmUsLi4ucn06ZX1sb2FkKGUpe2NvbnN0IHI9bnVsbCE9ZT9lLnNpZ25hbDpudWxsO3JldHVybiB0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UodGhpcy5sb2FkRnJvbVBvcnRhbCh7c3VwcG9ydGVkVHlwZXM6W1wiSW1hZ2UgU2VydmljZVwiXX0sZSkuY2F0Y2gobikudGhlbigoKCk9PnRoaXMuX29wZW5SYXN0ZXIocikpKSksUHJvbWlzZS5yZXNvbHZlKHRoaXMpfWdldCBkZWZhdWx0UG9wdXBUZW1wbGF0ZSgpe3JldHVybiB0aGlzLmNyZWF0ZVBvcHVwVGVtcGxhdGUoKX1nZXQgcmFzdGVyRmllbGRzKCl7Y29uc3QgZT1bbmV3IEkoe25hbWU6XCJSYXN0ZXIuU2VydmljZVBpeGVsVmFsdWVcIixhbGlhczpcIlBpeGVsIFZhbHVlXCIsZG9tYWluOm51bGwsZWRpdGFibGU6ITEsbGVuZ3RoOjUwLHR5cGU6XCJzdHJpbmdcIn0pLG5ldyBJKHtuYW1lOlwiUmFzdGVyLlNlcnZpY2VQaXhlbFZhbHVlLlJhd1wiLGFsaWFzOlwiUmF3IFBpeGVsIFZhbHVlXCIsZG9tYWluOm51bGwsZWRpdGFibGU6ITEsbGVuZ3RoOjUwLHR5cGU6XCJzdHJpbmdcIn0pXSx7cmFzdGVySW5mbzpyfT10aGlzLHQ9cj8uYXR0cmlidXRlVGFibGUscz1udWxsIT10P3QuZmllbGRzOm51bGwsaT1cIlJhc3Rlci5cIjtpZihzKXtjb25zdCByPXMuZmlsdGVyKChlPT5cIm9pZFwiIT09ZS50eXBlJiZcInZhbHVlXCIhPT1lLm5hbWUudG9Mb3dlckNhc2UoKSkpLm1hcCgoZT0+e2NvbnN0IHI9ZS5jbG9uZSgpO3JldHVybiByLm5hbWU9aStlLm5hbWUscn0pKTtlLnB1c2goLi4ucil9Y29uc3Qgbz1yPy5kYXRhVHlwZSxhPXI/Lm11bHRpZGltZW5zaW9uYWxJbmZvO2lmKChcInZlY3Rvci1tYWdkaXJcIj09PW98fFwidmVjdG9yLXV2XCI9PT1vKSYmbnVsbCE9YSl7Y29uc3Qgcj1hLnZhcmlhYmxlc1swXS51bml0Py50cmltKCksdD1cIk1hZ25pdHVkZVwiKyhyP2AgKCR7cn0pYDpcIlwiKTtlLnB1c2gobmV3IEkoe25hbWU6XCJSYXN0ZXIuTWFnbml0dWRlXCIsYWxpYXM6dCxkb21haW46bnVsbCxlZGl0YWJsZTohMSx0eXBlOlwiZG91YmxlXCJ9KSksZS5wdXNoKG5ldyBJKHtuYW1lOlwiUmFzdGVyLkRpcmVjdGlvblwiLGFsaWFzOlwiRGlyZWN0aW9uICjCsClcIixkb21haW46bnVsbCxlZGl0YWJsZTohMSx0eXBlOlwiZG91YmxlXCJ9KSl9cmV0dXJuIGV9Y3JlYXRlUG9wdXBUZW1wbGF0ZShlKXtjb25zdHtyYXN0ZXJGaWVsZHM6cn09dGhpcyx0PW5ldyBTZXQoci5tYXAoKCh7bmFtZTplfSk9PmUpKS5maWx0ZXIoKGU9PlwicmFzdGVyLnNlcnZpY2VwaXhlbHZhbHVlLnJhd1wiIT09ZS50b0xvd2VyQ2FzZSgpKSkpO3JldHVybiBKKHtmaWVsZHM6cix0aXRsZTp0aGlzLnRpdGxlfSx7Li4uZSx2aXNpYmxlRmllbGROYW1lczp0fSl9YXN5bmMgZ2VuZXJhdGVSYXN0ZXJJbmZvKGUscil7aWYoIShlPW0oVCxlKSkpcmV0dXJuIHRoaXMucmFzdGVySW5mbzt0cnl7Y29uc3QgdD17cmFzdGVyOnRoaXMuX3ByaW1hcnlSYXN0ZXJzWzBdfTt0aGlzLl9wcmltYXJ5UmFzdGVycy5sZW5ndGg+MSYmdGhpcy5fcHJpbWFyeVJhc3RlcnMuZm9yRWFjaCgoZT0+dFtlLnVybF09ZSkpO2NvbnN0IHM9TihlLmZ1bmN0aW9uRGVmaW5pdGlvbj8udG9KU09OKCk/P2UudG9KU09OKCksdCksaT1uZXcgXyh7cmFzdGVyRnVuY3Rpb246c30pO3JldHVybiBhd2FpdCBpLm9wZW4ociksaS5yYXN0ZXJJbmZvfWNhdGNoKHQpe2lmKHQgaW5zdGFuY2VvZiBzKXRocm93IHQ7dGhyb3cgbmV3IHMoXCJpbWFnZXJ5LXRpbGUtbGF5ZXJcIixcInRoZSBnaXZlbiByYXN0ZXIgZnVuY3Rpb24gaXMgbm90IHN1cHBvcnRlZFwiKX19YXN5bmMgc2F2ZShlKXtyZXR1cm4gdGhpcy5fZGVib3VuY2VkU2F2ZU9wZXJhdGlvbnMoTC5TQVZFLGUpfWFzeW5jIHNhdmVBcyhlLHIpe3JldHVybiB0aGlzLl9kZWJvdW5jZWRTYXZlT3BlcmF0aW9ucyhMLlNBVkVfQVMscixlKX13cml0ZShlLHIpe2NvbnN0IHQ9dGhpcy5fcHJpbWFyeVJhc3RlcnNbMF0/P3RoaXMucmFzdGVyO2lmKHRoaXMubG9hZGVkP1wiUmFzdGVyVGlsZVNlcnZlclwiPT09dC5kYXRhc2V0Rm9ybWF0JiYoXCJSYXN0ZXJcIj09PXQudGlsZVR5cGV8fFwiTWFwXCI9PT10LnRpbGVUeXBlKTp0aGlzLnVybCYmL1xcL0ltYWdlU2VydmVyKFxcL3xcXC8/JCkvaS50ZXN0KHRoaXMudXJsKSlyZXR1cm4gc3VwZXIud3JpdGUoZSxyKTtpZihyPy5tZXNzYWdlcyl7Y29uc3QgZT1gJHtyLm9yaWdpbn0vJHtyLmxheWVyQ29udGFpbmVyVHlwZXx8XCJvcGVyYXRpb25hbC1sYXllcnNcIn1gO3IubWVzc2FnZXMucHVzaChuZXcgcyhcImxheWVyOnVuc3VwcG9ydGVkXCIsYExheWVycyAoJHt0aGlzLnRpdGxlfSwgJHt0aGlzLmlkfSkgb2YgdHlwZSAnJHt0aGlzLmRlY2xhcmVkQ2xhc3N9JyBhcmUgbm90IHN1cHBvcnRlZCBpbiB0aGUgY29udGV4dCBvZiAnJHtlfSdgLHtsYXllcjp0aGlzfSkpfXJldHVybiBudWxsfWFzeW5jIF9vcGVuUmFzdGVyKGUpe2xldCByPSExO2lmKHRoaXMucmFzdGVyKXRoaXMucmFzdGVyLnJhc3RlckluZm98fGF3YWl0IHRoaXMucmFzdGVyLm9wZW4oKSxcIkZ1bmN0aW9uXCI9PT10aGlzLnJhc3Rlci5kYXRhc2V0Rm9ybWF0PyhyPSEwLHRoaXMuX3ByaW1hcnlSYXN0ZXJzPXRoaXMucmFzdGVyLnByaW1hcnlSYXN0ZXJzLnJhc3RlcnMpOnRoaXMuX3ByaW1hcnlSYXN0ZXJzPVt0aGlzLnJhc3Rlcl0sdGhpcy51cmw9dGhpcy5yYXN0ZXIudXJsO2Vsc2V7Y29uc3R7cmFzdGVyRnVuY3Rpb246cn09dGhpcyx0PVt0aGlzLnVybF07ciYmRihyLnRvSlNPTigpLHQpO2NvbnN0IGE9YXdhaXQgUHJvbWlzZS5hbGwodC5tYXAoKHI9Pngub3Blbih7dXJsOnIsc291cmNlSlNPTjp0aGlzLnNvdXJjZUpTT04saW9Db25maWc6e3NhbXBsaW5nOlwiY2xvc2VzdFwiLC4uLnRoaXMuaW9Db25maWcsY3VzdG9tRmV0Y2hQYXJhbWV0ZXJzOnRoaXMuY3VzdG9tUGFyYW1ldGVyc30sc2lnbmFsOmV9KSkpKSxuPWEuZmluZEluZGV4KChlPT5udWxsPT1lKSk7aWYobj4tMSl0aHJvdyBuZXcgcyhcImltYWdlcnktdGlsZS1sYXllcjpvcGVuXCIsYGNhbm5vdCBvcGVuIHJhc3RlcjogJHt0W25dfWApO2lmKHRoaXMuX3ByaW1hcnlSYXN0ZXJzPWEscil7Y29uc3QgZT17cmFzdGVyOnRoaXMuX3ByaW1hcnlSYXN0ZXJzWzBdfTt0aGlzLl9wcmltYXJ5UmFzdGVycy5sZW5ndGg+MSYmdGhpcy5fcHJpbWFyeVJhc3RlcnMuZm9yRWFjaCgocj0+ZVtyLnVybF09cikpO2NvbnN0IHQ9TihyLmZ1bmN0aW9uRGVmaW5pdGlvbj8udG9KU09OKCk/P3IudG9KU09OKCksZSksbj1uZXcgXyh7cmFzdGVyRnVuY3Rpb246dH0pO3RyeXthd2FpdCBuLm9wZW4oKSx0aGlzLnJhc3Rlcj1ufWNhdGNoKG8pe2NvbnN0IGU9aS5nZXRMb2dnZXIodGhpcyk7byBpbnN0YW5jZW9mIHMmJmUuZXJyb3IoXCJpbWFnZXJ5LXRpbGUtbGF5ZXI6b3BlblwiLG8ubWVzc2FnZSksZS53YXJuKFwiaW1hZ2VyeS10aWxlLWxheWVyOm9wZW5cIixcInRoZSByYXN0ZXIgZnVuY3Rpb24gY2Fubm90IGJlIGFwcGxpZWQgYW5kIGlzIHJlbW92ZWRcIiksdGhpcy5fc2V0KFwicmFzdGVyRnVuY3Rpb25cIixudWxsKSx0aGlzLnJhc3Rlcj1hWzBdfX1lbHNlIHRoaXMucmFzdGVyPWFbMF19Y29uc3QgdD10aGlzLnJhc3Rlci5yYXN0ZXJJbmZvO2lmKCF0KXRocm93IG5ldyBzKFwiaW1hZ2VyeS10aWxlLWxheWVyOmxvYWRcIixcImNhbm5vdCBsb2FkIHJlc291cmNlcyBvbiBcIit0aGlzLnVybCk7aWYodGhpcy5fc2V0KFwicmFzdGVySW5mb1wiLHI/dDp0aGlzLl9wcmltYXJ5UmFzdGVyc1swXS5yYXN0ZXJJbmZvKSx0aGlzLl9zZXQoXCJzcGF0aWFsUmVmZXJlbmNlXCIsdC5zcGF0aWFsUmVmZXJlbmNlKSx0aGlzLnNvdXJjZUpTT049dGhpcy5zb3VyY2VKU09OfHx0aGlzLnJhc3Rlci5zb3VyY2VKU09OLG51bGwhPXRoaXMuc291cmNlSlNPTil7Y29uc3QgZT1cIk1hcFwiPT09dGhpcy5yYXN0ZXIudGlsZVR5cGUmJm51bGwhPXRoaXMuc291cmNlSlNPTi5taW5MT0QmJm51bGwhPXRoaXMuc291cmNlSlNPTi5tYXhMT0Q/dGhpcy5zb3VyY2VKU09OOnsuLi50aGlzLnNvdXJjZUpTT04sbWluU2NhbGU6MCxtYXhTY2FsZTowfTt0aGlzLnJlYWQoZSx7b3JpZ2luOlwic2VydmljZVwifSl9ZWxzZSB0aGlzLnJlYWQoe3RpbGVJbmZvOnRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby50aWxlSW5mby50b0pTT04oKX0se29yaWdpbjpcInNlcnZpY2VcIn0pO3RoaXMudGl0bGV8fCh0aGlzLnRpdGxlPXRoaXMucmFzdGVyLmRhdGFzZXROYW1lKSxcIk1hcFwiPT09dGhpcy5yYXN0ZXIudGlsZVR5cGUmJih0aGlzLnBvcHVwRW5hYmxlZD0hMSksdGhpcy5fY29uZmlnRGVmYXVsdFNldHRpbmdzKCksdGhpcy5hZGRIYW5kbGVzKGwoKCgpPT50aGlzLmN1c3RvbVBhcmFtZXRlcnMpLChlPT57dGhpcy5yYXN0ZXImJih0aGlzLnJhc3Rlci5pb0NvbmZpZy5jdXN0b21GZXRjaFBhcmFtZXRlcnM9ZSl9KSkpfX07ZShbcCh7Y2xvbmFibGU6ITF9KV0sRS5wcm90b3R5cGUsXCJfcHJpbWFyeVJhc3RlcnNcIix2b2lkIDApLGUoW3Aoe3R5cGU6W3VdLGpzb246e3dyaXRlOntvdmVycmlkZVBvbGljeSgpe3JldHVybntlbmFibGVkOiF0aGlzLmxvYWRlZHx8XCJSYXN0ZXJcIj09PXRoaXMucmFzdGVyLnRpbGVUeXBlfHxcIjAsMSwyXCIhPT10aGlzLmJhbmRJZHM/LmpvaW4oXCIsXCIpfX19fX0pXSxFLnByb3RvdHlwZSxcImJhbmRJZHNcIix2b2lkIDApLGUoW3Aoe2pzb246e3dyaXRlOntvdmVycmlkZVBvbGljeSgpe3JldHVybntlbmFibGVkOiF0aGlzLmxvYWRlZHx8XCJSYXN0ZXJcIj09PXRoaXMucmFzdGVyLnRpbGVUeXBlfHxcImJpbGluZWFyXCIhPT10aGlzLmludGVycG9sYXRpb259fX19fSksYyhQKV0sRS5wcm90b3R5cGUsXCJpbnRlcnBvbGF0aW9uXCIsdm9pZCAwKSxlKFtwKE8pXSxFLnByb3RvdHlwZSxcImxlZ2VuZEVuYWJsZWRcIix2b2lkIDApLGUoW3Aoe3R5cGU6Qm9vbGVhbixqc29uOntyZWFkOiExLHdyaXRlOntlbmFibGVkOiEwLG92ZXJyaWRlUG9saWN5OigpPT4oe2VuYWJsZWQ6ITF9KX19fSldLEUucHJvdG90eXBlLFwiaXNSZWZlcmVuY2VcIix2b2lkIDApLGUoW3Aoe3R5cGU6W1wic2hvd1wiLFwiaGlkZVwiXX0pXSxFLnByb3RvdHlwZSxcImxpc3RNb2RlXCIsdm9pZCAwKSxlKFtwKHtqc29uOntyZWFkOiEwLHdyaXRlOiEwfX0pXSxFLnByb3RvdHlwZSxcImJsZW5kTW9kZVwiLHZvaWQgMCksZShbcCgpXSxFLnByb3RvdHlwZSxcInNvdXJjZUpTT05cIix2b2lkIDApLGUoW3Aoe3JlYWRPbmx5OiEwLGpzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e3NvdXJjZTpcImN1cnJlbnRWZXJzaW9uXCJ9fX19fSldLEUucHJvdG90eXBlLFwidmVyc2lvblwiLHZvaWQgMCksZShbcCh7cmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sRS5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxlKFtwKHt0eXBlOltcIkFyY0dJU1RpbGVkSW1hZ2VTZXJ2aWNlTGF5ZXJcIl19KV0sRS5wcm90b3R5cGUsXCJvcGVyYXRpb25hbExheWVyVHlwZVwiLHZvaWQgMCksZShbcCh7dHlwZTpCb29sZWFuLHZhbHVlOiEwLGpzb246e3JlYWQ6e3NvdXJjZTpcImRpc2FibGVQb3B1cFwiLHJlYWRlcjooZSxyKT0+IXIuZGlzYWJsZVBvcHVwfSx3cml0ZTp7dGFyZ2V0OlwiZGlzYWJsZVBvcHVwXCIsb3ZlcnJpZGVQb2xpY3koKXtyZXR1cm57ZW5hYmxlZDohdGhpcy5sb2FkZWR8fFwiUmFzdGVyXCI9PT10aGlzLnJhc3Rlci50aWxlVHlwZX19LHdyaXRlcihlLHIsdCl7clt0XT0hZX19fX0pXSxFLnByb3RvdHlwZSxcInBvcHVwRW5hYmxlZFwiLHZvaWQgMCksZShbcCh7dHlwZTpyLGpzb246e3JlYWQ6e3NvdXJjZTpcInBvcHVwSW5mb1wifSx3cml0ZTp7dGFyZ2V0OlwicG9wdXBJbmZvXCIsb3ZlcnJpZGVQb2xpY3koKXtyZXR1cm57ZW5hYmxlZDohdGhpcy5sb2FkZWR8fFwiUmFzdGVyXCI9PT10aGlzLnJhc3Rlci50aWxlVHlwZX19fX19KV0sRS5wcm90b3R5cGUsXCJwb3B1cFRlbXBsYXRlXCIsdm9pZCAwKSxlKFtwKHtyZWFkT25seTohMH0pXSxFLnByb3RvdHlwZSxcImRlZmF1bHRQb3B1cFRlbXBsYXRlXCIsbnVsbCksZShbcCh7cmVhZE9ubHk6ITAsdHlwZTpbSV19KV0sRS5wcm90b3R5cGUsXCJmaWVsZHNcIix2b2lkIDApLGUoW3Aoe3JlYWRPbmx5OiEwLHR5cGU6W0ldfSldLEUucHJvdG90eXBlLFwicmFzdGVyRmllbGRzXCIsbnVsbCksRT1lKFtkKFwiZXNyaS5sYXllcnMuSW1hZ2VyeVRpbGVMYXllclwiKV0sRSk7Y29uc3QgQT1FO2V4cG9ydHtBIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnR7cmFzdGVyUmVuZGVyZXJUeXBlcyBhcyB0LHdlYnNjZW5lUmFzdGVyUmVuZGVyZXJUeXBlcyBhcyByLHJlYWQgYXMgaX1mcm9tXCIuLi8uLi9yYXN0ZXJSZW5kZXJlcnMuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtlbnN1cmVDbGFzcyBhcyBsfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7cmVhZGVyIGFzIHV9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9yZWFkZXIuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgY31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2dldEluZm8gYXMgZH1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtzYW5pdGl6ZVVybCBhcyBtfWZyb21cIi4uL3N1cHBvcnQvYXJjZ2lzTGF5ZXJVcmwuanNcIjtpbXBvcnR7dXJsIGFzIGh9ZnJvbVwiLi4vc3VwcG9ydC9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vc3VwcG9ydC9EaW1lbnNpb25hbERlZmluaXRpb24uanNcIjtpbXBvcnQgZiBmcm9tXCIuLi9zdXBwb3J0L011bHRpZGltZW5zaW9uYWxTdWJzZXQuanNcIjtpbXBvcnQgeSBmcm9tXCIuLi9zdXBwb3J0L1Jhc3RlckZ1bmN0aW9uLmpzXCI7aW1wb3J0IGIgZnJvbVwiLi4vc3VwcG9ydC9SYXN0ZXJKb2JIYW5kbGVyLmpzXCI7aW1wb3J0IGcgZnJvbVwiLi4vc3VwcG9ydC9UaWxlSW5mby5qc1wiO2ltcG9ydCBGIGZyb21cIi4uL3N1cHBvcnQvcmFzdGVyRGF0YXNldHMvRnVuY3Rpb25SYXN0ZXIuanNcIjtpbXBvcnR7Z2V0RGVmYXVsdE11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uIGFzIEosaGFzRXhjbHVkZWRWYXJpYWJsZU9yRGltZW5zaW9uIGFzIFIsZ2V0RGVmYXVsdFZhcmlhYmxJbmZvIGFzIF8saXNNdWx0aVNsaWNlT3JSYW5nZURlZmluaXRpb24gYXMgSSxnZXRTdWJzZXRWYXJpYWJsZXNGcm9tTWRJbmZvIGFzIFN9ZnJvbVwiLi4vc3VwcG9ydC9yYXN0ZXJEYXRhc2V0cy9tdWx0aWRpbWVuc2lvbmFsVXRpbHMuanNcIjtpbXBvcnR7c25hcFRvUmFzdGVyIGFzIHgsY2xpcCBhcyB3fWZyb21cIi4uL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL2NsaXBVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgdn1mcm9tXCIuLi9zdXBwb3J0L3Jhc3RlckZ1bmN0aW9ucy9yYXN0ZXJGdW5jdGlvbkhlbHBlci5qc1wiO2ltcG9ydHtsb2FkIGFzIGoscHJvamVjdEV4dGVudCBhcyBELHByb2plY3RQb2x5Z29uIGFzIEh9ZnJvbVwiLi4vc3VwcG9ydC9yYXN0ZXJGdW5jdGlvbnMvcmFzdGVyUHJvamVjdGlvbkhlbHBlci5qc1wiO2ltcG9ydHtjb21wdXRlU3RhdGlzdGljc0hpc3RvZ3JhbXMgYXMgVH1mcm9tXCIuLi9zdXBwb3J0L3Jhc3RlckZ1bmN0aW9ucy9zdHJldGNoVXRpbHMuanNcIjtpbXBvcnR7Y29udmVydFZlY3RvckZpZWxkRGF0YSBhcyBOfWZyb21cIi4uL3N1cHBvcnQvcmFzdGVyRnVuY3Rpb25zL3ZlY3RvckZpZWxkVXRpbHMuanNcIjtpbXBvcnR7bm9ybWFsaXplUmVuZGVyZXJKU09OIGFzIE8sZ2V0VmFyaWFibGVSYXN0ZXJJbmZvIGFzIHosZ2V0RGVmYXVsdEludGVycG9sYXRpb24gYXMgUCxnZXREZWZhdWx0QmFuZENvbWJpbmF0aW9uIGFzIEMsY3JlYXRlRGVmYXVsdFJlbmRlcmVyIGFzIEV9ZnJvbVwiLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvcmFzdGVyUmVuZGVyZXJIZWxwZXIuanNcIjtpbXBvcnQgQSBmcm9tXCIuLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9SYXN0ZXJTeW1ib2xpemVyLmpzXCI7aW1wb3J0IE0gZnJvbVwiLi4vLi4vcmVzdC9zdXBwb3J0L0ltYWdlSGlzdG9ncmFtUGFyYW1ldGVycy5qc1wiO2ltcG9ydHtjcmVhdGVGbG93TWVzaCBhcyBVfWZyb21cIi4uLy4uL3ZpZXdzLzJkL2VuZ2luZS9mbG93L2RhdGFVdGlscy5qc1wiO2ltcG9ydCBrIGZyb21cIi4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtpbXBvcnQgcSBmcm9tXCIuLi8uLi9nZW9tZXRyeS9Qb2ludC5qc1wiO2NvbnN0IEI9by5nZXRMb2dnZXIoXCJlc3JpLmxheWVycy5taXhpbnMuSW1hZ2VyeVRpbGVNaXhpblwiKSxWPW89PntsZXQgVj1jbGFzcyBleHRlbmRzIG97Y29uc3RydWN0b3IoLi4uZSl7c3VwZXIoLi4uZSksdGhpcy5faXNDb25zdHJ1Y3RlZEZyb21GdW5jdGlvblJhc3Rlcj0hMSx0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyPXtpbnN0YW5jZTpudWxsLHJlZkNvdW50OjAsY29ubmVjdGlvblByb21pc2U6bnVsbH0sdGhpcy5iYW5kSWRzPW51bGwsdGhpcy5jb3B5cmlnaHQ9bnVsbCx0aGlzLmludGVycG9sYXRpb249XCJuZWFyZXN0XCIsdGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0PW51bGwsdGhpcy5yYXN0ZXI9bnVsbCx0aGlzLnJhc3RlckluZm89bnVsbCx0aGlzLnNvdXJjZUpTT049bnVsbCx0aGlzLnNwYXRpYWxSZWZlcmVuY2U9bnVsbCx0aGlzLnN5bWJvbGl6ZXI9bnVsbCx0aGlzLl9pc0NvbnN0cnVjdGVkRnJvbUZ1bmN0aW9uUmFzdGVyPVwiRnVuY3Rpb25cIj09PWVbMF0/LnJhc3Rlcj8uZGF0YXNldEZvcm1hdH1nZXQgZnVsbEV4dGVudCgpe3JldHVybiB0aGlzLnJhc3RlckluZm8/LmV4dGVudH1zZXQgbXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24oZSl7dGhpcy5fc2V0KFwibXVsdGlkaW1lbnNpb25hbERlZmluaXRpb25cIixlKSx0aGlzLnVwZGF0ZVJlbmRlcmVyKCl9c2V0IHJhc3RlckZ1bmN0aW9uKGUpe1wibm9uZVwiPT09ZT8uZnVuY3Rpb25OYW1lPy50b0xvd2VyQ2FzZSgpJiYoZT12b2lkIDApLHRoaXMuX3NldChcInJhc3RlckZ1bmN0aW9uXCIsZSksdGhpcy51cGRhdGVSYXN0ZXJGdW5jdGlvbigpfXNldCB1cmwoZSl7dGhpcy5fc2V0KFwidXJsXCIsbShlLEIpKX1zZXQgcmVuZGVyZXIoZSl7bnVsbD09ZSYmbnVsbD09dGhpcy5yYXN0ZXJGdW5jdGlvbj90aGlzLl9jb25maWdEZWZhdWx0UmVuZGVyZXIoXCJvdmVycmlkZVwiKToodGhpcy5fc2V0KFwicmVuZGVyZXJcIixlKSx0aGlzLnVwZGF0ZVJlbmRlcmVyKCkpfXJlYWRSZW5kZXJlcihlLHQscil7Y29uc3Qgbj10Py5sYXllckRlZmluaXRpb24/LmRyYXdpbmdJbmZvPy5yZW5kZXJlcjtyZXR1cm4gaShuLHIpfHx2b2lkIDB9YXN5bmMgY29udmVydFZlY3RvckZpZWxkRGF0YShlLHQpe2lmKG51bGw9PWV8fCF0aGlzLnJhc3RlckluZm8pcmV0dXJuIG51bGw7Y29uc3Qgcj10aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlLGk9dGhpcy5yYXN0ZXJJbmZvLmRhdGFUeXBlO3JldHVybiByP3IuY29udmVydFZlY3RvckZpZWxkRGF0YSh7cGl4ZWxCbG9jazplLGRhdGFUeXBlOml9LHQpOk4oZSxpKX1hc3luYyBjb21wdXRlU3RhdGlzdGljc0hpc3RvZ3JhbXMoZSx0KXtlPWwoTSxlKS5jbG9uZSgpO2NvbnN0e3Jhc3RlckluZm86cn09dGhpcyx7Z2VvbWV0cnk6aX09ZTtpZihudWxsPT1pKXRocm93IG5ldyBzKFwiaW1hZ2VyeS10aWxlLW1peGluOmNvbXB1dGUtc3RhdGlzdGljcy1oaXN0b2dyYW1zXCIsXCJnZW9tZXRyeSBtdXN0IGJlIHNwZWNpZmllZFwiKTtsZXQgbj1pO2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6b309cjtpLnNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKG8pfHwoYXdhaXQgaigpLG49XCJleHRlbnRcIj09PWkudHlwZT9EKGksbyk6SChpLG8pKTtjb25zdCBhPWUucGl4ZWxTaXplPz9uZXcgcSh7eDpyLnBpeGVsU2l6ZS54LHk6ci5waXhlbFNpemUueSxzcGF0aWFsUmVmZXJlbmNlOm99KSx7ZXh0ZW50OnUsd2lkdGg6YyxoZWlnaHQ6ZH09eChyLG4sYSksbT1hd2FpdCB0aGlzLmZldGNoUGl4ZWxzKHUsYyxkLHsuLi50LGludGVycG9sYXRpb246XCJuZWFyZXN0XCJ9KTtpZihudWxsPT1tLnBpeGVsQmxvY2spdGhyb3cgbmV3IHMoXCJpbWFnZXJ5LXRpbGUtbWl4aW46Y29tcHV0ZS1zdGF0aXN0aWNzLWhpc3RvZ3JhbXNcIixcImZhaWxlZCB0byBmZXRjaCBwaXhlbHNcIik7Y29uc3QgaD1hd2FpdCB3KG0ucGl4ZWxCbG9jayx1LG4pLHA9dGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZTtyZXR1cm4gcD9wLmNvbXB1dGVTdGF0aXN0aWNzSGlzdG9ncmFtcyh7cGl4ZWxCbG9jazpofSx0KTpUKGgpfWFzeW5jIGNyZWF0ZUZsb3dNZXNoKGUsdCl7Y29uc3Qgcj10aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlO3JldHVybiByP3IuY3JlYXRlRmxvd01lc2goZSx0KTpVKGUubWVzaFR5cGUsZS5zaW11bGF0aW9uU2V0dGluZ3MsZS5mbG93RGF0YSxudWxsIT10LnNpZ25hbD90LnNpZ25hbDoobmV3IEFib3J0Q29udHJvbGxlcikuc2lnbmFsKX1ub3JtYWxpemVSYXN0ZXJGZXRjaE9wdGlvbnMoZSl7Y29uc3R7bXVsdGlkaW1lbnNpb25hbEluZm86dH09dGhpcy5yYXN0ZXJJbmZvPz97fTtpZihudWxsPT10KXJldHVybiBlO2xldCByPWUubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb258fHRoaXMubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb247cj8ubGVuZ3RofHwocj1KKHRoaXMucmFzdGVyLnJhc3RlckluZm8se211bHRpZGltZW5zaW9uYWxTdWJzZXQ6dGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0fSkpO2NvbnN0IGk9ZS50aW1lRXh0ZW50fHx0aGlzLnRpbWVFeHRlbnQ7aWYobnVsbCE9ciYmbnVsbCE9aSYmKG51bGwhPWkuc3RhcnR8fG51bGwhPWkuZW5kKSl7cj1yLm1hcCgoZT0+ZS5jbG9uZSgpKSk7Y29uc3Qgbj10LnZhcmlhYmxlcy5maW5kKCgoe25hbWU6ZX0pPT5lPT09clswXS52YXJpYWJsZU5hbWUpKT8uZGltZW5zaW9ucz8uZmluZCgoKHtuYW1lOmV9KT0+XCJTdGRUaW1lXCI9PT1lKSkscz1yLmZpbmQoKCh7ZGltZW5zaW9uTmFtZTplfSk9PlwiU3RkVGltZVwiPT09ZSkpO2lmKCFufHwhcylyZXR1cm57Li4uZSxtdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjpudWxsfTtjb25zdHtzdGFydDpvLGVuZDphfT1pLGw9bnVsbD09bz9udWxsOm8uZ2V0VGltZSgpLHU9bnVsbD09YT9udWxsOmEuZ2V0VGltZSgpLGM9bD8/dSxkPXU/P2w7aWYobnVsbCE9bi52YWx1ZXMpe2NvbnN0IGU9bi52YWx1ZXMuZmlsdGVyKChlPT57aWYoQXJyYXkuaXNBcnJheShlKSl7aWYoYz09PWQpcmV0dXJuIGVbMF08PWMmJmVbMV0+PWM7Y29uc3QgdD1lWzBdPD1jJiZlWzFdPmN8fGVbMF08ZCYmZVsxXT49ZCxyPWVbMF0+PWMmJmVbMV08PWR8fGVbMF08YyYmZVsxXT5kO3JldHVybiB0fHxyfXJldHVybiBjPT09ZD9lPT09YzplPj1jJiZlPD1kfSkpO2lmKGUubGVuZ3RoKXtjb25zdCB0PWUuc29ydCgoKGUsdCk9Pntjb25zdCByPUFycmF5LmlzQXJyYXkoZSk/ZVswXTplLGk9QXJyYXkuaXNBcnJheShlKT9lWzFdOmUsbj1BcnJheS5pc0FycmF5KHQpP3RbMF06dCxzPUFycmF5LmlzQXJyYXkodCk/dFsxXTp0O2lmKGM9PT1kKXJldHVybiByLW47cmV0dXJuIE1hdGguYWJzKGktZCktTWF0aC5hYnMocy1kKX0pKVswXTtzLnZhbHVlcz1bdF19ZWxzZSByPW51bGx9ZWxzZSBpZihuLmhhc1JlZ3VsYXJJbnRlcnZhbHMmJm4uZXh0ZW50KXtjb25zdFtlLHRdPW4uZXh0ZW50O2M+dHx8ZDxlP3I9bnVsbDpzLnZhbHVlcz1jPT09ZD9bY106W01hdGgubWF4KGUsYyksTWF0aC5taW4odCxkKV19fXJldHVybiBudWxsIT1yJiZSKHIsdGhpcy5tdWx0aWRpbWVuc2lvbmFsU3Vic2V0KT97Li4uZSxtdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjpudWxsfTp7Li4uZSxtdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjpyfX1hc3luYyB1cGRhdGVSYXN0ZXJGdW5jdGlvbigpe2lmKCF0aGlzLmxvYWRlZHx8XCJpbWFnZXJ5LXRpbGVcIiE9PXRoaXMudHlwZXx8IXRoaXMucmFzdGVyRnVuY3Rpb24mJiF0aGlzLl9jYWNoZWRSYXN0ZXJGdW5jdGlvbkpzb258fEpTT04uc3RyaW5naWZ5KHRoaXMucmFzdGVyRnVuY3Rpb24pPT09SlNPTi5zdHJpbmdpZnkodGhpcy5fY2FjaGVkUmFzdGVyRnVuY3Rpb25Kc29uKSlyZXR1cm47aWYodGhpcy5faXNDb25zdHJ1Y3RlZEZyb21GdW5jdGlvblJhc3RlciYmXCJGdW5jdGlvblwiPT09dGhpcy5yYXN0ZXIuZGF0YXNldEZvcm1hdCl7Y29uc3QgZT10aGlzLnJhc3Rlci5yYXN0ZXJGdW5jdGlvbi50b0pTT04oKTtyZXR1cm4hdGhpcy5yYXN0ZXJGdW5jdGlvbiYmZSYmdGhpcy5fc2V0KFwicmFzdGVyRnVuY3Rpb25cIix5LmZyb21KU09OKGUpKSx2b2lkKHRoaXMuX2NhY2hlZFJhc3RlckZ1bmN0aW9uSnNvbj10aGlzLnJhc3RlckZ1bmN0aW9uPy50b0pTT04oKSl9bGV0IGUsdD10aGlzLnJhc3RlcixyPSExO1wiRnVuY3Rpb25cIj09PXQuZGF0YXNldEZvcm1hdD8oZT10LnByaW1hcnlSYXN0ZXJzLnJhc3RlcnMsdD1lWzBdLHI9ITApOmU9W3RdO2NvbnN0e3Jhc3RlckZ1bmN0aW9uOml9PXRoaXM7aWYoaSl7Y29uc3Qgcj17cmFzdGVyOnR9O2UubGVuZ3RoPjEmJmUuZm9yRWFjaCgoZT0+cltlLnVybF09ZSkpO2NvbnN0IG49dihpLmZ1bmN0aW9uRGVmaW5pdGlvbj8udG9KU09OKCk/P2kudG9KU09OKCkscikscz1uZXcgRih7cmFzdGVyRnVuY3Rpb246bn0pO3MucmFzdGVySm9iSGFuZGxlcj10aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlLGF3YWl0IHMub3BlbigpLHRoaXMuX2NhY2hlZFJhc3RlckZ1bmN0aW9uSnNvbj10aGlzLnJhc3RlckZ1bmN0aW9uPy50b0pTT04oKSx0aGlzLnJhc3Rlcj1zfWVsc2UgdGhpcy5yYXN0ZXI9dCx0aGlzLl9jYWNoZWRSYXN0ZXJGdW5jdGlvbkpzb249bnVsbCxhd2FpdCB0LndoZW4oKTtpZih0aGlzLl9jYWNoZWRSZW5kZXJlckpzb249bnVsbCwhciYmIWkpcmV0dXJuO2NvbnN0e2JhbmRJZHM6bn09dGhpcyx7YmFuZENvdW50OnN9PXRoaXMucmFzdGVyLnJhc3RlckluZm8sbz1uPy5sZW5ndGg/bi5zb21lKChlPT5lPj1zKSk6cz49MztuJiYob3x8dGhpcy5yZW5kZXJlciYmXCJyYXN0ZXItc3RyZXRjaFwiIT09dGhpcy5yZW5kZXJlci50eXBlKSYmdGhpcy5fc2V0KFwiYmFuZElkc1wiLG51bGwpLHRoaXMuX2NvbmZpZ0RlZmF1bHRSZW5kZXJlcihcImF1dG9cIil9YXN5bmMgdXBkYXRlUmVuZGVyZXIoKXtjb25zdHtsb2FkZWQ6ZSxzeW1ib2xpemVyOnR9PXRoaXM7aWYoIWV8fCF0fHwhdGhpcy5yZW5kZXJlcilyZXR1cm47Y29uc3R7cmFzdGVySW5mbzpyfT10aGlzLnJhc3RlcixpPV8ocix7bXVsdGlkaW1lbnNpb25hbERlZmluaXRpb246dGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbixtdWx0aWRpbWVuc2lvbmFsU3Vic2V0OnRoaXMubXVsdGlkaW1lbnNpb25hbFN1YnNldH0pLG49aT8ubmFtZSxzPU8oey4uLnRoaXMucmVuZGVyZXIudG9KU09OKCksdmFyaWFibGVOYW1lOm59KTtpZihKU09OLnN0cmluZ2lmeSh0aGlzLl9jYWNoZWRSZW5kZXJlckpzb24pPT09SlNPTi5zdHJpbmdpZnkocykpcmV0dXJuO2NvbnN0IG89dGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZTtvJiYodC5yYXN0ZXJJbmZvPXoocixuKSx0LnJlbmRlcmVySlNPTj1zLHQuYmluZCgpLGF3YWl0IG8udXBkYXRlU3ltYm9saXplcih0KSx0aGlzLl9jYWNoZWRSZW5kZXJlckpzb249cyl9YXN5bmMgYXBwbHlSZW5kZXJlcihlLHQpe2NvbnN0IHI9ZT8ucGl4ZWxCbG9jaztpZighKG51bGwhPXImJnIucGl4ZWxzJiZyLnBpeGVscy5sZW5ndGg+MCkpcmV0dXJuIG51bGw7bGV0IGk7YXdhaXQgdGhpcy51cGRhdGVSZW5kZXJlcigpO2NvbnN0IG49dGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZSxzPXRoaXMuYmFuZElkcz8/W107cmV0dXJuIGk9bj9hd2FpdCBuLnN5bWJvbGl6ZSh7Li4uZSxzaW1wbGVTdHJldGNoUGFyYW1zOnQsYmFuZElkczpzfSk6dGhpcy5zeW1ib2xpemVyLnN5bWJvbGl6ZSh7Li4uZSxzaW1wbGVTdHJldGNoUGFyYW1zOnQsYmFuZElkczpzfSksaX1nZXRUaWxlVXJsKGUsdCxyKXtyZXR1cm5cIlJhc3RlclRpbGVTZXJ2ZXJcIj09PXRoaXMucmFzdGVyLmRhdGFzZXRGb3JtYXQ/YCR7dGhpcy51cmx9L3RpbGUvJHtlfS8ke3R9LyR7cn1gOlwiXCJ9Z2V0Q29tcGF0aWJsZVRpbGVJbmZvKGUsdCxyPSExKXtpZighdGhpcy5sb2FkZWR8fG51bGw9PXQpcmV0dXJuIG51bGw7aWYociYmZS5lcXVhbHModGhpcy5zcGF0aWFsUmVmZXJlbmNlKSlyZXR1cm4gdGhpcy50aWxlSW5mbztjb25zdCBpPWQoZSk7cmV0dXJuIGcuY3JlYXRlKHtzaXplOjI1NixzcGF0aWFsUmVmZXJlbmNlOmUsb3JpZ2luOmk/e3g6aS5vcmlnaW5bMF0seTppLm9yaWdpblsxXX06e3g6dC54bWluLHk6dC55bWF4fX0pfWdldENvbXBhdGlibGVGdWxsRXh0ZW50KGUpe3JldHVybiB0aGlzLmxvYWRlZD8odGhpcy5fY29tcGF0aWJsZUZ1bGxFeHRlbnQmJnRoaXMuX2NvbXBhdGlibGVGdWxsRXh0ZW50LnNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKGUpfHwodGhpcy5fY29tcGF0aWJsZUZ1bGxFeHRlbnQ9dGhpcy5yYXN0ZXIuY29tcHV0ZUV4dGVudChlKSksdGhpcy5fY29tcGF0aWJsZUZ1bGxFeHRlbnQpOm51bGx9YXN5bmMgZmV0Y2hUaWxlKGUsdCxyLGk9e30pe2lmKEwodGhpcyksaS5yZXF1ZXN0QXNJbWFnZUVsZW1lbnQpe2NvbnN0IHM9dGhpcy5nZXRUaWxlVXJsKGUsdCxyKTtyZXR1cm4gbihzLHtyZXNwb25zZVR5cGU6XCJpbWFnZVwiLHF1ZXJ5OnsuLi50aGlzLnJlZnJlc2hQYXJhbWV0ZXJzLC4uLnRoaXMucmFzdGVyLmlvQ29uZmlnLmN1c3RvbUZldGNoUGFyYW1ldGVyc30sc2lnbmFsOmkuc2lnbmFsfSkudGhlbigoZT0+ZS5kYXRhKSl9Y29uc3R7cmFzdGVySW5mbzpzfT10aGlzO2lmKG51bGwhPXMubXVsdGlkaW1lbnNpb25hbEluZm8mJm51bGw9PShpPXRoaXMubm9ybWFsaXplUmFzdGVyRmV0Y2hPcHRpb25zKGkpKS5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbil7Y29uc3Qgbj1pLnRpbGVJbmZvfHxzLnN0b3JhZ2VJbmZvLnRpbGVJbmZvO3JldHVybntleHRlbnQ6dGhpcy5yYXN0ZXIuZ2V0VGlsZUV4dGVudEZyb21UaWxlSW5mbyhlLHQscixuKSxwaXhlbEJsb2NrOm51bGx9fXJldHVybiBhd2FpdCB0aGlzLl9pbml0Sm9iSGFuZGxlcigpLGF3YWl0IHRoaXMudXBkYXRlUmFzdGVyRnVuY3Rpb24oKSxcInJhc3Rlci1zaGFkZWQtcmVsaWVmXCI9PT10aGlzLnJlbmRlcmVyPy50eXBlJiYoaT17Li4uaSxidWZmZXI6e2NvbHM6MSxyb3dzOjF9fSksdGhpcy5yYXN0ZXIuZmV0Y2hUaWxlKGUsdCxyLGkpfWFzeW5jIGZldGNoUGl4ZWxzKGUsdCxyLGk9e30pe3JldHVybiBudWxsIT10aGlzLnJhc3RlckluZm8ubXVsdGlkaW1lbnNpb25hbEluZm8mJm51bGw9PShpPXRoaXMubm9ybWFsaXplUmFzdGVyRmV0Y2hPcHRpb25zKGkpKS5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbj97ZXh0ZW50OmUscGl4ZWxCbG9jazpudWxsfTooYXdhaXQgdGhpcy5faW5pdEpvYkhhbmRsZXIoKSxhd2FpdCB0aGlzLnVwZGF0ZVJhc3RlckZ1bmN0aW9uKCksdD1NYXRoLnJvdW5kKHQpLHI9TWF0aC5yb3VuZChyKSx0aGlzLnJhc3Rlci5mZXRjaFBpeGVscyhlLHQscixpKSl9YXN5bmMgaWRlbnRpZnkoZSx0PXt9KXtjb25zdHtyYXN0ZXI6cixyYXN0ZXJJbmZvOml9PXRoaXM7aWYobnVsbCE9aS5tdWx0aWRpbWVuc2lvbmFsSW5mbyl7aWYoIShpLmhhc011bHRpZGltZW5zaW9uYWxUcmFuc3Bvc2UmJiEhKEkodC5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbil8fHQudHJhbnNwb3NlZFZhcmlhYmxlTmFtZXx8dC50aW1lRXh0ZW50KSkmJm51bGw9PSh0PXRoaXMubm9ybWFsaXplUmFzdGVyRmV0Y2hPcHRpb25zKHQpKS5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbilyZXR1cm57bG9jYXRpb246ZSx2YWx1ZTpudWxsfX1jb25zdCBuPXRoaXMubXVsdGlkaW1lbnNpb25hbFN1YnNldD8uYXJlYU9mSW50ZXJlc3Q7aWYobiYmIW4uY29udGFpbnMoZSkpdGhyb3cgbmV3IHMoXCJpbWFnZXJ5LXRpbGUtbWl4aW46aWRlbnRpZnlcIixcInRoZSByZXF1ZXN0IGNhbm5vdCBiZSBmdWxmaWxsZWQgd2hlbiBmYWxsaW5nIG91dHNpZGUgb2YgdGhlIG11bHRpZGltZW5zaW9uYWwgc3Vic2V0XCIpO3JldHVybiByLmlkZW50aWZ5KGUsdCl9aW5jcmVhc2VSYXN0ZXJKb2JIYW5kbGVyVXNhZ2UoKXt0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLnJlZkNvdW50Kyt9ZGVjcmVhc2VSYXN0ZXJKb2JIYW5kbGVyVXNhZ2UoKXt0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLnJlZkNvdW50LS0sdGhpcy5fcmFzdGVySm9iSGFuZGxlci5yZWZDb3VudDw9MCYmdGhpcy5fc2h1dGRvd25Kb2JIYW5kbGVyKCl9aGFzU3RhbmRhcmRUaW1lKCl7Y29uc3QgZT10aGlzLnJhc3RlckluZm8/Lm11bHRpZGltZW5zaW9uYWxJbmZvO2lmKG51bGw9PWV8fFwic3RhbmRhcmQtdGltZVwiIT09dGhpcy5yYXN0ZXJJbmZvPy5kYXRhVHlwZSlyZXR1cm4hMTtjb25zdCB0PXRoaXMubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24scj10Py5bMF0/LnZhcmlhYmxlTmFtZTtyZXR1cm4gZS52YXJpYWJsZXMuc29tZSgoZT0+ZS5uYW1lPT09ciYmKCF0Py5bMF0uZGltZW5zaW9uTmFtZXx8ZS5kaW1lbnNpb25zLnNvbWUoKGU9PlwiU3RkVGltZVwiPT09ZS5uYW1lKSkpKSl9Z2V0U3RhbmRhcmRUaW1lVmFsdWUoZSl7cmV0dXJuIG5ldyBEYXRlKDI0KihlLTI1NTY5KSozNjAwKjFlMykudG9TdHJpbmcoKX1nZXRNdWx0aWRpbWVuc2lvbmFsU3Vic2V0VmFyaWFibGVzKGUpe2NvbnN0IHQ9ZT8/dGhpcy5yYXN0ZXJJbmZvPy5tdWx0aWRpbWVuc2lvbmFsSW5mbztyZXR1cm4gUyh0aGlzLm11bHRpZGltZW5zaW9uYWxTdWJzZXQsdCl9X2NvbmZpZ0RlZmF1bHRTZXR0aW5ncygpe3RoaXMuX2NvbmZpZ0RlZmF1bHRJbnRlcnBvbGF0aW9uKCksdGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbnx8KHRoaXMubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb249Sih0aGlzLnJhc3Rlci5yYXN0ZXJJbmZvLHttdWx0aWRpbWVuc2lvbmFsU3Vic2V0OnRoaXMubXVsdGlkaW1lbnNpb25hbFN1YnNldH0pKSx0aGlzLnJhc3RlckZ1bmN0aW9uJiZcIkZ1bmN0aW9uXCI9PT10aGlzLnJhc3Rlci5kYXRhc2V0Rm9ybWF0JiYodGhpcy5fY2FjaGVkUmFzdGVyRnVuY3Rpb25Kc29uPXRoaXMucmFzdGVyRnVuY3Rpb24udG9KU09OKCkpLHRoaXMuX2NvbmZpZ0RlZmF1bHRSZW5kZXJlcigpfV9pbml0Sm9iSGFuZGxlcigpe2lmKG51bGwhPXRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuY29ubmVjdGlvblByb21pc2UpcmV0dXJuIHRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuY29ubmVjdGlvblByb21pc2U7Y29uc3QgZT1uZXcgYjtyZXR1cm4gdGhpcy5fcmFzdGVySm9iSGFuZGxlci5jb25uZWN0aW9uUHJvbWlzZT1lLmluaXRpYWxpemUoKS50aGVuKChhc3luYygpPT57TCh0aGlzKSx0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlPWUsdGhpcy5yYXN0ZXIucmFzdGVySm9iSGFuZGxlcj1lLFwiRnVuY3Rpb25cIj09PXRoaXMucmFzdGVyLmRhdGFzZXRGb3JtYXQmJnRoaXMucmFzdGVyLnN5bmNKb2JIYW5kbGVyKCksdGhpcy5yYXN0ZXJGdW5jdGlvbiYmYXdhaXQgdGhpcy51cGRhdGVSYXN0ZXJGdW5jdGlvbigpLmNhdGNoKCgoKT0+e30pKSx0aGlzLnJlbmRlcmVyJiZ0aGlzLnVwZGF0ZVJlbmRlcmVyKCl9KSkuY2F0Y2goKCgpPT57fSkpLHRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuY29ubmVjdGlvblByb21pc2V9X3NodXRkb3duSm9iSGFuZGxlcigpe3RoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2UmJnRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2UuZGVzdHJveSgpLHRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2U9bnVsbCx0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmNvbm5lY3Rpb25Qcm9taXNlPW51bGwsdGhpcy5fcmFzdGVySm9iSGFuZGxlci5yZWZDb3VudD0wLHRoaXMuX2NhY2hlZFJlbmRlcmVySnNvbj1udWxsLHRoaXMucmFzdGVyJiYodGhpcy5yYXN0ZXIucmFzdGVySm9iSGFuZGxlcj1udWxsKX1fY29uZmlnRGVmYXVsdEludGVycG9sYXRpb24oKXtpZihudWxsPT10aGlzLmludGVycG9sYXRpb24pe0wodGhpcyk7Y29uc3R7cmFzdGVyOmV9PXRoaXMsdD1QKGUucmFzdGVySW5mbyxlLnRpbGVUeXBlLHRoaXMuc291cmNlSlNPTj8uZGVmYXVsdFJlc2FtcGxpbmdNZXRob2QpO3RoaXMuX3NldChcImludGVycG9sYXRpb25cIix0KX19X2NvbmZpZ0RlZmF1bHRSZW5kZXJlcihlPVwibm9cIil7TCh0aGlzKTtjb25zdHtyYXN0ZXJJbmZvOnR9PXRoaXMucmFzdGVyOyF0aGlzLmJhbmRJZHMmJnQuYmFuZENvdW50PjEmJih0aGlzLmJhbmRJZHM9Qyh0KSk7Y29uc3Qgcj1fKHQse211bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uOnRoaXMubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24sbXVsdGlkaW1lbnNpb25hbFN1YnNldDp0aGlzLm11bHRpZGltZW5zaW9uYWxTdWJzZXR9KSxpPXI/Lm5hbWU7aWYoIXRoaXMucmVuZGVyZXJ8fFwib3ZlcnJpZGVcIj09PWUpe2NvbnN0IGU9RSh0LHtiYW5kSWRzOnRoaXMuYmFuZElkcyx2YXJpYWJsZU5hbWU6aX0pLHI9dC5zdGF0aXN0aWNzLG49ciYmci5sZW5ndGg+MD9yWzBdOm51bGwscz1uPy5tYXg/PzAsbz1uPy5taW4/PzA7XCJXQ1NTZXJ2ZXJcIj09PXRoaXMucmFzdGVyLmRhdGFzZXRGb3JtYXQmJlwicmFzdGVyLXN0cmV0Y2hcIj09PWUudHlwZSYmKHM+MWUyNHx8bzwtMWUyNCkmJihlLmR5bmFtaWNSYW5nZUFkanVzdG1lbnQ9ITAsZS5zdGF0aXN0aWNzPW51bGwsXCJub25lXCI9PT1lLnN0cmV0Y2hUeXBlJiYoZS5zdHJldGNoVHlwZT1cIm1pbi1tYXhcIikpLHRoaXMucmVuZGVyZXI9ZX1jb25zdCBuPU8oey4uLnRoaXMucmVuZGVyZXIudG9KU09OKCksdmFyaWFibGVOYW1lOml9KSxzPXoodCxpKTt0aGlzLnN5bWJvbGl6ZXI/KHRoaXMuc3ltYm9saXplci5yZW5kZXJlckpTT049bix0aGlzLnN5bWJvbGl6ZXIucmFzdGVySW5mbz1zKTp0aGlzLnN5bWJvbGl6ZXI9bmV3IEEoe3JlbmRlcmVySlNPTjpuLHJhc3RlckluZm86c30pO2NvbnN0IG89dGhpcy5zeW1ib2xpemVyLmJpbmQoKTtpZihvLnN1Y2Nlc3Mpe2lmKFwiYXV0b1wiPT09ZSl7Y29uc3R7Y29sb3JtYXA6ZX09dGhpcy5yYXN0ZXIucmFzdGVySW5mbyx0PXRoaXMucmVuZGVyZXI7aWYobnVsbCE9ZSYmXCJyYXN0ZXItY29sb3JtYXBcIj09PXQudHlwZSl7Y29uc3QgZT1FKHRoaXMucmFzdGVyLnJhc3RlckluZm8pO0pTT04uc3RyaW5naWZ5KGUpIT09SlNPTi5zdHJpbmdpZnkodCkmJnRoaXMuX2NvbmZpZ0RlZmF1bHRSZW5kZXJlcihcIm92ZXJyaWRlXCIpfWVsc2UgaWYoXCJyYXN0ZXItc3RyZXRjaFwiPT09dC50eXBlKXtjb25zdCBlPXRoaXMuYmFuZElkcz8ubGVuZ3RoLHI9dC5zdGF0aXN0aWNzPy5sZW5ndGg7IXQuZHluYW1pY1JhbmdlQWRqdXN0bWVudCYmciYmZSYmciE9PWUmJnRoaXMuX2NvbmZpZ0RlZmF1bHRSZW5kZXJlcihcIm92ZXJyaWRlXCIpfX19ZWxzZSBCLndhcm4oXCJpbWFnZXJ5LXRpbGUtbWl4aW5cIixvLmVycm9yfHxcIlRoZSBnaXZlbiByZW5kZXJlciBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBsYXllci5cIiksXCJhdXRvXCI9PT1lJiZ0aGlzLl9jb25maWdEZWZhdWx0UmVuZGVyZXIoXCJvdmVycmlkZVwiKX19O2Z1bmN0aW9uIEwoZSl7aWYoIWUucmFzdGVyfHwhZS5yYXN0ZXJJbmZvKXRocm93IG5ldyBzKFwiaW1hZ2VyeS10aWxlXCIsXCJubyByYXN0ZXJcIil9cmV0dXJuIGUoW2Eoe2Nsb25hYmxlOiExfSldLFYucHJvdG90eXBlLFwiX2NhY2hlZFJlbmRlcmVySnNvblwiLHZvaWQgMCksZShbYSh7Y2xvbmFibGU6ITF9KV0sVi5wcm90b3R5cGUsXCJfY2FjaGVkUmFzdGVyRnVuY3Rpb25Kc29uXCIsdm9pZCAwKSxlKFthKHtjbG9uYWJsZTohMX0pXSxWLnByb3RvdHlwZSxcIl9jb21wYXRpYmxlRnVsbEV4dGVudFwiLHZvaWQgMCksZShbYSh7Y2xvbmFibGU6ITF9KV0sVi5wcm90b3R5cGUsXCJfaXNDb25zdHJ1Y3RlZEZyb21GdW5jdGlvblJhc3RlclwiLHZvaWQgMCksZShbYSh7Y2xvbmFibGU6ITF9KV0sVi5wcm90b3R5cGUsXCJfcmFzdGVySm9iSGFuZGxlclwiLHZvaWQgMCksZShbYSgpXSxWLnByb3RvdHlwZSxcImJhbmRJZHNcIix2b2lkIDApLGUoW2Eoe2pzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e3NvdXJjZTpcImNvcHlyaWdodFRleHRcIn19fX19KV0sVi5wcm90b3R5cGUsXCJjb3B5cmlnaHRcIix2b2lkIDApLGUoW2Eoe2pzb246e3JlYWQ6ITF9fSldLFYucHJvdG90eXBlLFwiZnVsbEV4dGVudFwiLG51bGwpLGUoW2EoKV0sVi5wcm90b3R5cGUsXCJpbnRlcnBvbGF0aW9uXCIsdm9pZCAwKSxlKFthKCldLFYucHJvdG90eXBlLFwiaW9Db25maWdcIix2b2lkIDApLGUoW2Eoe3R5cGU6W3BdLGpzb246e3dyaXRlOiEwfX0pXSxWLnByb3RvdHlwZSxcIm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uXCIsbnVsbCksZShbYSh7dHlwZTpmLGpzb246e3dyaXRlOiEwfX0pXSxWLnByb3RvdHlwZSxcIm11bHRpZGltZW5zaW9uYWxTdWJzZXRcIix2b2lkIDApLGUoW2EoKV0sVi5wcm90b3R5cGUsXCJyYXN0ZXJcIix2b2lkIDApLGUoW2Eoe3R5cGU6eSxqc29uOntuYW1lOlwicmVuZGVyaW5nUnVsZVwiLHdyaXRlOiEwfX0pXSxWLnByb3RvdHlwZSxcInJhc3RlckZ1bmN0aW9uXCIsbnVsbCksZShbYSgpXSxWLnByb3RvdHlwZSxcInJhc3RlckluZm9cIix2b2lkIDApLGUoW2EoKV0sVi5wcm90b3R5cGUsXCJzb3VyY2VKU09OXCIsdm9pZCAwKSxlKFthKHtyZWFkT25seTohMCx0eXBlOmssanNvbjp7cmVhZDohMX19KV0sVi5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFthKHt0eXBlOmd9KV0sVi5wcm90b3R5cGUsXCJ0aWxlSW5mb1wiLHZvaWQgMCksZShbYShoKV0sVi5wcm90b3R5cGUsXCJ1cmxcIixudWxsKSxlKFthKHt0eXBlczp0LGpzb246e25hbWU6XCJsYXllckRlZmluaXRpb24uZHJhd2luZ0luZm8ucmVuZGVyZXJcIix3cml0ZTp7b3ZlcnJpZGVQb2xpY3koKXtjb25zdCBlPVwicmFzdGVyLXN0cmV0Y2hcIj09PXRoaXMucmVuZGVyZXI/LnR5cGUmJlwibm9uZVwiPT09dGhpcy5yZW5kZXJlci5zdHJldGNoVHlwZSYmIXRoaXMucmVuZGVyZXIudXNlR2FtbWE7cmV0dXJue2VuYWJsZWQ6IXRoaXMubG9hZGVkfHxcIlJhc3RlclwiPT09dGhpcy5yYXN0ZXIudGlsZVR5cGV8fCFlfX19LG9yaWdpbnM6e1wid2ViLXNjZW5lXCI6e3R5cGVzOnIsbmFtZTpcImxheWVyRGVmaW5pdGlvbi5kcmF3aW5nSW5mby5yZW5kZXJlclwiLHdyaXRlOntvdmVycmlkZVBvbGljeTplPT4oe2VuYWJsZWQ6ZSYmXCJ2ZWN0b3ItZmllbGRcIiE9PWUudHlwZSYmXCJmbG93XCIhPT1lLnR5cGV9KX19fX19KV0sVi5wcm90b3R5cGUsXCJyZW5kZXJlclwiLG51bGwpLGUoW3UoXCJyZW5kZXJlclwiKV0sVi5wcm90b3R5cGUsXCJyZWFkUmVuZGVyZXJcIixudWxsKSxlKFthKHtjbG9uYWJsZTohMX0pXSxWLnByb3RvdHlwZSxcInN5bWJvbGl6ZXJcIix2b2lkIDApLFY9ZShbYyhcImVzcmkubGF5ZXJzLkltYWdlcnlUaWxlTWl4aW5cIildLFYpLFZ9O2V4cG9ydHtWIGFzIEltYWdlcnlUaWxlTWl4aW59O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtKU09OU3VwcG9ydCBhcyBvfWZyb21cIi4uLy4uL2NvcmUvSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e0ludGVnZXIgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO3ZhciBpO2xldCBsPWk9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY29scz1udWxsLHRoaXMubGV2ZWw9MCx0aGlzLmxldmVsVmFsdWU9bnVsbCx0aGlzLm9yaWdpbj1udWxsLHRoaXMucmVzb2x1dGlvbj0wLHRoaXMucm93cz1udWxsLHRoaXMuc2NhbGU9MH1jbG9uZSgpe3JldHVybiBuZXcgaSh7Y29sczp0aGlzLmNvbHMsbGV2ZWw6dGhpcy5sZXZlbCxsZXZlbFZhbHVlOnRoaXMubGV2ZWxWYWx1ZSxyZXNvbHV0aW9uOnRoaXMucmVzb2x1dGlvbixyb3dzOnRoaXMucm93cyxzY2FsZTp0aGlzLnNjYWxlfSl9fTtlKFtyKHtqc29uOnt3cml0ZTohMCxvcmlnaW5zOntcIndlYi1kb2N1bWVudFwiOntyZWFkOiExLHdyaXRlOiExfSxcInBvcnRhbC1pdGVtXCI6e3JlYWQ6ITEsd3JpdGU6ITF9fX19KV0sbC5wcm90b3R5cGUsXCJjb2xzXCIsdm9pZCAwKSxlKFtyKHt0eXBlOnQsanNvbjp7d3JpdGU6ITB9fSldLGwucHJvdG90eXBlLFwibGV2ZWxcIix2b2lkIDApLGUoW3Ioe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxsLnByb3RvdHlwZSxcImxldmVsVmFsdWVcIix2b2lkIDApLGUoW3Ioe2pzb246e3dyaXRlOiEwLG9yaWdpbnM6e1wid2ViLWRvY3VtZW50XCI6e3JlYWQ6ITEsd3JpdGU6ITF9LFwicG9ydGFsLWl0ZW1cIjp7cmVhZDohMSx3cml0ZTohMX19fX0pXSxsLnByb3RvdHlwZSxcIm9yaWdpblwiLHZvaWQgMCksZShbcih7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLGwucHJvdG90eXBlLFwicmVzb2x1dGlvblwiLHZvaWQgMCksZShbcih7anNvbjp7d3JpdGU6ITAsb3JpZ2luczp7XCJ3ZWItZG9jdW1lbnRcIjp7cmVhZDohMSx3cml0ZTohMX0sXCJwb3J0YWwtaXRlbVwiOntyZWFkOiExLHdyaXRlOiExfX19fSldLGwucHJvdG90eXBlLFwicm93c1wiLHZvaWQgMCksZShbcih7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLGwucHJvdG90eXBlLFwic2NhbGVcIix2b2lkIDApLGw9aT1lKFtzKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5MT0RcIildLGwpO2NvbnN0IHA9bDtleHBvcnR7cCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7SlNPTk1hcCBhcyB0fWZyb21cIi4uLy4uL2NvcmUvanNvbk1hcC5qc1wiO2ltcG9ydHtKU09OU3VwcG9ydCBhcyBvfWZyb21cIi4uLy4uL2NvcmUvSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7Z2V0TWV0ZXJzUGVyVW5pdEZvclNSIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS91bml0VXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e0ludGVnZXIgYXMgaX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3JlYWRlciBhcyBsfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcmVhZGVyLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHt3cml0ZXIgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3dyaXRlci5qc1wiO2ltcG9ydCBwIGZyb21cIi4uLy4uL2dlb21ldHJ5L1BvaW50LmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgdX1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2lzVmFsaWQgYXMgZixnZXRJbmZvIGFzIGgsaXNHZW9ncmFwaGljIGFzIG0sZXF1YWxzIGFzIGR9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7cHJvamVjdCBhcyBnfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvd2ViTWVyY2F0b3JVdGlscy5qc1wiO2ltcG9ydCB5IGZyb21cIi4vTE9ELmpzXCI7aW1wb3J0e1RpbGVLZXkgYXMgdn1mcm9tXCIuL1RpbGVLZXkuanNcIjt2YXIgdztjb25zdCB4PW5ldyB0KHtQTkc6XCJwbmdcIixQTkc4OlwicG5nOFwiLFBORzI0OlwicG5nMjRcIixQTkczMjpcInBuZzMyXCIsSlBFRzpcImpwZ1wiLEpQRzpcImpwZ1wiLERJQjpcImRpYlwiLFRJRkY6XCJ0aWZmXCIsRU1GOlwiZW1mXCIsUFM6XCJwc1wiLFBERjpcInBkZlwiLEdJRjpcImdpZlwiLFNWRzpcInN2Z1wiLFNWR1o6XCJzdmd6XCIsTWl4ZWQ6XCJtaXhlZFwiLE1JWEVEOlwibWl4ZWRcIixMRVJDOlwibGVyY1wiLExFUkMyRDpcImxlcmMyZFwiLFJBVzpcInJhd1wiLHBiZjpcInBiZlwifSk7bGV0IE89dz1jbGFzcyBleHRlbmRzIG97c3RhdGljIGNyZWF0ZShlPXt9KXtjb25zdHtyZXNvbHV0aW9uRmFjdG9yOnQ9MSxzY2FsZXM6byxzaXplOnM9MjU2LHNwYXRpYWxSZWZlcmVuY2U6aT1jLldlYk1lcmNhdG9yLG51bUxPRHM6bD0yNH09ZTtpZighZihpKSl7Y29uc3QgZT1bXTtpZihvKWZvcihsZXQgdD0wO3Q8by5sZW5ndGg7dCsrKXtjb25zdCByPW9bdF07ZS5wdXNoKG5ldyB5KHtsZXZlbDp0LHNjYWxlOnIscmVzb2x1dGlvbjpyfSkpfWVsc2V7bGV0IHQ9NWUtNDtmb3IobGV0IG89bC0xO28+PTA7by0tKWUudW5zaGlmdChuZXcgeSh7bGV2ZWw6byxzY2FsZTp0LHJlc29sdXRpb246dH0pKSx0Kj0yfXJldHVybiBuZXcgdyh7ZHBpOjk2LGxvZHM6ZSxvcmlnaW46bmV3IHAoMCwwLGkpLHNpemU6W3Msc10sc3BhdGlhbFJlZmVyZW5jZTppfSl9Y29uc3Qgbj1oKGkpLGE9ZS5vcmlnaW4/bmV3IHAoe3g6ZS5vcmlnaW4ueCx5OmUub3JpZ2luLnksc3BhdGlhbFJlZmVyZW5jZTppfSk6bmV3IHAobj97eDpuLm9yaWdpblswXSx5Om4ub3JpZ2luWzFdLHNwYXRpYWxSZWZlcmVuY2U6aX06e3g6MCx5OjAsc3BhdGlhbFJlZmVyZW5jZTppfSksdT05NixkPTEvKHIoaSkqMzkuMzcqdSksZz1bXTtpZihvKWZvcihsZXQgcj0wO3I8by5sZW5ndGg7cisrKXtjb25zdCBlPW9bcl0sdD1lKmQ7Zy5wdXNoKG5ldyB5KHtsZXZlbDpyLHNjYWxlOmUscmVzb2x1dGlvbjp0fSkpfWVsc2V7bGV0IGU9bShpKT81MTIvcyo1OTE2NTc1MjcuNTkxNzA5NDoyNTYvcyo1OTE2NTc1MjcuNTkxNTU1O2NvbnN0IG89TWF0aC5jZWlsKGwvdCk7Zy5wdXNoKG5ldyB5KHtsZXZlbDowLHNjYWxlOmUscmVzb2x1dGlvbjplKmR9KSk7Zm9yKGxldCByPTE7cjxvO3IrKyl7Y29uc3Qgbz1lLzIqKnQscz1vKmQ7Zy5wdXNoKG5ldyB5KHtsZXZlbDpyLHNjYWxlOm8scmVzb2x1dGlvbjpzfSkpLGU9b319cmV0dXJuIG5ldyB3KHtkcGk6dSxsb2RzOmcsb3JpZ2luOmEsc2l6ZTpbcyxzXSxzcGF0aWFsUmVmZXJlbmNlOml9KX1jb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmRwaT05Nix0aGlzLmZvcm1hdD1udWxsLHRoaXMub3JpZ2luPW51bGwsdGhpcy5zaXplPW51bGwsdGhpcy5zcGF0aWFsUmVmZXJlbmNlPW51bGx9Z2V0IGlzV3JhcHBhYmxlKCl7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTplLG9yaWdpbjp0fT10aGlzO2lmKGUmJnQpe2NvbnN0IG89aChlKTtyZXR1cm4gZS5pc1dyYXBwYWJsZSYmISFvJiZNYXRoLmFicyhvLm9yaWdpblswXS10LngpPD1vLmR4fXJldHVybiExfXJlYWRPcmlnaW4oZSx0KXtyZXR1cm4gcC5mcm9tSlNPTih7c3BhdGlhbFJlZmVyZW5jZTp0LnNwYXRpYWxSZWZlcmVuY2UsLi4uZX0pfXNldCBsb2RzKGUpe2xldCB0PTAsbz0wO2NvbnN0IHI9W10scz10aGlzLl9sZXZlbFRvTE9EPXt9O2UmJih0PS0xLzAsbz0xLzAsZS5mb3JFYWNoKChlPT57ci5wdXNoKGUuc2NhbGUpLHQ9ZS5zY2FsZT50P2Uuc2NhbGU6dCxvPWUuc2NhbGU8bz9lLnNjYWxlOm8sc1tlLmxldmVsXT1lfSkpKSx0aGlzLl9zZXQoXCJzY2FsZXNcIixyKSx0aGlzLl9zZXQoXCJsb2RzXCIsZSksdGhpcy5faW5pdGlhbGl6ZVVwc2FtcGxlTGV2ZWxzKCl9cmVhZFNpemUoZSx0KXtyZXR1cm5bdC5jb2xzLHQucm93c119d3JpdGVTaXplKGUsdCl7dC5jb2xzPWVbMF0sdC5yb3dzPWVbMV19em9vbVRvU2NhbGUoZSl7Y29uc3QgdD10aGlzLnNjYWxlcztpZihlPD0wKXJldHVybiB0WzBdO2lmKGU+PXQubGVuZ3RoLTEpcmV0dXJuIHRbdC5sZW5ndGgtMV07Y29uc3Qgbz1NYXRoLmZsb29yKGUpLHI9bysxO3JldHVybiB0W29dLyh0W29dL3Rbcl0pKiooZS1vKX1zY2FsZVRvWm9vbShlKXtjb25zdCB0PXRoaXMuc2NhbGVzLG89dC5sZW5ndGgtMTtsZXQgcj0wO2Zvcig7cjxvO3IrKyl7Y29uc3Qgbz10W3JdLHM9dFtyKzFdO2lmKG88PWUpcmV0dXJuIHI7aWYocz09PWUpcmV0dXJuIHIrMTtpZihvPmUmJnM8ZSlyZXR1cm4gcitNYXRoLmxvZyhvL2UpL01hdGgubG9nKG8vcyl9cmV0dXJuIHJ9c25hcFNjYWxlKGUsdD0uOTUpe2NvbnN0IG89dGhpcy5zY2FsZVRvWm9vbShlKTtyZXR1cm4gbyVNYXRoLmZsb29yKG8pPj10P3RoaXMuem9vbVRvU2NhbGUoTWF0aC5jZWlsKG8pKTp0aGlzLnpvb21Ub1NjYWxlKE1hdGguZmxvb3IobykpfXRpbGVBdChlLHQsbyxyKXtjb25zdCBzPXRoaXMubG9kQXQoZSk7aWYoIXMpcmV0dXJuIG51bGw7bGV0IGksbDtpZihcIm51bWJlclwiPT10eXBlb2YgdClpPXQsbD1vO2Vsc2UgaWYoZCh0LnNwYXRpYWxSZWZlcmVuY2UsdGhpcy5zcGF0aWFsUmVmZXJlbmNlKSlpPXQueCxsPXQueSxyPW87ZWxzZXtjb25zdCBlPWcodCx0aGlzLnNwYXRpYWxSZWZlcmVuY2UpO2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aT1lLngsbD1lLnkscj1vfWNvbnN0IG49cy5yZXNvbHV0aW9uKnRoaXMuc2l6ZVswXSxhPXMucmVzb2x1dGlvbip0aGlzLnNpemVbMV07cmV0dXJuIHJ8fChyPW5ldyB2KG51bGwsMCwwLDAsdSgpKSksci5sZXZlbD1lLHIucm93PU1hdGguZmxvb3IoKHRoaXMub3JpZ2luLnktbCkvYSsuMDAxKSxyLmNvbD1NYXRoLmZsb29yKChpLXRoaXMub3JpZ2luLngpL24rLjAwMSksdGhpcy51cGRhdGVUaWxlSW5mbyhyKSxyfXVwZGF0ZVRpbGVJbmZvKGUsdD13LkV4dHJhcG9sYXRlT3B0aW9ucy5OT05FKXtsZXQgbz10aGlzLmxvZEF0KGUubGV2ZWwpO2lmKCFvJiZ0PT09dy5FeHRyYXBvbGF0ZU9wdGlvbnMuUE9XRVJfT0ZfVFdPKXtjb25zdCB0PXRoaXMubG9kc1t0aGlzLmxvZHMubGVuZ3RoLTFdO3QubGV2ZWw8ZS5sZXZlbCYmKG89dCl9aWYoIW8pcmV0dXJuO2NvbnN0IHI9ZS5sZXZlbC1vLmxldmVsLHM9by5yZXNvbHV0aW9uKnRoaXMuc2l6ZVswXS8yKipyLGk9by5yZXNvbHV0aW9uKnRoaXMuc2l6ZVsxXS8yKipyO2UuaWQ9YCR7ZS5sZXZlbH0vJHtlLnJvd30vJHtlLmNvbH1gLGUuZXh0ZW50fHwoZS5leHRlbnQ9dSgpKSxlLmV4dGVudFswXT10aGlzLm9yaWdpbi54K2UuY29sKnMsZS5leHRlbnRbMV09dGhpcy5vcmlnaW4ueS0oZS5yb3crMSkqaSxlLmV4dGVudFsyXT1lLmV4dGVudFswXStzLGUuZXh0ZW50WzNdPWUuZXh0ZW50WzFdK2l9dXBzYW1wbGVUaWxlKGUpe2NvbnN0IHQ9dGhpcy5fdXBzYW1wbGVMZXZlbHNbZS5sZXZlbF07cmV0dXJuISghdHx8LTE9PT10LnBhcmVudExldmVsKSYmKGUubGV2ZWw9dC5wYXJlbnRMZXZlbCxlLnJvdz1NYXRoLmZsb29yKGUucm93L3QuZmFjdG9yKy4wMDEpLGUuY29sPU1hdGguZmxvb3IoZS5jb2wvdC5mYWN0b3IrLjAwMSksdGhpcy51cGRhdGVUaWxlSW5mbyhlKSwhMCl9Z2V0VGlsZUJvdW5kcyhlLHQpe2NvbnN0IG89dGhpcy5sb2RBdCh0LmxldmVsKTtpZihudWxsPT1vKXJldHVybiBudWxsO2NvbnN0e3Jlc29sdXRpb246cn09byxzPXIqdGhpcy5zaXplWzBdLGk9cip0aGlzLnNpemVbMV07cmV0dXJuIGVbMF09dGhpcy5vcmlnaW4ueCt0LmNvbCpzLGVbMV09dGhpcy5vcmlnaW4ueS0odC5yb3crMSkqaSxlWzJdPWVbMF0rcyxlWzNdPWVbMV0raSxlfWxvZEF0KGUpe3JldHVybiB0aGlzLl9sZXZlbFRvTE9EPy5bZV0/P251bGx9Y2xvbmUoKXtyZXR1cm4gdy5mcm9tSlNPTih0aGlzLndyaXRlKHt9KSl9Z2V0T3JDcmVhdGVDb21wYXRpYmxlKGUsdCl7aWYoMjU2PT09dGhpcy5zaXplWzBdJiYyNTY9PT10aGlzLnNpemVbMV0pcmV0dXJuIDI1Nj09PWU/dGhpczpudWxsO2NvbnN0IG89W10scj10aGlzLmxvZHMubGVuZ3RoO2ZvcihsZXQgcz0wO3M8cjtzKyspe2NvbnN0IGU9dGhpcy5sb2RzW3NdLHI9ZS5yZXNvbHV0aW9uKnQ7by5wdXNoKG5ldyB5KHtsZXZlbDplLmxldmVsLHNjYWxlOmUuc2NhbGUscmVzb2x1dGlvbjpyfSkpfXJldHVybiBuZXcgdyh7c2l6ZTpbZSxlXSxkcGk6dGhpcy5kcGksZm9ybWF0OnRoaXMuZm9ybWF0LGNvbXByZXNzaW9uUXVhbGl0eTp0aGlzLmNvbXByZXNzaW9uUXVhbGl0eSxvcmlnaW46dGhpcy5vcmlnaW4sc3BhdGlhbFJlZmVyZW5jZTp0aGlzLnNwYXRpYWxSZWZlcmVuY2UsbG9kczpvfSl9X2luaXRpYWxpemVVcHNhbXBsZUxldmVscygpe2NvbnN0IGU9dGhpcy5sb2RzO3RoaXMuX3Vwc2FtcGxlTGV2ZWxzPVtdO2xldCB0PW51bGw7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IHI9ZVtvXTt0aGlzLl91cHNhbXBsZUxldmVsc1tyLmxldmVsXT17cGFyZW50TGV2ZWw6dD90LmxldmVsOi0xLGZhY3Rvcjp0P3QucmVzb2x1dGlvbi9yLnJlc29sdXRpb246MH0sdD1yfX19O2UoW3Moe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxPLnByb3RvdHlwZSxcImNvbXByZXNzaW9uUXVhbGl0eVwiLHZvaWQgMCksZShbcyh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLE8ucHJvdG90eXBlLFwiZHBpXCIsdm9pZCAwKSxlKFtzKHt0eXBlOlN0cmluZyxqc29uOntyZWFkOngucmVhZCx3cml0ZTp4LndyaXRlLG9yaWdpbnM6e1wid2ViLXNjZW5lXCI6e3JlYWQ6ITEsd3JpdGU6ITF9fX19KV0sTy5wcm90b3R5cGUsXCJmb3JtYXRcIix2b2lkIDApLGUoW3Moe3JlYWRPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwiaXNXcmFwcGFibGVcIixudWxsKSxlKFtzKHt0eXBlOnAsanNvbjp7d3JpdGU6ITB9fSldLE8ucHJvdG90eXBlLFwib3JpZ2luXCIsdm9pZCAwKSxlKFtsKFwib3JpZ2luXCIpXSxPLnByb3RvdHlwZSxcInJlYWRPcmlnaW5cIixudWxsKSxlKFtzKHt0eXBlOlt5XSx2YWx1ZTpudWxsLGpzb246e3dyaXRlOiEwfX0pXSxPLnByb3RvdHlwZSxcImxvZHNcIixudWxsKSxlKFtzKHtyZWFkT25seTohMH0pXSxPLnByb3RvdHlwZSxcInNjYWxlc1wiLHZvaWQgMCksZShbcyh7Y2FzdDplPT5BcnJheS5pc0FycmF5KGUpP2U6XCJudW1iZXJcIj09dHlwZW9mIGU/W2UsZV06WzI1NiwyNTZdfSldLE8ucHJvdG90eXBlLFwic2l6ZVwiLHZvaWQgMCksZShbbChcInNpemVcIixbXCJyb3dzXCIsXCJjb2xzXCJdKV0sTy5wcm90b3R5cGUsXCJyZWFkU2l6ZVwiLG51bGwpLGUoW2EoXCJzaXplXCIse2NvbHM6e3R5cGU6aX0scm93czp7dHlwZTppfX0pXSxPLnByb3RvdHlwZSxcIndyaXRlU2l6ZVwiLG51bGwpLGUoW3Moe3R5cGU6Yyxqc29uOnt3cml0ZTohMH19KV0sTy5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxPPXc9ZShbbihcImVzcmkubGF5ZXJzLnN1cHBvcnQuVGlsZUluZm9cIildLE8pLGZ1bmN0aW9uKGUpe3ZhciB0Oyh0PWUuRXh0cmFwb2xhdGVPcHRpb25zfHwoZS5FeHRyYXBvbGF0ZU9wdGlvbnM9e30pKVt0Lk5PTkU9MF09XCJOT05FXCIsdFt0LlBPV0VSX09GX1RXTz0xXT1cIlBPV0VSX09GX1RXT1wifShPfHwoTz17fSkpO2NvbnN0IGo9TztleHBvcnR7aiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKHQscyxpLG8sZT12b2lkIDApe3RoaXMuaWQ9dCx0aGlzLmxldmVsPXMsdGhpcy5yb3c9aSx0aGlzLmNvbD1vLHRoaXMuZXh0ZW50PWV9fWV4cG9ydHt0IGFzIFRpbGVLZXl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnR7Y29uc3RhbnQgYXMgaX1mcm9tXCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2Nsb25lIGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e2VzdGltYXRlU2l6ZSBhcyBvfWZyb21cIi4uLy4uL2NvcmUvdHlwZWRBcnJheVV0aWwuanNcIjtpbXBvcnR7bmV3VWludEFycmF5IGFzIGx9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9VaW50QXJyYXkuanNcIjtjbGFzcyBye2NvbnN0cnVjdG9yKHQpe3RoaXMuX3ZhbGlkYXRlSlNPTih0KTtjb25zdHtsb2NhdGlvbjppLGRhdGE6ZX09dDt0aGlzLmxvY2F0aW9uPU9iamVjdC5mcmVlemUoYShpKSk7Y29uc3Qgcj10aGlzLmxvY2F0aW9uLndpZHRoLG49dGhpcy5sb2NhdGlvbi5oZWlnaHQ7bGV0IHM9ITAsaD0hMDtjb25zdCBjPU1hdGguY2VpbChyKm4vMzIpLG09bChjKTtsZXQgZj0wO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKXtjb25zdCB0PWElMzI7ZVthXT8oaD0hMSxtW2ZdfD0xPDx0KTpzPSExLDMxPT09dCYmKytmfWg/KHRoaXMuX2F2YWlsYWJpbGl0eT1cInVuYXZhaWxhYmxlXCIsdGhpcy5ieXRlU2l6ZT00MCk6cz8odGhpcy5fYXZhaWxhYmlsaXR5PVwiYXZhaWxhYmxlXCIsdGhpcy5ieXRlU2l6ZT00MCk6KHRoaXMuX2F2YWlsYWJpbGl0eT1tLHRoaXMuYnl0ZVNpemU9NDArbyhtKSl9Z2V0QXZhaWxhYmlsaXR5KHQsaSl7aWYoXCJ1bmF2YWlsYWJsZVwiPT09dGhpcy5fYXZhaWxhYmlsaXR5fHxcImF2YWlsYWJsZVwiPT09dGhpcy5fYXZhaWxhYmlsaXR5KXJldHVybiB0aGlzLl9hdmFpbGFiaWxpdHk7Y29uc3QgZT0odC10aGlzLmxvY2F0aW9uLnRvcCkqdGhpcy5sb2NhdGlvbi53aWR0aCsoaS10aGlzLmxvY2F0aW9uLmxlZnQpLGE9ZSUzMixvPWU+PjUsbD10aGlzLl9hdmFpbGFiaWxpdHk7cmV0dXJuIG88MHx8bz5sLmxlbmd0aD9cInVua25vd25cIjpsW29dJjE8PGE/XCJhdmFpbGFibGVcIjpcInVuYXZhaWxhYmxlXCJ9c3RhdGljIGZyb21EZWZpbml0aW9uKGEsbyl7Y29uc3QgbD1hLnNlcnZpY2UucmVxdWVzdHx8dCx7cm93Om4sY29sOmgsd2lkdGg6YyxoZWlnaHQ6bX09YSxmPXtxdWVyeTp7ZjpcImpzb25cIn19O3JldHVybiBvPW8/ey4uLmYsLi4ub306ZixsKHMoYSksbykudGhlbigodD0+dC5kYXRhKSkuY2F0Y2goKHQ9PntpZih0JiZ0LmRldGFpbHMmJjQyMj09PXQuZGV0YWlscy5odHRwU3RhdHVzKXJldHVybntsb2NhdGlvbjp7dG9wOm4sbGVmdDpoLHdpZHRoOmMsaGVpZ2h0Om19LHZhbGlkOiEwLGRhdGE6aShjKm0sMCl9O3Rocm93IHR9KSkudGhlbigodD0+e2lmKHQubG9jYXRpb24mJih0LmxvY2F0aW9uLnRvcCE9PW58fHQubG9jYXRpb24ubGVmdCE9PWh8fHQubG9jYXRpb24ud2lkdGghPT1jfHx0LmxvY2F0aW9uLmhlaWdodCE9PW0pKXRocm93IG5ldyBlKFwidGlsZW1hcDpsb2NhdGlvbi1taXNtYXRjaFwiLFwiVGlsZW1hcCByZXNwb25zZSBmb3IgZGlmZmVyZW50IGxvY2F0aW9uIHRoYW4gcmVxdWVzdGVkXCIse3Jlc3BvbnNlOnQsZGVmaW5pdGlvbjp7dG9wOm4sbGVmdDpoLHdpZHRoOmMsaGVpZ2h0Om19fSk7cmV0dXJuIHIuZnJvbUpTT04odCl9KSl9c3RhdGljIGZyb21KU09OKHQpe3JldHVybiBPYmplY3QuZnJlZXplKG5ldyByKHQpKX1fdmFsaWRhdGVKU09OKHQpe2lmKCF0Py5sb2NhdGlvbil0aHJvdyBuZXcgZShcInRpbGVtYXA6bWlzc2luZy1sb2NhdGlvblwiLFwiTG9jYXRpb24gbWlzc2luZyBmcm9tIHRpbGVtYXAgcmVzcG9uc2VcIik7aWYoITE9PT10LnZhbGlkKXRocm93IG5ldyBlKFwidGlsZW1hcDppbnZhbGlkXCIsXCJUaWxlbWFwIHJlc3BvbnNlIHdhcyBtYXJrZWQgYXMgaW52YWxpZFwiKTtpZighdC5kYXRhKXRocm93IG5ldyBlKFwidGlsZW1hcDptaXNzaW5nLWRhdGFcIixcIkRhdGEgbWlzc2luZyBmcm9tIHRpbGVtYXAgcmVzcG9uc2VcIik7aWYoIUFycmF5LmlzQXJyYXkodC5kYXRhKSl0aHJvdyBuZXcgZShcInRpbGVtYXA6ZGF0YS1taXNtYXRjaFwiLFwiRGF0YSBtdXN0IGJlIGFuIGFycmF5IG9mIG51bWJlcnNcIik7aWYodC5kYXRhLmxlbmd0aCE9PXQubG9jYXRpb24ud2lkdGgqdC5sb2NhdGlvbi5oZWlnaHQpdGhyb3cgbmV3IGUoXCJ0aWxlbWFwOmRhdGEtbWlzbWF0Y2hcIixcIk51bWJlciBvZiBkYXRhIGl0ZW1zIGRvZXMgbm90IG1hdGNoIHdpZHRoL2hlaWdodCBvZiB0aWxlbWFwXCIpfX1mdW5jdGlvbiBuKHQpe3JldHVybmAke3QubGV2ZWx9LyR7dC5yb3d9LyR7dC5jb2x9LyR7dC53aWR0aH0vJHt0LmhlaWdodH1gfWZ1bmN0aW9uIHModCl7bGV0IGk7aWYodC5zZXJ2aWNlLnRpbGVTZXJ2ZXJzPy5sZW5ndGgpe2NvbnN0IGU9dC5zZXJ2aWNlLnRpbGVTZXJ2ZXJzO2k9YCR7ZSYmZS5sZW5ndGg/ZVt0LnJvdyVlLmxlbmd0aF06dC5zZXJ2aWNlLnVybH0vdGlsZW1hcC8ke3QubGV2ZWx9LyR7dC5yb3d9LyR7dC5jb2x9LyR7dC53aWR0aH0vJHt0LmhlaWdodH1gfWVsc2UgaT1gJHt0LnNlcnZpY2UudXJsfS90aWxlbWFwLyR7dC5sZXZlbH0vJHt0LnJvd30vJHt0LmNvbH0vJHt0LndpZHRofS8ke3QuaGVpZ2h0fWA7Y29uc3QgZT10LnNlcnZpY2UucXVlcnk7cmV0dXJuIGUmJihpPWAke2l9PyR7ZX1gKSxpfWV4cG9ydHtyIGFzIFRpbGVtYXAsbiBhcyB0aWxlbWFwRGVmaW5pdGlvbklkfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtCeXRlU2l6ZVVuaXQgYXMgcn1mcm9tXCIuLi8uLi9jb3JlL0J5dGVTaXplVW5pdC5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBsfWZyb21cIi4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnR7TFJVQ2FjaGUgYXMgb31mcm9tXCIuLi8uLi9jb3JlL0xSVUNhY2hlLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vY29yZS9Qb29sZWRBcnJheS5qc1wiO2ltcG9ydHtvbkFib3J0IGFzIG4sY3JlYXRlQWJvcnRFcnJvciBhcyBjLGlzQWJvcnRFcnJvciBhcyBoLGlzQWJvcnRlZCBhcyBwfWZyb21cIi4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIG0saW5pdGlhbCBhcyBmfWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHt3YWl0VGlja3MgYXMgdX1mcm9tXCIuLi8uLi9jb3JlL3NjaGVkdWxpbmcuanNcIjtpbXBvcnR7b2JqZWN0VG9RdWVyeSBhcyB2fWZyb21cIi4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgeX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGR9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtUaWxlS2V5IGFzIF99ZnJvbVwiLi9UaWxlS2V5LmpzXCI7aW1wb3J0e3RpbGVtYXBEZWZpbml0aW9uSWQgYXMgYixUaWxlbWFwIGFzIGd9ZnJvbVwiLi9UaWxlbWFwLmpzXCI7dmFyIHc7bGV0IFQ9dz1jbGFzcyBleHRlbmRzIGl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fcGVuZGluZ1RpbGVtYXBSZXF1ZXN0cz17fSx0aGlzLnJlcXVlc3Q9dCx0aGlzLnNpemU9MzIsdGhpcy5fcHJlZmV0Y2hpbmdFbmFibGVkPSEwfWluaXRpYWxpemUoKXt0aGlzLl90aWxlbWFwQ2FjaGU9bmV3IG8oMipyLk1FR0FCWVRFUyksdGhpcy5hZGRIYW5kbGVzKFttKCgoKT0+e2NvbnN0e2xheWVyOmV9PXRoaXM7cmV0dXJuW2U/LnBhcnNlZFVybCxlPy50aWxlU2VydmVycyxlPy5hcGlLZXksZT8uY3VzdG9tUGFyYW1ldGVyc119KSwoKCk9PnRoaXMuX2luaXRpYWxpemVUaWxlbWFwRGVmaW5pdGlvbigpKSxmKV0pfWdldCBlZmZlY3RpdmVNaW5MT0QoKXtyZXR1cm4gdGhpcy5taW5MT0Q/P3RoaXMubGF5ZXIudGlsZUluZm8ubG9kc1swXS5sZXZlbH1nZXQgZWZmZWN0aXZlTWF4TE9EKCl7cmV0dXJuIHRoaXMubWF4TE9EPz90aGlzLmxheWVyLnRpbGVJbmZvLmxvZHNbdGhpcy5sYXllci50aWxlSW5mby5sb2RzLmxlbmd0aC0xXS5sZXZlbH1mZXRjaFRpbGVtYXAoZSx0LGkscil7aWYoIXRoaXMubGF5ZXIudGlsZUluZm8ubG9kQXQoZSl8fGU8dGhpcy5lZmZlY3RpdmVNaW5MT0R8fGU+dGhpcy5lZmZlY3RpdmVNYXhMT0QpcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBzKFwidGlsZW1hcC1jYWNoZTpsZXZlbC11bmF2YWlsYWJsZVwiLGBMZXZlbCAke2V9IGlzIHVuYXZhaWxhYmxlIGluIHRoZSBzZXJ2aWNlYCkpO2NvbnN0IGw9dGhpcy5fdG1wVGlsZW1hcERlZmluaXRpb24sbz10aGlzLl90aWxlbWFwRnJvbUNhY2hlKGUsdCxpLGwpO2lmKG8pcmV0dXJuIFByb21pc2UucmVzb2x2ZShvKTtjb25zdCBhPXI/LnNpZ25hbDtyZXR1cm4gcj17Li4ucixzaWduYWw6bnVsbH0sbmV3IFByb21pc2UoKChlLHQpPT57bihhLCgoKT0+dChjKCkpKSk7Y29uc3QgaT1iKGwpO2xldCBzPXRoaXMuX3BlbmRpbmdUaWxlbWFwUmVxdWVzdHNbaV07aWYoIXMpe3M9Zy5mcm9tRGVmaW5pdGlvbihsLHIpLnRoZW4oKGU9Pih0aGlzLl90aWxlbWFwQ2FjaGUucHV0KGksZSxlLmJ5dGVTaXplKSxlKSkpO2NvbnN0IGU9KCk9PntkZWxldGUgdGhpcy5fcGVuZGluZ1RpbGVtYXBSZXF1ZXN0c1tpXX07dGhpcy5fcGVuZGluZ1RpbGVtYXBSZXF1ZXN0c1tpXT1zLHMudGhlbihlLGUpfXMudGhlbihlLHQpfSkpfWdldEF2YWlsYWJpbGl0eShlLHQsaSl7aWYoIXRoaXMubGF5ZXIudGlsZUluZm8ubG9kQXQoZSl8fGU8dGhpcy5lZmZlY3RpdmVNaW5MT0R8fGU+dGhpcy5lZmZlY3RpdmVNYXhMT0QpcmV0dXJuXCJ1bmF2YWlsYWJsZVwiO2NvbnN0IHI9dGhpcy5fdGlsZW1hcEZyb21DYWNoZShlLHQsaSx0aGlzLl90bXBUaWxlbWFwRGVmaW5pdGlvbik7cmV0dXJuIHI/ci5nZXRBdmFpbGFiaWxpdHkodCxpKTpcInVua25vd25cIn1mZXRjaEF2YWlsYWJpbGl0eShlLHQsaSxyKXtyZXR1cm4hdGhpcy5sYXllci50aWxlSW5mby5sb2RBdChlKXx8ZTx0aGlzLmVmZmVjdGl2ZU1pbkxPRHx8ZT50aGlzLmVmZmVjdGl2ZU1heExPRD9Qcm9taXNlLnJlamVjdChuZXcgcyhcInRpbGUtbWFwOnRpbGUtdW5hdmFpbGFibGVcIixcIlRpbGUgaXMgbm90IGF2YWlsYWJsZVwiLHtsZXZlbDplLHJvdzp0LGNvbDppfSkpOnRoaXMuZmV0Y2hUaWxlbWFwKGUsdCxpLHIpLmNhdGNoKChlPT5lKSkudGhlbigocj0+e2lmKHIgaW5zdGFuY2VvZiBnKXtjb25zdCBsPXIuZ2V0QXZhaWxhYmlsaXR5KHQsaSk7aWYoXCJ1bmF2YWlsYWJsZVwiPT09bCl0aHJvdyBuZXcgcyhcInRpbGUtbWFwOnRpbGUtdW5hdmFpbGFibGVcIixcIlRpbGUgaXMgbm90IGF2YWlsYWJsZVwiLHtsZXZlbDplLHJvdzp0LGNvbDppfSk7cmV0dXJuIGx9aWYoaChyKSl0aHJvdyByO3JldHVyblwidW5rbm93blwifSkpfWZldGNoQXZhaWxhYmlsaXR5VXBzYW1wbGUoZSx0LGkscixzKXtyLmxldmVsPWUsci5yb3c9dCxyLmNvbD1pO2NvbnN0IGw9dGhpcy5sYXllci50aWxlSW5mbztsLnVwZGF0ZVRpbGVJbmZvKHIpO2NvbnN0IG89dGhpcy5mZXRjaEF2YWlsYWJpbGl0eShlLHQsaSxzKS5jYXRjaCgoZT0+e2lmKGgoZSkpdGhyb3cgZTtpZihsLnVwc2FtcGxlVGlsZShyKSlyZXR1cm4gdGhpcy5mZXRjaEF2YWlsYWJpbGl0eVVwc2FtcGxlKHIubGV2ZWwsci5yb3csci5jb2wscixzKTt0aHJvdyBlfSkpO3JldHVybiB0aGlzLl9mZXRjaEF2YWlsYWJpbGl0eVVwc2FtcGxlUHJlZmV0Y2goci5pZCxlLHQsaSxzLG8pLG99YXN5bmMgX2ZldGNoQXZhaWxhYmlsaXR5VXBzYW1wbGVQcmVmZXRjaChlLHQsaSxyLHMsbyl7aWYoIXRoaXMuX3ByZWZldGNoaW5nRW5hYmxlZHx8bnVsbD09ZSlyZXR1cm47Y29uc3QgYT1gcHJlZmV0Y2gtJHtlfWA7aWYodGhpcy5oYXNIYW5kbGVzKGEpKXJldHVybjtjb25zdCBuPW5ldyBBYm9ydENvbnRyb2xsZXI7by50aGVuKCgoKT0+bi5hYm9ydCgpKSwoKCk9Pm4uYWJvcnQoKSkpO2xldCBjPSExO2NvbnN0IGg9bCgoKCk9PntjfHwoYz0hMCxuLmFib3J0KCkpfSkpO2lmKHRoaXMuYWRkSGFuZGxlcyhoLGEpLGF3YWl0IHUoMTAsbi5zaWduYWwpLmNhdGNoKCgoKT0+e30pKSxjfHwoYz0hMCx0aGlzLnJlbW92ZUhhbmRsZXMoYSkpLHAobikpcmV0dXJuO2NvbnN0IG09bmV3IF8oZSx0LGksciksZj17Li4ucyxzaWduYWw6bi5zaWduYWx9LHY9dGhpcy5sYXllci50aWxlSW5mbztmb3IobGV0IGw9MDt3Ll9wcmVmZXRjaGVzLmxlbmd0aDx3Ll9tYXhQcmVmZXRjaCYmdi51cHNhbXBsZVRpbGUobSk7KytsKXtjb25zdCBlPXRoaXMuZmV0Y2hBdmFpbGFiaWxpdHkobS5sZXZlbCxtLnJvdyxtLmNvbCxmKTt3Ll9wcmVmZXRjaGVzLnB1c2goZSk7Y29uc3QgdD0oKT0+e3cuX3ByZWZldGNoZXMucmVtb3ZlVW5vcmRlcmVkKGUpfTtlLnRoZW4odCx0KX19X2luaXRpYWxpemVUaWxlbWFwRGVmaW5pdGlvbigpe2lmKCF0aGlzLmxheWVyLnBhcnNlZFVybClyZXR1cm47Y29uc3R7cGFyc2VkVXJsOmUsYXBpS2V5OnQsY3VzdG9tUGFyYW1ldGVyczppfT10aGlzLmxheWVyO3RoaXMuX3RpbGVtYXBDYWNoZS5jbGVhcigpLHRoaXMuX3RtcFRpbGVtYXBEZWZpbml0aW9uPXtzZXJ2aWNlOnt1cmw6ZS5wYXRoLHF1ZXJ5OnYoey4uLmUucXVlcnksLi4uaSx0b2tlbjp0Pz9lLnF1ZXJ5Py50b2tlbn0pLHRpbGVTZXJ2ZXJzOnRoaXMubGF5ZXIudGlsZVNlcnZlcnMscmVxdWVzdDp0aGlzLnJlcXVlc3R9LHdpZHRoOnRoaXMuc2l6ZSxoZWlnaHQ6dGhpcy5zaXplLGxldmVsOjAscm93OjAsY29sOjB9fV90aWxlbWFwRnJvbUNhY2hlKGUsdCxpLHIpe3IubGV2ZWw9ZSxyLnJvdz10LXQldGhpcy5zaXplLHIuY29sPWktaSV0aGlzLnNpemU7Y29uc3Qgcz1iKHIpO3JldHVybiB0aGlzLl90aWxlbWFwQ2FjaGUuZ2V0KHMpfWdldCB0ZXN0KCl7Y29uc3QgZT10aGlzO3JldHVybntnZXQgcHJlZmV0Y2hpbmdFbmFibGVkKCl7cmV0dXJuIGUuX3ByZWZldGNoaW5nRW5hYmxlZH0sc2V0IHByZWZldGNoaW5nRW5hYmxlZCh0KXtlLl9wcmVmZXRjaGluZ0VuYWJsZWQ9dH0saGFzVGlsZW1hcDoodCxpLHIpPT4hIWUuX3RpbGVtYXBGcm9tQ2FjaGUodCxpLHIsZS5fdG1wVGlsZW1hcERlZmluaXRpb24pfX19O1QuX21heFByZWZldGNoPTQsVC5fcHJlZmV0Y2hlcz1uZXcgYSh7aW5pdGlhbFNpemU6dy5fbWF4UHJlZmV0Y2h9KSxlKFt5KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFQucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW3koe2NvbnN0cnVjdE9ubHk6ITB9KV0sVC5wcm90b3R5cGUsXCJtaW5MT0RcIix2b2lkIDApLGUoW3koe2NvbnN0cnVjdE9ubHk6ITB9KV0sVC5wcm90b3R5cGUsXCJtYXhMT0RcIix2b2lkIDApLGUoW3koe2NvbnN0cnVjdE9ubHk6ITB9KV0sVC5wcm90b3R5cGUsXCJyZXF1ZXN0XCIsdm9pZCAwKSxlKFt5KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFQucHJvdG90eXBlLFwic2l6ZVwiLHZvaWQgMCksVD13PWUoW2QoXCJlc3JpLmxheWVycy5zdXBwb3J0LlRpbGVtYXBDYWNoZVwiKV0sVCk7ZXhwb3J0e1QgYXMgVGlsZW1hcENhY2hlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vcmVxdWVzdC5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7SlNPTlN1cHBvcnQgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7RXNyaVByb21pc2VNaXhpbiBhcyBufWZyb21cIi4uLy4uLy4uL2NvcmUvUHJvbWlzZS5qc1wiO2ltcG9ydHtvbkFib3J0IGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbH1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e2Vuc3VyZUNsYXNzIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBjfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7c2FuaXRpemVVcmwgYXMgbX1mcm9tXCIuLi9hcmNnaXNMYXllclVybC5qc1wiO2ltcG9ydHt1cmwgYXMgZn1mcm9tXCIuLi9jb21tb25Qcm9wZXJ0aWVzLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vRGltZW5zaW9uYWxEZWZpbml0aW9uLmpzXCI7aW1wb3J0IGggZnJvbVwiLi4vTE9ELmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vUmFzdGVyU3RvcmFnZUluZm8uanNcIjtpbXBvcnQgZCBmcm9tXCIuLi9UaWxlSW5mby5qc1wiO2ltcG9ydHtpc011bHRpU2xpY2VPclJhbmdlRGVmaW5pdGlvbiBhcyB4LGdldFNsaWNlSW5kZXggYXMgeSxjcmVhdGVTbGljZXMgYXMgZyxnZXRTbGljZUlkcyBhcyBJfWZyb21cIi4vbXVsdGlkaW1lbnNpb25hbFV0aWxzLmpzXCI7aW1wb3J0e2dldFJhc3RlcklkIGFzIFIsZ2V0QmxvY2sgYXMgdyxwdXRCbG9jayBhcyBTLGRlbGV0ZUJsb2NrIGFzIGssZGVjcmVhc2VSZWZDb3VudCBhcyBUfWZyb21cIi4vUmF3QmxvY2tDYWNoZS5qc1wiO2ltcG9ydHtjb252ZXJ0Tm9EYXRhVG9NYXNrIGFzIGJ9ZnJvbVwiLi4vcmFzdGVyRm9ybWF0cy9waXhlbFJhbmdlVXRpbHMuanNcIjtpbXBvcnR7ZGVjb2RlIGFzIHZ9ZnJvbVwiLi4vcmFzdGVyRm9ybWF0cy9SYXN0ZXJDb2RlYy5qc1wiO2ltcG9ydHttb3NhaWMgYXMgUCxhcHByb3hpbWF0ZVRyYW5zZm9ybSBhcyBCLGdldExvY2FsQXJpdGhtZXRpY05vcnRoUm90YXRpb25zIGFzIE19ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3BpeGVsVXRpbHMuanNcIjtpbXBvcnR7bG9hZCBhcyBfLGdldFdvcmxkV2lkdGggYXMgVyxwcm9qZWN0UG9pbnQgYXMgQyxzbmFwUHlyYW1pZCBhcyBqLHNoaWZ0RXh0ZW50IGFzIEgsZ2V0V29ybGRXcmFwQ291bnQgYXMgeixwcm9qZWN0RXh0ZW50IGFzIEwsZ2V0UHJvamVjdGlvbk9mZnNldEdyaWQgYXMgRSxnZXRSYXN0ZXJEYXRhc2V0QWxpZ25tZW50SW5mbyBhcyBELHByb2plY3RSZXNvbHV0aW9uIGFzIEZ9ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3Jhc3RlclByb2plY3Rpb25IZWxwZXIuanNcIjtpbXBvcnR7Y29udmVydFRvTG9jYWxEaXJlY3Rpb25zIGFzIE8sdXZDb21wb25lbnRUb1ZlY3RvciBhcyBBfWZyb21cIi4uL3Jhc3RlckZ1bmN0aW9ucy92ZWN0b3JGaWVsZFV0aWxzLmpzXCI7aW1wb3J0IEcgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IHEgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtjb25zdCBKPTgsTj0yNTY7bGV0IFY9Y2xhc3MgZXh0ZW5kcyhuKG8pKXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5kYXRhc2V0TmFtZT1udWxsLHRoaXMuZGF0YXNldEZvcm1hdD1udWxsLHRoaXMuaGFzVW5pcXVlU291cmNlU3RvcmFnZUluZm89ITAsdGhpcy5yYXN0ZXJJbmZvPW51bGwsdGhpcy5pb0NvbmZpZz17c2FtcGxpbmc6XCJjbG9zZXN0XCJ9fWFzeW5jIGluaXQoKXtjb25zdCBlPV8oKTt0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UoZSksYXdhaXQgdGhpcy53aGVuKCl9bm9ybWFsaXplQ3RvckFyZ3MoZSl7cmV0dXJuIGU/LmlvQ29uZmlnJiYoZT17Li4uZSxpb0NvbmZpZzp7cmVzb2x1dGlvbjpudWxsLGJhbmRJZHM6bnVsbCxzYW1wbGluZzpcImNsb3Nlc3RcIix0aWxlSW5mbzpkLmNyZWF0ZSgpLC4uLmUuaW9Db25maWd9fSksZX1nZXQgX2lzR2xvYmFsV3JhcHBhYmxlU291cmNlKCl7Y29uc3R7cmFzdGVySW5mbzplfT10aGlzLHQ9VyhlLnNwYXRpYWxSZWZlcmVuY2UpO3JldHVybiBudWxsIT10JiZlLmV4dGVudC53aWR0aD49dC8yfWdldCBfaGFzTm9uZU9yR0NTU2hpZnRUcmFuc2Zvcm0oKXtjb25zdHt0cmFuc2Zvcm06ZX09dGhpcy5yYXN0ZXJJbmZvO3JldHVybiBudWxsPT1lfHxcImdjcy1zaGlmdFwiPT09ZS50eXBlfXNldCByYXN0ZXJKb2JIYW5kbGVyKGUpe3RoaXMuX3NldChcInJhc3RlckpvYkhhbmRsZXJcIixlKSxcIkZ1bmN0aW9uXCI9PT10aGlzLmRhdGFzZXRGb3JtYXQmJnRoaXMucHJpbWFyeVJhc3RlcnM/LnJhc3RlcnM/LmZvckVhY2goKHQ9PnQucmFzdGVySm9iSGFuZGxlcj1lKSl9c2V0IHVybChlKXt0aGlzLl9zZXQoXCJ1cmxcIixtKGUsci5nZXRMb2dnZXIodGhpcykpKX1hc3luYyBvcGVuKGUpe3Rocm93IG5ldyBpKFwiQmFzZVJhc3RlcjpvcGVuLW5vdC1pbXBsZW1lbnRlZFwiLFwib3BlbigpIGlzIG5vdCBpbXBsZW1lbnRlZFwiKX1hc3luYyBmZXRjaFRpbGUoZSx0LGksbz17fSl7Y29uc3Qgcj1vLnRpbGVJbmZvfHx0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8udGlsZUluZm8sbj10aGlzLmdldFRpbGVFeHRlbnRGcm9tVGlsZUluZm8oZSx0LGkscik7cmV0dXJuIHRoaXMuZmV0Y2hQaXhlbHMobixyLnNpemVbMF0sci5zaXplWzFdLG8pfWFzeW5jIGlkZW50aWZ5KGUsdD17fSl7ZT1hKHEsZSkuY2xvbmUoKS5ub3JtYWxpemUoKTtjb25zdHttdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbjppLHRpbWVFeHRlbnQ6b309dCx7cmFzdGVySW5mbzpyfT10aGlzLHtoYXNNdWx0aWRpbWVuc2lvbmFsVHJhbnNwb3NlOm4sbXVsdGlkaW1lbnNpb25hbEluZm86c309cjtsZXR7dHJhbnNwb3NlZFZhcmlhYmxlTmFtZTpsfT10O2NvbnN0IGM9bnVsbCE9cyYmbiYmKG51bGwhPW98fHgoaSkpO2lmKGMmJiFsKXtsPW51bGwhPWkmJmkubGVuZ3RoPjA/aVswXS52YXJpYWJsZU5hbWU/P3ZvaWQgMDpzLnZhcmlhYmxlc1swXS5uYW1lLHQ9ey4uLnQsdHJhbnNwb3NlZFZhcmlhYmxlTmFtZTpsfX10PXRoaXMuX2dldFJlcXVlc3RPcHRpb25zV2l0aFNsaWNlSWQodCk7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTptLGV4dGVudDpmfT1yLHtkYXR1bVRyYW5zZm9ybWF0aW9uOnV9PXQ7bGV0IGg9QyhlLG0sdSk7aWYoIWYuaW50ZXJzZWN0cyhoKSlyZXR1cm57bG9jYXRpb246aCx2YWx1ZTpudWxsfTtpZihudWxsIT1yLnRyYW5zZm9ybSl7Y29uc3QgZT1yLnRyYW5zZm9ybS5pbnZlcnNlVHJhbnNmb3JtKGgpO2lmKCFyLm5hdGl2ZUV4dGVudC5pbnRlcnNlY3RzKGUpKXJldHVybntsb2NhdGlvbjplLHZhbHVlOm51bGx9O2g9ZX1sZXQgcD0wO2NvbnN0IGQ9bnVsbCE9bCYmbnVsbCE9cyYmci5oYXNNdWx0aWRpbWVuc2lvbmFsVHJhbnNwb3NlO2lmKFwiRnVuY3Rpb25cIj09PXRoaXMuZGF0YXNldEZvcm1hdCl7Y29uc3QgZT10aGlzLnByaW1hcnlSYXN0ZXJzLnJhc3RlcnNbMF07aWYoZClyZXR1cm4gZS5pZGVudGlmeShoLHQpO2NvbnN0e3BpeGVsU2l6ZTppfT1yLG89MyxuPWkueCpvLzIscz1pLnkqby8yLGw9bmV3IEcoe3htaW46aC54LW4seG1heDpoLngrbix5bWluOmgueS1zLHltYXg6aC55K3Msc3BhdGlhbFJlZmVyZW5jZTptfSksYT17aW50ZXJwb2xhdGlvbjpcIm5lYXJlc3RcIn0se3BpeGVsQmxvY2s6Y309YXdhaXQgZS5mZXRjaFBpeGVscyhsLG8sbyxhKSx7cGl4ZWxCbG9jazpmfT1hd2FpdCB0aGlzLmZldGNoUGl4ZWxzKGwsbyxvLGEpO2lmKG51bGw9PWMpcmV0dXJue2xvY2F0aW9uOmgsdmFsdWU6bnVsbH07Y29uc3QgdT1NYXRoLmZsb29yKG8qbyouNSkscD0hYy5tYXNrfHxjLm1hc2tbdV0/Yy5waXhlbHMubWFwKChlPT5lW3VdKSk6bnVsbDtsZXQgeDtyZXR1cm4gbnVsbCE9ZiYmKHg9IWYubWFza3x8Zi5tYXNrW3VdP2YucGl4ZWxzLm1hcCgoZT0+ZVt1XSkpOnZvaWQgMCkse2xvY2F0aW9uOmgsdmFsdWU6cCxwcm9jZXNzZWRWYWx1ZTp4LHB5cmFtaWRMZXZlbDowfX1pZighZClpZih0LnNyY1Jlc29sdXRpb24pe3A9aih0LnNyY1Jlc29sdXRpb24scix0aGlzLmlvQ29uZmlnLnNhbXBsaW5nKS5weXJhbWlkTGV2ZWx9ZWxzZSBpZihwPWF3YWl0IHRoaXMuY29tcHV0ZUJlc3RQeXJhbWlkTGV2ZWxGb3JMb2NhdGlvbihlLHQpLG51bGw9PXApcmV0dXJue2xvY2F0aW9uOmgsdmFsdWU6bnVsbH07Y29uc3QgeT10aGlzLmlkZW50aWZ5UGl4ZWxMb2NhdGlvbihoLHAsbnVsbCxkKTtpZihudWxsPT09eSlyZXR1cm57bG9jYXRpb246aCx2YWx1ZTpudWxsfTtjb25zdHtyb3c6Zyxjb2w6SSxyb3dPZmZzZXQ6ayxjb2xPZmZzZXQ6VCxibG9ja1dpZHRoOmJ9PXksdj1sPz90LnNsaWNlSWQsUD1SKHRoaXMudXJsLHYpLEI9YCR7cH0vJHtnfS8ke0l9YDtsZXQgTT13KFAsbnVsbCxCKTtudWxsPT1NJiYoTT10aGlzLmZldGNoUmF3VGlsZShwLGcsSSx0KSxTKFAsbnVsbCxCLE0pKTtjb25zdCBfPWF3YWl0IE07aWYoIV8/LnBpeGVscz8ubGVuZ3RoKXJldHVybntsb2NhdGlvbjpoLHZhbHVlOm51bGx9O2NvbnN0IFc9aypiK1Q7cmV0dXJuIHRoaXMuX3Byb2Nlc3NJZGVudGlmeVJlc3VsdChfLHtzcmNMb2NhdGlvbjpoLHBvc2l0aW9uOlcscHlyYW1pZExldmVsOnAsdXNlVHJhbnNwb3NlZFRpbGU6ISFkLHJlcXVlc3RTb21lU2xpY2VzOmMsaWRlbnRpZnlPcHRpb25zOnR9KX1hc3luYyBmZXRjaFBpeGVscyhlLHQsaSxvPXt9KXtlPUgoZSksbz10aGlzLl9nZXRSZXF1ZXN0T3B0aW9uc1dpdGhTbGljZUlkKG8pO2NvbnN0e19oYXNOb25lT3JHQ1NTaGlmdFRyYW5zZm9ybTpyfT10aGlzO2lmKG8ucmVxdWVzdFJhd0RhdGEmJnIpcmV0dXJuIHRoaXMuX2ZldGNoUGl4ZWxzKGUsdCxpLG8pO2NvbnN0IG49VyhlLnNwYXRpYWxSZWZlcmVuY2UpLHM9eihlKTtpZihudWxsPT1ufHwwPT09c3x8MT09PXMmJnRoaXMuX2lzR2xvYmFsV3JhcHBhYmxlU291cmNlJiZyKXJldHVybiB0aGlzLl9mZXRjaFBpeGVscyhlLHQsaSxvKTtpZihzPj0zKXJldHVybntleHRlbnQ6ZSxwaXhlbEJsb2NrOm51bGx9O2NvbnN0IGw9W10se3htaW46YSx4bWF4OmN9PWUsbT1NYXRoLnJvdW5kKG4vKGMtYSkqdCksZj1tLU1hdGgucm91bmQoKG4vMi1hKS8oYy1hKSp0KTtsZXQgdT0wO2NvbnN0IGg9W107Zm9yKGxldCB5PTA7eTw9czt5Kyspe2NvbnN0IHI9bmV3IEcoe3htaW46MD09PXk/YTotbi8yLHhtYXg6eT09PXM/Yy1uKnk6bi8yLHltaW46ZS55bWluLHltYXg6ZS55bWF4LHNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlfSkscD0wPT09eT9tLWY6eT09PXM/dC11Om07dSs9cCxoLnB1c2gocCk7Y29uc3QgZD1vLmRpc2FibGVXcmFwQXJvdW5kJiZ5PjA/bnVsbDp0aGlzLl9mZXRjaFBpeGVscyhyLHAsaSxvKTtsLnB1c2goZCl9Y29uc3QgcD0oYXdhaXQgUHJvbWlzZS5hbGwobCkpLm1hcCgoZT0+ZT8ucGl4ZWxCbG9jaykpO2xldCBkPW51bGw7Y29uc3QgeD17d2lkdGg6dCxoZWlnaHQ6aX07aWYodGhpcy5yYXN0ZXJKb2JIYW5kbGVyKXtkPShhd2FpdCB0aGlzLnJhc3RlckpvYkhhbmRsZXIubW9zYWljQW5kVHJhbnNmb3JtKHtzcmNQaXhlbEJsb2NrczpwLHNyY01vc2FpY1NpemU6eCxkZXN0RGltZW5zaW9uOm51bGwsY29lZnM6bnVsbCxzYW1wbGVTcGFjaW5nOm51bGwsaW50ZXJwb2xhdGlvbjpcIm5lYXJlc3RcIixhbGlnbm1lbnRJbmZvOm51bGwsYmxvY2tXaWR0aHM6aH0sbykpLnBpeGVsQmxvY2t9ZWxzZSBkPVAocCx4LHtibG9ja1dpZHRoczpofSk7cmV0dXJue2V4dGVudDplLHNyY0V4dGVudDpMKGUsdGhpcy5yYXN0ZXJJbmZvLnNwYXRpYWxSZWZlcmVuY2Usby5kYXR1bVRyYW5zZm9ybWF0aW9uKSxwaXhlbEJsb2NrOmR9fWFzeW5jIGZldGNoUmF3UGl4ZWxzKGUsdCxpLG89e30pe3Q9e3g6TWF0aC5mbG9vcih0LngpLHk6TWF0aC5mbG9vcih0LnkpfTtjb25zdCByPWF3YWl0IHRoaXMuX2ZldGNoUmF3VGlsZXMoZSx0LGksbykse25hdGl2ZUV4dGVudDpuLG5hdGl2ZVBpeGVsU2l6ZTpzLHN0b3JhZ2VJbmZvOmx9PXRoaXMucmFzdGVySW5mbyxhPTIqKmUsYz1zLngqYSxtPXMueSphLGY9bmV3IEcoe3htaW46bi54bWluK2MqdC54LHhtYXg6bi54bWluK2MqKHQueCtpLndpZHRoLTEpLHltaW46bi55bWF4LW0qKHQueStpLmhlaWdodC0xKSx5bWF4Om4ueW1heC1tKnQueSxzcGF0aWFsUmVmZXJlbmNlOm4uc3BhdGlhbFJlZmVyZW5jZX0pO2lmKCFyKXJldHVybntleHRlbnQ6ZixzcmNFeHRlbnQ6ZixwaXhlbEJsb2NrOm51bGx9O2NvbnN0e3BpeGVsQmxvY2tzOnUsbW9zYWljU2l6ZTpofT1yO2lmKDE9PT11Lmxlbmd0aCYmbnVsbCE9dVswXSYmdVswXS53aWR0aD09PWkud2lkdGgmJnVbMF0uaGVpZ2h0PT09aS5oZWlnaHQpcmV0dXJue2V4dGVudDpmLHNyY0V4dGVudDpmLHBpeGVsQmxvY2s6ci5waXhlbEJsb2Nrc1swXX07Y29uc3QgcD1lPjA/bC5weXJhbWlkQmxvY2tXaWR0aDpsLmJsb2NrV2lkdGgsZD1lPjA/bC5weXJhbWlkQmxvY2tIZWlnaHQ6bC5ibG9ja0hlaWdodCx4PXt4OnQueCVwLHk6dC55JWR9O2xldCB5O2lmKHRoaXMucmFzdGVySm9iSGFuZGxlcil7eT0oYXdhaXQgdGhpcy5yYXN0ZXJKb2JIYW5kbGVyLm1vc2FpY0FuZFRyYW5zZm9ybSh7c3JjUGl4ZWxCbG9ja3M6dSxzcmNNb3NhaWNTaXplOmgsZGVzdERpbWVuc2lvbjppLGNsaXBPZmZzZXQ6eCxjbGlwU2l6ZTppLGNvZWZzOm51bGwsc2FtcGxlU3BhY2luZzpudWxsLGludGVycG9sYXRpb246by5pbnRlcnBvbGF0aW9uLGFsaWdubWVudEluZm86bnVsbCxibG9ja1dpZHRoczpudWxsfSxvKSkucGl4ZWxCbG9ja31lbHNlIHk9UCh1LGgse2NsaXBPZmZzZXQ6eCxjbGlwU2l6ZTppfSk7cmV0dXJue2V4dGVudDpmLHNyY0V4dGVudDpmLHBpeGVsQmxvY2s6eX19ZmV0Y2hSYXdUaWxlKGUsdCxvLHIpe3Rocm93IG5ldyBpKFwiQmFzZVJhc3RlcjpyZWFkLW5vdC1pbXBsZW1lbnRlZFwiLFwiZmV0Y2hSYXdUaWxlKCkgaXMgbm90IGltcGxlbWVudGVkXCIpfWNvbXB1dGVFeHRlbnQoZSl7cmV0dXJuIEwodGhpcy5yYXN0ZXJJbmZvLmV4dGVudCxlKX1kZWNvZGVQaXhlbEJsb2NrKGUsdCl7cmV0dXJuIXRoaXMucmFzdGVySm9iSGFuZGxlcnx8dC51c2VDYW52YXM/dihlLHQpOnRoaXMucmFzdGVySm9iSGFuZGxlci5kZWNvZGUoe2RhdGE6ZSxvcHRpb25zOnR9KX1hc3luYyByZXF1ZXN0KGUsaSxvPTApe2NvbnN0e2N1c3RvbUZldGNoUGFyYW1ldGVyczpyfT10aGlzLmlvQ29uZmlnLHtyYW5nZTpuLHF1ZXJ5OnMsaGVhZGVyczpsfT1pO289bz8/aS5yZXRyeUNvdW50Pz90aGlzLmlvQ29uZmlnLnJldHJ5Q291bnQ7Y29uc3QgYT1uP3tSYW5nZTpgYnl0ZXM9JHtuLmZyb219LSR7bi50b31gfTpudWxsO3RyeXtyZXR1cm4gYXdhaXQgdChlLHsuLi5pLHF1ZXJ5OnsuLi5zLC4uLnJ9LGhlYWRlcnM6ey4uLmwsLi4uYX19KX1jYXRjaChjKXtpZihvPjApcmV0dXJuIG8tLSx0aGlzLnJlcXVlc3QoZSxpLG8pO3Rocm93IGN9fWdldFNsaWNlSW5kZXgoZSl7Y29uc3R7bXVsdGlkaW1lbnNpb25hbEluZm86dH09dGhpcy5yYXN0ZXJJbmZvO3JldHVybiBudWxsPT10fHxudWxsPT1lfHwwPT09ZS5sZW5ndGg/bnVsbDp5KGUsdCl9Z2V0VGlsZUV4dGVudEZyb21UaWxlSW5mbyhlLHQsaSxvKXtjb25zdCByPW8ubG9kQXQoZSk7cmV0dXJuIHRoaXMuZ2V0VGlsZUV4dGVudCh7eDpyLnJlc29sdXRpb24seTpyLnJlc29sdXRpb259LHQsaSxvLm9yaWdpbixvLnNwYXRpYWxSZWZlcmVuY2Usby5zaXplKX11cGRhdGVUaWxlSW5mbygpe2NvbnN0e3N0b3JhZ2VJbmZvOmUsc3BhdGlhbFJlZmVyZW5jZTp0LGV4dGVudDppLHBpeGVsU2l6ZTpvfT10aGlzLnJhc3RlckluZm87aWYoIWUudGlsZUluZm8pe2NvbnN0IHI9W10sbj1lLm1heGltdW1QeXJhbWlkTGV2ZWx8fDA7bGV0IHM9TWF0aC5tYXgoby54LG8ueSksbD0xLy4wMjU0Kjk2KnM7Zm9yKGxldCBlPTA7ZTw9bjtlKyspci51bnNoaWZ0KG5ldyBoKHtsZXZlbDpuLWUscmVzb2x1dGlvbjpzLHNjYWxlOmx9KSkscyo9MixsKj0yO2NvbnN0IGE9bmV3IHEoe3g6aS54bWluLHk6aS55bWF4LHNwYXRpYWxSZWZlcmVuY2U6dH0pO2UudGlsZUluZm89bmV3IGQoe29yaWdpbjphLHNpemU6W2UuYmxvY2tXaWR0aCxlLmJsb2NrSGVpZ2h0XSxzcGF0aWFsUmVmZXJlbmNlOnQsbG9kczpyfSksZS5pc1ZpcnR1YWxUaWxlSW5mbz0hMH19Y3JlYXRlUmVtb3RlRGF0YXNldFN0b3JhZ2VJbmZvKGUsdD01MTIsaT01MTIsbyl7Y29uc3R7d2lkdGg6cixoZWlnaHQ6bixuYXRpdmVFeHRlbnQ6cyxwaXhlbFNpemU6bCxzcGF0aWFsUmVmZXJlbmNlOmF9PWUsYz1uZXcgcSh7eDpzLnhtaW4seTpzLnltYXgsc3BhdGlhbFJlZmVyZW5jZTphfSk7bnVsbD09byYmKG89TWF0aC5tYXgoMCxNYXRoLnJvdW5kKE1hdGgubG9nKE1hdGgubWF4KHIsbikpL01hdGguTE4yLTgpKSk7Y29uc3QgbT10aGlzLmNvbXB1dGVCbG9ja0JvdW5kYXJ5KHMsNTEyLDUxMix7eDpzLnhtaW4seTpzLnltYXh9LFtsXSxvKTtlLnN0b3JhZ2VJbmZvPW5ldyBwKHtibG9ja1dpZHRoOnQsYmxvY2tIZWlnaHQ6aSxweXJhbWlkQmxvY2tXaWR0aDp0LHB5cmFtaWRCbG9ja0hlaWdodDppLG9yaWdpbjpjLGZpcnN0UHlyYW1pZExldmVsOjEsbWF4aW11bVB5cmFtaWRMZXZlbDpvLGJsb2NrQm91bmRhcnk6bX0pfWFzeW5jIGNvbXB1dGVCZXN0UHlyYW1pZExldmVsRm9yTG9jYXRpb24oZSx0PXt9KXtyZXR1cm4gMH1jb21wdXRlQmxvY2tCb3VuZGFyeShlLHQsaSxvLHIsbj0wLHM9Mil7aWYoMT09PXIubGVuZ3RoJiZuPjApe3I9Wy4uLnJdO2xldHt4OmUseTp0fT1yWzBdO2ZvcihsZXQgaT0wO2k8bjtpKyspZSo9cyx0Kj1zLHIucHVzaCh7eDplLHk6dH0pfWNvbnN0IGw9W10se3g6YSx5OmN9PW87Zm9yKGxldCBtPTA7bTxyLmxlbmd0aDttKyspe2NvbnN0e3g6byx5Om59PXJbbV07bC5wdXNoKHttaW5Db2w6TWF0aC5mbG9vcigoZS54bWluLWErLjEqbykvdC9vKSxtYXhDb2w6TWF0aC5mbG9vcigoZS54bWF4LWEtLjEqbykvdC9vKSxtaW5Sb3c6TWF0aC5mbG9vcigoYy1lLnltYXgrLjEqbikvaS9uKSxtYXhSb3c6TWF0aC5mbG9vcigoYy1lLnltaW4tLjEqbikvaS9uKX0pfXJldHVybiBsfWdldFB5cmFtaWRQaXhlbFNpemUoZSl7Y29uc3R7bmF0aXZlUGl4ZWxTaXplOnR9PXRoaXMucmFzdGVySW5mbyx7cHlyYW1pZFJlc29sdXRpb25zOmkscHlyYW1pZFNjYWxpbmdGYWN0b3I6b309dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvO2lmKDA9PT1lKXJldHVybiB0O2lmKG51bGwhPWkmJmkubGVuZ3RoKXJldHVybiBpW2UtMV07Y29uc3Qgcj1vKiplO3JldHVybnt4OnQueCpyLHk6dC55KnJ9fWlkZW50aWZ5UGl4ZWxMb2NhdGlvbihlLHQsaSxvKXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOnIsbmF0aXZlRXh0ZW50Om4sc3RvcmFnZUluZm86c309dGhpcy5yYXN0ZXJJbmZvLHttYXhpbXVtUHlyYW1pZExldmVsOmwsb3JpZ2luOmEsdHJhbnNwb3NlSW5mbzpjfT1zLG09byYmbnVsbCE9Yz9jLnRpbGVTaXplWzBdOnMuYmxvY2tXaWR0aCxmPW8mJm51bGwhPWM/Yy50aWxlU2l6ZVsxXTpzLmJsb2NrSGVpZ2h0LHU9QyhlLHIsaSk7aWYoIW4uaW50ZXJzZWN0cyh1KSlyZXR1cm4gbnVsbDtpZih0PDB8fHQ+bClyZXR1cm4gbnVsbDtjb25zdCBoPXRoaXMuZ2V0UHlyYW1pZFBpeGVsU2l6ZSh0KSx7eDpwLHk6ZH09aCx4PShhLnktdS55KS9kL2YseT0odS54LWEueCkvcC9tLGc9TWF0aC5taW4oZi0xLE1hdGguZmxvb3IoKHgtTWF0aC5mbG9vcih4KSkqZikpLEk9TWF0aC5taW4obS0xLE1hdGguZmxvb3IoKHktTWF0aC5mbG9vcih5KSkqbSkpO3JldHVybntweXJhbWlkTGV2ZWw6dCxyb3c6TWF0aC5mbG9vcih4KSxjb2w6TWF0aC5mbG9vcih5KSxyb3dPZmZzZXQ6Zyxjb2xPZmZzZXQ6SSxibG9ja1dpZHRoOm0sc3JjTG9jYXRpb246dX19Z2V0VGlsZUV4dGVudChlLHQsaSxvLHIsbil7Y29uc3RbcyxsXT1uLGE9by54K2kqcyplLngsYz1hK3MqZS54LG09by55LXQqbCplLnksZj1tLWwqZS55O3JldHVybiBuZXcgRyh7eG1pbjphLHhtYXg6Yyx5bWluOmYseW1heDptLHNwYXRpYWxSZWZlcmVuY2U6cn0pfWdldEJsb2NrV2lkdGhIZWlnaHQoZSl7cmV0dXJue2Jsb2NrV2lkdGg6ZT4wP3RoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5weXJhbWlkQmxvY2tXaWR0aDp0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uYmxvY2tXaWR0aCxibG9ja0hlaWdodDplPjA/dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLnB5cmFtaWRCbG9ja0hlaWdodDp0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uYmxvY2tIZWlnaHR9fWlzQmxvY2tPdXRzaWRlKGUsdCxpKXtjb25zdCBvPXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5ibG9ja0JvdW5kYXJ5W2VdO3JldHVybiFvfHxvLm1heFJvdzx0fHxvLm1heENvbDxpfHxvLm1pblJvdz50fHxvLm1pbkNvbD5pfWFzeW5jIF9mZXRjaFBpeGVscyhlLHQsaSxvPXt9KXtsZXQgcj16KGUpO2lmKHI+PTIpcmV0dXJue2V4dGVudDplLHBpeGVsQmxvY2s6bnVsbH07Y29uc3Qgbj10aGlzLl9nZXRTb3VyY2VEYXRhSW5mbyhlLHQsaSxvKSx7cHlyYW1pZExldmVsOnMsc3JjUmVzb2x1dGlvbjpsLHNyY0V4dGVudDphLHNyY1dpZHRoOmMsc3JjSGVpZ2h0Om0sdWw6Zn09bjtpZigwPT09Y3x8MD09PW0pcmV0dXJue2V4dGVudDplLHNyY0V4dGVudDphLHBpeGVsQmxvY2s6bnVsbH07Y29uc3R7cmFzdGVySW5mbzp1fT10aGlzLGg9dS50cmFuc2Zvcm0scD1cImdjcy1zaGlmdFwiPT09aD8udHlwZSxkPW51bGwhPVcoZS5zcGF0aWFsUmVmZXJlbmNlKTshcCYmZHx8KHI9eihuLnNyY0V4dGVudCxwKSk7Y29uc3QgeD1hd2FpdCB0aGlzLl9mZXRjaFJhd1RpbGVzKHMsZix7d2lkdGg6YyxoZWlnaHQ6bSx3cmFwQ291bnQ6cn0sbyk7aWYoIXgpcmV0dXJue2V4dGVudDplLHNyY0V4dGVudDphLHBpeGVsQmxvY2s6bnVsbH07Y29uc3QgeT11LnN0b3JhZ2VJbmZvLGc9cz4wP3kucHlyYW1pZEJsb2NrV2lkdGg6eS5ibG9ja1dpZHRoLEk9cz4wP3kucHlyYW1pZEJsb2NrSGVpZ2h0OnkuYmxvY2tIZWlnaHQ7bGV0e3g6Uix5Ond9PXUucGl4ZWxTaXplO2lmKHM+MCl7Y29uc3R7cHlyYW1pZFJlc29sdXRpb25zOmUscHlyYW1pZFNjYWxpbmdGYWN0b3I6dH09eTtpZihudWxsIT1lJiZlW3MtMV0pKHt4OlIseTp3fT1lW3MtMV0pO2Vsc2V7Y29uc3QgZT10KipzO1IqPWUsdyo9ZX19Y29uc3QgUz11LnNwYXRpYWxSZWZlcmVuY2Usaz1uZXcgcSh7eDpSLHk6dyxzcGF0aWFsUmVmZXJlbmNlOlN9KSxUPWc9PT1jJiZJPT09bSYmZi54JWc9PTAmJmYueSVJPT0wLGI9bmV3IHEoe3g6KGUueG1heC1lLnhtaW4pL3QseTooZS55bWF4LWUueW1pbikvaSxzcGF0aWFsUmVmZXJlbmNlOmUuc3BhdGlhbFJlZmVyZW5jZX0pLHY9IWUuc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHMoUyksQz1TLmlzR2VvZ3JhcGhpYz8xZS05OjFlLTQse2RhdHVtVHJhbnNmb3JtYXRpb246an09bztpZighdiYmVCYmMT09PXgucGl4ZWxCbG9ja3MubGVuZ3RoJiZnPT09dCYmST09PWkmJnRoaXMuX2lzU2FtZVJlc29sdXRpb24obCxiLEMpKXJldHVybntleHRlbnQ6ZSxzcmNFeHRlbnQ6YSxzcmNUaWxlUGl4ZWxTaXplOmsscGl4ZWxCbG9jazp4LnBpeGVsQmxvY2tzWzBdfTtjb25zdCBIPWQmJm51bGwhPVcoYS5zcGF0aWFsUmVmZXJlbmNlKSYmdGhpcy5faGFzTm9uZU9yR0NTU2hpZnRUcmFuc2Zvcm0sTD1vLnJlcXVlc3RQcm9qZWN0ZWRMb2NhbERpcmVjdGlvbnMmJnRoaXMucmFzdGVySW5mby5kYXRhVHlwZS5zdGFydHNXaXRoKFwidmVjdG9yXCIpO0wmJiF0aGlzLnJhc3RlckpvYkhhbmRsZXImJmF3YWl0IF8oKTtjb25zdCBEPXRoaXMucmFzdGVySm9iSGFuZGxlcj9hd2FpdCB0aGlzLnJhc3RlckpvYkhhbmRsZXIuZ2V0UHJvamVjdGlvbk9mZnNldEdyaWQoe3Byb2plY3RlZEV4dGVudDplLHNyY0J1ZmZlckV4dGVudDp4LmV4dGVudCxwaXhlbFNpemU6Yi50b0pTT04oKSxkYXR1bVRyYW5zZm9ybWF0aW9uOmoscmFzdGVyVHJhbnNmb3JtOmgsaGFzV3JhcEFyb3VuZDpyPjB8fEgsaXNBZGFwdGl2ZTohMSE9PXRoaXMuaW9Db25maWcub3B0aW1pemVQcm9qZWN0aW9uQWNjdXJhY3ksaW5jbHVkZUdDU0dyaWQ6TH0sbyk6RSh7cHJvamVjdGVkRXh0ZW50OmUsc3JjQnVmZmVyRXh0ZW50OnguZXh0ZW50LHBpeGVsU2l6ZTpiLGRhdHVtVHJhbnNmb3JtYXRpb246aixyYXN0ZXJUcmFuc2Zvcm06aCxoYXNXcmFwQXJvdW5kOnI+MHx8SCxpc0FkYXB0aXZlOiExLGluY2x1ZGVHQ1NHcmlkOkx9KTtsZXQgRjtjb25zdCBBPSFvLnJlcXVlc3RSYXdEYXRhLEc9e3Jvd3M6RC5zcGFjaW5nWzBdLGNvbHM6RC5zcGFjaW5nWzFdfSxKPXRoaXMuX2hhc05vbmVPckdDU1NoaWZ0VHJhbnNmb3JtP3RoaXMuX2dldFJhc3RlclRpbGVBbGlnbm1lbnRJbmZvKHMseC5leHRlbnQueG1pbik6dm9pZCAwLHtwaXhlbEJsb2NrczpOLG1vc2FpY1NpemU6Vixpc1BhcnRpYWxseUZpbGxlZDpVfT14O2xldCAkPW51bGw7aWYodGhpcy5yYXN0ZXJKb2JIYW5kbGVyKXtjb25zdCBlPWF3YWl0IHRoaXMucmFzdGVySm9iSGFuZGxlci5tb3NhaWNBbmRUcmFuc2Zvcm0oe3NyY1BpeGVsQmxvY2tzOk4sc3JjTW9zYWljU2l6ZTpWLGRlc3REaW1lbnNpb246QT97d2lkdGg6dCxoZWlnaHQ6aX06bnVsbCxjb2VmczpBP0QuY29lZmZpY2llbnRzOm51bGwsc2FtcGxlU3BhY2luZzpBP0c6bnVsbCxwcm9qZWN0RGlyZWN0aW9uczpMLGdjc0dyaWQ6TD9ELmdjc0dyaWQ6bnVsbCxpc1VWOlwidmVjdG9yLXV2XCI9PT10aGlzLnJhc3RlckluZm8uZGF0YVR5cGUsaW50ZXJwb2xhdGlvbjpvLmludGVycG9sYXRpb24sYWxpZ25tZW50SW5mbzpKLGJsb2NrV2lkdGhzOm51bGx9LG8pOyh7cGl4ZWxCbG9jazpGLGxvY2FsTm9ydGhEaXJlY3Rpb25zOiR9PWUpfWVsc2V7Y29uc3QgZT1QKE4sVix7YWxpZ25tZW50SW5mbzpKfSk7Rj1BP0IoZSx7d2lkdGg6dCxoZWlnaHQ6aX0sRC5jb2VmZmljaWVudHMsRyxvLmludGVycG9sYXRpb24pOmUsTCYmRC5nY3NHcmlkJiYoJD1NKHt3aWR0aDp0LGhlaWdodDppfSxELmdjc0dyaWQpLEY9TyhGLHRoaXMucmFzdGVySW5mby5kYXRhVHlwZSwkKSl9cmV0dXJuIG8ucmVxdWVzdFJhd0RhdGF8fEw/e2V4dGVudDplLHNyY0V4dGVudDphLHNyY1RpbGVQaXhlbFNpemU6ayxwaXhlbEJsb2NrOkYsdHJhbnNmb3JtR3JpZDpELGxvY2FsTm9ydGhEaXJlY3Rpb25zOiQsaXNQYXJ0aWFsbHlGaWxsZWQ6VX06e2V4dGVudDplLHNyY0V4dGVudDphLHNyY1RpbGVQaXhlbFNpemU6ayxwaXhlbEJsb2NrOkZ9fWFzeW5jIF9mZXRjaFJhd1RpbGVzKGUsdCxpLG8pe2NvbnN0e29yaWdpbjpyLGJsb2NrQm91bmRhcnk6bn09dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLHtibG9ja1dpZHRoOnMsYmxvY2tIZWlnaHQ6bH09dGhpcy5nZXRCbG9ja1dpZHRoSGVpZ2h0KGUpO2xldHt4OmEseTpjfT10LHt3aWR0aDptLGhlaWdodDpmLHdyYXBDb3VudDp1fT1pO2NvbnN0IGg9dGhpcy5fZ2V0UmFzdGVyVGlsZUFsaWdubWVudEluZm8oZSwwKTtvLmJ1ZmZlciYmKGEtPW8uYnVmZmVyLmNvbHMsYy09by5idWZmZXIucm93cyxtKz0yKm8uYnVmZmVyLmNvbHMsZis9MipvLmJ1ZmZlci5yb3dzKTtsZXQgcD0wLGQ9MCx4PTA7aWYodSYmbnVsbCE9aCl7KHt3b3JsZENvbHVtbkNvdW50RnJvbU9yaWdpbjpkLG9yaWdpbkNvbHVtbk9mZnNldDp4LHJpZ2h0UGFkZGluZzpwfT1oKTtkKmguYmxvY2tXaWR0aC1wPj1hK20mJihwPTApfWNvbnN0IHk9TWF0aC5mbG9vcihhL3MpLGc9TWF0aC5mbG9vcihjL2wpLEk9TWF0aC5mbG9vcigoYSttK3AtMSkvcyksUj1NYXRoLmZsb29yKChjK2YrcC0xKS9sKSx3PW5bZV07aWYoIXcpcmV0dXJuIG51bGw7Y29uc3R7bWluUm93OlMsbWluQ29sOmssbWF4Q29sOlQsbWF4Um93OmJ9PXc7aWYoMD09PXUmJihSPFN8fEk8a3x8Zz5ifHx5PlQpKXJldHVybiBudWxsO2NvbnN0IHY9bmV3IEFycmF5O2xldCBQPSExO2NvbnN0IEI9bnVsbD09dGhpcy5pb0NvbmZpZy5hbGxvd1BhcnRpYWxGaWxsP28uYWxsb3dQYXJ0aWFsRmlsbDp0aGlzLmlvQ29uZmlnLmFsbG93UGFydGlhbEZpbGw7Zm9yKGxldCB6PWc7ejw9Ujt6KyspZm9yKGxldCB0PXk7dDw9STt0Kyspe2xldCBpPXQ7aWYoIW8uZGlzYWJsZVdyYXBBcm91bmQmJnUmJm51bGwhPWgmJmQ8PXQmJihpPXQtZC14KSx6Pj1TJiZpPj1rJiZiPj16JiZUPj1pKXtjb25zdCB0PXRoaXMuX2ZldGNoUmF3VGlsZShlLHosaSxvKTtCP3YucHVzaChuZXcgUHJvbWlzZSgoZT0+e3QudGhlbigodD0+ZSh0KSkpLmNhdGNoKCgoKT0+e1A9ITAsZShudWxsKX0pKX0pKSk6di5wdXNoKHQpfWVsc2Ugdi5wdXNoKFByb21pc2UucmVzb2x2ZShudWxsKSl9aWYoMD09PXYubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IE09YXdhaXQgUHJvbWlzZS5hbGwodiksXz17aGVpZ2h0OihSLWcrMSkqbCx3aWR0aDooSS15KzEpKnN9LHtzcGF0aWFsUmVmZXJlbmNlOld9PXRoaXMucmFzdGVySW5mbyxDPXRoaXMuZ2V0UHlyYW1pZFBpeGVsU2l6ZShlKSx7eDpqLHk6SH09QztyZXR1cm57ZXh0ZW50Om5ldyBHKHt4bWluOnIueCt5KnMqaix4bWF4OnIueCsoSSsxKSpzKmoseW1pbjpyLnktKFIrMSkqbCpILHltYXg6ci55LWcqbCpILHNwYXRpYWxSZWZlcmVuY2U6V30pLHBpeGVsQmxvY2tzOk0sbW9zYWljU2l6ZTpfLGlzUGFydGlhbGx5RmlsbGVkOlB9fV9pc1NhbWVSZXNvbHV0aW9uKGUsdCxpKXtyZXR1cm4gTWF0aC5hYnMoZS54LXQueCk8aSYmTWF0aC5hYnMoZS55LXQueSk8aX1fZmV0Y2hSYXdUaWxlKGUsdCxpLG8pe2NvbnN0IHI9dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmJsb2NrQm91bmRhcnlbZV07aWYoIXIpcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtjb25zdHttaW5Sb3c6bixtaW5Db2w6bCxtYXhDb2w6YSxtYXhSb3c6Y309cjtpZih0PG58fGk8bHx8dD5jfHxpPmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtjb25zdCBtPVIodGhpcy51cmwsby5zbGljZUlkKSxmPWAke2V9LyR7dH0vJHtpfWA7bGV0IHU9dyhtLG8ucmVnaXN0cnlJZCxmKTtpZihudWxsPT11KXtjb25zdCByPW5ldyBBYm9ydENvbnRyb2xsZXI7dT10aGlzLmZldGNoUmF3VGlsZShlLHQsaSx7Li4ubyxzaWduYWw6ci5zaWduYWx9KSxTKG0sby5yZWdpc3RyeUlkLGYsdSxyKSx1LmNhdGNoKCgoKT0+ayhtLG8ucmVnaXN0cnlJZCxmKSkpfXJldHVybiBvLnNpZ25hbCYmcyhvLCgoKT0+e1QobSxvLnJlZ2lzdHJ5SWQsZil9KSksdX1fY29tcHV0ZU1hZ0RpclZhbHVlcyhlKXtjb25zdHtiYW5kQ291bnQ6dCxkYXRhVHlwZTppfT10aGlzLnJhc3RlckluZm87aWYoISgyPT09dCYmXCJ2ZWN0b3ItbWFnZGlyXCI9PT1pfHxcInZlY3Rvci11dlwiPT09aSl8fDIhPT1lPy5sZW5ndGh8fCFlWzBdPy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3Qgbz1lWzBdLmxlbmd0aDtpZihcInZlY3Rvci1tYWdkaXJcIj09PWkpe2NvbnN0IHQ9ZVsxXS5tYXAoKGU9PihlKzM2MCklMzYwKSk7cmV0dXJuW2VbMF0sdF19Y29uc3RbcixuXT1lLHM9W10sbD1bXTtmb3IobGV0IGE9MDthPG87YSsrKXtjb25zdFtlLHRdPUEoW3JbYV0sblthXV0pO3MucHVzaChlKSxsLnB1c2godCl9cmV0dXJuW3MsbF19X2dldFJhc3RlclRpbGVBbGlnbm1lbnRJbmZvKGUsdCl7cmV0dXJuIG51bGw9PXRoaXMuX3Jhc3RlclRpbGVBbGlnaG1lbnRJbmZvJiYodGhpcy5fcmFzdGVyVGlsZUFsaWdobWVudEluZm89RCh0aGlzLnJhc3RlckluZm8pKSxudWxsPT10aGlzLl9yYXN0ZXJUaWxlQWxpZ2htZW50SW5mby5weXJhbWlkc0luZm8/bnVsbDp7c3RhcnRYOnQsaGFsZldvcmxkV2lkdGg6dGhpcy5fcmFzdGVyVGlsZUFsaWdobWVudEluZm8uaGFsZldvcmxkV2lkdGgsaGFzR0NTU1NoaWZ0VHJhbnNmb3JtOnRoaXMuX3Jhc3RlclRpbGVBbGlnaG1lbnRJbmZvLmhhc0dDU1NTaGlmdFRyYW5zZm9ybSwuLi50aGlzLl9yYXN0ZXJUaWxlQWxpZ2htZW50SW5mby5weXJhbWlkc0luZm9bZV19fV9nZXRTb3VyY2VEYXRhSW5mbyhlLHQsaSxvPXt9KXtjb25zdCByPXtkYXR1bVRyYW5zZm9ybWF0aW9uOm8uZGF0dW1UcmFuc2Zvcm1hdGlvbixweXJhbWlkTGV2ZWw6MCxweXJhbWlkUmVzb2x1dGlvbjpudWxsLHNyY0V4dGVudDpudWxsLHNyY0hlaWdodDowLHNyY1Jlc29sdXRpb246bnVsbCxzcmNXaWR0aDowLHVsOnt4OjAseTowfX07by5zcmNSZXNvbHV0aW9uJiYoci5zcmNSZXNvbHV0aW9uPW8uc3JjUmVzb2x1dGlvbix0aGlzLl91cGRhdGVTb3VyY2VEYXRhSW5mbyhlLHIpKTtjb25zdCBuPXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5tYXhpbXVtUHlyYW1pZExldmVsfHwwLHtzcmNXaWR0aDpzLHNyY0hlaWdodDpsLHB5cmFtaWRMZXZlbDphfT1yLGM9cy90LG09bC9pLGY9YTxuJiZjKm0+PTE2LHU9YT09PW4mJnRoaXMuX3JlcXVpcmVUb29NYW55U3JjVGlsZXMocyxsLHQsaSk7aWYoZnx8dXx8KDA9PT1zfHwwPT09bCkpe2NvbnN0IHM9bmV3IHEoe3g6KGUueG1heC1lLnhtaW4pL3QseTooZS55bWF4LWUueW1pbikvaSxzcGF0aWFsUmVmZXJlbmNlOmUuc3BhdGlhbFJlZmVyZW5jZX0pO2xldCBsPUYocyx0aGlzLnJhc3RlckluZm8uc3BhdGlhbFJlZmVyZW5jZSxlLHIuZGF0dW1UcmFuc2Zvcm1hdGlvbik7Y29uc3QgdT0hbHx8by5zcmNSZXNvbHV0aW9uJiZsLngrbC55PG8uc3JjUmVzb2x1dGlvbi54K28uc3JjUmVzb2x1dGlvbi55O2lmKGYmJm8uc3JjUmVzb2x1dGlvbiYmdSl7Y29uc3QgZT1NYXRoLnJvdW5kKE1hdGgubG9nKE1hdGgubWF4KGMsbSkpL01hdGguTE4yKS0xO2lmKG4tYSszPj1lKXtjb25zdCB0PTIqKmU7bD17eDpvLnNyY1Jlc29sdXRpb24ueCp0LHk6by5zcmNSZXNvbHV0aW9uLnkqdH19fWwmJihyLnNyY1Jlc29sdXRpb249bCx0aGlzLl91cGRhdGVTb3VyY2VEYXRhSW5mbyhlLHIpKX1yZXR1cm4gdGhpcy5fcmVxdWlyZVRvb01hbnlTcmNUaWxlcyhyLnNyY1dpZHRoLHIuc3JjSGVpZ2h0LHQsaSkmJihyLnNyY1dpZHRoPTAsci5zcmNIZWlnaHQ9MCkscn1fcmVxdWlyZVRvb01hbnlTcmNUaWxlcyhlLHQsaSxvKXtjb25zdHt0aWxlSW5mbzpyfT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm87cmV0dXJuIE1hdGguY2VpbChlL3Iuc2l6ZVswXSkqTWF0aC5jZWlsKHQvci5zaXplWzFdKT49Tnx8ZS9pPkp8fHQvbz5KfV91cGRhdGVTb3VyY2VEYXRhSW5mbyhlLHQpe3Quc3JjV2lkdGg9MCx0LnNyY0hlaWdodD0wO2NvbnN0e3Jhc3RlckluZm86aX09dGhpcyxvPWkuc3BhdGlhbFJlZmVyZW5jZSx7c3JjUmVzb2x1dGlvbjpyLGRhdHVtVHJhbnNmb3JtYXRpb246bn09dCx7cHlyYW1pZExldmVsOnMscHlyYW1pZFJlc29sdXRpb246bCxleGNlc3NpdmVSZWFkaW5nOmF9PWoocixpLHRoaXMuaW9Db25maWcuc2FtcGxpbmcpO2lmKGEpcmV0dXJuO2xldCBjPXQuc3JjRXh0ZW50fHxMKGUsbyxuKTtpZihudWxsPT1jKXJldHVybjtjb25zdCBtPWkudHJhbnNmb3JtO20mJihjPW0uaW52ZXJzZVRyYW5zZm9ybShjKSksdC5zcmNFeHRlbnQ9Yztjb25zdHt4OmYseTp1fT1pLnN0b3JhZ2VJbmZvLm9yaWdpbixoPU1hdGguZmxvb3IoKGMueG1pbi1mKS9sLngrLjEpLHA9TWF0aC5mbG9vcigodS1jLnltYXgpL2wueSsuMSksZD1NYXRoLmZsb29yKChjLnhtYXgtZikvbC54LS4xKSx4PU1hdGguZmxvb3IoKHUtYy55bWluKS9sLnktLjEpLHk9Yy53aWR0aDwuMSpsLng/MDpkLWgrMSxnPWMuaGVpZ2h0PC4xKmwueT8wOngtcCsxO3QucHlyYW1pZExldmVsPXMsdC5weXJhbWlkUmVzb2x1dGlvbj1sLHQuc3JjV2lkdGg9eSx0LnNyY0hlaWdodD1nLHQudWw9e3g6aCx5OnB9fV9nZXRSZXF1ZXN0T3B0aW9uc1dpdGhTbGljZUlkKGUpe3JldHVybiBudWxsIT10aGlzLnJhc3RlckluZm8ubXVsdGlkaW1lbnNpb25hbEluZm8mJm51bGw9PWUuc2xpY2VJZCYmKGU9ey4uLmUsc2xpY2VJZDp0aGlzLmdldFNsaWNlSW5kZXgoZS5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbil9KSxlfV9wcm9jZXNzSWRlbnRpZnlSZXN1bHQoZSx0KXtjb25zdHtzcmNMb2NhdGlvbjppLHBvc2l0aW9uOm8scHlyYW1pZExldmVsOnIsdXNlVHJhbnNwb3NlZFRpbGU6bn09dCxzPWUucGl4ZWxzWzBdLmxlbmd0aC9lLndpZHRoL2UuaGVpZ2h0O2lmKCEoIWUubWFza3x8ZS5tYXNrW29dKSlyZXR1cm57bG9jYXRpb246aSx2YWx1ZTpudWxsfTtjb25zdHttdWx0aWRpbWVuc2lvbmFsSW5mbzpsfT10aGlzLnJhc3RlckluZm87aWYobnVsbD09bHx8IW4pe2NvbnN0IHQ9ZS5waXhlbHMubWFwKChlPT5lW29dKSksbj17bG9jYXRpb246aSx2YWx1ZTp0LHB5cmFtaWRMZXZlbDpyfSxzPXRoaXMuX2NvbXB1dGVNYWdEaXJWYWx1ZXModC5tYXAoKGU9PltlXSkpKTtyZXR1cm4gcz8ubGVuZ3RoJiYobi5tYWdkaXJWYWx1ZT1zLm1hcCgoZT0+ZVswXSkpKSxufWxldCBhPWUucGl4ZWxzLm1hcCgoZT0+ZS5zbGljZShvKnMsbypzK3MpKSksYz10aGlzLl9jb21wdXRlTWFnRGlyVmFsdWVzKGEpO2NvbnN0e3JlcXVlc3RTb21lU2xpY2VzOm0saWRlbnRpZnlPcHRpb25zOmZ9PXQ7bGV0IGg9ZyhsLGYudHJhbnNwb3NlZFZhcmlhYmxlTmFtZSk7aWYobSl7Y29uc3QgZT1JKGgsZi5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbixmLnRpbWVFeHRlbnQpO2E9YS5tYXAoKHQ9PmUubWFwKChlPT50W2VdKSkpKSxjPWM/Lm1hcCgodD0+ZS5tYXAoKGU9PnRbZV0pKSkpLGg9ZS5tYXAoKGU9PmhbZV0pKX1jb25zdCBwPWUubm9EYXRhVmFsdWVzfHx0aGlzLnJhc3RlckluZm8ubm9EYXRhVmFsdWUsZD17cGl4ZWxzOmEscGl4ZWxUeXBlOmUucGl4ZWxUeXBlfTtsZXQgeDtudWxsIT1wJiYoYihkLHApLHg9ZC5tYXNrKTtyZXR1cm57bG9jYXRpb246aSx2YWx1ZTpudWxsLGRhdGFTZXJpZXM6aC5tYXAoKChlLHQpPT57Y29uc3QgaT17dmFsdWU6MD09PXg/Llt0XT9udWxsOmEubWFwKChlPT5lW3RdKSksbXVsdGlkaW1lbnNpb25hbERlZmluaXRpb246ZS5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbi5tYXAoKGU9Pm5ldyB1KHsuLi5lLGlzU2xpY2U6ITB9KSkpfTtyZXR1cm4gYz8ubGVuZ3RoJiYoaS5tYWdkaXJWYWx1ZT1bY1swXVt0XSxjWzFdW3RdXSksaX0pKSxweXJhbWlkTGV2ZWw6cn19fTtlKFtsKCldLFYucHJvdG90eXBlLFwiX3Jhc3RlclRpbGVBbGlnaG1lbnRJbmZvXCIsdm9pZCAwKSxlKFtsKHtyZWFkT25seTohMH0pXSxWLnByb3RvdHlwZSxcIl9pc0dsb2JhbFdyYXBwYWJsZVNvdXJjZVwiLG51bGwpLGUoW2woe3JlYWRPbmx5OiEwfSldLFYucHJvdG90eXBlLFwiX2hhc05vbmVPckdDU1NoaWZ0VHJhbnNmb3JtXCIsbnVsbCksZShbbCgpXSxWLnByb3RvdHlwZSxcInJhc3RlckpvYkhhbmRsZXJcIixudWxsKSxlKFtsKGYpXSxWLnByb3RvdHlwZSxcInVybFwiLG51bGwpLGUoW2woe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxWLnByb3RvdHlwZSxcImRhdGFzZXROYW1lXCIsdm9pZCAwKSxlKFtsKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sVi5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSxlKFtsKCldLFYucHJvdG90eXBlLFwiaGFzVW5pcXVlU291cmNlU3RvcmFnZUluZm9cIix2b2lkIDApLGUoW2woKV0sVi5wcm90b3R5cGUsXCJyYXN0ZXJJbmZvXCIsdm9pZCAwKSxlKFtsKCldLFYucHJvdG90eXBlLFwiaW9Db25maWdcIix2b2lkIDApLGUoW2woKV0sVi5wcm90b3R5cGUsXCJzb3VyY2VKU09OXCIsdm9pZCAwKSxWPWUoW2MoXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlckRhdGFzZXRzLkJhc2VSYXN0ZXJcIildLFYpO2NvbnN0IFU9VjtleHBvcnR7VSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vTE9ELmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vUmFzdGVySW5mby5qc1wiO2ltcG9ydCBhIGZyb21cIi4uL1Jhc3RlclN0b3JhZ2VJbmZvLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vVGlsZUluZm8uanNcIjtpbXBvcnQgbCBmcm9tXCIuL0Jhc2VSYXN0ZXIuanNcIjtpbXBvcnQgZiBmcm9tXCIuL0RCRlBhcnNlci5qc1wiO2ltcG9ydHtpc1RyYW5zZm9ybVN1cHBvcnRlZCBhcyBtLHJlYWRUcmFuc2Zvcm0gYXMgY31mcm9tXCIuLi9yYXN0ZXJUcmFuc2Zvcm1zL3V0aWxzLmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L0ZlYXR1cmVTZXQuanNcIjtpbXBvcnQgZCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IGggZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtjb25zdCBnPW5ldyBNYXA7Zy5zZXQoXCJpbnQxNlwiLFwiZXNyaUZpZWxkVHlwZVNtYWxsSW50ZWdlclwiKSxnLnNldChcImludDMyXCIsXCJlc3JpRmllbGRUeXBlSW50ZWdlclwiKSxnLnNldChcImludDY0XCIsXCJlc3JpRmllbGRUeXBlSW50ZWdlclwiKSxnLnNldChcImZsb2F0MzJcIixcImVzcmlGaWVsZFR5cGVTaW5nbGVcIiksZy5zZXQoXCJmbG9hdDY0XCIsXCJlc3JpRmllbGRUeXBlRG91YmxlXCIpLGcuc2V0KFwidGV4dFwiLFwiZXNyaUZpZWxkVHlwZVN0cmluZ1wiKTtjb25zdCB5PTg7bGV0IHg9Y2xhc3MgZXh0ZW5kcyBse2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnN0b3JhZ2VJbmZvPW51bGwsdGhpcy5kYXRhc2V0Rm9ybWF0PVwiQ1JGXCJ9YXN5bmMgb3BlbihlKXthd2FpdCB0aGlzLmluaXQoKTtjb25zdHtkYXRhOnJ9PWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi9jb25mLmpzb25cIix7c2lnbmFsOmU/LnNpZ25hbH0pO2lmKCF0aGlzLl92YWxpZGF0ZUhlYWRlcihyKSl0aHJvdyBuZXcgdChcImNsb3VkcmFzdGVyOm9wZW5cIixcIkludmFsaWQgb3IgdW5zdXBwb3J0ZWQgY29uZi5qc29uLlwiKTt0aGlzLmRhdGFzZXROYW1lPXRoaXMudXJsLnNsaWNlKHRoaXMudXJsLmxhc3RJbmRleE9mKFwiL1wiKSsxKTtjb25zdHtzdG9yYWdlSW5mbzpvLHJhc3RlckluZm86aX09dGhpcy5fcGFyc2VIZWFkZXIocik7aWYoXCJ0aGVtYXRpY1wiPT09aS5kYXRhVHlwZSl7Y29uc3QgZT1hd2FpdCB0aGlzLl9mZXRjaEF1eGlsaWFyeUluZm9ybWF0aW9uKCk7aS5hdHRyaWJ1dGVUYWJsZT1lfXRoaXMuX3NldChcInN0b3JhZ2VJbmZvXCIsbyksdGhpcy5fc2V0KFwicmFzdGVySW5mb1wiLGkpLHRoaXMuaW9Db25maWcucmV0cnlDb3VudD10aGlzLmlvQ29uZmlnLnJldHJ5Q291bnR8fDB9YXN5bmMgZmV0Y2hSYXdUaWxlKGUsdCxyLG89e30pe2NvbnN0e3RyYW5zcG9zZUluZm86aX09dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLHt0cmFuc3Bvc2VkVmFyaWFibGVOYW1lOnN9PW8sYT0hKCFpfHwhcyksbj1hPzA6dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLm1heGltdW1QeXJhbWlkTGV2ZWwtZTtpZihuPDApcmV0dXJuIG51bGw7Y29uc3QgbD10aGlzLl9idWlsZENhY2hlRmlsZVBhdGgobix0LHIsby5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbixzKSxmPXRoaXMuX2dldEluZGV4UmVjb3JkRnJvbUJ1bmRsZSh0LHIsYSksbT1hd2FpdCB0aGlzLnJlcXVlc3QobCx7cmFuZ2U6e2Zyb206MCx0bzp0aGlzLnN0b3JhZ2VJbmZvLmhlYWRlclNpemUtMX0scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOm8uc2lnbmFsfSk7aWYoIW0pcmV0dXJuIG51bGw7Y29uc3QgYz1uZXcgVWludDhBcnJheShtLmRhdGEpLHA9dGhpcy5fZ2V0VGlsZUVuZEFuZENvbnRlbnRUeXBlKGMsZik7aWYoMD09PXAucmVjb3JkU2l6ZSlyZXR1cm4gbnVsbDtjb25zdCBkPWF3YWl0IHRoaXMucmVxdWVzdChsLHtyYW5nZTp7ZnJvbTpwLnBvc2l0aW9uLHRvOnAucG9zaXRpb24rcC5yZWNvcmRTaXplfSxyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6by5zaWduYWx9KTtpZighZClyZXR1cm4gbnVsbDtjb25zdFt1LGhdPXRoaXMuX2dldFRpbGVTaXplKGEpO3JldHVybiB0aGlzLmRlY29kZVBpeGVsQmxvY2soZC5kYXRhLHt3aWR0aDp1LGhlaWdodDpoLHBsYW5lczpudWxsLHBpeGVsVHlwZTpudWxsLHJldHVybkludGVybGVhdmVkOmF9KX1fdmFsaWRhdGVIZWFkZXIoZSl7Y29uc3QgdD1bXCJvcmlnaW5cIixcImV4dGVudFwiLFwiZ2VvZGF0YVhmb3JtXCIsXCJMT0RJbmZvc1wiLFwiYmxvY2tXaWR0aFwiLFwiYmxvY2tIZWlnaHRcIixcImJhbmRDb3VudFwiLFwicGl4ZWxUeXBlXCIsXCJwaXhlbFNpemVYXCIsXCJwaXhlbFNpemVZXCIsXCJmb3JtYXRcIixcInBhY2tldFNpemVcIl07cmV0dXJuIGUmJlwiUmFzdGVySW5mb1wiPT09ZS50eXBlJiYhdC5zb21lKCh0PT4hZVt0XSkpfV9wYXJzZUhlYWRlcihlKXtjb25zdCB0PVtcInUxXCIsXCJ1MlwiLFwidTRcIixcInU4XCIsXCJzOFwiLFwidTE2XCIsXCJzMTZcIixcInUzMlwiLFwiczMyXCIsXCJmMzJcIixcImY2NFwiXVtlLnBpeGVsVHlwZV0se2JhbmRDb3VudDpyLGNvbG9ybWFwOm8sYmxvY2tXaWR0aDpsLGJsb2NrSGVpZ2h0OmYsZmlyc3RQeXJhbWlkTGV2ZWw6bSxtYXhpbXVtUHlyYW1pZExldmVsOmN9PWUscD1lLnN0YXRpc3RpY3M/Lm1hcCgoZT0+KHttaW46ZS5taW4sbWF4OmUubWF4LGF2ZzplLm1lYW4sc3RkZGV2OmUuc3RhbmRhcmREZXZpYXRpb24sbWVkaWFuOmUubWVkaWFuLG1vZGU6ZS5tb2RlfSkpKSxnPWUuaGlzdG9ncmFtcz8uWzBdPy5jb3VudHM/Lmxlbmd0aD9lLmhpc3RvZ3JhbXM6bnVsbCx4PWUuZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2UsUz1lLmdlb2RhdGFYZm9ybT8uc3BhdGlhbFJlZmVyZW5jZSxJPW5ldyBkKHg/LndraWR8fHg/LndrdHx8eD8ud2t0Mj94OlMpO2xldCB3PW5ldyB1KHt4bWluOmUuZXh0ZW50LnhtaW4seW1pbjplLmV4dGVudC55bWluLHhtYXg6ZS5leHRlbnQueG1heCx5bWF4OmUuZXh0ZW50LnltYXgsc3BhdGlhbFJlZmVyZW5jZTpJfSk7Y29uc3QgXz1uZXcgaCh7eDplLnBpeGVsU2l6ZVgseTplLnBpeGVsU2l6ZVksc3BhdGlhbFJlZmVyZW5jZTpJfSksdj1NYXRoLnJvdW5kKCh3LnhtYXgtdy54bWluKS9fLngpLGI9TWF0aC5yb3VuZCgody55bWF4LXcueW1pbikvXy55KSx6PXRoaXMuX3BhcnNlVHJhbnNmb3JtKGUuZ2VvZGF0YVhmb3JtKSxUPXo/dzpudWxsO3omJih3PXouZm9yd2FyZFRyYW5zZm9ybSh3KSxfLng9KHcueG1heC13LnhtaW4pL3YsXy55PSh3LnltYXgtdy55bWluKS9iKTtjb25zdCBrPWUucHJvcGVydGllcz8/e30saj1lLmZvcm1hdC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoXCJjYWNoZS9cIixcIlwiKSxDPW5ldyBoKGUub3JpZ2luLngsZS5vcmlnaW4ueSxJKTtsZXQgUixGLFAsSDtpZihvPy5jb2xvcnMpZm9yKFI9W10sRj0wO0Y8by5jb2xvcnMubGVuZ3RoO0YrKylQPW8uY29sb3JzW0ZdLEg9by52YWx1ZXM/by52YWx1ZXNbRl06RixSLnB1c2goW0gsMjU1JlAsUDw8MTY+Pj4yNCxQPDw4Pj4+MjQsUD4+PjI0XSk7Y29uc3QgRD1lLkxPREluZm9zLEw9W107Zm9yKEY9MDtGPEQubGV2ZWxzLmxlbmd0aDtGKyspTC5wdXNoKG5ldyBpKHtsZXZlbDpELmxldmVsc1tGXSxyZXNvbHV0aW9uOkQucmVzb2x1dGlvbnNbRl0sc2NhbGU6OTYvLjAyNTQqRC5yZXNvbHV0aW9uc1tGXX0pKTtjb25zdCBNPW5ldyBuKHtkcGk6OTYsbG9kczpMLGZvcm1hdDpqLG9yaWdpbjpDLHNpemU6W2wsZl0sc3BhdGlhbFJlZmVyZW5jZTpJfSksTz17cmVjb3JkU2l6ZTp5LHBhY2tldFNpemU6ZS5wYWNrZXRTaXplLGhlYWRlclNpemU6ZS5wYWNrZXRTaXplKmUucGFja2V0U2l6ZSp5KzY0fSxCPVt7bWF4Q29sOk1hdGguY2VpbCh2L2wpLTEsbWF4Um93Ok1hdGguY2VpbChiL2YpLTEsbWluQ29sOjAsbWluUm93OjB9XTtsZXQgJD0yO2lmKGM+MClmb3IoRj0wO0Y8YztGKyspQi5wdXNoKHttYXhDb2w6TWF0aC5jZWlsKHYvJC9sKS0xLG1heFJvdzpNYXRoLmNlaWwoYi8kL2YpLTEsbWluQ29sOjAsbWluUm93OjB9KSwkKj0yO2NvbnN0IE49ZS5tZEluZm87bGV0IHE9bnVsbDtpZihOJiZrLl95eHMpe2NvbnN0IGU9ay5feXhzO3E9e3BhY2tldFNpemU6ZS5QYWNrZXRTaXplLHRpbGVTaXplOltlLlRpbGVYU2l6ZSxlLlRpbGVZU2l6ZV19fXJldHVybntzdG9yYWdlSW5mbzpPLHJhc3RlckluZm86bmV3IHMoe3dpZHRoOnYsaGVpZ2h0OmIscGl4ZWxUeXBlOnQsYmFuZENvdW50OnIsZXh0ZW50OncsbmF0aXZlRXh0ZW50OlQsdHJhbnNmb3JtOnosc3BhdGlhbFJlZmVyZW5jZTpJLHBpeGVsU2l6ZTpfLGtleVByb3BlcnRpZXM6ayxzdGF0aXN0aWNzOnAsaGlzdG9ncmFtczpnLG11bHRpZGltZW5zaW9uYWxJbmZvOk4sY29sb3JtYXA6UixzdG9yYWdlSW5mbzpuZXcgYSh7YmxvY2tXaWR0aDpsLGJsb2NrSGVpZ2h0OmYscHlyYW1pZEJsb2NrV2lkdGg6bCxweXJhbWlkQmxvY2tIZWlnaHQ6ZixvcmlnaW46Qyx0aWxlSW5mbzpNLHRyYW5zcG9zZUluZm86cSxmaXJzdFB5cmFtaWRMZXZlbDptLG1heGltdW1QeXJhbWlkTGV2ZWw6YyxibG9ja0JvdW5kYXJ5OkJ9KX0pfX1fcGFyc2VUcmFuc2Zvcm0oZSl7aWYoIW0oZSkpdGhyb3cgbmV3IHQoXCJjbG91ZHJhc3RlcjpvcGVuXCIsXCJ0aGUgZGF0YSBjb250YWlucyB1bnN1cHBvcnRlZCBnZW9kYXRhIHRyYW5zZm9ybSB0eXBlc1wiKTtjb25zdCByPWMoZSk7aWYoXCJpZGVudGl0eVwiPT09ci50eXBlKXJldHVybiBudWxsO2lmKFwicG9seW5vbWlhbFwiIT09ci50eXBlfHwhci5mb3J3YXJkQ29lZmZpY2llbnRzPy5sZW5ndGh8fCFyLmludmVyc2VDb2VmZmljaWVudHM/Lmxlbmd0aCl0aHJvdyBuZXcgdChcImNsb3VkcmFzdGVyOm9wZW5cIixcInRoZSBkYXRhIGNvbnRhaW5zIHVuc3VwcG9ydGVkIGdlb2RhdGEgdHJhbnNmb3JtcyAtIGJvdGggZm9yd2FyZCBhbmQgaW52ZXJzZSBjb2VmZmljaWVudHMgYXJlIHJlcXVpcmVkIGN1cnJlbnRseVwiKTtyZXR1cm4gcn1hc3luYyBfZmV0Y2hBdXhpbGlhcnlJbmZvcm1hdGlvbihlKXtjb25zdCB0PXRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi9jb25mLnZhdC5qc29uXCIse3NpZ25hbDplfSkudGhlbigoZT0+ZS5kYXRhKSkuY2F0Y2goKCgpPT5udWxsKSkscj10aGlzLnJlcXVlc3QodGhpcy51cmwrXCIvY29uZi52YXQuZGJmXCIse3Jlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDplfSkudGhlbigoZT0+ZS5kYXRhKSkuY2F0Y2goKCgpPT5udWxsKSksbz1hd2FpdCBQcm9taXNlLmFsbChbdCxyXSk7bGV0IGk7aWYob1swXSl7bGV0IGU9b1swXS5maWVsZHM7Y29uc3QgdD1vWzBdLnZhbHVlcztpZihlJiZ0KXtlPWUubWFwKChlPT4oe3R5cGU6XCJPSURcIj09PWUubmFtZT9cImVzcmlGaWVsZFR5cGVPSURcIjpnLmdldChlLnR5cGUpLG5hbWU6ZS5uYW1lLGFsaWFzOmUuYWxpYXN8fGUubmFtZX0pKSk7Y29uc3Qgcj10Lm1hcCgoZT0+KHthdHRyaWJ1dGVzOmV9KSkpO2UmJnQmJihpPXtmaWVsZHM6ZSxmZWF0dXJlczpyfSl9fWlmKCFpJiZvWzFdKXtpPWYucGFyc2Uob1sxXSkucmVjb3JkU2V0fXJldHVybiBwLmZyb21KU09OKGkpfV9idWlsZENhY2hlRmlsZVBhdGgoZSx0LHIsbyxpKXtjb25zdCBzPXRoaXMuX2dldFBhY2thZ2VTaXplKCEhaSksYT1NYXRoLmZsb29yKHQvcykqcyxuPU1hdGguZmxvb3Ioci9zKSpzLGw9XCJSXCIrdGhpcy5fdG9IZXhTdHJpbmc0KGEpK1wiQ1wiK3RoaXMuX3RvSGV4U3RyaW5nNChuKTtsZXQgZj1cIkxcIjtmKz1lPj0xMD9lLnRvU3RyaW5nKCk6XCIwXCIrZS50b1N0cmluZygpO2NvbnN0e211bHRpZGltZW5zaW9uYWxJbmZvOm19PXRoaXMucmFzdGVySW5mbyxjPW8/LlswXTtpZihudWxsPT1tfHwhYylyZXR1cm5gJHt0aGlzLnVybH0vX2FsbGxheWVycy8ke2Z9LyR7bH0uYnVuZGxlYDtsZXQgcD1cIl95eHNcIjtpZighaSl7cD1tLnZhcmlhYmxlcy5maW5kKChlPT5lLm5hbWU9PT1jLnZhcmlhYmxlTmFtZSkpLmRpbWVuc2lvbnNbMF0udmFsdWVzLmluZGV4T2YoYy52YWx1ZXNbMF0pLnRvU3RyaW5nKDE2KTtjb25zdCBlPTQtcC5sZW5ndGg7Zm9yKGxldCB0PTA7dDxlO3QrKylwPVwiMFwiK3A7cD1cIlNcIitwfWNvbnN0IGQ9dGhpcy5fZ2V0VmFyaWFibGVGb2xkZXJOYW1lKGl8fGMudmFyaWFibGVOYW1lKTtyZXR1cm5gJHt0aGlzLnVybH0vX2FsbGxheWVycy8ke2R9LyR7cH0vJHtmfS8ke2x9LmJ1bmRsZWB9X2dldFBhY2thZ2VTaXplKGU9ITEpe2NvbnN0e3RyYW5zcG9zZUluZm86dH09dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvO3JldHVybiBlJiZudWxsIT10P3QucGFja2V0U2l6ZT8/MDp0aGlzLnN0b3JhZ2VJbmZvLnBhY2tldFNpemV9X2dldFRpbGVTaXplKGU9ITEpe2NvbnN0e3N0b3JhZ2VJbmZvOnR9PXRoaXMucmFzdGVySW5mbyx7dHJhbnNwb3NlSW5mbzpyfT10O3JldHVybiBlJiZudWxsIT1yP3IudGlsZVNpemU6dC50aWxlSW5mby5zaXplfV9nZXRWYXJpYWJsZUZvbGRlck5hbWUoZSl7cmV0dXJuXCJcIj09PShlPWUudHJpbSgpKT9cIl92XCI6ZS5yZXBsYWNlQWxsKC9bXFx7fFxcfVxcLV0vZyxcIl9cIikucmVwbGFjZShcIlxcXFwqXCIsXCJfdlwiKX1fZ2V0SW5kZXhSZWNvcmRGcm9tQnVuZGxlKGUsdCxyPSExKXtjb25zdCBvPXRoaXMuX2dldFBhY2thZ2VTaXplKHIpLGk9byooZSVvKSt0JW87aWYoaTwwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbGV2ZWwgLyByb3cgLyBjb2xcIik7cmV0dXJuIDIwK2kqdGhpcy5zdG9yYWdlSW5mby5yZWNvcmRTaXplKzQ0fV9nZXRUaWxlRW5kQW5kQ29udGVudFR5cGUoZSx0KXtjb25zdCByPWUuc3ViYXJyYXkodCx0KzgpO2xldCBvLGk9MDtmb3Iobz0wO288NTtvKyspaXw9KDI1NSZyW29dKTw8OCpvO2NvbnN0IHM9MHhmZmZmZmZmZmZmJmk7Zm9yKGk9MCxvPTU7bzw4O28rKylpfD0oMjU1JnJbb10pPDw4KihvLTUpO3JldHVybntwb3NpdGlvbjpzLHJlY29yZFNpemU6MHhmZmZmZmZmZmZmJml9fV90b0hleFN0cmluZzQoZSl7bGV0IHQ9ZS50b1N0cmluZygxNik7aWYoNCE9PXQubGVuZ3RoKXtsZXQgZT00LXQubGVuZ3RoO2Zvcig7ZS0tID4wOyl0PVwiMFwiK3R9cmV0dXJuIHR9fTtlKFtyKHtyZWFkT25seTohMH0pXSx4LnByb3RvdHlwZSxcInN0b3JhZ2VJbmZvXCIsdm9pZCAwKSxlKFtyKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0seC5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSx4PWUoW28oXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlckRhdGFzZXRzLkNsb3VkUmFzdGVyXCIpXSx4KTtjb25zdCBTPXg7ZXhwb3J0e1MgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2J5dGVzVG9VVEY4IGFzIGV9ZnJvbVwiLi9ieXRlU3RyZWFtVXRpbHMuanNcIjtmdW5jdGlvbiB0KGUpe2NvbnN0IHQ9ZS5maWVsZHMscj1lLnJlY29yZHMsbj10LnNvbWUoKGU9Plwib2lkXCI9PT1lLm5hbWUudG9Mb3dlckNhc2UoKSkpP1wiT0JKRUNUSURcIjpcIk9JRFwiLGk9W3tuYW1lOm4sdHlwZTpcImVzcmlGaWVsZFR5cGVPSURcIixhbGlhczpcIk9JRFwifV0uY29uY2F0KHQubWFwKChlPT4oe25hbWU6ZS5uYW1lLHR5cGU6XCJlc3JpRmllbGRUeXBlXCIrZS50eXBlTmFtZSxhbGlhczplLm5hbWV9KSkpKSxzPWkubWFwKChlPT5lLm5hbWUpKSxhPVtdO2xldCBvPTAsbD0wO3JldHVybiByLmZvckVhY2goKGU9Pntjb25zdCB0PXt9O2Zvcih0W25dPW8rKyxsPTE7bDxzLmxlbmd0aDtsKyspdFtzW2xdXT1lW2wtMV07YS5wdXNoKHthdHRyaWJ1dGVzOnR9KX0pKSx7ZGlzcGxheUZpZWxkTmFtZTpcIlwiLGZpZWxkczppLGZlYXR1cmVzOmF9fWNsYXNzIHJ7c3RhdGljIGdldCBzdXBwb3J0ZWRWZXJzaW9ucygpe3JldHVybls1XX1zdGF0aWMgcGFyc2Uocil7Y29uc3Qgbj1uZXcgRGF0YVZpZXcociksaT0zJm4uZ2V0VWludDgoMCk7aWYoMyE9PWkpcmV0dXJue2hlYWRlcjp7dmVyc2lvbjppfSxyZWNvcmRTZXQ6bnVsbH07Y29uc3Qgcz1uLmdldFVpbnQzMig0LCEwKSxhPW4uZ2V0VWludDE2KDgsITApLG89bi5nZXRVaW50MTYoMTAsITApLGw9e3ZlcnNpb246aSxyZWNvcmRDb3VudDpzLGhlYWRlckJ5dGVDb3VudDphLHJlY29yZEJ5dGVDb3VudDpvfTtsZXQgcD0zMjtjb25zdCBnPVtdLHU9W107bGV0IGQ7aWYoMz09PWkpe2Zvcig7MTMhPT1uLmdldFVpbnQ4KHApOylkPVN0cmluZy5mcm9tQ2hhckNvZGUobi5nZXRVaW50OChwKzExKSkudHJpbSgpLGcucHVzaCh7bmFtZTplKG5ldyBVaW50OEFycmF5KHIscCwxMSkpLHR5cGU6ZCx0eXBlTmFtZTpbXCJTdHJpbmdcIixcIkRhdGVcIixcIkRvdWJsZVwiLFwiQm9vbGVhblwiLFwiU3RyaW5nXCIsXCJJbnRlZ2VyXCJdW1tcIkNcIixcIkRcIixcIkZcIixcIkxcIixcIk1cIixcIk5cIl0uaW5kZXhPZihkKV0sbGVuZ3RoOm4uZ2V0VWludDgocCsxNil9KSxwKz0zMjtpZihwKz0xLGcubGVuZ3RoPjApZm9yKDt1Lmxlbmd0aDxzJiZyLmJ5dGVMZW5ndGgtcD5vOyl7Y29uc3QgdD1bXTszMj09PW4uZ2V0VWludDgocCk/KHArPTEsZy5mb3JFYWNoKChuPT57aWYoXCJDXCI9PT1uLnR5cGUpdC5wdXNoKGUobmV3IFVpbnQ4QXJyYXkocixwLG4ubGVuZ3RoKSkudHJpbSgpKTtlbHNlIGlmKFwiTlwiPT09bi50eXBlKXQucHVzaChwYXJzZUludChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkocixwLG4ubGVuZ3RoKSkudHJpbSgpLDEwKSk7ZWxzZSBpZihcIkZcIj09PW4udHlwZSl0LnB1c2gocGFyc2VGbG9hdChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkocixwLG4ubGVuZ3RoKSkudHJpbSgpKSk7ZWxzZSBpZihcIkRcIj09PW4udHlwZSl7Y29uc3QgZT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkocixwLG4ubGVuZ3RoKSkudHJpbSgpO3QucHVzaChuZXcgRGF0ZShwYXJzZUludChlLnN1YnN0cmluZygwLDQpLDEwKSxwYXJzZUludChlLnN1YnN0cmluZyg0LDYpLDEwKS0xLHBhcnNlSW50KGUuc3Vic3RyaW5nKDYsOCksMTApKSl9cCs9bi5sZW5ndGh9KSksdS5wdXNoKHQpKTpwKz1vfX1yZXR1cm57aGVhZGVyOmwsZmllbGRzOmcscmVjb3Jkczp1LHJlY29yZFNldDp0KHtmaWVsZHM6ZyxyZWNvcmRzOnV9KX19fWV4cG9ydHtyIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7Y29uc3RydWN0b3IodD0xNWUzLGU9NWUzKXt0aGlzLl90aW1lcj1udWxsLHRoaXMuX2NhY2hlZEJsb2Nrcz1uZXcgTWFwLHRoaXMuX3NpemU9LTEsdGhpcy5fZHVyYXRpb249dCx0aGlzLl9pbnRlcnZhbD1NYXRoLm1pbih0LGUpfWRlY3JlYXNlUmVmQ291bnQodCxlKXtjb25zdCBzPXQrXCIvXCIrZSxyPXRoaXMuX2NhY2hlZEJsb2NrcztpZihyLmhhcyhzKSl7Y29uc3QgdD1yLmdldChzKTtyZXR1cm4gdC5yZWZDb3VudC0tLHQucmVmQ291bnQ8PTAmJihyLmRlbGV0ZShzKSx0LmNvbnRyb2xsZXImJnQuY29udHJvbGxlci5hYm9ydCgpKSx0LnJlZkNvdW50fXJldHVybiAwfWdldEJsb2NrKHQsZSl7Y29uc3Qgcz10K1wiL1wiK2Uscj10aGlzLl9jYWNoZWRCbG9ja3M7aWYoci5oYXMocykpe2NvbnN0IHQ9ci5nZXQocyk7cmV0dXJuIHQudHM9RGF0ZS5ub3coKSx0LnJlZkNvdW50Kyssci5kZWxldGUocyksci5zZXQocyx0KSx0LmJsb2NrfXJldHVybiBudWxsfXB1dEJsb2NrKHQsZSxzLHIpe2NvbnN0IGk9dGhpcy5fY2FjaGVkQmxvY2tzLGM9dCtcIi9cIitlO2lmKGkuaGFzKGMpKXtjb25zdCB0PWkuZ2V0KGMpO3QudHM9RGF0ZS5ub3coKSx0LnJlZkNvdW50Kyt9ZWxzZSBpLnNldChjLHtibG9jazpzLHRzOkRhdGUubm93KCkscmVmQ291bnQ6MSxjb250cm9sbGVyOnJ9KTt0aGlzLl90cmltKCksdGhpcy5fdXBkYXRlVGltZXIoKX1kZWxldGVCbG9jayh0LGUpe2NvbnN0IHM9dGhpcy5fY2FjaGVkQmxvY2tzLHI9dCtcIi9cIitlO3MuaGFzKHIpJiZzLmRlbGV0ZShyKX11cGRhdGVNYXhTaXplKHQpe3RoaXMuX3NpemU9dCx0aGlzLl90cmltKCl9ZW1wdHkoKXt0aGlzLl9jYWNoZWRCbG9ja3MuY2xlYXIoKSx0aGlzLl9jbGVhclRpbWVyKCl9Z2V0Q3VycmVudFNpemUoKXtyZXR1cm4gdGhpcy5fY2FjaGVkQmxvY2tzLnNpemV9X3VwZGF0ZVRpbWVyKCl7aWYobnVsbCE9dGhpcy5fdGltZXIpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fY2FjaGVkQmxvY2tzO3RoaXMuX3RpbWVyPXNldEludGVydmFsKCgoKT0+e2NvbnN0IGU9QXJyYXkuZnJvbSh0KSxzPURhdGUubm93KCk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aCYmZVtyXVsxXS50czw9cy10aGlzLl9kdXJhdGlvbjtyKyspdC5kZWxldGUoZVtyXVswXSk7MD09PXQuc2l6ZSYmdGhpcy5fY2xlYXJUaW1lcigpfSksdGhpcy5faW50ZXJ2YWwpfV90cmltKCl7Y29uc3QgdD10aGlzLl9jYWNoZWRCbG9ja3M7aWYoLTE9PT10aGlzLl9zaXplfHx0aGlzLl9zaXplPj10LnNpemUpcmV0dXJuO2NvbnN0IGU9QXJyYXkuZnJvbSh0KTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoLXRoaXMuX3NpemU7cysrKXQuZGVsZXRlKGVbc11bMF0pfV9jbGVhclRpbWVyKCl7bnVsbCE9dGhpcy5fdGltZXImJihjbGVhckludGVydmFsKHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj1udWxsKX19ZXhwb3J0e3QgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi9CYXNlUmFzdGVyLmpzXCI7aW1wb3J0e2FwcHJveGltYXRlVHJhbnNmb3JtIGFzIGl9ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3BpeGVsVXRpbHMuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvRmVhdHVyZVNldC5qc1wiO2xldCBuPWNsYXNzIGV4dGVuZHMgYXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5kYXRhc2V0Rm9ybWF0PVwiRnVuY3Rpb25cIix0aGlzLnRpbGVUeXBlPVwiUmFzdGVyXCIsdGhpcy5yYXN0ZXJGdW5jdGlvbj1udWxsfWFzeW5jIG9wZW4odCl7YXdhaXQgdGhpcy5pbml0KCk7Y29uc3R7cmFzdGVyRnVuY3Rpb246cn09dGhpczt0aGlzLnByaW1hcnlSYXN0ZXJzPy5yYXN0ZXJzPy5sZW5ndGg/ci5zb3VyY2VSYXN0ZXJzPXRoaXMucHJpbWFyeVJhc3RlcnMucmFzdGVyczoodGhpcy5wcmltYXJ5UmFzdGVycz1yLmdldFByaW1hcnlSYXN0ZXJzKCksdGhpcy5yYXN0ZXJKb2JIYW5kbGVyJiZ0aGlzLnByaW1hcnlSYXN0ZXJzLnJhc3RlcnM/LmZvckVhY2goKHQ9PnQucmFzdGVySm9iSGFuZGxlcj10aGlzLnJhc3RlckpvYkhhbmRsZXIpKSk7Y29uc3R7cmFzdGVyczpzLHJhc3RlcklkczphfT10aGlzLnByaW1hcnlSYXN0ZXJzLGk9cy5tYXAoKGU9PmUucmFzdGVySW5mbz92b2lkIDA6ZS5vcGVuKHQpKSk7YXdhaXQgUHJvbWlzZS5hbGwoaSk7Y29uc3Qgbj1zLm1hcCgoKHtyYXN0ZXJJbmZvOnR9KT0+dCkpLGM9ci5iaW5kKHtyYXN0ZXJJbmZvczpuLHJhc3RlcklkczphfSk7aWYoIWMuc3VjY2Vzc3x8MD09PW4ubGVuZ3RoKXRocm93IG5ldyBlKFwicmFzdGVyLWZ1bmN0aW9uOm9wZW5cIixgY2Fubm90IGJpbmQgdGhlIGZ1bmN0aW9uOiAke2MuZXJyb3I/P1wiXCJ9YCk7Y29uc3QgbD1cIlRhYmxlXCI9PT1yLmZ1bmN0aW9uTmFtZT9yOnIuZnVuY3Rpb25Bcmd1bWVudHM/LnJhc3RlcjtcIlRhYmxlXCI9PT1sPy5mdW5jdGlvbk5hbWUmJihyLnJhc3RlckluZm8uYXR0cmlidXRlVGFibGU9by5mcm9tSlNPTihsLmZ1bmN0aW9uQXJndW1lbnRzLmF0dHJpYnV0ZVRhYmxlQXNSZWNvcmRTZXQpKSxhd2FpdCB0aGlzLnN5bmNKb2JIYW5kbGVyKCk7Y29uc3QgcD1uWzBdO3RoaXMuaGFzVW5pcXVlU291cmNlU3RvcmFnZUluZm89MT09PW4ubGVuZ3RofHxuLnNsaWNlKDEpLmV2ZXJ5KCh0PT50aGlzLl9oYXNTYW1lU3RvcmFnZUluZm8odCxwKSkpLHRoaXMuc2V0KFwic291cmNlSlNPTlwiLHNbMF0uc291cmNlSlNPTiksdGhpcy5zZXQoXCJyYXN0ZXJJbmZvXCIsci5yYXN0ZXJJbmZvKX1hc3luYyBzeW5jSm9iSGFuZGxlcigpe3JldHVybiB0aGlzLnJhc3RlckpvYkhhbmRsZXI/LnVwZGF0ZVJhc3RlckZ1bmN0aW9uKHRoaXMucmFzdGVyRnVuY3Rpb24pfWFzeW5jIGZldGNoUGl4ZWxzKHQsZSxyLHM9e30pe2NvbnN0e3Jhc3RlcnM6YSxyYXN0ZXJJZHM6b309dGhpcy5wcmltYXJ5UmFzdGVycztsZXQgbj0hMTtjb25zdHtpbnRlcnBvbGF0aW9uOmN9PXMsbD10aGlzLnJhc3RlckZ1bmN0aW9uLmZsYXRXZWJHTEZ1bmN0aW9uQ2hhaW4/Lmhhc0ZvY2FsRnVuY3Rpb247IXMucmVxdWVzdFJhd0RhdGEmJlwiYmlsaW5lYXJcIiE9PWMmJmwmJihuPTE9PT1hLmxlbmd0aCYmIXMuc2tpcFJhc3RlckZ1bmN0aW9uLHM9ey4uLnMsaW50ZXJwb2xhdGlvbjpcImJpbGluZWFyXCIscmVxdWVzdFJhd0RhdGE6bn0pO2NvbnN0IHA9YS5tYXAoKGE9PmEuZmV0Y2hQaXhlbHModCxlLHIscykpKSx1PWF3YWl0IFByb21pc2UuYWxsKHApLG09dS5tYXAoKHQ9PnQucGl4ZWxCbG9jaykpLGg9bnx8cy5yZXF1ZXN0UmF3RGF0YT91Lm1hcCgodD0+dC5zcmNUaWxlUGl4ZWxTaXplKSk6bnVsbDtpZihzLnNraXBSYXN0ZXJGdW5jdGlvbnx8bS5ldmVyeSgodD0+bnVsbD09dCkpKXJldHVybiB1WzBdO2NvbnN0IGQ9dS5maW5kKCh0PT5udWxsIT10LnBpeGVsQmxvY2spKT8uZXh0ZW50Pz90LGY9dGhpcy5yYXN0ZXJKb2JIYW5kbGVyP2F3YWl0IHRoaXMucmFzdGVySm9iSGFuZGxlci5wcm9jZXNzKHtleHRlbnQ6ZCxwcmltYXJ5UGl4ZWxCbG9ja3M6bSxwcmltYXJ5UGl4ZWxTaXplczpoLHByaW1hcnlSYXN0ZXJJZHM6b30pOnRoaXMucmFzdGVyRnVuY3Rpb24ucHJvY2Vzcyh7ZXh0ZW50OmQscHJpbWFyeVBpeGVsQmxvY2tzOm0scHJpbWFyeVBpeGVsU2l6ZXM6aCxwcmltYXJ5UmFzdGVySWRzOm99KSx7dHJhbnNmb3JtR3JpZDp5fT11WzBdO2lmKCFufHxudWxsPT1mfHxudWxsPT15KXJldHVybnsuLi51WzBdLHBpeGVsQmxvY2s6Zn07Y29uc3QgeD17cm93czp5LnNwYWNpbmdbMF0sY29sczp5LnNwYWNpbmdbMV19O2xldCBiO2lmKHRoaXMucmFzdGVySm9iSGFuZGxlcil7Yj0oYXdhaXQgdGhpcy5yYXN0ZXJKb2JIYW5kbGVyLm1vc2FpY0FuZFRyYW5zZm9ybSh7c3JjUGl4ZWxCbG9ja3M6W2ZdLHNyY01vc2FpY1NpemU6e3dpZHRoOmYud2lkdGgsaGVpZ2h0OmYuaGVpZ2h0fSxkZXN0RGltZW5zaW9uOnt3aWR0aDplLGhlaWdodDpyfSxjb2Vmczp5LmNvZWZmaWNpZW50cyxzYW1wbGVTcGFjaW5nOngscHJvamVjdERpcmVjdGlvbnM6ITEsZ2NzR3JpZDpudWxsLGlzVVY6ITEsaW50ZXJwb2xhdGlvbjpjLGFsaWdubWVudEluZm86dm9pZCAwLGJsb2NrV2lkdGhzOm51bGx9LHMpKS5waXhlbEJsb2NrfWVsc2UgYj1pKGYse3dpZHRoOmUsaGVpZ2h0OnJ9LHkuY29lZmZpY2llbnRzLHgsYyk7cmV0dXJue2V4dGVudDp0LHNyY0V4dGVudDp1WzBdLnNyY0V4dGVudCxwaXhlbEJsb2NrOmJ9fV9oYXNTYW1lU3RvcmFnZUluZm8odCxlKXtjb25zdHtzdG9yYWdlSW5mbzpyLHBpeGVsU2l6ZTpzLHNwYXRpYWxSZWZlcmVuY2U6YSxleHRlbnQ6aX09dCx7c3RvcmFnZUluZm86byxwaXhlbFNpemU6bixzcGF0aWFsUmVmZXJlbmNlOmMsZXh0ZW50Omx9PWU7cmV0dXJuIHMueD09PW4ueCYmcy55PT09bi55JiZhLmVxdWFscyhjKSYmaS5lcXVhbHMobCkmJnIuYmxvY2tIZWlnaHQ9PT1vLmJsb2NrSGVpZ2h0JiZyLmJsb2NrV2lkdGg9PT1vLmJsb2NrV2lkdGgmJnIubWF4aW11bVB5cmFtaWRMZXZlbD09PW8ubWF4aW11bVB5cmFtaWRMZXZlbH19O3QoW3Ioe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxuLnByb3RvdHlwZSxcImRhdGFzZXRGb3JtYXRcIix2b2lkIDApLHQoW3IoKV0sbi5wcm90b3R5cGUsXCJ0aWxlVHlwZVwiLHZvaWQgMCksdChbcigpXSxuLnByb3RvdHlwZSxcInJhc3RlckZ1bmN0aW9uXCIsdm9pZCAwKSx0KFtyKCldLG4ucHJvdG90eXBlLFwicHJpbWFyeVJhc3RlcnNcIix2b2lkIDApLG49dChbcyhcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyRGF0YXNldHMuRnVuY3Rpb25SYXN0ZXJcIildLG4pO2NvbnN0IGM9bjtleHBvcnR7YyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyB0fWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7ZWFjaEFsd2F5cyBhcyBzLGNyZWF0ZUFib3J0RXJyb3IgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgaSBmcm9tXCIuL0Jhc2VSYXN0ZXIuanNcIjtpbXBvcnQgbiBmcm9tXCIuL0luTWVtb3J5UmFzdGVyLmpzXCI7aW1wb3J0e3BhcnNlUEFNSW5mbyBhcyBsfWZyb21cIi4vcGFtUGFyc2VyLmpzXCI7aW1wb3J0e2dldEZvcm1hdCBhcyBtfWZyb21cIi4uL3Jhc3RlckZvcm1hdHMvUmFzdGVyQ29kZWMuanNcIjtpbXBvcnR7ZXN0aW1hdGVTdGF0aXN0aWNzRnJvbUhpc3RvZ3JhbXMgYXMgcH1mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvc3RyZXRjaFV0aWxzLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vcmFzdGVyVHJhbnNmb3Jtcy9Qb2x5bm9taWFsVHJhbnNmb3JtLmpzXCI7aW1wb3J0IGYgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2xldCBoPWNsYXNzIGV4dGVuZHMgaXthc3luYyBvcGVuKHQpe2F3YWl0IHRoaXMuaW5pdCgpO2NvbnN0IGU9YXdhaXQgdGhpcy5fZmV0Y2hEYXRhKHQpO2xldHtzcGF0aWFsUmVmZXJlbmNlOnMsc3RhdGlzdGljczpyLGhpc3RvZ3JhbXM6YSx0cmFuc2Zvcm06b309YXdhaXQgdGhpcy5fZmV0Y2hBdXhpbGlhcnlEYXRhKHQpO2NvbnN0IGk9IXM7aSYmKHM9bmV3IGYoe3draWQ6Mzg1N30pKSxhPy5sZW5ndGgmJm51bGw9PXImJihyPXAoYSkpO2NvbnN0e3dpZHRoOmwsaGVpZ2h0Om19PWU7bGV0IGM9bmV3IHUoe3htaW46LS41LHltaW46LjUtbSx4bWF4OmwtLjUseW1heDouNSxzcGF0aWFsUmVmZXJlbmNlOnN9KTtjb25zdCBoPW8/by5mb3J3YXJkVHJhbnNmb3JtKGMpOmM7bGV0IGQ9ITA7aWYobyl7Y29uc3QgdD1vLmZvcndhcmRDb2VmZmljaWVudHM7ZD10JiYwPT09dFsxXSYmMD09PXRbMl0sZCYmKG89bnVsbCxjPWgpfWNvbnN0IHc9bmV3IG4oe2RhdGE6e2V4dGVudDpoLG5hdGl2ZUV4dGVudDpjLHRyYW5zZm9ybTpvLHBpeGVsQmxvY2s6ZSxzdGF0aXN0aWNzOnIsaGlzdG9ncmFtczphLGtleVByb3BlcnRpZXM6e0RhdGVUeXBlOlwiUHJvY2Vzc2VkXCJ9LGlzUHNldWRvU3BhdGlhbFJlZmVyZW5jZTppfX0pO2F3YWl0IHcub3BlbigpLHcuZGF0YT1udWxsLHRoaXMuX3NldChcInJhc3RlckluZm9cIix3LnJhc3RlckluZm8pLHRoaXMuX2luTWVtb3J5UmFzdGVyPXd9ZmV0Y2hSYXdUaWxlKHQsZSxzLHI9e30pe3JldHVybiB0aGlzLl9pbk1lbW9yeVJhc3Rlci5mZXRjaFJhd1RpbGUodCxlLHMscil9YXN5bmMgX2ZldGNoRGF0YSh0KXtjb25zdHtkYXRhOnN9PWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCx7cmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOnQ/LnNpZ25hbH0pLHI9bShzKS50b1VwcGVyQ2FzZSgpO2lmKFwiSlBHXCIhPT1yJiZcIlBOR1wiIT09ciYmXCJHSUZcIiE9PXImJlwiQk1QXCIhPT1yKXRocm93IG5ldyBlKFwiaW1hZ2UtYXV4LXJhc3RlcjpvcGVuXCIsXCJ0aGUgZGF0YSBpcyBub3QgYSBzdXBwb3J0ZWQgZm9ybWF0XCIpO3RoaXMuX3NldChcImRhdGFzZXRGb3JtYXRcIixyKTtjb25zdCBhPXIudG9Mb3dlckNhc2UoKSxvPVwiZ2lmXCI9PT1hfHxcImJtcFwiPT09YXx8IWhhcyhcImlvc1wiKSxpPWF3YWl0IHRoaXMuZGVjb2RlUGl4ZWxCbG9jayhzLHtmb3JtYXQ6YSx1c2VDYW52YXM6byxoYXNOb1psaWJNYXNrOiEwfSk7aWYobnVsbD09aSl0aHJvdyBuZXcgZShcImltYWdlLWF1eC1yYXN0ZXI6b3BlblwiLFwidGhlIGRhdGEgY2Fubm90IGJlIGRlY29kZWRcIik7cmV0dXJuIGl9YXN5bmMgX2ZldGNoQXV4aWxpYXJ5RGF0YSh0KXtjb25zdCBlPXQ/LnNpZ25hbCxhPXRoaXMuaW9Db25maWcuc2tpcEV4dGVuc2lvbnM/P1tdLG89YS5pbmNsdWRlcyhcImF1eC54bWxcIik/bnVsbDp0aGlzLnJlcXVlc3QodGhpcy51cmwrXCIuYXV4LnhtbFwiLHtyZXNwb25zZVR5cGU6XCJ4bWxcIixzaWduYWw6ZX0pLGk9dGhpcy5kYXRhc2V0Rm9ybWF0LG49XCJKUEdcIj09PWk/XCJqZ3dcIjpcIlBOR1wiPT09aT9cInBnd1wiOlwiQk1QXCI9PT1pP1wiYnB3XCI6bnVsbCxtPW4mJmEuaW5jbHVkZXMobik/bnVsbDp0aGlzLnJlcXVlc3QodGhpcy51cmwuc2xpY2UoMCx0aGlzLnVybC5sYXN0SW5kZXhPZihcIi5cIikpK1wiLlwiK24se3Jlc3BvbnNlVHlwZTpcInRleHRcIixzaWduYWw6ZX0pLHA9YXdhaXQgcyhbbyxtXSk7aWYoZT8uYWJvcnRlZCl0aHJvdyByKCk7Y29uc3QgZj1sKHBbMF0udmFsdWU/LmRhdGEpO2lmKCFmLnRyYW5zZm9ybSl7Y29uc3QgdD1wWzFdLnZhbHVlP3BbMV0udmFsdWUuZGF0YS5zcGxpdChcIlxcblwiKS5zbGljZSgwLDYpLm1hcCgodD0+TnVtYmVyKHQpKSk6bnVsbDtmLnRyYW5zZm9ybT02PT09dD8ubGVuZ3RoP25ldyBjKHtmb3J3YXJkQ29lZmZpY2llbnRzOlt0WzRdLHRbNV0sdFswXSwtdFsxXSx0WzJdLC10WzNdXX0pOm51bGx9cmV0dXJuIGZ9fTt0KFthKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0saC5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSxoPXQoW28oXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlckRhdGFzZXRzLkltYWdlQXV4UmFzdGVyXCIpXSxoKTtjb25zdCBkPWg7ZXhwb3J0e2QgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7YXNzZXJ0SXNTb21lIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt1cmxUb09iamVjdCBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBsIGZyb21cIi4uL1Jhc3RlckluZm8uanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9SYXN0ZXJTdG9yYWdlSW5mby5qc1wiO2ltcG9ydCBuIGZyb21cIi4uL1RpbGVJbmZvLmpzXCI7aW1wb3J0e1RpbGVtYXBDYWNoZSBhcyBjfWZyb21cIi4uL1RpbGVtYXBDYWNoZS5qc1wiO2ltcG9ydCBtIGZyb21cIi4vQmFzZVJhc3Rlci5qc1wiO2ltcG9ydHtzZXRWYWxpZEJvdW5kYXJ5IGFzIHV9ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3BpeGVsVXRpbHMuanNcIjtpbXBvcnQgaCBmcm9tXCIuLi9yYXN0ZXJUcmFuc2Zvcm1zL0dDU1NoaWZ0VHJhbnNmb3JtLmpzXCI7aW1wb3J0e3BhdGNoU2VydmljZUluZm8gYXMgZixmZXRjaFNlcnZpY2VSYXN0ZXJJbmZvIGFzIHB9ZnJvbVwiLi4vLi4vLi4vcmVzdC9pbWFnZVNlcnZpY2UvZmV0Y2hSYXN0ZXJJbmZvLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydCB5IGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1BvaW50LmpzXCI7aW1wb3J0IHggZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7bGV0IGc9Y2xhc3MgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9sZXZlbE9mZnNldD0wLHRoaXMuX3RpbGVtYXBDYWNoZT1udWxsLHRoaXMuX3NsaWNlcz1udWxsLHRoaXMuZGF0YXNldEZvcm1hdD1cIlJhc3RlclRpbGVTZXJ2ZXJcIix0aGlzLnRpbGVUeXBlPW51bGx9YXN5bmMgb3BlbihlKXthd2FpdCB0aGlzLmluaXQoKTtjb25zdCByPWU/LnNpZ25hbCxhPXRoaXMuc291cmNlSlNPTj97ZGF0YTp0aGlzLnNvdXJjZUpTT059OmF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCx7cXVlcnk6e2Y6XCJqc29uXCJ9LHNpZ25hbDpyfSk7YS5zc2wmJih0aGlzLnVybD10aGlzLnVybC5yZXBsYWNlKC9eaHR0cDovaSxcImh0dHBzOlwiKSk7Y29uc3QgbD1hLmRhdGE7aWYodGhpcy5zb3VyY2VKU09OPWwsIWwpdGhyb3cgbmV3IHQoXCJpbWFnZXNlcnZlcnJhc3RlcjpvcGVuXCIsXCJjYW5ub3QgaW5pdGlhbGl6ZSB0aWxlZCBpbWFnZSBzZXJ2aWNlLCBtaXNzaW5nIHNlcnZpY2UgaW5mb1wiKTtpZighbC50aWxlSW5mbyl0aHJvdyBuZXcgdChcImltYWdlc2VydmVycmFzdGVyOm9wZW5cIixcInVzZSBJbWFnZXJ5TGF5ZXIgdG8gb3BlbiBub24tdGlsZWQgaW1hZ2Ugc2VydmljZXNcIik7dGhpcy5fZml4U2NhbGVJblNlcnZpY2VJbmZvKCk7Y29uc3QgbT1bXCJqcGdcIixcImpwZWdcIixcInBuZ1wiLFwicG5nOFwiLFwicG5nMjRcIixcInBuZzMyXCIsXCJtaXhlZFwiXTt0aGlzLnRpbGVUeXBlPWwuY2FjaGVUeXBlLG51bGw9PXRoaXMudGlsZVR5cGUmJihtLmluY2x1ZGVzKGwudGlsZUluZm8uZm9ybWF0LnRvTG93ZXJDYXNlKCkpP3RoaXMudGlsZVR5cGU9XCJNYXBcIjpcImxlcmNcIj09PWwudGlsZUluZm8uZm9ybWF0LnRvTG93ZXJDYXNlKCk/dGhpcy50aWxlVHlwZT1cIkVsZXZhdGlvblwiOnRoaXMudGlsZVR5cGU9XCJSYXN0ZXJcIiksdGhpcy5kYXRhc2V0TmFtZT1sLm5hbWU/LnNsaWNlKGwubmFtZS5pbmRleE9mKFwiL1wiKSsxKT8/XCJcIjtjb25zdCB1PWF3YWl0IHRoaXMuX2ZldGNoUmFzdGVySW5mbyh7c2lnbmFsOnJ9KTtpZihudWxsPT11KXRocm93IG5ldyB0KFwiaW1hZ2Utc2VydmVyLXJhc3RlcjpvcGVuXCIsXCJjYW5ub3QgaW5pdGlhbGl6ZSBpbWFnZSBzZXJ2aWNlXCIpO2YodSxsKTtjb25zdCBoPVwiTWFwXCI9PT10aGlzLnRpbGVUeXBlP3YobC50aWxlSW5mbyxsKTpuLmZyb21KU09OKGwudGlsZUluZm8pO2koaCk7Y29uc3RbcCxkXT10aGlzLl9jb21wdXRlTWluTWF4TE9EKHUsaCkse2V4dGVudDp5LHBpeGVsU2l6ZTp4fT11LGc9LjUvdS53aWR0aCp4LngsUz1NYXRoLm1heCh4LngseC55KSx7bG9kczpJfT1oOyhcIk1hcFwiIT09dGhpcy50aWxlVHlwZSYmMCE9PWwubWF4U2NhbGV8fE1hdGguYWJzKHgueC14LnkpPmd8fCFJLnNvbWUoKGU9Pk1hdGguYWJzKGUucmVzb2x1dGlvbi1TKTxnKSkpJiYoeC54PXgueT1wLnJlc29sdXRpb24sdS53aWR0aD1NYXRoLmNlaWwoKHkueG1heC15LnhtaW4pL3gueC0uMSksdS5oZWlnaHQ9TWF0aC5jZWlsKCh5LnltYXgteS55bWluKS94LnktLjEpKTtjb25zdCB3PXAubGV2ZWwtZC5sZXZlbCxbaixNXT1oLnNpemUsYj1bXSxUPVtdO0kuZm9yRWFjaCgoKGUsdCk9PntlLmxldmVsPj1kLmxldmVsJiZlLmxldmVsPD1wLmxldmVsJiZiLnB1c2goe3g6ZS5yZXNvbHV0aW9uLHk6ZS5yZXNvbHV0aW9ufSksdDxJLmxlbmd0aC0xJiZULnB1c2goTWF0aC5yb3VuZCgxMCplLnJlc29sdXRpb24vSVt0KzFdLnJlc29sdXRpb24pLzEwKX0pKSxiLnNvcnQoKChlLHQpPT5lLngtdC54KSk7Y29uc3QgXz10aGlzLmNvbXB1dGVCbG9ja0JvdW5kYXJ5KHksaixNLGgub3JpZ2luLGIsdyksTz1iLmxlbmd0aD4xP2Iuc2xpY2UoMSk6bnVsbDtsZXQgUjtsLnRyYW5zcG9zZUluZm8mJihSPXt0aWxlU2l6ZTpbbC50cmFuc3Bvc2VJbmZvLnJvd3MsbC50cmFuc3Bvc2VJbmZvLmNvbHNdLHBhY2tldFNpemU6dS5rZXlQcm9wZXJ0aWVzPy5feXhzLlBhY2tldFNpemU/PzB9KTtjb25zdCB6PVQubGVuZ3RoPD0xfHxULmxlbmd0aD49MyYmVC5zbGljZSgwLC0xKS5ldmVyeSgoZT0+ZT09PVRbMF0pKT9UWzBdPz8yOk1hdGgucm91bmQoMTAvKGQucmVzb2x1dGlvbi9wLnJlc29sdXRpb24pKiooLTEvdykpLzEwO2lmKHUuc3RvcmFnZUluZm89bmV3IG8oe2Jsb2NrV2lkdGg6aC5zaXplWzBdLGJsb2NrSGVpZ2h0Omguc2l6ZVsxXSxweXJhbWlkQmxvY2tXaWR0aDpoLnNpemVbMF0scHlyYW1pZEJsb2NrSGVpZ2h0Omguc2l6ZVsxXSxweXJhbWlkUmVzb2x1dGlvbnM6TyxweXJhbWlkU2NhbGluZ0ZhY3Rvcjp6LGNvbXByZXNzaW9uOmguZm9ybWF0LG9yaWdpbjpoLm9yaWdpbixmaXJzdFB5cmFtaWRMZXZlbDoxLG1heGltdW1QeXJhbWlkTGV2ZWw6dyx0aWxlSW5mbzpoLHRyYW5zcG9zZUluZm86UixibG9ja0JvdW5kYXJ5Ol99KSx0aGlzLl9maXhHQ1NTaGlmdCh1KSx0aGlzLl9zZXQoXCJyYXN0ZXJJbmZvXCIsdSksbC5jYXBhYmlsaXRpZXMudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInRpbGVtYXBcIikpe2NvbnN0IGU9e3RpbGVJbmZvOnUuc3RvcmFnZUluZm8udGlsZUluZm8scGFyc2VkVXJsOnModGhpcy51cmwpLHVybDp0aGlzLnVybCx0aWxlU2VydmVyczpbXX07dGhpcy5fdGlsZW1hcENhY2hlPW5ldyBjKHtsYXllcjplfSl9fWFzeW5jIGZldGNoUmF3VGlsZShlLHQsaSxzPXt9KXtjb25zdHtzdG9yYWdlSW5mbzpyLGV4dGVudDphfT10aGlzLnJhc3RlckluZm8se3RyYW5zcG9zZUluZm86bH09cixvPW51bGwhPWwmJiEhcy50cmFuc3Bvc2VkVmFyaWFibGVOYW1lO2lmKHRoaXMuX3NsaWNlcyYmIW8mJm51bGw9PXMuc2xpY2VJZClyZXR1cm4gbnVsbDtjb25zdCBuPW8/MDpyLm1heGltdW1QeXJhbWlkTGV2ZWwtZSt0aGlzLl9sZXZlbE9mZnNldCxjPWAke3RoaXMudXJsfS90aWxlLyR7bn0vJHt0fS8ke2l9YCxtPXRoaXMuX3NsaWNlcz9vP3t2YXJpYWJsZTpzLnRyYW5zcG9zZWRWYXJpYWJsZU5hbWV9OntzbGljZUlkOnMuc2xpY2VJZHx8MH06bnVsbCx7ZGF0YTpofT1hd2FpdCB0aGlzLnJlcXVlc3QoYyx7cXVlcnk6bSxyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6cy5zaWduYWx9KTtpZighaClyZXR1cm4gbnVsbDtjb25zdCBmPW8/bC50aWxlU2l6ZTpyLnRpbGVJbmZvLnNpemUscD1hd2FpdCB0aGlzLmRlY29kZVBpeGVsQmxvY2soaCx7d2lkdGg6ZlswXSxoZWlnaHQ6ZlsxXSxwbGFuZXM6bnVsbCxwaXhlbFR5cGU6bnVsbCxpc1BvaW50OlwiRWxldmF0aW9uXCI9PT10aGlzLnRpbGVUeXBlLHJldHVybkludGVybGVhdmVkOm8sbm9EYXRhVmFsdWU6dGhpcy5yYXN0ZXJJbmZvLm5vRGF0YVZhbHVlfSk7aWYobnVsbD09cClyZXR1cm4gbnVsbDtjb25zdCBkPXIuYmxvY2tCb3VuZGFyeVtlXTtpZihcImpwZ1wiIT09ci5jb21wcmVzc2lvbnx8aT5kLm1pbkNvbCYmaTxkLm1heENvbCYmdD5kLm1pblJvdyYmdDxkLm1heFJvdylyZXR1cm4gcDtjb25zdHtvcmlnaW46eSxibG9ja1dpZHRoOngsYmxvY2tIZWlnaHQ6Z309cix7eDp2LHk6U309dGhpcy5nZXRQeXJhbWlkUGl4ZWxTaXplKGUpLEk9TWF0aC5yb3VuZCgoYS54bWluLXkueCkvdikleCx3PU1hdGgucm91bmQoKGEueG1heC15LngpL3YpJXh8fHgsaj1NYXRoLnJvdW5kKCh5LnktYS55bWF4KS9TKSVnLE09TWF0aC5yb3VuZCgoeS55LWEueW1pbikvUyklZ3x8ZyxiPWk9PT1kLm1pbkNvbD9JOjAsVD10PT09ZC5taW5Sb3c/ajowLF89aT09PWQubWF4Q29sP3c6eCxPPXQ9PT1kLm1heFJvdz9NOmc7cmV0dXJuIHUocCx7eDpiLHk6VH0se3dpZHRoOl8tYixoZWlnaHQ6Ty1UfSkscH1nZXRTbGljZUluZGV4KGUpe2lmKCF0aGlzLl9zbGljZXN8fG51bGw9PWV8fDA9PT1lLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCB0PWU7Zm9yKGxldCBpPTA7aTx0aGlzLl9zbGljZXMubGVuZ3RoO2krKyl7Y29uc3QgZT10aGlzLl9zbGljZXNbaV0ubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb247aWYoZS5sZW5ndGg9PT10Lmxlbmd0aCYmIWUuc29tZSgoZT0+e2NvbnN0IGk9dC5maW5kKCh0PT5lLnZhcmlhYmxlTmFtZT09PXQudmFyaWFibGVOYW1lJiZ0LmRpbWVuc2lvbk5hbWU9PT1lLmRpbWVuc2lvbk5hbWUpKTtpZighaSlyZXR1cm4hMDtyZXR1cm4oQXJyYXkuaXNBcnJheShlLnZhbHVlc1swXSk/YCR7ZS52YWx1ZXNbMF1bMF19LSR7ZS52YWx1ZXNbMF1bMV19YDplLnZhbHVlc1swXSkhPT0oQXJyYXkuaXNBcnJheShpLnZhbHVlc1swXSk/YCR7aS52YWx1ZXNbMF1bMF19LSR7aS52YWx1ZXNbMF1bMV19YDppLnZhbHVlc1swXSl9KSkpcmV0dXJuIGl9cmV0dXJuIG51bGx9YXN5bmMgZmV0Y2hWYXJpYWJsZVN0YXRpc3RpY3NIaXN0b2dyYW1zKGUsdCl7Y29uc3QgaT10aGlzLnJlcXVlc3QodGhpcy51cmwrXCIvc3RhdGlzdGljc1wiLHtxdWVyeTp7dmFyaWFibGU6ZSxmOlwianNvblwifSxzaWduYWw6dH0pLnRoZW4oKGU9PmUuZGF0YT8uc3RhdGlzdGljcykpLHM9dGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiL2hpc3RvZ3JhbXNcIix7cXVlcnk6e3ZhcmlhYmxlOmUsZjpcImpzb25cIn0sc2lnbmFsOnR9KS50aGVuKChlPT5lLmRhdGE/Lmhpc3RvZ3JhbXMpKSxyPWF3YWl0IFByb21pc2UuYWxsKFtpLHNdKTtyZXR1cm4gclswXSYmclswXS5mb3JFYWNoKChlPT57ZS5hdmc9ZS5tZWFuLGUuc3RkZGV2PWUuc3RhbmRhcmREZXZpYXRpb259KSksclsxXT8uWzBdPy5jb3VudHM/Lmxlbmd0aHx8KHJbMV09bnVsbCkse3N0YXRpc3RpY3M6clswXXx8bnVsbCxoaXN0b2dyYW1zOnJbMV18fG51bGx9fWFzeW5jIGNvbXB1dGVCZXN0UHlyYW1pZExldmVsRm9yTG9jYXRpb24oZSx0PXt9KXtpZighdGhpcy5fdGlsZW1hcENhY2hlKXJldHVybiAwO2xldCBpPXRoaXMuaWRlbnRpZnlQaXhlbExvY2F0aW9uKGUsMCx0LmRhdHVtVHJhbnNmb3JtYXRpb24pO2lmKG51bGw9PT1pKXJldHVybiBudWxsO2xldCBzPTA7Y29uc3R7bWF4aW11bVB5cmFtaWRMZXZlbDpyfT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm87bGV0IGE9ci1zK3RoaXMuX2xldmVsT2Zmc2V0O2NvbnN0IGw9aS5zcmNMb2NhdGlvbjtmb3IoO2E+PTA7KXt0cnl7aWYoXCJhdmFpbGFibGVcIj09PWF3YWl0IHRoaXMuX3RpbGVtYXBDYWNoZS5mZXRjaEF2YWlsYWJpbGl0eShhLGkucm93LGkuY29sLHQpKWJyZWFrfWNhdGNoe31pZihhLS0scysrLGk9dGhpcy5pZGVudGlmeVBpeGVsTG9jYXRpb24obCxzLHQuZGF0dW1UcmFuc2Zvcm1hdGlvbiksbnVsbD09PWkpcmV0dXJuIG51bGx9cmV0dXJuLTE9PT1hfHxudWxsPT1pP251bGw6c31hc3luYyBfZmV0Y2hSYXN0ZXJJbmZvKGUpe2NvbnN0IHQ9dGhpcy5zb3VyY2VKU09OO2lmKFwiTWFwXCI9PT10aGlzLnRpbGVUeXBlKXtjb25zdCBlPXQuZnVsbEV4dGVudHx8dC5leHRlbnQsaT1NYXRoLmNlaWwoKGUueG1heC1lLnhtaW4pL3QucGl4ZWxTaXplWC0uMSkscz1NYXRoLmNlaWwoKGUueW1heC1lLnltaW4pL3QucGl4ZWxTaXplWS0uMSkscj1kLmZyb21KU09OKHQuc3BhdGlhbFJlZmVyZW5jZXx8ZS5zcGF0aWFsUmVmZXJlbmNlKSxhPW5ldyB5KHt4OnQucGl4ZWxTaXplWCx5OnQucGl4ZWxTaXplWSxzcGF0aWFsUmVmZXJlbmNlOnJ9KTtyZXR1cm4gbmV3IGwoe3dpZHRoOmksaGVpZ2h0OnMsYmFuZENvdW50OjMsZXh0ZW50OnguZnJvbUpTT04oZSksc3BhdGlhbFJlZmVyZW5jZTpyLHBpeGVsU2l6ZTphLHBpeGVsVHlwZTpcInU4XCIsc3RhdGlzdGljczpudWxsLGtleVByb3BlcnRpZXM6e0RhdGFUeXBlOlwicHJvY2Vzc2VkXCJ9fSl9Y29uc3R7c2lnbmFsOml9PWUscz1wKHRoaXMudXJsLHRoaXMuc291cmNlSlNPTix7c2lnbmFsOmkscXVlcnk6dGhpcy5pb0NvbmZpZy5jdXN0b21GZXRjaFBhcmFtZXRlcnN9KSxyPXQuaGFzTXVsdGlkaW1lbnNpb25zP3RoaXMucmVxdWVzdChgJHt0aGlzLnVybH0vc2xpY2VzYCx7cXVlcnk6e2Y6XCJqc29uXCJ9LHNpZ25hbDppfSkudGhlbigoZT0+ZS5kYXRhPy5zbGljZXMpKS5jYXRjaCgoKCk9Pm51bGwpKTpudWxsLGE9YXdhaXQgUHJvbWlzZS5hbGwoW3Mscl0pO3JldHVybiB0aGlzLl9zbGljZXM9YVsxXSxhWzBdfV9maXhTY2FsZUluU2VydmljZUluZm8oKXtjb25zdHtzb3VyY2VKU09OOmV9PXRoaXM7ZS5taW5TY2FsZSYmZS5taW5TY2FsZTwwJiYoZS5taW5TY2FsZT0wKSxlLm1heFNjYWxlJiZlLm1heFNjYWxlPDAmJihlLm1heFNjYWxlPTApfV9maXhHQ1NTaGlmdChlKXtjb25zdHtleHRlbnQ6dCxzcGF0aWFsUmVmZXJlbmNlOml9PWU7dC54bWluPi0xJiZ0LnhtYXg+MTgxJiZpPy53a2lkJiZpLmlzR2VvZ3JhcGhpYyYmKGUubmF0aXZlRXh0ZW50PWUuZXh0ZW50LGUudHJhbnNmb3JtPW5ldyBoLGUuZXh0ZW50PWUudHJhbnNmb3JtLmZvcndhcmRUcmFuc2Zvcm0odCkpfV9jb21wdXRlTWluTWF4TE9EKGUsdCl7Y29uc3R7cGl4ZWxTaXplOml9PWUscz0uNS9lLndpZHRoKmkueCx7bG9kczpyfT10LGE9dC5sb2RBdChNYXRoLm1heC5hcHBseShudWxsLHIubWFwKChlPT5lLmxldmVsKSkpKSxsPXQubG9kQXQoTWF0aC5taW4uYXBwbHkobnVsbCxyLm1hcCgoZT0+ZS5sZXZlbCkpKSkse3RpbGVUeXBlOm99PXRoaXM7aWYoXCJNYXBcIj09PW8pcmV0dXJuIHRoaXMuX2xldmVsT2Zmc2V0PXJbMF0ubGV2ZWwsW2EsbF07aWYoXCJSYXN0ZXJcIj09PW8pe3JldHVybltyLmZpbmQoKGU9PmUucmVzb2x1dGlvbj09PWkueCkpPz9hLGxdfWNvbnN0e21pblNjYWxlOm4sbWF4U2NhbGU6Y309dGhpcy5zb3VyY2VKU09OO2xldCBtPWE7Yz4wJiYobT1yLmZpbmQoKGU9Pk1hdGguYWJzKGUuc2NhbGUtYyk8cykpLG18fChtPXIuZmlsdGVyKChlPT5lLnNjYWxlPmMpKS5zb3J0KCgoZSx0KT0+ZS5zY2FsZT50LnNjYWxlPzE6LTEpKVswXT8/YSkpO2xldCB1PWw7cmV0dXJuIG4+MCYmKHU9ci5maW5kKChlPT5NYXRoLmFicyhlLnNjYWxlLW4pPHMpKT8/bCx0aGlzLl9sZXZlbE9mZnNldD11LmxldmVsLWwubGV2ZWwpLFttLHVdfX07ZnVuY3Rpb24gdihlLHQpe2lmKCFlKXJldHVybiBudWxsO2NvbnN0e21pblNjYWxlOmksbWF4U2NhbGU6cyxtaW5MT0Q6cixtYXhMT0Q6YX09dDtpZihudWxsIT1yJiZudWxsIT1hKXJldHVybiBuLmZyb21KU09OKHsuLi5lLGxvZHM6ZS5sb2RzLmZpbHRlcigoKHtsZXZlbDplfSk9Pm51bGwhPWUmJmU+PXImJmU8PWEpKX0pO2lmKDAhPT1pJiYwIT09cyl7Y29uc3QgdD1lPT5NYXRoLnJvdW5kKDFlNCplKS8xZTQscj1pP3QoaSk6MS8wLGE9cz90KHMpOi0xLzA7cmV0dXJuIG4uZnJvbUpTT04oey4uLmUsbG9kczplLmxvZHMuZmlsdGVyKChlPT57Y29uc3QgaT10KGUuc2NhbGUpO3JldHVybiBpPD1yJiZpPj1hfSkpfSl9cmV0dXJuIG4uZnJvbUpTT04oZSl9ZShbcih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLGcucHJvdG90eXBlLFwiZGF0YXNldEZvcm1hdFwiLHZvaWQgMCksZShbcigpXSxnLnByb3RvdHlwZSxcInRpbGVUeXBlXCIsdm9pZCAwKSxnPWUoW2EoXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlckRhdGFzZXRzLkltYWdlU2VydmVyUmFzdGVyXCIpXSxnKTtjb25zdCBTPWc7ZXhwb3J0e1MgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgdH1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7ZWFjaEFsd2F5cyBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9SYXN0ZXJJbmZvLmpzXCI7aW1wb3J0IGEgZnJvbVwiLi9CYXNlUmFzdGVyLmpzXCI7aW1wb3J0e3NwbGl0IGFzIG59ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3BpeGVsVXRpbHMuanNcIjtpbXBvcnR7ZXN0aW1hdGVTdGF0aXN0aWNzSGlzdG9ncmFtcyBhcyBtfWZyb21cIi4uL3Jhc3RlckZ1bmN0aW9ucy9zdHJldGNoVXRpbHMuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnQgcCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7bGV0IGM9Y2xhc3MgZXh0ZW5kcyBhe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmRhdGFzZXRGb3JtYXQ9XCJNRU1PUllcIix0aGlzLmRhdGE9bnVsbH1hc3luYyBvcGVuKHQpe2F3YWl0IHRoaXMuaW5pdCgpO2NvbnN0IGU9dGhpcy5kYXRhLHtwaXhlbEJsb2NrOnMsc3RhdGlzdGljczpyLGhpc3RvZ3JhbXM6aSxuYW1lOmEsa2V5UHJvcGVydGllczpuLG5hdGl2ZUV4dGVudDptLHRyYW5zZm9ybTpjfT10aGlzLmRhdGEse3dpZHRoOmgsaGVpZ2h0OmYscGl4ZWxUeXBlOnV9PXMsZD1lLmV4dGVudD8/bmV3IGwoe3htaW46LS41LHltaW46LjUseG1heDpoLS41LHltYXg6Zi0uNSxzcGF0aWFsUmVmZXJlbmNlOm5ldyBwKHt3a2lkOjM4NTd9KX0pLHk9ZS5pc1BzZXVkb1NwYXRpYWxSZWZlcmVuY2U/PyFlLmV4dGVudCx4PXt4OmQud2lkdGgvaCx5OmQuaGVpZ2h0L2Z9LGc9bmV3IG8oe3dpZHRoOmgsaGVpZ2h0OmYscGl4ZWxUeXBlOnUsZXh0ZW50OmQsbmF0aXZlRXh0ZW50Om0sdHJhbnNmb3JtOmMscGl4ZWxTaXplOngsc3BhdGlhbFJlZmVyZW5jZTpkLnNwYXRpYWxSZWZlcmVuY2UsYmFuZENvdW50OnMucGl4ZWxzLmxlbmd0aCxrZXlQcm9wZXJ0aWVzOm58fHt9LHN0YXRpc3RpY3M6cixpc1BzZXVkb1NwYXRpYWxSZWZlcmVuY2U6eSxoaXN0b2dyYW1zOml9KTt0aGlzLmNyZWF0ZVJlbW90ZURhdGFzZXRTdG9yYWdlSW5mbyhnLDUxMiw1MTIpLHRoaXMuX3NldChcInJhc3RlckluZm9cIixnKSx0aGlzLnVwZGF0ZVRpbGVJbmZvKCksYXdhaXQgdGhpcy5fYnVpbGRJbk1lbW9yeVJhc3RlcihzLHt3aWR0aDo1MTIsaGVpZ2h0OjUxMn0sdCksdGhpcy5kYXRhc2V0TmFtZT1hLHRoaXMudXJsPVwiL0luTWVtb3J5L1wiK2F9ZmV0Y2hSYXdUaWxlKHQsZSxzLHI9e30pe2NvbnN0IGk9dGhpcy5fcGl4ZWxCbG9ja1RpbGVzLmdldChgJHt0fS8ke2V9LyR7c31gKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGkpfWFzeW5jIF9idWlsZEluTWVtb3J5UmFzdGVyKHQscixpKXtjb25zdCBvPXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5tYXhpbXVtUHlyYW1pZExldmVsLGE9dGhpcy5yYXN0ZXJKb2JIYW5kbGVyP3RoaXMucmFzdGVySm9iSGFuZGxlci5zcGxpdCh7cGl4ZWxCbG9jazp0LHRpbGVTaXplOnIsbWF4aW11bVB5cmFtaWRMZXZlbDpvfSxpKTpQcm9taXNlLnJlc29sdmUobih0LHIsbykpLGw9bnVsbCE9dGhpcy5yYXN0ZXJJbmZvLnN0YXRpc3RpY3MscD1udWxsIT10aGlzLnJhc3RlckluZm8uaGlzdG9ncmFtcyxjPWw/UHJvbWlzZS5yZXNvbHZlKHtzdGF0aXN0aWNzOm51bGwsaGlzdG9ncmFtczpudWxsfSk6dGhpcy5yYXN0ZXJKb2JIYW5kbGVyP3RoaXMucmFzdGVySm9iSGFuZGxlci5lc3RpbWF0ZVN0YXRpc3RpY3NIaXN0b2dyYW1zKHtwaXhlbEJsb2NrOnR9LGkpOlByb21pc2UucmVzb2x2ZShtKHQpKSxoPWF3YWl0IHMoW2EsY10pO2lmKCFoWzBdLnZhbHVlJiZoWzFdLnZhbHVlKXRocm93IG5ldyBlKFwiaW5tZW1vcnktcmFzdGVyOm9wZW5cIixcImZhaWxlZCB0byBidWlsZCBpbiBtZW1vcnkgcmFzdGVyXCIpO3RoaXMuX3BpeGVsQmxvY2tUaWxlcz1oWzBdLnZhbHVlLGx8fCh0aGlzLnJhc3RlckluZm8uc3RhdGlzdGljcz1oWzFdLnZhbHVlPy5zdGF0aXN0aWNzKSxwfHwodGhpcy5yYXN0ZXJJbmZvLmhpc3RvZ3JhbXM9aFsxXS52YWx1ZT8uaGlzdG9ncmFtcyl9fTt0KFtyKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sYy5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSx0KFtyKCldLGMucHJvdG90eXBlLFwiZGF0YVwiLHZvaWQgMCksYz10KFtpKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5yYXN0ZXJEYXRhc2V0cy5Jbk1lbW9yeVJhc3RlclwiKV0sYyk7Y29uc3QgaD1jO2V4cG9ydHtoIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9QaXhlbEJsb2NrLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vUmFzdGVySW5mby5qc1wiO2ltcG9ydCBhIGZyb21cIi4uL1Jhc3RlclN0b3JhZ2VJbmZvLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi9CYXNlUmFzdGVyLmpzXCI7aW1wb3J0e3BhcnNlU3BhdGlhbFJlZmVyZW5jZSBhcyBsLHBhcnNlUEFNSW5mbyBhcyBmfWZyb21cIi4vcGFtUGFyc2VyLmpzXCI7aW1wb3J0e2dldEVsZW1lbnQgYXMgYyxnZXRFbGVtZW50VmFsdWUgYXMgcH1mcm9tXCIuL3htbFV0aWxpdGllcy5qc1wiO2ltcG9ydHtpc1BsYXRmb3JtTGl0dGxlRW5kaWFuIGFzIG19ZnJvbVwiLi4vcmFzdGVyRm9ybWF0cy91dGlscy5qc1wiO2ltcG9ydHtlc3RpbWF0ZVN0YXRpc3RpY3NGcm9tSGlzdG9ncmFtcyBhcyBofWZyb21cIi4uL3Jhc3RlckZ1bmN0aW9ucy9zdHJldGNoVXRpbHMuanNcIjtpbXBvcnQgdSBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0IGcgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtjb25zdCB5PW5ldyBNYXA7eS5zZXQoXCJJbnQ4XCIsXCJzOFwiKSx5LnNldChcIlVJbnQ4XCIsXCJ1OFwiKSx5LnNldChcIkludDE2XCIsXCJzMTZcIikseS5zZXQoXCJVSW50MTZcIixcInUxNlwiKSx5LnNldChcIkludDMyXCIsXCJzMzJcIikseS5zZXQoXCJVSW50MzJcIixcInUzMlwiKSx5LnNldChcIkZsb2F0MzJcIixcImYzMlwiKSx5LnNldChcIkZsb2F0NjRcIixcImYzMlwiKSx5LnNldChcIkRvdWJsZTY0XCIsXCJmMzJcIik7Y29uc3QgeD1uZXcgTWFwO3guc2V0KFwibm9uZVwiLHtibG9iRXh0ZW5zaW9uOlwiLnRpbFwiLGlzT25lU2VnbWVudDohMCxkZWNvZGVyRm9ybWF0OlwiYmlwXCJ9KSx4LnNldChcImxlcmNcIix7YmxvYkV4dGVuc2lvbjpcIi5scmNcIixpc09uZVNlZ21lbnQ6ITEsZGVjb2RlckZvcm1hdDpcImxlcmNcIn0pLHguc2V0KFwiZGVmbGF0ZVwiLHtibG9iRXh0ZW5zaW9uOlwiLnB6cFwiLGlzT25lU2VnbWVudDohMCxkZWNvZGVyRm9ybWF0OlwiZGVmbGF0ZVwifSkseC5zZXQoXCJqcGVnXCIse2Jsb2JFeHRlbnNpb246XCIucGpnXCIsaXNPbmVTZWdtZW50OiEwLGRlY29kZXJGb3JtYXQ6XCJqcGdcIn0pO2xldCB3PWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fZmlsZXM9bnVsbCx0aGlzLl9zdG9yYWdlSW5kZXg9bnVsbCx0aGlzLmRhdGFzZXRGb3JtYXQ9XCJNUkZcIn1hc3luYyBvcGVuKHQpe2F3YWl0IHRoaXMuaW5pdCgpLHRoaXMuZGF0YXNldE5hbWU9dGhpcy51cmwuc2xpY2UodGhpcy51cmwubGFzdEluZGV4T2YoXCIvXCIpKzEpO2NvbnN0IGU9dD90LnNpZ25hbDpudWxsLHI9YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyZXNwb25zZVR5cGU6XCJ4bWxcIixzaWduYWw6ZX0pLHtyYXN0ZXJJbmZvOnMsZmlsZXM6b309dGhpcy5fcGFyc2VIZWFkZXIoci5kYXRhKTtpZigtMT09PXRoaXMuaW9Db25maWcuc2tpcEV4dGVuc2lvbnM/LmluZGV4T2YoXCJhdXgueG1sXCIpKXtjb25zdCBlPWF3YWl0IHRoaXMuX2ZldGNoQXV4aWxpYXJ5RGF0YSh0KTtudWxsIT1lJiYocy5zdGF0aXN0aWNzPWUuc3RhdGlzdGljcz8/cy5zdGF0aXN0aWNzLHMuaGlzdG9ncmFtcz1lLmhpc3RvZ3JhbXMsZS5oaXN0b2dyYW1zJiZudWxsPT1zLnN0YXRpc3RpY3MmJihzLnN0YXRpc3RpY3M9aChlLmhpc3RvZ3JhbXMpKSl9dGhpcy5fc2V0KFwicmFzdGVySW5mb1wiLHMpLHRoaXMuX2ZpbGVzPW87Y29uc3QgaT1hd2FpdCB0aGlzLnJlcXVlc3Qoby5pbmRleCx7cmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOmV9KTt0aGlzLl9zdG9yYWdlSW5kZXg9dGhpcy5fcGFyc2VJbmRleChpLmRhdGEpO2NvbnN0e2Jsb2NrV2lkdGg6YSxibG9ja0hlaWdodDpufT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8sbD10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8ucHlyYW1pZFNjYWxpbmdGYWN0b3Ise3dpZHRoOmYsaGVpZ2h0OmN9PXRoaXMucmFzdGVySW5mbyxwPVtdLG09dGhpcy5fZ2V0QmFuZFNlZ21lbnRDb3VudCgpO2xldCB1PTAsZz0tMTtmb3IoO3U8dGhpcy5fc3RvcmFnZUluZGV4Lmxlbmd0aDspe2crKztjb25zdCB0PU1hdGguY2VpbChmL2EvbCoqZyktMSxlPU1hdGguY2VpbChjL24vbCoqZyktMTt1Kz0odCsxKSooZSsxKSptKjQscC5wdXNoKHttYXhSb3c6ZSxtYXhDb2w6dCxtaW5Db2w6MCxtaW5Sb3c6MH0pfXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5ibG9ja0JvdW5kYXJ5PXAsZz4wJiYodGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmZpcnN0UHlyYW1pZExldmVsPTEsdGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLm1heGltdW1QeXJhbWlkTGV2ZWw9ZyksdGhpcy51cGRhdGVUaWxlSW5mbygpfWFzeW5jIGZldGNoUmF3VGlsZSh0LGUscixzPXt9KXtjb25zdHtibG9ja1dpZHRoOmksYmxvY2tIZWlnaHQ6YSxibG9ja0JvdW5kYXJ5Om59PXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mbyxsPW5bdF07aWYoIWx8fGwubWF4Um93PGV8fGwubWF4Q29sPHJ8fGwubWluUm93PmV8fGwubWluQ29sPnIpcmV0dXJuIG51bGw7Y29uc3R7YmFuZENvdW50OmYscGl4ZWxUeXBlOmN9PXRoaXMucmFzdGVySW5mbyx7cmFuZ2VzOnAsYWN0dWFsVGlsZVdpZHRoOm0sYWN0dWFsVGlsZUhlaWdodDpofT10aGlzLl9nZXRUaWxlTG9jYXRpb24odCxlLHIpO2lmKCFwfHwwPT09cC5sZW5ndGgpcmV0dXJuIG51bGw7aWYoMD09PXBbMF0uZnJvbSYmMD09PXBbMF0udG8pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoaSphKTtyZXR1cm4gbmV3IG8oe3dpZHRoOmksaGVpZ2h0OmEscGl4ZWxzOm51bGwsbWFzazp0LHZhbGlkUGl4ZWxDb3VudDowfSl9Y29uc3R7YmFuZElkczp1fT10aGlzLmlvQ29uZmlnLGc9dGhpcy5fZ2V0QmFuZFNlZ21lbnRDb3VudCgpLGQ9W107bGV0IHk9MDtmb3IoeT0wO3k8Zzt5KyspdSYmIXUuaW5jbHVkZXMoeSl8fGQucHVzaCh0aGlzLnJlcXVlc3QodGhpcy5fZmlsZXMuZGF0YSx7cmFuZ2U6e2Zyb206cFt5XS5mcm9tLHRvOnBbeV0udG99LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpzLnNpZ25hbH0pKTtjb25zdCB3PWF3YWl0IFByb21pc2UuYWxsKGQpLEk9dy5tYXAoKHQ9PnQuZGF0YS5ieXRlTGVuZ3RoKSkucmVkdWNlKCgodCxlKT0+dCtlKSksYj1uZXcgVWludDhBcnJheShJKTtsZXQgQT0wO2Zvcih5PTA7eTxnO3krKyliLnNldChuZXcgVWludDhBcnJheSh3W3ldLmRhdGEpLEEpLEErPXdbeV0uZGF0YS5ieXRlTGVuZ3RoO2NvbnN0IEY9eC5nZXQodGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmNvbXByZXNzaW9uKS5kZWNvZGVyRm9ybWF0LF89YXdhaXQgdGhpcy5kZWNvZGVQaXhlbEJsb2NrKGIuYnVmZmVyLHt3aWR0aDppLGhlaWdodDphLGZvcm1hdDpGLHBsYW5lczp1Py5sZW5ndGh8fGYscGl4ZWxUeXBlOmN9KTtpZihudWxsPT1fKXJldHVybiBudWxsO2xldHtub0RhdGFWYWx1ZTpSfT10aGlzLnJhc3RlckluZm87aWYobnVsbCE9UiYmXCJsZXJjXCIhPT1GJiYhXy5tYXNrJiYoUj1SWzBdLG51bGwhPVIpKXtjb25zdCB0PV8ud2lkdGgqXy5oZWlnaHQsZT1uZXcgVWludDhBcnJheSh0KTtpZihNYXRoLmFicyhSKT4xZTI0KWZvcih5PTA7eTx0O3krKylNYXRoLmFicygoXy5waXhlbHNbMF1beV0tUikvUik+MWUtNiYmKGVbeV09MSk7ZWxzZSBmb3IoeT0wO3k8dDt5KyspXy5waXhlbHNbMF1beV0hPT1SJiYoZVt5XT0xKTtfLm1hc2s9ZX1sZXQgUz0wLGo9MDtpZihtIT09aXx8aCE9PWEpe2xldCB0PV8ubWFzaztpZih0KWZvcih5PTA7eTxhO3krKylpZihqPXkqaSx5PGgpZm9yKFM9bTtTPGk7UysrKXRbaitTXT0wO2Vsc2UgZm9yKFM9MDtTPGk7UysrKXRbaitTXT0wO2Vsc2UgZm9yKHQ9bmV3IFVpbnQ4QXJyYXkoaSphKSxfLm1hc2s9dCx5PTA7eTxoO3krKylmb3Ioaj15KmksUz0wO1M8bTtTKyspdFtqK1NdPTF9cmV0dXJuIF99X3BhcnNlSW5kZXgodCl7aWYodC5ieXRlTGVuZ3RoJTE2PjApdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBhcnJheSBidWZmZXIgbXVzdCBiZSBtdWx0aXBsZXMgb2YgMTZcIik7bGV0IGUscixzLG8saSxhO2lmKG0pe2ZvcihyPW5ldyBVaW50OEFycmF5KHQpLG89bmV3IEFycmF5QnVmZmVyKHQuYnl0ZUxlbmd0aCkscz1uZXcgVWludDhBcnJheShvKSxpPTA7aTx0LmJ5dGVMZW5ndGgvNDtpKyspZm9yKGE9MDthPDQ7YSsrKXNbNCppK2FdPXJbNCppKzMtYV07ZT1uZXcgVWludDMyQXJyYXkobyl9ZWxzZSBlPW5ldyBVaW50MzJBcnJheSh0KTtyZXR1cm4gZX1fZ2V0QmFuZFNlZ21lbnRDb3VudCgpe3JldHVybiB4LmdldCh0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uY29tcHJlc3Npb24pLmlzT25lU2VnbWVudD8xOnRoaXMucmFzdGVySW5mby5iYW5kQ291bnR9X2dldFRpbGVMb2NhdGlvbih0LGUscil7Y29uc3R7YmxvY2tXaWR0aDpzLGJsb2NrSGVpZ2h0Om8scHlyYW1pZFNjYWxpbmdGYWN0b3I6aX09dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLHt3aWR0aDphLGhlaWdodDpufT10aGlzLnJhc3RlckluZm8sbD10aGlzLl9nZXRCYW5kU2VnbWVudENvdW50KCk7bGV0IGYsYyxwLG09MCxoPTA7Zm9yKHA9MDtwPHQ7cCsrKWg9aSoqcCxmPU1hdGguY2VpbChhL3MvaCksYz1NYXRoLmNlaWwobi9vL2gpLG0rPWYqYztoPWkqKnQsZj1NYXRoLmNlaWwoYS9zL2gpLGM9TWF0aC5jZWlsKG4vby9oKSxtKz1lKmYrcixtKj00Kmw7Y29uc3QgdT10aGlzLl9zdG9yYWdlSW5kZXguc3ViYXJyYXkobSxtKzQqbCk7bGV0IGc9MCxkPTA7Y29uc3QgeT1bXTtmb3IobGV0IHg9MDt4PGw7eCsrKWc9dVs0KnhdKjIqKjMyK3VbNCp4KzFdLGQ9Zyt1WzQqeCsyXSoyKiozMit1WzQqeCszXSx5LnB1c2goe2Zyb206Zyx0bzpkfSk7cmV0dXJue3Jhbmdlczp5LGFjdHVhbFRpbGVXaWR0aDpyPGYtMT9zOk1hdGguY2VpbChhL2gpLXMqKGYtMSksYWN0dWFsVGlsZUhlaWdodDplPGMtMT9vOk1hdGguY2VpbChuL2gpLW8qKGMtMSl9fV9wYXJzZUhlYWRlcih0KXtjb25zdCByPWModCxcIk1SRl9NRVRBL1Jhc3RlclwiKTtpZighcil0aHJvdyBuZXcgZShcIm1yZjpvcGVuXCIsXCJub3QgYSB2YWxpZCBNUkYgZm9ybWF0XCIpO2NvbnN0IHM9YyhyLFwiU2l6ZVwiKSxvPXBhcnNlSW50KHMuZ2V0QXR0cmlidXRlKFwieFwiKSwxMCksbj1wYXJzZUludChzLmdldEF0dHJpYnV0ZShcInlcIiksMTApLGY9cGFyc2VJbnQocy5nZXRBdHRyaWJ1dGUoXCJjXCIpLDEwKSxtPShwKHIsXCJDb21wcmVzc2lvblwiKXx8XCJub25lXCIpLnRvTG93ZXJDYXNlKCk7aWYoIXguaGFzKG0pKXRocm93IG5ldyBlKFwibXJmOm9wZW5cIixcImN1cnJlbnRseSBkb2VzIG5vdCBzdXBwb3J0IGNvbXByZXNzaW9uIFwiK20pO2NvbnN0IGg9cChyLFwiRGF0YVR5cGVcIil8fFwiVUludDhcIix3PXkuZ2V0KGgpO2lmKG51bGw9PXcpdGhyb3cgbmV3IGUoXCJtcmY6b3BlblwiLFwiY3VycmVudGx5IGRvZXMgbm90IHN1cHBvcnQgcGl4ZWwgdHlwZSBcIitoKTtjb25zdCBJPWMocixcIlBhZ2VTaXplXCIpLGI9cGFyc2VJbnQoSS5nZXRBdHRyaWJ1dGUoXCJ4XCIpLDEwKSxBPXBhcnNlSW50KEkuZ2V0QXR0cmlidXRlKFwieVwiKSwxMCksRj1jKHIsXCJEYXRhVmFsdWVzXCIpO2xldCBfLFI7RiYmKFI9Ri5nZXRBdHRyaWJ1dGUoXCJOb0RhdGFcIiksbnVsbCE9UiYmKF89Ui50cmltKCkuc3BsaXQoXCIgXCIpLm1hcCgodD0+cGFyc2VGbG9hdCh0KSkpKSk7aWYoYyh0LFwiTVJGX01FVEEvQ2FjaGVkU291cmNlXCIpKXRocm93IG5ldyBlKFwibXJmOm9wZW5cIixcImN1cnJlbnRseSBkb2VzIG5vdCBzdXBwb3J0IE1SRiByZWZlcmVuY2luZyBvdGhlciBkYXRhIGZpbGVzXCIpO2NvbnN0IFM9Yyh0LFwiTVJGX01FVEEvR2VvVGFnc1wiKSxqPWMoUyxcIkJvdW5kaW5nQm94XCIpO2xldCBrLE09ITE7aWYobnVsbCE9ail7Y29uc3QgdD1wYXJzZUZsb2F0KGouZ2V0QXR0cmlidXRlKFwibWlueFwiKSksZT1wYXJzZUZsb2F0KGouZ2V0QXR0cmlidXRlKFwibWlueVwiKSkscj1wYXJzZUZsb2F0KGouZ2V0QXR0cmlidXRlKFwibWF4eFwiKSkscz1wYXJzZUZsb2F0KGouZ2V0QXR0cmlidXRlKFwibWF4eVwiKSksbz1wKFMsXCJQcm9qZWN0aW9uXCIpfHxcIlwiO2xldCBpPXUuV0dTODQ7aWYoXCJMT0NBTF9DU1tdXCIhPT1vKWlmKG8udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwiZXBzZzpcIikpe2NvbnN0IHQ9TnVtYmVyKG8uc2xpY2UoNSkpO2lzTmFOKHQpfHwwPT09dHx8KGk9bmV3IHUoe3draWQ6dH0pKX1lbHNlIGk9bChvKT8/dS5XR1M4NDtlbHNlIE09ITAsaT1uZXcgdSh7d2tpZDozODU3fSk7az1uZXcgZyh0LGUscixzKSxrLnNwYXRpYWxSZWZlcmVuY2U9aX1lbHNlIE09ITAsaz1uZXcgZyh7eG1pbjotLjUseW1pbjouNS1uLHhtYXg6by0uNSx5bWF4Oi41LHNwYXRpYWxSZWZlcmVuY2U6bmV3IHUoe3draWQ6Mzg1N30pfSk7Y29uc3QgVD1jKHQsXCJNUkZfTUVUQS9Sc2V0c1wiKSxDPXBhcnNlSW50KFQ/LmdldEF0dHJpYnV0ZShcInNjYWxlXCIpfHxcIjJcIiwxMCksVT1rLnNwYXRpYWxSZWZlcmVuY2UsQj1uZXcgYSh7b3JpZ2luOm5ldyBkKHt4OmsueG1pbix5OmsueW1heCxzcGF0aWFsUmVmZXJlbmNlOlV9KSxibG9ja1dpZHRoOmIsYmxvY2tIZWlnaHQ6QSxweXJhbWlkQmxvY2tXaWR0aDpiLHB5cmFtaWRCbG9ja0hlaWdodDpBLGNvbXByZXNzaW9uOm0scHlyYW1pZFNjYWxpbmdGYWN0b3I6Q30pLEU9bmV3IGQoe3g6ay53aWR0aC9vLHk6ay5oZWlnaHQvbixzcGF0aWFsUmVmZXJlbmNlOlV9KSxMPW5ldyBpKHt3aWR0aDpvLGhlaWdodDpuLGV4dGVudDprLGlzUHNldWRvU3BhdGlhbFJlZmVyZW5jZTpNLHNwYXRpYWxSZWZlcmVuY2U6VSxiYW5kQ291bnQ6ZixwaXhlbFR5cGU6dyxwaXhlbFNpemU6RSxub0RhdGFWYWx1ZTpfLHN0b3JhZ2VJbmZvOkJ9KSxQPXAodCxcImRhdGFmaWxlXCIpLFc9cCh0LFwiSW5kZXhGaWxlXCIpO3JldHVybntyYXN0ZXJJbmZvOkwsZmlsZXM6e21yZjp0aGlzLnVybCxpbmRleDpXfHx0aGlzLnVybC5yZXBsYWNlKFwiLm1yZlwiLFwiLmlkeFwiKSxkYXRhOlB8fHRoaXMudXJsLnJlcGxhY2UoXCIubXJmXCIseC5nZXQobSkuYmxvYkV4dGVuc2lvbil9fX1hc3luYyBfZmV0Y2hBdXhpbGlhcnlEYXRhKHQpe3RyeXtjb25zdHtkYXRhOmV9PWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi5hdXgueG1sXCIse3Jlc3BvbnNlVHlwZTpcInhtbFwiLHNpZ25hbDp0Py5zaWduYWx9KTtyZXR1cm4gZihlKX1jYXRjaHtyZXR1cm4gbnVsbH19fTt0KFtyKCldLHcucHJvdG90eXBlLFwiX2ZpbGVzXCIsdm9pZCAwKSx0KFtyKCldLHcucHJvdG90eXBlLFwiX3N0b3JhZ2VJbmRleFwiLHZvaWQgMCksdChbcih7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLHcucHJvdG90eXBlLFwiZGF0YXNldEZvcm1hdFwiLHZvaWQgMCksdz10KFtzKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5yYXN0ZXJJTy5NUkZSYXN0ZXJcIildLHcpO2NvbnN0IEk9dztleHBvcnR7SSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi9DbG91ZFJhc3Rlci5qc1wiO2ltcG9ydCByIGZyb21cIi4vSW1hZ2VBdXhSYXN0ZXIuanNcIjtpbXBvcnQgcyBmcm9tXCIuL0ltYWdlU2VydmVyUmFzdGVyLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi9NUkZSYXN0ZXIuanNcIjtpbXBvcnQgYSBmcm9tXCIuL1RJRkZSYXN0ZXIuanNcIjtjb25zdCBjPW5ldyBNYXA7Yy5zZXQoXCJDUkZcIix7ZGVzYzpcIkNsb3VkIFJhc3RlciBGb3JtYXRcIixjb25zdHJ1Y3RvcjplfSksYy5zZXQoXCJNUkZcIix7ZGVzYzpcIk1ldGEgUmFzdGVyIEZvcm1hdFwiLGNvbnN0cnVjdG9yOm99KSxjLnNldChcIlRJRkZcIix7ZGVzYzpcIkdlb1RJRkZcIixjb25zdHJ1Y3RvcjphfSksYy5zZXQoXCJSYXN0ZXJUaWxlU2VydmVyXCIse2Rlc2M6XCJSYXN0ZXIgVGlsZSBTZXJ2ZXJcIixjb25zdHJ1Y3RvcjpzfSksYy5zZXQoXCJKUEdcIix7ZGVzYzpcIkpQRyBSYXN0ZXIgRm9ybWF0XCIsY29uc3RydWN0b3I6cn0pLGMuc2V0KFwiUE5HXCIse2Rlc2M6XCJQTkcgUmFzdGVyIEZvcm1hdFwiLGNvbnN0cnVjdG9yOnJ9KSxjLnNldChcIkdJRlwiLHtkZXNjOlwiR0lGIFJhc3RlciBGb3JtYXRcIixjb25zdHJ1Y3RvcjpyfSksYy5zZXQoXCJCTVBcIix7ZGVzYzpcIkJNUCBSYXN0ZXIgRm9ybWF0XCIsY29uc3RydWN0b3I6cn0pO2NsYXNzIG57c3RhdGljIGdldCBzdXBwb3J0ZWRGb3JtYXRzKCl7Y29uc3QgdD1uZXcgU2V0O3JldHVybiBjLmZvckVhY2goKChlLHIpPT50LmFkZChyKSkpLHR9c3RhdGljIGFzeW5jIG9wZW4oZSl7Y29uc3R7dXJsOnIsaW9Db25maWc6cyxzb3VyY2VKU09OOm99PWU7bGV0IGE9ZS5kYXRhc2V0Rm9ybWF0O251bGw9PWEmJnIubGFzdEluZGV4T2YoXCIuXCIpJiYoYT1yLnNsaWNlKHIubGFzdEluZGV4T2YoXCIuXCIpKzEpLnRvVXBwZXJDYXNlKCkpLFwiT1ZSXCI9PT1hfHxcIlRJRlwiPT09YT9hPVwiVElGRlwiOlwiSlBHXCIhPT1hJiZcIkpQRUdcIiE9PWEmJlwiSkZJRlwiIT09YXx8KGE9XCJKUEdcIiksci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiL2ltYWdlc2VydmVyXCIpJiYhci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiL3djc3NlcnZlclwiKSYmKGE9XCJSYXN0ZXJUaWxlU2VydmVyXCIpO2NvbnN0IG49e3VybDpyLHNvdXJjZUpTT046byxkYXRhc2V0Rm9ybWF0OmEsaW9Db25maWc6cz8/e2JhbmRJZHM6bnVsbCxzYW1wbGluZzpudWxsfX07bGV0IGwsaTtpZihhJiZ0aGlzLnN1cHBvcnRlZEZvcm1hdHMuaGFzKGEpKXtpZihcIkNSRlwiPT09YSYmIXM/LmVuYWJsZUNSRil0aHJvdyBuZXcgdChcInJhc3RlcmZhY3Rvcnk6b3BlblwiLGBjYW5ub3Qgb3BlbiByYXN0ZXI6ICR7cn1gKTtyZXR1cm4gbD1jLmdldChhKS5jb25zdHJ1Y3RvcixpPW5ldyBsKG4pLGF3YWl0IGkub3Blbih7c2lnbmFsOmUuc2lnbmFsfSksaX1pZihhKXRocm93IG5ldyB0KFwicmFzdGVyZmFjdG9yeTpvcGVuXCIsXCJub3QgYSBzdXBwb3J0ZWQgZm9ybWF0IFwiK2EpO2NvbnN0IHU9QXJyYXkuZnJvbShjLmtleXMoKSk7bGV0IEY9MDtjb25zdCBtPSgpPT4oYT11W0YrK10sYSYmKFwiQ1JGXCIhPT1hfHxzPy5lbmFibGVDUkYpPyhsPWMuZ2V0KGEpLmNvbnN0cnVjdG9yLGk9bmV3IGwobiksaS5vcGVuKHtzaWduYWw6ZS5zaWduYWx9KS50aGVuKCgoKT0+aSkpLmNhdGNoKCgoKT0+bSgpKSkpOm51bGwpO3JldHVybiBtKCl9c3RhdGljIHJlZ2lzdGVyKHQsZSxyKXtjLmhhcyh0LnRvVXBwZXJDYXNlKCkpfHxjLnNldCh0LnRvVXBwZXJDYXNlKCkse2Rlc2M6ZSxjb25zdHJ1Y3RvcjpyfSl9fWV4cG9ydHtuIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydFwiLi4vLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgZSBmcm9tXCIuL0VwaGVtZXJhbEJsb2NrQ2FjaGUuanNcIjtpbXBvcnR7cHJvamVjdEV4dGVudCBhcyB0LHByb2plY3RSZXNvbHV0aW9uIGFzIG4sc25hcFB5cmFtaWQgYXMgb31mcm9tXCIuLi9yYXN0ZXJGdW5jdGlvbnMvcmFzdGVyUHJvamVjdGlvbkhlbHBlci5qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1BvaW50LmpzXCI7Y29uc3Qgcj1uZXcgTWFwLGM9bmV3IGU7ZnVuY3Rpb24gaShlLHQpe3JldHVybiBudWxsPT10P2U6YCR7ZX0/c2xpY2VJZD0ke3R9YH1mdW5jdGlvbiB1KGUsdCl7Y29uc3Qgbj17ZXh0ZW50Om51bGwscmFzdGVySW5mbzp0LGNhY2hlOm5ldyBNYXB9LG89ci5nZXQoZSk7cmV0dXJuIG8/KG8ucHVzaChuKSxvLmxlbmd0aC0xKTooci5zZXQoZSxbbl0pLDApfWZ1bmN0aW9uIGEoZSx0KXtjb25zdCBuPXIuZ2V0KGUpO24mJihuW3RdPW51bGwsbi5zb21lKChlPT5udWxsIT1lKSl8fHIuZGVsZXRlKGUpKX1mdW5jdGlvbiBmKGUpe3IuZGVsZXRlKGUpfWZ1bmN0aW9uIHMoZSx0LG4pe2NvbnN0IG89ci5nZXQoZSk7aWYoIW8pcmV0dXJuIG51bGw9PXQ/Yy5kZWNyZWFzZVJlZkNvdW50KGUsbik6MDtpZihudWxsPT10fHxudWxsPT1vW3RdKXJldHVybiBjLmRlY3JlYXNlUmVmQ291bnQoZSxuKTtjb25zdCBsPW9bdF0/LmNhY2hlLGk9bD8uZ2V0KG4pO2lmKGwmJmkpe2lmKGkucmVmQ291bnQtLSwwPT09aS5yZWZDb3VudCl7bC5kZWxldGUobik7Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKyspb1tlXT8uY2FjaGUuZGVsZXRlKG4pO2kuY29udHJvbGxlciYmaS5jb250cm9sbGVyLmFib3J0KCl9cmV0dXJuIGkucmVmQ291bnR9cmV0dXJuIDB9ZnVuY3Rpb24gbShlLHQsbil7Y29uc3Qgbz1yLmdldChlKTtpZighbylyZXR1cm4gbnVsbD09dD9jLmdldEJsb2NrKGUsbik6bnVsbDtpZihudWxsPT10fHxudWxsPT1vW3RdKXtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKyl7Y29uc3QgdD1vW2VdPy5jYWNoZS5nZXQobik7aWYodClyZXR1cm4gdC5yZWZDb3VudCsrLHQuYmxvY2t9cmV0dXJuIGMuZ2V0QmxvY2soZSxuKX1jb25zdCBsPW9bdF0/LmNhY2hlLmdldChuKTtpZihsKXJldHVybiBsLnJlZkNvdW50KyssbC5ibG9jaztmb3IobGV0IHI9MDtyPG8ubGVuZ3RoO3IrKyl7aWYocj09PXR8fCFvW3JdKWNvbnRpbnVlO2NvbnN0IGU9b1tyXT8uY2FjaGUsbD1lPy5nZXQobik7aWYoZSYmbClyZXR1cm4gbC5yZWZDb3VudCsrLGUuc2V0KG4sbCksbC5ibG9ja31yZXR1cm4gbnVsbH1mdW5jdGlvbiB4KGUsdCxuLG8sbD1udWxsKXtjb25zdCBpPXIuZ2V0KGUpO2lmKCFpKXJldHVybiB2b2lkKG51bGw9PXQmJmMucHV0QmxvY2soZSxuLG8sbCkpO2lmKG51bGw9PXR8fG51bGw9PWlbdF0pcmV0dXJuIHZvaWQgYy5wdXRCbG9jayhlLG4sbyxsKTtjb25zdCB1PXtyZWZDb3VudDoxLGJsb2NrOm8saXNSZXNvbHZlZDohMSxpc1JlamVjdGVkOiExLGNvbnRyb2xsZXI6bH07by50aGVuKCgoKT0+dS5pc1Jlc29sdmVkPSEwKSkuY2F0Y2goKCgpPT51LmlzUmVqZWN0ZWQ9ITApKSxpW3RdPy5jYWNoZS5zZXQobix1KX1mdW5jdGlvbiBoKGUsdCxuKXtjb25zdCBvPXIuZ2V0KGUpO28/bnVsbCE9dCYmbnVsbCE9b1t0XT9vW3RdPy5jYWNoZS5kZWxldGUobik6Yy5kZWxldGVCbG9jayhlLG4pOm51bGw9PXQmJmMuZGVsZXRlQmxvY2soZSxuKX1mdW5jdGlvbiBkKGUsdCl7Y29uc3Qgbj1yLmdldChlKTtyZXR1cm4gbj9uW3RdPz9udWxsOm51bGx9ZnVuY3Rpb24gZyhlLHIsYyxpLHUsYSxmPW51bGwpe2NvbnN0IHM9ZChlLHIpO2lmKCFzKXJldHVybjtjb25zdCBtPXMuZXh0ZW50LHtjYWNoZTp4LHJhc3RlckluZm86aH09cztpZihtJiZtLnhtaW49PT1jLnhtaW4mJm0ueG1heD09PWMueG1heCYmbS55bWluPT09Yy55bWluJiZtLnltYXg9PT1jLnltYXgpcmV0dXJuO2k9aT8/MDtjb25zdCBnPWMuY2xvbmUoKS5ub3JtYWxpemUoKSx7c3BhdGlhbFJlZmVyZW5jZTp5LHRyYW5zZm9ybTpwfT1oLGs9bmV3IFNldDtmb3IobGV0IGQ9MDtkPGcubGVuZ3RoO2QrKyl7Y29uc3QgZT1nW2RdO2lmKGUueG1heC1lLnhtaW48PWl8fGUueW1heC1lLnltaW48PWkpY29udGludWU7bGV0IHI9dChlLHksZik7bnVsbCE9cCYmKHI9cC5pbnZlcnNlVHJhbnNmb3JtKHIpKTtjb25zdCBjPW5ldyBsKHt4OmkseTppLHNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlfSk7aWYobnVsbD09dSYmISh1PW4oYyx5LGUsZikpKXJldHVybjtjb25zdHtweXJhbWlkTGV2ZWw6cyxweXJhbWlkUmVzb2x1dGlvbjptLGV4Y2Vzc2l2ZVJlYWRpbmc6eH09byh1LGgsYXx8XCJjbG9zZXN0XCIpO2lmKHgpcmV0dXJuO2NvbnN0e3N0b3JhZ2VJbmZvOk19PWgse29yaWdpbjpSfT1NLEM9e3g6TWF0aC5tYXgoMCxNYXRoLmZsb29yKChyLnhtaW4tUi54KS9tLngpKSx5Ok1hdGgubWF4KDAsTWF0aC5mbG9vcigoUi55LXIueW1heCkvbS55KSl9LEI9TWF0aC5jZWlsKChyLnhtYXgtci54bWluKS9tLngtLjEpLGo9TWF0aC5jZWlsKChyLnltYXgtci55bWluKS9tLnktLjEpLHY9cz4wP00ucHlyYW1pZEJsb2NrV2lkdGg6TS5ibG9ja1dpZHRoLGI9cz4wP00ucHlyYW1pZEJsb2NrSGVpZ2h0Ok0uYmxvY2tIZWlnaHQsdz0xLCQ9TWF0aC5tYXgoMCxNYXRoLmZsb29yKEMueC92KS13KSxJPU1hdGgubWF4KDAsTWF0aC5mbG9vcihDLnkvYiktdyksSD1NYXRoLmZsb29yKChDLngrQi0xKS92KSt3LEU9TWF0aC5mbG9vcigoQy55K2otMSkvYikrdztmb3IobGV0IHQ9STt0PD1FO3QrKylmb3IobGV0IGU9JDtlPD1IO2UrKylrLmFkZChgJHtzfS8ke3R9LyR7ZX1gKX14LmZvckVhY2goKChlLHQpPT57aWYoIWsuaGFzKHQpKXtjb25zdCBlPXguZ2V0KHQpOyhudWxsPT1lfHxlLmlzUmVzb2x2ZWR8fGUuaXNSZWplY3RlZCkmJnguZGVsZXRlKHQpfX0pKSxzLmV4dGVudD17eG1pbjpjLnhtaW4seW1pbjpjLnltaW4seG1heDpjLnhtYXgseW1heDpjLnltYXh9fWV4cG9ydHtzIGFzIGRlY3JlYXNlUmVmQ291bnQsaCBhcyBkZWxldGVCbG9jayxmIGFzIGRlbGV0ZVJhc3RlcixtIGFzIGdldEJsb2NrLGkgYXMgZ2V0UmFzdGVySWQseCBhcyBwdXRCbG9jayx1IGFzIHJlZ2lzdGVyLGEgYXMgdW5yZWdpc3RlcixnIGFzIHVwZGF0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydHtpc1NvbWUgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBhfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi9SYXN0ZXJJbmZvLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vUmFzdGVyU3RvcmFnZUluZm8uanNcIjtpbXBvcnQgZiBmcm9tXCIuL0Jhc2VSYXN0ZXIuanNcIjtpbXBvcnQgbCBmcm9tXCIuL0RCRlBhcnNlci5qc1wiO2ltcG9ydHtwYXJzZVNwYXRpYWxSZWZlcmVuY2UgYXMgdSxwYXJzZVBBTUluZm8gYXMgcH1mcm9tXCIuL3BhbVBhcnNlci5qc1wiO2ltcG9ydHtwYXJzZVNpZ25hdHVyZSBhcyBjLGdldFB5cmFtaWRJRkRzIGFzIGgsZ2V0TWFza0lGRHMgYXMgbSxnZXRJbWFnZUluZm8gYXMgZCxwYXJzZUlGRCBhcyB5LHBhcnNlRmllbGRWYWx1ZXMgYXMgZyxpc0JTUUNvbmZpZyBhcyBUfWZyb21cIi4uL3Jhc3RlckZvcm1hdHMvVGlmZkRlY29kZXIuanNcIjtpbXBvcnQgeCBmcm9tXCIuLi9yYXN0ZXJGb3JtYXRzL1RpZmZUYWdzLmpzXCI7aW1wb3J0e2VzdGltYXRlU3RhdGlzdGljc0Zyb21IaXN0b2dyYW1zIGFzIEl9ZnJvbVwiLi4vcmFzdGVyRnVuY3Rpb25zL3N0cmV0Y2hVdGlscy5qc1wiO2ltcG9ydCB3IGZyb21cIi4uL3Jhc3RlclRyYW5zZm9ybXMvUG9seW5vbWlhbFRyYW5zZm9ybS5qc1wiO2ltcG9ydCBSIGZyb21cIi4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9GZWF0dXJlU2V0LmpzXCI7aW1wb3J0IGIgZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydCBfIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2ltcG9ydCBFIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1BvaW50LmpzXCI7Y29uc3QgUz0oZSx0KT0+ZS5nZXQodCk/LnZhbHVlcyxGPShlLHQpPT5lLmdldCh0KT8udmFsdWVzPy5bMF07bGV0IFA9Y2xhc3MgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9maWxlcz1udWxsLHRoaXMuX2hlYWRlckluZm89bnVsbCx0aGlzLl9idWZmZXJTaXplPTEwNDg1NzYsdGhpcy5kYXRhc2V0Rm9ybWF0PVwiVElGRlwifWFzeW5jIG9wZW4oZSl7YXdhaXQgdGhpcy5pbml0KCk7Y29uc3QgdD1lP2Uuc2lnbmFsOm51bGwse2RhdGE6c309YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTp7ZnJvbTowLHRvOnRoaXMuX2J1ZmZlclNpemV9LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDp0fSk7aWYoIXMpdGhyb3cgbmV3IHIoXCJ0aWZmcmFzdGVyOm9wZW5cIixcImZhaWxlZCB0byBvcGVuIHVybCBcIit0aGlzLnVybCk7dGhpcy5kYXRhc2V0TmFtZT10aGlzLnVybC5zbGljZSh0aGlzLnVybC5sYXN0SW5kZXhPZihcIi9cIikrMSx0aGlzLnVybC5sYXN0SW5kZXhPZihcIi5cIikpO2NvbnN0e2xpdHRsZUVuZGlhbjphLGZpcnN0SUZEUG9zOm4saXNCaWdUaWZmOm99PWMocyksZj1bXTthd2FpdCB0aGlzLl9yZWFkSUZEcyhmLHMsYSxuLDAsbz84OjQsdCk7Y29uc3R7aW1hZ2VJbmZvOmwscmFzdGVySW5mbzp1fT10aGlzLl9wYXJzZUlGRHMoZikscD1oKGYpLGQ9bShmKTtpZih0aGlzLl9oZWFkZXJJbmZvPXtsaXR0bGVFbmRpYW46YSxpc0JpZ1RpZmY6byxpZmRzOmYscHlyYW1pZElGRHM6cCxtYXNrSUZEczpkLC4uLmx9LHRoaXMuX3NldChcInJhc3RlckluZm9cIix1KSwhbC5pc1N1cHBvcnRlZCl0aHJvdyBuZXcgcihcInRpZmZyYXN0ZXI6b3BlblwiLFwidGhpcyB0aWZmIGlzIG5vdCBzdXBwb3J0ZWQ6IFwiK2wubWVzc2FnZSk7aWYoIWwudGlsZVdpZHRoKXRocm93IG5ldyByKFwidGlmZnJhc3RlcjpvcGVuXCIsXCJub25lLXRpbGVkIHRpZmYgaXMgbm90IG9wdGltaXplZCBmb3IgYWNjZXNzLCBjb252ZXJ0IHRvIENPRyBhbmQgcmV0cnkuXCIpO3UuaXNQc2V1ZG9TcGF0aWFsUmVmZXJlbmNlJiZpLmdldExvZ2dlcih0aGlzKS53YXJuKFwiVGhlIHNwYXRpYWwgcmVmZXJlbmNlIGZvciB0aGlzIHRpZmYgaXMgdW5zdXBwb3J0ZWQuIE9ubHkgRVBTRyBzcGF0aWFsIHJlZmVyZW5jZSBjb2RlcyBhbmQgRXNyaSBXS1RzIGFyZSBzdXBwb3J0ZWQuXCIpO2NvbnN0IHk9ZlswXS5nZXQoXCJQUkVESUNUT1JcIik/LnZhbHVlcz8uWzBdLGc9ZlswXS5nZXQoXCJTQU1QTEVGT1JNQVRcIik/LnZhbHVlcz8uWzBdO2lmKDM9PT1nJiYyPT09eSl0aHJvdyBuZXcgcihcInRpZmZyYXN0ZXI6b3BlblwiLFwidW5zdXBwb3J0ZWQgaG9yaXpvbnRhbCBkaWZmZXJlbmNlIGVuY29kaW5nLiBQcmVkaWN0b3I9MyBpcyBzdXBwb3J0ZWQgZm9yIGZsb2F0dGluZyBwb2ludCBkYXRhXCIpO2NvbnN0e3NraXBFeHRlbnNpb25zOlQ9W119PXRoaXMuaW9Db25maWc7aWYoIVQuaW5jbHVkZXMoXCJhdXgueG1sXCIpKXtjb25zdCB0PWF3YWl0IHRoaXMuX2ZldGNoQXV4aWxpYXJ5TWV0YURhdGEoZSk7bnVsbCE9dCYmdGhpcy5fcHJvY2Vzc1BBTUluZm8odCx1KX1ULmluY2x1ZGVzKFwidmF0LmRiZlwiKXx8MSE9PXUuYmFuZENvdW50fHxcInU4XCIhPT11LnBpeGVsVHlwZXx8KHUuYXR0cmlidXRlVGFibGU9YXdhaXQgdGhpcy5fZmV0Y2hBdXhpbGlhcnlUYWJsZShlKSxudWxsIT11LmF0dHJpYnV0ZVRhYmxlJiYodS5rZXlQcm9wZXJ0aWVzLkRhdGFUeXBlPVwidGhlbWF0aWNcIikpLHRoaXMudXBkYXRlVGlsZUluZm8oKX1hc3luYyBmZXRjaFJhd1RpbGUoZSx0LHIsaT17fSl7aWYoIXRoaXMuX2hlYWRlckluZm8/LmlzU3VwcG9ydGVkfHx0aGlzLmlzQmxvY2tPdXRzaWRlKGUsdCxyKSlyZXR1cm4gbnVsbDtjb25zdCBzPWF3YWl0IHRoaXMuX2ZldGNoUmF3VGlmZlRpbGUoZSx0LHIsITEsaSk7aWYobnVsbCE9cyYmdGhpcy5faGVhZGVySW5mby5oYXNNYXNrQmFuZCl7Y29uc3QgYT1hd2FpdCB0aGlzLl9mZXRjaFJhd1RpZmZUaWxlKGUsdCxyLCEwLGkpO251bGwhPWEmJmEucGl4ZWxzWzBdaW5zdGFuY2VvZiBVaW50OEFycmF5JiYocy5tYXNrPWEucGl4ZWxzWzBdKX1yZXR1cm4gc31fcGFyc2VJRkRzKGUpe2NvbnN0IHQ9ZChlKSx7d2lkdGg6cixoZWlnaHQ6aSx0aWxlV2lkdGg6cyx0aWxlSGVpZ2h0OmEscGxhbmVzOmYscGl4ZWxUeXBlOmwsY29tcHJlc3Npb246cCxmaXJzdFB5cmFtaWRMZXZlbDpjLG1heGltdW1QeXJhbWlkTGV2ZWw6aCxweXJhbWlkQmxvY2tXaWR0aDptLHB5cmFtaWRCbG9ja0hlaWdodDp5LHRpbGVCb3VuZGFyeTpnLGFmZmluZTpULG1ldGFkYXRhOnh9PXQsST10LmV4dGVudC5zcGF0aWFsUmVmZXJlbmNlPy53a3R8fHQuZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2U/LndraWQ7bGV0IFI9dShJKSxQPSEhdC5pc1BzZXVkb0dlb2dyYXBoaWM7bnVsbD09UiYmKFA9ITAsUj1uZXcgYih7d2tpZDozODU3fSkpO2NvbnN0IHY9bmV3IF8oey4uLnQuZXh0ZW50LHNwYXRpYWxSZWZlcmVuY2U6Un0pLEQ9bmV3IEUodj97eDp2LnhtaW4seTp2LnltYXgsc3BhdGlhbFJlZmVyZW5jZTpSfTp7eDowLHk6MH0pLGs9bmV3IG8oe2Jsb2NrV2lkdGg6cyxibG9ja0hlaWdodDphLHB5cmFtaWRCbG9ja1dpZHRoOm0scHlyYW1pZEJsb2NrSGVpZ2h0OnksY29tcHJlc3Npb246cCxvcmlnaW46RCxmaXJzdFB5cmFtaWRMZXZlbDpjLG1heGltdW1QeXJhbWlkTGV2ZWw6aCxibG9ja0JvdW5kYXJ5Omd9KSxPPW5ldyBFKHt4Oih2LnhtYXgtdi54bWluKS9yLHk6KHYueW1heC12LnltaW4pL2ksc3BhdGlhbFJlZmVyZW5jZTpSfSksaj14P3tCYW5kUHJvcGVydGllczp4LmJhbmRQcm9wZXJ0aWVzLERhdGFUeXBlOnguZGF0YVR5cGV9Ont9O2xldCBMPW51bGw7Y29uc3QgQj1GKGVbMF0sXCJQSE9UT01FVFJJQ0lOVEVSUFJFVEFUSU9OXCIpLHo9UyhlWzBdLFwiQ09MT1JNQVBcIik7aWYoQjw9MyYmej8ubGVuZ3RoPjMmJnoubGVuZ3RoJTM9PTApe0w9W107Y29uc3QgZT16Lmxlbmd0aC8zO2ZvcihsZXQgdD0wO3Q8ZTt0KyspTC5wdXNoKFt0LHpbdF0+Pj44LHpbdCtlXT4+Pjgselt0KzIqZV0+Pj44XSl9Y29uc3QgQT1uZXcgbih7d2lkdGg6cixoZWlnaHQ6aSxiYW5kQ291bnQ6ZixwaXhlbFR5cGU6bCxwaXhlbFNpemU6TyxzdG9yYWdlSW5mbzprLHNwYXRpYWxSZWZlcmVuY2U6Uixpc1BzZXVkb1NwYXRpYWxSZWZlcmVuY2U6UCxrZXlQcm9wZXJ0aWVzOmosZXh0ZW50OnYsY29sb3JtYXA6TCxzdGF0aXN0aWNzOng/eC5zdGF0aXN0aWNzOm51bGx9KTtyZXR1cm4gVD8ubGVuZ3RoJiYoQS5uYXRpdmVFeHRlbnQ9bmV3IF8oe3htaW46LS41LHltaW46LjUtaSx4bWF4OnItLjUseW1heDouNSxzcGF0aWFsUmVmZXJlbmNlOlJ9KSxBLnRyYW5zZm9ybT1uZXcgdyh7cG9seW5vbWlhbE9yZGVyOjEsZm9yd2FyZENvZWZmaWNpZW50czpbVFsyXStUWzBdLzIsVFs1XS1UWzNdLzIsVFswXSxUWzNdLC1UWzFdLC1UWzRdXX0pLEEuZXh0ZW50PUEudHJhbnNmb3JtLmZvcndhcmRUcmFuc2Zvcm0oQS5uYXRpdmVFeHRlbnQpLEEucGl4ZWxTaXplPW5ldyBFKHt4Oih2LnhtYXgtdi54bWluKS9yLHk6KHYueW1heC12LnltaW4pL2ksc3BhdGlhbFJlZmVyZW5jZTpSfSksay5vcmlnaW4ueD0tLjUsay5vcmlnaW4ueT0uNSkse2ltYWdlSW5mbzp0LHJhc3RlckluZm86QX19X3Byb2Nlc3NQQU1JbmZvKGUsdCl7aWYodC5zdGF0aXN0aWNzPWUuc3RhdGlzdGljcz8/dC5zdGF0aXN0aWNzLHQuaGlzdG9ncmFtcz1lLmhpc3RvZ3JhbXMsZS5oaXN0b2dyYW1zJiZudWxsPT10LnN0YXRpc3RpY3MmJih0LnN0YXRpc3RpY3M9SShlLmhpc3RvZ3JhbXMpKSxlLnRyYW5zZm9ybSYmbnVsbD09dC50cmFuc2Zvcm0pe3QudHJhbnNmb3JtPWUudHJhbnNmb3JtLHQubmF0aXZlRXh0ZW50PXQuZXh0ZW50O2NvbnN0IHI9dC50cmFuc2Zvcm0uZm9yd2FyZFRyYW5zZm9ybSh0Lm5hdGl2ZUV4dGVudCk7dC5waXhlbFNpemU9bmV3IEUoe3g6KHIueG1heC1yLnhtaW4pL3Qud2lkdGgseTooci55bWF4LXIueW1pbikvdC5oZWlnaHQsc3BhdGlhbFJlZmVyZW5jZTp0LnNwYXRpYWxSZWZlcmVuY2V9KSx0LmV4dGVudD1yfXQuaXNQc2V1ZG9TcGF0aWFsUmVmZXJlbmNlJiZlLnNwYXRpYWxSZWZlcmVuY2UmJih0LnNwYXRpYWxSZWZlcmVuY2U9ZS5zcGF0aWFsUmVmZXJlbmNlLHQuZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2U9dC5uYXRpdmVFeHRlbnQuc3BhdGlhbFJlZmVyZW5jZT10LnN0b3JhZ2VJbmZvLm9yaWdpbi5zcGF0aWFsUmVmZXJlbmNlPXQuc3BhdGlhbFJlZmVyZW5jZSl9YXN5bmMgX3JlYWRJRkRzKGUsdCxyLGkscyxhPTQsbil7aWYoIWkpcmV0dXJuIG51bGw7aWYoaT49dC5ieXRlTGVuZ3RofHxpPDApe3Q9KGF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCx7cmFuZ2U6e2Zyb206aStzLHRvOmkrcyt0aGlzLl9idWZmZXJTaXplfSxyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6bn0pKS5kYXRhLHM9aStzLGk9MH1jb25zdCBvPWF3YWl0IHRoaXMuX3JlYWRJRkQodCxyLGkscyx4LnRpZmZUYWdzLGEsbik7aWYoZS5wdXNoKG8uaWZkKSwhby5uZXh0SUZEKXJldHVybiBudWxsO2F3YWl0IHRoaXMuX3JlYWRJRkRzKGUsdCxyLG8ubmV4dElGRC1zLHMsYSxuKX1hc3luYyBfcmVhZElGRChlLHIsaSxzLGE9eC50aWZmVGFncyxuPTQsbyl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3QgZj15KGUscixpLHMsYSxuKTtpZihmLnN1Y2Nlc3Mpe2NvbnN0IGk9W107aWYoZi5pZmQ/LmZvckVhY2goKGU9PntlLnZhbHVlc3x8aS5wdXNoKGUpfSkpLGkubGVuZ3RoPjApe2NvbnN0IGE9aS5tYXAoKGU9PmUub2ZmbGluZU9mZnNldFNpemUpKS5maWx0ZXIodCksbj1NYXRoLm1pbi5hcHBseShudWxsLGEubWFwKChlPT5lWzBdKSkpO2lmKE1hdGgubWluLmFwcGx5KG51bGwsYS5tYXAoKGU9PmVbMF0rZVsxXSkpKS1uPD10aGlzLl9idWZmZXJTaXplKXtjb25zdHtkYXRhOnR9PWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCx7cmFuZ2U6e2Zyb206bix0bzpuK3RoaXMuX2J1ZmZlclNpemV9LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpvfSk7ZT10LHM9bixpLmZvckVhY2goKHQ9PmcoZSxyLHQscykpKX19aWYoZi5pZmQ/LmhhcyhcIkdFT0tFWURJUkVDVE9SWVwiKSl7Y29uc3QgdD1mLmlmZC5nZXQoXCJHRU9LRVlESVJFQ1RPUllcIiksaT10Py52YWx1ZXM7aWYoaSYmaS5sZW5ndGg+NCl7Y29uc3QgYT1pWzBdK1wiLlwiK2lbMV0rXCIuXCIraVsyXSxuPWF3YWl0IHRoaXMuX3JlYWRJRkQoZSxyLHQudmFsdWVPZmZzZXQrNi1zLHMseC5nZW9LZXlzLDIsbyk7dC5kYXRhPW4uaWZkLHQuZGF0YSYmdC5kYXRhLnNldChcIkdFT1RJRkZWZXJzaW9uXCIse2lkOjAsdHlwZToyLHZhbHVlQ291bnQ6MSx2YWx1ZU9mZnNldDpudWxsLHZhbHVlczpbYV19KX19cmV0dXJuIGZ9aWYoZi5yZXF1aXJlZEJ1ZmZlclNpemUmJmYucmVxdWlyZWRCdWZmZXJTaXplIT09ZS5ieXRlTGVuZ3RoKXtjb25zdCB0PWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCx7cmFuZ2U6e2Zyb206cyx0bzpzK2YucmVxdWlyZWRCdWZmZXJTaXplKzR9LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpvfSk7cmV0dXJuKGU9dC5kYXRhKS5ieXRlTGVuZ3RoPGYucmVxdWlyZWRCdWZmZXJTaXplP251bGw6dGhpcy5fcmVhZElGRChlLHIsMCxzLHgudGlmZlRhZ3MsNCxvKX19YXN5bmMgX2ZldGNoUmF3VGlmZlRpbGUoZSx0LHIsaSxzPXt9KXtjb25zdCBhPXRoaXMuX2dldFRpbGVMb2NhdGlvbihlLHQscixpKTtpZighYSlyZXR1cm4gbnVsbDtjb25zdHtyYW5nZXM6bixhY3R1YWxUaWxlV2lkdGg6byxhY3R1YWxUaWxlSGVpZ2h0OmYsaWZkOmx9PWEsdT1uLm1hcCgoZT0+dGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTplLHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpzLnNpZ25hbH0pKSkscD1hd2FpdCBQcm9taXNlLmFsbCh1KSxjPXAubWFwKChlPT5lLmRhdGEuYnl0ZUxlbmd0aCkpLnJlZHVjZSgoKGUsdCk9PmUrdCkpLGg9MT09PXAubGVuZ3RoP3BbMF0uZGF0YTpuZXcgQXJyYXlCdWZmZXIoYyksbT1bMF0sZD1bMF07aWYocC5sZW5ndGg+MSl7Y29uc3QgZT1uZXcgVWludDhBcnJheShoKTtmb3IobGV0IHQ9MCxyPTA7dDxwLmxlbmd0aDt0Kyspe2NvbnN0IGk9cFt0XS5kYXRhO2Uuc2V0KG5ldyBVaW50OEFycmF5KGkpLHIpLG1bdF09cixyKz1pLmJ5dGVMZW5ndGgsZFt0XT1pLmJ5dGVMZW5ndGh9fWNvbnN0e2Jsb2NrV2lkdGg6eSxibG9ja0hlaWdodDpnfT10aGlzLmdldEJsb2NrV2lkdGhIZWlnaHQoZSksVD1hd2FpdCB0aGlzLmRlY29kZVBpeGVsQmxvY2soaCx7Zm9ybWF0OlwidGlmZlwiLGN1c3RvbU9wdGlvbnM6e2hlYWRlckluZm86dGhpcy5faGVhZGVySW5mbyxpZmQ6bCxvZmZzZXRzOm0sc2l6ZXM6ZH0sd2lkdGg6eSxoZWlnaHQ6ZyxwbGFuZXM6bnVsbCxwaXhlbFR5cGU6bnVsbH0pO2lmKG51bGw9PVQpcmV0dXJuIG51bGw7bGV0IHgsSSx3O2lmKG8hPT15fHxmIT09Zyl7bGV0IGU9VC5tYXNrO2lmKGUpZm9yKHg9MDt4PGc7eCsrKWlmKHc9eCp5LHg8Zilmb3IoST1vO0k8eTtJKyspZVt3K0ldPTA7ZWxzZSBmb3IoST0wO0k8eTtJKyspZVt3K0ldPTA7ZWxzZSBmb3IoZT1uZXcgVWludDhBcnJheSh5KmcpLFQubWFzaz1lLHg9MDt4PGY7eCsrKWZvcih3PXgqeSxJPTA7STxvO0krKyllW3crSV09MX1yZXR1cm4gVH1fZ2V0VGlsZUxvY2F0aW9uKGUsdCxyLGk9ITEpe2NvbnN0e2ZpcnN0UHlyYW1pZExldmVsOnMsYmxvY2tCb3VuZGFyeTphfT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8sbj0wPT09ZT8wOmUtKHMtMSkse19oZWFkZXJJbmZvOm99PXRoaXM7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3QgZj1pP28ubWFza0lGRHNbbl06MD09PW4/bz8uaWZkc1swXTpvPy5weXJhbWlkSUZEc1tuLTFdO2lmKCFmKXJldHVybiBudWxsO2NvbnN0IGw9VChmLG8pLHU9UyhmLFwiVElMRU9GRlNFVFNcIik7aWYodm9pZCAwPT09dSlyZXR1cm4gbnVsbDtjb25zdCBwPVMoZixcIlRJTEVCWVRFQ09VTlRTXCIpLHttaW5Sb3c6YyxtaW5Db2w6aCxtYXhSb3c6bSxtYXhDb2w6ZH09YVtuXTtpZih0Pm18fHI+ZHx8dDxjfHxyPGgpcmV0dXJuIG51bGw7Y29uc3QgeT1GKGYsXCJJTUFHRVdJRFRIXCIpLGc9RihmLFwiSU1BR0VMRU5HVEhcIikseD1GKGYsXCJUSUxFV0lEVEhcIiksST1GKGYsXCJUSUxFTEVOR1RIXCIpLHc9W107aWYobCl7Y29uc3R7YmFuZENvdW50OmV9PXRoaXMucmFzdGVySW5mbztmb3IobGV0IGk9MDtpPGU7aSsrKXtjb25zdCBlPWkqKG0rMSkqKGQrMSkrdCooZCsxKStyO3dbaV09e2Zyb206dVtlXSx0bzp1W2VdK3BbZV0tMX19fWVsc2V7Y29uc3QgZT10KihkKzEpK3I7dy5wdXNoKHtmcm9tOnVbZV0sdG86dVtlXStwW2VdLTF9KX1mb3IobGV0IFQ9MDtUPHcubGVuZ3RoO1QrKylpZihudWxsPT13W1RdLmZyb218fCF3W1RdLnRvfHx3W1RdLnRvPDApcmV0dXJuIG51bGw7cmV0dXJue3Jhbmdlczp3LGlmZDpmLGFjdHVhbFRpbGVXaWR0aDpyPT09ZCYmeSV4fHx4LGFjdHVhbFRpbGVIZWlnaHQ6dD09PW0mJmclSXx8SX19YXN5bmMgX2ZldGNoQXV4aWxpYXJ5TWV0YURhdGEoZSl7dHJ5e2NvbnN0e2RhdGE6dH09YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiLmF1eC54bWxcIix7cmVzcG9uc2VUeXBlOlwieG1sXCIsc2lnbmFsOmU/LnNpZ25hbH0pO3JldHVybiBwKHQpfWNhdGNoe3JldHVybiBudWxsfX1hc3luYyBfZmV0Y2hBdXhpbGlhcnlUYWJsZShlKXt0cnl7Y29uc3R7ZGF0YTp0fT1hd2FpdCB0aGlzLnJlcXVlc3QodGhpcy51cmwrXCIudmF0LmRiZlwiLHtyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6ZT8uc2lnbmFsfSkscj1sLnBhcnNlKHQpO3JldHVybiByPy5yZWNvcmRTZXQ/Ui5mcm9tSlNPTihyLnJlY29yZFNldCk6bnVsbH1jYXRjaHtyZXR1cm4gbnVsbH19fTtlKFtzKCldLFAucHJvdG90eXBlLFwiX2ZpbGVzXCIsdm9pZCAwKSxlKFtzKCldLFAucHJvdG90eXBlLFwiX2hlYWRlckluZm9cIix2b2lkIDApLGUoW3MoKV0sUC5wcm90b3R5cGUsXCJfYnVmZmVyU2l6ZVwiLHZvaWQgMCksZShbcyh7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLFAucHJvdG90eXBlLFwiZGF0YXNldEZvcm1hdFwiLHZvaWQgMCksUD1lKFthKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5yYXN0ZXJEYXRhc2V0cy5USUZGUmFzdGVyXCIpXSxQKTtjb25zdCB2PVA7ZXhwb3J0e3YgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydHtpc1NvbWUgYXMgZX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7aXNXS1QyIGFzIHR9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7aXNTYW1lVGFnSWdub3JlTlMgYXMgbixnZXRFbGVtZW50VmFsdWUgYXMgcixnZXRFbGVtZW50cyBhcyBzLGdldEVsZW1lbnQgYXMgYSxnZXRFbGVtZW50TnVtZXJpY1ZhbHVlIGFzIGksZ2V0RWxlbWVudE51bWVyaWNWYWx1ZXMgYXMgbH1mcm9tXCIuL3htbFV0aWxpdGllcy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uL3Jhc3RlclRyYW5zZm9ybXMvUG9seW5vbWlhbFRyYW5zZm9ybS5qc1wiO2ltcG9ydCBmIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtmdW5jdGlvbiB1KGUsdCl7aWYoIWV8fCF0KXJldHVybiBudWxsO2NvbnN0IG49W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspbi5wdXNoKGVbcl0pLG4ucHVzaCh0W3JdKTtyZXR1cm4gbn1mdW5jdGlvbiBjKGUpe2NvbnN0IHQ9YShlLFwiR2VvZGF0YVhmb3JtXCIpLG49ZChpKHQsXCJTcGF0aWFsUmVmZXJlbmNlL1dLSURcIil8fHIodCxcIlNwYXRpYWxSZWZlcmVuY2UvV0tUXCIpKTtpZihcInR5cGVuczpQb2x5bm9taWFsWGZvcm1cIiE9PXQuZ2V0QXR0cmlidXRlKFwieHNpOnR5cGVcIikpcmV0dXJue3NwYXRpYWxSZWZlcmVuY2U6bix0cmFuc2Zvcm06bnVsbH07Y29uc3Qgcz1pKHQsXCJQb2x5bm9taWFsT3JkZXJcIik/PzEsZj1sKHQsXCJDb2VmZlgvRG91YmxlXCIpLGM9bCh0LFwiQ29lZmZZL0RvdWJsZVwiKSxtPWwodCxcIkludmVyc2VDb2VmZlgvRG91YmxlXCIpLHA9bCh0LFwiSW52ZXJzZUNvZWZmWS9Eb3VibGVcIiksUz11KGYsYyksQz11KG0scCk7cmV0dXJue3NwYXRpYWxSZWZlcmVuY2U6bix0cmFuc2Zvcm06UyYmQyYmUy5sZW5ndGgmJkMubGVuZ3RoP25ldyBvKHtzcGF0aWFsUmVmZXJlbmNlOm4scG9seW5vbWlhbE9yZGVyOnMsZm9yd2FyZENvZWZmaWNpZW50czpTLGludmVyc2VDb2VmZmljaWVudHM6Q30pOm51bGx9fWZ1bmN0aW9uIG0oZSl7Y29uc3QgdD1pKGUsXCJOb0RhdGFWYWx1ZVwiKSxuPWEoZSxcIkhpc3RvZ3JhbXMvSGlzdEl0ZW1cIiksbD1pKG4sXCJIaXN0TWluXCIpLG89aShuLFwiSGlzdE1heFwiKSxmPWkobixcIkJ1Y2tldENvdW50XCIpLHU9cihuLFwiSGlzdENvdW50c1wiKT8uc3BsaXQoXCJ8XCIpLm1hcCgoZT0+TnVtYmVyKGUpKSk7bGV0IGMsbSxkLHA7cyhlLFwiTWV0YWRhdGEvTURJXCIpLmZvckVhY2goKGU9Pntjb25zdCB0PU51bWJlcihlLnRleHRDb250ZW50Pz9lLm5vZGVWYWx1ZSk7c3dpdGNoKGUuZ2V0QXR0cmlidXRlKFwia2V5XCIpLnRvVXBwZXJDYXNlKCkpe2Nhc2VcIlNUQVRJU1RJQ1NfTUlOSU1VTVwiOmM9dDticmVhaztjYXNlXCJTVEFUSVNUSUNTX01BWElNVU1cIjptPXQ7YnJlYWs7Y2FzZVwiU1RBVElTVElDU19NRUFOXCI6ZD10O2JyZWFrO2Nhc2VcIlNUQVRJU1RJQ1NfU1REREVWXCI6cD10fX0pKTtjb25zdCBTPWkoZSxcIk1ldGFkYXRhL1NvdXJjZUJhbmRJbmRleFwiKTtyZXR1cm57bm9EYXRhVmFsdWU6dCxoaXN0b2dyYW06dT8ubGVuZ3RoJiZudWxsIT1sJiZudWxsIT1vP3ttaW46bCxtYXg6byxzaXplOmZ8fHUubGVuZ3RoLGNvdW50czp1fTpudWxsLHNvdXJjZUJhbmRJbmRleDpTLHN0YXRpc3RpY3M6bnVsbCE9YyYmbnVsbCE9bT97bWluOmMsbWF4Om0sYXZnOmQsc3RkZGV2OnB9Om51bGx9fWZ1bmN0aW9uIGQoZSl7aWYoIWUpcmV0dXJuIG51bGw7bGV0IG49TnVtYmVyKGUpO2lmKCFpc05hTihuKSYmMCE9PW4pcmV0dXJuIG5ldyBmKHt3a2lkOm59KTtpZihlPVN0cmluZyhlKS50cmltKCksdChlKSlyZXR1cm4gbmV3IGYoe3drdDI6ZX0pO2NvbnN0IHI9ZS50b1VwcGVyQ2FzZSgpO2lmKHIuc3RhcnRzV2l0aChcIkNPTVBEX0NTXCIpKXtpZighci5pbmNsdWRlcyhcIlZFUlRDU1wiKXx8IXIuaW5jbHVkZXMoXCJHRU9HQ1NcIikmJiFyLnN0YXJ0c1dpdGgoXCJQUk9KQ1NcIikpcmV0dXJuIG51bGw7Y29uc3QgdD1yLmluZGV4T2YoXCJWRVJUQ1NcIikscz1yLmluZGV4T2YoXCJQUk9KQ1NcIiksYT1zPi0xP3M6ci5pbmRleE9mKFwiR0VPR0NTXCIpO2lmKC0xPT09YSlyZXR1cm4gbnVsbDtjb25zdCBpPWUuc2xpY2UoYSxlLmxhc3RJbmRleE9mKFwiXVwiLHQpKzEpLnRyaW0oKSxsPWUuc2xpY2UodCxlLmxhc3RJbmRleE9mKFwiXVwiKSkudHJpbSgpO249cChpKTtjb25zdCBvPW5ldyBmKG4/e3draWQ6bn06e3drdDppfSksdT1wKGwpO3JldHVybiB1JiYoby52Y3NXa2lkPXUpLG99cmV0dXJuIHIuc3RhcnRzV2l0aChcIkdFT0dDU1wiKXx8ci5zdGFydHNXaXRoKFwiUFJPSkNTXCIpPyhuPXAoZSksbmV3IGYoMCE9PW4/e3draWQ6bn06e3drdDplfSkpOm51bGx9ZnVuY3Rpb24gcChlKXtjb25zdCB0PWUucmVwbGFjZUFsbChcIl1cIixcIltcIikucmVwbGFjZUFsbCgnXCInLFwiXCIpLnNwbGl0KFwiW1wiKS5tYXAoKGU9PmUudHJpbSgpKSkuZmlsdGVyKChlPT5cIlwiIT09ZSkpLG49dFt0Lmxlbmd0aC0xXS5zcGxpdChcIixcIikscj1uWzBdPy50b0xvd2VyQ2FzZSgpO2lmKChcImVwc2dcIj09PXJ8fFwiZXNyaVwiPT09cikmJmUuZW5kc1dpdGgoJ1wiXV0nKSl7Y29uc3QgZT1OdW1iZXIoblsxXSk7aWYoIWlzTmFOKGUpJiYwIT09ZSlyZXR1cm4gZX1yZXR1cm4gMH1mdW5jdGlvbiBTKHQpe2lmKFwicGFtZGF0YXNldFwiIT09dD8uZG9jdW1lbnRFbGVtZW50LnRhZ05hbWU/LnRvTG93ZXJDYXNlKCkpcmV0dXJue307Y29uc3QgYT17c3BhdGlhbFJlZmVyZW5jZTpudWxsLHRyYW5zZm9ybTpudWxsLG1ldGFkYXRhOnt9LHJhc3RlckJhbmRzOltdLHN0YXRpc3RpY3M6bnVsbCxoaXN0b2dyYW1zOm51bGx9O3QuZG9jdW1lbnRFbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaCgoZT0+e2lmKDE9PT1lLm5vZGVUeXBlKWlmKG4oZSxcIlNSU1wiKSl7aWYoIWEuc3BhdGlhbFJlZmVyZW5jZSl7Y29uc3QgdD1yKGUpO2Euc3BhdGlhbFJlZmVyZW5jZT1kKHQpfX1lbHNlIGlmKG4oZSxcIk1ldGFkYXRhXCIpKWlmKFwieG1sOkVTUklcIj09PWUuZ2V0QXR0cmlidXRlKFwiZG9tYWluXCIpKXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOnQsdHJhbnNmb3JtOm59PWMoZSk7YS50cmFuc2Zvcm09bixhLnNwYXRpYWxSZWZlcmVuY2V8fChhLnNwYXRpYWxSZWZlcmVuY2U9dCl9ZWxzZXtzKGUsXCJNRElcIikuZm9yRWFjaCgoZT0+YS5tZXRhZGF0YVtlLmdldEF0dHJpYnV0ZShcImtleVwiKV09cihlKSkpfWVsc2UgaWYobihlLFwiUEFNUmFzdGVyQmFuZFwiKSl7Y29uc3QgdD1tKGUpO251bGwhPXQuc291cmNlQmFuZEluZGV4JiZudWxsPT1hLnJhc3RlckJhbmRzW3Quc291cmNlQmFuZEluZGV4XT9hLnJhc3RlckJhbmRzW3Quc291cmNlQmFuZEluZGV4XT10OmEucmFzdGVyQmFuZHMucHVzaCh0KX19KSk7Y29uc3QgaT1hLnJhc3RlckJhbmRzO2lmKGkubGVuZ3RoKXtjb25zdCB0PSEhaVswXS5zdGF0aXN0aWNzO2Euc3RhdGlzdGljcz10P2kubWFwKChlPT5lLnN0YXRpc3RpY3MpKS5maWx0ZXIoZSk6bnVsbDtjb25zdCBuPSEhaVswXS5oaXN0b2dyYW07YS5oaXN0b2dyYW1zPW4/aS5tYXAoKGU9PmUuaGlzdG9ncmFtKSkuZmlsdGVyKGUpOm51bGx9cmV0dXJuIGF9ZXhwb3J0e1MgYXMgcGFyc2VQQU1JbmZvLGQgYXMgcGFyc2VTcGF0aWFsUmVmZXJlbmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBuKGUsdCl7aWYoIWV8fCF0KXJldHVybltdO2xldCBsPXQ7dC5pbmNsdWRlcyhcIi9cIik/KGw9dC5zbGljZSgwLHQuaW5kZXhPZihcIi9cIikpLHQ9dC5zbGljZSh0LmluZGV4T2YoXCIvXCIpKzEpKTp0PVwiXCI7Y29uc3Qgcj1bXTtpZih0KXtjb25zdCB1PW4oZSxsKTtmb3IobGV0IGU9MDtlPHUubGVuZ3RoO2UrKyl7bih1W2VdLHQpLmZvckVhY2goKG49PnIucHVzaChuKSkpfXJldHVybiByfWNvbnN0IHU9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKFwiKlwiLGwpO2lmKCF1fHwwPT09dS5sZW5ndGgpcmV0dXJuW107Zm9yKGxldCBuPTA7bjx1Lmxlbmd0aDtuKyspci5wdXNoKHVbbl18fHUuaXRlbShuKSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZSh0LGwpe2lmKCF0fHwhbClyZXR1cm4gbnVsbDtsZXQgcj1sO2wuaW5jbHVkZXMoXCIvXCIpPyhyPWwuc2xpY2UoMCxsLmluZGV4T2YoXCIvXCIpKSxsPWwuc2xpY2UobC5pbmRleE9mKFwiL1wiKSsxKSk6bD1cIlwiO2NvbnN0IHU9bih0LHIpO3JldHVybiB1Lmxlbmd0aD4wP2w/ZSh1WzBdLGwpOnVbMF06bnVsbH1mdW5jdGlvbiB0KG4sdD1udWxsKXtjb25zdCBsPXQ/ZShuLHQpOm47bGV0IHI7cmV0dXJuIGw/KHI9bC50ZXh0Q29udGVudHx8bC5ub2RlVmFsdWUscj9yLnRyaW0oKTpudWxsKTpudWxsfWZ1bmN0aW9uIGwoZSx0KXtjb25zdCBsPW4oZSx0KSxyPVtdO2xldCB1O2ZvcihsZXQgbj0wO248bC5sZW5ndGg7bisrKXU9bFtuXS50ZXh0Q29udGVudHx8bFtuXS5ub2RlVmFsdWUsdSYmKHU9dS50cmltKCksXCJcIiE9PXUmJnIucHVzaCh1KSk7cmV0dXJuIHJ9ZnVuY3Rpb24gcihuLGU9bnVsbCl7Y29uc3QgbD10KG4sZSk7cmV0dXJuIGw/LnNwbGl0KFwiIFwiKS5tYXAoKG49Pk51bWJlcihuKSkpPz9bXX1mdW5jdGlvbiB1KG4sZSl7cmV0dXJuIGwobixlKS5tYXAoKG49Pk51bWJlcihuKSkpfWZ1bmN0aW9uIG8obixlKXtjb25zdCBsPXQobixlKTtyZXR1cm4gTnVtYmVyKGwpfWZ1bmN0aW9uIGkobixlKXtjb25zdCB0PW4/Lm5vZGVOYW1lPy50b0xvd2VyQ2FzZSgpLGw9ZS50b0xvd2VyQ2FzZSgpO3JldHVybiB0LnNsaWNlKHQubGFzdEluZGV4T2YoXCI6XCIpKzEpPT09bH1mdW5jdGlvbiBjKG4pe3JldHVybiBuLm5vZGVOYW1lLnNsaWNlKG4ubm9kZU5hbWUubGFzdEluZGV4T2YoXCI6XCIpKzEpfWV4cG9ydHtlIGFzIGdldEVsZW1lbnQsbyBhcyBnZXRFbGVtZW50TnVtZXJpY1ZhbHVlLHUgYXMgZ2V0RWxlbWVudE51bWVyaWNWYWx1ZXMsdCBhcyBnZXRFbGVtZW50VmFsdWUsbCBhcyBnZXRFbGVtZW50VmFsdWVzLG4gYXMgZ2V0RWxlbWVudHMsYyBhcyBnZXROb2RlTmFtZUlnbm9yZU5TLHIgYXMgZ2V0U3BhY2VEZWxpbWl0ZWROdW1lcmljVmFsdWVzLGkgYXMgaXNTYW1lVGFnSWdub3JlTlN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRNZXRlcnNQZXJVbml0Rm9yU1IgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L0V4dGVudC5qc1wiO2ltcG9ydCBpIGZyb21cIi4uL1BpeGVsQmxvY2suanNcIjtmdW5jdGlvbiBuKGUsaSl7aWYoZS5zcGF0aWFsUmVmZXJlbmNlLmVxdWFscyhpKSlyZXR1cm4gZTtjb25zdCBuPXQoZS5zcGF0aWFsUmVmZXJlbmNlKSxhPXQoaSk7aWYobj09PWEpcmV0dXJuIGU7Y29uc3QgaD1uL2E7cmV0dXJue3g6ZS54KmgseTplLnkqaH19YXN5bmMgZnVuY3Rpb24gYSh0LGUsbil7aWYoXCJleHRlbnRcIj09PW4udHlwZSlyZXR1cm4gbyh0LGUsbik7Y29uc3R7d2lkdGg6YSxoZWlnaHQ6eH09dCxsPW5ldyBVaW50OEFycmF5KGEqeCkse2NvbnRhaW5zOm0saW50ZXJzZWN0czpzfT1hd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZS5qc1wiKTtyZXR1cm4gcyhlLG4pP1wicG9seWxpbmVcIj09PW4udHlwZT9yKHQsZSxuKTptKG4sZSk/dDpoKHQsZSxuKTpuZXcgaSh7cGl4ZWxUeXBlOnQucGl4ZWxUeXBlLHdpZHRoOmEsaGVpZ2h0OngsbWFzazpsLG1hc2tJc0FscGhhOiExLHBpeGVsczpbLi4udC5waXhlbHNdfSl9ZnVuY3Rpb24gaCh0LGUsbil7aWYoIXQpcmV0dXJuIHQ7Y29uc3R7d2lkdGg6YSxoZWlnaHQ6aH09dCxvPWUud2lkdGgvYSxyPWUuaGVpZ2h0L2gse3htaW46eCx5bWF4Omx9PWU7bGV0IG07aWYoXCJleHRlbnRcIj09PW4udHlwZSl7Y29uc3QgdD0obi54bWluLXgpL28sZT0obi54bWF4LXgpL28saT0obC1uLnltYXgpL3IsYT0obC1uLnltaW4pL3I7bT1bW1t0LGldLFt0LGFdLFtlLGFdLFtlLGldLFt0LGldXV19ZWxzZSBtPW4ucmluZ3MubWFwKCh0PT50Lm1hcCgoKFt0LGVdKT0+Wyh0LXgpL28sKGwtZSkvcl0pKSkpO2NvbnN0IHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtzLndpZHRoPWEscy5oZWlnaHQ9aDtjb25zdCBwPXMuZ2V0Q29udGV4dChcIjJkXCIpO3AuZmlsbFN0eWxlPVwiI2YwMFwiLG0uZm9yRWFjaCgodD0+e3AuYmVnaW5QYXRoKCkscC5tb3ZlVG8odFswXVswXSx0WzBdWzFdKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylwLmxpbmVUbyh0W2VdWzBdLHRbZV1bMV0pO3AuY2xvc2VQYXRoKCkscC5maWxsKCl9KSk7Y29uc3QgZj1wLmdldEltYWdlRGF0YSgwLDAsYSxoKS5kYXRhLHk9dC5tYXNrLGM9YSpoLE09bmV3IFVpbnQ4QXJyYXkoYyk7Zm9yKGxldCBpPTA7aTxjO2krKyl5JiYheVtpXXx8KE1baV09Zls0KmkrM10+MTI3PzI1NTowKTtyZXR1cm4gbmV3IGkoe3BpeGVsVHlwZTp0LnBpeGVsVHlwZSx3aWR0aDphLGhlaWdodDpoLG1hc2s6TSxtYXNrSXNBbHBoYTohMSxwaXhlbHM6Wy4uLnQucGl4ZWxzXX0pfWZ1bmN0aW9uIG8odCxlLG4pe2NvbnN0e3dpZHRoOmEsaGVpZ2h0Omh9PXQsbz1uZXcgVWludDhBcnJheShhKmgpLHI9ZS53aWR0aC9hLHg9ZS5oZWlnaHQvaDtpZihuLndpZHRoL3I8LjV8fG4uaGVpZ2h0L3g8LjUpcmV0dXJuIG5ldyBpKHtwaXhlbFR5cGU6dC5waXhlbFR5cGUsd2lkdGg6YSxoZWlnaHQ6aCxtYXNrOm8scGl4ZWxzOlsuLi50LnBpeGVsc119KTtjb25zdHt4bWluOmwseG1heDptLHltaW46cyx5bWF4OnB9PWUse3htaW46Zix4bWF4OnkseW1pbjpjLHltYXg6TX09bix1PU1hdGgubWF4KGwsZiksdz1NYXRoLm1pbihtLHkpLGQ9TWF0aC5tYXgocyxjKSxnPU1hdGgubWluKHAsTSksVD0uNSpyLGs9LjUqeDtpZih3LXU8VHx8Zy1kPGt8fHc8bCtUfHx1Pm0tVHx8ZD5wLWt8fGc8cytrKXJldHVybiBuZXcgaSh7cGl4ZWxUeXBlOnQucGl4ZWxUeXBlLHdpZHRoOmEsaGVpZ2h0OmgsbWFzazpvLHBpeGVsczpbLi4udC5waXhlbHNdfSk7Y29uc3QgQT1NYXRoLm1heCgwLCh1LWwpL3IpLFI9TWF0aC5taW4oYSxNYXRoLm1heCgwLCh3LWwpL3IpKSxVPU1hdGgubWF4KDAsKHAtZykveCksaj1NYXRoLm1pbihoLE1hdGgubWF4KDAsKHAtZCkveCkpLEU9TWF0aC5yb3VuZChBKSxJPU1hdGgucm91bmQoUiktMSxQPU1hdGgucm91bmQoVSksdj1NYXRoLnJvdW5kKGopLTE7aWYoRT09PUkmJkElMT4uNSYmUiUxPC41fHxQPT09diYmVSUxPi41JiZqJTE8LjUpcmV0dXJuIG5ldyBpKHtwaXhlbFR5cGU6dC5waXhlbFR5cGUsd2lkdGg6YSxoZWlnaHQ6aCxtYXNrOm8scGl4ZWxzOlsuLi50LnBpeGVsc119KTtpZigwPT09RSYmMD09PVAmJkk9PT1hJiZ2PT09aClyZXR1cm4gdDtjb25zdCBiPXQubWFzaztmb3IobGV0IGk9UDtpPD12O2krKylmb3IobGV0IHQ9RTt0PD1JO3QrKyl7Y29uc3QgZT1pKmErdDtvW2VdPWI/YltlXToyNTV9cmV0dXJuIG5ldyBpKHtwaXhlbFR5cGU6dC5waXhlbFR5cGUsd2lkdGg6YSxoZWlnaHQ6aCxtYXNrOm8scGl4ZWxzOlsuLi50LnBpeGVsc119KX1mdW5jdGlvbiByKHQsZSxuKXtjb25zdHt3aWR0aDphLGhlaWdodDpofT10LG89bmV3IFVpbnQ4QXJyYXkoYSpoKSxyPWUud2lkdGgvYSx4PWUuaGVpZ2h0L2gse3htaW46bCx5bWF4Om19PWUse3BhdGhzOnN9PW4scD10Lm1hc2s7Zm9yKGxldCBpPTA7aTxzLmxlbmd0aDtpKyspe2NvbnN0IHQ9c1tpXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKXtjb25zdFtpLG5dPXRbZV0sW3MsZl09dFtlKzFdO2xldCB5PU1hdGguZmxvb3IoKG0tbikveCksYz1NYXRoLmZsb29yKChtLWYpL3gpO2lmKGM8eSl7Y29uc3QgdD15O3k9YyxjPXR9eT1NYXRoLm1heCgwLHkpLGM9TWF0aC5taW4oaC0xLGMpO2NvbnN0IE09KHMtaSkvKGYtbik7Zm9yKGxldCB0PXk7dDw9Yzt0Kyspe2NvbnN0IGU9dD09PXk/TWF0aC5tYXgobixmKTooaCsxLXQpKngsbT10PT09Yz9NYXRoLm1pbihuLGYpOmUteDtsZXQgdT1mPT09bj9NYXRoLmZsb29yKChpLWwpL3IpOk1hdGguZmxvb3IoKE0qKGUtbikraS1sKS9yKSx3PWY9PT1uP01hdGguZmxvb3IoKHMtbCkvcik6TWF0aC5mbG9vcigoTSoobS1uKStpLWwpL3IpO2lmKHc8dSl7Y29uc3QgdD11O3U9dyx3PXR9Y29uc3QgZD10KmE7dT1NYXRoLm1heCgwLHUpLHc9TWF0aC5taW4oYS0xLHcpO2ZvcihsZXQgdD1kK3U7dDw9ZCt3O3QrKylvW3RdPXA/cFt0XToyNTV9fX1yZXR1cm4gbmV3IGkoe3BpeGVsVHlwZTp0LnBpeGVsVHlwZSx3aWR0aDphLGhlaWdodDpoLG1hc2s6byxwaXhlbHM6Wy4uLnQucGl4ZWxzXX0pfWZ1bmN0aW9uIHgodCxpLGEsaD0hMCl7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTpvfT10LHt4OnIseTp4fT1uKGEsbyk7bGV0IGwsbSxzO2NvbnN0IHA9XCJleHRlbnRcIj09PWkudHlwZT9pOmkuZXh0ZW50O2xldHt4bWluOmYseG1heDp5LHltYXg6Yyx5bWluOk19PXA7Y29uc3R7eG1pbjp1LHltYXg6d309dC5leHRlbnQ7cmV0dXJuIGg/KGY9dSsoZj51P3IqTWF0aC5yb3VuZCgoZi11KS9yKTowKSxjPXctKGM8dz94Kk1hdGgucm91bmQoKHctYykveCk6MCkseT11Kyh5PnU/cipNYXRoLnJvdW5kKCh5LXUpL3IpOjApLE09dy0oTTx3P3gqTWF0aC5yb3VuZCgody1NKS94KTowKSxsPW5ldyBlKHt4bWluOmYseW1heDpjLHhtYXg6eSx5bWluOk0sc3BhdGlhbFJlZmVyZW5jZTpvfSksbT1NYXRoLnJvdW5kKGwud2lkdGgvcikscz1NYXRoLnJvdW5kKGwuaGVpZ2h0L3gpKToobT1NYXRoLmZsb29yKCh5LWYpL3IrLjgpLHM9TWF0aC5mbG9vcigoYy1NKS94Ky44KSxmPXUrKGY+dT9yKk1hdGguZmxvb3IoKGYtdSkvcisuMSk6MCksYz13LShjPHc/eCpNYXRoLmZsb29yKCh3LWMpL3grLjEpOjApLHk9ZittKnIsTT1jLXMqeCxsPW5ldyBlKHt4bWluOmYseW1heDpjLHhtYXg6eSx5bWluOk0sc3BhdGlhbFJlZmVyZW5jZTpvfSkpLHtleHRlbnQ6bCx3aWR0aDptLGhlaWdodDpzfX1leHBvcnR7YSBhcyBjbGlwLHggYXMgc25hcFRvUmFzdGVyfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==