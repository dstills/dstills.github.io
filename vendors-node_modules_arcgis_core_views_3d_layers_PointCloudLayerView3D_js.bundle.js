"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_views_3d_layers_PointCloudLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   P: () => (/* binding */ y),
/* harmony export */   a: () => (/* binding */ O),
/* harmony export */   b: () => (/* binding */ C),
/* harmony export */   c: () => (/* binding */ R),
/* harmony export */   g: () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mat4.js */ "./node_modules/@arcgis/core/chunks/mat4.js");
/* harmony import */ var _mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mat4f64.js */ "./node_modules/@arcgis/core/chunks/mat4f64.js");
/* harmony import */ var _vec2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _vec2f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./vec2f64.js */ "./node_modules/@arcgis/core/chunks/vec2f64.js");
/* harmony import */ var _vec3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4DrawUniform_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class y extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.NoParameters{constructor(){super(...arguments),this.clipBox=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.create)(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.positiveInfinity),this.useFixedSizes=!1,this.useRealWorldSymbolSizes=!1,this.scaleFactor=1,this.minSizePx=0,this.size=0,this.sizePx=0}get fixedSize(){return this.drawScreenSpace?this.sizePx:this.size}get screenMinSize(){return this.useFixedSizes?0:this.minSizePx}get drawScreenSpace(){return this.useFixedSizes&&!this.useRealWorldSymbolSizes}}class O extends _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_10__.SlicePlaneParameters{constructor(e,i,o){super(e),this.origin=e,this.isLeaf=i,this.splatSize=o}}function R(r){const a=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_19__.ShaderBuilder,n=r.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_9__.ShaderOutput.Color,c=r.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_9__.ShaderOutput.Depth,l=r.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_9__.ShaderOutput.Highlight,{vertex:f,fragment:x}=a;return a.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_10__.SliceDraw,r),a.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_20__.VertexAttribute.POSITION,"vec3"),a.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_20__.VertexAttribute.COLOR,"vec3"),f.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Matrix4DrawUniform_js__WEBPACK_IMPORTED_MODULE_17__.Matrix4DrawUniform("modelView",((e,r)=>(0,_mat4_js__WEBPACK_IMPORTED_MODULE_1__.m)(B,r.camera.viewMatrix,(0,_mat4_js__WEBPACK_IMPORTED_MODULE_1__.d)(B,e.origin)))),new _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_18__.Matrix4PassUniform("proj",((e,i)=>i.camera.projectionMatrix)),new _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float2DrawUniform("screenMinMaxSize",((e,i,o)=>(0,_vec2_js__WEBPACK_IMPORTED_MODULE_3__.s)(L,o.useFixedSizes?0:o.minSizePx*i.camera.pixelRatio,F(e.isLeaf)*i.camera.pixelRatio))),r.useFixedSizes?new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Float2PassUniform("pointScale",((e,i)=>(0,_vec2_js__WEBPACK_IMPORTED_MODULE_3__.s)(L,e.fixedSize*i.camera.pixelRatio,i.camera.fullHeight))):new _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_13__.Float2DrawUniform("pointScale",((e,i,o)=>(0,_vec2_js__WEBPACK_IMPORTED_MODULE_3__.s)(L,e.splatSize*o.scaleFactor*i.camera.pixelRatio,i.camera.fullHeight/i.camera.pixelRatio)))),r.clippingEnabled?f.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_15__.Float3DrawUniform("clipMin",((e,i,o)=>(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(_,o.clipBox[0]-e.origin[0],o.clipBox[1]-e.origin[1],o.clipBox[2]-e.origin[2]))),new _views_3d_webgl_engine_core_shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_15__.Float3DrawUniform("clipMax",((e,i,o)=>(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(_,o.clipBox[3]-e.origin[0],o.clipBox[4]-e.origin[1],o.clipBox[5]-e.origin[2])))):(f.constants.add("clipMin","vec3",[-_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32,-_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32,-_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32]),f.constants.add("clipMax","vec3",[_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.numberMaxFloat32])),c?((0,_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_8__.addNearFar)(a),(0,_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_8__.addCalculateLinearDepth)(a),a.varyings.add("depth","float")):r.output!==_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_9__.ShaderOutput.Highlight&&a.varyings.add("vColor","vec3"),f.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`
    void main(void) {
      // Move clipped points outside of clipspace
      if (position.x < clipMin.x || position.y < clipMin.y || position.z < clipMin.z ||
        position.x > clipMax.x || position.y > clipMax.y || position.z > clipMax.z) {
        gl_Position = vec4(0.0,0.0,0.0,2.0);
        gl_PointSize = 0.0;
        return;
      }

      if (rejectBySlice(position)) {
        gl_Position = vec4(0.0,0.0,0.0,2.0);
        gl_PointSize = 0.0;
        return;
      }

      // Position in camera space
      vec4 camera = modelView * vec4(position, 1.0);

      float pointSize = pointScale.x;
      vec4 position = proj * camera;
     ${r.drawScreenSize?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`
      float clampedScreenSize = pointSize;`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`
      float pointRadius = 0.5 * pointSize;
      vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);
      vec4 positionOffset = proj * cameraOffset;
      float radius = abs(positionOffset.y - position.y);
      float viewHeight = pointScale.y;
      // screen diameter = (2 * r / w) * (h / 2)
      float screenPointSize = (radius / position.w) * viewHeight;
      float clampedScreenSize = clamp(screenPointSize, screenMinMaxSize.x, screenMinMaxSize.y);
      // Shift towards camera, to move rendered point out of terrain i.e. to
      // the camera-facing end of the virtual point when considering it as a
      // 3D sphere.
      camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;
      position = proj * camera;`}

     gl_PointSize = clampedScreenSize;
     gl_Position = position;

     ${c?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`depth = calculateLinearDepth(nearFar, camera.z);`:""}
     ${n?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`vColor = color;`:""}
    }
  `),x.include(_views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_12__.RgbaFloatEncoding,r),l&&a.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_11__.OutputHighlight,r),x.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`
    void main(void) {
      vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);
      float r2 = dot(vOffset, vOffset);

      if (r2 > 0.25) {
        discard;
      }
      ${c?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`fragColor = float2rgba(depth);`:""}
      ${l?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`outputHighlight();`:""}
      ${n?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__.glsl)`fragColor = vec4(vColor, 1.0);`:""}
    }
  `),a}function F(e){return e?256:64}const B=(0,_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),_=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),L=(0,_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__.a)(),C=Object.freeze(Object.defineProperty({__proto__:null,PointRendererDrawParameters:O,PointRendererPassParameters:y,build:R,getMaxPointSizeScreenspace:F},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerView3D: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/heightModelInfoUtils.js */ "./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.supportsHeightModelInfo)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>e.abort()))),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(o);const i=(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.rejectLayerError)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e?.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"slicePlaneEnabled",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.LayerView3D")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ye)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../chunks/vec3f32.js */ "./node_modules/@arcgis/core/chunks/vec3f32.js");
/* harmony import */ var _geometry_projection_projectBoundingRect_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/projection/projectBoundingRect.js */ "./node_modules/@arcgis/core/geometry/projection/projectBoundingRect.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _layers_support_CodedValue_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../layers/support/CodedValue.js */ "./node_modules/@arcgis/core/layers/support/CodedValue.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _layers_support_CodedValueDomain_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../layers/support/CodedValueDomain.js */ "./node_modules/@arcgis/core/layers/support/CodedValueDomain.js");
/* harmony import */ var _layers_support_Domain_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../layers/support/Domain.js */ "./node_modules/@arcgis/core/layers/support/Domain.js");
/* harmony import */ var _layers_support_InheritedDomain_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../layers/support/InheritedDomain.js */ "./node_modules/@arcgis/core/layers/support/InheritedDomain.js");
/* harmony import */ var _layers_support_RangeDomain_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../layers/support/RangeDomain.js */ "./node_modules/@arcgis/core/layers/support/RangeDomain.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_PromiseQueue_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../layers/support/PromiseQueue.js */ "./node_modules/@arcgis/core/layers/support/PromiseQueue.js");
/* harmony import */ var _symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../symbols/support/unitConversionUtils.js */ "./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js");
/* harmony import */ var _LayerView3D_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./LayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js");
/* harmony import */ var _PointCloudWorkerHandle_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./PointCloudWorkerHandle.js */ "./node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js");
/* harmony import */ var _i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./i3s/I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/* harmony import */ var _i3s_LoDUtil_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./i3s/LoDUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js");
/* harmony import */ var _i3s_PagedNodeIndex_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./i3s/PagedNodeIndex.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js");
/* harmony import */ var _i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./i3s/PointCloudRendererUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js");
/* harmony import */ var _i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./i3s/PointCloudWorkerUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js");
/* harmony import */ var _i3s_PointGraphic_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./i3s/PointGraphic.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js");
/* harmony import */ var _i3s_PointRenderer_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./i3s/PointRenderer.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js");
/* harmony import */ var _support_PopupSceneLayerView_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./support/PopupSceneLayerView.js */ "./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js");
/* harmony import */ var _support_extentUtils_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../support/extentUtils.js */ "./node_modules/@arcgis/core/views/3d/support/extentUtils.js");
/* harmony import */ var _support_index_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../support/index.js */ "./node_modules/@arcgis/core/views/3d/support/index.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/* harmony import */ var _support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../support/updatingProperties.js */ "./node_modules/@arcgis/core/views/3d/support/updatingProperties.js");
/* harmony import */ var _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../webgl-engine/lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const me=8,ge=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_20__.create)();let fe=class extends((0,_support_PopupSceneLayerView_js__WEBPACK_IMPORTED_MODULE_40__.PopupSceneLayerView)((0,_LayerView3D_js__WEBPACK_IMPORTED_MODULE_31__.LayerView3D)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_46__["default"]))){constructor(){super(...arguments),this.type="point-cloud-3d",this.slots=[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_45__.RenderSlot.OPAQUE_MATERIAL],this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._nodeScales=new Map,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new _layers_support_PromiseQueue_js__WEBPACK_IMPORTED_MODULE_29__.PromiseQueue,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[],this.ignoresMemoryFactor=!1}get baseUrl(){return this.layer.parsedUrl.path}get pointScale(){const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getSplatSizeAlgorithm)(this.layer?.renderer),t=1;return null!=e?.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getFixedSizeAlgorithm)(this.layer?.renderer),t=!1;return null!=e?.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getFixedSizeAlgorithm)(this.layer?.renderer),t=0;return null!=e?.size?e.size:t}get inverseDensity(){const e=96;return this.layer?.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getRendererInfo)(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.modulationAttribute.name);const i=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getFilterInfo)(this.layer);if(i)for(const r of i)r.attributeInfo&&t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of (0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_28__.unpackFieldNames)(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_18__.create)(),t=this.view.renderSpatialReference;return (0,_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_41__.projectToBoundingBox)(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;if(e&&"absolute-height"===e.mode){const t=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_11__.getMetersPerVerticalUnitForSR)(this.layer.spatialReference),i=(0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_30__.getMetersPerUnit)(e.unit);return(e.offset??0)*i/t}return 0}initialize(){const e=this.view.resourceController,t=Pe(e);this._worker=new _PointCloudWorkerHandle_js__WEBPACK_IMPORTED_MODULE_32__.PointCloudWorkerHandle(t),this.addResolvingPromise(this._worker.promise),this._tmpPoint=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_21__.makeDehydratedPoint)(0,0,0,this.layer.spatialReference),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_33__.checkPointCloudLayerValid)(this.layer),(0,_i3s_I3SUtil_js__WEBPACK_IMPORTED_MODULE_33__.checkPointCloudLayerCompatibleWithView)(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(_support_index_js__WEBPACK_IMPORTED_MODULE_42__.ClientType.I3S_INDEX),this._dataRequester=e.createStreamDataRequester(_support_index_js__WEBPACK_IMPORTED_MODULE_42__.ClientType.I3S_DATA),this._initRenderer();const i=this._initNodePages(),r=this.view.resourceController.memoryController;this._memCache=r.newCache(`pcl-${this.layer.uid}`),this._updatingHandles.add((()=>this._clippingBox),(()=>this._setUpdateViewNeeded()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this._elevationOffset),(()=>this._elevationOffsetChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.layer.renderer),(()=>this._rendererChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.layer.filters),(()=>this._reload()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.layer.outFields),(()=>this._reload()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this._setUpdateViewNeeded())),this._updatingHandles.add((()=>this.view.state.contentCamera),(()=>this._setUpdateViewNeeded())),this.addHandles([this.view.basemapTerrain.on("scale-change",(e=>this._scaleUpdateHandler(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.view.quality),(()=>this._setUpdateViewNeeded()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.sync)]),this.addResolvingPromise(i),this.when((()=>{this.addHandles([e.scheduler.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_48__.TaskPriority.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this._updatingHandles.add((()=>this.suspended),(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial)])}),(()=>{this._updatingHandles.removeAll(),this.removeAllHandles()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._worker),this._destroyRenderer(),this._memCache=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._memCache),this._codedDomainPopulationAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.abortMaybe)(this._codedDomainPopulationAbortController),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new _i3s_PointRenderer_js__WEBPACK_IMPORTED_MODULE_39__.PointRenderer({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this._updatingHandles.add((()=>this._clippingBox),(e=>this._renderer.clippingBox=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.suspended),(e=>this._setPointsVisible(!e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.pointScale),(e=>this._renderer.scaleFactor=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._renderer.minSizePx=Math.sqrt(2),this._updatingHandles.add((()=>this.useRealWorldSymbolSizes),(e=>this._renderer.useRealWorldSymbolSizes=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.pointSize),(e=>{const t=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_9__.pt2px)(e);this._renderer.size=e,this._renderer.sizePx=t}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._renderer.slicePlaneEnabled=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.inverseDensity),(()=>this._setUpdateViewNeeded()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.maximumPointCount),(()=>this._setUpdateViewNeeded()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),this._updatingHandles.add((()=>this.view.qualitySettings.sceneService.pointCloud.lodFactor),(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=null!=e.pointIdFilterMap?e.pointIdFilterMap[t]:t,s=this.view.computeMapPointFromVec3d(i),o=this._createGraphicAttributes(e,r);return new _i3s_PointGraphic_js__WEBPACK_IMPORTED_MODULE_38__.PointGraphic({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo?.attributeValues,o=s?.valuesPerElement??1;if(1===o)r[e.name]=t[i];else if("UInt8"===s?.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin(this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.rendererUsesFixedSizes)(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_scaleUpdateHandler(e){const t=this.layer.effectiveScaleRange;(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_47__.isScaleRangeActive)(t.minScale,t.maxScale)?(0,_geometry_projection_projectBoundingRect_js__WEBPACK_IMPORTED_MODULE_17__.projectBoundingRect)(e.extent,e.spatialReference,we,this.layer.spatialReference)&&(this._nodeScales.forEach(((t,i)=>{if(!this._renderedNodes.has(i))return void this._nodeScales.delete(i);const r=this._index.getNode(i);(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_19__.containsPoint)(we,r.obb.center)&&this._nodeScales.set(i,e.scale)})),this._setUpdateViewNeeded()):this._nodeScales.clear()}_displayNodes(e){this._workQueue=(0,_i3s_LoDUtil_js__WEBPACK_IMPORTED_MODULE_34__.nodeDiff)([...this._renderedNodes],e,this._index),(0,_i3s_LoDUtil_js__WEBPACK_IMPORTED_MODULE_34__.sortFrontToBack)(this._workQueue,this.view.state.contentCamera.viewForward,this._index),(0,_i3s_LoDUtil_js__WEBPACK_IMPORTED_MODULE_34__.splitWorkEntries)(this._workQueue,me,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange("suspended")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange("suspended")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(null==t)return void e.madeProgress();this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return null!=i?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this._loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.running&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async _populateClassCodeCodedDomain(e,t){const r="CLASS_CODE",s=this.layer.fieldsIndex.get(r);if(!s||s.domain)return;if(!e.includes(s.name))return;const o=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.result)(this.layer.queryCachedStatistics(r,{signal:t}));if(!1===o.ok)return;const n=o.value?.stats?.labels?.labels;n&&Array.isArray(n)&&(s.domain=new _layers_support_CodedValueDomain_js__WEBPACK_IMPORTED_MODULE_24__["default"]({name:"CLASS_CODE",codedValues:n.map((e=>new _layers_support_CodedValue_js__WEBPACK_IMPORTED_MODULE_22__.CodedValue({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this._populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,i){const s=this._splitGraphicsPerNode(e),o=this.layer.attributeStorageInfo,n=i.map((e=>(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getAttributeInfo)(o,e))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome),a=async(e,t)=>{const i=this._index.getNode(t);await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.forEach)(n,(async t=>{const r=t.useElevation?await this._loadElevationAttributeFromGeometry(i.resourceId):await this._loadAndParseAttribute(i,t);if(r)for(const i of e)if(this._isValidPointGraphic(i)){const e=i.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,r,e,i.attributes)}}))},d=[];return s.forEach(((e,t)=>{d.push(a(e,t))})),await Promise.allSettled(d),e}_isValidPointGraphic(e){return e instanceof _i3s_PointGraphic_js__WEBPACK_IMPORTED_MODULE_38__.PointGraphic&&e.pointCloudMetadata?.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return null!=i?(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_37__.getAttributeValues)({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=(0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_37__.readGeometry)(t,await this._loadGeometry(e,null));return (0,_i3s_PointCloudWorkerUtil_js__WEBPACK_IMPORTED_MODULE_37__.elevationFromPositions)(i,i.length/3)}highlight(e){if(!e)return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)();const t=_core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"].isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return this._renderer.highlight(t.map((e=>this._graphicToPointDefinition(e))))}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange("updating"),this.notifyChange("updatingProgressValue")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new _i3s_PagedNodeIndex_js__WEBPACK_IMPORTED_MODULE_35__["default"](this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange("suspended"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:t.obb,obbInRenderSR:(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_43__.create)(),firstChild:t.firstChild,childCount:t.childCount,vertexCount:t.vertexCount??t.pointCount,lodThreshold:t.lodThreshold??t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;const e=this.view.quality;let t=this.inverseDensity/this._lodFactor*e;const i=this.maximumPointCount*this._lodFactor*e;let r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(s/(.75*i));for(;s>i;)t*=o,r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(2);return this._displayNodes(r),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_15__.j)(s,t.eye),n=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_20__.fromNormalAndOffset)(s,-o,ge),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const{minScale:h,maxScale:u}=(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_47__.extractSafeScaleBounds)(this.layer),p=0===h&&0===u?e=>l.push(e):e=>{const t=this._getScale(e);(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_47__.scaleBoundsPredicate)(t,h,u)&&l.push(e)};return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return p(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(p(e),!1)},pageMiss:(e,t)=>{p(e),this._indexQueue.includes(t)||this._indexQueue.push(t)}}),l}_getScale(e){let t=this._nodeScales.get(e);if(null==t){const i=this._index.getNode(e).obb.center;this._tmpPoint.x=i[0],this._tmpPoint.y=i[1],this._tmpPoint.z=i[2],t=this.view.basemapTerrain.getScale(this._tmpPoint),this._nodeScales.set(e,t)}return t}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_43__.minimumDistancePlane)(e,r));return t/(n*n)/(4*s*s)/i}_loadNode(e,t){try{return this._loadNodeAsync(e,t)}catch(i){throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.isAbortError)(i)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this).error(i),i}}async _loadAdditionalUserAttributes(e,i,r){const s=this.layer.outFields;if(!s)return[];const o=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_28__.unpackFieldNames)(this.layer.fieldsIndex,s),n=new Set(e.map((e=>null!=e?e.name:null))),a=this.layer.attributeStorageInfo,d=[];for(const t of o){if(n.has(t))continue;const e=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getAttributeInfo)(a,t);e&&d.push(i(e))}const l=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.allSettledValues)(d);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.throwIfAborted)(r),l.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome)}async _loadNodeAsync(e,t){const i=this._index.getNode(e),r=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getRendererInfo)(this.layer),s=(0,_i3s_PointCloudRendererUtil_js__WEBPACK_IMPORTED_MODULE_36__.getFilterInfo)(this.layer),o=i.resourceId,n=async e=>{if(!e)return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return null!=i?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:a,modulationAttribute:d}=r,l=n(a),h=n(d),p=s.map((e=>e.attributeInfo)),c=p.map((e=>n(e))),_=this._loadAdditionalUserAttributes([a,d,...p],n,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(c),_]);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.throwIfAborted)(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obb:this._index.getRenderObb(e),elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(!t?.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:"json",token:this.layer.apiKey};return this._indexRequester.request(e,"json",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,"binary",{query:{token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._nodeScales.delete(e),this._memCache.put(t.id.toString(),t,be(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if((0,_i3s_PointRenderer_js__WEBPACK_IMPORTED_MODULE_39__.isInstanceOfNode)(t))return t.splatSize=r,t.obb=s,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_15__.c)(t.origin,t.obb.center),t;const o=.01*Math.max(s.halfSize[0],s.halfSize[1],s.halfSize[2]);if(t.obb.halfSize[0]>s.halfSize[0]+o||t.obb.halfSize[1]>s.halfSize[1]+o||t.obb.halfSize[2]>s.halfSize[2]+o){if(this._maxLoggedBoxWarnings>0){const i=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this).warn(`Node ${e} reported bounding box too small. got ${i(s)} but points cover ${i(t.obb)}`),0==--this._maxLoggedBoxWarnings&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(this).warn("  Too many bounding box errors, stopping reporting for this layer.")}this._index.setRenderObb(e,t.obb)}return new _i3s_PointRenderer_js__WEBPACK_IMPORTED_MODULE_39__.PointRendererNode(e,r,(0,_chunks_vec3f32_js__WEBPACK_IMPORTED_MODULE_16__.a)(s.center),s,0===i.childCount,t.points,t.rgb,t.attributes,t.pointIdFilterMap)}get usedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=Ne,e+=(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_10__.estimateSize)(t.coordinates);for(const i of t.attributes){const t=i.values;(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_10__.isArrayBuffer)(t.buffer)&&(e+=(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_10__.estimateSize)(t))}})),e}get unloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.usedMemory-e*Ne)/t)+i*Ne}get performanceInfo(){return{nodes:this._renderedNodes.size,displayedNumberOfFeatures:[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),maximumNumberOfFeatures:this.maximumPointCount,totalNumberOfFeatures:-1,core:null,"Loading Nodes":this._loadingNodes.size,"Index Queue":this._indexQueue.length,"Work Queue":this._workQueue.length,"Idle Queue":this._idleQueue.length}}get test(){return{index:this._index,visibleNodes:this._renderedNodes}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"baseUrl",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"pointScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"useRealWorldSymbolSizes",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"pointSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"inverseDensity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"maximumPointCount",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],fe.prototype,"availableFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],fe.prototype,"_clippingBox",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],fe.prototype,"_elevationOffset",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({type:Boolean})],fe.prototype,"slicePlaneEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],fe.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)(_support_updatingProperties_js__WEBPACK_IMPORTED_MODULE_44__.updatingProgress)],fe.prototype,"updatingProgress",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],fe.prototype,"updatingProgressValue",null),fe=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__.subclass)("esri.views.3d.layers.PointCloudLayerView3D")],fe);const ye=fe;function be(e){return 5*e.coordinates.length+128}const we=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_19__.create)(),Ne=160;function Pe(e){return t=>e.immediate.schedule(t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointCloudWorkerHandle: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/workers/WorkerHandle.js */ "./node_modules/@arcgis/core/core/workers/WorkerHandle.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _core_workers_WorkerHandle_js__WEBPACK_IMPORTED_MODULE_0__.WorkerHandle{constructor(t){super("PointCloudWorker","transform",{transform:t=>this._getTransferList(t)},t)}_getTransferList(t){const r=[t.geometryBuffer];if(null!=t.primaryAttributeData&&t.primaryAttributeData.buffer&&r.push(t.primaryAttributeData.buffer),null!=t.modulationAttributeData&&t.modulationAttributeData.buffer&&r.push(t.modulationAttributeData.buffer),null!=t.filterAttributesData)for(const e of t.filterAttributesData)null!=e&&e.buffer&&r.push(e.buffer);for(const e of t.userAttributesData)e.buffer&&r.push(e.buffer);return r}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   nodeDiff: () => (/* binding */ t),
/* harmony export */   sortFrontToBack: () => (/* binding */ g),
/* harmony export */   splitWorkEntries: () => (/* binding */ u),
/* harmony export */   splitWorkEntry: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(o,n)-(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(o,n)-(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderCenter(t.remove[0]),h=l.getRenderCenter(r.remove[0]);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(o,n)-(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.j)(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _I3SUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./I3SUtil.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SUtil.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class p{constructor(e,t,s){this._pages=[],this.pageSize=0,this._nodeSR=null,this._renderSR=null,this._nodeSR=e,this._renderSR=t,this.pageSize=s}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);a(t,this._nodeSR,this._renderSR,s),this._pages[e]={nodes:t,parents:new Uint32Array(this.pageSize)},g(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[u(e,t)].nodes[l(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[u(e,t)].nodes[l(e,t)].obbInRenderSR}getRenderCenter(e){return this.getRenderObb(e).center}setRenderObb(e,t){const s=this.pageSize;(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.set)(t,this._pages[u(e,s)].nodes[l(e,s)].obbInRenderSR)}getParentId(e){const t=this.pageSize;return this._pages[u(e,t)].parents[l(e,t)]}hasNodes(e,t){const s=u(e,this.pageSize),n=u(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const t={index:this,queue:[],masks:[],tempAabb:(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_0__.create)()};return(e,s)=>h(t,e,s)}}function h(e,n,i){const p=e.index;if(!p.hasNodes(0,1))return;const h=e.queue;h.length=0,h.push(0);const a=e.masks;for(a.length=0,a.push(0);h.length>0;){const g=h.pop();let l=a.pop();const d=p.getNode(g),c=p.getRenderObb(g);let f=!0;if(null!=n.clippingBox){const i=1<<n.frustum.length;if(0==(l&i)){const r=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.toAaBoundingBox)(c,e.tempAabb);(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_0__.contains)(n.clippingBox,r)?l|=i:(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_0__.intersects)(n.clippingBox,r)||(f=!1)}}for(let e=0;e<n.frustum.length&&f;e++){const t=1<<e;if(0==(l&t)){const s=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.intersectPlane)(c,n.frustum[e]);s>0?f=!1:s<0&&(l|=t)}}if(i.predicate(g,d,f)){const e=d.firstChild,t=d.childCount;let s=!1;const n=u(e,p.pageSize),o=u(e+t-1,p.pageSize);for(let r=n;r<=o;r++)if(!p.hasPage(r)){i.pageMiss(g,r),s=!0;break}if(!s)for(let i=0;i<t;i++)h.push(e+i),a.push(l)}}}function a(e,t,s,i){for(let o=0;o<e.length;o++){const r=e[o];(0,_I3SUtil_js__WEBPACK_IMPORTED_MODULE_1__.transformObb)(r.obb,t,r.obbInRenderSR,s,i)}}function g(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[u(n,t)].nodes[l(n,t)];for(let o=0;o<i.childCount;o++){const r=i.firstChild+o;null!=e[u(r,t)]&&(e[u(r,t)].parents[l(r,t)]=n,s.push(r))}}}function u(e,t){return e/t|0}function l(e,t){return e%t}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getAttributeInfo: () => (/* binding */ u),
/* harmony export */   getFilterInfo: () => (/* binding */ e),
/* harmony export */   getFixedSizeAlgorithm: () => (/* binding */ o),
/* harmony export */   getRendererInfo: () => (/* binding */ t),
/* harmony export */   getSplatSizeAlgorithm: () => (/* binding */ n),
/* harmony export */   rendererUsesFixedSizes: () => (/* binding */ l)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){const e=t.renderer,n=e?.type,o=e?.toJSON()??null;let l=null,i=!1;const a=t.attributeStorageInfo;"point-cloud-unique-value"===n||"point-cloud-stretch"===n||"point-cloud-class-breaks"===n?l=u(a,e.field):"point-cloud-rgb"===n?(l=r(a,e.field),i=null!=l):(l=r(a,"RGB"),i=null!=l);let s=null;return e?.colorModulation&&(s=u(a,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:l,modulationAttribute:s}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t?.pointSizeAlgorithm;return e&&"splat"===e.type?e:null}function o(t){const e=t?.pointSizeAlgorithm;return e&&"fixed-size"===e.type?e:null}function l(t){const e=t?.pointSizeAlgorithm;return!!e?.type&&"fixed-size"===e.type}function r(t,e){for(const n of t??[])if(n.name===e&&null!=n.attributeValues&&"UInt8"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t??[])if(n.name===e){const t="embedded-elevation"===n.encoding;return t?{name:e,storageInfo:null,useElevation:t}:{name:e,storageInfo:n,useElevation:t}}return"elevation"===e?.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   elevationFromPositions: () => (/* binding */ a),
/* harmony export */   evaluateRenderer: () => (/* binding */ i),
/* harmony export */   filterInPlace: () => (/* binding */ f),
/* harmony export */   getAttributeValues: () => (/* binding */ c),
/* harmony export */   readGeometry: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _renderers_PointCloudClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../renderers/PointCloudClassBreaksRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudClassBreaksRenderer.js");
/* harmony import */ var _renderers_PointCloudStretchRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../renderers/PointCloudStretchRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudStretchRenderer.js");
/* harmony import */ var _renderers_PointCloudUniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../renderers/PointCloudUniqueValueRenderer.js */ "./node_modules/@arcgis/core/renderers/PointCloudUniqueValueRenderer.js");
/* harmony import */ var _I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./I3SBinaryReader.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js");
/* harmony import */ var _LEPCC_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LEPCC.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/LEPCC.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(t,n,l,s){const{rendererJSON:i,isRGBRenderer:u}=t;let c=null,a=null;if(n&&u)c=n;else if(n&&"pointCloudUniqueValueRenderer"===i?.type){a=_renderers_PointCloudUniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromJSON(i);const e=a.colorUniqueValueInfos;c=new Uint8Array(3*s);const r=d(a.fieldTransformType);for(let o=0;o<s;o++){const t=(r?r(n[o]):n[o])+"";for(let r=0;r<e.length;r++)if(e[r].values.includes(t)){c[3*o]=e[r].color.r,c[3*o+1]=e[r].color.g,c[3*o+2]=e[r].color.b;break}}}else if(n&&"pointCloudStretchRenderer"===i?.type){a=_renderers_PointCloudStretchRenderer_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(i);const e=a.stops;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let r=0;r<s;r++){const t=o?o(n[r]):n[r],l=e.length-1;if(t<e[0].value)c[3*r]=e[0].color.r,c[3*r+1]=e[0].color.g,c[3*r+2]=e[0].color.b;else if(t>=e[l].value)c[3*r]=e[l].color.r,c[3*r+1]=e[l].color.g,c[3*r+2]=e[l].color.b;else for(let o=1;o<e.length;o++)if(t<e[o].value){const n=(t-e[o-1].value)/(e[o].value-e[o-1].value);c[3*r]=e[o].color.r*n+e[o-1].color.r*(1-n),c[3*r+1]=e[o].color.g*n+e[o-1].color.g*(1-n),c[3*r+2]=e[o].color.b*n+e[o-1].color.b*(1-n);break}}}else if(n&&"pointCloudClassBreaksRenderer"===i?.type){a=_renderers_PointCloudClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromJSON(i);const r=a.colorClassBreakInfos;c=new Uint8Array(3*s);const o=d(a.fieldTransformType);for(let e=0;e<s;e++){const t=o?o(n[e]):n[e];for(let o=0;o<r.length;o++)if(t>=r[o].minValue&&t<=r[o].maxValue){c[3*e]=r[o].color.r,c[3*e+1]=r[o].color.g,c[3*e+2]=r[o].color.b;break}}}else c=new Uint8Array(3*s).fill(255);if(l&&a?.colorModulation){const e=a.colorModulation.minValue,r=a.colorModulation.maxValue,o=.3;for(let t=0;t<s;t++){const n=l[t],s=n>=r?1:n<=e?o:o+(1-o)*(n-e)/(r-e);c[3*t]=s*c[3*t],c[3*t+1]=s*c[3*t+1],c[3*t+2]=s*c[3*t+2]}}return c}function u(e,r){if(null==e.encoding||""===e.encoding){const o=(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.createGeometryIndexFromSchema)(r,e);if(null==o.vertexAttributes.position)return;const l=(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.createTypedView)(r,o.vertexAttributes.position),s=o.header.fields,i=[s.offsetX,s.offsetY,s.offsetZ],u=[s.scaleX,s.scaleY,s.scaleZ],c=l.length/3,a=new Float64Array(3*c);for(let e=0;e<c;e++)a[3*e]=l[3*e]*u[0]+i[0],a[3*e+1]=l[3*e+1]*u[1]+i[1],a[3*e+2]=l[3*e+2]*u[2]+i[2];return a}if("lepcc-xyz"===e.encoding)return (0,_LEPCC_js__WEBPACK_IMPORTED_MODULE_5__.decodeXYZ)(r).result}function c(e,r,o){return e?.attributeInfo.useElevation?r?a(r,o):null:e?.attributeInfo.storageInfo?(0,_I3SBinaryReader_js__WEBPACK_IMPORTED_MODULE_4__.readBinaryAttribute)(e.attributeInfo.storageInfo,e.buffer,o):null}function a(e,r){const o=new Float64Array(r);for(let t=0;t<r;t++)o[t]=e[3*t+2];return o}function f(e,r,o,t,n){const l=e.length/3;let s=0;for(let i=0;i<l;i++){let l=!0;for(let e=0;e<t.length&&l;e++){const{filterJSON:r}=t[e],o=n[e].values[i];switch(r.type){case"pointCloudValueFilter":{const e="exclude"===r.mode;r.values.includes(o)===e&&(l=!1);break}case"pointCloudBitfieldFilter":{const e=p(r.requiredSetBits),t=p(r.requiredClearBits);(o&e)===e&&0==(o&t)||(l=!1);break}case"pointCloudReturnFilter":{const e=15&o,t=o>>>4&15,n=t>1,s=1===e,i=e===t;let u=!1;for(const o of r.includedReturns)if("last"===o&&i||"firstOfMany"===o&&s&&n||"lastOfMany"===o&&i&&n||"single"===o&&!n){u=!0;break}u||(l=!1);break}}}l&&(o[s]=i,e[3*s]=e[3*i],e[3*s+1]=e[3*i+1],e[3*s+2]=e[3*i+2],r[3*s]=r[3*i],r[3*s+1]=r[3*i+1],r[3*s+2]=r[3*i+2],s++)}return s}function d(e){switch(e){default:case null:case"none":return e=>e;case"low-four-bit":return e=>15&e;case"high-four-bit":return e=>(240&e)>>4;case"absolute-value":return e=>Math.abs(e);case"modulo-ten":return e=>e%10}}function p(e){let r=0;for(const o of e||[])r|=1<<o;return r}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointGraphic: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let e=class extends _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(r){super(r),this.pointCloudMetadata=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0,clonable:"reference"})],e.prototype,"pointCloudMetadata",void 0),e=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.i3s.PointGraphic")],e);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointHighlights: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_Object3DStateID_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3DStateID.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateID.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class h{constructor(e){this._context=e,this._highlights=new Set}get empty(){return 0===this._highlights.size}destroy(){this._highlights=null}add(t){const i=new s(t);return this._highlights.add(i),this._enableSet(i),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.makeHandle)((()=>this._removeSet(i)))}_removeSet(e){this._disableSet(e),this._highlights.delete(e)}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._highlights.forEach((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._highlights.forEach((t=>this._disableSetForNode(t,e)))}removeAll(){this._highlights.forEach((e=>this._disableSet(e)))}}class s{constructor(e){this.id=new _webgl_engine_lib_Object3DStateID_js__WEBPACK_IMPORTED_MODULE_2__.Object3DStateID(_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_1__.Object3DState.Highlight),this.ids=new Map,this.enabled=!1;for(const t of e)null!=t&&this._add(t.nodeId,t.pointId)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointRenderer: () => (/* binding */ Y),
/* harmony export */   PointRendererNode: () => (/* binding */ J),
/* harmony export */   isInstanceOfNode: () => (/* binding */ K)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "./node_modules/@arcgis/core/chunks/vec4.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _Intersector_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Intersector.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/Intersector.js");
/* harmony import */ var _PointHighlights_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./PointHighlights.js */ "./node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js");
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../support/orientedBoundingBox.js */ "./node_modules/@arcgis/core/views/3d/support/orientedBoundingBox.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../webgl-engine/effects/RenderPlugin.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js");
/* harmony import */ var _webgl_engine_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../webgl-engine/lib/DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../webgl-engine/lib/Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js");
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _webgl_engine_lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../chunks/PointRenderer.glsl.js */ "./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js");
/* harmony import */ var _webgl_engine_shaders_PointRendererTechnique_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../webgl-engine/shaders/PointRendererTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js");
/* harmony import */ var _webgl_engine_shaders_PointRendererTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const Q={positions:[new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_30__.VertexElementDescriptor(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.POSITION,3,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.DataType.FLOAT,0,12)],colors:[new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_30__.VertexElementDescriptor(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_24__.VertexAttribute.COLOR,3,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.DataType.UNSIGNED_BYTE,0,3,!0)]};let Y=class extends _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_18__.SyncPrepareRenderPlugin{constructor(e){super(e),this.type=_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.IntersectorType.PCL,this.isGround=!1,this._passParameters=new _chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_25__.P,this._highlights=new _PointHighlights_js__WEBPACK_IMPORTED_MODULE_15__.PointHighlights({forEachNode:e=>this.forEachNode(e),addHighlight:(e,s,t)=>this._addHighlight(e,s,t),removeHighlight:(e,s)=>this._removeHighlight(e,s)}),this.produces=new Map([[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.OPAQUE_MATERIAL,e=>e!==_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Highlight||!this._highlights.empty]]),this.layerUid="",this._slicePlaneEnabled=!1,this._techniqueConfig=new _webgl_engine_shaders_PointRendererTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_27__.PointRendererTechniqueConfiguration,this._nodes=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_2__["default"]}initializeRenderContext(e){this._context=e,e.requestRender()}uninitializeRenderContext(){}intersect(e,s,t,i){const r=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),f=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),P=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),b=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)(),w=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_12__.create)(),A=e.camera.perScreenPixelRatio/2,I=e.camera.near;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.f)(f,i,t);const v=1/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.l)(f);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.i)(f,f,v),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.E)(P,f),(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_10__.s)(w,f[0],f[1],f[2],-(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.j)(f,t));const F=new ie,C=new ie,N=new Array,T=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.create)(),L=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.create)(this._passParameters.clipBox);(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.offset)(L,-t[0],-t[1],-t[2],L),this._nodes.forAll((o=>{const a=o.splatSize*this._passParameters.scaleFactor;let l=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_16__.minimumDistancePlane)(o.obb,w),u=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_16__.maximumDistancePlane)(o.obb,w);l-=Z(a,l+I,this._passParameters,A,o.isLeaf),u-=Z(a,u+I,this._passParameters,A,o.isLeaf);const d=u<0,p=null!=F.dist&&null!=C.dist&&F.dist<l*v&&C.dist>u*v;if(d||p)return;const S=X(a,u+I,this._passParameters,A,o.isLeaf);if(!(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_16__.intersectLine)(o.obb,t,f,S))return;const x=S*S;(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_16__.toAaBoundingBox)(o.obb,T),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.offset)(T,-t[0],-t[1],-t[2],T);const z=!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.contains)(L,T);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.f)(b,o.origin,t);const E=o.coordinates.length/3;for(let n=0;n<E;n++){if(r[0]=b[0]+o.coordinates[3*n],r[1]=b[1]+o.coordinates[3*n+1],r[2]=b[2]+o.coordinates[3*n+2],z&&!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.containsPoint)(L,r))continue;const l=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.j)(r,f),u=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_8__.m)(r)-l*l;if(u>x)continue;let d=l+I;const p=Z(a,d,this._passParameters,A,o.isLeaf);if(l-p<0)continue;d-=p;const m=X(a,d,this._passParameters,A,o.isLeaf);if(u>m*m)continue;const g=(l-p)*v,S=e=>(e.point=$(o,n,e.point),e.dist=g,e.normal=P,e.node=o,e.pointId=n,e.layerUid=this.layerUid,e);if((null==F.dist||g<F.dist)&&(null==s||s(t,i,g))&&S(F),e.options.store!==_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.StoreResults.MIN&&(null==C.dist||g>C.dist)&&(null==s||s(t,i,g))&&S(C),e.options.store===_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.StoreResults.ALL&&(null==s||s(t,i,g))){const e=new ie;N.push(S(e))}}}));const H=e=>{const{layerUid:s,node:t,pointId:i}=e;return new _Intersector_js__WEBPACK_IMPORTED_MODULE_14__.PclTarget(e.point,s,i,(()=>this.createGraphic(t,i,e.point)))},M=(e,s)=>{const t=H(s);e.set(this.type,t,s.dist,s.normal)};if(re(F)){const s=e.results.min;(null==s.dist||F.dist<s.dist)&&M(s,F)}if(re(C)&&e.options.store!==_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.StoreResults.MIN){const s=e.results.max;(null==s.dist||C.dist>s.dist)&&M(s,C)}if(e.options.store===_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.StoreResults.ALL){const s=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_13__.fromPoints)(t,i);for(const t of N){const i=(0,_webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_20__.newIntersectorResult)(s);M(i,t),e.results.all.push(i)}}}prepareTechnique(e){return 0===this._nodes.length||e.output!==_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Color&&e.output!==_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Depth&&e.output!==_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Highlight?null:(this._nodes.forAll((s=>{null==s.vao&&this._initNode(e,s)})),this._techniqueConfig.drawScreenSize=this._passParameters.drawScreenSpace,this._techniqueConfig.useFixedSizes=this._passParameters.useFixedSizes,this._techniqueConfig.hasSlicePlane=this._slicePlaneEnabled,this._techniqueConfig.hasOccludees=e.bindParameters.hasOccludees,this._techniqueConfig.clippingEnabled=this._clippingEnabled,this._techniqueConfig.output=e.output,this._context.techniqueRepository.releaseAndAcquire(_webgl_engine_shaders_PointRendererTechnique_js__WEBPACK_IMPORTED_MODULE_26__.PointRendererTechnique,this._techniqueConfig,this._technique))}renderNode(e,s){const t=e.rctx,i=t.bindTechnique(s,this._passParameters,e.bindParameters),r=e.output===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_17__.ShaderOutput.Highlight;this._nodes.forAll((s=>{0===s.coordinates.length||r&&!s.highlights||(i.bindDraw(s,e.bindParameters,this._passParameters),t.bindVAO(s.vao),r?this._renderHighlightFragments(t,s):t.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.PrimitiveType.POINTS,0,s.coordinates.length/3))}))}_renderHighlightFragments(e,s){const t=s.highlights;if(null==t)return;let i=t[0].component,r=i+1;for(let o=1;o<t.length;o++){const s=t[o].component;if(s!==r){const t=r-i;t>0&&e.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.PrimitiveType.POINTS,i,t),i=s}r=s+1}const n=r-i;n>0&&e.drawArrays(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.PrimitiveType.POINTS,i,n)}set useFixedSizes(e){this._passParameters.useFixedSizes!==e&&(this._passParameters.useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._passParameters.useFixedSizes}set scaleFactor(e){this._passParameters.scaleFactor!==e&&(this._passParameters.scaleFactor=e,this._requestRender())}get scaleFactor(){return this._passParameters.scaleFactor}set minSizePx(e){this._passParameters.minSizePx!==e&&(this._passParameters.minSizePx=e,this._requestRender())}get minSizePx(){return this._passParameters.minSizePx}set useRealWorldSymbolSizes(e){this._passParameters.useRealWorldSymbolSizes!==e&&(this._passParameters.useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._passParameters.useRealWorldSymbolSizes}set size(e){this._passParameters.size!==e&&(this._passParameters.size=e,this._requestRender())}get size(){return this._passParameters.size}set sizePx(e){this._passParameters.sizePx!==e&&(this._passParameters.sizePx=e,this._requestRender())}get sizePx(){return this._passParameters.sizePx}set clippingBox(e){(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.set)(this._passParameters.clipBox,e||_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.positiveInfinity)}get _clippingEnabled(){return!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.equals)(this._passParameters.clipBox,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.positiveInfinity,((e,s)=>e===s))}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this._nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let t=null;return this._nodes.filterInPlace((i=>i.id!==e||(t=i,i.vao=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(i.vao),this._highlights.nodeRemoved(i),!1))),this._requestRender(),t}forEachNode(e){this._nodes.forAll(e)}removeAll(){this._nodes.forAll((e=>e.vao=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(e.vao))),this._highlights.removeAll(),this._nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}_addHighlight(e,s,t){e.highlights=se(e.highlights,s,t),this._requestRender()}_removeHighlight(e,s){e.highlights=te(e.highlights,s),this._requestRender()}_initNode(e,s){const t=e.rctx;s.vao=new _webgl_engine_lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_23__.VertexArrayObject(t,_webgl_engine_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_19__.Default3D,Q,{positions:_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_28__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.Usage.STATIC_DRAW,s.coordinates),colors:_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_28__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_29__.Usage.STATIC_DRAW,s.rgb)})}_requestRender(){this._context&&this._context.requestRender()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],Y.prototype,"createGraphic",void 0),Y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.i3s.PointRenderer")],Y);class J extends _chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_25__.a{constructor(e,s,t,i,r,n,o,a,l=null,h=null){super(t,r,s),this.id=e,this.obb=i,this.coordinates=n,this.rgb=o,this.attributes=a,this.pointIdFilterMap=l,this.highlights=h}}function K(e){return e.hasOwnProperty("splatSize")}function X(e,s,t,i,r){if(t.drawScreenSpace)return t.fixedSize*s*i;const n=(0,_chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_25__.g)(r)*s*i;return t.useFixedSizes?Math.min(t.fixedSize/2,n):t.screenMinSize>0?Math.min(Math.max(t.screenMinSize*s*i,e/2),n):Math.min(e/2,n)}function Z(e,s,t,i,r){return t.drawScreenSpace?0:X(e,s,t,i,r)}function $(e,s,t){return null==t&&(t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.c)()),t[0]=e.origin[0]+e.coordinates[3*s],t[1]=e.origin[1]+e.coordinates[3*s+1],t[2]=e.origin[2]+e.coordinates[3*s+2],t}function ee(e){return null!=e.component?e.component:-1}function se(e,s,t){null==e&&(e=[]);const i={component:s,id:t};e.push(i);const r=ee(i);let n=e.length-1;for(;n>0&&r<ee(e[n-1]);)[e[n-1],e[n]]=[e[n],e[n-1]],--n;return e}function te(e,s){if(null==e)return e;const t=e.filter((e=>e.id!==s));return 0===t.length?null:t}class ie{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=""}}function re(e){return null!=e.dist&&null!=e.point&&null!=e.pointId&&null!=e.node}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PopupSceneLayerView: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../layers/support/popupUtils.js */ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:s}=this,{popupEnabled:t}=s;if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("scenelayerview3d:fetchPopupFeatures","Popups are disabled",{layer:s});if(!(0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_8__.getFetchPopupTemplate)(s,e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("scenelayerview3d:fetchPopupFeatures","Layer does not define a popup template",{layer:s})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){this._validateFetchPopupFeatures(r);const s=null!=r?r.clientGraphics:null;if(!s||0===s.length)return[];const i="scene"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let c=[];"fieldsIndex"in this.layer&&(c=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_7__.unpackFieldNames)(this.layer.fieldsIndex,await (0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_8__.getRequiredFields)(i,(0,_layers_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_8__.getFetchPopupTemplate)(this.layer,r)))),await this.prepareFetchPopupFeatures(c);const l=new Set,n=[],u=[];for(const t of s)(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_7__.populateMissingFields)(c,t,l)?u.push(t):n.push(t);return 0===u.length?n:this.whenGraphicAttributes(u,[...l]).catch((()=>u)).then((e=>n.concat(e)))}};return c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.support.PopupSceneLayerView")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointRendererTechnique: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/Program.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/PointRenderer.glsl.js */ "./node_modules/@arcgis/core/chunks/PointRenderer.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class m extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(e,r,i){super(e,r,i)}initializeProgram(e){return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_3__.Program(e.rctx,m.shader.get().build(this.configuration),_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_2__.Default3D)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.makePipelineState)({depthTest:{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.CompareFunction.LESS},depthWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.defaultDepthWriteParams,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.defaultColorWriteParams,stencilWrite:this.configuration.hasOccludees?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_4__.stencilWriteMaskOn:null,stencilTest:this.configuration.hasOccludees?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_4__.stencilBaseAllZerosParams:null})}}m.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_PointRenderer_glsl_js__WEBPACK_IMPORTED_MODULE_5__.b,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_PointRenderer_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./PointRenderer.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRenderer.glsl.js"))));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointRendererTechniqueConfiguration: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.output=_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color,this.hasSlicePlane=!1,this.drawScreenSize=!1,this.useFixedSizes=!1,this.hasOccludees=!1,this.clippingEnabled=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({count:_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.COUNT})],r.prototype,"output",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()],r.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()],r.prototype,"drawScreenSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()],r.prototype,"useFixedSizes",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()],r.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)()],r.prototype,"clippingEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.parameter)({constValue:!0})],r.prototype,"hasSliceInVertexProgram",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__.IdentifiableMixin)((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"view",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.layers.LayerView")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/support/popupUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/support/popupUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFetchPopupTemplate: () => (/* binding */ p),
/* harmony export */   getRequiredFields: () => (/* binding */ n),
/* harmony export */   hasPopupTemplate: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes("*"))return["*"];const o=t?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.getFeatureEditFields)(n):[],f=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__.fixFields)(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfbGF5ZXJzX1BvaW50Q2xvdWRMYXllclZpZXczRF9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUM2bkQsZ0JBQWdCLGtHQUFDLENBQUMsY0FBYyxpQ0FBaUMsMEVBQUMsQ0FBQyxnRkFBQyxzSEFBc0gsZ0JBQWdCLGtEQUFrRCxvQkFBb0IsMkNBQTJDLHNCQUFzQiwwREFBMEQsZ0JBQWdCLDBHQUFDLENBQUMsbUJBQW1CLHVEQUF1RCxjQUFjLFlBQVksc0dBQUMsY0FBYyxtR0FBQyxvQkFBb0IsbUdBQUMsb0JBQW9CLG1HQUFDLFlBQVksb0JBQW9CLEdBQUcsaUJBQWlCLCtGQUFDLHFCQUFxQiwyRkFBQyxtQ0FBbUMsMkZBQUMsa0NBQWtDLGdIQUFDLHFCQUFxQiwyQ0FBQyx1QkFBdUIsMkNBQUMsb0JBQW9CLGdIQUFDLGdEQUFnRCw4R0FBQyw4QkFBOEIsMkNBQUMsNEdBQTRHLDhHQUFDLHNCQUFzQiwyQ0FBQyw4REFBOEQsOEdBQUMsd0JBQXdCLDJDQUFDLGtJQUFrSSw4R0FBQyxxQkFBcUIsMkNBQUMscUZBQXFGLDhHQUFDLHFCQUFxQiwyQ0FBQyxzSEFBc0gsZ0VBQUMsRUFBRSxnRUFBQyxFQUFFLGdFQUFDLHFDQUFxQyxnRUFBQyxDQUFDLGdFQUFDLENBQUMsZ0VBQUMsT0FBTyxnSEFBQyxJQUFJLDZIQUFDLGdEQUFnRCxtR0FBQyx1REFBdUQsOEZBQUM7QUFDM3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPLGlCQUFpQiw4RkFBQztBQUN6QiwwQ0FBMEMsRUFBRSw4RkFBQztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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cUNBQXFDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSx5QkFBeUIsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHdDQUF3Qyx1REFBQyxFQUFFLHNGQUFDLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLGlDQUFpQyx1REFBQyxFQUFFLHVGQUFDLG9DQUFvQyxVQUErQjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSno0RTtBQUNBO0FBQ0E7QUFDQTtBQUM0RixzQ0FBc0Msb0JBQW9CLGtEQUFrRCxzQkFBc0IsSUFBSSw4REFBOEQsR0FBRywrQkFBK0IsVUFBVSxtRkFBQyxTQUFTLHdFQUFDLDRCQUE0QixvSkFBb0osTUFBTSxXQUFXLEdBQUcsdURBQXVELEtBQUssZ0JBQWdCLHdJQUF3SSxnQkFBZ0Isa0JBQWtCLDhCQUE4QixFQUFrRiIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9Qb2ludFJlbmRlcmVyLmdsc2wuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL0xheWVyVmlldzNELmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9Qb2ludENsb3VkTGF5ZXJWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL1BvaW50Q2xvdWRXb3JrZXJIYW5kbGUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9Mb0RVdGlsLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvUGFnZWROb2RlSW5kZXguanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9Qb2ludENsb3VkUmVuZGVyZXJVdGlsLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9pM3MvUG9pbnRDbG91ZFdvcmtlclV0aWwuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9Qb2ludEdyYXBoaWMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9Qb2ludEhpZ2hsaWdodHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2kzcy9Qb2ludFJlbmRlcmVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L1BvcHVwU2NlbmVMYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvd2ViZ2wtZW5naW5lL3NoYWRlcnMvUG9pbnRSZW5kZXJlclRlY2huaXF1ZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvc2hhZGVycy9Qb2ludFJlbmRlcmVyVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9sYXllcnMvTGF5ZXJWaWV3LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9zdXBwb3J0L3BvcHVwVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtudW1iZXJNYXhGbG9hdDMyIGFzIGV9ZnJvbVwiLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7bSBhcyBpLGQgYXMgb31mcm9tXCIuL21hdDQuanNcIjtpbXBvcnR7YSBhcyByfWZyb21cIi4vbWF0NGY2NC5qc1wiO2ltcG9ydHtzIGFzIHR9ZnJvbVwiLi92ZWMyLmpzXCI7aW1wb3J0e2F9ZnJvbVwiLi92ZWMyZjY0LmpzXCI7aW1wb3J0e3N9ZnJvbVwiLi92ZWMzLmpzXCI7aW1wb3J0e2MgYXMgbn1mcm9tXCIuL3ZlYzNmNjQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGMscG9zaXRpdmVJbmZpbml0eSBhcyBsfWZyb21cIi4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHthZGROZWFyRmFyIGFzIHAsYWRkQ2FsY3VsYXRlTGluZWFyRGVwdGggYXMgZH1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L0ZvcndhcmRMaW5lYXJEZXB0aC5nbHNsLmpzXCI7aW1wb3J0e1NoYWRlck91dHB1dCBhcyBtfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvU2hhZGVyT3V0cHV0LmpzXCI7aW1wb3J0e1NsaWNlUGxhbmVQYXJhbWV0ZXJzIGFzIGYsU2xpY2VEcmF3IGFzIGd9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS9TbGljZS5nbHNsLmpzXCI7aW1wb3J0e091dHB1dEhpZ2hsaWdodCBhcyB1fWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvb3V0cHV0L091dHB1dEhpZ2hsaWdodC5nbHNsLmpzXCI7aW1wb3J0e1JnYmFGbG9hdEVuY29kaW5nIGFzIFN9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTGlicmFyeS91dGlsL1JnYmFGbG9hdEVuY29kaW5nLmdsc2wuanNcIjtpbXBvcnR7RmxvYXQyRHJhd1VuaWZvcm0gYXMgaH1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL0Zsb2F0MkRyYXdVbmlmb3JtLmpzXCI7aW1wb3J0e0Zsb2F0MlBhc3NVbmlmb3JtIGFzIHZ9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9GbG9hdDJQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtGbG9hdDNEcmF3VW5pZm9ybSBhcyB3fWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvRmxvYXQzRHJhd1VuaWZvcm0uanNcIjtpbXBvcnR7Tm9QYXJhbWV0ZXJzIGFzIHgsZ2xzbCBhcyB6fWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtNYXRyaXg0RHJhd1VuaWZvcm0gYXMgYn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL01hdHJpeDREcmF3VW5pZm9ybS5qc1wiO2ltcG9ydHtNYXRyaXg0UGFzc1VuaWZvcm0gYXMgTX1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL01hdHJpeDRQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtTaGFkZXJCdWlsZGVyIGFzIGp9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9TaGFkZXJCdWlsZGVyLmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyBQfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9saWIvVmVydGV4QXR0cmlidXRlLmpzXCI7Y2xhc3MgeSBleHRlbmRzIHh7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY2xpcEJveD1jKGwpLHRoaXMudXNlRml4ZWRTaXplcz0hMSx0aGlzLnVzZVJlYWxXb3JsZFN5bWJvbFNpemVzPSExLHRoaXMuc2NhbGVGYWN0b3I9MSx0aGlzLm1pblNpemVQeD0wLHRoaXMuc2l6ZT0wLHRoaXMuc2l6ZVB4PTB9Z2V0IGZpeGVkU2l6ZSgpe3JldHVybiB0aGlzLmRyYXdTY3JlZW5TcGFjZT90aGlzLnNpemVQeDp0aGlzLnNpemV9Z2V0IHNjcmVlbk1pblNpemUoKXtyZXR1cm4gdGhpcy51c2VGaXhlZFNpemVzPzA6dGhpcy5taW5TaXplUHh9Z2V0IGRyYXdTY3JlZW5TcGFjZSgpe3JldHVybiB0aGlzLnVzZUZpeGVkU2l6ZXMmJiF0aGlzLnVzZVJlYWxXb3JsZFN5bWJvbFNpemVzfX1jbGFzcyBPIGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLGksbyl7c3VwZXIoZSksdGhpcy5vcmlnaW49ZSx0aGlzLmlzTGVhZj1pLHRoaXMuc3BsYXRTaXplPW99fWZ1bmN0aW9uIFIocil7Y29uc3QgYT1uZXcgaixuPXIub3V0cHV0PT09bS5Db2xvcixjPXIub3V0cHV0PT09bS5EZXB0aCxsPXIub3V0cHV0PT09bS5IaWdobGlnaHQse3ZlcnRleDpmLGZyYWdtZW50Onh9PWE7cmV0dXJuIGEuaW5jbHVkZShnLHIpLGEuYXR0cmlidXRlcy5hZGQoUC5QT1NJVElPTixcInZlYzNcIiksYS5hdHRyaWJ1dGVzLmFkZChQLkNPTE9SLFwidmVjM1wiKSxmLnVuaWZvcm1zLmFkZChuZXcgYihcIm1vZGVsVmlld1wiLCgoZSxyKT0+aShCLHIuY2FtZXJhLnZpZXdNYXRyaXgsbyhCLGUub3JpZ2luKSkpKSxuZXcgTShcInByb2pcIiwoKGUsaSk9PmkuY2FtZXJhLnByb2plY3Rpb25NYXRyaXgpKSxuZXcgaChcInNjcmVlbk1pbk1heFNpemVcIiwoKGUsaSxvKT0+dChMLG8udXNlRml4ZWRTaXplcz8wOm8ubWluU2l6ZVB4KmkuY2FtZXJhLnBpeGVsUmF0aW8sRihlLmlzTGVhZikqaS5jYW1lcmEucGl4ZWxSYXRpbykpKSxyLnVzZUZpeGVkU2l6ZXM/bmV3IHYoXCJwb2ludFNjYWxlXCIsKChlLGkpPT50KEwsZS5maXhlZFNpemUqaS5jYW1lcmEucGl4ZWxSYXRpbyxpLmNhbWVyYS5mdWxsSGVpZ2h0KSkpOm5ldyBoKFwicG9pbnRTY2FsZVwiLCgoZSxpLG8pPT50KEwsZS5zcGxhdFNpemUqby5zY2FsZUZhY3RvcippLmNhbWVyYS5waXhlbFJhdGlvLGkuY2FtZXJhLmZ1bGxIZWlnaHQvaS5jYW1lcmEucGl4ZWxSYXRpbykpKSksci5jbGlwcGluZ0VuYWJsZWQ/Zi51bmlmb3Jtcy5hZGQobmV3IHcoXCJjbGlwTWluXCIsKChlLGksbyk9PnMoXyxvLmNsaXBCb3hbMF0tZS5vcmlnaW5bMF0sby5jbGlwQm94WzFdLWUub3JpZ2luWzFdLG8uY2xpcEJveFsyXS1lLm9yaWdpblsyXSkpKSxuZXcgdyhcImNsaXBNYXhcIiwoKGUsaSxvKT0+cyhfLG8uY2xpcEJveFszXS1lLm9yaWdpblswXSxvLmNsaXBCb3hbNF0tZS5vcmlnaW5bMV0sby5jbGlwQm94WzVdLWUub3JpZ2luWzJdKSkpKTooZi5jb25zdGFudHMuYWRkKFwiY2xpcE1pblwiLFwidmVjM1wiLFstZSwtZSwtZV0pLGYuY29uc3RhbnRzLmFkZChcImNsaXBNYXhcIixcInZlYzNcIixbZSxlLGVdKSksYz8ocChhKSxkKGEpLGEudmFyeWluZ3MuYWRkKFwiZGVwdGhcIixcImZsb2F0XCIpKTpyLm91dHB1dCE9PW0uSGlnaGxpZ2h0JiZhLnZhcnlpbmdzLmFkZChcInZDb2xvclwiLFwidmVjM1wiKSxmLmNvZGUuYWRkKHpgXG4gICAgdm9pZCBtYWluKHZvaWQpIHtcbiAgICAgIC8vIE1vdmUgY2xpcHBlZCBwb2ludHMgb3V0c2lkZSBvZiBjbGlwc3BhY2VcbiAgICAgIGlmIChwb3NpdGlvbi54IDwgY2xpcE1pbi54IHx8IHBvc2l0aW9uLnkgPCBjbGlwTWluLnkgfHwgcG9zaXRpb24ueiA8IGNsaXBNaW4ueiB8fFxuICAgICAgICBwb3NpdGlvbi54ID4gY2xpcE1heC54IHx8IHBvc2l0aW9uLnkgPiBjbGlwTWF4LnkgfHwgcG9zaXRpb24ueiA+IGNsaXBNYXgueikge1xuICAgICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoMC4wLDAuMCwwLjAsMi4wKTtcbiAgICAgICAgZ2xfUG9pbnRTaXplID0gMC4wO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWplY3RCeVNsaWNlKHBvc2l0aW9uKSkge1xuICAgICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoMC4wLDAuMCwwLjAsMi4wKTtcbiAgICAgICAgZ2xfUG9pbnRTaXplID0gMC4wO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFBvc2l0aW9uIGluIGNhbWVyYSBzcGFjZVxuICAgICAgdmVjNCBjYW1lcmEgPSBtb2RlbFZpZXcgKiB2ZWM0KHBvc2l0aW9uLCAxLjApO1xuXG4gICAgICBmbG9hdCBwb2ludFNpemUgPSBwb2ludFNjYWxlLng7XG4gICAgICB2ZWM0IHBvc2l0aW9uID0gcHJvaiAqIGNhbWVyYTtcbiAgICAgJHtyLmRyYXdTY3JlZW5TaXplP3pgXG4gICAgICBmbG9hdCBjbGFtcGVkU2NyZWVuU2l6ZSA9IHBvaW50U2l6ZTtgOnpgXG4gICAgICBmbG9hdCBwb2ludFJhZGl1cyA9IDAuNSAqIHBvaW50U2l6ZTtcbiAgICAgIHZlYzQgY2FtZXJhT2Zmc2V0ID0gY2FtZXJhICsgdmVjNCgwLjAsIHBvaW50UmFkaXVzLCAwLjAsIDAuMCk7XG4gICAgICB2ZWM0IHBvc2l0aW9uT2Zmc2V0ID0gcHJvaiAqIGNhbWVyYU9mZnNldDtcbiAgICAgIGZsb2F0IHJhZGl1cyA9IGFicyhwb3NpdGlvbk9mZnNldC55IC0gcG9zaXRpb24ueSk7XG4gICAgICBmbG9hdCB2aWV3SGVpZ2h0ID0gcG9pbnRTY2FsZS55O1xuICAgICAgLy8gc2NyZWVuIGRpYW1ldGVyID0gKDIgKiByIC8gdykgKiAoaCAvIDIpXG4gICAgICBmbG9hdCBzY3JlZW5Qb2ludFNpemUgPSAocmFkaXVzIC8gcG9zaXRpb24udykgKiB2aWV3SGVpZ2h0O1xuICAgICAgZmxvYXQgY2xhbXBlZFNjcmVlblNpemUgPSBjbGFtcChzY3JlZW5Qb2ludFNpemUsIHNjcmVlbk1pbk1heFNpemUueCwgc2NyZWVuTWluTWF4U2l6ZS55KTtcbiAgICAgIC8vIFNoaWZ0IHRvd2FyZHMgY2FtZXJhLCB0byBtb3ZlIHJlbmRlcmVkIHBvaW50IG91dCBvZiB0ZXJyYWluIGkuZS4gdG9cbiAgICAgIC8vIHRoZSBjYW1lcmEtZmFjaW5nIGVuZCBvZiB0aGUgdmlydHVhbCBwb2ludCB3aGVuIGNvbnNpZGVyaW5nIGl0IGFzIGFcbiAgICAgIC8vIDNEIHNwaGVyZS5cbiAgICAgIGNhbWVyYS54eXogLT0gbm9ybWFsaXplKGNhbWVyYS54eXopICogcG9pbnRSYWRpdXMgKiBjbGFtcGVkU2NyZWVuU2l6ZSAvIHNjcmVlblBvaW50U2l6ZTtcbiAgICAgIHBvc2l0aW9uID0gcHJvaiAqIGNhbWVyYTtgfVxuXG4gICAgIGdsX1BvaW50U2l6ZSA9IGNsYW1wZWRTY3JlZW5TaXplO1xuICAgICBnbF9Qb3NpdGlvbiA9IHBvc2l0aW9uO1xuXG4gICAgICR7Yz96YGRlcHRoID0gY2FsY3VsYXRlTGluZWFyRGVwdGgobmVhckZhciwgY2FtZXJhLnopO2A6XCJcIn1cbiAgICAgJHtuP3pgdkNvbG9yID0gY29sb3I7YDpcIlwifVxuICAgIH1cbiAgYCkseC5pbmNsdWRlKFMsciksbCYmYS5pbmNsdWRlKHUscikseC5jb2RlLmFkZCh6YFxuICAgIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgICB2ZWMyIHZPZmZzZXQgPSBnbF9Qb2ludENvb3JkIC0gdmVjMigwLjUsIDAuNSk7XG4gICAgICBmbG9hdCByMiA9IGRvdCh2T2Zmc2V0LCB2T2Zmc2V0KTtcblxuICAgICAgaWYgKHIyID4gMC4yNSkge1xuICAgICAgICBkaXNjYXJkO1xuICAgICAgfVxuICAgICAgJHtjP3pgZnJhZ0NvbG9yID0gZmxvYXQycmdiYShkZXB0aCk7YDpcIlwifVxuICAgICAgJHtsP3pgb3V0cHV0SGlnaGxpZ2h0KCk7YDpcIlwifVxuICAgICAgJHtuP3pgZnJhZ0NvbG9yID0gdmVjNCh2Q29sb3IsIDEuMCk7YDpcIlwifVxuICAgIH1cbiAgYCksYX1mdW5jdGlvbiBGKGUpe3JldHVybiBlPzI1Njo2NH1jb25zdCBCPXIoKSxfPW4oKSxMPWEoKSxDPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxQb2ludFJlbmRlcmVyRHJhd1BhcmFtZXRlcnM6TyxQb2ludFJlbmRlcmVyUGFzc1BhcmFtZXRlcnM6eSxidWlsZDpSLGdldE1heFBvaW50U2l6ZVNjcmVlbnNwYWNlOkZ9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKTtleHBvcnR7eSBhcyBQLE8gYXMgYSxDIGFzIGIsUiBhcyBjLEYgYXMgZ307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgc31mcm9tXCIuLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2hlbk9uY2UgYXMgcn1mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtzdXBwb3J0c0hlaWdodE1vZGVsSW5mbyBhcyBhLHJlamVjdExheWVyRXJyb3IgYXMgbH1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2hlaWdodE1vZGVsSW5mb1V0aWxzLmpzXCI7Y29uc3Qgbj1uPT57bGV0IGM9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnNsaWNlUGxhbmVFbmFibGVkPSExLHRoaXMuc3VwcG9ydHNIZWlnaHRVbml0Q29udmVyc2lvbj0hMX1wb3N0c2NyaXB0KGUpe3N1cGVyLnBvc3RzY3JpcHQoZSksYSh0aGlzLmxheWVyKSYmdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMuX3ZhbGlkYXRlSGVpZ2h0TW9kZWxJbmZvKCkpfWFzeW5jIF92YWxpZGF0ZUhlaWdodE1vZGVsSW5mbygpe2NvbnN0IGU9bmV3IEFib3J0Q29udHJvbGxlcixvPWUuc2lnbmFsO3RoaXMuYWRkSGFuZGxlcyhzKCgoKT0+ZS5hYm9ydCgpKSkpLGF3YWl0IHIoKCgpPT50aGlzLnZpZXcuZGVmYXVsdHNGcm9tTWFwPy5oZWlnaHRNb2RlbEluZm9SZWFkeSksbyksdChvKTtjb25zdCBpPWwodGhpcy5sYXllcix0aGlzLnZpZXcuaGVpZ2h0TW9kZWxJbmZvLHRoaXMuc3VwcG9ydHNIZWlnaHRVbml0Q29udmVyc2lvbik7aWYoaSl0aHJvdyBpfWNhblJlc3VtZSgpe2NvbnN0IGU9dGhpcy5sYXllciYmXCJlZmZlY3RpdmVTY2FsZVJhbmdlXCJpbiB0aGlzLmxheWVyP3RoaXMubGF5ZXIuZWZmZWN0aXZlU2NhbGVSYW5nZTpudWxsO3JldHVybiBzdXBlci5jYW5SZXN1bWUoKSYmKCFlPy5taW5TY2FsZXx8IWUubWF4U2NhbGV8fGUubWluU2NhbGU+PWUubWF4U2NhbGUpfWdldFN1c3BlbmRJbmZvKCl7Y29uc3QgZT1zdXBlci5nZXRTdXNwZW5kSW5mbygpLHM9dGhpcy5sYXllciYmXCJlZmZlY3RpdmVTY2FsZVJhbmdlXCJpbiB0aGlzLmxheWVyP3RoaXMubGF5ZXIuZWZmZWN0aXZlU2NhbGVSYW5nZTpudWxsO3JldHVybiBzJiZzLm1pblNjYWxlJiZzLm1heFNjYWxlJiZzLm1pblNjYWxlPHMubWF4U2NhbGUmJihlLm91dHNpZGVTY2FsZVJhbmdlPSEwKSxlfX07cmV0dXJuIGUoW28oKV0sYy5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxlKFtvKCldLGMucHJvdG90eXBlLFwic2xpY2VQbGFuZUVuYWJsZWRcIix2b2lkIDApLGM9ZShbaShcImVzcmkudmlld3MuM2QubGF5ZXJzLkxheWVyVmlldzNEXCIpXSxjKSxjfTtleHBvcnR7biBhcyBMYXllclZpZXczRH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e2lzU29tZSBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtyZXN1bHQgYXMgaSxmb3JFYWNoIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9hc3luY1V0aWxzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIGEsYWJvcnRNYXliZSBhcyBkfWZyb21cIi4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIGwsYWxsU2V0dGxlZFZhbHVlcyBhcyBoLHRocm93SWZBYm9ydGVkIGFzIHV9ZnJvbVwiLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7aW5pdGlhbCBhcyBwLHdhdGNoIGFzIGMsc3luYyBhcyBffWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwdDJweCBhcyBtfWZyb21cIi4uLy4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnR7ZXN0aW1hdGVTaXplIGFzIGcsaXNBcnJheUJ1ZmZlciBhcyBmfWZyb21cIi4uLy4uLy4uL2NvcmUvdHlwZWRBcnJheVV0aWwuanNcIjtpbXBvcnR7Z2V0TWV0ZXJzUGVyVmVydGljYWxVbml0Rm9yU1IgYXMgeX1mcm9tXCIuLi8uLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBifWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgd31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2ogYXMgTixjIGFzIFB9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7YSBhcyB4fWZyb21cIi4uLy4uLy4uL2NodW5rcy92ZWMzZjMyLmpzXCI7aW1wb3J0e3Byb2plY3RCb3VuZGluZ1JlY3QgYXMgdn1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIFN9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e2NvbnRhaW5zUG9pbnQgYXMgQyxjcmVhdGUgYXMgQX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBJLGZyb21Ob3JtYWxBbmRPZmZzZXQgYXMga31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3BsYW5lLmpzXCI7aW1wb3J0e21ha2VEZWh5ZHJhdGVkUG9pbnQgYXMgUn1mcm9tXCIuLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZFBvaW50LmpzXCI7aW1wb3J0e0NvZGVkVmFsdWUgYXMgVn1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9Db2RlZFZhbHVlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCBqIGZyb21cIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0NvZGVkVmFsdWVEb21haW4uanNcIjtpbXBvcnRcIi4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0RvbWFpbi5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvSW5oZXJpdGVkRG9tYWluLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9SYW5nZURvbWFpbi5qc1wiO2ltcG9ydHt1bnBhY2tGaWVsZE5hbWVzIGFzIEx9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvZmllbGRVdGlscy5qc1wiO2ltcG9ydHtQcm9taXNlUXVldWUgYXMgUX1mcm9tXCIuLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9Qcm9taXNlUXVldWUuanNcIjtpbXBvcnR7Z2V0TWV0ZXJzUGVyVW5pdCBhcyBVfWZyb21cIi4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC91bml0Q29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0e0xheWVyVmlldzNEIGFzIER9ZnJvbVwiLi9MYXllclZpZXczRC5qc1wiO2ltcG9ydHtQb2ludENsb3VkV29ya2VySGFuZGxlIGFzIHp9ZnJvbVwiLi9Qb2ludENsb3VkV29ya2VySGFuZGxlLmpzXCI7aW1wb3J0e2NoZWNrUG9pbnRDbG91ZExheWVyVmFsaWQgYXMgVyxjaGVja1BvaW50Q2xvdWRMYXllckNvbXBhdGlibGVXaXRoVmlldyBhcyBGfWZyb21cIi4vaTNzL0kzU1V0aWwuanNcIjtpbXBvcnR7bm9kZURpZmYgYXMgRSxzb3J0RnJvbnRUb0JhY2sgYXMgTSxzcGxpdFdvcmtFbnRyaWVzIGFzIE99ZnJvbVwiLi9pM3MvTG9EVXRpbC5qc1wiO2ltcG9ydCBIIGZyb21cIi4vaTNzL1BhZ2VkTm9kZUluZGV4LmpzXCI7aW1wb3J0e2dldFNwbGF0U2l6ZUFsZ29yaXRobSBhcyBCLGdldEZpeGVkU2l6ZUFsZ29yaXRobSBhcyBxLGdldFJlbmRlcmVySW5mbyBhcyBHLGdldEZpbHRlckluZm8gYXMgVCxyZW5kZXJlclVzZXNGaXhlZFNpemVzIGFzICQsZ2V0QXR0cmlidXRlSW5mbyBhcyBKfWZyb21cIi4vaTNzL1BvaW50Q2xvdWRSZW5kZXJlclV0aWwuanNcIjtpbXBvcnR7Z2V0QXR0cmlidXRlVmFsdWVzIGFzIEsscmVhZEdlb21ldHJ5IGFzIFgsZWxldmF0aW9uRnJvbVBvc2l0aW9ucyBhcyBZfWZyb21cIi4vaTNzL1BvaW50Q2xvdWRXb3JrZXJVdGlsLmpzXCI7aW1wb3J0e1BvaW50R3JhcGhpYyBhcyBafWZyb21cIi4vaTNzL1BvaW50R3JhcGhpYy5qc1wiO2ltcG9ydHtQb2ludFJlbmRlcmVyIGFzIGVlLGlzSW5zdGFuY2VPZk5vZGUgYXMgdGUsUG9pbnRSZW5kZXJlck5vZGUgYXMgaWV9ZnJvbVwiLi9pM3MvUG9pbnRSZW5kZXJlci5qc1wiO2ltcG9ydHtQb3B1cFNjZW5lTGF5ZXJWaWV3IGFzIHJlfWZyb21cIi4vc3VwcG9ydC9Qb3B1cFNjZW5lTGF5ZXJWaWV3LmpzXCI7aW1wb3J0e3Byb2plY3RUb0JvdW5kaW5nQm94IGFzIHNlfWZyb21cIi4uL3N1cHBvcnQvZXh0ZW50VXRpbHMuanNcIjtpbXBvcnR7Q2xpZW50VHlwZSBhcyBvZX1mcm9tXCIuLi9zdXBwb3J0L2luZGV4LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBuZSxtaW5pbXVtRGlzdGFuY2VQbGFuZSBhcyBhZX1mcm9tXCIuLi9zdXBwb3J0L29yaWVudGVkQm91bmRpbmdCb3guanNcIjtpbXBvcnR7dXBkYXRpbmdQcm9ncmVzcyBhcyBkZX1mcm9tXCIuLi9zdXBwb3J0L3VwZGF0aW5nUHJvcGVydGllcy5qc1wiO2ltcG9ydHtSZW5kZXJTbG90IGFzIGxlfWZyb21cIi4uL3dlYmdsLWVuZ2luZS9saWIvUmVuZGVyU2xvdC5qc1wiO2ltcG9ydCBoZSBmcm9tXCIuLi8uLi9sYXllcnMvTGF5ZXJWaWV3LmpzXCI7aW1wb3J0e2lzU2NhbGVSYW5nZUFjdGl2ZSBhcyB1ZSxleHRyYWN0U2FmZVNjYWxlQm91bmRzIGFzIHBlLHNjYWxlQm91bmRzUHJlZGljYXRlIGFzIGNlfWZyb21cIi4uLy4uL3N1cHBvcnQvbGF5ZXJWaWV3VXRpbHMuanNcIjtpbXBvcnR7VGFza1ByaW9yaXR5IGFzIF9lfWZyb21cIi4uLy4uL3N1cHBvcnQvU2NoZWR1bGVyLmpzXCI7Y29uc3QgbWU9OCxnZT1JKCk7bGV0IGZlPWNsYXNzIGV4dGVuZHMocmUoRChoZSkpKXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPVwicG9pbnQtY2xvdWQtM2RcIix0aGlzLnNsb3RzPVtsZS5PUEFRVUVfTUFURVJJQUxdLHRoaXMubWF4aW11bVBvaW50Q291bnQ9NGU2LHRoaXMuc2xpY2VQbGFuZUVuYWJsZWQ9ITEsdGhpcy5fcmVuZGVyZXI9bnVsbCx0aGlzLl9yZW5kZXJlckFkZGVkPSExLHRoaXMuX3JlbmRlcmVkTm9kZXM9bmV3IFNldCx0aGlzLl9ub2RlU2NhbGVzPW5ldyBNYXAsdGhpcy5fdXBkYXRlVmlld05lZWRlZD0hMCx0aGlzLl9sb2RGYWN0b3I9MSx0aGlzLl9tYXhMb2dnZWRCb3hXYXJuaW5ncz01LHRoaXMuX3BhZ2VNdWx0aXBsaWVyPTEsdGhpcy5fbm9kZUxvYWRFcG9jaD0wLHRoaXMuX2luZGV4UXVldWU9W10sdGhpcy5fd29ya1F1ZXVlPW5ldyBBcnJheSx0aGlzLl9pZGxlUXVldWU9bmV3IFEsdGhpcy5faW5kZXhQYWdlc0xvYWRpbmc9bmV3IE1hcCx0aGlzLl9sb2FkaW5nTm9kZXM9bmV3IE1hcCx0aGlzLl9yZWNhbGNXb3JrPSEwLHRoaXMuX2xheWVySXNWaXNpYmxlPSExLHRoaXMuX2NvZGVkRG9tYWluUG9wdWxhdGlvblByb21pc2U9bnVsbCx0aGlzLl9jb2RlZERvbWFpblBvcHVsYXRpb25BYm9ydENvbnRyb2xsZXI9bnVsbCx0aGlzLl90b3RhbFdvcms9MCx0aGlzLl9pbmRleD1udWxsLHRoaXMuX2xvYWRpbmdJbml0Tm9kZVBhZ2U9ITEsdGhpcy5fbm9kZUlkQXJyYXk9W10sdGhpcy5pZ25vcmVzTWVtb3J5RmFjdG9yPSExfWdldCBiYXNlVXJsKCl7cmV0dXJuIHRoaXMubGF5ZXIucGFyc2VkVXJsLnBhdGh9Z2V0IHBvaW50U2NhbGUoKXtjb25zdCBlPUIodGhpcy5sYXllcj8ucmVuZGVyZXIpLHQ9MTtyZXR1cm4gbnVsbCE9ZT8uc2NhbGVGYWN0b3I/ZS5zY2FsZUZhY3Rvcjp0fWdldCB1c2VSZWFsV29ybGRTeW1ib2xTaXplcygpe2NvbnN0IGU9cSh0aGlzLmxheWVyPy5yZW5kZXJlciksdD0hMTtyZXR1cm4gbnVsbCE9ZT8udXNlUmVhbFdvcmxkU3ltYm9sU2l6ZXM/ZS51c2VSZWFsV29ybGRTeW1ib2xTaXplczp0fWdldCBwb2ludFNpemUoKXtjb25zdCBlPXEodGhpcy5sYXllcj8ucmVuZGVyZXIpLHQ9MDtyZXR1cm4gbnVsbCE9ZT8uc2l6ZT9lLnNpemU6dH1nZXQgaW52ZXJzZURlbnNpdHkoKXtjb25zdCBlPTk2O3JldHVybiB0aGlzLmxheWVyPy5yZW5kZXJlcj8xKmUvdGhpcy5sYXllci5yZW5kZXJlci5wb2ludHNQZXJJbmNoOjV9Z2V0IGF2YWlsYWJsZUZpZWxkcygpe2NvbnN0IGU9Ryh0aGlzLmxheWVyKSx0PW5ldyBTZXQ7ZS5wcmltYXJ5QXR0cmlidXRlJiZ0LmFkZChlLnByaW1hcnlBdHRyaWJ1dGUubmFtZSksZS5tb2R1bGF0aW9uQXR0cmlidXRlJiZ0LmFkZChlLm1vZHVsYXRpb25BdHRyaWJ1dGUubmFtZSk7Y29uc3QgaT1UKHRoaXMubGF5ZXIpO2lmKGkpZm9yKGNvbnN0IHIgb2YgaSlyLmF0dHJpYnV0ZUluZm8mJnQuYWRkKHIuYXR0cmlidXRlSW5mby5uYW1lKTtpZih0aGlzLmxheWVyLm91dEZpZWxkcylmb3IoY29uc3QgciBvZiBMKHRoaXMubGF5ZXIuZmllbGRzSW5kZXgsdGhpcy5sYXllci5vdXRGaWVsZHMpKXQuYWRkKHIpO3JldHVybiBBcnJheS5mcm9tKHQpfWdldCBfY2xpcHBpbmdCb3goKXtpZighdGhpcy52aWV3fHwhdGhpcy52aWV3LmNsaXBwaW5nQXJlYSlyZXR1cm4gbnVsbDtjb25zdCBlPVMoKSx0PXRoaXMudmlldy5yZW5kZXJTcGF0aWFsUmVmZXJlbmNlO3JldHVybiBzZSh0aGlzLnZpZXcuY2xpcHBpbmdBcmVhLGUsdCk/ZTpudWxsfWdldCBfZWxldmF0aW9uT2Zmc2V0KCl7Y29uc3QgZT10aGlzLmxheWVyJiZ0aGlzLmxheWVyLmVsZXZhdGlvbkluZm87aWYoZSYmXCJhYnNvbHV0ZS1oZWlnaHRcIj09PWUubW9kZSl7Y29uc3QgdD15KHRoaXMubGF5ZXIuc3BhdGlhbFJlZmVyZW5jZSksaT1VKGUudW5pdCk7cmV0dXJuKGUub2Zmc2V0Pz8wKSppL3R9cmV0dXJuIDB9aW5pdGlhbGl6ZSgpe2NvbnN0IGU9dGhpcy52aWV3LnJlc291cmNlQ29udHJvbGxlcix0PVBlKGUpO3RoaXMuX3dvcmtlcj1uZXcgeih0KSx0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UodGhpcy5fd29ya2VyLnByb21pc2UpLHRoaXMuX3RtcFBvaW50PVIoMCwwLDAsdGhpcy5sYXllci5zcGF0aWFsUmVmZXJlbmNlKSxXKHRoaXMubGF5ZXIpLEYodGhpcy5sYXllcix0aGlzLnZpZXcpLHRoaXMuX2luZGV4UmVxdWVzdGVyPWUuY3JlYXRlU3RyZWFtRGF0YVJlcXVlc3RlcihvZS5JM1NfSU5ERVgpLHRoaXMuX2RhdGFSZXF1ZXN0ZXI9ZS5jcmVhdGVTdHJlYW1EYXRhUmVxdWVzdGVyKG9lLkkzU19EQVRBKSx0aGlzLl9pbml0UmVuZGVyZXIoKTtjb25zdCBpPXRoaXMuX2luaXROb2RlUGFnZXMoKSxyPXRoaXMudmlldy5yZXNvdXJjZUNvbnRyb2xsZXIubWVtb3J5Q29udHJvbGxlcjt0aGlzLl9tZW1DYWNoZT1yLm5ld0NhY2hlKGBwY2wtJHt0aGlzLmxheWVyLnVpZH1gKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5fY2xpcHBpbmdCb3gpLCgoKT0+dGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpKSxwKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5fZWxldmF0aW9uT2Zmc2V0KSwoKCk9PnRoaXMuX2VsZXZhdGlvbk9mZnNldENoYW5nZWQoKSkscCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubGF5ZXIucmVuZGVyZXIpLCgoKT0+dGhpcy5fcmVuZGVyZXJDaGFuZ2VkKCkpLHApLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmxheWVyLmZpbHRlcnMpLCgoKT0+dGhpcy5fcmVsb2FkKCkpLHApLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmxheWVyLm91dEZpZWxkcyksKCgpPT50aGlzLl9yZWxvYWQoKSkscCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubGF5ZXIuZWZmZWN0aXZlU2NhbGVSYW5nZSksKCgpPT50aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCkpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy52aWV3LnN0YXRlLmNvbnRlbnRDYW1lcmEpLCgoKT0+dGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpKSksdGhpcy5hZGRIYW5kbGVzKFt0aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4ub24oXCJzY2FsZS1jaGFuZ2VcIiwoZT0+dGhpcy5fc2NhbGVVcGRhdGVIYW5kbGVyKGUpKSksYygoKCk9PnRoaXMudmlldy5xdWFsaXR5KSwoKCk9PnRoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKSksXyldKSx0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UoaSksdGhpcy53aGVuKCgoKT0+e3RoaXMuYWRkSGFuZGxlcyhbZS5zY2hlZHVsZXIucmVnaXN0ZXJUYXNrKF9lLlBPSU5UX0NMT1VEX0xBWUVSLHRoaXMpLGUuc2NoZWR1bGVyLnJlZ2lzdGVySWRsZVN0YXRlQ2FsbGJhY2tzKCgoKT0+dGhpcy5faWRsZUJlZ2luKCkpLCgoKT0+dGhpcy5faWRsZUVuZCgpKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuc3VzcGVuZGVkKSwoZT0+e2U/dGhpcy5fY2xlYXJOb2RlU3RhdGUoKTp0aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCl9KSxwKV0pfSksKCgpPT57dGhpcy5fdXBkYXRpbmdIYW5kbGVzLnJlbW92ZUFsbCgpLHRoaXMucmVtb3ZlQWxsSGFuZGxlcygpfSkpfV9zZXRVcGRhdGVWaWV3TmVlZGVkKCl7dGhpcy5fdXBkYXRlVmlld05lZWRlZD0hMCx0aGlzLl91cGRhdGVMb2FkaW5nKCl9ZGVzdHJveSgpe3RoaXMuY2FuY2VsTG9hZGluZygpLHRoaXMuX3dvcmtlcj1hKHRoaXMuX3dvcmtlciksdGhpcy5fZGVzdHJveVJlbmRlcmVyKCksdGhpcy5fbWVtQ2FjaGU9YSh0aGlzLl9tZW1DYWNoZSksdGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uQWJvcnRDb250cm9sbGVyPWQodGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uQWJvcnRDb250cm9sbGVyKSx0aGlzLl9jb2RlZERvbWFpblBvcHVsYXRpb25Qcm9taXNlPW51bGx9X2luaXRSZW5kZXJlcigpe3RoaXMuX3JlbmRlcmVyPW5ldyBlZSh7Y3JlYXRlR3JhcGhpYzooZSx0LGkpPT50aGlzLl9jcmVhdGVHcmFwaGljKGUsdCxpKX0pLHRoaXMuX3JlbmRlcmVyLmxheWVyVWlkPXRoaXMubGF5ZXIudWlkLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLl9jbGlwcGluZ0JveCksKGU9PnRoaXMuX3JlbmRlcmVyLmNsaXBwaW5nQm94PWUpLHApLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnN1c3BlbmRlZCksKGU9PnRoaXMuX3NldFBvaW50c1Zpc2libGUoIWUpKSxwKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5wb2ludFNjYWxlKSwoZT0+dGhpcy5fcmVuZGVyZXIuc2NhbGVGYWN0b3I9ZSkscCksdGhpcy5fcmVuZGVyZXIubWluU2l6ZVB4PU1hdGguc3FydCgyKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy51c2VSZWFsV29ybGRTeW1ib2xTaXplcyksKGU9PnRoaXMuX3JlbmRlcmVyLnVzZVJlYWxXb3JsZFN5bWJvbFNpemVzPWUpLHApLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnBvaW50U2l6ZSksKGU9Pntjb25zdCB0PW0oZSk7dGhpcy5fcmVuZGVyZXIuc2l6ZT1lLHRoaXMuX3JlbmRlcmVyLnNpemVQeD10fSkscCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMuc2xpY2VQbGFuZUVuYWJsZWQpLChlPT50aGlzLl9yZW5kZXJlci5zbGljZVBsYW5lRW5hYmxlZD1lKSxwKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5pbnZlcnNlRGVuc2l0eSksKCgpPT50aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCkpLHApLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLm1heGltdW1Qb2ludENvdW50KSwoKCk9PnRoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKSkscCksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMudmlldy5xdWFsaXR5U2V0dGluZ3Muc2NlbmVTZXJ2aWNlLnBvaW50Q2xvdWQubG9kRmFjdG9yKSwoZT0+e3RoaXMuX2xvZEZhY3Rvcj1lLHRoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKX0pLHApfV9kZXN0cm95UmVuZGVyZXIoKXt0aGlzLl9yZW5kZXJlci5yZW1vdmVBbGwoKSx0aGlzLl9zZXRQb2ludHNWaXNpYmxlKCExKX1fY3JlYXRlR3JhcGhpYyhlLHQsaSl7Y29uc3Qgcj1udWxsIT1lLnBvaW50SWRGaWx0ZXJNYXA/ZS5wb2ludElkRmlsdGVyTWFwW3RdOnQscz10aGlzLnZpZXcuY29tcHV0ZU1hcFBvaW50RnJvbVZlYzNkKGkpLG89dGhpcy5fY3JlYXRlR3JhcGhpY0F0dHJpYnV0ZXMoZSxyKTtyZXR1cm4gbmV3IFooe3BvaW50Q2xvdWRNZXRhZGF0YTp7bm9kZUlkOmUuaWQscG9pbnRJbmRleEluTm9kZTp0LGF0dHJpYnV0ZVBvaW50SW5kZXhJbk5vZGU6cixlcG9jaDp0aGlzLl9ub2RlTG9hZEVwb2NofSxnZW9tZXRyeTpzLGF0dHJpYnV0ZXM6byxsYXllcjp0aGlzLmxheWVyLHNvdXJjZUxheWVyOnRoaXMubGF5ZXJ9KX1fY3JlYXRlR3JhcGhpY0F0dHJpYnV0ZXMoZSx0KXtjb25zdCBpPXt9O2Zvcihjb25zdCByIG9mIGUuYXR0cmlidXRlcyl0aGlzLl9lbmNvZGVHcmFwaGljQXR0cmlidXRlKHIuYXR0cmlidXRlSW5mbyxyLnZhbHVlcyx0LGkpO3JldHVybiBpfV9lbmNvZGVHcmFwaGljQXR0cmlidXRlKGUsdCxpLHIpe2NvbnN0IHM9ZS5zdG9yYWdlSW5mbz8uYXR0cmlidXRlVmFsdWVzLG89cz8udmFsdWVzUGVyRWxlbWVudD8/MTtpZigxPT09bylyW2UubmFtZV09dFtpXTtlbHNlIGlmKFwiVUludDhcIj09PXM/LnZhbHVlVHlwZSYmbzw9NCl7bGV0IHM9MDtjb25zdCBuPWkqbztmb3IobGV0IGU9bjtlPG4rbztlKyspcz0oczw8OCkrdFtlXTtyW2UubmFtZV09c31lbHNlIHJbZS5uYW1lXT12b2lkIDB9X3NldFBvaW50c1Zpc2libGUoZSl7ZSYmIXRoaXMuX3JlbmRlcmVyQWRkZWQ/KHRoaXMudmlldy5fc3RhZ2UuYWRkUmVuZGVyUGx1Z2luKHRoaXMuX3JlbmRlcmVyKSx0aGlzLl9yZW5kZXJlckFkZGVkPSEwKTohZSYmdGhpcy5fcmVuZGVyZXJBZGRlZCYmKHRoaXMudmlldy5fc3RhZ2UucmVtb3ZlUmVuZGVyUGx1Z2luKHRoaXMuX3JlbmRlcmVyKSx0aGlzLl9yZW5kZXJlckFkZGVkPSExKX1fcmVuZGVyZXJDaGFuZ2VkKCl7dGhpcy5fcmVuZGVyZXIudXNlRml4ZWRTaXplcz0kKHRoaXMubGF5ZXIucmVuZGVyZXIpLHRoaXMuX3JlbG9hZCgpfV9yZWxvYWQoKXt0aGlzLl9jbGVhck5vZGVTdGF0ZSgpLHRoaXMuX21lbUNhY2hlLmNsZWFyKCksdGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpfV9lbGV2YXRpb25PZmZzZXRDaGFuZ2VkKCl7dGhpcy5fY2xlYXJOb2RlU3RhdGUoKSx0aGlzLl9tZW1DYWNoZS5jbGVhcigpLHRoaXMuX2luaXROb2RlUGFnZXMoKX1fc2NhbGVVcGRhdGVIYW5kbGVyKGUpe2NvbnN0IHQ9dGhpcy5sYXllci5lZmZlY3RpdmVTY2FsZVJhbmdlO3VlKHQubWluU2NhbGUsdC5tYXhTY2FsZSk/dihlLmV4dGVudCxlLnNwYXRpYWxSZWZlcmVuY2Usd2UsdGhpcy5sYXllci5zcGF0aWFsUmVmZXJlbmNlKSYmKHRoaXMuX25vZGVTY2FsZXMuZm9yRWFjaCgoKHQsaSk9PntpZighdGhpcy5fcmVuZGVyZWROb2Rlcy5oYXMoaSkpcmV0dXJuIHZvaWQgdGhpcy5fbm9kZVNjYWxlcy5kZWxldGUoaSk7Y29uc3Qgcj10aGlzLl9pbmRleC5nZXROb2RlKGkpO0Mod2Usci5vYmIuY2VudGVyKSYmdGhpcy5fbm9kZVNjYWxlcy5zZXQoaSxlLnNjYWxlKX0pKSx0aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCkpOnRoaXMuX25vZGVTY2FsZXMuY2xlYXIoKX1fZGlzcGxheU5vZGVzKGUpe3RoaXMuX3dvcmtRdWV1ZT1FKFsuLi50aGlzLl9yZW5kZXJlZE5vZGVzXSxlLHRoaXMuX2luZGV4KSxNKHRoaXMuX3dvcmtRdWV1ZSx0aGlzLnZpZXcuc3RhdGUuY29udGVudENhbWVyYS52aWV3Rm9yd2FyZCx0aGlzLl9pbmRleCksTyh0aGlzLl93b3JrUXVldWUsbWUsdGhpcy5faW5kZXgpLHRoaXMuX3VwZGF0ZVF1ZXVlcygpLHRoaXMuX3RvdGFsV29yaz10aGlzLl9jb21wdXRlV29yaygpLHRoaXMuX3VwZGF0ZUxvYWRpbmcoKSx0aGlzLl9sYXllcklzVmlzaWJsZT1lLmxlbmd0aD4wfHx0aGlzLl9sb2FkaW5nSW5pdE5vZGVQYWdlLHRoaXMubm90aWZ5Q2hhbmdlKFwic3VzcGVuZGVkXCIpfWNhbmNlbExvYWRpbmcoKXt0aGlzLl9jYW5jZWxOb2RlTG9hZGluZygpLHRoaXMuX2NhbmNlbEluZGV4TG9hZGluZygpfV9jYW5jZWxOb2RlTG9hZGluZygpe2NvbnN0IGU9bmV3IEFycmF5O3RoaXMuX2xvYWRpbmdOb2Rlcy5mb3JFYWNoKCgoe2Fib3J0Q29udHJvbGxlcjp0fSk9PmUucHVzaCh0KSkpLHRoaXMuX2xvYWRpbmdOb2Rlcy5jbGVhcigpO2Zvcihjb25zdCB0IG9mIGUpdC5hYm9ydCgpO3RoaXMuX3dvcmtRdWV1ZT1bXSx0aGlzLl9pZGxlUXVldWUuY2FuY2VsQWxsKCksdGhpcy5fdG90YWxXb3JrPXRoaXMuX2NvbXB1dGVXb3JrKCksdGhpcy5fdXBkYXRlTG9hZGluZygpfV91cGRhdGVRdWV1ZXMoKXtjb25zdCBlPW5ldyBTZXQ7dGhpcy5fd29ya1F1ZXVlLmZvckVhY2goKHQ9PnQubG9hZC5mb3JFYWNoKCh0PT5lLmFkZCh0KSkpKSk7Y29uc3QgdD1uZXcgQXJyYXksaT1uZXcgTWFwO3RoaXMuX2xvYWRpbmdOb2Rlcy5mb3JFYWNoKCgocixzKT0+e2UuaGFzKHMpP2kuc2V0KHMscik6dC5wdXNoKHIpfSkpLHRoaXMuX2xvYWRpbmdOb2Rlcz1pO2Zvcihjb25zdHthYm9ydENvbnRyb2xsZXI6cn1vZiB0KXIuYWJvcnQoKTt0aGlzLl93b3JrUXVldWU9dGhpcy5fd29ya1F1ZXVlLmZpbHRlcigoZT0+e2Zvcihjb25zdCB0IG9mIGUubG9hZClpZih0aGlzLl9sb2FkaW5nTm9kZXMuaGFzKHQpKXJldHVybiB0aGlzLl9yZWNhbGNXb3JrPSEwLCExO3JldHVybiEwfSkpLHRoaXMuX3RvdGFsV29yaz10aGlzLl9jb21wdXRlV29yaygpLHRoaXMuX3VwZGF0ZUxvYWRpbmcoKX1fY2FuY2VsSW5kZXhMb2FkaW5nKCl7dGhpcy5faW5kZXhRdWV1ZT1bXSx0aGlzLl9pbmRleFBhZ2VzTG9hZGluZy5mb3JFYWNoKCgoe2Fib3J0Q29udHJvbGxlcjplfSk9PmUuYWJvcnQoKSkpLHRoaXMuX2luZGV4UGFnZXNMb2FkaW5nLmNsZWFyKCksdGhpcy5fdG90YWxXb3JrPXRoaXMuX2NvbXB1dGVXb3JrKCksdGhpcy5fdXBkYXRlTG9hZGluZygpfV9jbGVhck5vZGVTdGF0ZSgpe3RoaXMuX25vZGVMb2FkRXBvY2grKyx0aGlzLl9yZW5kZXJlZE5vZGVzLmZvckVhY2goKGU9PnRoaXMuX3JlbW92ZUZyb21SZW5kZXJlcihlKSkpLHRoaXMuX2NhbmNlbE5vZGVMb2FkaW5nKCl9X2lkbGVCZWdpbigpe3RoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKX1faWRsZUVuZCgpe3RoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKX1nZXQgcnVubmluZygpe3JldHVybiB0aGlzLnN1c3BlbmRlZD90aGlzLl91cGRhdGVWaWV3TmVlZGVkOnRoaXMuX3VwZGF0ZVZpZXdOZWVkZWR8fHRoaXMuX2luZGV4UXVldWUubGVuZ3RoPjB8fHRoaXMuX3dvcmtRdWV1ZS5sZW5ndGg+MHx8dGhpcy5faWRsZVF1ZXVlLnJ1bm5pbmd9cnVuVGFzayhlKXtpZih0aGlzLnN1c3BlbmRlZCl7aWYodGhpcy5fdXBkYXRlVmlld05lZWRlZCl7dGhpcy5fdXBkYXRlVmlld05lZWRlZD0hMTtjb25zdCBlPXRoaXMuX2lzUm9vdE5vZGVWaXNpYmxlKCk7ZSE9PXRoaXMuX2xheWVySXNWaXNpYmxlJiYodGhpcy5fbGF5ZXJJc1Zpc2libGU9ZSx0aGlzLm5vdGlmeUNoYW5nZShcInN1c3BlbmRlZFwiKSksdGhpcy5fdXBkYXRlTG9hZGluZygpfX1lbHNle2ZvcihlLnJ1bigoKCk9PnRoaXMuX3VwZGF0ZVdvcmtRdWV1ZXMoKSkpO3RoaXMuX2luZGV4UXVldWUubGVuZ3RoPjAmJmUucnVuKCgoKT0+dGhpcy5fcHJvY2Vzc0luZGV4UXVldWUoKSkpOyk7dGhpcy5fcHJvY2Vzc1dvcmtRdWV1ZShlKSx0aGlzLl9pZGxlUXVldWUucnVuVGFzayhlKX19X3Byb2Nlc3NJbmRleFF1ZXVlKCl7Y29uc3QgZT10aGlzLl9pbmRleFF1ZXVlLnNoaWZ0KCksdD10aGlzLl9sb2FkTm9kZVBhZ2UoZSk7cmV0dXJuIHRoaXMuX2luZGV4UGFnZXNMb2FkaW5nLnNldChlLHQpLHQucHJvbWlzZS50aGVuKCh0PT57dGhpcy5faW5kZXguYWRkUGFnZShlLHQsdGhpcy5fZWxldmF0aW9uT2Zmc2V0KSx0aGlzLl9zZXRVcGRhdGVWaWV3TmVlZGVkKCl9KSkudGhlbigoKCk9Pnt0aGlzLl9pbmRleFBhZ2VzTG9hZGluZy5kZWxldGUoZSl9KSwoKCk9Pnt0aGlzLl9pbmRleFBhZ2VzTG9hZGluZy5kZWxldGUoZSl9KSksITB9X3Byb2Nlc3NXb3JrUXVldWUoZSl7Zm9yKDshZS5kb25lOyl7Y29uc3QgdD10aGlzLl9zY2hlZHVsZVdvcmtFbnRyeSgpO2lmKG51bGw9PXQpcmV0dXJuIHZvaWQgZS5tYWRlUHJvZ3Jlc3MoKTt0aGlzLl9wcm9jZXNzV29ya0VudHJ5KHQpLGUubWFkZVByb2dyZXNzKCl9fV9zY2hlZHVsZVdvcmtFbnRyeSgpe2xldCBlPXRoaXMuX3dvcmtRdWV1ZS5sZW5ndGg7Zm9yKDtlLS07KXtjb25zdCBlPXRoaXMuX3dvcmtRdWV1ZS5zaGlmdCgpO2lmKCFlLnJlbW92ZS5maW5kKChlPT4hdGhpcy5fcmVuZGVyZWROb2Rlcy5oYXMoZSkpKSlyZXR1cm4gZTt0aGlzLl93b3JrUXVldWUucHVzaChlKX1yZXR1cm4gbnVsbH1fcHJvY2Vzc1dvcmtFbnRyeShlKXtpZigwIT09ZS5sb2FkLmxlbmd0aClQcm9taXNlLmFsbChlLmxvYWQubWFwKChlPT57Y29uc3QgdD1uZXcgQWJvcnRDb250cm9sbGVyLGk9dGhpcy5fbWVtQ2FjaGUucG9wKGUudG9TdHJpbmcoKSk7cmV0dXJuIG51bGwhPWk/dGhpcy5fbG9hZGluZ05vZGVzLnNldChlLHthYm9ydENvbnRyb2xsZXI6dCxwcm9taXNlOlByb21pc2UucmVzb2x2ZShpKX0pOnRoaXMuX2xvYWRpbmdOb2Rlcy5oYXMoZSl8fHRoaXMuX2xvYWRpbmdOb2Rlcy5zZXQoZSx7YWJvcnRDb250cm9sbGVyOnQscHJvbWlzZTp0aGlzLl9sb2FkTm9kZShlLHQuc2lnbmFsKX0pLHRoaXMuX2xvYWRpbmdOb2Rlcy5nZXQoZSkucHJvbWlzZX0pKSkudGhlbigodD0+e2ZvcihsZXQgaT0wO2k8ZS5sb2FkLmxlbmd0aDtpKyspaWYodFtpXSl7Y29uc3Qgcj10aGlzLl9zZXR1cFJlbmRlcmVyRGF0YShlLmxvYWRbaV0sdFtpXSk7dGhpcy5fYWRkVG9SZW5kZXJlcihyKX1mb3IoY29uc3QgaSBvZiBlLnJlbW92ZSl0aGlzLl9yZW1vdmVGcm9tUmVuZGVyZXIoaSl9KSkuY2F0Y2goKCgpPT57fSkpLnRoZW4oKCgpPT57Zm9yKGNvbnN0IHQgb2YgZS5sb2FkKXRoaXMuX2xvYWRpbmdOb2Rlcy5kZWxldGUodCk7dGhpcy5fdXBkYXRlTG9hZGluZygpLHRoaXMuX3JlY2FsY1dvcmsmJiF0aGlzLl9pZGxlUXVldWUucnVubmluZyYmMD09PXRoaXMuX2luZGV4UXVldWUubGVuZ3RoJiYwPT09dGhpcy5fbG9hZGluZ05vZGVzLnNpemUmJih0aGlzLl9yZWNhbGNXb3JrPSExLHRoaXMuX3NldFVwZGF0ZVZpZXdOZWVkZWQoKSl9KSksdGhpcy5fdXBkYXRlTG9hZGluZygpO2Vsc2UgZm9yKGNvbnN0IHQgb2YgZS5yZW1vdmUpdGhpcy5fcmVtb3ZlRnJvbVJlbmRlcmVyKHQpfWFzeW5jIF9wb3B1bGF0ZUNsYXNzQ29kZUNvZGVkRG9tYWluKGUsdCl7Y29uc3Qgcj1cIkNMQVNTX0NPREVcIixzPXRoaXMubGF5ZXIuZmllbGRzSW5kZXguZ2V0KHIpO2lmKCFzfHxzLmRvbWFpbilyZXR1cm47aWYoIWUuaW5jbHVkZXMocy5uYW1lKSlyZXR1cm47Y29uc3Qgbz1hd2FpdCBpKHRoaXMubGF5ZXIucXVlcnlDYWNoZWRTdGF0aXN0aWNzKHIse3NpZ25hbDp0fSkpO2lmKCExPT09by5vaylyZXR1cm47Y29uc3Qgbj1vLnZhbHVlPy5zdGF0cz8ubGFiZWxzPy5sYWJlbHM7biYmQXJyYXkuaXNBcnJheShuKSYmKHMuZG9tYWluPW5ldyBqKHtuYW1lOlwiQ0xBU1NfQ09ERVwiLGNvZGVkVmFsdWVzOm4ubWFwKChlPT5uZXcgVih7Y29kZTplLnZhbHVlLG5hbWU6ZS5sYWJlbH0pKSl9KSl9YXN5bmMgcHJlcGFyZUZldGNoUG9wdXBGZWF0dXJlcyhlKXtyZXR1cm4gdGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uUHJvbWlzZXx8KHRoaXMuX2NvZGVkRG9tYWluUG9wdWxhdGlvbkFib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuX2NvZGVkRG9tYWluUG9wdWxhdGlvblByb21pc2U9dGhpcy5fcG9wdWxhdGVDbGFzc0NvZGVDb2RlZERvbWFpbihlLHRoaXMuX2NvZGVkRG9tYWluUG9wdWxhdGlvbkFib3J0Q29udHJvbGxlci5zaWduYWwpLnRoZW4oKCgpPT57dGhpcy5fY29kZWREb21haW5Qb3B1bGF0aW9uQWJvcnRDb250cm9sbGVyPW51bGx9KSkpLHRoaXMuX2NvZGVkRG9tYWluUG9wdWxhdGlvblByb21pc2V9YXN5bmMgd2hlbkdyYXBoaWNBdHRyaWJ1dGVzKGUsaSl7Y29uc3Qgcz10aGlzLl9zcGxpdEdyYXBoaWNzUGVyTm9kZShlKSxvPXRoaXMubGF5ZXIuYXR0cmlidXRlU3RvcmFnZUluZm8sbj1pLm1hcCgoZT0+SihvLGUpKSkuZmlsdGVyKHQpLGE9YXN5bmMoZSx0KT0+e2NvbnN0IGk9dGhpcy5faW5kZXguZ2V0Tm9kZSh0KTthd2FpdCByKG4sKGFzeW5jIHQ9Pntjb25zdCByPXQudXNlRWxldmF0aW9uP2F3YWl0IHRoaXMuX2xvYWRFbGV2YXRpb25BdHRyaWJ1dGVGcm9tR2VvbWV0cnkoaS5yZXNvdXJjZUlkKTphd2FpdCB0aGlzLl9sb2FkQW5kUGFyc2VBdHRyaWJ1dGUoaSx0KTtpZihyKWZvcihjb25zdCBpIG9mIGUpaWYodGhpcy5faXNWYWxpZFBvaW50R3JhcGhpYyhpKSl7Y29uc3QgZT1pLnBvaW50Q2xvdWRNZXRhZGF0YS5hdHRyaWJ1dGVQb2ludEluZGV4SW5Ob2RlO3RoaXMuX2VuY29kZUdyYXBoaWNBdHRyaWJ1dGUodCxyLGUsaS5hdHRyaWJ1dGVzKX19KSl9LGQ9W107cmV0dXJuIHMuZm9yRWFjaCgoKGUsdCk9PntkLnB1c2goYShlLHQpKX0pKSxhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoZCksZX1faXNWYWxpZFBvaW50R3JhcGhpYyhlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFomJmUucG9pbnRDbG91ZE1ldGFkYXRhPy5lcG9jaD09PXRoaXMuX25vZGVMb2FkRXBvY2h9X3NwbGl0R3JhcGhpY3NQZXJOb2RlKGUpe2NvbnN0IHQ9bmV3IE1hcDtmb3IoY29uc3QgaSBvZiBlKXtpZighdGhpcy5faXNWYWxpZFBvaW50R3JhcGhpYyhpKSljb250aW51ZTtjb25zdCBlPWkucG9pbnRDbG91ZE1ldGFkYXRhLHI9dC5nZXQoZS5ub2RlSWQpO3I/ci5wdXNoKGkpOnQuc2V0KGUubm9kZUlkLFtpXSl9cmV0dXJuIHR9YXN5bmMgX2xvYWRBbmRQYXJzZUF0dHJpYnV0ZShlLHQpe2NvbnN0IGk9YXdhaXQgdGhpcy5fbG9hZEF0dHJpYnV0ZShlLnJlc291cmNlSWQsdCxudWxsKTtyZXR1cm4gbnVsbCE9aT9LKHthdHRyaWJ1dGVJbmZvOnQsYnVmZmVyOml9LG51bGwsZS52ZXJ0ZXhDb3VudCk6bnVsbH1hc3luYyBfbG9hZEVsZXZhdGlvbkF0dHJpYnV0ZUZyb21HZW9tZXRyeShlKXtjb25zdCB0PXRoaXMubGF5ZXIuc3RvcmUuZGVmYXVsdEdlb21ldHJ5U2NoZW1hLGk9WCh0LGF3YWl0IHRoaXMuX2xvYWRHZW9tZXRyeShlLG51bGwpKTtyZXR1cm4gWShpLGkubGVuZ3RoLzMpfWhpZ2hsaWdodChlKXtpZighZSlyZXR1cm4gbygpO2NvbnN0IHQ9cy5pc0NvbGxlY3Rpb24oZSk/ZS50b0FycmF5KCk6QXJyYXkuaXNBcnJheShlKT9lOltlXTtyZXR1cm4gdGhpcy5fcmVuZGVyZXIuaGlnaGxpZ2h0KHQubWFwKChlPT50aGlzLl9ncmFwaGljVG9Qb2ludERlZmluaXRpb24oZSkpKSl9X2dyYXBoaWNUb1BvaW50RGVmaW5pdGlvbihlKXtpZighdGhpcy5faXNWYWxpZFBvaW50R3JhcGhpYyhlKSlyZXR1cm4gbnVsbDtjb25zdHtub2RlSWQ6dCxwb2ludEluZGV4SW5Ob2RlOml9PWUucG9pbnRDbG91ZE1ldGFkYXRhO3JldHVybiBudWxsIT10JiZudWxsIT1pP3tub2RlSWQ6dCxwb2ludElkOml9Om51bGx9X2NvbXB1dGVXb3JrKCl7bGV0IGU9MDtmb3IoY29uc3QgdCBvZiB0aGlzLl93b3JrUXVldWUpZSs9dC5sb2FkLmxlbmd0aCt0LnJlbW92ZS5sZW5ndGg7cmV0dXJuIGUrPXRoaXMuX2xvYWRpbmdOb2Rlcy5zaXplLGUrPSh0aGlzLl9pbmRleFF1ZXVlLmxlbmd0aCt0aGlzLl9pbmRleFBhZ2VzTG9hZGluZy5zaXplKSp0aGlzLl9pbmRleC5wYWdlU2l6ZSxlKz10aGlzLl9sb2FkaW5nSW5pdE5vZGVQYWdlPzEwMDowLGUrPXRoaXMuX3VwZGF0ZVZpZXdOZWVkZWQ/MTAwOjAsZX1nZXQgdXBkYXRpbmdQcm9ncmVzc1ZhbHVlKCl7aWYodGhpcy5zdXNwZW5kZWQpcmV0dXJuIHRoaXMuX3VwZGF0ZVZpZXdOZWVkZWQ/MDoxO2NvbnN0IGU9dGhpcy5fY29tcHV0ZVdvcmsoKTtyZXR1cm4gMS1NYXRoLm1pbih0aGlzLl90b3RhbFdvcmssZSkvdGhpcy5fdG90YWxXb3JrfV91cGRhdGVMb2FkaW5nKCl7dGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nUHJvZ3Jlc3NWYWx1ZVwiKX1jYW5SZXN1bWUoKXtyZXR1cm4gc3VwZXIuY2FuUmVzdW1lKCkmJnRoaXMuX2xheWVySXNWaXNpYmxlfWlzVXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5zdXNwZW5kZWQ/dGhpcy5fdXBkYXRlVmlld05lZWRlZDp0aGlzLl9jb21wdXRlV29yaygpPjB9X2luaXROb2RlUGFnZXMoKXtjb25zdCBlPXRoaXMubGF5ZXIuc3RvcmUuaW5kZXgsdD1lLm5vZGVzUGVyUGFnZXx8ZS5ub2RlUGVySW5kZXhCbG9jaztyZXR1cm4gdGhpcy5faW5kZXg9bmV3IEgodGhpcy5sYXllci5zcGF0aWFsUmVmZXJlbmNlLHRoaXMudmlldy5yZW5kZXJDb29yZHNIZWxwZXIuc3BhdGlhbFJlZmVyZW5jZSx0KSx0aGlzLl9jYW5jZWxJbmRleExvYWRpbmcoKSx0aGlzLl90cmF2ZXJzZVZpc2libGU9dGhpcy5faW5kZXguY3JlYXRlVmlzaWJpbGl0eVRyYXZlcnNlKCksdGhpcy5fbG9hZGluZ0luaXROb2RlUGFnZT0hMCx0aGlzLl9sYXllcklzVmlzaWJsZT0hMCx0aGlzLm5vdGlmeUNoYW5nZShcInN1c3BlbmRlZFwiKSx0aGlzLl91cGRhdGVMb2FkaW5nKCksdGhpcy5fcGFnZU11bHRpcGxpZXI9bnVsbCE9ZS5ub2Rlc1BlclBhZ2U/MTplLm5vZGVQZXJJbmRleEJsb2NrLHRoaXMuX2xvYWROb2RlUGFnZSgwKS5wcm9taXNlLnRoZW4oKGU9Pnt0aGlzLl9pbmRleC5hZGRQYWdlKDAsZSx0aGlzLl9lbGV2YXRpb25PZmZzZXQpLHRoaXMuX2xvYWRpbmdJbml0Tm9kZVBhZ2U9ITEsdGhpcy5fc2V0VXBkYXRlVmlld05lZWRlZCgpfSkpfV9sb2FkTm9kZVBhZ2UoZSl7Y29uc3QgdD1uZXcgQWJvcnRDb250cm9sbGVyLGk9YCR7dGhpcy5iYXNlVXJsfS9ub2RlcGFnZXMvJHtlKnRoaXMuX3BhZ2VNdWx0aXBsaWVyfWA7cmV0dXJue3Byb21pc2U6dGhpcy5fcmVxdWVzdE5vZGVQYWdlKGksdC5zaWduYWwpLnRoZW4oKHQ9PnQubm9kZXMubWFwKCgodCxpKT0+KHtyZXNvdXJjZUlkOm51bGwhPXQucmVzb3VyY2VJZD90LnJlc291cmNlSWQ6ZSp0aGlzLl9pbmRleC5wYWdlU2l6ZStpLG9iYjp0Lm9iYixvYmJJblJlbmRlclNSOm5lKCksZmlyc3RDaGlsZDp0LmZpcnN0Q2hpbGQsY2hpbGRDb3VudDp0LmNoaWxkQ291bnQsdmVydGV4Q291bnQ6dC52ZXJ0ZXhDb3VudD8/dC5wb2ludENvdW50LGxvZFRocmVzaG9sZDp0LmxvZFRocmVzaG9sZD8/dC5lZmZlY3RpdmVBcmVhfSkpKSkpLGFib3J0Q29udHJvbGxlcjp0fX1fdXBkYXRlV29ya1F1ZXVlcygpe2lmKCF0aGlzLl91cGRhdGVWaWV3TmVlZGVkKXJldHVybiExO2NvbnN0IGU9dGhpcy52aWV3LnF1YWxpdHk7bGV0IHQ9dGhpcy5pbnZlcnNlRGVuc2l0eS90aGlzLl9sb2RGYWN0b3IqZTtjb25zdCBpPXRoaXMubWF4aW11bVBvaW50Q291bnQqdGhpcy5fbG9kRmFjdG9yKmU7bGV0IHI9dGhpcy5fY29tcHV0ZU5vZGVzRm9yTWluaW11bURlbnNpdHkodCkscz10aGlzLl9jb21wdXRlUG9pbnRDb3VudChyKSxvPU1hdGguc3FydChzLyguNzUqaSkpO2Zvcig7cz5pOyl0Kj1vLHI9dGhpcy5fY29tcHV0ZU5vZGVzRm9yTWluaW11bURlbnNpdHkodCkscz10aGlzLl9jb21wdXRlUG9pbnRDb3VudChyKSxvPU1hdGguc3FydCgyKTtyZXR1cm4gdGhpcy5fZGlzcGxheU5vZGVzKHIpLHRoaXMuX3VwZGF0ZVZpZXdOZWVkZWQ9ITEsdGhpcy5fdXBkYXRlTG9hZGluZygpLCEwfV9jb21wdXRlUG9pbnRDb3VudChlKXtsZXQgdD0wO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCByPXRoaXMuX2luZGV4LmdldE5vZGUoZVtpXSk7ciYmKHQrPXIudmVydGV4Q291bnQpfXJldHVybiB0fV9pc1Jvb3ROb2RlVmlzaWJsZSgpe2xldCBlPSExO3JldHVybiB0aGlzLl90cmF2ZXJzZVZpc2libGUoe2ZydXN0dW06dGhpcy52aWV3LnN0YXRlLmNvbnRlbnRDYW1lcmEuZnJ1c3R1bSxjbGlwcGluZ0JveDp0aGlzLl9jbGlwcGluZ0JveH0se3ByZWRpY2F0ZToodCxpLHIpPT4oZT1yLCExKSxwYWdlTWlzczooKT0+e319KSxlfV9jb21wdXRlTm9kZXNGb3JNaW5pbXVtRGVuc2l0eShlKXtjb25zdCB0PXRoaXMudmlldy5zdGF0ZS5jb250ZW50Q2FtZXJhLGk9dC5mcnVzdHVtLHI9dGhpcy5fY2xpcHBpbmdCb3gscz10LnZpZXdGb3J3YXJkLG89TihzLHQuZXllKSxuPWsocywtbyxnZSksYT10LnBlclNjcmVlblBpeGVsUmF0aW8vMixkPWUqZSxsPXRoaXMuX25vZGVJZEFycmF5O2wubGVuZ3RoPTA7Y29uc3R7bWluU2NhbGU6aCxtYXhTY2FsZTp1fT1wZSh0aGlzLmxheWVyKSxwPTA9PT1oJiYwPT09dT9lPT5sLnB1c2goZSk6ZT0+e2NvbnN0IHQ9dGhpcy5fZ2V0U2NhbGUoZSk7Y2UodCxoLHUpJiZsLnB1c2goZSl9O3JldHVybiB0aGlzLl90cmF2ZXJzZVZpc2libGUoe2ZydXN0dW06aSxjbGlwcGluZ0JveDpyfSx7cHJlZGljYXRlOihlLHQsaSk9PntpZighaSlyZXR1cm4hMTtpZigwPT09dC5jaGlsZENvdW50KXJldHVybiBwKGUpLCExO2NvbnN0IHI9dGhpcy5faW5kZXguZ2V0UmVuZGVyT2JiKGUpO3JldHVybiEodGhpcy5fY29tcHV0ZUF2ZXJhZ2VQaXhlbEFyZWEocix0LmxvZFRocmVzaG9sZCx0LnZlcnRleENvdW50LG4sYSk8PWQpfHwocChlKSwhMSl9LHBhZ2VNaXNzOihlLHQpPT57cChlKSx0aGlzLl9pbmRleFF1ZXVlLmluY2x1ZGVzKHQpfHx0aGlzLl9pbmRleFF1ZXVlLnB1c2godCl9fSksbH1fZ2V0U2NhbGUoZSl7bGV0IHQ9dGhpcy5fbm9kZVNjYWxlcy5nZXQoZSk7aWYobnVsbD09dCl7Y29uc3QgaT10aGlzLl9pbmRleC5nZXROb2RlKGUpLm9iYi5jZW50ZXI7dGhpcy5fdG1wUG9pbnQueD1pWzBdLHRoaXMuX3RtcFBvaW50Lnk9aVsxXSx0aGlzLl90bXBQb2ludC56PWlbMl0sdD10aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4uZ2V0U2NhbGUodGhpcy5fdG1wUG9pbnQpLHRoaXMuX25vZGVTY2FsZXMuc2V0KGUsdCl9cmV0dXJuIHR9X2NvbXB1dGVBdmVyYWdlUGl4ZWxBcmVhKGUsdCxpLHIscyl7Y29uc3Qgbz0xZS03LG49TWF0aC5tYXgobyxhZShlLHIpKTtyZXR1cm4gdC8obipuKS8oNCpzKnMpL2l9X2xvYWROb2RlKGUsdCl7dHJ5e3JldHVybiB0aGlzLl9sb2FkTm9kZUFzeW5jKGUsdCl9Y2F0Y2goaSl7dGhyb3cgbChpKXx8bi5nZXRMb2dnZXIodGhpcykuZXJyb3IoaSksaX19YXN5bmMgX2xvYWRBZGRpdGlvbmFsVXNlckF0dHJpYnV0ZXMoZSxpLHIpe2NvbnN0IHM9dGhpcy5sYXllci5vdXRGaWVsZHM7aWYoIXMpcmV0dXJuW107Y29uc3Qgbz1MKHRoaXMubGF5ZXIuZmllbGRzSW5kZXgscyksbj1uZXcgU2V0KGUubWFwKChlPT5udWxsIT1lP2UubmFtZTpudWxsKSkpLGE9dGhpcy5sYXllci5hdHRyaWJ1dGVTdG9yYWdlSW5mbyxkPVtdO2Zvcihjb25zdCB0IG9mIG8pe2lmKG4uaGFzKHQpKWNvbnRpbnVlO2NvbnN0IGU9SihhLHQpO2UmJmQucHVzaChpKGUpKX1jb25zdCBsPWF3YWl0IGgoZCk7cmV0dXJuIHUociksbC5maWx0ZXIodCl9YXN5bmMgX2xvYWROb2RlQXN5bmMoZSx0KXtjb25zdCBpPXRoaXMuX2luZGV4LmdldE5vZGUoZSkscj1HKHRoaXMubGF5ZXIpLHM9VCh0aGlzLmxheWVyKSxvPWkucmVzb3VyY2VJZCxuPWFzeW5jIGU9PntpZighZSlyZXR1cm4gbnVsbDtpZihlLnVzZUVsZXZhdGlvbilyZXR1cm57YXR0cmlidXRlSW5mbzplLGJ1ZmZlcjpudWxsfTtjb25zdCBpPWF3YWl0IHRoaXMuX2xvYWRBdHRyaWJ1dGUobyxlLHQpO3JldHVybiBudWxsIT1pP3thdHRyaWJ1dGVJbmZvOmUsYnVmZmVyOml9Om51bGx9O3JldHVybiB0aGlzLl9pZGxlUXVldWUucHVzaCgoYXN5bmMoKT0+e2NvbnN0IGk9dGhpcy5fbG9hZEdlb21ldHJ5KG8sdCkse3ByaW1hcnlBdHRyaWJ1dGU6YSxtb2R1bGF0aW9uQXR0cmlidXRlOmR9PXIsbD1uKGEpLGg9bihkKSxwPXMubWFwKChlPT5lLmF0dHJpYnV0ZUluZm8pKSxjPXAubWFwKChlPT5uKGUpKSksXz10aGlzLl9sb2FkQWRkaXRpb25hbFVzZXJBdHRyaWJ1dGVzKFthLGQsLi4ucF0sbix0KSxbbSxnLGYseSxiXT1hd2FpdCBQcm9taXNlLmFsbChbaSxsLGgsUHJvbWlzZS5hbGwoYyksX10pO3UodCk7Y29uc3Qgdz17Z2VvbWV0cnlCdWZmZXI6bSxwcmltYXJ5QXR0cmlidXRlRGF0YTpnLG1vZHVsYXRpb25BdHRyaWJ1dGVEYXRhOmYsZmlsdGVyQXR0cmlidXRlc0RhdGE6eSx1c2VyQXR0cmlidXRlc0RhdGE6YixzY2hlbWE6dGhpcy5sYXllci5zdG9yZS5kZWZhdWx0R2VvbWV0cnlTY2hlbWEscmVuZGVyZXJJbmZvOnIsZmlsdGVySW5mbzpzLG9iYjp0aGlzLl9pbmRleC5nZXRSZW5kZXJPYmIoZSksZWxldmF0aW9uT2Zmc2V0OnRoaXMuX2VsZXZhdGlvbk9mZnNldCxpblNSOnRoaXMubGF5ZXIuc3BhdGlhbFJlZmVyZW5jZS50b0pTT04oKSxvdXRTUjp0aGlzLnZpZXcucmVuZGVyQ29vcmRzSGVscGVyLnNwYXRpYWxSZWZlcmVuY2UudG9KU09OKCl9O3JldHVybiB0aGlzLl93b3JrZXIuaW52b2tlKHcsdCl9KSx0KX1hc3luYyBfbG9hZEdlb21ldHJ5KGUsdCl7cmV0dXJuIHRoaXMuX3JlcXVlc3REYXRhKGAke3RoaXMuYmFzZVVybH0vbm9kZXMvJHtlfS9nZW9tZXRyaWVzLzBgLHQpfWFzeW5jIF9sb2FkQXR0cmlidXRlKGUsdCxpKXtpZighdD8uc3RvcmFnZUluZm8pcmV0dXJuIG51bGw7Y29uc3Qgcj10LnN0b3JhZ2VJbmZvLmtleTtyZXR1cm4gdGhpcy5fcmVxdWVzdERhdGEoYCR7dGhpcy5iYXNlVXJsfS9ub2Rlcy8ke2V9L2F0dHJpYnV0ZXMvJHtyfWAsaSl9X3JlcXVlc3ROb2RlUGFnZShlLHQpe2NvbnN0IGk9e2Y6XCJqc29uXCIsdG9rZW46dGhpcy5sYXllci5hcGlLZXl9O3JldHVybiB0aGlzLl9pbmRleFJlcXVlc3Rlci5yZXF1ZXN0KGUsXCJqc29uXCIse3F1ZXJ5Omksc2lnbmFsOnR9KX1fcmVxdWVzdERhdGEoZSx0KXtyZXR1cm4gdGhpcy5fZGF0YVJlcXVlc3Rlci5yZXF1ZXN0KGUsXCJiaW5hcnlcIix7cXVlcnk6e3Rva2VuOnRoaXMubGF5ZXIuYXBpS2V5fSxzaWduYWw6dH0pfV9yZW1vdmVGcm9tUmVuZGVyZXIoZSl7aWYodGhpcy5fcmVuZGVyZWROb2Rlcy5oYXMoZSkpe2NvbnN0IHQ9dGhpcy5fcmVuZGVyZXIucmVtb3ZlTm9kZShlKTt0aGlzLl9yZW5kZXJlZE5vZGVzLmRlbGV0ZShlKSx0aGlzLl9ub2RlU2NhbGVzLmRlbGV0ZShlKSx0aGlzLl9tZW1DYWNoZS5wdXQodC5pZC50b1N0cmluZygpLHQsYmUodCkpfX1fYWRkVG9SZW5kZXJlcihlKXt0aGlzLl9yZW5kZXJlZE5vZGVzLmhhcyhlLmlkKXx8KHRoaXMuX3JlbmRlcmVkTm9kZXMuYWRkKGUuaWQpLHRoaXMuX3JlbmRlcmVyLmFkZE5vZGUoZSkpfV9zZXR1cFJlbmRlcmVyRGF0YShlLHQpe2NvbnN0IGk9dGhpcy5faW5kZXguZ2V0Tm9kZShlKSxyPU1hdGguc3FydChpLmxvZFRocmVzaG9sZC9pLnZlcnRleENvdW50KSxzPXRoaXMuX2luZGV4LmdldFJlbmRlck9iYihlKTtpZih0ZSh0KSlyZXR1cm4gdC5zcGxhdFNpemU9cix0Lm9iYj1zLFAodC5vcmlnaW4sdC5vYmIuY2VudGVyKSx0O2NvbnN0IG89LjAxKk1hdGgubWF4KHMuaGFsZlNpemVbMF0scy5oYWxmU2l6ZVsxXSxzLmhhbGZTaXplWzJdKTtpZih0Lm9iYi5oYWxmU2l6ZVswXT5zLmhhbGZTaXplWzBdK298fHQub2JiLmhhbGZTaXplWzFdPnMuaGFsZlNpemVbMV0rb3x8dC5vYmIuaGFsZlNpemVbMl0+cy5oYWxmU2l6ZVsyXStvKXtpZih0aGlzLl9tYXhMb2dnZWRCb3hXYXJuaW5ncz4wKXtjb25zdCBpPWU9PmBbJHtlLmhhbGZTaXplWzBdfSwgJHtlLmhhbGZTaXplWzFdfSwgJHtlLmhhbGZTaXplWzJdfV1gO24uZ2V0TG9nZ2VyKHRoaXMpLndhcm4oYE5vZGUgJHtlfSByZXBvcnRlZCBib3VuZGluZyBib3ggdG9vIHNtYWxsLiBnb3QgJHtpKHMpfSBidXQgcG9pbnRzIGNvdmVyICR7aSh0Lm9iYil9YCksMD09LS10aGlzLl9tYXhMb2dnZWRCb3hXYXJuaW5ncyYmbi5nZXRMb2dnZXIodGhpcykud2FybihcIiAgVG9vIG1hbnkgYm91bmRpbmcgYm94IGVycm9ycywgc3RvcHBpbmcgcmVwb3J0aW5nIGZvciB0aGlzIGxheWVyLlwiKX10aGlzLl9pbmRleC5zZXRSZW5kZXJPYmIoZSx0Lm9iYil9cmV0dXJuIG5ldyBpZShlLHIseChzLmNlbnRlcikscywwPT09aS5jaGlsZENvdW50LHQucG9pbnRzLHQucmdiLHQuYXR0cmlidXRlcyx0LnBvaW50SWRGaWx0ZXJNYXApfWdldCB1c2VkTWVtb3J5KCl7bGV0IGU9MDtyZXR1cm4gdGhpcy5fcmVuZGVyZXIuZm9yRWFjaE5vZGUoKHQ9PntlKz1OZSxlKz1nKHQuY29vcmRpbmF0ZXMpO2Zvcihjb25zdCBpIG9mIHQuYXR0cmlidXRlcyl7Y29uc3QgdD1pLnZhbHVlcztmKHQuYnVmZmVyKSYmKGUrPWcodCkpfX0pKSxlfWdldCB1bmxvYWRlZE1lbW9yeSgpe2NvbnN0IGU9dGhpcy5fcmVuZGVyZWROb2Rlcy5zaXplO2lmKGU8NClyZXR1cm4gMDtjb25zdCB0PVsuLi50aGlzLl9yZW5kZXJlZE5vZGVzXS5yZWR1Y2UoKChlLHQpPT5lK3RoaXMuX2luZGV4LmdldE5vZGUodCkudmVydGV4Q291bnQpKTtsZXQgaT10aGlzLl9sb2FkaW5nTm9kZXMuc2l6ZTtmb3IobGV0IHI9MDtyPHRoaXMuX3dvcmtRdWV1ZS5sZW5ndGg7cisrKWkrPXRoaXMuX3dvcmtRdWV1ZVtyXS5sb2FkLmxlbmd0aCxpLT10aGlzLl93b3JrUXVldWVbcl0ucmVtb3ZlLmxlbmd0aDtpZihpPDApcmV0dXJuIDA7cmV0dXJuIGkqdC9lKigodGhpcy51c2VkTWVtb3J5LWUqTmUpL3QpK2kqTmV9Z2V0IHBlcmZvcm1hbmNlSW5mbygpe3JldHVybntub2Rlczp0aGlzLl9yZW5kZXJlZE5vZGVzLnNpemUsZGlzcGxheWVkTnVtYmVyT2ZGZWF0dXJlczpbLi4udGhpcy5fcmVuZGVyZWROb2Rlc10ucmVkdWNlKCgoZSx0KT0+ZSt0aGlzLl9pbmRleC5nZXROb2RlKHQpLnZlcnRleENvdW50KSwwKSxtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlczp0aGlzLm1heGltdW1Qb2ludENvdW50LHRvdGFsTnVtYmVyT2ZGZWF0dXJlczotMSxjb3JlOm51bGwsXCJMb2FkaW5nIE5vZGVzXCI6dGhpcy5fbG9hZGluZ05vZGVzLnNpemUsXCJJbmRleCBRdWV1ZVwiOnRoaXMuX2luZGV4UXVldWUubGVuZ3RoLFwiV29yayBRdWV1ZVwiOnRoaXMuX3dvcmtRdWV1ZS5sZW5ndGgsXCJJZGxlIFF1ZXVlXCI6dGhpcy5faWRsZVF1ZXVlLmxlbmd0aH19Z2V0IHRlc3QoKXtyZXR1cm57aW5kZXg6dGhpcy5faW5kZXgsdmlzaWJsZU5vZGVzOnRoaXMuX3JlbmRlcmVkTm9kZXN9fX07ZShbYigpXSxmZS5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbYigpXSxmZS5wcm90b3R5cGUsXCJiYXNlVXJsXCIsbnVsbCksZShbYigpXSxmZS5wcm90b3R5cGUsXCJwb2ludFNjYWxlXCIsbnVsbCksZShbYigpXSxmZS5wcm90b3R5cGUsXCJ1c2VSZWFsV29ybGRTeW1ib2xTaXplc1wiLG51bGwpLGUoW2IoKV0sZmUucHJvdG90eXBlLFwicG9pbnRTaXplXCIsbnVsbCksZShbYigpXSxmZS5wcm90b3R5cGUsXCJpbnZlcnNlRGVuc2l0eVwiLG51bGwpLGUoW2IoKV0sZmUucHJvdG90eXBlLFwibWF4aW11bVBvaW50Q291bnRcIix2b2lkIDApLGUoW2Ioe3JlYWRPbmx5OiEwfSldLGZlLnByb3RvdHlwZSxcImF2YWlsYWJsZUZpZWxkc1wiLG51bGwpLGUoW2Ioe3JlYWRPbmx5OiEwfSldLGZlLnByb3RvdHlwZSxcIl9jbGlwcGluZ0JveFwiLG51bGwpLGUoW2Ioe3JlYWRPbmx5OiEwfSldLGZlLnByb3RvdHlwZSxcIl9lbGV2YXRpb25PZmZzZXRcIixudWxsKSxlKFtiKHt0eXBlOkJvb2xlYW59KV0sZmUucHJvdG90eXBlLFwic2xpY2VQbGFuZUVuYWJsZWRcIix2b2lkIDApLGUoW2IoKV0sZmUucHJvdG90eXBlLFwidXBkYXRpbmdcIix2b2lkIDApLGUoW2IoZGUpXSxmZS5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzXCIsdm9pZCAwKSxlKFtiKHtyZWFkT25seTohMH0pXSxmZS5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzVmFsdWVcIixudWxsKSxmZT1lKFt3KFwiZXNyaS52aWV3cy4zZC5sYXllcnMuUG9pbnRDbG91ZExheWVyVmlldzNEXCIpXSxmZSk7Y29uc3QgeWU9ZmU7ZnVuY3Rpb24gYmUoZSl7cmV0dXJuIDUqZS5jb29yZGluYXRlcy5sZW5ndGgrMTI4fWNvbnN0IHdlPUEoKSxOZT0xNjA7ZnVuY3Rpb24gUGUoZSl7cmV0dXJuIHQ9PmUuaW1tZWRpYXRlLnNjaGVkdWxlKHQpfWV4cG9ydHt5ZSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7V29ya2VySGFuZGxlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS93b3JrZXJzL1dvcmtlckhhbmRsZS5qc1wiO2NsYXNzIHIgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKHQpe3N1cGVyKFwiUG9pbnRDbG91ZFdvcmtlclwiLFwidHJhbnNmb3JtXCIse3RyYW5zZm9ybTp0PT50aGlzLl9nZXRUcmFuc2Zlckxpc3QodCl9LHQpfV9nZXRUcmFuc2Zlckxpc3QodCl7Y29uc3Qgcj1bdC5nZW9tZXRyeUJ1ZmZlcl07aWYobnVsbCE9dC5wcmltYXJ5QXR0cmlidXRlRGF0YSYmdC5wcmltYXJ5QXR0cmlidXRlRGF0YS5idWZmZXImJnIucHVzaCh0LnByaW1hcnlBdHRyaWJ1dGVEYXRhLmJ1ZmZlciksbnVsbCE9dC5tb2R1bGF0aW9uQXR0cmlidXRlRGF0YSYmdC5tb2R1bGF0aW9uQXR0cmlidXRlRGF0YS5idWZmZXImJnIucHVzaCh0Lm1vZHVsYXRpb25BdHRyaWJ1dGVEYXRhLmJ1ZmZlciksbnVsbCE9dC5maWx0ZXJBdHRyaWJ1dGVzRGF0YSlmb3IoY29uc3QgZSBvZiB0LmZpbHRlckF0dHJpYnV0ZXNEYXRhKW51bGwhPWUmJmUuYnVmZmVyJiZyLnB1c2goZS5idWZmZXIpO2Zvcihjb25zdCBlIG9mIHQudXNlckF0dHJpYnV0ZXNEYXRhKWUuYnVmZmVyJiZyLnB1c2goZS5idWZmZXIpO3JldHVybiByfX1leHBvcnR7ciBhcyBQb2ludENsb3VkV29ya2VySGFuZGxlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aiBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzLmpzXCI7ZnVuY3Rpb24gdChlLHQsZyl7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspcltuXT0hMSxvW25dPW51bGw7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspbltyXT0hMSxsW3JdPW51bGw7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IG89aCh0W25dLGUsZyk7bz49MCYmKHJbbl09ITAsbnVsbCE9bFtvXT9sW29dLnB1c2godFtuXSk6bFtvXT1bdFtuXV0pfWZvcihsZXQgbD0wO2w8ZS5sZW5ndGg7bCsrKXtjb25zdCByPWgoZVtsXSx0LGcpO3I+PTAmJihuW2xdPSEwLG51bGwhPW9bcl0/b1tyXS5wdXNoKGVbbF0pOm9bcl09W2VbbF1dKX1jb25zdCB1PVtdO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKW51bGwhPWxbcl18fG5bcl18fHUucHVzaCh7bG9hZDpbXSxyZW1vdmU6W2Vbcl1dfSk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspbnVsbCE9b1tuXXx8cltuXXx8dS5wdXNoKHtsb2FkOlt0W25dXSxyZW1vdmU6W119KTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyludWxsIT1vW25dJiYob1tuXS5sZW5ndGg+MXx8b1tuXVswXSE9PXRbbl0pJiZ1LnB1c2goe2xvYWQ6W3Rbbl1dLHJlbW92ZTpvW25dfSk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspbnVsbCE9bFtuXSYmKGxbbl0ubGVuZ3RoPjF8fGxbbl1bMF0hPT1lW25dKSYmdS5wdXNoKHtsb2FkOmxbbl0scmVtb3ZlOltlW25dXX0pO3JldHVybiB1fWNvbnN0IG49WyExXSxsPVtudWxsXSxyPVshMV0sbz1bbnVsbF07ZnVuY3Rpb24gaChlLHQsbil7bGV0IGw9ZTtmb3IoO2w+MDspe2NvbnN0IGU9dC5pbmRleE9mKGwpO2lmKGU+PTApcmV0dXJuIGU7bD1uLmdldFBhcmVudElkKGwpfXJldHVybiB0LmluZGV4T2YobCl9ZnVuY3Rpb24gZyh0LG4sbCl7cmV0dXJuIHQuc29ydCgoKHQscik9PntpZigwPT09dC5sb2FkLmxlbmd0aCYmMD09PXIubG9hZC5sZW5ndGgpcmV0dXJuIDA7aWYoMD09PXQubG9hZC5sZW5ndGgpcmV0dXJuLTE7aWYoMD09PXIubG9hZC5sZW5ndGgpcmV0dXJuIDE7aWYoMD09PXQucmVtb3ZlLmxlbmd0aCYmMD09PXIucmVtb3ZlLmxlbmd0aCl7Y29uc3Qgbz1sLmdldFJlbmRlckNlbnRlcih0LmxvYWRbMF0pLGg9bC5nZXRSZW5kZXJDZW50ZXIoci5sb2FkWzBdKTtyZXR1cm4gZShvLG4pLWUoaCxuKX1pZigwPT09dC5yZW1vdmUubGVuZ3RoKXJldHVybi0xO2lmKDA9PT1yLnJlbW92ZS5sZW5ndGgpcmV0dXJuIDE7aWYoMT09PXQubG9hZC5sZW5ndGgmJjE9PT1yLmxvYWQubGVuZ3RoKXtjb25zdCBvPWwuZ2V0UmVuZGVyQ2VudGVyKHQubG9hZFswXSksaD1sLmdldFJlbmRlckNlbnRlcihyLmxvYWRbMF0pO3JldHVybiBlKG8sbiktZShoLG4pfWlmKDE9PT10LmxvYWQubGVuZ3RoKXJldHVybi0xO2lmKDE9PT1yLmxvYWQubGVuZ3RoKXJldHVybiAxO3tjb25zdCBvPWwuZ2V0UmVuZGVyQ2VudGVyKHQucmVtb3ZlWzBdKSxoPWwuZ2V0UmVuZGVyQ2VudGVyKHIucmVtb3ZlWzBdKTtyZXR1cm4gZShvLG4pLWUoaCxuKX19KSl9ZnVuY3Rpb24gdShlLHQsbil7Zm9yKGxldCBsPTA7bDxlLmxlbmd0aDsrK2wpe2NvbnN0IHI9ZVtsXTtyLmxvYWQubGVuZ3RoPnQmJjE9PT1yLnJlbW92ZS5sZW5ndGgmJmQoZSxyLG4pfX1mdW5jdGlvbiBkKGUsdCxuKXtjb25zdCBsPVt0LnJlbW92ZVswXV0scj1bXTtmb3IoOzE9PT1sLmxlbmd0aDspe2NvbnN0IGU9bC5wb3AoKTtyLmxlbmd0aD0wO2ZvcihsZXQgbz0wO288dC5sb2FkLmxlbmd0aDtvKyspe2xldCBoPXQubG9hZFtvXSxnPW4uZ2V0UGFyZW50SWQoaCk7Zm9yKDtnIT09ZTspaD1nLGc9bi5nZXRQYXJlbnRJZChoKTtsZXQgdT1sLmluZGV4T2YoaCk7dTwwJiYodT1sLmxlbmd0aCxsLnB1c2goaCksci5wdXNoKFtdKSksclt1XS5wdXNoKHQubG9hZFtvXSl9fXQubG9hZD1sO2ZvcihsZXQgbz0wO288bC5sZW5ndGg7bysrKXJbb10ubGVuZ3RoPjE/ZS5wdXNoKHtyZW1vdmU6W2xbb11dLGxvYWQ6cltvXX0pOmxbb109cltvXVswXX1leHBvcnR7dCBhcyBub2RlRGlmZixnIGFzIHNvcnRGcm9udFRvQmFjayx1IGFzIHNwbGl0V29ya0VudHJpZXMsZCBhcyBzcGxpdFdvcmtFbnRyeX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZSBhcyBlLGNvbnRhaW5zIGFzIHQsaW50ZXJzZWN0cyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHt0cmFuc2Zvcm1PYmIgYXMgbn1mcm9tXCIuL0kzU1V0aWwuanNcIjtpbXBvcnR7c2V0IGFzIGksdG9BYUJvdW5kaW5nQm94IGFzIG8saW50ZXJzZWN0UGxhbmUgYXMgcn1mcm9tXCIuLi8uLi9zdXBwb3J0L29yaWVudGVkQm91bmRpbmdCb3guanNcIjtjbGFzcyBwe2NvbnN0cnVjdG9yKGUsdCxzKXt0aGlzLl9wYWdlcz1bXSx0aGlzLnBhZ2VTaXplPTAsdGhpcy5fbm9kZVNSPW51bGwsdGhpcy5fcmVuZGVyU1I9bnVsbCx0aGlzLl9ub2RlU1I9ZSx0aGlzLl9yZW5kZXJTUj10LHRoaXMucGFnZVNpemU9c31hZGRQYWdlKGUsdCxzPTApe2Zvcig7dGhpcy5fcGFnZXMubGVuZ3RoPGU7KXRoaXMuX3BhZ2VzLnB1c2gobnVsbCk7YSh0LHRoaXMuX25vZGVTUix0aGlzLl9yZW5kZXJTUixzKSx0aGlzLl9wYWdlc1tlXT17bm9kZXM6dCxwYXJlbnRzOm5ldyBVaW50MzJBcnJheSh0aGlzLnBhZ2VTaXplKX0sZyh0aGlzLl9wYWdlcyx0aGlzLnBhZ2VTaXplKX1oYXNQYWdlKGUpe3JldHVybiEhdGhpcy5fcGFnZXNbZV19Z2V0Tm9kZShlKXtjb25zdCB0PXRoaXMucGFnZVNpemU7cmV0dXJuIHRoaXMuX3BhZ2VzW3UoZSx0KV0ubm9kZXNbbChlLHQpXX1nZXRSZW5kZXJPYmIoZSl7Y29uc3QgdD10aGlzLnBhZ2VTaXplO3JldHVybiB0aGlzLl9wYWdlc1t1KGUsdCldLm5vZGVzW2woZSx0KV0ub2JiSW5SZW5kZXJTUn1nZXRSZW5kZXJDZW50ZXIoZSl7cmV0dXJuIHRoaXMuZ2V0UmVuZGVyT2JiKGUpLmNlbnRlcn1zZXRSZW5kZXJPYmIoZSx0KXtjb25zdCBzPXRoaXMucGFnZVNpemU7aSh0LHRoaXMuX3BhZ2VzW3UoZSxzKV0ubm9kZXNbbChlLHMpXS5vYmJJblJlbmRlclNSKX1nZXRQYXJlbnRJZChlKXtjb25zdCB0PXRoaXMucGFnZVNpemU7cmV0dXJuIHRoaXMuX3BhZ2VzW3UoZSx0KV0ucGFyZW50c1tsKGUsdCldfWhhc05vZGVzKGUsdCl7Y29uc3Qgcz11KGUsdGhpcy5wYWdlU2l6ZSksbj11KGUrdC0xLHRoaXMucGFnZVNpemUpO2ZvcihsZXQgaT1zO2k8PW47aSsrKWlmKG51bGw9PXRoaXMuX3BhZ2VzW2ldKXJldHVybiExO3JldHVybiEwfWZvckVhY2hOb2RlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLl9wYWdlcy5sZW5ndGg7dCsrKXtjb25zdCBzPXRoaXMuX3BhZ2VzW3RdO2lmKHMpZm9yKGxldCBuPTA7bjxzLm5vZGVzLmxlbmd0aDtuKyspZSh0KnRoaXMucGFnZVNpemUrbil9fWNyZWF0ZVZpc2liaWxpdHlUcmF2ZXJzZSgpe2NvbnN0IHQ9e2luZGV4OnRoaXMscXVldWU6W10sbWFza3M6W10sdGVtcEFhYmI6ZSgpfTtyZXR1cm4oZSxzKT0+aCh0LGUscyl9fWZ1bmN0aW9uIGgoZSxuLGkpe2NvbnN0IHA9ZS5pbmRleDtpZighcC5oYXNOb2RlcygwLDEpKXJldHVybjtjb25zdCBoPWUucXVldWU7aC5sZW5ndGg9MCxoLnB1c2goMCk7Y29uc3QgYT1lLm1hc2tzO2ZvcihhLmxlbmd0aD0wLGEucHVzaCgwKTtoLmxlbmd0aD4wOyl7Y29uc3QgZz1oLnBvcCgpO2xldCBsPWEucG9wKCk7Y29uc3QgZD1wLmdldE5vZGUoZyksYz1wLmdldFJlbmRlck9iYihnKTtsZXQgZj0hMDtpZihudWxsIT1uLmNsaXBwaW5nQm94KXtjb25zdCBpPTE8PG4uZnJ1c3R1bS5sZW5ndGg7aWYoMD09KGwmaSkpe2NvbnN0IHI9byhjLGUudGVtcEFhYmIpO3Qobi5jbGlwcGluZ0JveCxyKT9sfD1pOnMobi5jbGlwcGluZ0JveCxyKXx8KGY9ITEpfX1mb3IobGV0IGU9MDtlPG4uZnJ1c3R1bS5sZW5ndGgmJmY7ZSsrKXtjb25zdCB0PTE8PGU7aWYoMD09KGwmdCkpe2NvbnN0IHM9cihjLG4uZnJ1c3R1bVtlXSk7cz4wP2Y9ITE6czwwJiYobHw9dCl9fWlmKGkucHJlZGljYXRlKGcsZCxmKSl7Y29uc3QgZT1kLmZpcnN0Q2hpbGQsdD1kLmNoaWxkQ291bnQ7bGV0IHM9ITE7Y29uc3Qgbj11KGUscC5wYWdlU2l6ZSksbz11KGUrdC0xLHAucGFnZVNpemUpO2ZvcihsZXQgcj1uO3I8PW87cisrKWlmKCFwLmhhc1BhZ2Uocikpe2kucGFnZU1pc3MoZyxyKSxzPSEwO2JyZWFrfWlmKCFzKWZvcihsZXQgaT0wO2k8dDtpKyspaC5wdXNoKGUraSksYS5wdXNoKGwpfX19ZnVuY3Rpb24gYShlLHQscyxpKXtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKyl7Y29uc3Qgcj1lW29dO24oci5vYmIsdCxyLm9iYkluUmVuZGVyU1IscyxpKX19ZnVuY3Rpb24gZyhlLHQpe2NvbnN0IHM9WzBdO2Zvcig7cy5sZW5ndGg7KXtjb25zdCBuPXMucG9wKCksaT1lW3Uobix0KV0ubm9kZXNbbChuLHQpXTtmb3IobGV0IG89MDtvPGkuY2hpbGRDb3VudDtvKyspe2NvbnN0IHI9aS5maXJzdENoaWxkK287bnVsbCE9ZVt1KHIsdCldJiYoZVt1KHIsdCldLnBhcmVudHNbbChyLHQpXT1uLHMucHVzaChyKSl9fX1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuIGUvdHwwfWZ1bmN0aW9uIGwoZSx0KXtyZXR1cm4gZSV0fWV4cG9ydHtwIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQodCl7Y29uc3QgZT10LnJlbmRlcmVyLG49ZT8udHlwZSxvPWU/LnRvSlNPTigpPz9udWxsO2xldCBsPW51bGwsaT0hMTtjb25zdCBhPXQuYXR0cmlidXRlU3RvcmFnZUluZm87XCJwb2ludC1jbG91ZC11bmlxdWUtdmFsdWVcIj09PW58fFwicG9pbnQtY2xvdWQtc3RyZXRjaFwiPT09bnx8XCJwb2ludC1jbG91ZC1jbGFzcy1icmVha3NcIj09PW4/bD11KGEsZS5maWVsZCk6XCJwb2ludC1jbG91ZC1yZ2JcIj09PW4/KGw9cihhLGUuZmllbGQpLGk9bnVsbCE9bCk6KGw9cihhLFwiUkdCXCIpLGk9bnVsbCE9bCk7bGV0IHM9bnVsbDtyZXR1cm4gZT8uY29sb3JNb2R1bGF0aW9uJiYocz11KGEsZS5jb2xvck1vZHVsYXRpb24uZmllbGQpKSx7cmVuZGVyZXJKU09OOm8saXNSR0JSZW5kZXJlcjppLHByaW1hcnlBdHRyaWJ1dGU6bCxtb2R1bGF0aW9uQXR0cmlidXRlOnN9fWZ1bmN0aW9uIGUodCl7Y29uc3QgZT10LmZpbHRlcnM7cmV0dXJuIGU/ZS5tYXAoKGU9Pih7ZmlsdGVySlNPTjplLnRvSlNPTigpLGF0dHJpYnV0ZUluZm86dSh0LmF0dHJpYnV0ZVN0b3JhZ2VJbmZvLGUuZmllbGQpfSkpKTpbXX1mdW5jdGlvbiBuKHQpe2NvbnN0IGU9dD8ucG9pbnRTaXplQWxnb3JpdGhtO3JldHVybiBlJiZcInNwbGF0XCI9PT1lLnR5cGU/ZTpudWxsfWZ1bmN0aW9uIG8odCl7Y29uc3QgZT10Py5wb2ludFNpemVBbGdvcml0aG07cmV0dXJuIGUmJlwiZml4ZWQtc2l6ZVwiPT09ZS50eXBlP2U6bnVsbH1mdW5jdGlvbiBsKHQpe2NvbnN0IGU9dD8ucG9pbnRTaXplQWxnb3JpdGhtO3JldHVybiEhZT8udHlwZSYmXCJmaXhlZC1zaXplXCI9PT1lLnR5cGV9ZnVuY3Rpb24gcih0LGUpe2Zvcihjb25zdCBuIG9mIHQ/P1tdKWlmKG4ubmFtZT09PWUmJm51bGwhPW4uYXR0cmlidXRlVmFsdWVzJiZcIlVJbnQ4XCI9PT1uLmF0dHJpYnV0ZVZhbHVlcy52YWx1ZVR5cGUmJjM9PT1uLmF0dHJpYnV0ZVZhbHVlcy52YWx1ZXNQZXJFbGVtZW50KXJldHVybntuYW1lOmUsc3RvcmFnZUluZm86bix1c2VFbGV2YXRpb246ITF9O3JldHVybiBudWxsfWZ1bmN0aW9uIHUodCxlKXtmb3IoY29uc3QgbiBvZiB0Pz9bXSlpZihuLm5hbWU9PT1lKXtjb25zdCB0PVwiZW1iZWRkZWQtZWxldmF0aW9uXCI9PT1uLmVuY29kaW5nO3JldHVybiB0P3tuYW1lOmUsc3RvcmFnZUluZm86bnVsbCx1c2VFbGV2YXRpb246dH06e25hbWU6ZSxzdG9yYWdlSW5mbzpuLHVzZUVsZXZhdGlvbjp0fX1yZXR1cm5cImVsZXZhdGlvblwiPT09ZT8udG9Mb3dlckNhc2UoKT97bmFtZTplLHN0b3JhZ2VJbmZvOm51bGwsdXNlRWxldmF0aW9uOiEwfTpudWxsfWV4cG9ydHt1IGFzIGdldEF0dHJpYnV0ZUluZm8sZSBhcyBnZXRGaWx0ZXJJbmZvLG8gYXMgZ2V0Rml4ZWRTaXplQWxnb3JpdGhtLHQgYXMgZ2V0UmVuZGVyZXJJbmZvLG4gYXMgZ2V0U3BsYXRTaXplQWxnb3JpdGhtLGwgYXMgcmVuZGVyZXJVc2VzRml4ZWRTaXplc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL3JlbmRlcmVycy9Qb2ludENsb3VkQ2xhc3NCcmVha3NSZW5kZXJlci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uLy4uL3JlbmRlcmVycy9Qb2ludENsb3VkU3RyZXRjaFJlbmRlcmVyLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vLi4vcmVuZGVyZXJzL1BvaW50Q2xvdWRVbmlxdWVWYWx1ZVJlbmRlcmVyLmpzXCI7aW1wb3J0e2NyZWF0ZUdlb21ldHJ5SW5kZXhGcm9tU2NoZW1hIGFzIHQsY3JlYXRlVHlwZWRWaWV3IGFzIG4scmVhZEJpbmFyeUF0dHJpYnV0ZSBhcyBsfWZyb21cIi4vSTNTQmluYXJ5UmVhZGVyLmpzXCI7aW1wb3J0e2RlY29kZVhZWiBhcyBzfWZyb21cIi4vTEVQQ0MuanNcIjtmdW5jdGlvbiBpKHQsbixsLHMpe2NvbnN0e3JlbmRlcmVySlNPTjppLGlzUkdCUmVuZGVyZXI6dX09dDtsZXQgYz1udWxsLGE9bnVsbDtpZihuJiZ1KWM9bjtlbHNlIGlmKG4mJlwicG9pbnRDbG91ZFVuaXF1ZVZhbHVlUmVuZGVyZXJcIj09PWk/LnR5cGUpe2E9by5mcm9tSlNPTihpKTtjb25zdCBlPWEuY29sb3JVbmlxdWVWYWx1ZUluZm9zO2M9bmV3IFVpbnQ4QXJyYXkoMypzKTtjb25zdCByPWQoYS5maWVsZFRyYW5zZm9ybVR5cGUpO2ZvcihsZXQgbz0wO288cztvKyspe2NvbnN0IHQ9KHI/cihuW29dKTpuW29dKStcIlwiO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0udmFsdWVzLmluY2x1ZGVzKHQpKXtjWzMqb109ZVtyXS5jb2xvci5yLGNbMypvKzFdPWVbcl0uY29sb3IuZyxjWzMqbysyXT1lW3JdLmNvbG9yLmI7YnJlYWt9fX1lbHNlIGlmKG4mJlwicG9pbnRDbG91ZFN0cmV0Y2hSZW5kZXJlclwiPT09aT8udHlwZSl7YT1yLmZyb21KU09OKGkpO2NvbnN0IGU9YS5zdG9wcztjPW5ldyBVaW50OEFycmF5KDMqcyk7Y29uc3Qgbz1kKGEuZmllbGRUcmFuc2Zvcm1UeXBlKTtmb3IobGV0IHI9MDtyPHM7cisrKXtjb25zdCB0PW8/byhuW3JdKTpuW3JdLGw9ZS5sZW5ndGgtMTtpZih0PGVbMF0udmFsdWUpY1szKnJdPWVbMF0uY29sb3IucixjWzMqcisxXT1lWzBdLmNvbG9yLmcsY1szKnIrMl09ZVswXS5jb2xvci5iO2Vsc2UgaWYodD49ZVtsXS52YWx1ZSljWzMqcl09ZVtsXS5jb2xvci5yLGNbMypyKzFdPWVbbF0uY29sb3IuZyxjWzMqcisyXT1lW2xdLmNvbG9yLmI7ZWxzZSBmb3IobGV0IG89MTtvPGUubGVuZ3RoO28rKylpZih0PGVbb10udmFsdWUpe2NvbnN0IG49KHQtZVtvLTFdLnZhbHVlKS8oZVtvXS52YWx1ZS1lW28tMV0udmFsdWUpO2NbMypyXT1lW29dLmNvbG9yLnIqbitlW28tMV0uY29sb3IuciooMS1uKSxjWzMqcisxXT1lW29dLmNvbG9yLmcqbitlW28tMV0uY29sb3IuZyooMS1uKSxjWzMqcisyXT1lW29dLmNvbG9yLmIqbitlW28tMV0uY29sb3IuYiooMS1uKTticmVha319fWVsc2UgaWYobiYmXCJwb2ludENsb3VkQ2xhc3NCcmVha3NSZW5kZXJlclwiPT09aT8udHlwZSl7YT1lLmZyb21KU09OKGkpO2NvbnN0IHI9YS5jb2xvckNsYXNzQnJlYWtJbmZvcztjPW5ldyBVaW50OEFycmF5KDMqcyk7Y29uc3Qgbz1kKGEuZmllbGRUcmFuc2Zvcm1UeXBlKTtmb3IobGV0IGU9MDtlPHM7ZSsrKXtjb25zdCB0PW8/byhuW2VdKTpuW2VdO2ZvcihsZXQgbz0wO288ci5sZW5ndGg7bysrKWlmKHQ+PXJbb10ubWluVmFsdWUmJnQ8PXJbb10ubWF4VmFsdWUpe2NbMyplXT1yW29dLmNvbG9yLnIsY1szKmUrMV09cltvXS5jb2xvci5nLGNbMyplKzJdPXJbb10uY29sb3IuYjticmVha319fWVsc2UgYz1uZXcgVWludDhBcnJheSgzKnMpLmZpbGwoMjU1KTtpZihsJiZhPy5jb2xvck1vZHVsYXRpb24pe2NvbnN0IGU9YS5jb2xvck1vZHVsYXRpb24ubWluVmFsdWUscj1hLmNvbG9yTW9kdWxhdGlvbi5tYXhWYWx1ZSxvPS4zO2ZvcihsZXQgdD0wO3Q8czt0Kyspe2NvbnN0IG49bFt0XSxzPW4+PXI/MTpuPD1lP286bysoMS1vKSoobi1lKS8oci1lKTtjWzMqdF09cypjWzMqdF0sY1szKnQrMV09cypjWzMqdCsxXSxjWzMqdCsyXT1zKmNbMyp0KzJdfX1yZXR1cm4gY31mdW5jdGlvbiB1KGUscil7aWYobnVsbD09ZS5lbmNvZGluZ3x8XCJcIj09PWUuZW5jb2Rpbmcpe2NvbnN0IG89dChyLGUpO2lmKG51bGw9PW8udmVydGV4QXR0cmlidXRlcy5wb3NpdGlvbilyZXR1cm47Y29uc3QgbD1uKHIsby52ZXJ0ZXhBdHRyaWJ1dGVzLnBvc2l0aW9uKSxzPW8uaGVhZGVyLmZpZWxkcyxpPVtzLm9mZnNldFgscy5vZmZzZXRZLHMub2Zmc2V0Wl0sdT1bcy5zY2FsZVgscy5zY2FsZVkscy5zY2FsZVpdLGM9bC5sZW5ndGgvMyxhPW5ldyBGbG9hdDY0QXJyYXkoMypjKTtmb3IobGV0IGU9MDtlPGM7ZSsrKWFbMyplXT1sWzMqZV0qdVswXStpWzBdLGFbMyplKzFdPWxbMyplKzFdKnVbMV0raVsxXSxhWzMqZSsyXT1sWzMqZSsyXSp1WzJdK2lbMl07cmV0dXJuIGF9aWYoXCJsZXBjYy14eXpcIj09PWUuZW5jb2RpbmcpcmV0dXJuIHMocikucmVzdWx0fWZ1bmN0aW9uIGMoZSxyLG8pe3JldHVybiBlPy5hdHRyaWJ1dGVJbmZvLnVzZUVsZXZhdGlvbj9yP2EocixvKTpudWxsOmU/LmF0dHJpYnV0ZUluZm8uc3RvcmFnZUluZm8/bChlLmF0dHJpYnV0ZUluZm8uc3RvcmFnZUluZm8sZS5idWZmZXIsbyk6bnVsbH1mdW5jdGlvbiBhKGUscil7Y29uc3Qgbz1uZXcgRmxvYXQ2NEFycmF5KHIpO2ZvcihsZXQgdD0wO3Q8cjt0Kyspb1t0XT1lWzMqdCsyXTtyZXR1cm4gb31mdW5jdGlvbiBmKGUscixvLHQsbil7Y29uc3QgbD1lLmxlbmd0aC8zO2xldCBzPTA7Zm9yKGxldCBpPTA7aTxsO2krKyl7bGV0IGw9ITA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aCYmbDtlKyspe2NvbnN0e2ZpbHRlckpTT046cn09dFtlXSxvPW5bZV0udmFsdWVzW2ldO3N3aXRjaChyLnR5cGUpe2Nhc2VcInBvaW50Q2xvdWRWYWx1ZUZpbHRlclwiOntjb25zdCBlPVwiZXhjbHVkZVwiPT09ci5tb2RlO3IudmFsdWVzLmluY2x1ZGVzKG8pPT09ZSYmKGw9ITEpO2JyZWFrfWNhc2VcInBvaW50Q2xvdWRCaXRmaWVsZEZpbHRlclwiOntjb25zdCBlPXAoci5yZXF1aXJlZFNldEJpdHMpLHQ9cChyLnJlcXVpcmVkQ2xlYXJCaXRzKTsobyZlKT09PWUmJjA9PShvJnQpfHwobD0hMSk7YnJlYWt9Y2FzZVwicG9pbnRDbG91ZFJldHVybkZpbHRlclwiOntjb25zdCBlPTE1Jm8sdD1vPj4+NCYxNSxuPXQ+MSxzPTE9PT1lLGk9ZT09PXQ7bGV0IHU9ITE7Zm9yKGNvbnN0IG8gb2Ygci5pbmNsdWRlZFJldHVybnMpaWYoXCJsYXN0XCI9PT1vJiZpfHxcImZpcnN0T2ZNYW55XCI9PT1vJiZzJiZufHxcImxhc3RPZk1hbnlcIj09PW8mJmkmJm58fFwic2luZ2xlXCI9PT1vJiYhbil7dT0hMDticmVha311fHwobD0hMSk7YnJlYWt9fX1sJiYob1tzXT1pLGVbMypzXT1lWzMqaV0sZVszKnMrMV09ZVszKmkrMV0sZVszKnMrMl09ZVszKmkrMl0sclszKnNdPXJbMyppXSxyWzMqcysxXT1yWzMqaSsxXSxyWzMqcysyXT1yWzMqaSsyXSxzKyspfXJldHVybiBzfWZ1bmN0aW9uIGQoZSl7c3dpdGNoKGUpe2RlZmF1bHQ6Y2FzZSBudWxsOmNhc2VcIm5vbmVcIjpyZXR1cm4gZT0+ZTtjYXNlXCJsb3ctZm91ci1iaXRcIjpyZXR1cm4gZT0+MTUmZTtjYXNlXCJoaWdoLWZvdXItYml0XCI6cmV0dXJuIGU9PigyNDAmZSk+PjQ7Y2FzZVwiYWJzb2x1dGUtdmFsdWVcIjpyZXR1cm4gZT0+TWF0aC5hYnMoZSk7Y2FzZVwibW9kdWxvLXRlblwiOnJldHVybiBlPT5lJTEwfX1mdW5jdGlvbiBwKGUpe2xldCByPTA7Zm9yKGNvbnN0IG8gb2YgZXx8W10pcnw9MTw8bztyZXR1cm4gcn1leHBvcnR7YSBhcyBlbGV2YXRpb25Gcm9tUG9zaXRpb25zLGkgYXMgZXZhbHVhdGVSZW5kZXJlcixmIGFzIGZpbHRlckluUGxhY2UsYyBhcyBnZXRBdHRyaWJ1dGVWYWx1ZXMsdSBhcyByZWFkR2VvbWV0cnl9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2xldCBlPWNsYXNzIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihyKXtzdXBlcihyKSx0aGlzLnBvaW50Q2xvdWRNZXRhZGF0YT1udWxsfX07cihbcyh7Y29uc3RydWN0T25seTohMCxjbG9uYWJsZTpcInJlZmVyZW5jZVwifSldLGUucHJvdG90eXBlLFwicG9pbnRDbG91ZE1ldGFkYXRhXCIsdm9pZCAwKSxlPXIoW3QoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5pM3MuUG9pbnRHcmFwaGljXCIpXSxlKTtleHBvcnR7ZSBhcyBQb2ludEdyYXBoaWN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHttYWtlSGFuZGxlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHtPYmplY3QzRFN0YXRlIGFzIHR9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9iYXNpY0ludGVyZmFjZXMuanNcIjtpbXBvcnR7T2JqZWN0M0RTdGF0ZUlEIGFzIGl9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9PYmplY3QzRFN0YXRlSUQuanNcIjtjbGFzcyBoe2NvbnN0cnVjdG9yKGUpe3RoaXMuX2NvbnRleHQ9ZSx0aGlzLl9oaWdobGlnaHRzPW5ldyBTZXR9Z2V0IGVtcHR5KCl7cmV0dXJuIDA9PT10aGlzLl9oaWdobGlnaHRzLnNpemV9ZGVzdHJveSgpe3RoaXMuX2hpZ2hsaWdodHM9bnVsbH1hZGQodCl7Y29uc3QgaT1uZXcgcyh0KTtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0cy5hZGQoaSksdGhpcy5fZW5hYmxlU2V0KGkpLGUoKCgpPT50aGlzLl9yZW1vdmVTZXQoaSkpKX1fcmVtb3ZlU2V0KGUpe3RoaXMuX2Rpc2FibGVTZXQoZSksdGhpcy5faGlnaGxpZ2h0cy5kZWxldGUoZSl9X2VuYWJsZVNldChlKXtlLmVuYWJsZWR8fChlLmVuYWJsZWQ9ITAsdGhpcy5fY29udGV4dC5mb3JFYWNoTm9kZSgodD0+dGhpcy5fZW5hYmxlU2V0Rm9yTm9kZShlLHQpKSkpfV9lbmFibGVTZXRGb3JOb2RlKGUsdCl7aWYoIWUuZW5hYmxlZClyZXR1cm47Y29uc3QgaT1lLmlkcy5nZXQodC5pZCk7aSYmaS5mb3JFYWNoKChpPT50aGlzLl9jb250ZXh0LmFkZEhpZ2hsaWdodCh0LGksZS5pZCkpKX1fZGlzYWJsZVNldChlKXtlLmVuYWJsZWQmJihlLmVuYWJsZWQ9ITEsdGhpcy5fY29udGV4dC5mb3JFYWNoTm9kZSgodD0+dGhpcy5fZGlzYWJsZVNldEZvck5vZGUoZSx0KSkpKX1fZGlzYWJsZVNldEZvck5vZGUoZSx0KXtlLmVuYWJsZWR8fHRoaXMuX2NvbnRleHQucmVtb3ZlSGlnaGxpZ2h0KHQsZS5pZCl9bm9kZUFkZGVkKGUpe3RoaXMuX2hpZ2hsaWdodHMuZm9yRWFjaCgodD0+dGhpcy5fZW5hYmxlU2V0Rm9yTm9kZSh0LGUpKSl9bm9kZVJlbW92ZWQoZSl7dGhpcy5faGlnaGxpZ2h0cy5mb3JFYWNoKCh0PT50aGlzLl9kaXNhYmxlU2V0Rm9yTm9kZSh0LGUpKSl9cmVtb3ZlQWxsKCl7dGhpcy5faGlnaGxpZ2h0cy5mb3JFYWNoKChlPT50aGlzLl9kaXNhYmxlU2V0KGUpKSl9fWNsYXNzIHN7Y29uc3RydWN0b3IoZSl7dGhpcy5pZD1uZXcgaSh0LkhpZ2hsaWdodCksdGhpcy5pZHM9bmV3IE1hcCx0aGlzLmVuYWJsZWQ9ITE7Zm9yKGNvbnN0IHQgb2YgZSludWxsIT10JiZ0aGlzLl9hZGQodC5ub2RlSWQsdC5wb2ludElkKX1fYWRkKGUsdCl7Y29uc3QgaT10aGlzLmlkcy5nZXQoZSk7aT9pLmFkZCh0KTp0aGlzLmlkcy5zZXQoZSxuZXcgU2V0KFt0XSkpfX1leHBvcnR7aCBhcyBQb2ludEhpZ2hsaWdodHN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtkaXNwb3NlTWF5YmUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Qb29sZWRBcnJheS5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2YgYXMgbixsIGFzIG8saSBhcyBhLEUgYXMgbCxqIGFzIGgsbSBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2MgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjM2Y2NC5qc1wiO2ltcG9ydHtzIGFzIGR9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzQuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIHAsb2Zmc2V0IGFzIG0sY29udGFpbnMgYXMgZyxjb250YWluc1BvaW50IGFzIF8sc2V0IGFzIGYscG9zaXRpdmVJbmZpbml0eSBhcyBQLGVxdWFscyBhcyBifWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ0JveC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgU31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3BsYW5lLmpzXCI7aW1wb3J0e2Zyb21Qb2ludHMgYXMgeH1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3JheS5qc1wiO2ltcG9ydHtQY2xUYXJnZXQgYXMgen1mcm9tXCIuL0ludGVyc2VjdG9yLmpzXCI7aW1wb3J0e1BvaW50SGlnaGxpZ2h0cyBhcyB3fWZyb21cIi4vUG9pbnRIaWdobGlnaHRzLmpzXCI7aW1wb3J0e21pbmltdW1EaXN0YW5jZVBsYW5lIGFzIFIsbWF4aW11bURpc3RhbmNlUGxhbmUgYXMgaixpbnRlcnNlY3RMaW5lIGFzIHksdG9BYUJvdW5kaW5nQm94IGFzIHF9ZnJvbVwiLi4vLi4vc3VwcG9ydC9vcmllbnRlZEJvdW5kaW5nQm94LmpzXCI7aW1wb3J0e1NoYWRlck91dHB1dCBhcyBBfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvU2hhZGVyT3V0cHV0LmpzXCI7aW1wb3J0e1N5bmNQcmVwYXJlUmVuZGVyUGx1Z2luIGFzIEl9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2VmZmVjdHMvUmVuZGVyUGx1Z2luLmpzXCI7aW1wb3J0e0RlZmF1bHQzRCBhcyB2fWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvRGVmYXVsdFZlcnRleEF0dHJpYnV0ZUxvY2F0aW9ucy5qc1wiO2ltcG9ydHtuZXdJbnRlcnNlY3RvclJlc3VsdCBhcyBFfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvSW50ZXJzZWN0b3IuanNcIjtpbXBvcnR7SW50ZXJzZWN0b3JUeXBlIGFzIEYsU3RvcmVSZXN1bHRzIGFzIE99ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9JbnRlcnNlY3RvckludGVyZmFjZXMuanNcIjtpbXBvcnR7UmVuZGVyU2xvdCBhcyBDfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvUmVuZGVyU2xvdC5qc1wiO2ltcG9ydHtWZXJ0ZXhBcnJheU9iamVjdCBhcyBOfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvVmVydGV4QXJyYXlPYmplY3QuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIFR9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtpbXBvcnR7UCBhcyBMLGEgYXMgSCxnIGFzIE19ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL1BvaW50UmVuZGVyZXIuZ2xzbC5qc1wiO2ltcG9ydHtQb2ludFJlbmRlcmVyVGVjaG5pcXVlIGFzIEJ9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL3NoYWRlcnMvUG9pbnRSZW5kZXJlclRlY2huaXF1ZS5qc1wiO2ltcG9ydHtQb2ludFJlbmRlcmVyVGVjaG5pcXVlQ29uZmlndXJhdGlvbiBhcyBVfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9zaGFkZXJzL1BvaW50UmVuZGVyZXJUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7aW1wb3J0e0J1ZmZlck9iamVjdCBhcyBEfWZyb21cIi4uLy4uLy4uL3dlYmdsL0J1ZmZlck9iamVjdC5qc1wiO2ltcG9ydHtEYXRhVHlwZSBhcyBWLFByaW1pdGl2ZVR5cGUgYXMgVyxVc2FnZSBhcyBrfWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e1ZlcnRleEVsZW1lbnREZXNjcmlwdG9yIGFzIEd9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvVmVydGV4RWxlbWVudERlc2NyaXB0b3IuanNcIjtjb25zdCBRPXtwb3NpdGlvbnM6W25ldyBHKFQuUE9TSVRJT04sMyxWLkZMT0FULDAsMTIpXSxjb2xvcnM6W25ldyBHKFQuQ09MT1IsMyxWLlVOU0lHTkVEX0JZVEUsMCwzLCEwKV19O2xldCBZPWNsYXNzIGV4dGVuZHMgSXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnR5cGU9Ri5QQ0wsdGhpcy5pc0dyb3VuZD0hMSx0aGlzLl9wYXNzUGFyYW1ldGVycz1uZXcgTCx0aGlzLl9oaWdobGlnaHRzPW5ldyB3KHtmb3JFYWNoTm9kZTplPT50aGlzLmZvckVhY2hOb2RlKGUpLGFkZEhpZ2hsaWdodDooZSxzLHQpPT50aGlzLl9hZGRIaWdobGlnaHQoZSxzLHQpLHJlbW92ZUhpZ2hsaWdodDooZSxzKT0+dGhpcy5fcmVtb3ZlSGlnaGxpZ2h0KGUscyl9KSx0aGlzLnByb2R1Y2VzPW5ldyBNYXAoW1tDLk9QQVFVRV9NQVRFUklBTCxlPT5lIT09QS5IaWdobGlnaHR8fCF0aGlzLl9oaWdobGlnaHRzLmVtcHR5XV0pLHRoaXMubGF5ZXJVaWQ9XCJcIix0aGlzLl9zbGljZVBsYW5lRW5hYmxlZD0hMSx0aGlzLl90ZWNobmlxdWVDb25maWc9bmV3IFUsdGhpcy5fbm9kZXM9bmV3IHR9aW5pdGlhbGl6ZVJlbmRlckNvbnRleHQoZSl7dGhpcy5fY29udGV4dD1lLGUucmVxdWVzdFJlbmRlcigpfXVuaW5pdGlhbGl6ZVJlbmRlckNvbnRleHQoKXt9aW50ZXJzZWN0KGUscyx0LGkpe2NvbnN0IHI9dSgpLGY9dSgpLFA9dSgpLGI9dSgpLHc9UygpLEE9ZS5jYW1lcmEucGVyU2NyZWVuUGl4ZWxSYXRpby8yLEk9ZS5jYW1lcmEubmVhcjtuKGYsaSx0KTtjb25zdCB2PTEvbyhmKTthKGYsZix2KSxsKFAsZiksZCh3LGZbMF0sZlsxXSxmWzJdLC1oKGYsdCkpO2NvbnN0IEY9bmV3IGllLEM9bmV3IGllLE49bmV3IEFycmF5LFQ9cCgpLEw9cCh0aGlzLl9wYXNzUGFyYW1ldGVycy5jbGlwQm94KTttKEwsLXRbMF0sLXRbMV0sLXRbMl0sTCksdGhpcy5fbm9kZXMuZm9yQWxsKChvPT57Y29uc3QgYT1vLnNwbGF0U2l6ZSp0aGlzLl9wYXNzUGFyYW1ldGVycy5zY2FsZUZhY3RvcjtsZXQgbD1SKG8ub2JiLHcpLHU9aihvLm9iYix3KTtsLT1aKGEsbCtJLHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLEEsby5pc0xlYWYpLHUtPVooYSx1K0ksdGhpcy5fcGFzc1BhcmFtZXRlcnMsQSxvLmlzTGVhZik7Y29uc3QgZD11PDAscD1udWxsIT1GLmRpc3QmJm51bGwhPUMuZGlzdCYmRi5kaXN0PGwqdiYmQy5kaXN0PnUqdjtpZihkfHxwKXJldHVybjtjb25zdCBTPVgoYSx1K0ksdGhpcy5fcGFzc1BhcmFtZXRlcnMsQSxvLmlzTGVhZik7aWYoIXkoby5vYmIsdCxmLFMpKXJldHVybjtjb25zdCB4PVMqUztxKG8ub2JiLFQpLG0oVCwtdFswXSwtdFsxXSwtdFsyXSxUKTtjb25zdCB6PSFnKEwsVCk7bihiLG8ub3JpZ2luLHQpO2NvbnN0IEU9by5jb29yZGluYXRlcy5sZW5ndGgvMztmb3IobGV0IG49MDtuPEU7bisrKXtpZihyWzBdPWJbMF0rby5jb29yZGluYXRlc1szKm5dLHJbMV09YlsxXStvLmNvb3JkaW5hdGVzWzMqbisxXSxyWzJdPWJbMl0rby5jb29yZGluYXRlc1szKm4rMl0seiYmIV8oTCxyKSljb250aW51ZTtjb25zdCBsPWgocixmKSx1PWMociktbCpsO2lmKHU+eCljb250aW51ZTtsZXQgZD1sK0k7Y29uc3QgcD1aKGEsZCx0aGlzLl9wYXNzUGFyYW1ldGVycyxBLG8uaXNMZWFmKTtpZihsLXA8MCljb250aW51ZTtkLT1wO2NvbnN0IG09WChhLGQsdGhpcy5fcGFzc1BhcmFtZXRlcnMsQSxvLmlzTGVhZik7aWYodT5tKm0pY29udGludWU7Y29uc3QgZz0obC1wKSp2LFM9ZT0+KGUucG9pbnQ9JChvLG4sZS5wb2ludCksZS5kaXN0PWcsZS5ub3JtYWw9UCxlLm5vZGU9byxlLnBvaW50SWQ9bixlLmxheWVyVWlkPXRoaXMubGF5ZXJVaWQsZSk7aWYoKG51bGw9PUYuZGlzdHx8ZzxGLmRpc3QpJiYobnVsbD09c3x8cyh0LGksZykpJiZTKEYpLGUub3B0aW9ucy5zdG9yZSE9PU8uTUlOJiYobnVsbD09Qy5kaXN0fHxnPkMuZGlzdCkmJihudWxsPT1zfHxzKHQsaSxnKSkmJlMoQyksZS5vcHRpb25zLnN0b3JlPT09Ty5BTEwmJihudWxsPT1zfHxzKHQsaSxnKSkpe2NvbnN0IGU9bmV3IGllO04ucHVzaChTKGUpKX19fSkpO2NvbnN0IEg9ZT0+e2NvbnN0e2xheWVyVWlkOnMsbm9kZTp0LHBvaW50SWQ6aX09ZTtyZXR1cm4gbmV3IHooZS5wb2ludCxzLGksKCgpPT50aGlzLmNyZWF0ZUdyYXBoaWModCxpLGUucG9pbnQpKSl9LE09KGUscyk9Pntjb25zdCB0PUgocyk7ZS5zZXQodGhpcy50eXBlLHQscy5kaXN0LHMubm9ybWFsKX07aWYocmUoRikpe2NvbnN0IHM9ZS5yZXN1bHRzLm1pbjsobnVsbD09cy5kaXN0fHxGLmRpc3Q8cy5kaXN0KSYmTShzLEYpfWlmKHJlKEMpJiZlLm9wdGlvbnMuc3RvcmUhPT1PLk1JTil7Y29uc3Qgcz1lLnJlc3VsdHMubWF4OyhudWxsPT1zLmRpc3R8fEMuZGlzdD5zLmRpc3QpJiZNKHMsQyl9aWYoZS5vcHRpb25zLnN0b3JlPT09Ty5BTEwpe2NvbnN0IHM9eCh0LGkpO2Zvcihjb25zdCB0IG9mIE4pe2NvbnN0IGk9RShzKTtNKGksdCksZS5yZXN1bHRzLmFsbC5wdXNoKGkpfX19cHJlcGFyZVRlY2huaXF1ZShlKXtyZXR1cm4gMD09PXRoaXMuX25vZGVzLmxlbmd0aHx8ZS5vdXRwdXQhPT1BLkNvbG9yJiZlLm91dHB1dCE9PUEuRGVwdGgmJmUub3V0cHV0IT09QS5IaWdobGlnaHQ/bnVsbDoodGhpcy5fbm9kZXMuZm9yQWxsKChzPT57bnVsbD09cy52YW8mJnRoaXMuX2luaXROb2RlKGUscyl9KSksdGhpcy5fdGVjaG5pcXVlQ29uZmlnLmRyYXdTY3JlZW5TaXplPXRoaXMuX3Bhc3NQYXJhbWV0ZXJzLmRyYXdTY3JlZW5TcGFjZSx0aGlzLl90ZWNobmlxdWVDb25maWcudXNlRml4ZWRTaXplcz10aGlzLl9wYXNzUGFyYW1ldGVycy51c2VGaXhlZFNpemVzLHRoaXMuX3RlY2huaXF1ZUNvbmZpZy5oYXNTbGljZVBsYW5lPXRoaXMuX3NsaWNlUGxhbmVFbmFibGVkLHRoaXMuX3RlY2huaXF1ZUNvbmZpZy5oYXNPY2NsdWRlZXM9ZS5iaW5kUGFyYW1ldGVycy5oYXNPY2NsdWRlZXMsdGhpcy5fdGVjaG5pcXVlQ29uZmlnLmNsaXBwaW5nRW5hYmxlZD10aGlzLl9jbGlwcGluZ0VuYWJsZWQsdGhpcy5fdGVjaG5pcXVlQ29uZmlnLm91dHB1dD1lLm91dHB1dCx0aGlzLl9jb250ZXh0LnRlY2huaXF1ZVJlcG9zaXRvcnkucmVsZWFzZUFuZEFjcXVpcmUoQix0aGlzLl90ZWNobmlxdWVDb25maWcsdGhpcy5fdGVjaG5pcXVlKSl9cmVuZGVyTm9kZShlLHMpe2NvbnN0IHQ9ZS5yY3R4LGk9dC5iaW5kVGVjaG5pcXVlKHMsdGhpcy5fcGFzc1BhcmFtZXRlcnMsZS5iaW5kUGFyYW1ldGVycykscj1lLm91dHB1dD09PUEuSGlnaGxpZ2h0O3RoaXMuX25vZGVzLmZvckFsbCgocz0+ezA9PT1zLmNvb3JkaW5hdGVzLmxlbmd0aHx8ciYmIXMuaGlnaGxpZ2h0c3x8KGkuYmluZERyYXcocyxlLmJpbmRQYXJhbWV0ZXJzLHRoaXMuX3Bhc3NQYXJhbWV0ZXJzKSx0LmJpbmRWQU8ocy52YW8pLHI/dGhpcy5fcmVuZGVySGlnaGxpZ2h0RnJhZ21lbnRzKHQscyk6dC5kcmF3QXJyYXlzKFcuUE9JTlRTLDAscy5jb29yZGluYXRlcy5sZW5ndGgvMykpfSkpfV9yZW5kZXJIaWdobGlnaHRGcmFnbWVudHMoZSxzKXtjb25zdCB0PXMuaGlnaGxpZ2h0cztpZihudWxsPT10KXJldHVybjtsZXQgaT10WzBdLmNvbXBvbmVudCxyPWkrMTtmb3IobGV0IG89MTtvPHQubGVuZ3RoO28rKyl7Y29uc3Qgcz10W29dLmNvbXBvbmVudDtpZihzIT09cil7Y29uc3QgdD1yLWk7dD4wJiZlLmRyYXdBcnJheXMoVy5QT0lOVFMsaSx0KSxpPXN9cj1zKzF9Y29uc3Qgbj1yLWk7bj4wJiZlLmRyYXdBcnJheXMoVy5QT0lOVFMsaSxuKX1zZXQgdXNlRml4ZWRTaXplcyhlKXt0aGlzLl9wYXNzUGFyYW1ldGVycy51c2VGaXhlZFNpemVzIT09ZSYmKHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnVzZUZpeGVkU2l6ZXM9ZSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCkpfWdldCB1c2VGaXhlZFNpemVzKCl7cmV0dXJuIHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnVzZUZpeGVkU2l6ZXN9c2V0IHNjYWxlRmFjdG9yKGUpe3RoaXMuX3Bhc3NQYXJhbWV0ZXJzLnNjYWxlRmFjdG9yIT09ZSYmKHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnNjYWxlRmFjdG9yPWUsdGhpcy5fcmVxdWVzdFJlbmRlcigpKX1nZXQgc2NhbGVGYWN0b3IoKXtyZXR1cm4gdGhpcy5fcGFzc1BhcmFtZXRlcnMuc2NhbGVGYWN0b3J9c2V0IG1pblNpemVQeChlKXt0aGlzLl9wYXNzUGFyYW1ldGVycy5taW5TaXplUHghPT1lJiYodGhpcy5fcGFzc1BhcmFtZXRlcnMubWluU2l6ZVB4PWUsdGhpcy5fcmVxdWVzdFJlbmRlcigpKX1nZXQgbWluU2l6ZVB4KCl7cmV0dXJuIHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLm1pblNpemVQeH1zZXQgdXNlUmVhbFdvcmxkU3ltYm9sU2l6ZXMoZSl7dGhpcy5fcGFzc1BhcmFtZXRlcnMudXNlUmVhbFdvcmxkU3ltYm9sU2l6ZXMhPT1lJiYodGhpcy5fcGFzc1BhcmFtZXRlcnMudXNlUmVhbFdvcmxkU3ltYm9sU2l6ZXM9ZSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCkpfWdldCB1c2VSZWFsV29ybGRTeW1ib2xTaXplcygpe3JldHVybiB0aGlzLl9wYXNzUGFyYW1ldGVycy51c2VSZWFsV29ybGRTeW1ib2xTaXplc31zZXQgc2l6ZShlKXt0aGlzLl9wYXNzUGFyYW1ldGVycy5zaXplIT09ZSYmKHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnNpemU9ZSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCkpfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnNpemV9c2V0IHNpemVQeChlKXt0aGlzLl9wYXNzUGFyYW1ldGVycy5zaXplUHghPT1lJiYodGhpcy5fcGFzc1BhcmFtZXRlcnMuc2l6ZVB4PWUsdGhpcy5fcmVxdWVzdFJlbmRlcigpKX1nZXQgc2l6ZVB4KCl7cmV0dXJuIHRoaXMuX3Bhc3NQYXJhbWV0ZXJzLnNpemVQeH1zZXQgY2xpcHBpbmdCb3goZSl7Zih0aGlzLl9wYXNzUGFyYW1ldGVycy5jbGlwQm94LGV8fFApfWdldCBfY2xpcHBpbmdFbmFibGVkKCl7cmV0dXJuIWIodGhpcy5fcGFzc1BhcmFtZXRlcnMuY2xpcEJveCxQLCgoZSxzKT0+ZT09PXMpKX1nZXQgc2xpY2VQbGFuZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fc2xpY2VQbGFuZUVuYWJsZWR9c2V0IHNsaWNlUGxhbmVFbmFibGVkKGUpe3RoaXMuX3NsaWNlUGxhbmVFbmFibGVkIT09ZSYmKHRoaXMuX3NsaWNlUGxhbmVFbmFibGVkPWUsdGhpcy5fcmVxdWVzdFJlbmRlcigpKX1hZGROb2RlKGUpe3RoaXMuX25vZGVzLnB1c2goZSksdGhpcy5faGlnaGxpZ2h0cy5ub2RlQWRkZWQoZSksdGhpcy5fcmVxdWVzdFJlbmRlcigpfXJlbW92ZU5vZGUoZSl7bGV0IHQ9bnVsbDtyZXR1cm4gdGhpcy5fbm9kZXMuZmlsdGVySW5QbGFjZSgoaT0+aS5pZCE9PWV8fCh0PWksaS52YW89cyhpLnZhbyksdGhpcy5faGlnaGxpZ2h0cy5ub2RlUmVtb3ZlZChpKSwhMSkpKSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCksdH1mb3JFYWNoTm9kZShlKXt0aGlzLl9ub2Rlcy5mb3JBbGwoZSl9cmVtb3ZlQWxsKCl7dGhpcy5fbm9kZXMuZm9yQWxsKChlPT5lLnZhbz1zKGUudmFvKSkpLHRoaXMuX2hpZ2hsaWdodHMucmVtb3ZlQWxsKCksdGhpcy5fbm9kZXMuY2xlYXIoKSx0aGlzLl9yZXF1ZXN0UmVuZGVyKCl9aGlnaGxpZ2h0KGUpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzLmFkZChlKX1fYWRkSGlnaGxpZ2h0KGUscyx0KXtlLmhpZ2hsaWdodHM9c2UoZS5oaWdobGlnaHRzLHMsdCksdGhpcy5fcmVxdWVzdFJlbmRlcigpfV9yZW1vdmVIaWdobGlnaHQoZSxzKXtlLmhpZ2hsaWdodHM9dGUoZS5oaWdobGlnaHRzLHMpLHRoaXMuX3JlcXVlc3RSZW5kZXIoKX1faW5pdE5vZGUoZSxzKXtjb25zdCB0PWUucmN0eDtzLnZhbz1uZXcgTih0LHYsUSx7cG9zaXRpb25zOkQuY3JlYXRlVmVydGV4KHQsay5TVEFUSUNfRFJBVyxzLmNvb3JkaW5hdGVzKSxjb2xvcnM6RC5jcmVhdGVWZXJ0ZXgodCxrLlNUQVRJQ19EUkFXLHMucmdiKX0pfV9yZXF1ZXN0UmVuZGVyKCl7dGhpcy5fY29udGV4dCYmdGhpcy5fY29udGV4dC5yZXF1ZXN0UmVuZGVyKCl9fTtlKFtpKHtjb25zdHJ1Y3RPbmx5OiEwfSldLFkucHJvdG90eXBlLFwiY3JlYXRlR3JhcGhpY1wiLHZvaWQgMCksWT1lKFtyKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuaTNzLlBvaW50UmVuZGVyZXJcIildLFkpO2NsYXNzIEogZXh0ZW5kcyBIe2NvbnN0cnVjdG9yKGUscyx0LGkscixuLG8sYSxsPW51bGwsaD1udWxsKXtzdXBlcih0LHIscyksdGhpcy5pZD1lLHRoaXMub2JiPWksdGhpcy5jb29yZGluYXRlcz1uLHRoaXMucmdiPW8sdGhpcy5hdHRyaWJ1dGVzPWEsdGhpcy5wb2ludElkRmlsdGVyTWFwPWwsdGhpcy5oaWdobGlnaHRzPWh9fWZ1bmN0aW9uIEsoZSl7cmV0dXJuIGUuaGFzT3duUHJvcGVydHkoXCJzcGxhdFNpemVcIil9ZnVuY3Rpb24gWChlLHMsdCxpLHIpe2lmKHQuZHJhd1NjcmVlblNwYWNlKXJldHVybiB0LmZpeGVkU2l6ZSpzKmk7Y29uc3Qgbj1NKHIpKnMqaTtyZXR1cm4gdC51c2VGaXhlZFNpemVzP01hdGgubWluKHQuZml4ZWRTaXplLzIsbik6dC5zY3JlZW5NaW5TaXplPjA/TWF0aC5taW4oTWF0aC5tYXgodC5zY3JlZW5NaW5TaXplKnMqaSxlLzIpLG4pOk1hdGgubWluKGUvMixuKX1mdW5jdGlvbiBaKGUscyx0LGkscil7cmV0dXJuIHQuZHJhd1NjcmVlblNwYWNlPzA6WChlLHMsdCxpLHIpfWZ1bmN0aW9uICQoZSxzLHQpe3JldHVybiBudWxsPT10JiYodD11KCkpLHRbMF09ZS5vcmlnaW5bMF0rZS5jb29yZGluYXRlc1szKnNdLHRbMV09ZS5vcmlnaW5bMV0rZS5jb29yZGluYXRlc1szKnMrMV0sdFsyXT1lLm9yaWdpblsyXStlLmNvb3JkaW5hdGVzWzMqcysyXSx0fWZ1bmN0aW9uIGVlKGUpe3JldHVybiBudWxsIT1lLmNvbXBvbmVudD9lLmNvbXBvbmVudDotMX1mdW5jdGlvbiBzZShlLHMsdCl7bnVsbD09ZSYmKGU9W10pO2NvbnN0IGk9e2NvbXBvbmVudDpzLGlkOnR9O2UucHVzaChpKTtjb25zdCByPWVlKGkpO2xldCBuPWUubGVuZ3RoLTE7Zm9yKDtuPjAmJnI8ZWUoZVtuLTFdKTspW2Vbbi0xXSxlW25dXT1bZVtuXSxlW24tMV1dLC0tbjtyZXR1cm4gZX1mdW5jdGlvbiB0ZShlLHMpe2lmKG51bGw9PWUpcmV0dXJuIGU7Y29uc3QgdD1lLmZpbHRlcigoZT0+ZS5pZCE9PXMpKTtyZXR1cm4gMD09PXQubGVuZ3RoP251bGw6dH1jbGFzcyBpZXtjb25zdHJ1Y3Rvcigpe3RoaXMubm9kZT1udWxsLHRoaXMucG9pbnRJZD1udWxsLHRoaXMucG9pbnQ9bnVsbCx0aGlzLmRpc3Q9bnVsbCx0aGlzLm5vcm1hbD1udWxsLHRoaXMubGF5ZXJVaWQ9XCJcIn19ZnVuY3Rpb24gcmUoZSl7cmV0dXJuIG51bGwhPWUuZGlzdCYmbnVsbCE9ZS5wb2ludCYmbnVsbCE9ZS5wb2ludElkJiZudWxsIT1lLm5vZGV9ZXhwb3J0e1kgYXMgUG9pbnRSZW5kZXJlcixKIGFzIFBvaW50UmVuZGVyZXJOb2RlLEsgYXMgaXNJbnN0YW5jZU9mTm9kZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e3VucGFja0ZpZWxkTmFtZXMgYXMgdCxwb3B1bGF0ZU1pc3NpbmdGaWVsZHMgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7aW1wb3J0e2dldEZldGNoUG9wdXBUZW1wbGF0ZSBhcyBvLGdldFJlcXVpcmVkRmllbGRzIGFzIHB9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvcG9wdXBVdGlscy5qc1wiO2NvbnN0IGk9aT0+e2xldCBjPWNsYXNzIGV4dGVuZHMgaXtfdmFsaWRhdGVGZXRjaFBvcHVwRmVhdHVyZXMoZSl7Y29uc3R7bGF5ZXI6c309dGhpcyx7cG9wdXBFbmFibGVkOnR9PXM7aWYoIXQpdGhyb3cgbmV3IHIoXCJzY2VuZWxheWVydmlldzNkOmZldGNoUG9wdXBGZWF0dXJlc1wiLFwiUG9wdXBzIGFyZSBkaXNhYmxlZFwiLHtsYXllcjpzfSk7aWYoIW8ocyxlKSl0aHJvdyBuZXcgcihcInNjZW5lbGF5ZXJ2aWV3M2Q6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJMYXllciBkb2VzIG5vdCBkZWZpbmUgYSBwb3B1cCB0ZW1wbGF0ZVwiLHtsYXllcjpzfSl9YXN5bmMgcHJlcGFyZUZldGNoUG9wdXBGZWF0dXJlcyhlKXt9YXN5bmMgZmV0Y2hQb3B1cEZlYXR1cmVzKGUscil7dGhpcy5fdmFsaWRhdGVGZXRjaFBvcHVwRmVhdHVyZXMocik7Y29uc3Qgcz1udWxsIT1yP3IuY2xpZW50R3JhcGhpY3M6bnVsbDtpZighc3x8MD09PXMubGVuZ3RoKXJldHVybltdO2NvbnN0IGk9XCJzY2VuZVwiPT09dGhpcy5sYXllci50eXBlJiZudWxsIT10aGlzLmxheWVyLmFzc29jaWF0ZWRMYXllcj90aGlzLmxheWVyLmFzc29jaWF0ZWRMYXllcjp0aGlzLmxheWVyO2xldCBjPVtdO1wiZmllbGRzSW5kZXhcImluIHRoaXMubGF5ZXImJihjPXQodGhpcy5sYXllci5maWVsZHNJbmRleCxhd2FpdCBwKGksbyh0aGlzLmxheWVyLHIpKSkpLGF3YWl0IHRoaXMucHJlcGFyZUZldGNoUG9wdXBGZWF0dXJlcyhjKTtjb25zdCBsPW5ldyBTZXQsbj1bXSx1PVtdO2Zvcihjb25zdCB0IG9mIHMpYShjLHQsbCk/dS5wdXNoKHQpOm4ucHVzaCh0KTtyZXR1cm4gMD09PXUubGVuZ3RoP246dGhpcy53aGVuR3JhcGhpY0F0dHJpYnV0ZXModSxbLi4ubF0pLmNhdGNoKCgoKT0+dSkpLnRoZW4oKGU9Pm4uY29uY2F0KGUpKSl9fTtyZXR1cm4gYz1lKFtzKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuc3VwcG9ydC5Qb3B1cFNjZW5lTGF5ZXJWaWV3XCIpXSxjKSxjfTtleHBvcnR7aSBhcyBQb3B1cFNjZW5lTGF5ZXJWaWV3fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7UmVsb2FkYWJsZVNoYWRlck1vZHVsZSBhcyBlfWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1JlbG9hZGFibGVTaGFkZXJNb2R1bGUuanNcIjtpbXBvcnR7U2hhZGVyVGVjaG5pcXVlIGFzIHJ9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvU2hhZGVyVGVjaG5pcXVlLmpzXCI7aW1wb3J0e0RlZmF1bHQzRCBhcyBpfWZyb21cIi4uL2xpYi9EZWZhdWx0VmVydGV4QXR0cmlidXRlTG9jYXRpb25zLmpzXCI7aW1wb3J0e1Byb2dyYW0gYXMgdH1mcm9tXCIuLi9saWIvUHJvZ3JhbS5qc1wiO2ltcG9ydHtzdGVuY2lsV3JpdGVNYXNrT24gYXMgbyxzdGVuY2lsQmFzZUFsbFplcm9zUGFyYW1zIGFzIHN9ZnJvbVwiLi4vbGliL1N0ZW5jaWxVdGlscy5qc1wiO2ltcG9ydHtiIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL1BvaW50UmVuZGVyZXIuZ2xzbC5qc1wiO2ltcG9ydHtDb21wYXJlRnVuY3Rpb24gYXMgbH1mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHttYWtlUGlwZWxpbmVTdGF0ZSBhcyBjLGRlZmF1bHREZXB0aFdyaXRlUGFyYW1zIGFzIGEsZGVmYXVsdENvbG9yV3JpdGVQYXJhbXMgYXMgdX1mcm9tXCIuLi8uLi8uLi93ZWJnbC9yZW5kZXJTdGF0ZS5qc1wiO2NsYXNzIG0gZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUscixpKXtzdXBlcihlLHIsaSl9aW5pdGlhbGl6ZVByb2dyYW0oZSl7cmV0dXJuIG5ldyB0KGUucmN0eCxtLnNoYWRlci5nZXQoKS5idWlsZCh0aGlzLmNvbmZpZ3VyYXRpb24pLGkpfWluaXRpYWxpemVQaXBlbGluZSgpe3JldHVybiBjKHtkZXB0aFRlc3Q6e2Z1bmM6bC5MRVNTfSxkZXB0aFdyaXRlOmEsY29sb3JXcml0ZTp1LHN0ZW5jaWxXcml0ZTp0aGlzLmNvbmZpZ3VyYXRpb24uaGFzT2NjbHVkZWVzP286bnVsbCxzdGVuY2lsVGVzdDp0aGlzLmNvbmZpZ3VyYXRpb24uaGFzT2NjbHVkZWVzP3M6bnVsbH0pfX1tLnNoYWRlcj1uZXcgZShuLCgoKT0+aW1wb3J0KFwiLi9Qb2ludFJlbmRlcmVyLmdsc2wuanNcIikpKTtleHBvcnR7bSBhcyBQb2ludFJlbmRlcmVyVGVjaG5pcXVlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7U2hhZGVyT3V0cHV0IGFzIG99ZnJvbVwiLi4vY29yZS9zaGFkZXJMaWJyYXJ5L1NoYWRlck91dHB1dC5qc1wiO2ltcG9ydHtwYXJhbWV0ZXIgYXMgdH1mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7aW1wb3J0e0RlZmF1bHRUZWNobmlxdWVDb25maWd1cmF0aW9uIGFzIGl9ZnJvbVwiLi4vbWF0ZXJpYWxzL0RlZmF1bHRUZWNobmlxdWVDb25maWd1cmF0aW9uLmpzXCI7Y2xhc3MgciBleHRlbmRzIGl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMub3V0cHV0PW8uQ29sb3IsdGhpcy5oYXNTbGljZVBsYW5lPSExLHRoaXMuZHJhd1NjcmVlblNpemU9ITEsdGhpcy51c2VGaXhlZFNpemVzPSExLHRoaXMuaGFzT2NjbHVkZWVzPSExLHRoaXMuY2xpcHBpbmdFbmFibGVkPSExfX1lKFt0KHtjb3VudDpvLkNPVU5UfSldLHIucHJvdG90eXBlLFwib3V0cHV0XCIsdm9pZCAwKSxlKFt0KCldLHIucHJvdG90eXBlLFwiaGFzU2xpY2VQbGFuZVwiLHZvaWQgMCksZShbdCgpXSxyLnByb3RvdHlwZSxcImRyYXdTY3JlZW5TaXplXCIsdm9pZCAwKSxlKFt0KCldLHIucHJvdG90eXBlLFwidXNlRml4ZWRTaXplc1wiLHZvaWQgMCksZShbdCgpXSxyLnByb3RvdHlwZSxcImhhc09jY2x1ZGVlc1wiLHZvaWQgMCksZShbdCgpXSxyLnByb3RvdHlwZSxcImNsaXBwaW5nRW5hYmxlZFwiLHZvaWQgMCksZShbdCh7Y29uc3RWYWx1ZTohMH0pXSxyLnByb3RvdHlwZSxcImhhc1NsaWNlSW5WZXJ0ZXhQcm9ncmFtXCIsdm9pZCAwKTtleHBvcnR7ciBhcyBQb2ludFJlbmRlcmVyVGVjaG5pcXVlQ29uZmlndXJhdGlvbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtJZGVudGlmaWFibGVNaXhpbiBhcyBzfWZyb21cIi4uLy4uL2NvcmUvSWRlbnRpZmlhYmxlLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtFc3JpUHJvbWlzZU1peGluIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9Qcm9taXNlLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBsfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7VXBkYXRpbmdIYW5kbGVzIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9zdXBwb3J0L1VwZGF0aW5nSGFuZGxlcy5qc1wiO2xldCBkPWNsYXNzIGV4dGVuZHMocyhuKHIuRXZlbnRlZE1peGluKHQpKSkpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcz1uZXcgcCx0aGlzLmxheWVyPW51bGwsdGhpcy5wYXJlbnQ9bnVsbH1pbml0aWFsaXplKCl7dGhpcy53aGVuKCkuY2F0Y2goKGU9PntpZihcImxheWVydmlldzpjcmVhdGUtZXJyb3JcIiE9PWUubmFtZSl7Y29uc3QgdD10aGlzLmxheWVyJiZ0aGlzLmxheWVyLmlkfHxcIm5vIGlkXCIscj10aGlzLmxheWVyPy50aXRsZXx8XCJubyB0aXRsZVwiO2kuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiI3Jlc29sdmUoKVwiLGBGYWlsZWQgdG8gcmVzb2x2ZSBsYXllciB2aWV3IChsYXllciB0aXRsZTogJyR7cn0nLCBpZDogJyR7dH0nKWAsZSl9fSkpfWRlc3Ryb3koKXt0aGlzLl91cGRhdGluZ0hhbmRsZXM9byh0aGlzLl91cGRhdGluZ0hhbmRsZXMpfWdldCBmdWxsT3BhY2l0eSgpe3JldHVybih0aGlzLmxheWVyPy5vcGFjaXR5Pz8xKSoodGhpcy5wYXJlbnQ/LmZ1bGxPcGFjaXR5Pz8xKX1nZXQgc3VzcGVuZGVkKCl7cmV0dXJuIXRoaXMuY2FuUmVzdW1lKCl9Z2V0IHN1c3BlbmRJbmZvKCl7cmV0dXJuIHRoaXMuZ2V0U3VzcGVuZEluZm8oKX1nZXQgbGVnZW5kRW5hYmxlZCgpe3JldHVybiF0aGlzLnN1c3BlbmRlZCYmITA9PT10aGlzLmxheWVyPy5sZWdlbmRFbmFibGVkfWdldCB1cGRhdGluZygpe3JldHVybiEoIXRoaXMuX3VwZGF0aW5nSGFuZGxlcz8udXBkYXRpbmcmJiF0aGlzLmlzVXBkYXRpbmcoKSl9Z2V0IHVwZGF0aW5nUHJvZ3Jlc3MoKXtyZXR1cm4gdGhpcy51cGRhdGluZz8wOjF9Z2V0IHZpc2libGUoKXtyZXR1cm4hMD09PXRoaXMubGF5ZXI/LnZpc2libGV9c2V0IHZpc2libGUoZSl7dGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJ2aXNpYmxlXCIsZSl9Y2FuUmVzdW1lKCl7cmV0dXJuIHRoaXMudmlzaWJsZSYmdGhpcy5sYXllcj8ubG9hZGVkJiYhdGhpcy5wYXJlbnQ/LnN1c3BlbmRlZCYmdGhpcy52aWV3Py5yZWFkeXx8ITF9Z2V0U3VzcGVuZEluZm8oKXtjb25zdCBlPXRoaXMucGFyZW50Py5zdXNwZW5kZWQ/dGhpcy5wYXJlbnQuc3VzcGVuZEluZm86e30sdD10aGlzO3JldHVybiB0LnZpZXc/LnJlYWR5fHwoZS52aWV3Tm90UmVhZHk9ITApLHRoaXMubGF5ZXImJnRoaXMubGF5ZXIubG9hZGVkfHwoZS5sYXllck5vdExvYWRlZD0hMCksdGhpcy52aXNpYmxlfHwoZS5sYXllckludmlzaWJsZT0hMCksZX1pc1VwZGF0aW5nKCl7cmV0dXJuITF9fTtlKFthKCldLGQucHJvdG90eXBlLFwiZnVsbE9wYWNpdHlcIixudWxsKSxlKFthKCldLGQucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJwYXJlbnRcIix2b2lkIDApLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwic3VzcGVuZGVkXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW2Eoe3R5cGU6Qm9vbGVhbixyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzXCIsbnVsbCksZShbYSgpXSxkLnByb3RvdHlwZSxcInZpc2libGVcIixudWxsKSxlKFthKCldLGQucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZD1lKFtsKFwiZXNyaS52aWV3cy5sYXllcnMuTGF5ZXJWaWV3XCIpXSxkKTtjb25zdCB1PWQ7ZXhwb3J0e3UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldEZlYXR1cmVFZGl0RmllbGRzIGFzIGUsZml4RmllbGRzIGFzIGx9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvZmllbGRVdGlscy5qc1wiO2FzeW5jIGZ1bmN0aW9uIG4obixwPW4ucG9wdXBUZW1wbGF0ZSl7aWYobnVsbD09cClyZXR1cm5bXTtjb25zdCB1PWF3YWl0IHAuZ2V0UmVxdWlyZWRGaWVsZHMobi5maWVsZHNJbmRleCkse2xhc3RFZGl0SW5mb0VuYWJsZWQ6dH09cCx7b2JqZWN0SWRGaWVsZDpkLHR5cGVJZEZpZWxkOnMsZ2xvYmFsSWRGaWVsZDppLHJlbGF0aW9uc2hpcHM6YX09bjtpZih1LmluY2x1ZGVzKFwiKlwiKSlyZXR1cm5bXCIqXCJdO2NvbnN0IG89dD9lKG4pOltdLGY9bChuLmZpZWxkc0luZGV4LFsuLi51LC4uLm9dKTtyZXR1cm4gcyYmZi5wdXNoKHMpLGYmJmQmJm4uZmllbGRzSW5kZXg/LmhhcyhkKSYmIWYuaW5jbHVkZXMoZCkmJmYucHVzaChkKSxmJiZpJiZuLmZpZWxkc0luZGV4Py5oYXMoaSkmJiFmLmluY2x1ZGVzKGkpJiZmLnB1c2goaSksYSYmYS5mb3JFYWNoKChlPT57Y29uc3R7a2V5RmllbGQ6bH09ZTtmJiZsJiZuLmZpZWxkc0luZGV4Py5oYXMobCkmJiFmLmluY2x1ZGVzKGwpJiZmLnB1c2gobCl9KSksZn1mdW5jdGlvbiBwKGUsbCl7cmV0dXJuIGUucG9wdXBUZW1wbGF0ZT9lLnBvcHVwVGVtcGxhdGU6bnVsbCE9bCYmbC5kZWZhdWx0UG9wdXBUZW1wbGF0ZUVuYWJsZWQmJm51bGwhPWUuZGVmYXVsdFBvcHVwVGVtcGxhdGU/ZS5kZWZhdWx0UG9wdXBUZW1wbGF0ZTpudWxsfWZ1bmN0aW9uIHUoZSxsKXtyZXR1cm4gbnVsbCE9cChlLHtkZWZhdWx0UG9wdXBUZW1wbGF0ZUVuYWJsZWQ6bH0pfWV4cG9ydHtwIGFzIGdldEZldGNoUG9wdXBUZW1wbGF0ZSxuIGFzIGdldFJlcXVpcmVkRmllbGRzLHUgYXMgaGFzUG9wdXBUZW1wbGF0ZX07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=