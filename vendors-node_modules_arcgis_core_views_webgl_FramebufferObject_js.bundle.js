"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_views_webgl_FramebufferObject_js"],{

/***/ "./node_modules/@arcgis/core/views/webgl/BufferObject.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/BufferObject.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BufferObject: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./checkWebGLError.js */ "./node_modules/@arcgis/core/views/webgl/checkWebGLError.js");
/* harmony import */ var _contextUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./contextUtils.js */ "./node_modules/@arcgis/core/views/webgl/contextUtils.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const _=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.webgl.BufferObject");class h{static createIndex(e,t,r){return new h(e,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER,t,r)}static createVertex(e,t,r){return new h(e,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ARRAY_BUFFER,t,r)}static createUniform(e,t,r){if(e.type!==_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__.ContextType.WEBGL2)throw new Error("Uniform buffers are supported in WebGL2 only!");return new h(e,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.UNIFORM_BUFFER,t,r)}static createPixelPack(e,t=_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STREAM_READ,r){if(e.type!==_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__.ContextType.WEBGL2)throw new Error("Pixel pack buffers are supported in WebGL2 only!");const i=new h(e,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.PIXEL_PACK_BUFFER,t);return r&&i.setSize(r),i}static createPixelUnpack(e,t=_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STREAM_DRAW,r){if(e.type!==_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__.ContextType.WEBGL2)throw new Error("Pixel unpack buffers are supported in WebGL2 only!");return new h(e,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.PIXEL_UNPACK_BUFFER,t,r)}constructor(e,t,r,i){this._context=e,this.bufferType=t,this.usage=r,this._glName=null,this._size=-1,this._indexType=void 0,e.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_5__.ResourceType.BufferObject,this),this._glName=this._context.gl.createBuffer(),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__.checkWebGLError)(this._context.gl),i&&this.setData(i)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get byteLength(){return this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER?this._indexType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_INT?4*this._size:2*this._size:this._size}get _isVAOAware(){return this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER||this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ARRAY_BUFFER}dispose(){if(this._context?.gl){if(this._glName){this._context.gl.deleteBuffer(this._glName),this._glName=null}this._context.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_5__.ResourceType.BufferObject,this),this._context=null}else this._glName&&_.warn("Leaked WebGL buffer object")}setSize(e,t=null){if(e<=0&&_.error("Buffer size needs to be positive!"),this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER&&null!=t)switch(this._indexType=t,t){case _enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_SHORT:e*=2;break;case _enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_INT:e*=4}this._setBufferData(e)}setData(e){if(!e)return;let t=e.byteLength;this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER&&((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_2__.isUint16Array)(e)&&(t/=2,this._indexType=_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_SHORT),(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_2__.isUint32Array)(e)&&(t/=4,this._indexType=_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_INT)),this._setBufferData(t,e)}_setBufferData(e,t=null){this._size=e;const r=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const i=this._context.gl;null!=t?i.bufferData(this.bufferType,t,this.usage):i.bufferData(this.bufferType,e,this.usage),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__.checkWebGLError)(i),this._isVAOAware&&this._context.bindVAO(r)}setSubData(e,t,r,i){if(!e)return;(t<0||t*e.BYTES_PER_ELEMENT>=this.byteLength)&&_.error("offset is out of range!"),r>=i&&_.error("end must be bigger than start!"),(t+(i-r))*e.BYTES_PER_ELEMENT>this.byteLength&&_.error("An attempt to write beyond the end of the buffer!");const o=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const a=this._context.gl;if(this._context.type===_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__.ContextType.WEBGL2)a.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,e,r,i-r);else{const s=0===r&&i===e.length?e:e.subarray(r,i);a.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,s)}(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__.checkWebGLError)(a),this._isVAOAware&&this._context.bindVAO(o)}getSubData(e,t=0,r,i){if(this._context.type!==_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__.ContextType.WEBGL2)return void _.error("Get buffer subdata is supported in WebGL2 only!");if(r<0||i<0)return void _.error("Problem getting subdata: offset and length were less than zero!");const s=E(e)?e.BYTES_PER_ELEMENT:1;if(s*((r??0)+(i??0))>e.byteLength)return void _.error("Problem getting subdata: offset and length exceeded destination size!");t+s*(i??0)>this.byteLength&&_.warn("Potential problem getting subdata: requested data exceeds buffer size!");const a=this._context.gl;this._context.bindBuffer(this,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.COPY_READ_BUFFER),a.getBufferSubData(_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.COPY_READ_BUFFER,t,e,r,i),this._context.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.COPY_READ_BUFFER)}async getSubDataAsync(e,t=0,r,i){this._context.type===_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__.ContextType.WEBGL2?(await this._context.clientWaitAsync(),this.getSubData(e,t,r,i)):_.error("Get buffer subdata is supported in WebGL2 only!")}}function E(t){return (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isArrayLike)(t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/FramebufferObject.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/FramebufferObject.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FramebufferObject: () => (/* binding */ E),
/* harmony export */   ensureAttachmentMaxSize: () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _BufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./checkWebGLError.js */ "./node_modules/@arcgis/core/views/webgl/checkWebGLError.js");
/* harmony import */ var _contextUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./contextUtils.js */ "./node_modules/@arcgis/core/views/webgl/contextUtils.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _GLObjectType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./GLObjectType.js */ "./node_modules/@arcgis/core/views/webgl/GLObjectType.js");
/* harmony import */ var _Renderbuffer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Renderbuffer.js */ "./node_modules/@arcgis/core/views/webgl/Renderbuffer.js");
/* harmony import */ var _Texture_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const x=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.webgl.FramebufferObject");class E{constructor(t,e,i=null){this._context=t,this._glName=null,this._colorAttachments=new Map,this._depthStencilBuffer=null,this._depthStencilTexture=null,this._initialized=!1,t.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_6__.ResourceType.FramebufferObject,this);const r=g(e)?e:new _Texture_js__WEBPACK_IMPORTED_MODULE_9__.Texture(this._context,e);if(this._colorAttachments.set(_enums_js__WEBPACK_IMPORTED_MODULE_6__.ColorAttachment.COLOR_ATTACHMENT0,r),this._validateTextureDescriptor(r.descriptor),this._validateColorAttachmentPoint(_enums_js__WEBPACK_IMPORTED_MODULE_6__.ColorAttachment.COLOR_ATTACHMENT0),null!=i)if(b(i))this._context.capabilities.depthTexture||console.error("Setting the depth/stencil texture as an attachment requires WEBGL_depth_texture or WebGL2"),this._depthStencilTexture=g(i)?i:new _Texture_js__WEBPACK_IMPORTED_MODULE_9__.Texture(this._context,i),this._validateTextureDescriptor(this._depthStencilTexture.descriptor);else{const t=A(i)?i:new _Renderbuffer_js__WEBPACK_IMPORTED_MODULE_8__.Renderbuffer(this._context,i);this._depthStencilBuffer=t,this._validateRenderBufferDescriptor(t.descriptor)}}dispose(){if(0===this._colorAttachments.size&&!this._glName)return;const t=this._context.getBoundFramebufferObject();if(this._colorAttachments.forEach(((t,e)=>this.detachColorTexture(e)?.dispose())),this.detachDepthStencilBuffer()?.dispose(),this.detachDepthStencilTexture()?.dispose(),this._glName){this._context.gl.deleteFramebuffer(this._glName),this._glName=null}this._context.bindFramebuffer(t),this._context.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_6__.ResourceType.FramebufferObject,this)}get glName(){return this._glName}get colorTexture(){return this._colorAttachments.get(_enums_js__WEBPACK_IMPORTED_MODULE_6__.ColorAttachment.COLOR_ATTACHMENT0)}get depthStencil(){return this._depthStencilTexture||this._depthStencilBuffer}get depthStencilTexture(){return this._depthStencilTexture}get width(){const t=this._colorAttachments.get(_enums_js__WEBPACK_IMPORTED_MODULE_6__.ColorAttachment.COLOR_ATTACHMENT0);return t?.descriptor?.width??0}get height(){const t=this._colorAttachments.get(_enums_js__WEBPACK_IMPORTED_MODULE_6__.ColorAttachment.COLOR_ATTACHMENT0);return t?.descriptor?.height??0}get gpuMemoryUsage(){return[...this._colorAttachments].reduce(((t,[e,i])=>t+i.gpuMemoryUsage),this.depthStencil?.gpuMemoryUsage??0)}getColorTexture(t){const e=this._colorAttachments.get(t);return e&&g(e)?e:null}get colorAttachments(){return[...this._colorAttachments.keys()]}attachColorTexture(t,e=_enums_js__WEBPACK_IMPORTED_MODULE_6__.ColorAttachment.COLOR_ATTACHMENT0){if(!t)return;this._validateColorAttachmentPoint(e);const i=t.descriptor;this._validateTextureDescriptor(i),this.detachColorTexture(e)?.dispose(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,e)),this._colorAttachments.set(e,t)}detachColorTexture(t=_enums_js__WEBPACK_IMPORTED_MODULE_6__.ColorAttachment.COLOR_ATTACHMENT0){const e=this._colorAttachments.get(t);if(e){if(this._initialized){const e=this._context.getBoundFramebufferObject();this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t),this._context.bindFramebuffer(e)}return this._colorAttachments.delete(t),e}}setColorTextureTarget(t,e=_enums_js__WEBPACK_IMPORTED_MODULE_6__.ColorAttachment.COLOR_ATTACHMENT0){const i=this._colorAttachments.get(e);i&&this._framebufferTexture2D(i.glName,e,t)}attachDepthStencil(t){if(t)switch(t.type){case _GLObjectType_js__WEBPACK_IMPORTED_MODULE_7__.GLObjectType.Texture:return this._attachDepthStencilTexture(t);case _GLObjectType_js__WEBPACK_IMPORTED_MODULE_7__.GLObjectType.RenderBuffer:return this._attachDepthStencilBuffer(t)}}_attachDepthStencilTexture(t){if(null==t)return;const e=t.descriptor;e.pixelFormat!==_enums_js__WEBPACK_IMPORTED_MODULE_6__.PixelFormat.DEPTH_STENCIL&&e.pixelFormat!==_enums_js__WEBPACK_IMPORTED_MODULE_6__.PixelFormat.DEPTH24_STENCIL8&&console.error("Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!"),e.dataType!==_enums_js__WEBPACK_IMPORTED_MODULE_6__.PixelType.UNSIGNED_INT_24_8&&console.error("Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!"),this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!"),this._validateTextureDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,_enums_js__WEBPACK_IMPORTED_MODULE_6__.DepthStencilAttachment)),this._depthStencilTexture?.dispose(),this._depthStencilTexture=t}detachDepthStencilTexture(){const t=this._depthStencilTexture;return t&&this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,_enums_js__WEBPACK_IMPORTED_MODULE_6__.DepthStencilAttachment)),this._depthStencilTexture=null,t}_attachDepthStencilBuffer(t){if(null==t)return;const e=t.descriptor;if(this._validateRenderBufferDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);const i=this._context.gl,r=this._getGLAttachmentPoint(e);i.framebufferRenderbuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.FRAMEBUFFER,r,i.RENDERBUFFER,t.glName)}this._depthStencilBuffer=t}detachDepthStencilBuffer(){const t=this._depthStencilBuffer;if(t&&this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl,i=this._getGLAttachmentPoint(t.descriptor);e.framebufferRenderbuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.FRAMEBUFFER,i,e.RENDERBUFFER,null)}return this._depthStencilBuffer=null,t}copyToTexture(t,e,i,r,s,h,n){(t<0||e<0||s<0||h<0)&&console.error("Offsets cannot be negative!"),(i<=0||r<=0)&&console.error("Copy width and height must be greater than zero!");const o=n.descriptor;n.descriptor.target!==_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureType.TEXTURE_2D&&console.error("Texture target must be TEXTURE_2D!"),(null==o?.width||null==o?.height||t+i>this.width||e+r>this.height||s+i>o.width||h+r>o.height)&&console.error("Bad dimensions, the current input values will attempt to read or copy out of bounds!");const c=this._context,a=c.bindTexture(n,_Texture_js__WEBPACK_IMPORTED_MODULE_9__.Texture.TEXTURE_UNIT_FOR_UPDATES);c.setActiveTexture(_Texture_js__WEBPACK_IMPORTED_MODULE_9__.Texture.TEXTURE_UNIT_FOR_UPDATES),c.bindFramebuffer(this),c.gl.copyTexSubImage2D(_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureType.TEXTURE_2D,0,s,h,t,e,i,r),c.bindTexture(a,_Texture_js__WEBPACK_IMPORTED_MODULE_9__.Texture.TEXTURE_UNIT_FOR_UPDATES)}readPixels(t,e,i,r,s,h,n){(i<=0||r<=0)&&console.error("Copy width and height must be greater than zero!"),n||console.error("Target memory is not initialized!"),this._context.bindFramebuffer(this),this._context.gl.readPixels(t,e,i,r,s,h,n)}async readPixelsAsync(t,e,h,n,o,c,a){if(this._context.type!==_contextUtils_js__WEBPACK_IMPORTED_MODULE_5__.ContextType.WEBGL2)return (0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.webglDebugEnabled)()&&console.warn("Attempting to read pixels using pixel buffer object without WebGL2"),void this.readPixels(t,e,h,n,o,c,a);const u=this._context.gl,_=_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createPixelPack(this._context,_enums_js__WEBPACK_IMPORTED_MODULE_6__.Usage.STREAM_READ,a.byteLength);this._context.bindBuffer(_),this._context.bindFramebuffer(this),u.readPixels(t,e,h,n,o,c,0),this._context.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.PIXEL_PACK_BUFFER),await _.getSubDataAsync(a),_.dispose()}resize(t,e){if(this.width===t&&this.height===e)return;const i={width:t,height:e};S(i,this._context.parameters.maxTextureSize),this._colorAttachments.forEach((t=>t.resize(i.width,i.height))),this._depthStencilTexture?.resize(i.width,i.height),this._initialized&&(S(i,this._context.parameters.maxRenderbufferSize),this._depthStencilBuffer?.resize(i.width,i.height),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1)}initializeAndBind(t=_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.FRAMEBUFFER){const e=this._context.gl;if(this._initialized)return void e.bindFramebuffer(t,this.glName);this._glName&&e.deleteFramebuffer(this._glName);const i=e.createFramebuffer();if(e.bindFramebuffer(t,i),this._colorAttachments.forEach(((e,i)=>this._framebufferTexture2D(e.glName,i,R(e),t))),this._depthStencilBuffer){const i=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);e.framebufferRenderbuffer(t,i,e.RENDERBUFFER,this._depthStencilBuffer.glName)}else this._depthStencilTexture&&this._framebufferTexture2D(this._depthStencilTexture.glName,e.DEPTH_STENCIL_ATTACHMENT,R(this._depthStencilTexture),t);if((0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.webglDebugEnabled)()){e.checkFramebufferStatus(t)!==e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer is incomplete!")}this._glName=i,this._initialized=!0}_framebufferTexture2D(t,e=_enums_js__WEBPACK_IMPORTED_MODULE_6__.ColorAttachment.COLOR_ATTACHMENT0,i=_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureType.TEXTURE_2D,r=_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.FRAMEBUFFER,s=0){this._context.gl.framebufferTexture2D(r,e,i,t,s)}_disposeDepthStencilAttachments(){const t=this._context.gl;if(this._depthStencilBuffer){if(this._initialized){this._context.bindFramebuffer(this);const e=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);t.framebufferRenderbuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.FRAMEBUFFER,e,t.RENDERBUFFER,null)}this._depthStencilBuffer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.disposeMaybe)(this._depthStencilBuffer)}this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t.DEPTH_STENCIL_ATTACHMENT)),this._depthStencilTexture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.disposeMaybe)(this._depthStencilTexture))}_validateTextureDescriptor(t){t.target!==_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureType.TEXTURE_2D&&t.target!==_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureType.TEXTURE_CUBE_MAP&&console.error("Texture type must be TEXTURE_2D or TEXTURE_CUBE_MAP!"),S(t,this._context.parameters.maxTextureSize),this._validateBufferDimensions(t)}_validateRenderBufferDescriptor(t){S(t,this._context.parameters.maxRenderbufferSize),this._validateBufferDimensions(t)}_validateBufferDimensions(t){t.width<=0&&(t.width=this.width),t.height<=0&&(t.height=this.height),this.width>0&&this.height>0&&(this.width===t.width&&this.height===t.height||console.error("Attachment size must match framebuffer size!"))}_getGLAttachmentPoint(t){switch(t.internalFormat){case _enums_js__WEBPACK_IMPORTED_MODULE_6__.RenderbufferFormat.DEPTH_COMPONENT16:case _enums_js__WEBPACK_IMPORTED_MODULE_6__.RenderbufferFormat.DEPTH_COMPONENT24:case _enums_js__WEBPACK_IMPORTED_MODULE_6__.RenderbufferFormat.DEPTH_COMPONENT32F:return this._context.gl.DEPTH_ATTACHMENT;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.RenderbufferFormat.DEPTH24_STENCIL8:case _enums_js__WEBPACK_IMPORTED_MODULE_6__.RenderbufferFormat.DEPTH32F_STENCIL8:case _enums_js__WEBPACK_IMPORTED_MODULE_6__.RenderbufferFormat.DEPTH_STENCIL:return this._context.gl.DEPTH_STENCIL_ATTACHMENT;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.RenderbufferFormat.STENCIL_INDEX8:return this._context.gl.STENCIL_ATTACHMENT}}_validateColorAttachmentPoint(e){if(-1===E._MAX_COLOR_ATTACHMENTS){const t=this._context.capabilities.drawBuffers;if(t){const e=this._context.gl;E._MAX_COLOR_ATTACHMENTS=e.getParameter(t.MAX_COLOR_ATTACHMENTS)}else E._MAX_COLOR_ATTACHMENTS=1}const i=e-_enums_js__WEBPACK_IMPORTED_MODULE_6__.ColorAttachment.COLOR_ATTACHMENT0;i+1>E._MAX_COLOR_ATTACHMENTS&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.views.webgl.FrameBufferObject").error("esri.FrameBufferObject",`illegal attachment point for color attachment: ${i+1}. Implementation supports up to ${E._MAX_COLOR_ATTACHMENTS} color attachments`)}}function g(t){return null!=t&&"type"in t&&t.type===_GLObjectType_js__WEBPACK_IMPORTED_MODULE_7__.GLObjectType.Texture}function A(t){return null!=t&&"type"in t&&t.type===_GLObjectType_js__WEBPACK_IMPORTED_MODULE_7__.GLObjectType.RenderBuffer}function b(t){return g(t)||null!=t&&"pixelFormat"in t}function S(t,e){const i=Math.max(t.width,t.height);if(i>e){x.warn(`Resizing FBO attachment size ${t.width}x${t.height} to device limit ${e}`);const r=e/i;return t.width=Math.round(t.width*r),t.height=Math.round(t.height*r),!1}return!0}function R(t){return t.descriptor.target===_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureType.TEXTURE_CUBE_MAP?_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureType.TEXTURE_CUBE_MAP_POSITIVE_X:_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureType.TEXTURE_2D}E._MAX_COLOR_ATTACHMENTS=-1;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/Renderbuffer.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/Renderbuffer.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Renderbuffer: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _contextUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./contextUtils.js */ "./node_modules/@arcgis/core/views/webgl/contextUtils.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _GLObjectType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GLObjectType.js */ "./node_modules/@arcgis/core/views/webgl/GLObjectType.js");
/* harmony import */ var _RenderbufferDescriptor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RenderbufferDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/RenderbufferDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i{constructor(s,i){this._context=s,this._descriptor=i,this.type=_GLObjectType_js__WEBPACK_IMPORTED_MODULE_2__.GLObjectType.RenderBuffer,this._context.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_1__.ResourceType.Renderbuffer,this);const n=this._context.gl;this.glName=n.createRenderbuffer(),this._context.bindRenderbuffer(this);const{width:o,height:h,internalFormat:c,multisampled:f}=i;if(f){if(this._context.type!==_contextUtils_js__WEBPACK_IMPORTED_MODULE_0__.ContextType.WEBGL2)throw new Error("Multisampled renderbuffers are not supported in WebGL1!");n.renderbufferStorageMultisample(n.RENDERBUFFER,this.samples,c,o,h)}else n.renderbufferStorage(n.RENDERBUFFER,c,o,h)}get descriptor(){return this._descriptor}get samples(){const e=this._descriptor.samples,t=this._context.parameters.maxSamples;return e?Math.min(e,t):t}get gpuMemoryUsage(){return (0,_RenderbufferDescriptor_js__WEBPACK_IMPORTED_MODULE_3__.estimateMemory)(this._descriptor)}resize(e,t){const r=this._descriptor;if(r.width===e&&r.height===t)return;r.width=e,r.height=t;const s=this._context.gl;if(this._context.bindRenderbuffer(this),r.multisampled){s.renderbufferStorageMultisample(s.RENDERBUFFER,this.samples,r.internalFormat,r.width,r.height)}else s.renderbufferStorage(s.RENDERBUFFER,r.internalFormat,r.width,r.height)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_1__.ResourceType.Renderbuffer,this),this._context=null)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/RenderbufferDescriptor.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/RenderbufferDescriptor.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RenderbufferDescriptor: () => (/* binding */ i),
/* harmony export */   estimateMemory: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Util.js */ "./node_modules/@arcgis/core/views/webgl/Util.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i{constructor(t,i,h=i){this.internalFormat=t,this.width=i,this.height=h,this.multisampled=!1,this.samples=1}}function h(i){return i.width<=0||i.height<=0||null==i.internalFormat?0:i.width*i.height*(0,_Util_js__WEBPACK_IMPORTED_MODULE_0__.getBytesPerElementFormat)(i.internalFormat)}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3Nfd2ViZ2xfRnJhbWVidWZmZXJPYmplY3RfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNxVyxRQUFRLHVEQUFDLDRDQUE0QyxRQUFRLDBCQUEwQixlQUFlLGlEQUFDLDJCQUEyQiwyQkFBMkIsZUFBZSxpREFBQyxtQkFBbUIsNEJBQTRCLFlBQVkseURBQUMseUVBQXlFLGVBQWUsaURBQUMscUJBQXFCLDJCQUEyQiw0Q0FBQyxnQkFBZ0IsWUFBWSx5REFBQyw0RUFBNEUsZ0JBQWdCLGlEQUFDLHNCQUFzQix5QkFBeUIsNkJBQTZCLDRDQUFDLGdCQUFnQixZQUFZLHlEQUFDLDhFQUE4RSxlQUFlLGlEQUFDLDBCQUEwQixxQkFBcUIsa0lBQWtJLG1EQUFDLGlFQUFpRSxvRUFBQyxzQ0FBc0MsYUFBYSxvQkFBb0IsV0FBVyxrQkFBa0IsZ0JBQWdCLHVCQUF1QixpQkFBaUIseUJBQXlCLGlEQUFDLHdDQUF3QywrQ0FBQyxtREFBbUQsa0JBQWtCLHlCQUF5QixpREFBQyx5Q0FBeUMsaURBQUMsY0FBYyxVQUFVLHNCQUFzQixpQkFBaUIsOERBQThELHdDQUF3QyxtREFBQyx1Q0FBdUMsd0RBQXdELGtCQUFrQix3RUFBd0UsaURBQUMsMkRBQTJELEtBQUssK0NBQUMscUJBQXFCLE1BQU0sS0FBSywrQ0FBQyxtQkFBbUIsdUJBQXVCLFdBQVcsYUFBYSxtQkFBbUIsa0JBQWtCLGlEQUFDLHdCQUF3QixzRUFBQywyQkFBMkIsK0NBQUMsaUJBQWlCLHNFQUFDLDJCQUEyQiwrQ0FBQyx5Q0FBeUMseUJBQXlCLGFBQWEsb0NBQW9DLDZFQUE2RSx5QkFBeUIsOEZBQThGLG9FQUFDLCtDQUErQyxvQkFBb0IsYUFBYSw4T0FBOE8sb0NBQW9DLDZFQUE2RSx5QkFBeUIsd0JBQXdCLHlEQUFDLHVFQUF1RSxLQUFLLDhDQUE4Qyx5REFBeUQsb0VB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LGtJQUFrSSxJQUFJLGtDQUFrQywwQkFBMEIscUJBQXFCLGNBQWMscUNBQXFDLDBEQUFDLFNBQVMsY0FBYyxxQ0FBcUMsMERBQUMsY0FBYyxjQUFjLHdDQUF3QyxnQkFBZ0IsbUNBQW1DLFFBQVEsdUNBQXVDLFFBQVEsR0FBRyxVQUFVLGtCQUFrQixFQUFFLEdBQUcsWUFBWSx3RUFBd0UsU0FBUyxjQUFjLDZCQUE2QixrREFBQyxrQkFBa0Isa0RBQUMsNkJBQTZCLGtEQUFDLFlBQVksNEJBQXdGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSjUyVTtBQUNBO0FBQ0E7QUFDQTtBQUN3TSxRQUFRLGlCQUFpQiw2Q0FBNkMsMERBQUMsc0RBQXNELG1EQUFDLG9CQUFvQix5QkFBeUIsd0VBQXdFLE1BQU0saURBQWlELEdBQUcsTUFBTSx3QkFBd0IseURBQUMsbUZBQW1GLG9FQUFvRSxpREFBaUQsaUJBQWlCLHdCQUF3QixjQUFjLHVFQUF1RSx5QkFBeUIscUJBQXFCLE9BQU8sMEVBQUMsbUJBQW1CLFlBQVkseUJBQXlCLG9DQUFvQyxxQkFBcUIseUJBQXlCLHdEQUF3RCxnR0FBZ0csNkVBQTZFLFVBQVUseUdBQXlHLG1EQUFDLHlDQUFtRTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdDdDO0FBQ0E7QUFDQTtBQUNBO0FBQ3FELFFBQVEscUJBQXFCLHNGQUFzRixjQUFjLDBFQUEwRSxrRUFBQyxtQkFBMkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC9CdWZmZXJPYmplY3QuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3Mvd2ViZ2wvRnJhbWVidWZmZXJPYmplY3QuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3Mvd2ViZ2wvUmVuZGVyYnVmZmVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL3dlYmdsL1JlbmRlcmJ1ZmZlckRlc2NyaXB0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc0FycmF5TGlrZSBhcyBlfWZyb21cIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2lzVWludDE2QXJyYXkgYXMgcixpc1VpbnQzMkFycmF5IGFzIGl9ZnJvbVwiLi4vLi4vY29yZS90eXBlZEFycmF5VXRpbC5qc1wiO2ltcG9ydHtjaGVja1dlYkdMRXJyb3IgYXMgc31mcm9tXCIuL2NoZWNrV2ViR0xFcnJvci5qc1wiO2ltcG9ydHtDb250ZXh0VHlwZSBhcyBufWZyb21cIi4vY29udGV4dFV0aWxzLmpzXCI7aW1wb3J0e0J1ZmZlclR5cGUgYXMgbyxVc2FnZSBhcyBhLFJlc291cmNlVHlwZSBhcyBmLERhdGFUeXBlIGFzIHV9ZnJvbVwiLi9lbnVtcy5qc1wiO2NvbnN0IF89dC5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLndlYmdsLkJ1ZmZlck9iamVjdFwiKTtjbGFzcyBoe3N0YXRpYyBjcmVhdGVJbmRleChlLHQscil7cmV0dXJuIG5ldyBoKGUsby5FTEVNRU5UX0FSUkFZX0JVRkZFUix0LHIpfXN0YXRpYyBjcmVhdGVWZXJ0ZXgoZSx0LHIpe3JldHVybiBuZXcgaChlLG8uQVJSQVlfQlVGRkVSLHQscil9c3RhdGljIGNyZWF0ZVVuaWZvcm0oZSx0LHIpe2lmKGUudHlwZSE9PW4uV0VCR0wyKXRocm93IG5ldyBFcnJvcihcIlVuaWZvcm0gYnVmZmVycyBhcmUgc3VwcG9ydGVkIGluIFdlYkdMMiBvbmx5IVwiKTtyZXR1cm4gbmV3IGgoZSxvLlVOSUZPUk1fQlVGRkVSLHQscil9c3RhdGljIGNyZWF0ZVBpeGVsUGFjayhlLHQ9YS5TVFJFQU1fUkVBRCxyKXtpZihlLnR5cGUhPT1uLldFQkdMMil0aHJvdyBuZXcgRXJyb3IoXCJQaXhlbCBwYWNrIGJ1ZmZlcnMgYXJlIHN1cHBvcnRlZCBpbiBXZWJHTDIgb25seSFcIik7Y29uc3QgaT1uZXcgaChlLG8uUElYRUxfUEFDS19CVUZGRVIsdCk7cmV0dXJuIHImJmkuc2V0U2l6ZShyKSxpfXN0YXRpYyBjcmVhdGVQaXhlbFVucGFjayhlLHQ9YS5TVFJFQU1fRFJBVyxyKXtpZihlLnR5cGUhPT1uLldFQkdMMil0aHJvdyBuZXcgRXJyb3IoXCJQaXhlbCB1bnBhY2sgYnVmZmVycyBhcmUgc3VwcG9ydGVkIGluIFdlYkdMMiBvbmx5IVwiKTtyZXR1cm4gbmV3IGgoZSxvLlBJWEVMX1VOUEFDS19CVUZGRVIsdCxyKX1jb25zdHJ1Y3RvcihlLHQscixpKXt0aGlzLl9jb250ZXh0PWUsdGhpcy5idWZmZXJUeXBlPXQsdGhpcy51c2FnZT1yLHRoaXMuX2dsTmFtZT1udWxsLHRoaXMuX3NpemU9LTEsdGhpcy5faW5kZXhUeXBlPXZvaWQgMCxlLmluc3RhbmNlQ291bnRlci5pbmNyZW1lbnQoZi5CdWZmZXJPYmplY3QsdGhpcyksdGhpcy5fZ2xOYW1lPXRoaXMuX2NvbnRleHQuZ2wuY3JlYXRlQnVmZmVyKCkscyh0aGlzLl9jb250ZXh0LmdsKSxpJiZ0aGlzLnNldERhdGEoaSl9Z2V0IGdsTmFtZSgpe3JldHVybiB0aGlzLl9nbE5hbWV9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5fc2l6ZX1nZXQgaW5kZXhUeXBlKCl7cmV0dXJuIHRoaXMuX2luZGV4VHlwZX1nZXQgYnl0ZUxlbmd0aCgpe3JldHVybiB0aGlzLmJ1ZmZlclR5cGU9PT1vLkVMRU1FTlRfQVJSQVlfQlVGRkVSP3RoaXMuX2luZGV4VHlwZT09PXUuVU5TSUdORURfSU5UPzQqdGhpcy5fc2l6ZToyKnRoaXMuX3NpemU6dGhpcy5fc2l6ZX1nZXQgX2lzVkFPQXdhcmUoKXtyZXR1cm4gdGhpcy5idWZmZXJUeXBlPT09by5FTEVNRU5UX0FSUkFZX0JVRkZFUnx8dGhpcy5idWZmZXJUeXBlPT09by5BUlJBWV9CVUZGRVJ9ZGlzcG9zZSgpe2lmKHRoaXMuX2NvbnRleHQ/LmdsKXtpZih0aGlzLl9nbE5hbWUpe3RoaXMuX2NvbnRleHQuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuX2dsTmFtZSksdGhpcy5fZ2xOYW1lPW51bGx9dGhpcy5fY29udGV4dC5pbnN0YW5jZUNvdW50ZXIuZGVjcmVtZW50KGYuQnVmZmVyT2JqZWN0LHRoaXMpLHRoaXMuX2NvbnRleHQ9bnVsbH1lbHNlIHRoaXMuX2dsTmFtZSYmXy53YXJuKFwiTGVha2VkIFdlYkdMIGJ1ZmZlciBvYmplY3RcIil9c2V0U2l6ZShlLHQ9bnVsbCl7aWYoZTw9MCYmXy5lcnJvcihcIkJ1ZmZlciBzaXplIG5lZWRzIHRvIGJlIHBvc2l0aXZlIVwiKSx0aGlzLmJ1ZmZlclR5cGU9PT1vLkVMRU1FTlRfQVJSQVlfQlVGRkVSJiZudWxsIT10KXN3aXRjaCh0aGlzLl9pbmRleFR5cGU9dCx0KXtjYXNlIHUuVU5TSUdORURfU0hPUlQ6ZSo9MjticmVhaztjYXNlIHUuVU5TSUdORURfSU5UOmUqPTR9dGhpcy5fc2V0QnVmZmVyRGF0YShlKX1zZXREYXRhKGUpe2lmKCFlKXJldHVybjtsZXQgdD1lLmJ5dGVMZW5ndGg7dGhpcy5idWZmZXJUeXBlPT09by5FTEVNRU5UX0FSUkFZX0JVRkZFUiYmKHIoZSkmJih0Lz0yLHRoaXMuX2luZGV4VHlwZT11LlVOU0lHTkVEX1NIT1JUKSxpKGUpJiYodC89NCx0aGlzLl9pbmRleFR5cGU9dS5VTlNJR05FRF9JTlQpKSx0aGlzLl9zZXRCdWZmZXJEYXRhKHQsZSl9X3NldEJ1ZmZlckRhdGEoZSx0PW51bGwpe3RoaXMuX3NpemU9ZTtjb25zdCByPXRoaXMuX2NvbnRleHQuZ2V0Qm91bmRWQU8oKTt0aGlzLl9pc1ZBT0F3YXJlJiZ0aGlzLl9jb250ZXh0LmJpbmRWQU8obnVsbCksdGhpcy5fY29udGV4dC5iaW5kQnVmZmVyKHRoaXMpO2NvbnN0IGk9dGhpcy5fY29udGV4dC5nbDtudWxsIT10P2kuYnVmZmVyRGF0YSh0aGlzLmJ1ZmZlclR5cGUsdCx0aGlzLnVzYWdlKTppLmJ1ZmZlckRhdGEodGhpcy5idWZmZXJUeXBlLGUsdGhpcy51c2FnZSkscyhpKSx0aGlzLl9pc1ZBT0F3YXJlJiZ0aGlzLl9jb250ZXh0LmJpbmRWQU8ocil9c2V0U3ViRGF0YShlLHQscixpKXtpZighZSlyZXR1cm47KHQ8MHx8dCplLkJZVEVTX1BFUl9FTEVNRU5UPj10aGlzLmJ5dGVMZW5ndGgpJiZfLmVycm9yKFwib2Zmc2V0IGlzIG91dCBvZiByYW5nZSFcIikscj49aSYmXy5lcnJvcihcImVuZCBtdXN0IGJlIGJpZ2dlciB0aGFuIHN0YXJ0IVwiKSwodCsoaS1yKSkqZS5CWVRFU19QRVJfRUxFTUVOVD50aGlzLmJ5dGVMZW5ndGgmJl8uZXJyb3IoXCJBbiBhdHRlbXB0IHRvIHdyaXRlIGJleW9uZCB0aGUgZW5kIG9mIHRoZSBidWZmZXIhXCIpO2NvbnN0IG89dGhpcy5fY29udGV4dC5nZXRCb3VuZFZBTygpO3RoaXMuX2lzVkFPQXdhcmUmJnRoaXMuX2NvbnRleHQuYmluZFZBTyhudWxsKSx0aGlzLl9jb250ZXh0LmJpbmRCdWZmZXIodGhpcyk7Y29uc3QgYT10aGlzLl9jb250ZXh0LmdsO2lmKHRoaXMuX2NvbnRleHQudHlwZT09PW4uV0VCR0wyKWEuYnVmZmVyU3ViRGF0YSh0aGlzLmJ1ZmZlclR5cGUsdCplLkJZVEVTX1BFUl9FTEVNRU5ULGUscixpLXIpO2Vsc2V7Y29uc3Qgcz0wPT09ciYmaT09PWUubGVuZ3RoP2U6ZS5zdWJhcnJheShyLGkpO2EuYnVmZmVyU3ViRGF0YSh0aGlzLmJ1ZmZlclR5cGUsdCplLkJZVEVTX1BFUl9FTEVNRU5ULHMpfXMoYSksdGhpcy5faXNWQU9Bd2FyZSYmdGhpcy5fY29udGV4dC5iaW5kVkFPKG8pfWdldFN1YkRhdGEoZSx0PTAscixpKXtpZih0aGlzLl9jb250ZXh0LnR5cGUhPT1uLldFQkdMMilyZXR1cm4gdm9pZCBfLmVycm9yKFwiR2V0IGJ1ZmZlciBzdWJkYXRhIGlzIHN1cHBvcnRlZCBpbiBXZWJHTDIgb25seSFcIik7aWYocjwwfHxpPDApcmV0dXJuIHZvaWQgXy5lcnJvcihcIlByb2JsZW0gZ2V0dGluZyBzdWJkYXRhOiBvZmZzZXQgYW5kIGxlbmd0aCB3ZXJlIGxlc3MgdGhhbiB6ZXJvIVwiKTtjb25zdCBzPUUoZSk/ZS5CWVRFU19QRVJfRUxFTUVOVDoxO2lmKHMqKChyPz8wKSsoaT8/MCkpPmUuYnl0ZUxlbmd0aClyZXR1cm4gdm9pZCBfLmVycm9yKFwiUHJvYmxlbSBnZXR0aW5nIHN1YmRhdGE6IG9mZnNldCBhbmQgbGVuZ3RoIGV4Y2VlZGVkIGRlc3RpbmF0aW9uIHNpemUhXCIpO3QrcyooaT8/MCk+dGhpcy5ieXRlTGVuZ3RoJiZfLndhcm4oXCJQb3RlbnRpYWwgcHJvYmxlbSBnZXR0aW5nIHN1YmRhdGE6IHJlcXVlc3RlZCBkYXRhIGV4Y2VlZHMgYnVmZmVyIHNpemUhXCIpO2NvbnN0IGE9dGhpcy5fY29udGV4dC5nbDt0aGlzLl9jb250ZXh0LmJpbmRCdWZmZXIodGhpcyxvLkNPUFlfUkVBRF9CVUZGRVIpLGEuZ2V0QnVmZmVyU3ViRGF0YShvLkNPUFlfUkVBRF9CVUZGRVIsdCxlLHIsaSksdGhpcy5fY29udGV4dC51bmJpbmRCdWZmZXIoby5DT1BZX1JFQURfQlVGRkVSKX1hc3luYyBnZXRTdWJEYXRhQXN5bmMoZSx0PTAscixpKXt0aGlzLl9jb250ZXh0LnR5cGU9PT1uLldFQkdMMj8oYXdhaXQgdGhpcy5fY29udGV4dC5jbGllbnRXYWl0QXN5bmMoKSx0aGlzLmdldFN1YkRhdGEoZSx0LHIsaSkpOl8uZXJyb3IoXCJHZXQgYnVmZmVyIHN1YmRhdGEgaXMgc3VwcG9ydGVkIGluIFdlYkdMMiBvbmx5IVwiKX19ZnVuY3Rpb24gRSh0KXtyZXR1cm4gZSh0KX1leHBvcnR7aCBhcyBCdWZmZXJPYmplY3R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkaXNwb3NlTWF5YmUgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e0J1ZmZlck9iamVjdCBhcyBpfWZyb21cIi4vQnVmZmVyT2JqZWN0LmpzXCI7aW1wb3J0e3dlYmdsRGVidWdFbmFibGVkIGFzIHJ9ZnJvbVwiLi9jaGVja1dlYkdMRXJyb3IuanNcIjtpbXBvcnR7Q29udGV4dFR5cGUgYXMgc31mcm9tXCIuL2NvbnRleHRVdGlscy5qc1wiO2ltcG9ydHtSZXNvdXJjZVR5cGUgYXMgaCxDb2xvckF0dGFjaG1lbnQgYXMgbixQaXhlbEZvcm1hdCBhcyBvLFBpeGVsVHlwZSBhcyBjLERlcHRoU3RlbmNpbEF0dGFjaG1lbnQgYXMgYSxGcmFtZWJ1ZmZlclRhcmdldCBhcyB1LFRleHR1cmVUeXBlIGFzIF8sVXNhZ2UgYXMgbCxCdWZmZXJUeXBlIGFzIGYsUmVuZGVyYnVmZmVyRm9ybWF0IGFzIFR9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtHTE9iamVjdFR5cGUgYXMgZH1mcm9tXCIuL0dMT2JqZWN0VHlwZS5qc1wiO2ltcG9ydHtSZW5kZXJidWZmZXIgYXMgbX1mcm9tXCIuL1JlbmRlcmJ1ZmZlci5qc1wiO2ltcG9ydHtUZXh0dXJlIGFzIHB9ZnJvbVwiLi9UZXh0dXJlLmpzXCI7Y29uc3QgeD10LmdldExvZ2dlcihcImVzcmkudmlld3Mud2ViZ2wuRnJhbWVidWZmZXJPYmplY3RcIik7Y2xhc3MgRXtjb25zdHJ1Y3Rvcih0LGUsaT1udWxsKXt0aGlzLl9jb250ZXh0PXQsdGhpcy5fZ2xOYW1lPW51bGwsdGhpcy5fY29sb3JBdHRhY2htZW50cz1uZXcgTWFwLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbCx0aGlzLl9pbml0aWFsaXplZD0hMSx0Lmluc3RhbmNlQ291bnRlci5pbmNyZW1lbnQoaC5GcmFtZWJ1ZmZlck9iamVjdCx0aGlzKTtjb25zdCByPWcoZSk/ZTpuZXcgcCh0aGlzLl9jb250ZXh0LGUpO2lmKHRoaXMuX2NvbG9yQXR0YWNobWVudHMuc2V0KG4uQ09MT1JfQVRUQUNITUVOVDAsciksdGhpcy5fdmFsaWRhdGVUZXh0dXJlRGVzY3JpcHRvcihyLmRlc2NyaXB0b3IpLHRoaXMuX3ZhbGlkYXRlQ29sb3JBdHRhY2htZW50UG9pbnQobi5DT0xPUl9BVFRBQ0hNRU5UMCksbnVsbCE9aSlpZihiKGkpKXRoaXMuX2NvbnRleHQuY2FwYWJpbGl0aWVzLmRlcHRoVGV4dHVyZXx8Y29uc29sZS5lcnJvcihcIlNldHRpbmcgdGhlIGRlcHRoL3N0ZW5jaWwgdGV4dHVyZSBhcyBhbiBhdHRhY2htZW50IHJlcXVpcmVzIFdFQkdMX2RlcHRoX3RleHR1cmUgb3IgV2ViR0wyXCIpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9ZyhpKT9pOm5ldyBwKHRoaXMuX2NvbnRleHQsaSksdGhpcy5fdmFsaWRhdGVUZXh0dXJlRGVzY3JpcHRvcih0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmRlc2NyaXB0b3IpO2Vsc2V7Y29uc3QgdD1BKGkpP2k6bmV3IG0odGhpcy5fY29udGV4dCxpKTt0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXI9dCx0aGlzLl92YWxpZGF0ZVJlbmRlckJ1ZmZlckRlc2NyaXB0b3IodC5kZXNjcmlwdG9yKX19ZGlzcG9zZSgpe2lmKDA9PT10aGlzLl9jb2xvckF0dGFjaG1lbnRzLnNpemUmJiF0aGlzLl9nbE5hbWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fY29udGV4dC5nZXRCb3VuZEZyYW1lYnVmZmVyT2JqZWN0KCk7aWYodGhpcy5fY29sb3JBdHRhY2htZW50cy5mb3JFYWNoKCgodCxlKT0+dGhpcy5kZXRhY2hDb2xvclRleHR1cmUoZSk/LmRpc3Bvc2UoKSkpLHRoaXMuZGV0YWNoRGVwdGhTdGVuY2lsQnVmZmVyKCk/LmRpc3Bvc2UoKSx0aGlzLmRldGFjaERlcHRoU3RlbmNpbFRleHR1cmUoKT8uZGlzcG9zZSgpLHRoaXMuX2dsTmFtZSl7dGhpcy5fY29udGV4dC5nbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLl9nbE5hbWUpLHRoaXMuX2dsTmFtZT1udWxsfXRoaXMuX2NvbnRleHQuYmluZEZyYW1lYnVmZmVyKHQpLHRoaXMuX2NvbnRleHQuaW5zdGFuY2VDb3VudGVyLmRlY3JlbWVudChoLkZyYW1lYnVmZmVyT2JqZWN0LHRoaXMpfWdldCBnbE5hbWUoKXtyZXR1cm4gdGhpcy5fZ2xOYW1lfWdldCBjb2xvclRleHR1cmUoKXtyZXR1cm4gdGhpcy5fY29sb3JBdHRhY2htZW50cy5nZXQobi5DT0xPUl9BVFRBQ0hNRU5UMCl9Z2V0IGRlcHRoU3RlbmNpbCgpe3JldHVybiB0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlfHx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXJ9Z2V0IGRlcHRoU3RlbmNpbFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZX1nZXQgd2lkdGgoKXtjb25zdCB0PXRoaXMuX2NvbG9yQXR0YWNobWVudHMuZ2V0KG4uQ09MT1JfQVRUQUNITUVOVDApO3JldHVybiB0Py5kZXNjcmlwdG9yPy53aWR0aD8/MH1nZXQgaGVpZ2h0KCl7Y29uc3QgdD10aGlzLl9jb2xvckF0dGFjaG1lbnRzLmdldChuLkNPTE9SX0FUVEFDSE1FTlQwKTtyZXR1cm4gdD8uZGVzY3JpcHRvcj8uaGVpZ2h0Pz8wfWdldCBncHVNZW1vcnlVc2FnZSgpe3JldHVyblsuLi50aGlzLl9jb2xvckF0dGFjaG1lbnRzXS5yZWR1Y2UoKCh0LFtlLGldKT0+dCtpLmdwdU1lbW9yeVVzYWdlKSx0aGlzLmRlcHRoU3RlbmNpbD8uZ3B1TWVtb3J5VXNhZ2U/PzApfWdldENvbG9yVGV4dHVyZSh0KXtjb25zdCBlPXRoaXMuX2NvbG9yQXR0YWNobWVudHMuZ2V0KHQpO3JldHVybiBlJiZnKGUpP2U6bnVsbH1nZXQgY29sb3JBdHRhY2htZW50cygpe3JldHVyblsuLi50aGlzLl9jb2xvckF0dGFjaG1lbnRzLmtleXMoKV19YXR0YWNoQ29sb3JUZXh0dXJlKHQsZT1uLkNPTE9SX0FUVEFDSE1FTlQwKXtpZighdClyZXR1cm47dGhpcy5fdmFsaWRhdGVDb2xvckF0dGFjaG1lbnRQb2ludChlKTtjb25zdCBpPXQuZGVzY3JpcHRvcjt0aGlzLl92YWxpZGF0ZVRleHR1cmVEZXNjcmlwdG9yKGkpLHRoaXMuZGV0YWNoQ29sb3JUZXh0dXJlKGUpPy5kaXNwb3NlKCksdGhpcy5faW5pdGlhbGl6ZWQmJih0aGlzLl9jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlcih0aGlzKSx0aGlzLl9mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LmdsTmFtZSxlKSksdGhpcy5fY29sb3JBdHRhY2htZW50cy5zZXQoZSx0KX1kZXRhY2hDb2xvclRleHR1cmUodD1uLkNPTE9SX0FUVEFDSE1FTlQwKXtjb25zdCBlPXRoaXMuX2NvbG9yQXR0YWNobWVudHMuZ2V0KHQpO2lmKGUpe2lmKHRoaXMuX2luaXRpYWxpemVkKXtjb25zdCBlPXRoaXMuX2NvbnRleHQuZ2V0Qm91bmRGcmFtZWJ1ZmZlck9iamVjdCgpO3RoaXMuX2NvbnRleHQuYmluZEZyYW1lYnVmZmVyKHRoaXMpLHRoaXMuX2ZyYW1lYnVmZmVyVGV4dHVyZTJEKG51bGwsdCksdGhpcy5fY29udGV4dC5iaW5kRnJhbWVidWZmZXIoZSl9cmV0dXJuIHRoaXMuX2NvbG9yQXR0YWNobWVudHMuZGVsZXRlKHQpLGV9fXNldENvbG9yVGV4dHVyZVRhcmdldCh0LGU9bi5DT0xPUl9BVFRBQ0hNRU5UMCl7Y29uc3QgaT10aGlzLl9jb2xvckF0dGFjaG1lbnRzLmdldChlKTtpJiZ0aGlzLl9mcmFtZWJ1ZmZlclRleHR1cmUyRChpLmdsTmFtZSxlLHQpfWF0dGFjaERlcHRoU3RlbmNpbCh0KXtpZih0KXN3aXRjaCh0LnR5cGUpe2Nhc2UgZC5UZXh0dXJlOnJldHVybiB0aGlzLl9hdHRhY2hEZXB0aFN0ZW5jaWxUZXh0dXJlKHQpO2Nhc2UgZC5SZW5kZXJCdWZmZXI6cmV0dXJuIHRoaXMuX2F0dGFjaERlcHRoU3RlbmNpbEJ1ZmZlcih0KX19X2F0dGFjaERlcHRoU3RlbmNpbFRleHR1cmUodCl7aWYobnVsbD09dClyZXR1cm47Y29uc3QgZT10LmRlc2NyaXB0b3I7ZS5waXhlbEZvcm1hdCE9PW8uREVQVEhfU1RFTkNJTCYmZS5waXhlbEZvcm1hdCE9PW8uREVQVEgyNF9TVEVOQ0lMOCYmY29uc29sZS5lcnJvcihcIkRlcHRoL1N0ZW5jaWwgdGV4dHVyZSBtdXN0IGhhdmUgYSBwaXhlbCB0eXBlIG9mIERFUFRIX1NURU5DSUwhXCIpLGUuZGF0YVR5cGUhPT1jLlVOU0lHTkVEX0lOVF8yNF84JiZjb25zb2xlLmVycm9yKFwiRGVwdGgvU3RlbmNpbCB0ZXh0dXJlIG11c3QgaGF2ZSBkYXRhIHR5cGUgb2YgVU5TSUdORURfSU5UXzI0XzghXCIpLHRoaXMuX2NvbnRleHQuY2FwYWJpbGl0aWVzLmRlcHRoVGV4dHVyZXx8Y29uc29sZS5lcnJvcihcIkV4dGVuc2lvbiBXRUJHTF9kZXB0aF90ZXh0dXJlIGlzbid0IHN1cHBvcnRlZCB0aGVyZWZvcmUgaXQgaXMgbm8gcG9zc2libGUgdG8gc2V0IHRoZSBkZXB0aC9zdGVuY2lsIHRleHR1cmUhXCIpLHRoaXMuX3ZhbGlkYXRlVGV4dHVyZURlc2NyaXB0b3IoZSksdGhpcy5fZGlzcG9zZURlcHRoU3RlbmNpbEF0dGFjaG1lbnRzKCksdGhpcy5faW5pdGlhbGl6ZWQmJih0aGlzLl9jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlcih0aGlzKSx0aGlzLl9mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LmdsTmFtZSxhKSksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT8uZGlzcG9zZSgpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9dH1kZXRhY2hEZXB0aFN0ZW5jaWxUZXh0dXJlKCl7Y29uc3QgdD10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlO3JldHVybiB0JiZ0aGlzLl9pbml0aWFsaXplZCYmKHRoaXMuX2NvbnRleHQuYmluZEZyYW1lYnVmZmVyKHRoaXMpLHRoaXMuX2ZyYW1lYnVmZmVyVGV4dHVyZTJEKG51bGwsYSkpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbCx0fV9hdHRhY2hEZXB0aFN0ZW5jaWxCdWZmZXIodCl7aWYobnVsbD09dClyZXR1cm47Y29uc3QgZT10LmRlc2NyaXB0b3I7aWYodGhpcy5fdmFsaWRhdGVSZW5kZXJCdWZmZXJEZXNjcmlwdG9yKGUpLHRoaXMuX2Rpc3Bvc2VEZXB0aFN0ZW5jaWxBdHRhY2htZW50cygpLHRoaXMuX2luaXRpYWxpemVkKXt0aGlzLl9jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlcih0aGlzKTtjb25zdCBpPXRoaXMuX2NvbnRleHQuZ2wscj10aGlzLl9nZXRHTEF0dGFjaG1lbnRQb2ludChlKTtpLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHUuRlJBTUVCVUZGRVIscixpLlJFTkRFUkJVRkZFUix0LmdsTmFtZSl9dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyPXR9ZGV0YWNoRGVwdGhTdGVuY2lsQnVmZmVyKCl7Y29uc3QgdD10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXI7aWYodCYmdGhpcy5faW5pdGlhbGl6ZWQpe3RoaXMuX2NvbnRleHQuYmluZEZyYW1lYnVmZmVyKHRoaXMpO2NvbnN0IGU9dGhpcy5fY29udGV4dC5nbCxpPXRoaXMuX2dldEdMQXR0YWNobWVudFBvaW50KHQuZGVzY3JpcHRvcik7ZS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih1LkZSQU1FQlVGRkVSLGksZS5SRU5ERVJCVUZGRVIsbnVsbCl9cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsLHR9Y29weVRvVGV4dHVyZSh0LGUsaSxyLHMsaCxuKXsodDwwfHxlPDB8fHM8MHx8aDwwKSYmY29uc29sZS5lcnJvcihcIk9mZnNldHMgY2Fubm90IGJlIG5lZ2F0aXZlIVwiKSwoaTw9MHx8cjw9MCkmJmNvbnNvbGUuZXJyb3IoXCJDb3B5IHdpZHRoIGFuZCBoZWlnaHQgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVybyFcIik7Y29uc3Qgbz1uLmRlc2NyaXB0b3I7bi5kZXNjcmlwdG9yLnRhcmdldCE9PV8uVEVYVFVSRV8yRCYmY29uc29sZS5lcnJvcihcIlRleHR1cmUgdGFyZ2V0IG11c3QgYmUgVEVYVFVSRV8yRCFcIiksKG51bGw9PW8/LndpZHRofHxudWxsPT1vPy5oZWlnaHR8fHQraT50aGlzLndpZHRofHxlK3I+dGhpcy5oZWlnaHR8fHMraT5vLndpZHRofHxoK3I+by5oZWlnaHQpJiZjb25zb2xlLmVycm9yKFwiQmFkIGRpbWVuc2lvbnMsIHRoZSBjdXJyZW50IGlucHV0IHZhbHVlcyB3aWxsIGF0dGVtcHQgdG8gcmVhZCBvciBjb3B5IG91dCBvZiBib3VuZHMhXCIpO2NvbnN0IGM9dGhpcy5fY29udGV4dCxhPWMuYmluZFRleHR1cmUobixwLlRFWFRVUkVfVU5JVF9GT1JfVVBEQVRFUyk7Yy5zZXRBY3RpdmVUZXh0dXJlKHAuVEVYVFVSRV9VTklUX0ZPUl9VUERBVEVTKSxjLmJpbmRGcmFtZWJ1ZmZlcih0aGlzKSxjLmdsLmNvcHlUZXhTdWJJbWFnZTJEKF8uVEVYVFVSRV8yRCwwLHMsaCx0LGUsaSxyKSxjLmJpbmRUZXh0dXJlKGEscC5URVhUVVJFX1VOSVRfRk9SX1VQREFURVMpfXJlYWRQaXhlbHModCxlLGkscixzLGgsbil7KGk8PTB8fHI8PTApJiZjb25zb2xlLmVycm9yKFwiQ29weSB3aWR0aCBhbmQgaGVpZ2h0IG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm8hXCIpLG58fGNvbnNvbGUuZXJyb3IoXCJUYXJnZXQgbWVtb3J5IGlzIG5vdCBpbml0aWFsaXplZCFcIiksdGhpcy5fY29udGV4dC5iaW5kRnJhbWVidWZmZXIodGhpcyksdGhpcy5fY29udGV4dC5nbC5yZWFkUGl4ZWxzKHQsZSxpLHIscyxoLG4pfWFzeW5jIHJlYWRQaXhlbHNBc3luYyh0LGUsaCxuLG8sYyxhKXtpZih0aGlzLl9jb250ZXh0LnR5cGUhPT1zLldFQkdMMilyZXR1cm4gcigpJiZjb25zb2xlLndhcm4oXCJBdHRlbXB0aW5nIHRvIHJlYWQgcGl4ZWxzIHVzaW5nIHBpeGVsIGJ1ZmZlciBvYmplY3Qgd2l0aG91dCBXZWJHTDJcIiksdm9pZCB0aGlzLnJlYWRQaXhlbHModCxlLGgsbixvLGMsYSk7Y29uc3QgdT10aGlzLl9jb250ZXh0LmdsLF89aS5jcmVhdGVQaXhlbFBhY2sodGhpcy5fY29udGV4dCxsLlNUUkVBTV9SRUFELGEuYnl0ZUxlbmd0aCk7dGhpcy5fY29udGV4dC5iaW5kQnVmZmVyKF8pLHRoaXMuX2NvbnRleHQuYmluZEZyYW1lYnVmZmVyKHRoaXMpLHUucmVhZFBpeGVscyh0LGUsaCxuLG8sYywwKSx0aGlzLl9jb250ZXh0LnVuYmluZEJ1ZmZlcihmLlBJWEVMX1BBQ0tfQlVGRkVSKSxhd2FpdCBfLmdldFN1YkRhdGFBc3luYyhhKSxfLmRpc3Bvc2UoKX1yZXNpemUodCxlKXtpZih0aGlzLndpZHRoPT09dCYmdGhpcy5oZWlnaHQ9PT1lKXJldHVybjtjb25zdCBpPXt3aWR0aDp0LGhlaWdodDplfTtTKGksdGhpcy5fY29udGV4dC5wYXJhbWV0ZXJzLm1heFRleHR1cmVTaXplKSx0aGlzLl9jb2xvckF0dGFjaG1lbnRzLmZvckVhY2goKHQ9PnQucmVzaXplKGkud2lkdGgsaS5oZWlnaHQpKSksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT8ucmVzaXplKGkud2lkdGgsaS5oZWlnaHQpLHRoaXMuX2luaXRpYWxpemVkJiYoUyhpLHRoaXMuX2NvbnRleHQucGFyYW1ldGVycy5tYXhSZW5kZXJidWZmZXJTaXplKSx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXI/LnJlc2l6ZShpLndpZHRoLGkuaGVpZ2h0KSx0aGlzLl9jb250ZXh0LmdldEJvdW5kRnJhbWVidWZmZXJPYmplY3QoKT09PXRoaXMmJnRoaXMuX2NvbnRleHQuYmluZEZyYW1lYnVmZmVyKG51bGwpLHRoaXMuX2luaXRpYWxpemVkPSExKX1pbml0aWFsaXplQW5kQmluZCh0PXUuRlJBTUVCVUZGRVIpe2NvbnN0IGU9dGhpcy5fY29udGV4dC5nbDtpZih0aGlzLl9pbml0aWFsaXplZClyZXR1cm4gdm9pZCBlLmJpbmRGcmFtZWJ1ZmZlcih0LHRoaXMuZ2xOYW1lKTt0aGlzLl9nbE5hbWUmJmUuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fZ2xOYW1lKTtjb25zdCBpPWUuY3JlYXRlRnJhbWVidWZmZXIoKTtpZihlLmJpbmRGcmFtZWJ1ZmZlcih0LGkpLHRoaXMuX2NvbG9yQXR0YWNobWVudHMuZm9yRWFjaCgoKGUsaSk9PnRoaXMuX2ZyYW1lYnVmZmVyVGV4dHVyZTJEKGUuZ2xOYW1lLGksUihlKSx0KSkpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcil7Y29uc3QgaT10aGlzLl9nZXRHTEF0dGFjaG1lbnRQb2ludCh0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIuZGVzY3JpcHRvcik7ZS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih0LGksZS5SRU5ERVJCVUZGRVIsdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyLmdsTmFtZSl9ZWxzZSB0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiZ0aGlzLl9mcmFtZWJ1ZmZlclRleHR1cmUyRCh0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmdsTmFtZSxlLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCxSKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpLHQpO2lmKHIoKSl7ZS5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKHQpIT09ZS5GUkFNRUJVRkZFUl9DT01QTEVURSYmY29uc29sZS5lcnJvcihcIkZyYW1lYnVmZmVyIGlzIGluY29tcGxldGUhXCIpfXRoaXMuX2dsTmFtZT1pLHRoaXMuX2luaXRpYWxpemVkPSEwfV9mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LGU9bi5DT0xPUl9BVFRBQ0hNRU5UMCxpPV8uVEVYVFVSRV8yRCxyPXUuRlJBTUVCVUZGRVIscz0wKXt0aGlzLl9jb250ZXh0LmdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKHIsZSxpLHQscyl9X2Rpc3Bvc2VEZXB0aFN0ZW5jaWxBdHRhY2htZW50cygpe2NvbnN0IHQ9dGhpcy5fY29udGV4dC5nbDtpZih0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIpe2lmKHRoaXMuX2luaXRpYWxpemVkKXt0aGlzLl9jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlcih0aGlzKTtjb25zdCBlPXRoaXMuX2dldEdMQXR0YWNobWVudFBvaW50KHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlci5kZXNjcmlwdG9yKTt0LmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHUuRlJBTUVCVUZGRVIsZSx0LlJFTkRFUkJVRkZFUixudWxsKX10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXI9ZSh0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIpfXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUmJih0aGlzLl9pbml0aWFsaXplZCYmKHRoaXMuX2NvbnRleHQuYmluZEZyYW1lYnVmZmVyKHRoaXMpLHRoaXMuX2ZyYW1lYnVmZmVyVGV4dHVyZTJEKG51bGwsdC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQpKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPWUodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSkpfV92YWxpZGF0ZVRleHR1cmVEZXNjcmlwdG9yKHQpe3QudGFyZ2V0IT09Xy5URVhUVVJFXzJEJiZ0LnRhcmdldCE9PV8uVEVYVFVSRV9DVUJFX01BUCYmY29uc29sZS5lcnJvcihcIlRleHR1cmUgdHlwZSBtdXN0IGJlIFRFWFRVUkVfMkQgb3IgVEVYVFVSRV9DVUJFX01BUCFcIiksUyh0LHRoaXMuX2NvbnRleHQucGFyYW1ldGVycy5tYXhUZXh0dXJlU2l6ZSksdGhpcy5fdmFsaWRhdGVCdWZmZXJEaW1lbnNpb25zKHQpfV92YWxpZGF0ZVJlbmRlckJ1ZmZlckRlc2NyaXB0b3IodCl7Uyh0LHRoaXMuX2NvbnRleHQucGFyYW1ldGVycy5tYXhSZW5kZXJidWZmZXJTaXplKSx0aGlzLl92YWxpZGF0ZUJ1ZmZlckRpbWVuc2lvbnModCl9X3ZhbGlkYXRlQnVmZmVyRGltZW5zaW9ucyh0KXt0LndpZHRoPD0wJiYodC53aWR0aD10aGlzLndpZHRoKSx0LmhlaWdodDw9MCYmKHQuaGVpZ2h0PXRoaXMuaGVpZ2h0KSx0aGlzLndpZHRoPjAmJnRoaXMuaGVpZ2h0PjAmJih0aGlzLndpZHRoPT09dC53aWR0aCYmdGhpcy5oZWlnaHQ9PT10LmhlaWdodHx8Y29uc29sZS5lcnJvcihcIkF0dGFjaG1lbnQgc2l6ZSBtdXN0IG1hdGNoIGZyYW1lYnVmZmVyIHNpemUhXCIpKX1fZ2V0R0xBdHRhY2htZW50UG9pbnQodCl7c3dpdGNoKHQuaW50ZXJuYWxGb3JtYXQpe2Nhc2UgVC5ERVBUSF9DT01QT05FTlQxNjpjYXNlIFQuREVQVEhfQ09NUE9ORU5UMjQ6Y2FzZSBULkRFUFRIX0NPTVBPTkVOVDMyRjpyZXR1cm4gdGhpcy5fY29udGV4dC5nbC5ERVBUSF9BVFRBQ0hNRU5UO2Nhc2UgVC5ERVBUSDI0X1NURU5DSUw4OmNhc2UgVC5ERVBUSDMyRl9TVEVOQ0lMODpjYXNlIFQuREVQVEhfU1RFTkNJTDpyZXR1cm4gdGhpcy5fY29udGV4dC5nbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQ7Y2FzZSBULlNURU5DSUxfSU5ERVg4OnJldHVybiB0aGlzLl9jb250ZXh0LmdsLlNURU5DSUxfQVRUQUNITUVOVH19X3ZhbGlkYXRlQ29sb3JBdHRhY2htZW50UG9pbnQoZSl7aWYoLTE9PT1FLl9NQVhfQ09MT1JfQVRUQUNITUVOVFMpe2NvbnN0IHQ9dGhpcy5fY29udGV4dC5jYXBhYmlsaXRpZXMuZHJhd0J1ZmZlcnM7aWYodCl7Y29uc3QgZT10aGlzLl9jb250ZXh0LmdsO0UuX01BWF9DT0xPUl9BVFRBQ0hNRU5UUz1lLmdldFBhcmFtZXRlcih0Lk1BWF9DT0xPUl9BVFRBQ0hNRU5UUyl9ZWxzZSBFLl9NQVhfQ09MT1JfQVRUQUNITUVOVFM9MX1jb25zdCBpPWUtbi5DT0xPUl9BVFRBQ0hNRU5UMDtpKzE+RS5fTUFYX0NPTE9SX0FUVEFDSE1FTlRTJiZ0LmdldExvZ2dlcihcImVzcmkudmlld3Mud2ViZ2wuRnJhbWVCdWZmZXJPYmplY3RcIikuZXJyb3IoXCJlc3JpLkZyYW1lQnVmZmVyT2JqZWN0XCIsYGlsbGVnYWwgYXR0YWNobWVudCBwb2ludCBmb3IgY29sb3IgYXR0YWNobWVudDogJHtpKzF9LiBJbXBsZW1lbnRhdGlvbiBzdXBwb3J0cyB1cCB0byAke0UuX01BWF9DT0xPUl9BVFRBQ0hNRU5UU30gY29sb3IgYXR0YWNobWVudHNgKX19ZnVuY3Rpb24gZyh0KXtyZXR1cm4gbnVsbCE9dCYmXCJ0eXBlXCJpbiB0JiZ0LnR5cGU9PT1kLlRleHR1cmV9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gbnVsbCE9dCYmXCJ0eXBlXCJpbiB0JiZ0LnR5cGU9PT1kLlJlbmRlckJ1ZmZlcn1mdW5jdGlvbiBiKHQpe3JldHVybiBnKHQpfHxudWxsIT10JiZcInBpeGVsRm9ybWF0XCJpbiB0fWZ1bmN0aW9uIFModCxlKXtjb25zdCBpPU1hdGgubWF4KHQud2lkdGgsdC5oZWlnaHQpO2lmKGk+ZSl7eC53YXJuKGBSZXNpemluZyBGQk8gYXR0YWNobWVudCBzaXplICR7dC53aWR0aH14JHt0LmhlaWdodH0gdG8gZGV2aWNlIGxpbWl0ICR7ZX1gKTtjb25zdCByPWUvaTtyZXR1cm4gdC53aWR0aD1NYXRoLnJvdW5kKHQud2lkdGgqciksdC5oZWlnaHQ9TWF0aC5yb3VuZCh0LmhlaWdodCpyKSwhMX1yZXR1cm4hMH1mdW5jdGlvbiBSKHQpe3JldHVybiB0LmRlc2NyaXB0b3IudGFyZ2V0PT09Xy5URVhUVVJFX0NVQkVfTUFQP18uVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YOl8uVEVYVFVSRV8yRH1FLl9NQVhfQ09MT1JfQVRUQUNITUVOVFM9LTE7ZXhwb3J0e0UgYXMgRnJhbWVidWZmZXJPYmplY3QsUyBhcyBlbnN1cmVBdHRhY2htZW50TWF4U2l6ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0NvbnRleHRUeXBlIGFzIGV9ZnJvbVwiLi9jb250ZXh0VXRpbHMuanNcIjtpbXBvcnR7UmVzb3VyY2VUeXBlIGFzIHR9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtHTE9iamVjdFR5cGUgYXMgcn1mcm9tXCIuL0dMT2JqZWN0VHlwZS5qc1wiO2ltcG9ydHtlc3RpbWF0ZU1lbW9yeSBhcyBzfWZyb21cIi4vUmVuZGVyYnVmZmVyRGVzY3JpcHRvci5qc1wiO2NsYXNzIGl7Y29uc3RydWN0b3IocyxpKXt0aGlzLl9jb250ZXh0PXMsdGhpcy5fZGVzY3JpcHRvcj1pLHRoaXMudHlwZT1yLlJlbmRlckJ1ZmZlcix0aGlzLl9jb250ZXh0Lmluc3RhbmNlQ291bnRlci5pbmNyZW1lbnQodC5SZW5kZXJidWZmZXIsdGhpcyk7Y29uc3Qgbj10aGlzLl9jb250ZXh0LmdsO3RoaXMuZ2xOYW1lPW4uY3JlYXRlUmVuZGVyYnVmZmVyKCksdGhpcy5fY29udGV4dC5iaW5kUmVuZGVyYnVmZmVyKHRoaXMpO2NvbnN0e3dpZHRoOm8saGVpZ2h0OmgsaW50ZXJuYWxGb3JtYXQ6YyxtdWx0aXNhbXBsZWQ6Zn09aTtpZihmKXtpZih0aGlzLl9jb250ZXh0LnR5cGUhPT1lLldFQkdMMil0aHJvdyBuZXcgRXJyb3IoXCJNdWx0aXNhbXBsZWQgcmVuZGVyYnVmZmVycyBhcmUgbm90IHN1cHBvcnRlZCBpbiBXZWJHTDEhXCIpO24ucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKG4uUkVOREVSQlVGRkVSLHRoaXMuc2FtcGxlcyxjLG8saCl9ZWxzZSBuLnJlbmRlcmJ1ZmZlclN0b3JhZ2Uobi5SRU5ERVJCVUZGRVIsYyxvLGgpfWdldCBkZXNjcmlwdG9yKCl7cmV0dXJuIHRoaXMuX2Rlc2NyaXB0b3J9Z2V0IHNhbXBsZXMoKXtjb25zdCBlPXRoaXMuX2Rlc2NyaXB0b3Iuc2FtcGxlcyx0PXRoaXMuX2NvbnRleHQucGFyYW1ldGVycy5tYXhTYW1wbGVzO3JldHVybiBlP01hdGgubWluKGUsdCk6dH1nZXQgZ3B1TWVtb3J5VXNhZ2UoKXtyZXR1cm4gcyh0aGlzLl9kZXNjcmlwdG9yKX1yZXNpemUoZSx0KXtjb25zdCByPXRoaXMuX2Rlc2NyaXB0b3I7aWYoci53aWR0aD09PWUmJnIuaGVpZ2h0PT09dClyZXR1cm47ci53aWR0aD1lLHIuaGVpZ2h0PXQ7Y29uc3Qgcz10aGlzLl9jb250ZXh0LmdsO2lmKHRoaXMuX2NvbnRleHQuYmluZFJlbmRlcmJ1ZmZlcih0aGlzKSxyLm11bHRpc2FtcGxlZCl7cy5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUocy5SRU5ERVJCVUZGRVIsdGhpcy5zYW1wbGVzLHIuaW50ZXJuYWxGb3JtYXQsci53aWR0aCxyLmhlaWdodCl9ZWxzZSBzLnJlbmRlcmJ1ZmZlclN0b3JhZ2Uocy5SRU5ERVJCVUZGRVIsci5pbnRlcm5hbEZvcm1hdCxyLndpZHRoLHIuaGVpZ2h0KX1kaXNwb3NlKCl7dGhpcy5fY29udGV4dCYmKHRoaXMuX2NvbnRleHQuZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKHRoaXMuZ2xOYW1lKSx0aGlzLl9jb250ZXh0Lmluc3RhbmNlQ291bnRlci5kZWNyZW1lbnQodC5SZW5kZXJidWZmZXIsdGhpcyksdGhpcy5fY29udGV4dD1udWxsKX19ZXhwb3J0e2kgYXMgUmVuZGVyYnVmZmVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0Qnl0ZXNQZXJFbGVtZW50Rm9ybWF0IGFzIHR9ZnJvbVwiLi9VdGlsLmpzXCI7Y2xhc3MgaXtjb25zdHJ1Y3Rvcih0LGksaD1pKXt0aGlzLmludGVybmFsRm9ybWF0PXQsdGhpcy53aWR0aD1pLHRoaXMuaGVpZ2h0PWgsdGhpcy5tdWx0aXNhbXBsZWQ9ITEsdGhpcy5zYW1wbGVzPTF9fWZ1bmN0aW9uIGgoaSl7cmV0dXJuIGkud2lkdGg8PTB8fGkuaGVpZ2h0PD0wfHxudWxsPT1pLmludGVybmFsRm9ybWF0PzA6aS53aWR0aCppLmhlaWdodCp0KGkuaW50ZXJuYWxGb3JtYXQpfWV4cG9ydHtpIGFzIFJlbmRlcmJ1ZmZlckRlc2NyaXB0b3IsaCBhcyBlc3RpbWF0ZU1lbW9yeX07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=