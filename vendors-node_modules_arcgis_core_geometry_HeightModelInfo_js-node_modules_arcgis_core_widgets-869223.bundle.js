"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_geometry_HeightModelInfo_js-node_modules_arcgis_core_widgets-869223"],{

/***/ "./node_modules/@arcgis/core/arcade.js":
/*!*********************************************!*\
  !*** ./node_modules/@arcgis/core/arcade.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createArcadeExecutor: () => (/* binding */ A),
/* harmony export */   createArcadeProfile: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcade/ArcadeDate.js */ "./node_modules/@arcgis/core/arcade/ArcadeDate.js");
/* harmony import */ var _arcade_ImmutableArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./arcade/ImmutableArray.js */ "./node_modules/@arcgis/core/arcade/ImmutableArray.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_sql_DateOnly_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/sql/DateOnly.js */ "./node_modules/@arcgis/core/core/sql/DateOnly.js");
/* harmony import */ var _core_sql_TimeOnly_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core/sql/TimeOnly.js */ "./node_modules/@arcgis/core/core/sql/TimeOnly.js");
/* harmony import */ var _layers_FeatureLayer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./layers/FeatureLayer.js */ "./node_modules/@arcgis/core/layers/FeatureLayer.js");
/* harmony import */ var _portal_Portal_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./portal/Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let p=null;function f(e,t,a,n={}){const o=t.elementType,s="value",c="array"===o.type?[{name:s,type:o.type,elementType:o.elementType}]:"dictionary"===o.type?[{name:s,type:o.type,properties:o.properties}]:[{name:s,type:o.type}];return new _arcade_ImmutableArray_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.map((e=>{const t={};return b(t,c,{[s]:e},a,n),t[s]})))}function m(e,t,r={}){const a=e instanceof _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__["default"]?new _layers_FeatureLayer_js__WEBPACK_IMPORTED_MODULE_7__["default"]({source:e.features,geometryType:e.geometryType,fields:e.fields,spatialReference:e.spatialReference}):e;return t.constructFeatureSet(a,r.spatialReference,null,!0,r.lruCache,r.interceptor)}function y(e,t,r={}){const{spatialReference:a,interceptor:n,lruCache:o}=r;return"string"==typeof e?t.createFeatureSetCollectionFromService(e,a,o,n):t.createFeatureSetCollectionFromMap(e,a,o,n)}function d(e,t,r,a={}){const n={};return b(n,t.properties,e,r,a),new p.Dictionary(n)}function b(e,r,a,n,c={}){const i={};for(const t of Object.keys(a))i[t.toLowerCase()]=a[t];for(const l of r){const r=l.name.toLowerCase();if(c.variablesPreProcessed)e[r]=i[r];else switch(l.type){case"array":{const t=i[r];e[r]=null==t?null:f(t,l,n,c);break}case"feature":{const t=i[r];e[r]=null==t?null:p.Feature.createFromGraphic(t,c?.timeZone);break}case"featureSet":{const t=i[r];e[r]=null==t?null:n?m(t,n,c):null;break}case"featureSetCollection":{const t=i[r];e[r]=null==t?null:n?y(t,n,c):null;break}case"dictionary":{const t=i[r];e[r]=null==t?null:d(t,l,n,c);break}case"date":{const a=i[r];e[r]=a?a instanceof _arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__.ArcadeDate?a:c?.timeZone?_arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__.ArcadeDate.dateJSAndZoneToArcadeDate(a,c?.timeZone):_arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__.ArcadeDate.dateJSToArcadeDate(a):null;break}case"dateOnly":{const t=i[r];e[r]=t?t instanceof _core_sql_DateOnly_js__WEBPACK_IMPORTED_MODULE_5__.DateOnly?t:_core_sql_DateOnly_js__WEBPACK_IMPORTED_MODULE_5__.DateOnly.fromReader(t):null;break}case"time":{const t=i[r];e[r]=t?t instanceof _core_sql_TimeOnly_js__WEBPACK_IMPORTED_MODULE_6__.TimeOnly?t:_core_sql_TimeOnly_js__WEBPACK_IMPORTED_MODULE_6__.TimeOnly.fromReader(t):null;break}case"geometry":case"boolean":case"text":case"number":e[r]=i[r]}}}function S(e,t){for(const r of e)t.push(r),"dictionary"===r.type&&S(r.properties,t);return t}function v(e,t,r,a,n){const{spatialReference:o,interceptor:s,lruCache:c,console:l,abortSignal:u,timeZone:p,services:f={portal:_portal_Portal_js__WEBPACK_IMPORTED_MODULE_8__["default"].getDefault()}}=r,m={vars:{},spatialReference:o,interceptor:s,timeZone:p,lrucache:c,useAsync:n,services:f,console:l,abortSignal:u};return t?(b(m.vars,e.variables,t,a,r),m):m}function w(t,r){switch(r.getArcadeType(t)){case"number":case"text":case"boolean":case"point":case"polygon":case"polyline":case"multipoint":case"extent":return t;case"date":return t.toJSDate();case"time":case"dateOnly":return t.toString();case"feature":{const r=(t.type,t),a="geometry"in r?r.geometry():null,n="readAttributes"in r?r.readAttributes():r.attributes;return new _Graphic_js__WEBPACK_IMPORTED_MODULE_0__["default"]({geometry:a,attributes:n})}case"dictionary":{const e=t,a=e.attributes,n={};for(const t of Object.keys(a))n[t]=w(e.field(t),r);return n}case"array":return("toArray"in t?t.toArray():t).map((e=>w(e,r)))}return t}const $={variables:[{name:"$feature",type:"feature"},{name:"$layer",type:"featureSet"},{name:"$datastore",type:"featureSetCollection"},{name:"$map",type:"featureSetCollection"}]},g={variables:[{name:"$feature",type:"feature"},{name:"$aggregatedFeatures",type:"featureSet"}]},C=new Map([["form-constraint",{variables:[{name:"$feature",type:"feature"}]}],["feature-z",{variables:[{name:"$feature",type:"feature"}]}],["field-calculation",{variables:[{name:"$feature",type:"feature"},{name:"$datastore",type:"featureSetCollection"}]}],["form-calculation",{variables:[{name:"$feature",type:"feature"},{name:"$originalFeature",type:"feature"},{name:"$layer",type:"featureSet"},{name:"$featureSet",type:"featureSet"},{name:"$datastore",type:"featureSetCollection"},{name:"$map",type:"featureSetCollection"},{name:"$editContext",type:"dictionary",properties:[{name:"editType",type:"text"}]}]}],["labeling",{variables:[{name:"$feature",type:"feature"}]}],["popup",$],["popup-element",$],["feature-reduction-popup",g],["feature-reduction-popup-element",g],["visualization",{variables:[{name:"$feature",type:"feature"},{name:"$view",type:"dictionary",properties:[{name:"scale",type:"number"}]}]}]]);function h(e){const t=C.get(e);if(!t){const t=Array.from(C.keys()).map((e=>`'${e}'`)).join(", ");throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("createArcadeProfile:invalid-profile-name",`Invalid profile name '${e}'. You must specify one of the following values: ${t}`)}return (0,_core_lang_js__WEBPACK_IMPORTED_MODULE_4__.clone)(t)}async function A(e,t,r={}){p||(p=await (0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_10__.loadArcade)());const{arcade:n,arcadeUtils:o}=p,{loadScriptDependencies:s,referencesMember:c,scriptIsAsync:i}=n,l=S(t.variables,[]),f=l.filter((e=>"featureSet"===e.type||"featureSetCollection"===e.type)).map((e=>e.name.toLowerCase())),m=n.parseScript(e,f);if(!m)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("arcade:invalid-script","Unable to create SyntaxTree");const y=o.extractFieldNames(m),d=n.scriptTouchesGeometry(m),b=l.map((e=>e.name.toLowerCase())).filter((e=>c(m,e))),$=i(m,f);await s(m,$,f);const g={vars:{},spatialReference:null,useAsync:$};for(const a of b)g.vars[a]="any";const{lruCache:C}=r,h=n.compileScript(m,g),A=n.featureSetUtils(),{services:j}=r;return{execute:(e,r={})=>{if($)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("arcade:invalid-execution-mode","Cannot execute the script in synchronous mode");const n=h(v(t,e,{lruCache:C,...r},A,$));return r.rawOutput?n:w(n,o)},executeAsync:async(e,r={})=>{const a=await h(v(t,e,{lruCache:C,services:j,...r},A,$));return r.rawOutput?a:w(a,o)},isAsync:$,variablesUsed:b,fieldsUsed:y,geometryUsed:d,syntaxTree:m}}


/***/ }),

/***/ "./node_modules/@arcgis/core/arcade/ImmutableArray.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/ImmutableArray.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t=[]){this._elements=t}length(){return this._elements.length}get(t){return this._elements[t]}toArray(){const t=[];for(let e=0;e<this.length();e++)t.push(this.get(e));return t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/HeightModelInfo.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/HeightModelInfo.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/jsonMap.js */ "./node_modules/@arcgis/core/core/jsonMap.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_Warning_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Warning.js */ "./node_modules/@arcgis/core/core/Warning.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var d;const p=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_2__.strict)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),u=p.jsonValues.slice();(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.removeUnordered)(u,"orthometric");const g=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_2__.strict)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let m=d=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__.JSONSupport{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return p.write(e,t,r)}readHeightModel(e,t,r){const o=p.read(e);return o||(r?.messages&&r.messages.push(f(e,{context:r})),null)}readHeightUnit(e,t,r){const o=g.read(e);return o||(r?.messages&&r.messages.push(y(e,{context:r})),null)}readHeightUnitService(e,t,r){const o=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_4__.unitFromRESTJSON)(e)||g.read(e);return o||(r?.messages&&r.messages.push(y(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new d({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_4__.getVerticalUnitStringForSR)(t);return new d({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new d;return t.read(e,{origin:"web-scene"}),t}};function y(e,t){return new _core_Warning_js__WEBPACK_IMPORTED_MODULE_5__["default"]("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function f(e,t){return new _core_Warning_js__WEBPACK_IMPORTED_MODULE_5__["default"]("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:p.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:u,default:"ellipsoidal"}}}})],m.prototype,"heightModel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_11__.writer)("web-scene","heightModel")],m.prototype,"writeHeightModel",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__.reader)(["web-scene","service"],"heightModel")],m.prototype,"readHeightModel",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:g.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:g.jsonValues,write:g.write}}}})],m.prototype,"heightUnit",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__.reader)("web-scene","heightUnit")],m.prototype,"readHeightUnit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__.reader)("service","heightUnit")],m.prototype,"readHeightUnitService",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],m.prototype,"vertCRS",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__.reader)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],m.prototype,"readVertCRS",null),m=d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.geometry.HeightModelInfo")],m);const v=m;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/Contingency.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/Contingency.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let t=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(o){super(o),this.isRetired=!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],t.prototype,"id",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],t.prototype,"isRetired",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],t.prototype,"subtype",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],t.prototype,"values",void 0),t=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.Contingency")],t);const p=t;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/ContingencyConstraintViolation.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ContingencyConstraintViolation.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let e=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(o){super(o)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],e.prototype,"fieldGroup",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],e.prototype,"type",void 0),e=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.ContingencyConstraintViolation")],e);const p=e;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/ContingentValue.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ContingentValue.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let t=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(o){super(o),this.maxValue=null,this.minValue=null,this.codedValue=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],t.prototype,"objectType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],t.prototype,"maxValue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],t.prototype,"minValue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],t.prototype,"codedValue",void 0),t=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.ContingentValue")],t);const p=t;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/ContingentValuesResult.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ContingentValuesResult.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let t=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(o){super(o)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],t.prototype,"contingentValuesAllGroups",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],t.prototype,"contingentValuesByFieldGroup",void 0),t=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.ContingentValuesResult")],t);const p=t;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/FieldGroup.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/FieldGroup.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let e=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(o){super(o),this.fields=null,this.isEditingRestrictive=!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],e.prototype,"name",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],e.prototype,"fields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],e.prototype,"isEditingRestrictive",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],e.prototype,"contingencies",void 0),e=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.FieldGroup")],e);const i=e;


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/LayerContingentValuesCache.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/LayerContingentValuesCache.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_Loadable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Loadable.js */ "./node_modules/@arcgis/core/core/Loadable.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _Contingency_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Contingency.js */ "./node_modules/@arcgis/core/layers/support/Contingency.js");
/* harmony import */ var _ContingencyConstraintViolation_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ContingencyConstraintViolation.js */ "./node_modules/@arcgis/core/layers/support/ContingencyConstraintViolation.js");
/* harmony import */ var _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ContingentValue.js */ "./node_modules/@arcgis/core/layers/support/ContingentValue.js");
/* harmony import */ var _ContingentValuesResult_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ContingentValuesResult.js */ "./node_modules/@arcgis/core/layers/support/ContingentValuesResult.js");
/* harmony import */ var _FieldGroup_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./FieldGroup.js */ "./node_modules/@arcgis/core/layers/support/FieldGroup.js");
/* harmony import */ var _fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _Subtype_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Subtype.js */ "./node_modules/@arcgis/core/layers/support/Subtype.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var h;let g=h=class extends((0,_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__.JSONSupportMixin)(_core_Loadable_js__WEBPACK_IMPORTED_MODULE_4__["default"])){constructor(e){super(e),this.request=_request_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.fieldGroups=null,this.fieldGroupDefinitions=null}initialize(){}get subtypeFieldName(){const{layer:e}=this;return"subtype-group"===e.type?e.subtypeField:e.typeIdField}static async createLoadedLayerContingentValuesCache(e){await e.load();const t=e.sourceJSON;if(void 0===e.layerId)return null;const n=t.hasContingentValuesDefinition;if(n)return new h({layer:e}).load();if(void 0===n){const t=(0,_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_9__.parse)(e.url);if(null==t)return null;const n=t.url.path;if((await h._staticFetchEnterpriseFeatureRoot(n)).supportsQueryDataElements){const t=e.layerId.toString(),i=await h._staticFetchEnterpriseFieldGroup(n,t);if(i){const t=i.map((t=>({name:t.name,isEditingRestrictive:t.isEditingRestrictive,fields:t.fieldNames.names.map((t=>e.fieldsIndex.normalizeFieldName(t)))})));return new h({layer:e,fieldGroupDefinitions:t}).load()}}}return null}async load(e){const t=this.layer.load(e).then((()=>this._initializeContingentValues(this.fieldGroupDefinitions,e)));return this.addResolvingPromise(t),this}validateContingencyConstraints(e,t){const n=Object.keys(e),i=[],s=[];for(const r of this.fieldGroups){const o=r.isEditingRestrictive?"error":"warning";if(t&&!r.fields.some((e=>t.includes(e))))continue;if(!r.fields.every((e=>n.includes(e)))){s.push(new _ContingencyConstraintViolation_js__WEBPACK_IMPORTED_MODULE_11__["default"]({fieldGroup:r,type:o}));continue}let a=!1;const l=e[this.subtypeFieldName],c=r.contingencies.filter((e=>!(!e.isRetired&&e.subtype)||e.subtype.code===l));for(const t of c){let n=!0;for(const i in t.values){const s=t.values[i];if("any"!==s.objectType)if("null"===s.objectType){if(null!=e[i]){n=!1;break}}else if("code"===s.objectType){if(e[i]!==s.codedValue.code){n=!1;break}}else if("range"===s.objectType){const t=e[i];if(t<s.minValue||t>s.maxValue){n=!1;break}}}if(n){a=!0;break}}a||i.push(new _ContingencyConstraintViolation_js__WEBPACK_IMPORTED_MODULE_11__["default"]({fieldGroup:r,type:o}))}return{invalid:i,incomplete:s}}getContingentValues(e,t,n=!1){const i=e[this.subtypeFieldName],s=null!=i,r={};let o=[];const a=this.fieldGroups.filter((e=>e.fields.includes(t)));o.push(new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectType:"any"}));for(const l of a){let a=[];const u=l.contingencies.filter((e=>!(e.isRetired||e.subtype&&s&&e.subtype.code!==i)));let c=!1;const p={};for(const n of u){let i,s=!0;for(const r in n.values){const o=n.values[r];if(t!==r){if(void 0!==e[r]&&"any"!==o.objectType)if("null"===o.objectType)null!==e[r]&&(s=!1);else if("code"===o.objectType)e[r]!==o.codedValue.code&&(s=!1);else if("range"===o.objectType){const t=e[r];(t<o.minValue||t>o.maxValue)&&(s=!1)}}else i=o,c=c||"range"===o.objectType}if(i&&s){if("any"===i.objectType){a.length=0,a.push(i);break}const e=this._generateKey(i);p[e]||a.push(i),p[e]=!0}}c&&(a=this._joinRange(a)),r[l.name]=a,o=n?this._filterIntersection(o,a):[]}return 1===a.length&&n&&(o=[]),new _ContingentValuesResult_js__WEBPACK_IMPORTED_MODULE_13__["default"]({contingentValuesAllGroups:o,contingentValuesByFieldGroup:r})}_generateKey(e){switch(e.objectType){case"any":return"@any@";case"null":return"@null@";case"code":return e.codedValue.name+e.codedValue.code.toString();case"range":return e.minValue.toString()+"-"+e.maxValue.toString()}}_joinRange(e){let t,n;e.sort(((e,t)=>"null"===e.objectType?-1:"null"===t.objectType?1:e.minValue-t.minValue));const i=[];for(const s of e)"null"!==s.objectType?null!=t&&null!=n?n<s.minValue?(i.push(new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectType:"range",minValue:t,maxValue:n})),t=s.minValue,n=s.maxValue):n<s.maxValue&&(n=s.maxValue):(t=s.minValue,n=s.maxValue):i.push(s);return i.push(new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectType:"range",minValue:t,maxValue:n})),i}_filterIntersection(e,t){if(0===e.length||0===t.length)return[];if("any"===e[0].objectType)return t;if("any"===t[0].objectType)return e;const n="range"===e[0].objectType||"range"===e[1]?.objectType,i="range"===t[0].objectType||"range"===t[1]?.objectType;return n||i?this._intersectRanges(e,t):this._intersectValues(e,t)}_intersectRanges(e,t){const n=[];let i,s=0;for(const r of e)for(;s<t.length;s++){const e=t[s];if("null"===r.objectType&&"null"===e.objectType)n.push(new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectType:"null"}));else{if("null"===r.objectType)break;if("null"===e.objectType)continue}if(r.maxValue<e.minValue)break;if(r.maxValue===e.minValue){n.push(new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectType:"range",minValue:r.maxValue,maxValue:e.minValue}));break}if(!(r.minValue>e.maxValue))if(r.minValue!==e.maxValue){if(i=r.minValue>e.minValue?r.minValue:e.minValue,r.maxValue<e.maxValue){n.push(new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectType:"range",minValue:i,maxValue:r.maxValue}));break}n.push(new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectType:"range",minValue:i,maxValue:e.maxValue}))}else n.push(new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectType:"range",minValue:r.minValue,maxValue:e.maxValue}))}return n}_intersectValues(e,t){const n=[];for(const i of e)t.some((e=>{if(i.objectType===e.objectType)switch(i.objectType){case"any":case"null":return!0;case"code":return i.codedValue.code===e.codedValue.code&&i.codedValue.name===e.codedValue.name}return!1}))&&n.push(i);return n}static async _staticFetchEnterpriseFeatureRoot(e,n){return (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(e,{responseType:"json",query:{f:"json"},...n}).then((e=>e.data))}static async _staticFetchEnterpriseFieldGroup(e,n,i){return (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(`${e}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([n]),f:"json"},...i}).then((e=>e.data.layerDataElements?.[0].dataElement.fieldGroups))}async _initializeContingentValues(e,t){const n=e??await this._fetchFieldGroupDefs(t);if(0===n.length)return void(this.fieldGroups=[]);const i=await this._fetchContingentValues(n,t);this.fieldGroups=i}async _fetchFieldGroupDefs(e){if(void 0===this.layer.layerId)return[];const t=this.layer.sourceJSON,n=this.layer.layerId.toString(),i=(0,_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_9__.parse)(this.layer.url).url.path;if(t.hasContingentValuesDefinition){return(await this._fetchAGOLFieldGroup(i,n,e)).map((e=>({name:e.name,isEditingRestrictive:e.restrictive,fields:e.fields.map((e=>this.layer.fieldsIndex.normalizeFieldName(e)))})))}return void 0!==t.hasContingentValuesDefinition?[]:this._fetchEnterpriseFeatureRoot(i,e).then((async t=>{if(t.supportsQueryDataElements){return(await this._fetchEnterpriseFieldGroup(i,n,e)).map((e=>({name:e.name,isEditingRestrictive:e.isEditingRestrictive,fields:e.fieldNames.names.map((e=>this.layer.fieldsIndex.normalizeFieldName(e)))})))}return[]}))}async _fetchAGOLFieldGroup(e,n,i){return (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(`${e}/${n}/fieldgroups`,{responseType:"json",query:{f:"json"},...i}).then((e=>e.data.fieldGroups))}async _fetchEnterpriseFieldGroup(e,t,n){return h._staticFetchEnterpriseFieldGroup(e,t,n)}async _fetchEnterpriseFeatureRoot(e,t){return h._staticFetchEnterpriseFeatureRoot(e,t)}async _fetchContingentValues(e,t){if(void 0===this.layer.layerId)return[];const n=this.layer.sourceJSON,i=this.layer.layerId.toString(),s=(0,_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_9__.parse)(this.layer.url).url.path;if(n.hasContingentValuesDefinition){const n=await this._fetchAGOLContingentValues(s,i,t);return this._constructFieldGroupsAGOL(e,n)}const r=await this._fetchEnterpriseContingentValues(s,i,t);return this._constructFieldGroupsEnterprise(e,r)}_constructFieldGroupsAGOL(e,t){return e.map((e=>{const n=t.contingentValuesDefinition.fieldGroups.find((t=>t.name===e.name));if(n){let i=[];return i=t.contingentValuesDefinition.hasSubType?this._parseAGOLFieldGroupSubtype(e,t,n.subTypes):this._parseAGOLFieldGroup(e,t,n.contingentValues),new _FieldGroup_js__WEBPACK_IMPORTED_MODULE_14__["default"]({name:e.name,isEditingRestrictive:e.isEditingRestrictive,fields:e.fields,contingencies:i})}return null})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome)}_parseAGOLFieldGroupSubtype(e,t,n){let i=[];return n?.forEach((n=>{const s=this._getSubtypeAGOL(n.name);i=i.concat(this._parseAGOLFieldGroup(e,t,n.contingentValues,s))})),i}_parseAGOLFieldGroup(e,t,n,i=null){const s=[];for(const r of n??[]){const n=this._parseAGOLContingency(r,e,t,i);s.push(n)}return s}_parseAGOLContingency(e,t,n,i){const s=e.id,r=!!e.retired&&1===e.retired,o={};for(let a=0,l=0;a<t.fields.length;a++){const s=t.fields[a],r=n.typeCodes[e.types[a]];if("Code"===r){let t=e.values[l];l++;const r=this._getDomain(i,s),a=this.layer.getField(s);if("string"===a?.type){const e=n.stringDicts.find((e=>e.domain===r?.name));e&&(t=e.entries[t])}const u=r?.codedValues.find((e=>e.code===t)),p=new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({codedValue:u,objectType:"code"});o[s]=p}else if("Range"===r){const t=e.values[l];l++;const n=t.range[0],i=t.range[1],r=new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({minValue:n,maxValue:i,objectType:"range"});o[s]=r}else if("Any"===r){const e=new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectType:"any"});o[s]=e}else{const e=new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectType:"null"});o[s]=e}}return new _Contingency_js__WEBPACK_IMPORTED_MODULE_10__["default"]({id:s,isRetired:r,subtype:i,values:o})}_constructFieldGroupsEnterprise(e,t){const i=t.fieldGroups;return e.map((e=>{const n=i.find((t=>t.name===e.name));if(n){const i=n.contingencies.map((n=>{const i=n.id,s=n.isRetired||!1,r=this._getSubtypeEnterprise(n.subtypeCode),o={};for(let a=0;a<e.fields.length;a++){const i=e.fields[a];let s=n.values[a];if("number"==typeof s||"string"==typeof s){const e=this._getDomain(r,i),n=this.layer.getField(i);if((0,_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.isStringField)(n))s=t.stringDictionary[s];else if((0,_fieldUtils_js__WEBPACK_IMPORTED_MODULE_15__.isDateField)(n)){const e=new Date(`${s}+00:00`);s=e.getTime()}const a=e?.codedValues.find((e=>e.code===s)),l=new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({codedValue:a,objectType:"code"});o[i]=l}else if("object"==typeof s){const e=s.minValue,t=s.maxValue,n=new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({minValue:e,maxValue:t,objectType:"range"});o[i]=n}else if(s){const e=new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectType:"any"});o[i]=e}else{const e=new _ContingentValue_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectType:"null"});o[i]=e}}return new _Contingency_js__WEBPACK_IMPORTED_MODULE_10__["default"]({id:i,isRetired:s,subtype:r,values:o})}));return new _FieldGroup_js__WEBPACK_IMPORTED_MODULE_14__["default"]({name:e.name,isEditingRestrictive:e.isEditingRestrictive,fields:e.fields,contingencies:i})}return null})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome)}async _fetchEnterpriseContingentValues(e,n,i){return (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(`${e}/queryContingentValues`,{responseType:"json",query:{layers:JSON.stringify([n]),f:"json"},...i}).then((e=>e.data.contingentValueSets?.[0]))}async _fetchAGOLContingentValues(e,n,i){return (0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(`${e}/${n}/contingentValues`,{responseType:"json",query:{f:"json"},...i}).then((e=>e.data))}_getSubtypeEnterprise(e){const t=this.layer.sourceJSON;let n;if(t.subtypes){const i=t.subtypes.find((t=>t.code===e));n=_Subtype_js__WEBPACK_IMPORTED_MODULE_16__["default"].fromJSON(i)}return n||null}_getSubtypeAGOL(e){const t=this.layer.sourceJSON;let n;if(t.subtypes){const i=t.subtypes.find((t=>t.name===e));n=_Subtype_js__WEBPACK_IMPORTED_MODULE_16__["default"].fromJSON(i)}return n||null}_findDomainByFieldName(e,t){const n=e.domains;if(n){const[e,i]=Object.entries(n).find((([e])=>e.trim().toLowerCase()===t.trim().toLowerCase()))||[];return i||null}return null}_getDomain(e,t){const n=e?this._findDomainByFieldName(e,t):this.layer.getFieldDomain(t);return"inherited"===n?.type?this.layer.getFieldDomain(t):n}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],g.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],g.prototype,"request",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({type:[_FieldGroup_js__WEBPACK_IMPORTED_MODULE_14__["default"]]})],g.prototype,"fieldGroups",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],g.prototype,"fieldGroupDefinitions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],g.prototype,"subtypeFieldName",null),g=h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.layers.support.LayerContingentValuesCache")],g);const V=g;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/FeatureForm.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/FeatureForm.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ H)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _intl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../intl.js */ "./node_modules/@arcgis/core/intl.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_deprecate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/deprecate.js */ "./node_modules/@arcgis/core/core/deprecate.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _Widget_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Widget.js */ "./node_modules/@arcgis/core/widgets/Widget.js");
/* harmony import */ var _FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./FeatureForm/css.js */ "./node_modules/@arcgis/core/widgets/FeatureForm/css.js");
/* harmony import */ var _FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./FeatureForm/featureFormUtils.js */ "./node_modules/@arcgis/core/widgets/FeatureForm/featureFormUtils.js");
/* harmony import */ var _FeatureForm_FeatureFormViewModel_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./FeatureForm/FeatureFormViewModel.js */ "./node_modules/@arcgis/core/widgets/FeatureForm/FeatureFormViewModel.js");
/* harmony import */ var _support_componentsUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./support/componentsUtils.js */ "./node_modules/@arcgis/core/widgets/support/componentsUtils.js");
/* harmony import */ var _support_dataUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./support/dataUtils.js */ "./node_modules/@arcgis/core/widgets/support/dataUtils.js");
/* harmony import */ var _support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./support/dateUtils.js */ "./node_modules/@arcgis/core/widgets/support/dateUtils.js");
/* harmony import */ var _support_globalCss_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./support/globalCss.js */ "./node_modules/@arcgis/core/widgets/support/globalCss.js");
/* harmony import */ var _support_Heading_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./support/Heading.js */ "./node_modules/@arcgis/core/widgets/support/Heading.js");
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./support/widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var _support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./support/decorators/messageBundle.js */ "./node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js");
/* harmony import */ var _support_decorators_vmEvent_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./support/decorators/vmEvent.js */ "./node_modules/@arcgis/core/widgets/support/decorators/vmEvent.js");
/* harmony import */ var _support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./support/jsxFactory.js */ "./node_modules/@arcgis/core/widgets/support/jsxFactory.js");
/* harmony import */ var _intl_substitute_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../intl/substitute.js */ "./node_modules/@arcgis/core/intl/substitute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const U="data-field-name",S="esri.widgets.FeatureForm",$=_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(S);let A=class extends _Widget_js__WEBPACK_IMPORTED_MODULE_11__["default"]{constructor(e,t){super(e,t),this._attemptFocusOnNextRender=!1,this._dateComponentMap=new Map,this._inputsWithChanges=new Set,this._focusedFieldName=null,this._listObserverNode=null,this._listObserver=new IntersectionObserver((e=>{e.length&&e[0].isIntersecting&&this._incrementRelatedRecordPage()}),{root:window.document}),this.groupDisplay="all",this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.messagesFeature=null,this.messagesTemplates=null,this.viewModel=new _FeatureForm_FeatureFormViewModel_js__WEBPACK_IMPORTED_MODULE_14__["default"],this._onShowAllRelatedRecordsClick=e=>{const{feature:t,relatedRecordCallbacks:i}=this;t&&i?.showAllRelatedRecords&&i.showAllRelatedRecords({parentFeature:t,relationshipId:e})},this._onAddRelatedRecordsClick=(e,t)=>{const{feature:i,relatedRecordCallbacks:o}=this;i&&o?.addRelatedRecord&&o.addRelatedRecord({parentFeature:i,relatedLayer:t,relationshipId:e})},this._onFormKeyDown=this._onFormKeyDown.bind(this),this._onFormSubmit=this._onFormSubmit.bind(this),this._onGroupToggle=this._onGroupToggle.bind(this),this._onComponentBlur=this._onComponentBlur.bind(this),this._onComponentFocus=this._onComponentFocus.bind(this),this._onComponentKeyDown=this._onComponentKeyDown.bind(this),this._afterComponentCreate=this._afterComponentCreate.bind(this),this._afterComponentCreateOrUpdate=this._afterComponentCreateOrUpdate.bind(this),this._afterDateComponentCreate=this._afterDateComponentCreate.bind(this),this._afterDateComponentCreateOrUpdate=this._afterDateComponentCreateOrUpdate.bind(this),this._afterRadioGroupCreateOrUpdate=this._afterRadioGroupCreateOrUpdate.bind(this)}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>this.feature),(()=>{(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.whenOnce)((()=>!this.viewModel.updating)).then((()=>{const e=this._getFocusableInput("forward");this._inputsWithChanges.clear(),this._dateComponentMap.clear(),this._syncGroupInputStates(),this._focusedFieldName=e?.name||null,this._attemptFocusOnNextRender=!0}))})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>this.groupDisplay),(()=>this._syncGroupInputStates())),this.on("submit",(e=>{if(e.invalid.length>0){const[t]=e.invalid;e.invalid.forEach((e=>this._inputsWithChanges.add(e))),this._focusedFieldName=t,this._attemptFocusOnNextRender=!0,this.scheduleRender()}})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>[this.viewModel.activeRelationshipInput,this._listObserverNode]),(()=>this._onObserverChange()))])}loadDependencies(){return (0,_support_componentsUtils_js__WEBPACK_IMPORTED_MODULE_15__.loadCalciteComponents)({block:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_debounce_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_floatin-6ba6c0"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_action_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_Heading-c0611b"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_popover_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_action--49b663"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-eaef4f")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-block.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-block.js")),button:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_form_js-bd460c"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_button_js"), __webpack_require__.e("node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-button_js")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-button.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-button.js")),combobox:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_debounce_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_form_js-bd460c"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_floatin-6ba6c0"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_compone-0277cf"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_chip_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_combobox_js"), __webpack_require__.e("node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-combobox_js")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-combobox.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-combobox.js")),"combobox-item":()=>__webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-1454de").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-combobox-item.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-combobox-item.js")),"combobox-item-group":()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-combobo-7d8597").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-combobox-item-group.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-combobox-item-group.js")),icon:()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-icon_js").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-icon.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-icon.js")),input:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_form_js-bd460c"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_input_js"), __webpack_require__.e("node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-input_j-7d5cf5")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-input.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-input.js")),"input-date-picker":()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_debounce_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_form_js-bd460c"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_floatin-6ba6c0"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_Heading-c0611b"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_input-text_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-a4a3bb")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-input-date-picker.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-input-date-picker.js")),"input-message":()=>__webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-4f3c54").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-input-message.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-input-message.js")),"input-number":()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_form_js-bd460c"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_input-n-666268"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-fda588")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-input-number.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-input-number.js")),"input-time-picker":()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_debounce_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_form_js-bd460c"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_floatin-6ba6c0"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_action_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_Heading-c0611b"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_popover_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_input-text_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-4070d7")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-input-time-picker.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-input-time-picker.js")),"input-time-zone":()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_debounce_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_form_js-bd460c"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_floatin-6ba6c0"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_compone-0277cf"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_chip_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_combobox_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-56b5bc")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-input-time-zone.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-input-time-zone.js")),label:()=>__webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-f66a9b").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-label.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-label.js")),list:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_debounce_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_form_js-bd460c"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_compone-0277cf"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_input_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-a8d2eb")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-list.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-list.js")),"list-item":()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_action_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-75bec5")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-list-item.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-list-item.js")),loader:()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-loader_js").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-loader.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-loader.js")),notice:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-c78b23")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-notice.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-notice.js")),"radio-button":()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_form_js-bd460c"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-9cc723")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-radio-button.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-radio-button.js")),"radio-button-group":()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-radio-b-f3704e").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-radio-button-group.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-radio-button-group.js")),switch:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_form_js-bd460c"), __webpack_require__.e("node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-switch_js")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-switch.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-switch.js")),"text-area":()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_debounce_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_form_js-bd460c"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-9183c5")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-text-area.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-text-area.js"))})}destroy(){this._listObserverNode&&this._listObserver.unobserve(this._listObserverNode)}get _relatedRecordsEnabled(){const e=this.relatedRecordCallbacks;return!(!e||!(e.addRelatedRecord||e.editRelatedRecord||e.showAllRelatedRecords))}get disabled(){return this.viewModel.disabled}set disabled(e){this.viewModel.disabled=e}get feature(){return this.viewModel.feature}set feature(e){this.viewModel.feature=e}get formTemplate(){return this.viewModel.formTemplate}set formTemplate(e){this.viewModel.formTemplate=e}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get map(){return this.viewModel.map}set map(e){this.viewModel.map=e}get relatedRecordCallbacks(){return this.viewModel.relatedRecordCallbacks}set relatedRecordCallbacks(e){this.viewModel.relatedRecordCallbacks=e}get relationshipId(){return this.viewModel.relationshipId}set relationshipId(e){this.viewModel.relationshipId=e}get spatialReference(){return this.viewModel.spatialReference}set spatialReference(e){this.viewModel.spatialReference=e}get strict(){return this.viewModel.strict}set strict(e){this.viewModel.strict=e}get timeZone(){return this.viewModel.timeZone}set timeZone(e){this.viewModel.timeZone=e}get view(){return (0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_3__.deprecatedProperty)($,"view",{replacement:"Use FeatureForm.map instead.",version:"4.27"}),this.viewModel.view}set view(e){(0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_3__.deprecatedProperty)($,"view",{replacement:"Use FeatureForm.map instead.",version:"4.27"}),this.viewModel.view=e}getValues(){return this.viewModel.getValues()}submit(){return this.viewModel.submit()}render(){const{state:e}=this.viewModel;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("div",{class:this.classes(_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.base,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_18__.globalCss.widget,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_18__.globalCss.panel)},"ready"===e?this._renderForm():null)}_renderForm(){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("form",{class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.form,novalidate:!0,onkeydown:this._onFormKeyDown,onsubmit:this._onFormSubmit},this._renderHeader(),this._renderContent())}_renderHeader(){const e=this.viewModel;if(!e.formHeaderVisible)return;const t=null!=e.formTitle&&(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)(_support_Heading_js__WEBPACK_IMPORTED_MODULE_19__.Heading,{key:"title",level:this.headingLevel},e.formTitle),i=null!=e.formDescription&&(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("p",{class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.description,key:"description"},e.formDescription);return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("div",{class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.formHeader},t,i)}_renderContent(){const{viewModel:e}=this;return e.activeRelationshipInput?this._renderActiveRelationshipInput(e.activeRelationshipInput):e.inputs.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome).filter((e=>e.visible)).map(((e,t)=>(0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isGroupInput)(e)?this._renderGroup(e,t):(0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isFieldInput)(e)?this._renderLabeledField(e):(0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isRelationshipInput)(e)?this._renderRelationshipInput(e):void 0))}_renderActiveRelationshipInput(e){return this._renderRelationshipInput(e)}_renderDescriptionOrEmpty(e,t){return null==e?null:(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("div",{class:this.classes(_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.description),id:t},e)}_renderGroup(e,t){const{disabled:i,formTemplate:o,headingLevel:n}=this,{description:a,inputs:s,label:r,open:l}=e,d=s.filter((e=>e.visible)),c=this.viewModel.findField(this._focusedFieldName),h=c?.group===e,v=`${this.id}_group_${t}`,_="sequential"===this.groupDisplay;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-block",{class:this.classes(_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.group,_?_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.groupSequential:null,h?_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.groupActive:null,i?_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.inputDisabled:null),collapsible:!0,"data-group":e,description:a||void 0,disabled:i,heading:`${r}`,headingLevel:o?.title?(0,_support_Heading_js__WEBPACK_IMPORTED_MODULE_19__.incrementHeadingLevel)(n):n,id:v,key:v,open:l,onCalciteBlockToggle:({target:t})=>this._onGroupToggle(t,e)},d.map((e=>(0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isFieldInput)(e)?this._renderLabeledField(e):(0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isRelationshipInput)(e)?this._renderRelationshipInput(e):void 0)))}_getFocusableInput(e,t){const i=this.viewModel.allFieldInputs,o="forward"===e?i:i.slice().reverse();let n;if(!t||(0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isRelationshipInput)(t))n=0;else if((0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isGroupInput)(t)){const e=t.inputs.find(_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isFieldInput);n=e?o.indexOf(e):0}else{let i;if((0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isInputInGroupInput)(t)&&!t.group.open){const o=t.group.inputs.filter(_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isFieldInput);i="forward"===e?o[o.length-1]:o[0]}else i=t;n=o.indexOf(i)+1}for(let a=n;a<o.length;a++){const e=o[a];if(e.visible&&(0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isFieldInput)(e))return e}return null}_renderLabeledField(e){const{dataType:t,feature:i,label:o,layer:n,required:a}=e,s={"aria-label":a?(0,_intl_substitute_js__WEBPACK_IMPORTED_MODULE_24__.substitute)(this.messages.requiredFieldLabel,{name:o}):o,class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.label,key:`${n.id}-${i.uid}-${e.name}`},r=[(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("div",{class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.labelTextContent,key:"labelTextContainer"},o,a?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("span",{"aria-hidden":"true",title:this.messagesCommon.required},"*"):void 0),"unsupported"!==t?this._renderFieldInput(e):this._renderReadOnlyComponent(e),this._renderAuxiliaryText(e)];return"date"===t&&"coded-value"!==e.domain?.type?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("label",{...s},r):(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-label",{...s},r)}_renderFieldInput(e){const{dataType:t,domain:i,inputType:o,name:n}=e,a=this.getCommonInputProps(e);if("coded-value"===i?.type){const t=this.viewModel.getFieldValueOptionsForField(n,this.messages.empty);return"switch"!==o||e.hasInvalidSwitchValue?"radio-buttons"===o?this._renderRadioButtonComponents(e,t.flat(),a):this._renderComboBoxComponent(e,t,a):this._renderSwitchComponent(e,a)}return"datetime-picker"===o||"date"===t?this._renderDateComponents(e,a):"number"===t?this._renderNumberComponent(e,a):this._renderStringComponent(e,a)}_renderStringComponent(e,t){return"text-area"===e.inputType?t.readOnly?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-input",{...t,loading:e.updating,type:"textarea",onCalciteInputInput:e=>this._saveValueFromComponent(e.target)}):(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-text-area",{...t,resize:"vertical",onCalciteTextAreaInput:e=>this._saveValueFromComponent(e.target)}):(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-input",{...t,loading:e.updating,type:"text",onCalciteInputInput:e=>this._saveValueFromComponent(e.target)})}_renderNumberComponent(e,t){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-input-number",{...t,integer:(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.isIntegerField)(e.field),loading:e.updating,type:"number",onCalciteInputNumberInput:e=>this._saveValueFromComponent(e.target)})}_renderDateComponents(e,t){const{field:i}=e;switch(i.type){case"date":return this._renderDateFieldComponents(e,t);case"date-only":return this._renderDateOnlyFieldComponent(e,t);case"time-only":return this._renderTimeOnlyFieldComponent(e,t);case"timestamp-offset":return this._renderTimestampOffsetFieldComponents(e,t);default:return this._renderReadOnlyComponent(e,(0,_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.getLabelForDateFieldValue)(i,t.value,{timeZone:this.timeZone,...(0,_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.getIntlOptionsForField)(i)}))}}_renderDateOnlyFieldComponent(e,t){const{range:i,valid:o,value:n}=e,{class:a,key:s,readOnly:r}=t,{rawMax:l,rawMin:d}=i;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-input-date-picker",{afterCreate:this._afterDateComponentCreate,afterUpdate:this._afterDateComponentCreateOrUpdate,"aria-invalid":!o,class:a,"data-date-part":"date","data-field-name":t[U],key:`${s}-date-input`,max:(0,_support_dataUtils_js__WEBPACK_IMPORTED_MODULE_16__.isString)(l)?l:void 0,min:(0,_support_dataUtils_js__WEBPACK_IMPORTED_MODULE_16__.isString)(d)?d:void 0,numberingSystem:_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.numberingSystem,onblur:e=>{this._focusedFieldName=null,this._saveValueFromDateComponent(e.target)},onfocus:this._onComponentFocus,overlayPositioning:"fixed",readOnly:r,value:null!=n?`${n}`:void 0,onCalciteInputDatePickerChange:e=>this._saveValueFromDateComponent(e.target)})}_renderTimeOnlyFieldComponent(e,t){const{valid:i,value:o}=e,{class:n,key:a,readOnly:s}=t;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-input-time-picker",{afterCreate:this._afterDateComponentCreate,afterUpdate:this._afterDateComponentCreateOrUpdate,"aria-invalid":!i,class:n,"data-date-part":"time","data-field-name":t[U],key:`${a}-time-input`,numberingSystem:_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.numberingSystem,onblur:e=>{this._focusedFieldName=null,this._saveValueFromDateComponent(e.target)},onfocus:this._onComponentFocus,overlayPositioning:"fixed",readOnly:s,step:e.timeStep,value:null!=o?`${o}`:void 0,onCalciteInputTimePickerChange:e=>this._saveValueFromDateComponent(e.target)})}_renderTimestampOffsetFieldComponents(e,t){const{name:i,range:o,valid:n,value:a}=e,{class:s,key:r,readOnly:l}=t,{rawMax:d,rawMin:c}=o,u={afterCreate:this._afterDateComponentCreate,afterUpdate:this._afterDateComponentCreateOrUpdate,"aria-invalid":!n,numberingSystem:_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.numberingSystem,overlayPositioning:"fixed",readOnly:l,[U]:i,onfocus:this._onComponentFocus},m=(0,_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.prepareISOFieldValueForDateComponents)(d),h=(0,_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.prepareISOFieldValueForDateComponents)(c),v=(0,_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.prepareISOFieldValueForDateComponents)(a);return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("div",{class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.dateInputContainer,key:`${r}-date-time-container`},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-input-date-picker",{...u,class:s,"data-date-part":"date",key:`${r}-date-input`,max:m?.date??void 0,min:h?.date??void 0,onblur:e=>{this._focusedFieldName=null,this._saveValueFromDateComponent(e.target)},value:v.date??void 0,onCalciteInputDatePickerChange:e=>this._saveValueFromDateComponent(e.target)}),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-input-time-picker",{...u,class:s,"data-date-part":"time",key:`${r}-time-input`,onblur:e=>{this._focusedFieldName=null,this._saveValueFromDateComponent(e.target)},step:e.timeStep,value:v.time??void 0,onCalciteInputTimePickerChange:e=>this._saveValueFromDateComponent(e.target)}),e.includeTimeOffset?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-input-time-zone",{...u,class:s,"data-date-part":"timeZone",disabled:l,key:`${r}-timezone-input`,onblur:e=>{this._focusedFieldName=null,this._saveValueFromDateComponent(e.target)},value:v.timeZoneOffset??"0",onCalciteInputTimeZoneChange:e=>this._saveValueFromDateComponent(e.target)}):null)}_renderDateFieldComponents(e,t){const{includeTime:i,name:o,valid:n,value:a}=e,{class:s,key:r,max:l,min:d,readOnly:c}=t,{timeZone:u}=this,m={afterCreate:this._afterDateComponentCreate,afterUpdate:this._afterDateComponentCreateOrUpdate,"aria-invalid":!n,numberingSystem:_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.numberingSystem,overlayPositioning:"fixed",readOnly:c,[U]:o,onfocus:this._onComponentFocus},h=(0,_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.prepareUnixFieldValueForDateComponents)(a,u),v=(0,_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.prepareUnixFieldValueForDateComponents)(l,u),_=(0,_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.prepareUnixFieldValueForDateComponents)(d,u);return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("div",{class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.dateInputContainer,key:`${r}-date-time-container`},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-input-date-picker",{...m,class:s,"data-date-part":"date",key:`${r}-date-input`,max:v?.date??void 0,min:_?.date??void 0,onblur:e=>{this._focusedFieldName=null,this._saveValueFromDateComponent(e.target)},value:h.date??void 0,onCalciteInputDatePickerChange:e=>this._saveValueFromDateComponent(e.target)}),i?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-input-time-picker",{...m,class:s,"data-date-part":"time",key:`${r}-time-input`,onblur:e=>{this._focusedFieldName=null,this._saveValueFromDateComponent(e.target)},step:1,value:h.time??void 0,onCalciteInputTimePickerChange:e=>this._saveValueFromDateComponent(e.target)}):null)}_renderReadOnlyComponent(e,t){const i=this.getCommonInputProps(e);return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-input",{...i,class:this.classes(_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.fieldInput,_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.inputDisabled),readOnly:!0,type:"text",value:null!=t?`${t}`:i.value})}_renderComboBoxComponent(e,t,i){const{value:o,name:n}=e,{messages:a,messagesTemplates:s,viewModel:r,_inputsWithChanges:l}=this,d=t.map((e=>e.map((({name:e,value:t})=>(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-combobox-item",{key:`#${t}`,selected:o===t,textLabel:e,value:`${t}`}))))),[p,c]=d;this.viewModel.fieldsWithInvalidCodedValue.has(e)&&c.unshift((0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-combobox-item",{key:"incompatible-option",readOnly:!0,textLabel:`${e.value}`,value:`${e.value}`}));const u=c.length>0?[(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-combobox-item-group",{key:"recommended",label:a.recommended},p),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-combobox-item-group",{key:"other",label:s.other},c)]:p,m="INSERT"===r.arcadeEditType,h=l.has(n),v=null==o&&(!m||h);if(e.showNoValueOptionEnabled){const t="",i=e.showNoValueLabel||a.empty;u.unshift((0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-combobox-item",{key:"empty-option",selected:v,textLabel:a.empty,value:t},i))}const _=m&&e.showNoValueOptionEnabled&&!h?()=>{}:i.onblur;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-combobox",{...i,allowCustomValues:!1,clearDisabled:!0,disabled:i.readOnly,onblur:_,overlayPositioning:"fixed",selectionMode:"single",onCalciteComboboxChange:({target:e})=>{v&&0===e.selectedItems.length?this._ignoreDeselectionOfNoValueOption(e):this._saveValueFromComponent(e)}},u)}_renderRadioButtonComponents(e,t,i){const{name:o,value:n}=e,a=t.map((({name:e,value:t})=>this._renderRadioButtonComponent({key:e,label:e,name:o,value:t,selected:t===n,props:i})));if(e.showNoValueOptionEnabled){const t="",s=e.showNoValueLabel||this.messages.empty,r=n===t||null===n;a.unshift(this._renderRadioButtonComponent({key:"empty-option",label:s,name:o,value:t,selected:r,props:i}))}return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-radio-button-group",{afterCreate:this._afterRadioGroupCreateOrUpdate,afterUpdate:this._afterRadioGroupCreateOrUpdate,class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.inputRadioGroup,"data-field-name":i[U],key:`${i.key}-radio-group`,layout:"vertical",name:i.key,required:i.required},a)}_renderSwitchComponent(e,t){const{value:i}=e,o=!!(0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isFieldElementWithInputType)(e.element,"switch")&&i===e.element.input.onValue;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-switch",{...t,checked:o,class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.inputSwitch,disabled:t.readOnly,onblur:()=>{this._focusedFieldName=null},onCalciteSwitchChange:e=>this._saveValueFromComponent(e.target)})}_renderRadioButtonComponent({key:e,name:t,value:i,selected:o,label:n,props:a}){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-label",{class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.inputRadioLabel,key:e,layout:"inline"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-radio-button",{...a,afterCreate:void 0,afterUpdate:void 0,checked:o,class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.inputRadio,disabled:a.readOnly,name:t,onblur:()=>{this._focusedFieldName=null},value:i,onCalciteRadioButtonChange:({target:e})=>{e.checked&&this._saveValueFromComponent(e)}}),n)}_renderAuxiliaryText(e){const t=e.name,i=this._inputsWithChanges.has(t)&&!e.valid?(0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.getErrorMessageForFieldInput)(e,this.messages,this.timeZone):null!=this.viewModel.contingencyConstraintViolations.get(t)?this.messages.validationErrors.valuesIncompatible:null!=e.valueExpressionExecutor&&e.valueExpressionExecutor.stale?this.messages.valueExpressionError:null;return null!=i?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-input-message",{icon:!0,status:"invalid"},i):this._renderDescriptionOrEmpty(e.description)}_renderShowAllRelatedRecordsListItem(e){const{featureCount:t,relationshipId:i,showAllActionVisible:o}=e,{relatedRecordCallbacks:n}=this;if(!o||!n?.showAllRelatedRecords)return;const a=this.messages;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-list-item",{description:(0,_intl_substitute_js__WEBPACK_IMPORTED_MODULE_24__.substitute)(a.totalCount,{count:t}),label:a.showAll,value:!0,onCalciteListItemSelect:()=>this._onShowAllRelatedRecordsClick(i)},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-icon",{icon:"list",scale:"s",slot:"content-end"}))}_renderAddRelatedRecordButton(e){const{canAddRelatedFeature:t,relationshipId:i,relatedLayer:o}=e,{messages:n,relatedRecordCallbacks:a}=this;if(t&&a?.addRelatedRecord&&o)return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-button",{alignment:"center",appearance:"outline-fill",class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.centeredButton,disabled:e.updating||!e.originHasValidKey,iconStart:"plus",key:`${i}-add-button`,onclick:()=>this._onAddRelatedRecordsClick(i,o),round:!0,scale:"s",width:"half"},e.relatedLayerIsTable?n.addRecord:n.addFeature)}_renderRelatedRecordListItem(e,t){const{feature:i,description:o,title:n}=e,{feature:a,relatedRecordCallbacks:s}=this,{highlightHelper:r}=this.viewModel,l=()=>{r?.removeAll(),s?.editRelatedRecord&&a&&s.editRelatedRecord({parentFeature:a,relationshipId:t,relatedFeature:i})},d=r?()=>r.add(i):void 0,p=r?()=>r.remove(i):void 0;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-list-item",{bind:this,description:o,key:`${t}-${i.uid}`,label:n,onclick:l,onmouseenter:d,onmouseleave:p,value:n},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-icon",{icon:(0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.getIconForFeature)(i),scale:"m",slot:"content-start"}),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-icon",{icon:"chevron-right",scale:"s",slot:"content-end"}))}_renderRelationshipInput(e){if(!this._relatedRecordsEnabled||!e.editable)return;const{featureCount:t,relationshipId:i,showAllEnabled:o}=e,n=o?null:this._renderDescriptionOrEmpty(e.description),a=t>0?this._renderRelatedRecordsList(e):e.loaded?e.originHasValidKey?this._renderNoRelatedRecordsNotice():this._renderNoValidOriginKeyNotice(e):void 0;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-label",{class:this.classes(_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.label,_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.relatedRecordsLabel),key:`relationship-${i}-container`},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("div",null,this._renderRelatedRecordsHeaderContainer(e),n,a),this._renderAddRelatedRecordButton(e))}_renderRelatedRecordsHeaderContainer(e){const t=e.updating||!e.loaded;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("div",{class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.relatedRecordsHeader,key:`relationship-${e.relationshipId}-header`},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("span",null,e.label),t?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-loader",{inline:!0,key:"loader",label:this.messagesCommon?.loading,scale:"s",type:"indeterminate"}):void 0)}_renderRelatedRecordsList(e){const{relationshipId:t}=e;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-list",{class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.relatedRecordsList},e.relatedFeatureInfos.map((e=>this._renderRelatedRecordListItem(e,t))),this._renderShowAllRelatedRecordsListItem(e),this._renderObserverNode())}_renderNoValidOriginKeyNotice(e){const{messages:t}=this,i=e.relatedLayerIsTable?t.noOriginKeyRecord:t.noOriginKeyFeature,o=e.relationship?.keyField,n=this.viewModel.findField(o),a=e.layer?.fieldsIndex.get(o),s=n?.label||a?.alias||o,r=(0,_intl_substitute_js__WEBPACK_IMPORTED_MODULE_24__.substitute)(i,{relatedLayerName:e.relatedLayer?.title,originKeyField:s});return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-notice",{icon:"information",kind:"brand",open:!0,scale:"s",width:"full"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("div",{slot:"message"},r))}_renderNoRelatedRecordsNotice(){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("calcite-notice",{icon:"information",kind:"brand",open:!0,scale:"s",width:"full"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("div",{slot:"message"},this.messagesFeature.noRelatedFeatures))}_renderObserverNode(){if(this.viewModel.activeRelationshipInput?.showAllEnabled)return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_23__.tsx)("div",{afterCreate:this._afterListObserverCreated,afterRemoved:this._afterListObserverRemoved,bind:this,class:_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.listObserver,key:"feature-observer"})}getCommonInputProps(e){const{disabled:t}=this,{editable:i,hint:o,label:n,maxLength:a,minLength:s,name:r,range:{max:l,min:d},required:c,valid:u,value:m}=e,h=this._inputsWithChanges.has(r),v=!i||t;return{afterCreate:this._afterComponentCreate,afterUpdate:this._afterComponentCreateOrUpdate,"aria-invalid":u?"false":"true",class:this.classes(_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.fieldInput,v?_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.inputDisabled:null,h&&!u?_FeatureForm_css_js__WEBPACK_IMPORTED_MODULE_12__.css.inputInvalid:null),key:r,label:n,max:null!=l?l:void 0,min:null!=d?d:void 0,maxLength:a>-1?a:void 0,minLength:s>-1?s:void 0,placeholder:o??void 0,readOnly:v,required:c,value:null==m?"":`${m}`,onblur:this._onComponentBlur,onfocus:this._onComponentFocus,onkeydown:this._onComponentKeyDown,[U]:r}}_getFieldInputFromHTMLElement(e){return this.viewModel.findField(e.getAttribute(U))}_afterDateComponentCreate(e){const t=this._getFieldInputFromHTMLElement(e),i=e.dataset.datePart,o=this._dateComponentMap.get(t.name);if("valueAsDate"in e&&null!=e.value){const t=e.value,i=new ResizeObserver((()=>{e.value=void 0,e.value=t,i.unobserve(e)}));i.observe(e)}if(null!=o)switch(i){case"date":o.date=e;break;case"time":o.time=e;break;case"timeZone":o.timeZone=e}else this._dateComponentMap.set(t.name,{[i]:e});this._afterDateComponentCreateOrUpdate(e)}_afterDateComponentCreateOrUpdate(e){this._afterComponentCreateOrUpdate(e)}_afterComponentCreate(e){const t=this._getFieldInputFromHTMLElement(e);(0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isNumberFieldInput)(t)&&null!=e.value&&"setNumberValue"in e&&e.setNumberValue({committing:!1,value:e.value,origin:"direct"}),this._afterComponentCreateOrUpdate(e)}_afterRadioGroupCreateOrUpdate(e){const t=e.selectedItem,i=e.querySelector("calcite-radio-button"),o=t||i;o&&this._afterComponentCreateOrUpdate(o)}_afterComponentCreateOrUpdate(e){const{viewModel:t}=this,i=this._getFieldInputFromHTMLElement(e),o=t.findField(this._focusedFieldName);this._attemptFocusOnNextRender&&o===i&&(this._attemptFocusOnNextRender=!1,(0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isInputInGroupInput)(i)&&(i.group.open=!0),e.setFocus())}_onComponentFocus(e){const t=e.target,i=this._getFieldInputFromHTMLElement(t);this._focusedFieldName=i.name}_onComponentBlur(e){const t=e.target;this._focusedFieldName=null,this._saveValueFromComponent(t)}_saveValueFromDateComponent(e){const t=this._getFieldInputFromHTMLElement(e),i=t.field.type,{name:o,range:n}=t,a=this._dateComponentMap.get(o);if(!a)return;let s=this.viewModel.getValue(o),r=null;"date-only"===i?r=e.value:"time-only"===i?(s=(0,_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.normalizeTimeOnlyString)(s),r=(0,_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.normalizeTimeOnlyString)(e.value)):r="timestamp-offset"===i?null!=e.value?(0,_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.getISOFieldValueFromDateComponents)({dateComponent:a.date,timeComponent:a.time,timeZoneComponent:a.timeZone,oldValue:s}):null:null!=e.value?(0,_support_dateUtils_js__WEBPACK_IMPORTED_MODULE_17__.getUnixFieldValueFromDateComponents)({oldValue:s,dateComponent:a.date,timeComponent:a.time,timeZone:this.timeZone,max:n.max,min:n.min}):null,null!==r&&e.value?s!==r&&this._updateFieldValue(o,r):this._updateFieldValue(o,null)}_saveValueFromComponent(e){const t=this._getFieldInputFromHTMLElement(e);this._updateFieldValue(t.name,this._parseValue(e))}_onComponentKeyDown({key:e,target:t}){const i=this._getFieldInputFromHTMLElement(t);"Enter"===e&&(0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isInputInGroupInput)(i)&&!i.group.open&&(i.group.open=!0)}_updateFieldValue(e,t){if(this.viewModel.setValue(e,t),this._inputsWithChanges.add(e),this.viewModel.fieldsWithContingentValues.has(e)){const e=Object.fromEntries(Object.entries(this.getValues()).filter((([e,t])=>null!=t)));this.viewModel.validateContingencyConstraints(e)}}_parseValue(e){const t=this._getFieldInputFromHTMLElement(e),i=e.value;return (0,_FeatureForm_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_13__.isFieldElementWithInputType)(t.element,"switch")?e.checked?t.element.input.onValue:t.element.input.offValue:null==i||""===i?null:"number"===t.dataType?"-0"===i||"-0."===i||"-0,"===i?i:parseFloat(i):"date"===t.field.type?parseFloat(i):i}_ignoreDeselectionOfNoValueOption(e){const{firstChild:t,selectedItems:i}=e;0===i.length&&t&&"selected"in t?t.selected=!0:$.warnOnce("Failed to override user attempt to deselect 'No value' option.")}_onGroupToggle(e,t){e.open?(t.open=!0,this._focusedFieldName=this._getFocusableInput("forward",t)?.name||null,this._attemptFocusOnNextRender=!0,"sequential"===this.groupDisplay&&this.viewModel.allGroupInputs.forEach((e=>{e!==t&&(e.open=!1)}))):t.open=!1,this.scheduleRender()}_onFormSubmit(e){e.preventDefault()}_onFormKeyDown(e){"Enter"===e.key&&this.viewModel.submit()}_afterListObserverCreated(e){this.viewModel.activeRelationshipInput&&(this._listObserverNode=e)}_afterListObserverRemoved(){this._listObserverNode=null}_onObserverChange(){this._listObserverNode&&this._listObserver.unobserve(this._listObserverNode);const e=this.viewModel.activeRelationshipInput;e&&this._listObserverNode&&e.showAllEnabled&&this._listObserver.observe(this._listObserverNode)}_incrementRelatedRecordPage(){const e=this.viewModel.activeRelationshipInput;e?.incrementPage()}_syncGroupInputStates(){if("sequential"!==this.groupDisplay)return;const e=this.viewModel.allGroupInputs;if(!e.length)return;const t=e.filter((e=>e.open));0===t.length?e[0].open=!0:t.length>1&&t.slice(1).forEach((e=>e.open=!1))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"_listObserverNode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"_relatedRecordsEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"disabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"feature",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"formTemplate",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"groupDisplay",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"headingLevel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"label",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"map",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_21__.messageBundle)("esri/widgets/FeatureForm/t9n/FeatureForm")],A.prototype,"messages",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_21__.messageBundle)("esri/t9n/common")],A.prototype,"messagesCommon",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_21__.messageBundle)("esri/widgets/Feature/t9n/Feature")],A.prototype,"messagesFeature",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_21__.messageBundle)("esri/widgets/FeatureTemplates/t9n/FeatureTemplates")],A.prototype,"messagesTemplates",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"relatedRecordCallbacks",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"relationshipId",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"spatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"strict",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"timeZone",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],A.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)(),(0,_support_decorators_vmEvent_js__WEBPACK_IMPORTED_MODULE_22__.vmEvent)(["value-change","submit"])],A.prototype,"viewModel",void 0),A=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)(S)],A);const H=A;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/FeatureForm/FeatureFormViewModel.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/FeatureForm/FeatureFormViewModel.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_deprecate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/deprecate.js */ "./node_modules/@arcgis/core/core/deprecate.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_string_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/string.js */ "./node_modules/@arcgis/core/core/string.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _form_FormTemplate_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../form/FormTemplate.js */ "./node_modules/@arcgis/core/form/FormTemplate.js");
/* harmony import */ var _layers_support_ContingentValue_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../layers/support/ContingentValue.js */ "./node_modules/@arcgis/core/layers/support/ContingentValue.js");
/* harmony import */ var _layers_support_editableLayers_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../layers/support/editableLayers.js */ "./node_modules/@arcgis/core/layers/support/editableLayers.js");
/* harmony import */ var _layers_support_LayerContingentValuesCache_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../layers/support/LayerContingentValuesCache.js */ "./node_modules/@arcgis/core/layers/support/LayerContingentValuesCache.js");
/* harmony import */ var _time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../time/timeZoneUtils.js */ "./node_modules/@arcgis/core/time/timeZoneUtils.js");
/* harmony import */ var _featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./featureFormUtils.js */ "./node_modules/@arcgis/core/widgets/FeatureForm/featureFormUtils.js");
/* harmony import */ var _FieldInput_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./FieldInput.js */ "./node_modules/@arcgis/core/widgets/FeatureForm/FieldInput.js");
/* harmony import */ var _FormExpressionArcadeExecutor_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./FormExpressionArcadeExecutor.js */ "./node_modules/@arcgis/core/widgets/FeatureForm/FormExpressionArcadeExecutor.js");
/* harmony import */ var _FormExpressionsManager_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./FormExpressionsManager.js */ "./node_modules/@arcgis/core/widgets/FeatureForm/FormExpressionsManager.js");
/* harmony import */ var _GroupInput_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./GroupInput.js */ "./node_modules/@arcgis/core/widgets/FeatureForm/GroupInput.js");
/* harmony import */ var _RelationshipInput_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./RelationshipInput.js */ "./node_modules/@arcgis/core/widgets/FeatureForm/RelationshipInput.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const N=new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]({attributes:{}}),Z=["editableExpression","requiredExpression","valueExpression","visibilityExpression"],L=["visibilityExpression"],k=["editableExpression","visibilityExpression"],U="#JSAPI_CONTINGENT_VALUE_EMPTY_HASH",P="#JSAPI_CONTINGENT_VALUE_ANY_HASH",W="#JSAPI_CONTINGENT_VALUE_NULL_HASH",G="esri.widgets.FeatureForm.FeatureFormViewModel",O=_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(G);let $=class extends((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_3__["default"].EventedAccessor)){constructor(e){super(e),this._expressionExecutorsInUse=new Set,this._expressionExecutorLookup=new Map,this._expressionsManager=null,this._contingentValuesCache=null,this._featureClone=N.clone(),this._initialFeature=N.clone(),this._timeZone=null,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_14__.UpdatingHandles,this.arcadeEditType="NA",this.contingencyConstraintViolations=new Map,this.disabled=!1,this.highlightHelper=null,this.inputs=[],this.map=null,this.relatedRecordCallbacks=null,this.strict=!1}initialize(){const e=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>[this.layer,!!this.layer?.loaded,this.formTemplate,this.feature,this.timeZone,this.arcadeEditType]),(async([e,t])=>{null!=e&&(t?this._updatingHandles.addPromise(this._updateInputs()):e.load().catch((()=>{})))}),{equals:([e,t,n,s,i,o],[r,a,l,u,p,d])=>e===r&&t===a&&n===l&&s===u&&i===p&&o===d,initial:!0}),t=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this._arcadeContextInfo),(e=>{null!=this._expressionsManager&&(this._expressionsManager.arcadeContextInfo=e,this._updatingHandles.addPromise(this._expressionsManager.evaluateAll().finally((()=>this._afterExpressionsEvaluated()))))})),n=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>this.layer),(e=>{const t="subtype-sublayer"===e?.type?e.parent:"feature"===e?.type?e:null;t&&this.addResolvingPromise(_layers_support_LayerContingentValuesCache_js__WEBPACK_IMPORTED_MODULE_18__["default"].createLoadedLayerContingentValuesCache(t).then((e=>{this._contingentValuesCache=e,this.notifyChange("fieldsWithContingentValues")})))}),{initial:!0});this.addHandles([e,t,n])}destroy(){this.feature=null,this.layer=null,this._contingentValuesCache=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._contingentValuesCache),this.highlightHelper?.removeAll(),this._updatingHandles.destroy()}get _expressionInfosLookup(){return new Map(this.formTemplate?.expressionInfos?.map((e=>[e.name,e])))}get activeRelationshipInput(){return this.allRelationshipInputs.find((e=>e.relationshipId===this.relationshipId))}get _arcadeContextInfo(){const{_initialFeature:e,arcadeEditType:t,layer:n,map:s,spatialReference:i,timeZone:o}=this;return{layer:(0,_layers_support_editableLayers_js__WEBPACK_IMPORTED_MODULE_17__.isEditableLayer)(n)?n:null,originalFeature:e,editType:t,map:s,spatialReference:i,timeZone:o}}get allFieldInputs(){return (0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.flattenFieldInputs)(this.inputs)}get allGroupInputs(){return this.inputs.filter(_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.isGroupInput)}get allRelationshipInputs(){return (0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.flattenRelationshipInputs)(this.inputs)}get _layerFieldsByName(){return new Map(this.layer?.fields.map((e=>[e.name,e])))}get feature(){return this._get("feature")}set feature(e){this._featureClone=e?e.clone():N.clone(),this._initialFeature=this._featureClone.clone(),this._expressionsManager&&(this._expressionsManager.feature=this._featureClone),e?(this._resetFieldInputValues(this._featureClone),this.allRelationshipInputs.forEach((t=>t.feature=e))):(this.inputs.forEach((e=>e.destroy())),this.inputs.length=0),this.contingencyConstraintViolations.clear(),this._set("feature",e)}get fieldsWithContingentValues(){if(null==this._contingentValuesCache)return new Set;const e=this._contingentValuesCache.fieldGroups.flatMap((e=>e.fields));return new Set(e)}get fieldsWithInvalidCodedValue(){const e=this.allFieldInputs;return new Set(e.filter((e=>{const{name:t,domain:n,value:s}=e;if("coded-value"===n?.type){const e=this.getFieldValueOptionsForField(t);return null!=s&&""!==s&&!e.flat().some((e=>e.value===s))}return!1})))}get formTemplate(){return this.layer&&"formTemplate"in this.layer?this.layer.formTemplate:null}set formTemplate(e){void 0===e?this._clearOverride("formTemplate"):this._override("formTemplate",e)}get formDescription(){const{formTemplate:e,layer:t}=this;return e?.description&&t?(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.parseFormTemplateString)({label:e.description,attributes:this.getValues(),fieldsIndex:t.fieldsIndex,timeZone:this.timeZone}):null}get formTitle(){const{formTemplate:e,layer:t}=this;return e?.title&&t?(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.parseFormTemplateString)({label:e.title,attributes:this.getValues(),fieldsIndex:t.fieldsIndex,timeZone:this.timeZone}):null}get formHeaderVisible(){const{activeRelationshipInput:e,formDescription:t,formTitle:n}=this;return!(e||!t&&!n)}set inputFields(e){(0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_2__.deprecatedProperty)(O,"inputFields",{replacement:"FeatureFormViewModel.inputs",version:"4.27"}),this.inputs=e}get inputFields(){return (0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_2__.deprecatedProperty)(O,"inputFields",{replacement:"FeatureFormViewModel.inputs",version:"4.27"}),this.inputs}get joinedContingentValues(){return this._joinContingentValues()}get layer(){return this.feature?.sourceLayer&&"applyEdits"in this.feature.sourceLayer?this.feature.sourceLayer:null}set layer(e){this._override("layer",e)}get relationshipId(){return this._get("relationshipId")}set relationshipId(e){const t=this.allRelationshipInputs;if(null!=e&&e===this.relationshipId||t.forEach((e=>e.showAllEnabled=!1)),null!=e){const n=t.find((t=>t.relationshipId===e));n&&(n.showAllEnabled=!0)}this._set("relationshipId",e)}get spatialReference(){return this.layer?.spatialReference??null}set spatialReference(e){this._override("spatialReference",e)}get state(){return this.layer?.loaded?"ready":"disabled"}get submittable(){return!!this.valid||this.allFieldInputs.filter((e=>!e.valid)).every((({submittable:e})=>e))}get timeZone(){const{layer:e}=this;if(e&&"datesInUnknownTimezone"in e&&e.datesInUnknownTimezone)return _time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_19__.utc;const t=e&&"preferredTimeZone"in e&&e.preferredTimeZone;return this._timeZone===_time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_19__.unknown?t||_time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_19__.utc:this._timeZone||_time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_19__.system}set timeZone(e){this._timeZone=e}get updating(){return this._updatingHandles.updating}get valid(){const e=this.allFieldInputs;return e.length>0&&e.every((({valid:e})=>e))}get view(){return (0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_2__.deprecatedProperty)(O,"view",{replacement:"FeatureForm.map",version:"4.27"}),this._get("view")}set view(e){(0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_2__.deprecatedProperty)(O,"view",{replacement:"FeatureForm.map",version:"4.27"}),this._set("view",e),e?.map&&(this.map=e.map)}findField(e){return this.allFieldInputs.find((t=>t.name===e))}getFieldValueOptionsForField(e,t){const n=this.findField(e);if(!n)return[[],[]];const s="coded-value"===n.domain?.type?n.domain.codedValues.map((({name:e,code:t})=>({name:e,value:t}))):[],i=this.fieldsWithContingentValues.has(e)?this._getContingentValueOptionsForField(e,t):[];if(i.length>0){const e=new Set(i.map((e=>e.value)));return[i,s.filter((t=>!e.has(t.value)))]}return[s,[]]}getValue(e){const{_featureClone:t,layer:n}=this,s=!!n?.getField(e);return t.getAttribute(e)??(s?null:void 0)}setValue(e,t){const{_featureClone:n,strict:s}=this,i=this.findField(e);t=""===t?null:t,i&&n.getAttribute(e)!==t&&(i.value=t,s&&!i.valid||(this._afterValueChange(i),null!=this._expressionsManager&&this._updatingHandles.addPromise(this._expressionsManager.evaluateInvalidated([i.name]).finally((()=>this._afterExpressionsEvaluated())))))}getValues(){return{...this._featureClone.attributes}}overrideInitialFeature(e){this._initialFeature=e}submit(){const e=this.allFieldInputs,t=new Set(e.filter((e=>e.valid)).map((({name:e})=>e))),n=e.filter((e=>!e.valid)).map((({name:e})=>e)),s=this.getValues();if(this.validateContingencyConstraints(s,{includeIncompleteViolations:!0}).length>0)for(const[i,o]of this.contingencyConstraintViolations.entries())"error"===o.type&&(t.delete(i),n.push(i));this.emit("submit",{valid:[...t],invalid:n,values:s})}validateContingencyConstraints(e,t){const{_contingentValuesCache:n}=this,s=new Map;if(this.contingencyConstraintViolations=s,null==n)return[];const{invalid:i,incomplete:o}=n.validateContingencyConstraints(e),r=[...i,...t?.includeIncompleteViolations?o:[]];for(const a of r)for(const e of a.fieldGroup.fields)s.set(e,a);return r}notifyFeatureGeometryChanged(){const{_expressionsManager:e,feature:t,_featureClone:n}=this;n.geometry=t.geometry,null!=e&&this._updatingHandles.addPromise(e.evaluateInvalidatedByGeometry().finally((()=>this._afterExpressionsEvaluated())))}_emitChangeEvent({name:e,valid:t,value:n}){this.emit("value-change",{layer:this.layer,feature:this.feature,fieldName:e,value:n,valid:t})}async _updateInputs(){this._stopExpressions();const{_featureClone:e,_initialFeature:t,arcadeEditType:n,formTemplate:s,inputs:i,layer:o,timeZone:r}=this;if(!o)return;const a={arcadeEditType:n,feature:e,initialFeature:t,layer:o,timeZone:r},l=i.slice(),u=s?.elements&&s.elements.length>0?await this._updateInputsUsingFormElements(l,s.elements,a):this._updateInputsUsingLayerFields(l,o?.fields,a);this.inputs=u,await this._startExpressions()}async _updateInputsUsingFormElements(e,t,n){const s=new Map;for(const r of e)if((0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.isGroupInput)(r)){s.set(r.element,r);for(const e of r.inputs)e.element&&s.set(e.element,e)}else r.element&&s.set(r.element,r);const i=new Map,o=this._updateInputsUsingFormElementsRecursive({existingInputsByElement:s,updatedElements:t.filter(z),sharedInitializationProperties:n,group:null,newExpressionExecutorPromises:i});for(const[r,a]of s.entries())s.delete(r),a.destroy();return await Promise.all(Array.from(i.values())),o}_updateInputsUsingFormElementsRecursive(e){const{existingInputsByElement:t,updatedElements:n,sharedInitializationProperties:s,group:i,newExpressionExecutorPromises:o}=e,r=[];for(const a of n){const e=t.has(a),n=e?t.get(a):(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.isGroupElement)(a)?this._makeGroupInputFromElement(a,s):(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.isFieldElement)(a)?this._makeFieldInputFromElement(a,s,i):(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.isRelationshipElement)(a)?this._makeRelationshipInputFromElement(a,s,i):null;if(n){if(r.push(n),this._assignExpressionExecutors(n,a,o),e)if(t.delete(a),(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.isGroupInput)(n)){const{feature:e,timeZone:t}=s;n.set({feature:e,timeZone:t})}else if((0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.isRelationshipInput)(n)){const e=this.relationshipId===a.relationshipId;n.set(s),n.set({map:this.map,showAllEnabled:e})}else n.set(s);if((0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.isGroupElement)(a)){const e=a.elements.filter((e=>z(e)));n.inputs=this._updateInputsUsingFormElementsRecursive({existingInputsByElement:t,updatedElements:e,sharedInitializationProperties:s,group:n,newExpressionExecutorPromises:o})}}}return r}_updateInputsUsingLayerFields(e,t,n){if(!Array.isArray(t))return _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).warn(this.declaredClass,"No attribute fields found."),[];const s=new Map;for(const i of e)if((0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.isGroupInput)(i)){for(const e of i.inputs)e.destroy();i.inputs.length=0,i.destroy()}else (0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.isRelationshipInput)(i)?i.destroy():(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.isFieldInput)(i)&&(null!==i.element?i.destroy():s.set(i.field,i));const o=[],{arcadeEditType:r,feature:a,initialFeature:l,layer:u,timeZone:p}=n;for(const i of t){const e=s.get(i)??new _FieldInput_js__WEBPACK_IMPORTED_MODULE_21__["default"]({arcadeEditType:r,field:i,feature:a,initialFeature:l,layer:u,value:a?.getAttribute(i.name)??null,preservesValueWhenHidden:this.formTemplate?.preserveFieldValuesWhenHidden,timeZone:p});o.push(e),s.delete(i)}for(const[i,d]of s.entries())s.delete(i),d.destroy();return o}_resetFieldInputValues(e){for(const t of this.allFieldInputs)t.value=e.getAttribute(t.name)}_makeFieldInputFromElement(e,t,n){const{arcadeEditType:s,feature:i,initialFeature:o,layer:r,timeZone:a}=t,{fieldName:l}=e,u=l&&this._layerFieldsByName.get(l);return u?new _FieldInput_js__WEBPACK_IMPORTED_MODULE_21__["default"]({arcadeEditType:s,element:e,field:u,value:i?.getAttribute(e.fieldName)??null,feature:i,initialFeature:o,layer:r,group:n,preservesValueWhenHidden:this.formTemplate?.preserveFieldValuesWhenHidden,timeZone:a}):null}_makeGroupInputFromElement(e,t){const{feature:n,layer:s}=t;return new _GroupInput_js__WEBPACK_IMPORTED_MODULE_24__["default"]({element:e,inputs:[],feature:n,layer:s})}_makeRelationshipInputFromElement(e,t,n=null){const{map:s}=this,{feature:i,layer:o,timeZone:r}=t;return new _RelationshipInput_js__WEBPACK_IMPORTED_MODULE_25__["default"]({element:e,feature:i,group:n,layer:o,map:s,timeZone:r})}_assignExpressionExecutors(e,t,n){const s=(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.isGroupElement)(t)?L:(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.isRelationshipElement)(t)?k:Z,i=[];for(const o of s){const s=`${o}Executor`;if(e[s]){this._useExecutor(e[s]);continue}const i=t[o],{_expressionExecutorLookup:r}=this;if(null!=i&&""!==i){const t=this._expressionInfosLookup.get(i)?.expression??i;if(r.has(t))e[s]=this._useExecutor(r.get(t));else if(n.has(t)){const i=n.get(t).then((t=>(e[s]=t,t)));n.set(t,i)}else{const i=(0,_FormExpressionArcadeExecutor_js__WEBPACK_IMPORTED_MODULE_22__.createFormExpressionArcadeExecutor)(t,this.layer).then((n=>(e[s]=this._useExecutor(n),r.set(t,n),n)));n.set(t,i)}}}return i}_createExpressionsManager(e){const{_arcadeContextInfo:t,_featureClone:n,allFieldInputs:s,formTemplate:i}=this;this._expressionsManager=new _FormExpressionsManager_js__WEBPACK_IMPORTED_MODULE_23__.FormExpressionsManager({executors:e,feature:n,arcadeContextInfo:t,fieldInputs:s,preserveFieldValuesWhenHidden:!0===i?.preserveFieldValuesWhenHidden})}async _startExpressions(){if(0===this._expressionExecutorsInUse.size)return;const e=Array.from(this._expressionExecutorsInUse);this._createExpressionsManager(e),await this._expressionsManager.evaluateAll().finally((()=>this._afterExpressionsEvaluated()))}_stopExpressions(){this._expressionsManager=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._expressionsManager),this._expressionExecutorsInUse.clear()}_useExecutor(e){return this._expressionExecutorsInUse.add(e),e}_afterValueChange(e){const{name:t,value:n}=e,{_featureClone:s,formTemplate:i,layer:o}=this;if(!o)return;const r=s.getAttribute(t);s.setAttribute(t,n);const{typeFieldName:a,types:u}=(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.getNormalizedFeatureTypeInfo)(o);if(t===a&&n!==r){if("subtype-sublayer"===o.type){const e=o.parent?.findSublayerForFeature(s);s.sourceLayer=this.feature.sourceLayer=e}const e=new Set;for(const t of u)if(t.domains&&"object"==typeof t.domains)for(const n of Object.keys(t.domains))e.add(n);for(const t of e){const e=this.findField(t);e&&e.notifyChange("domain")}}if(null!=i){const{description:e,title:n}=i;n&&(0,_core_string_js__WEBPACK_IMPORTED_MODULE_8__.templateHasKey)(n,t)&&this.notifyChange("formTitle"),e&&(0,_core_string_js__WEBPACK_IMPORTED_MODULE_8__.templateHasKey)(e,t)&&this.notifyChange("formDescription")}this._emitChangeEvent(e)}_afterExpressionsEvaluated(){const{_featureClone:e}=this;for(const t of this.allFieldInputs)t.value!==e.getAttribute(t.name)&&this._afterValueChange(t)}_joinContingentValues(){const e=this._contingentValuesCache;if(null==e)return[];const{typeFieldName:t}=(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.getNormalizedFeatureTypeInfo)(this.layer),n=t?this.getValue(t):null,s=[];for(const r of e.fieldGroups){const{contingencies:e,fields:t,name:i}=r,o=[];for(const s of e)s.isRetired||null!=s.subtype&&s.subtype.code!==n||o.push({values:s.values});o.length>0&&s.push({name:i,fields:t,contingencies:o})}const[i,o]=this._generateJoinPlan(s);return[...i.flatMap((e=>this._joinFieldGroupContingencies(e))),...o.flatMap((e=>e.contingencies))]}_generateJoinPlan(e){const t=new Map,n=[],s=new Set;for(const l of e)for(const e of l.fields)if(t.has(e)){const i=t.get(e),o=l,r=[i.name,o.name].sort().join("|");if(s.has(r))continue;n.push([i,o]),s.add(r),t.set(e,o)}else t.set(e,l);const i=new Set(n.flat()),o=new Set(e);for(const l of i)o.delete(l);const r=new Map,a=new Map;for(const l of new Set(n.flat())){const e=Symbol(l.name);r.set(e,new Set([l])),a.set(l,e)}for(const[l,u]of n){const e=a.get(l),t=a.get(u);if(e===t)continue;const n=r.get(e),s=r.get(t);for(const i of s)n.add(i),a.set(i,e);r.delete(t)}return[[...r.values()].map((e=>[...e])),[...o]]}_joinFieldGroupContingencies(e){const t=e.slice(),n=t.shift();let s=t.shift(),i=this._generateJoinKey(n.fields,s.fields),o=new Set([...n.fields,...s.fields]),r=new Map;for(const l of n.contingencies){const[e]=this._hashContingency(l,i.codedValueFields,!0);r.has(e)?r.get(e)?.push(l):r.set(e,[l])}for(;t.length>0;){const e=new Map,n=t.shift(),a=this._generateJoinKey(o,n.fields);for(const t of s.contingencies){const[n,s]=this._hashContingency(t,i.codedValueFields),o=s?this._findMatchingContingenciesWithAnyHashMask(r,n):r.get(n);if(r.has(P)&&o?.push(...this._findMatchingContingenciesContainingAny(t,r.get(P),i.codedValueFields)),null!=o)for(const r of o){const n=i.rangeFields.length>0?this._joinContingenciesWithRangeDomains(r,t,i.rangeFields):this._joinContingencies(r,t);if(null==n)break;const[s]=this._hashContingency(n,a.codedValueFields,!0);e.has(s)?e.get(s)?.push(n):e.set(s,[n])}}r=e,s=n,i=a,o=new Set([...o,...s.fields])}const a=[];for(const l of s.contingencies){const[e,t]=this._hashContingency(l,i.codedValueFields),n=t?this._findMatchingContingenciesWithAnyHashMask(r,e):r.get(e);if(r.has(P)&&n.push(...this._findMatchingContingenciesContainingAny(l,r.get(P),i.codedValueFields)),null!=n)for(const s of n){const e=i.rangeFields.length>0?this._joinContingenciesWithRangeDomains(s,l,i.rangeFields):this._joinContingencies(s,l);null!=e&&a.push(e)}}return a}_joinContingencies(e,t){const n={values:{...e.values,...t.values}};for(const[s,i]of Object.entries(n.values))"any"===i.objectType&&null!=e.values[s]&&(n.values[s]=e.values[s]);return n}_joinContingenciesWithRangeDomains(e,t,n){const s=this._joinContingencies(e,t);for(const i of n){const n=e.values[i],o=t.values[i],{leftIsNull:r,rightIsNull:a,bothAreNull:l,leftIsAny:u,rightIsAny:p,bothAreAny:d,leftIsRange:c,rightIsRange:f}=this._compareObjectTypes(n.objectType,o.objectType);if(l||d)continue;if(r&&p||a&&u){s.values[i]=new _layers_support_ContingentValue_js__WEBPACK_IMPORTED_MODULE_16__["default"]({objectType:"null"});continue}if(r&&f||a&&c)return null;u?(n.minValue=-1/0,n.maxValue=1/0):p&&(o.minValue=-1/0,o.maxValue=1/0);const m=Math.max(n.minValue,o.minValue),g=Math.min(n.maxValue,o.maxValue);if(m>g)return null;s.values[i]=new _layers_support_ContingentValue_js__WEBPACK_IMPORTED_MODULE_16__["default"]({objectType:"range",minValue:m,maxValue:g})}return s}_findMatchingContingenciesContainingAny(e,t,n){return t.filter((t=>n.every((n=>{const s=t.values[n],i=e.values[n];return"any"===s.objectType||"any"===i.objectType||s.codedValue?.code===i.codedValue?.code}))))}_findMatchingContingenciesWithAnyHashMask(e,t){const n=RegExp(`${t}$`),s=[];for(const[i,o]of e){if(i===P)break;n.test(i)&&s.push(...o)}return s}_generateJoinKey(e,t){const n=Array.isArray(e)?new Set(e):e,s=Array.isArray(t)?new Set(t):t,i=n.size<s.size?n:s,o=i===n?s:n,r=new Set,a=new Set;for(const l of i)if(o.has(l)){const e=this.layer?.getFieldDomain(l,{feature:this.feature});if(null==e)continue;switch(e.type){case"coded-value":r.add(l);break;case"range":a.add(l)}}return{codedValueFields:[...r],rangeFields:[...a]}}_contingencyIsValid(e,t){const n={};for(const{name:s,value:i}of this.allFieldInputs)this.fieldsWithContingentValues.has(s)&&null!=i&&s!==e&&(n[s]=i);return Object.entries(n).every((([e,n])=>!t.values.hasOwnProperty(e)||(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_20__.valueIsValidContingentValue)(n,t.values[e])))}_getContingentValueOptionsForField(e,t){const n=this.joinedContingentValues.slice(),s=new Map,i={code:"",name:t??"No value"};for(const o of n){const t=o.values[e];if("code"===t?.objectType||"null"===t?.objectType){const{code:n,name:r}=t.codedValue&&"null"!==t.objectType?t.codedValue:i;!s.has(n)&&this._contingencyIsValid(e,o)&&s.set(n,{name:r,value:n})}}return[...s.values()]}_hashContingency(e,t,n=!1){if(t.length<1)return[U,!1];const s=[];let i=!1;for(const o of t){const t=e.values[o];if("any"===t.objectType){if(n)return[P,!0];i=!0,s.push(`${o}:.*`)}else"null"===t.objectType?s.push(`${o}:${W}`):s.push(`${o}:${t.codedValue?.code}`)}return[s.sort().join("&"),i]}_compareObjectTypes(e,t){return{leftIsNull:"null"===e,rightIsNull:"null"===t,bothAreNull:"null"===e&&"null"===t,leftIsAny:"any"===e,rightIsAny:"any"===t,bothAreAny:"any"===e&&"any"===t,leftIsRange:"range"===e,rightIsRange:"range"===t}}};function z(e){return"field"===e.type||"group"===e.type||"relationship"===e.type||(_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(G).warn("form-info::unsupported-element-type","Only element types 'field', 'group' and 'relationship' are supported",`Element ${e.label} has unsupported type '${e.type}'`),!1)}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"_expressionInfosLookup",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"_featureClone",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"_timeZone",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"activeRelationshipInput",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"_arcadeContextInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"allFieldInputs",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"allGroupInputs",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"allRelationshipInputs",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"_layerFieldsByName",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"arcadeEditType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"contingencyConstraintViolations",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"disabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"feature",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"fieldsWithContingentValues",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"fieldsWithInvalidCodedValue",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({type:_form_FormTemplate_js__WEBPACK_IMPORTED_MODULE_15__["default"]})],$.prototype,"formTemplate",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"formDescription",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"formTitle",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"formHeaderVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"highlightHelper",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"inputs",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"inputFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"joinedContingentValues",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"map",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"relatedRecordCallbacks",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"relationshipId",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"spatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"state",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"strict",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"submittable",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"timeZone",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"valid",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"getValues",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],$.prototype,"submit",null),$=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__.subclass)(G)],$);const D=$;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/FeatureForm/FormExpressionArcadeExecutor.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/FeatureForm/FormExpressionArcadeExecutor.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FormExpressionArcadeExecutor: () => (/* binding */ p),
/* harmony export */   createFormExpressionArcadeExecutor: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _arcade_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../arcade.js */ "./node_modules/@arcgis/core/arcade.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var u;const c=Symbol("FormExpressionArcadeExecutor");let p=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(t){super(t),this[u]=!0,this._lastEvaluatedValue=null,this._abortController=new AbortController,this._stale=!1,this._updatingTracking=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_9__.UpdatingHandles,this._executeAsyncDebounced=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.debounce)((async(t,e,r)=>{const s=await this.executor.executeAsync(t,{...e,abortSignal:r});return r.aborted?this._lastEvaluatedValue:(this._lastEvaluatedValue=s,this._stale=!1,s)}))}get isAsync(){return this.executor.isAsync}get fieldsUsed(){return this.executor.fieldsUsed}get syntaxTree(){return this.executor.syntaxTree}get updating(){return this._updatingTracking.updating}get stale(){return this._stale}get geometryUsed(){return this.executor.geometryUsed}get variablesUsed(){return this.executor.variablesUsed}get lastEvaluatedValue(){return this._lastEvaluatedValue}abort(){this._abortController.abort()}execute(t,e){this._abortController=new AbortController;const r=this.executor.execute(t,{...e,abortSignal:this._abortController.signal});return this._lastEvaluatedValue=r,r}async executeAsync(t,e){return this._abortController=new AbortController,this._updatingTracking.addPromise(this._executeAsyncDebounced(t,e??{},this._abortController.signal))}markStale(){this._stale=!0}reset(){this.abort(),this._lastEvaluatedValue=null,this._stale=!1}};u=c,(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"_lastEvaluatedValue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"_stale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"_updatingTracking",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],p.prototype,"executor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"isAsync",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"fieldsUsed",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"syntaxTree",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"stale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"geometryUsed",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"variablesUsed",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],p.prototype,"lastEvaluatedValue",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.widgets.FeatureForm.FormExpressionArcadeExecutor")],p);const d=async(t,s)=>{const o=(0,_arcade_js__WEBPACK_IMPORTED_MODULE_1__.createArcadeProfile)("form-calculation"),a=await (0,_arcade_js__WEBPACK_IMPORTED_MODULE_1__.createArcadeExecutor)(t,o,{});return s?.fieldsIndex&&(a.fieldsUsed=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_10__.fixFields)(s.fieldsIndex,a.fieldsUsed)),new p({executor:a})};


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/FeatureForm/FormExpressionsManager.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/FeatureForm/FormExpressionsManager.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FormExpressionsManager: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n="#JSAPI_FORM_EXPRESSIONS_MANAGER_GEOMETRY",l="esri.widgets.FeatureForm.FormExpressionsManager";let c=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._fieldReferencesLookup=new Map,this._fieldsAffectedLookup=new Map,this.preserveFieldValuesWhenHidden=!0,this._latestFieldValues={...e.feature.attributes}}initialize(){this._dependencyGraph=this._buildDependencyGraph()}destroy(){this.resetExecutors()}get _baseContext(){const{editType:e,layer:t,map:s,originalFeature:r,spatialReference:o,timeZone:a}=this.arcadeContextInfo,i="feature"===t?.type?t:"scene"===t?.type&&null!=t.associatedLayer?t.associatedLayer:void 0;return[{$originalfeature:r,$editcontext:{editType:e},$layer:i,$featureset:i,$datastore:t?.url,$map:s},{rawOutput:!0,spatialReference:o??void 0,timeZone:a}]}set feature(e){this._latestFieldValues={...e?.attributes},this._set("feature",e)}evaluateAll(){return this._evaluate(this.executors)}evaluateExpressions(e){return this._evaluate(e)}evaluateInvalidated(e){const{_fieldReferencesLookup:t,_latestFieldValues:s,feature:r}=this,o=new Set;for(const a of e)if(s[a]=r.getAttribute(a),t.has(a))for(const e of t.get(a))o.add(e);return this._evaluate([...o])}async evaluateInvalidatedByGeometry(){if(this._fieldReferencesLookup.has(n))return this._evaluate([...this._fieldReferencesLookup.get(n)])}resetExecutors(){for(const e of this.executors)e.reset()}_buildDependencyGraph(){const{_fieldReferencesLookup:e,_fieldsAffectedLookup:t,executors:r,preserveFieldValuesWhenHidden:o}=this,a=new Map(this.fieldInputs.map((e=>[e.name,e]))),i=!1===o,l=new Map(r.map((e=>[e,new Array])));for(const c of r){for(const r of c.fieldsUsed){(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(e,r,(()=>new Set)).add(c);const o=a.get(r);[o?.valueExpressionExecutor,o?.editableExpressionExecutor,i?o?.group?.visibilityExpressionExecutor:null,i?o?.visibilityExpressionExecutor:null].filter((e=>null!=e&&e!==c)).forEach((e=>{l.get(e).push(c);(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(t,e,(()=>new Set)).add(o)}))}if(c.geometryUsed){(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(e,n,(()=>new Set)).add(c)}}return l}async _evaluate(e){const t=new Map,{_dependencyGraph:s,_fieldsAffectedLookup:o,_latestFieldValues:a}=this;for(const r of e)u(r,t,s);for(const[n,{resolver:l,dependencyPromises:c}]of t){Promise.all(c).then((async()=>{const[e,t]=this._makeContext(a);return n.executeAsync(e,t)})).then((()=>{if(o.has(n))for(const e of o.get(n))this._latestFieldValues[e.name]=e.value;l.resolve()}),(e=>{!e||(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(e)||p(e)||n.markStale(),l.reject(e)}))}const i=(await Promise.allSettled(Array.from(t.values(),(({resolver:e})=>e.promise)))).filter((e=>"rejected"===e.status&&!((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isAbortError)(e.reason)||p(e.reason))));if(i.length>0)throw new AggregateError(i,"One or more expression executions failed")}_makeContext(e){const[t,s]=this._baseContext,r=this.feature.clone();return r.attributes=e,[{...t,$feature:r},s]}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"_baseContext",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"feature",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],c.prototype,"preserveFieldValuesWhenHidden",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"executors",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"fieldInputs",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"arcadeContextInfo",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)(l)],c);const u=(e,t,s)=>{if(t.has(e))return;const r=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.createResolver)();t.set(e,{resolver:r,dependencyPromises:[]}),e.abort();const a=s.get(e);for(const o of a)u(o,t,s),t.get(o).dependencyPromises.push(r.promise)},p=e=>e&&"object"==typeof e&&"message"in e&&"Cancelled"===e.message;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/FeatureForm/GroupInput.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/FeatureForm/GroupInput.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_deprecate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/deprecate.js */ "./node_modules/@arcgis/core/core/deprecate.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _featureFormUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./featureFormUtils.js */ "./node_modules/@arcgis/core/widgets/FeatureForm/featureFormUtils.js");
/* harmony import */ var _InputBase_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./InputBase.js */ "./node_modules/@arcgis/core/widgets/FeatureForm/InputBase.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let a=class extends _InputBase_js__WEBPACK_IMPORTED_MODULE_10__["default"]{constructor(e){super(e),this._expressionTrackingHandles=new Map,this.type="group"}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>[this.visible,this.inputs]),(([e])=>{const{inputs:t}=this,s=!!e&&void 0;for(const i of t)(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_9__.isFieldInput)(i)&&(i.required=s)}),{initial:!0,equals:(e,t)=>t[0]===e[0]&&t[1]===e[1]})])}destroy(){for(const e of this._expressionTrackingHandles.values())e.remove()}get initialState(){return this.element.initialState||"expanded"}set inputFields(e){(0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_1__.deprecatedProperty)(_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this),"inputFields",{replacement:"inputs",version:"4.27",warnOnce:!0}),this.inputs=e}get inputFields(){return (0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_1__.deprecatedProperty)(_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this),"inputFields",{replacement:"inputs",version:"4.27",warnOnce:!0}),this.inputs}get inputs(){return this._get("inputs")}set inputs(e){this.removeAllHandles(),e&&this.addHandles(e.map((e=>(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>e.visible),(()=>this._dirtyEvaluatedVisibilityExpression()))))),this._set("inputs",e)}get label(){return this.element.label}set label(e){const{element:t}=this;t&&(t.label=e)}get open(){return"expanded"===this.initialState}set open(e){this._override("open",e)}get state(){return (0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_1__.deprecatedProperty)(_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this),"state",{replacement:"open",version:"4.28",warnOnce:!0}),this.open?"expanded":"collapsed"}set state(e){(0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_1__.deprecatedProperty)(_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(this),"state",{replacement:"open",version:"4.28",warnOnce:!0}),this.open="expanded"===e}get visible(){return!1!==this.evaluatedVisibilityExpression&&this.inputs&&this.inputs.some((e=>e.visible))}_dirtyEvaluatedVisibilityExpression(){const{element:e}=this;e.visibilityExpression&&this.notifyChange("evaluatedVisibilityExpression")}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],a.prototype,"initialState",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],a.prototype,"inputs",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],a.prototype,"label",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],a.prototype,"open",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],a.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],a.prototype,"visible",null),a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.widgets.FeatureForm.GroupInput")],a);const l=a;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/FeatureForm/RelationshipInput.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/FeatureForm/RelationshipInput.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../layers/support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _Feature_FeatureRelationship_FeatureRelationshipViewModel_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Feature/FeatureRelationship/FeatureRelationshipViewModel.js */ "./node_modules/@arcgis/core/widgets/Feature/FeatureRelationship/FeatureRelationshipViewModel.js");
/* harmony import */ var _Feature_support_featureUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Feature/support/featureUtils.js */ "./node_modules/@arcgis/core/widgets/Feature/support/featureUtils.js");
/* harmony import */ var _EditableInput_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./EditableInput.js */ "./node_modules/@arcgis/core/widgets/FeatureForm/EditableInput.js");
/* harmony import */ var _featureFormUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./featureFormUtils.js */ "./node_modules/@arcgis/core/widgets/FeatureForm/featureFormUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const u=3;let h=class extends _EditableInput_js__WEBPACK_IMPORTED_MODULE_10__["default"]{constructor(e){super(e),this._relationshipVM=null,this.group=null,this.type="relationship",this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.watch)((()=>({feature:this.feature,element:this.element,layer:this.layer})),(e=>this._createRelationshipVM(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.initial)])}destroy(){this._relationshipVM?.destroy()}get canAddRelatedFeature(){const{editable:e,featureCount:t,relationship:r}=this;if(!r||!this.loaded||!this.relatedLayerAllowsAdds)return!1;const{cardinality:i,role:l}=r;return!("one-to-one"===i&&t>0)&&("many-to-many"!==i&&(!("one-to-many"===i&&"destination"===l&&t>0)&&e))}get displayCount(){return this.element.displayCount??u}get displayType(){return this.element.displayType}get editable(){return!!this.relatedLayerAllowsEdits&&(this.evaluatedEditableExpression??!0)}get featureCount(){return this._relationshipVM?.featureCount??0}get loaded(){return"loading"!==this._relationshipVM?.state}get map(){return this._get("map")}set map(e){e&&this._relationshipVM?.set("map",e),this._set("map",e)}get orderByFields(){return this.element.orderByFields}get originHasValidKey(){return!(!this.relationship||!this.feature.getAttribute(this.relationship.keyField))}get relationship(){return this._relationshipVM?.relationship}get relationshipId(){return this.element.relationshipId}get relatedFeatureInfos(){const{_relationshipVM:e,timeZone:t}=this;if(!e?.relatedFeatures?.length||!e?.relatedLayer)return[];const{itemDescriptionFieldName:r,relatedFeatures:i,relatedLayer:l}=e,s=l&&"formTemplate"in l&&l.formTemplate?l.formTemplate.title:void 0;return i.map((e=>{let i;if(r){const s=e.getAttribute(r),o=l.fieldsIndex.get(r);if(o){const e=(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_11__.getComputedAttributes)({values:[s],fields:[o],timeZone:t??void 0})[r];null!=e&&(i=e.toString())}}return{feature:e,description:i,title:s?(0,_featureFormUtils_js__WEBPACK_IMPORTED_MODULE_11__.parseFormTemplateString)({label:s,attributes:e.attributes,fieldsIndex:l.fieldsIndex,timeZone:t}):void 0}})).toArray()}get relatedLayer(){return this._relationshipVM?.relatedLayer}get relatedLayerIsTable(){return!!this.relatedLayer?.isTable}get relatedLayerAllowsAdds(){const{relatedLayer:e}=this;if(!e||!this.relatedLayerAllowsEdits)return!1;const t=(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_7__.getEffectiveLayerCapabilities)(e);return!!t?.operations?.supportsAdd}get relatedLayerAllowsEdits(){const{relatedLayer:e}=this;if(!e)return!1;const t=(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_7__.getEffectiveLayerCapabilities)(e);return!!t?.operations?.supportsEditing}get showAllEnabled(){return this._get("showAllEnabled")}set showAllEnabled(e){this._relationshipVM?.set("showAllEnabled",e),this._set("showAllEnabled",e)}get showAllActionVisible(){return!this.showAllEnabled&&this.featureCount>0&&this.featureCount>this.displayCount}get visible(){const{relationship:e}=this;if(!e)return!1;const{cardinality:t}=e;return"many-to-many"!==t&&(null!=this.evaluatedVisibilityExpression?this.evaluatedVisibilityExpression:null!=this.element)}get updating(){return"loading"===this._relationshipVM?.state||"querying"===this._relationshipVM?.state}incrementPage(){this._relationshipVM&&this._relationshipVM.featurePage++}getRelatedFeatureByObjectId(e){return this._relationshipVM?.getRelatedFeatureByObjectId(e)}_createRelationshipVM(e){const{feature:t,element:r,layer:i}=e;if(this._relationshipVM?.destroy(),!t||!r||!i)return;const{displayCount:l,map:s,orderByFields:n,relationshipId:p,showAllEnabled:d}=this;(0,_Feature_support_featureUtils_js__WEBPACK_IMPORTED_MODULE_9__.isRelatableFeatureSupportedLayer)(i)&&(this._relationshipVM=new _Feature_FeatureRelationship_FeatureRelationshipViewModel_js__WEBPACK_IMPORTED_MODULE_8__["default"]({graphic:t,displayCount:l,layer:i,map:s,orderByFields:n,relationshipId:p,showAllEnabled:d}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"_relationshipVM",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"canAddRelatedFeature",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"displayCount",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"displayType",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"editable",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"featureCount",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"group",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"loaded",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"map",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"orderByFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"originHasValidKey",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"relationship",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"relationshipId",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"relatedFeatureInfos",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"relatedLayer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"relatedLayerIsTable",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"relatedLayerAllowsAdds",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"relatedLayerAllowsEdits",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"showAllEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"showAllActionVisible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],h.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],h.prototype,"updating",null),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.widgets.FeatureForm.RelationshipInput")],h);const y=h;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/FeatureForm/css.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/FeatureForm/css.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const e="esri-feature-form",t=`${e}__group`,r=`${e}__input`,i=`${e}__related-records`,a={base:e,form:`${e}__form`,formHeader:`${e}__form-header`,label:`${e}__label`,labelTextContent:`${e}__label-text-content`,fieldInput:`${r}`,inputRadio:`${r}--radio`,inputRadioGroup:`${r}--radio-group`,inputRadioLabel:`${r}--radio-label`,inputDisabled:`${r}--disabled`,inputSwitch:`${r}--switch`,inputInvalid:`${r}--invalid`,centeredButton:`${e}__centered-button`,description:`${e}__description-text`,listObserver:`${e}__list-observer`,relatedRecordsHeader:`${i}_header`,relatedRecordsLabel:`${i}_label`,relatedRecordsList:`${i}_list`,dateInputContainer:`${`${e}__date`}-input-container`,group:t,groupSequential:`${t}--sequential`,groupActive:`${t}--active`};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfZ2VvbWV0cnlfSGVpZ2h0TW9kZWxJbmZvX2pzLW5vZGVfbW9kdWxlc19hcmNnaXNfY29yZV93aWRnZXRzLTg2OTIyMy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ21kLFdBQVcscUJBQXFCLEVBQUUscURBQXFELDZDQUE2QywwQkFBMEIsMkNBQTJDLElBQUksbUJBQW1CLEVBQUUsV0FBVyxpRUFBQyxZQUFZLFdBQVcsY0FBYyxNQUFNLFdBQVcsSUFBSSxtQkFBbUIsRUFBRSxxQkFBcUIsbUVBQUMsS0FBSywrREFBQyxFQUFFLGtHQUFrRyxJQUFJLG9GQUFvRixtQkFBbUIsRUFBRSxNQUFNLDRDQUE0QyxHQUFHLHVIQUF1SCxxQkFBcUIsRUFBRSxXQUFXLG1EQUFtRCx1QkFBdUIsRUFBRSxXQUFXLHNEQUFzRCxrQkFBa0IsNkJBQTZCLHFDQUFxQyxvQkFBb0IsYUFBYSxhQUFhLDZCQUE2QixNQUFNLGVBQWUsYUFBYSw2REFBNkQsTUFBTSxrQkFBa0IsYUFBYSxrQ0FBa0MsTUFBTSw0QkFBNEIsYUFBYSxrQ0FBa0MsTUFBTSxrQkFBa0IsYUFBYSw2QkFBNkIsTUFBTSxZQUFZLGFBQWEsb0JBQW9CLDZEQUFDLGVBQWUsNkRBQUMsMENBQTBDLDZEQUFDLDRCQUE0QixNQUFNLGdCQUFnQixhQUFhLG9CQUFvQiwyREFBQyxHQUFHLDJEQUFDLG9CQUFvQixNQUFNLFlBQVksYUFBYSxvQkFBb0IsMkRBQUMsR0FBRywyREFBQyxvQkFBb0IsTUFBTSxpRUFBaUUsZ0JBQWdCLG9FQUFvRSxTQUFTLHNCQUFzQixNQUFNLDJGQUEyRixPQUFPLHlEQUFDLGVBQWUsTUFBTSxPQUFPLHVHQUF1RywyQ0FBMkMsZ0JBQWdCLDJCQUEyQixzSEFBc0gsK0JBQStCLDhDQUE4QyxlQUFlLDZHQUE2RyxXQUFXLG1EQUFDLEVBQUUsd0JBQXdCLEVBQUUs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QUFFLGtDQUFrQyxFQUFFLGdDQUFnQyxFQUFFLDJCQUEyQixFQUFFLDBCQUEwQixFQUFFLDZCQUE2QixFQUFFLGtDQUFrQyxFQUFFLG9DQUFvQyxFQUFFLHlDQUF5QyxFQUFFLGdDQUFnQyxFQUFFLDhCQUE4QixFQUFFLDZCQUE2QixHQUFHLEVBQUUsUUFBUSw2Q0FBNkMsRUFBRSw2QkFBNkIsRUFBRSxXQUE0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2FyY2FkZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9hcmNhZGUvSW1tdXRhYmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvSGVpZ2h0TW9kZWxJbmZvLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L0NvbnRpbmdlbmN5LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L0NvbnRpbmdlbmN5Q29uc3RyYWludFZpb2xhdGlvbi5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9Db250aW5nZW50VmFsdWUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvQ29udGluZ2VudFZhbHVlc1Jlc3VsdC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvc3VwcG9ydC9GaWVsZEdyb3VwLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L0xheWVyQ29udGluZ2VudFZhbHVlc0NhY2hlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvRmVhdHVyZUZvcm0uanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9GZWF0dXJlRm9ybS9GZWF0dXJlRm9ybVZpZXdNb2RlbC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93aWRnZXRzL0ZlYXR1cmVGb3JtL0Zvcm1FeHByZXNzaW9uQXJjYWRlRXhlY3V0b3IuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9GZWF0dXJlRm9ybS9Gb3JtRXhwcmVzc2lvbnNNYW5hZ2VyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvRmVhdHVyZUZvcm0vR3JvdXBJbnB1dC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93aWRnZXRzL0ZlYXR1cmVGb3JtL1JlbGF0aW9uc2hpcElucHV0LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvRmVhdHVyZUZvcm0vY3NzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuL0dyYXBoaWMuanNcIjtpbXBvcnR7QXJjYWRlRGF0ZSBhcyB0fWZyb21cIi4vYXJjYWRlL0FyY2FkZURhdGUuanNcIjtpbXBvcnQgciBmcm9tXCIuL2FyY2FkZS9JbW11dGFibGVBcnJheS5qc1wiO2ltcG9ydCBhIGZyb21cIi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtjbG9uZSBhcyBufWZyb21cIi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0e0RhdGVPbmx5IGFzIG99ZnJvbVwiLi9jb3JlL3NxbC9EYXRlT25seS5qc1wiO2ltcG9ydHtUaW1lT25seSBhcyBzfWZyb21cIi4vY29yZS9zcWwvVGltZU9ubHkuanNcIjtpbXBvcnQgYyBmcm9tXCIuL2xheWVycy9GZWF0dXJlTGF5ZXIuanNcIjtpbXBvcnQgaSBmcm9tXCIuL3BvcnRhbC9Qb3J0YWwuanNcIjtpbXBvcnQgbCBmcm9tXCIuL3Jlc3Qvc3VwcG9ydC9GZWF0dXJlU2V0LmpzXCI7aW1wb3J0e2xvYWRBcmNhZGUgYXMgdX1mcm9tXCIuL3N1cHBvcnQvYXJjYWRlT25EZW1hbmQuanNcIjtsZXQgcD1udWxsO2Z1bmN0aW9uIGYoZSx0LGEsbj17fSl7Y29uc3Qgbz10LmVsZW1lbnRUeXBlLHM9XCJ2YWx1ZVwiLGM9XCJhcnJheVwiPT09by50eXBlP1t7bmFtZTpzLHR5cGU6by50eXBlLGVsZW1lbnRUeXBlOm8uZWxlbWVudFR5cGV9XTpcImRpY3Rpb25hcnlcIj09PW8udHlwZT9be25hbWU6cyx0eXBlOm8udHlwZSxwcm9wZXJ0aWVzOm8ucHJvcGVydGllc31dOlt7bmFtZTpzLHR5cGU6by50eXBlfV07cmV0dXJuIG5ldyByKGUubWFwKChlPT57Y29uc3QgdD17fTtyZXR1cm4gYih0LGMse1tzXTplfSxhLG4pLHRbc119KSkpfWZ1bmN0aW9uIG0oZSx0LHI9e30pe2NvbnN0IGE9ZSBpbnN0YW5jZW9mIGw/bmV3IGMoe3NvdXJjZTplLmZlYXR1cmVzLGdlb21ldHJ5VHlwZTplLmdlb21ldHJ5VHlwZSxmaWVsZHM6ZS5maWVsZHMsc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2V9KTplO3JldHVybiB0LmNvbnN0cnVjdEZlYXR1cmVTZXQoYSxyLnNwYXRpYWxSZWZlcmVuY2UsbnVsbCwhMCxyLmxydUNhY2hlLHIuaW50ZXJjZXB0b3IpfWZ1bmN0aW9uIHkoZSx0LHI9e30pe2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6YSxpbnRlcmNlcHRvcjpuLGxydUNhY2hlOm99PXI7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/dC5jcmVhdGVGZWF0dXJlU2V0Q29sbGVjdGlvbkZyb21TZXJ2aWNlKGUsYSxvLG4pOnQuY3JlYXRlRmVhdHVyZVNldENvbGxlY3Rpb25Gcm9tTWFwKGUsYSxvLG4pfWZ1bmN0aW9uIGQoZSx0LHIsYT17fSl7Y29uc3Qgbj17fTtyZXR1cm4gYihuLHQucHJvcGVydGllcyxlLHIsYSksbmV3IHAuRGljdGlvbmFyeShuKX1mdW5jdGlvbiBiKGUscixhLG4sYz17fSl7Y29uc3QgaT17fTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhhKSlpW3QudG9Mb3dlckNhc2UoKV09YVt0XTtmb3IoY29uc3QgbCBvZiByKXtjb25zdCByPWwubmFtZS50b0xvd2VyQ2FzZSgpO2lmKGMudmFyaWFibGVzUHJlUHJvY2Vzc2VkKWVbcl09aVtyXTtlbHNlIHN3aXRjaChsLnR5cGUpe2Nhc2VcImFycmF5XCI6e2NvbnN0IHQ9aVtyXTtlW3JdPW51bGw9PXQ/bnVsbDpmKHQsbCxuLGMpO2JyZWFrfWNhc2VcImZlYXR1cmVcIjp7Y29uc3QgdD1pW3JdO2Vbcl09bnVsbD09dD9udWxsOnAuRmVhdHVyZS5jcmVhdGVGcm9tR3JhcGhpYyh0LGM/LnRpbWVab25lKTticmVha31jYXNlXCJmZWF0dXJlU2V0XCI6e2NvbnN0IHQ9aVtyXTtlW3JdPW51bGw9PXQ/bnVsbDpuP20odCxuLGMpOm51bGw7YnJlYWt9Y2FzZVwiZmVhdHVyZVNldENvbGxlY3Rpb25cIjp7Y29uc3QgdD1pW3JdO2Vbcl09bnVsbD09dD9udWxsOm4/eSh0LG4sYyk6bnVsbDticmVha31jYXNlXCJkaWN0aW9uYXJ5XCI6e2NvbnN0IHQ9aVtyXTtlW3JdPW51bGw9PXQ/bnVsbDpkKHQsbCxuLGMpO2JyZWFrfWNhc2VcImRhdGVcIjp7Y29uc3QgYT1pW3JdO2Vbcl09YT9hIGluc3RhbmNlb2YgdD9hOmM/LnRpbWVab25lP3QuZGF0ZUpTQW5kWm9uZVRvQXJjYWRlRGF0ZShhLGM/LnRpbWVab25lKTp0LmRhdGVKU1RvQXJjYWRlRGF0ZShhKTpudWxsO2JyZWFrfWNhc2VcImRhdGVPbmx5XCI6e2NvbnN0IHQ9aVtyXTtlW3JdPXQ/dCBpbnN0YW5jZW9mIG8/dDpvLmZyb21SZWFkZXIodCk6bnVsbDticmVha31jYXNlXCJ0aW1lXCI6e2NvbnN0IHQ9aVtyXTtlW3JdPXQ/dCBpbnN0YW5jZW9mIHM/dDpzLmZyb21SZWFkZXIodCk6bnVsbDticmVha31jYXNlXCJnZW9tZXRyeVwiOmNhc2VcImJvb2xlYW5cIjpjYXNlXCJ0ZXh0XCI6Y2FzZVwibnVtYmVyXCI6ZVtyXT1pW3JdfX19ZnVuY3Rpb24gUyhlLHQpe2Zvcihjb25zdCByIG9mIGUpdC5wdXNoKHIpLFwiZGljdGlvbmFyeVwiPT09ci50eXBlJiZTKHIucHJvcGVydGllcyx0KTtyZXR1cm4gdH1mdW5jdGlvbiB2KGUsdCxyLGEsbil7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTpvLGludGVyY2VwdG9yOnMsbHJ1Q2FjaGU6Yyxjb25zb2xlOmwsYWJvcnRTaWduYWw6dSx0aW1lWm9uZTpwLHNlcnZpY2VzOmY9e3BvcnRhbDppLmdldERlZmF1bHQoKX19PXIsbT17dmFyczp7fSxzcGF0aWFsUmVmZXJlbmNlOm8saW50ZXJjZXB0b3I6cyx0aW1lWm9uZTpwLGxydWNhY2hlOmMsdXNlQXN5bmM6bixzZXJ2aWNlczpmLGNvbnNvbGU6bCxhYm9ydFNpZ25hbDp1fTtyZXR1cm4gdD8oYihtLnZhcnMsZS52YXJpYWJsZXMsdCxhLHIpLG0pOm19ZnVuY3Rpb24gdyh0LHIpe3N3aXRjaChyLmdldEFyY2FkZVR5cGUodCkpe2Nhc2VcIm51bWJlclwiOmNhc2VcInRleHRcIjpjYXNlXCJib29sZWFuXCI6Y2FzZVwicG9pbnRcIjpjYXNlXCJwb2x5Z29uXCI6Y2FzZVwicG9seWxpbmVcIjpjYXNlXCJtdWx0aXBvaW50XCI6Y2FzZVwiZXh0ZW50XCI6cmV0dXJuIHQ7Y2FzZVwiZGF0ZVwiOnJldHVybiB0LnRvSlNEYXRlKCk7Y2FzZVwidGltZVwiOmNhc2VcImRhdGVPbmx5XCI6cmV0dXJuIHQudG9TdHJpbmcoKTtjYXNlXCJmZWF0dXJlXCI6e2NvbnN0IHI9KHQudHlwZSx0KSxhPVwiZ2VvbWV0cnlcImluIHI/ci5nZW9tZXRyeSgpOm51bGwsbj1cInJlYWRBdHRyaWJ1dGVzXCJpbiByP3IucmVhZEF0dHJpYnV0ZXMoKTpyLmF0dHJpYnV0ZXM7cmV0dXJuIG5ldyBlKHtnZW9tZXRyeTphLGF0dHJpYnV0ZXM6bn0pfWNhc2VcImRpY3Rpb25hcnlcIjp7Y29uc3QgZT10LGE9ZS5hdHRyaWJ1dGVzLG49e307Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXMoYSkpblt0XT13KGUuZmllbGQodCkscik7cmV0dXJuIG59Y2FzZVwiYXJyYXlcIjpyZXR1cm4oXCJ0b0FycmF5XCJpbiB0P3QudG9BcnJheSgpOnQpLm1hcCgoZT0+dyhlLHIpKSl9cmV0dXJuIHR9Y29uc3QgJD17dmFyaWFibGVzOlt7bmFtZTpcIiRmZWF0dXJlXCIsdHlwZTpcImZlYXR1cmVcIn0se25hbWU6XCIkbGF5ZXJcIix0eXBlOlwiZmVhdHVyZVNldFwifSx7bmFtZTpcIiRkYXRhc3RvcmVcIix0eXBlOlwiZmVhdHVyZVNldENvbGxlY3Rpb25cIn0se25hbWU6XCIkbWFwXCIsdHlwZTpcImZlYXR1cmVTZXRDb2xsZWN0aW9uXCJ9XX0sZz17dmFyaWFibGVzOlt7bmFtZTpcIiRmZWF0dXJlXCIsdHlwZTpcImZlYXR1cmVcIn0se25hbWU6XCIkYWdncmVnYXRlZEZlYXR1cmVzXCIsdHlwZTpcImZlYXR1cmVTZXRcIn1dfSxDPW5ldyBNYXAoW1tcImZvcm0tY29uc3RyYWludFwiLHt2YXJpYWJsZXM6W3tuYW1lOlwiJGZlYXR1cmVcIix0eXBlOlwiZmVhdHVyZVwifV19XSxbXCJmZWF0dXJlLXpcIix7dmFyaWFibGVzOlt7bmFtZTpcIiRmZWF0dXJlXCIsdHlwZTpcImZlYXR1cmVcIn1dfV0sW1wiZmllbGQtY2FsY3VsYXRpb25cIix7dmFyaWFibGVzOlt7bmFtZTpcIiRmZWF0dXJlXCIsdHlwZTpcImZlYXR1cmVcIn0se25hbWU6XCIkZGF0YXN0b3JlXCIsdHlwZTpcImZlYXR1cmVTZXRDb2xsZWN0aW9uXCJ9XX1dLFtcImZvcm0tY2FsY3VsYXRpb25cIix7dmFyaWFibGVzOlt7bmFtZTpcIiRmZWF0dXJlXCIsdHlwZTpcImZlYXR1cmVcIn0se25hbWU6XCIkb3JpZ2luYWxGZWF0dXJlXCIsdHlwZTpcImZlYXR1cmVcIn0se25hbWU6XCIkbGF5ZXJcIix0eXBlOlwiZmVhdHVyZVNldFwifSx7bmFtZTpcIiRmZWF0dXJlU2V0XCIsdHlwZTpcImZlYXR1cmVTZXRcIn0se25hbWU6XCIkZGF0YXN0b3JlXCIsdHlwZTpcImZlYXR1cmVTZXRDb2xsZWN0aW9uXCJ9LHtuYW1lOlwiJG1hcFwiLHR5cGU6XCJmZWF0dXJlU2V0Q29sbGVjdGlvblwifSx7bmFtZTpcIiRlZGl0Q29udGV4dFwiLHR5cGU6XCJkaWN0aW9uYXJ5XCIscHJvcGVydGllczpbe25hbWU6XCJlZGl0VHlwZVwiLHR5cGU6XCJ0ZXh0XCJ9XX1dfV0sW1wibGFiZWxpbmdcIix7dmFyaWFibGVzOlt7bmFtZTpcIiRmZWF0dXJlXCIsdHlwZTpcImZlYXR1cmVcIn1dfV0sW1wicG9wdXBcIiwkXSxbXCJwb3B1cC1lbGVtZW50XCIsJF0sW1wiZmVhdHVyZS1yZWR1Y3Rpb24tcG9wdXBcIixnXSxbXCJmZWF0dXJlLXJlZHVjdGlvbi1wb3B1cC1lbGVtZW50XCIsZ10sW1widmlzdWFsaXphdGlvblwiLHt2YXJpYWJsZXM6W3tuYW1lOlwiJGZlYXR1cmVcIix0eXBlOlwiZmVhdHVyZVwifSx7bmFtZTpcIiR2aWV3XCIsdHlwZTpcImRpY3Rpb25hcnlcIixwcm9wZXJ0aWVzOlt7bmFtZTpcInNjYWxlXCIsdHlwZTpcIm51bWJlclwifV19XX1dXSk7ZnVuY3Rpb24gaChlKXtjb25zdCB0PUMuZ2V0KGUpO2lmKCF0KXtjb25zdCB0PUFycmF5LmZyb20oQy5rZXlzKCkpLm1hcCgoZT0+YCcke2V9J2ApKS5qb2luKFwiLCBcIik7dGhyb3cgbmV3IGEoXCJjcmVhdGVBcmNhZGVQcm9maWxlOmludmFsaWQtcHJvZmlsZS1uYW1lXCIsYEludmFsaWQgcHJvZmlsZSBuYW1lICcke2V9Jy4gWW91IG11c3Qgc3BlY2lmeSBvbmUgb2YgdGhlIGZvbGxvd2luZyB2YWx1ZXM6ICR7dH1gKX1yZXR1cm4gbih0KX1hc3luYyBmdW5jdGlvbiBBKGUsdCxyPXt9KXtwfHwocD1hd2FpdCB1KCkpO2NvbnN0e2FyY2FkZTpuLGFyY2FkZVV0aWxzOm99PXAse2xvYWRTY3JpcHREZXBlbmRlbmNpZXM6cyxyZWZlcmVuY2VzTWVtYmVyOmMsc2NyaXB0SXNBc3luYzppfT1uLGw9Uyh0LnZhcmlhYmxlcyxbXSksZj1sLmZpbHRlcigoZT0+XCJmZWF0dXJlU2V0XCI9PT1lLnR5cGV8fFwiZmVhdHVyZVNldENvbGxlY3Rpb25cIj09PWUudHlwZSkpLm1hcCgoZT0+ZS5uYW1lLnRvTG93ZXJDYXNlKCkpKSxtPW4ucGFyc2VTY3JpcHQoZSxmKTtpZighbSl0aHJvdyBuZXcgYShcImFyY2FkZTppbnZhbGlkLXNjcmlwdFwiLFwiVW5hYmxlIHRvIGNyZWF0ZSBTeW50YXhUcmVlXCIpO2NvbnN0IHk9by5leHRyYWN0RmllbGROYW1lcyhtKSxkPW4uc2NyaXB0VG91Y2hlc0dlb21ldHJ5KG0pLGI9bC5tYXAoKGU9PmUubmFtZS50b0xvd2VyQ2FzZSgpKSkuZmlsdGVyKChlPT5jKG0sZSkpKSwkPWkobSxmKTthd2FpdCBzKG0sJCxmKTtjb25zdCBnPXt2YXJzOnt9LHNwYXRpYWxSZWZlcmVuY2U6bnVsbCx1c2VBc3luYzokfTtmb3IoY29uc3QgYSBvZiBiKWcudmFyc1thXT1cImFueVwiO2NvbnN0e2xydUNhY2hlOkN9PXIsaD1uLmNvbXBpbGVTY3JpcHQobSxnKSxBPW4uZmVhdHVyZVNldFV0aWxzKCkse3NlcnZpY2VzOmp9PXI7cmV0dXJue2V4ZWN1dGU6KGUscj17fSk9PntpZigkKXRocm93IG5ldyBhKFwiYXJjYWRlOmludmFsaWQtZXhlY3V0aW9uLW1vZGVcIixcIkNhbm5vdCBleGVjdXRlIHRoZSBzY3JpcHQgaW4gc3luY2hyb25vdXMgbW9kZVwiKTtjb25zdCBuPWgodih0LGUse2xydUNhY2hlOkMsLi4ucn0sQSwkKSk7cmV0dXJuIHIucmF3T3V0cHV0P246dyhuLG8pfSxleGVjdXRlQXN5bmM6YXN5bmMoZSxyPXt9KT0+e2NvbnN0IGE9YXdhaXQgaCh2KHQsZSx7bHJ1Q2FjaGU6QyxzZXJ2aWNlczpqLC4uLnJ9LEEsJCkpO3JldHVybiByLnJhd091dHB1dD9hOncoYSxvKX0saXNBc3luYzokLHZhcmlhYmxlc1VzZWQ6YixmaWVsZHNVc2VkOnksZ2VvbWV0cnlVc2VkOmQsc3ludGF4VHJlZTptfX1leHBvcnR7QSBhcyBjcmVhdGVBcmNhZGVFeGVjdXRvcixoIGFzIGNyZWF0ZUFyY2FkZVByb2ZpbGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7Y29uc3RydWN0b3IodD1bXSl7dGhpcy5fZWxlbWVudHM9dH1sZW5ndGgoKXtyZXR1cm4gdGhpcy5fZWxlbWVudHMubGVuZ3RofWdldCh0KXtyZXR1cm4gdGhpcy5fZWxlbWVudHNbdF19dG9BcnJheSgpe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTx0aGlzLmxlbmd0aCgpO2UrKyl0LnB1c2godGhpcy5nZXQoZSkpO3JldHVybiB0fX1leHBvcnR7dCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7cmVtb3ZlVW5vcmRlcmVkIGFzIHR9ZnJvbVwiLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e3N0cmljdCBhcyByfWZyb21cIi4uL2NvcmUvanNvbk1hcC5qc1wiO2ltcG9ydHtKU09OU3VwcG9ydCBhcyBvfWZyb21cIi4uL2NvcmUvSlNPTlN1cHBvcnQuanNcIjtpbXBvcnR7dW5pdEZyb21SRVNUSlNPTiBhcyBzLGdldFZlcnRpY2FsVW5pdFN0cmluZ0ZvclNSIGFzIGl9ZnJvbVwiLi4vY29yZS91bml0VXRpbHMuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi9jb3JlL1dhcm5pbmcuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtyZWFkZXIgYXMgbH1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3JlYWRlci5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBjfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7d3JpdGVyIGFzIGh9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy93cml0ZXIuanNcIjt2YXIgZDtjb25zdCBwPXIoKSh7b3J0aG9tZXRyaWM6XCJncmF2aXR5LXJlbGF0ZWQtaGVpZ2h0XCIsZ3Jhdml0eV9yZWxhdGVkX2hlaWdodDpcImdyYXZpdHktcmVsYXRlZC1oZWlnaHRcIixlbGxpcHNvaWRhbDpcImVsbGlwc29pZGFsXCJ9KSx1PXAuanNvblZhbHVlcy5zbGljZSgpO3QodSxcIm9ydGhvbWV0cmljXCIpO2NvbnN0IGc9cigpKHttZXRlcjpcIm1ldGVyc1wiLGZvb3Q6XCJmZWV0XCIsXCJ1cy1mb290XCI6XCJ1cy1mZWV0XCIsXCJjbGFya2UtZm9vdFwiOlwiY2xhcmtlLWZlZXRcIixcImNsYXJrZS15YXJkXCI6XCJjbGFya2UteWFyZHNcIixcImNsYXJrZS1saW5rXCI6XCJjbGFya2UtbGlua3NcIixcInNlYXJzLXlhcmRcIjpcInNlYXJzLXlhcmRzXCIsXCJzZWFycy1mb290XCI6XCJzZWFycy1mZWV0XCIsXCJzZWFycy1jaGFpblwiOlwic2VhcnMtY2hhaW5zXCIsXCJiZW5vaXQtMTg5NS1iLWNoYWluXCI6XCJiZW5vaXQtMTg5NS1iLWNoYWluc1wiLFwiaW5kaWFuLXlhcmRcIjpcImluZGlhbi15YXJkc1wiLFwiaW5kaWFuLTE5MzcteWFyZFwiOlwiaW5kaWFuLTE5MzcteWFyZHNcIixcImdvbGQtY29hc3QtZm9vdFwiOlwiZ29sZC1jb2FzdC1mZWV0XCIsXCJzZWFycy0xOTIyLXRydW5jYXRlZC1jaGFpblwiOlwic2VhcnMtMTkyMi10cnVuY2F0ZWQtY2hhaW5zXCIsXCI1MC1raWxvbWV0ZXJzXCI6XCI1MC1raWxvbWV0ZXJzXCIsXCIxNTAta2lsb21ldGVyc1wiOlwiMTUwLWtpbG9tZXRlcnNcIn0pO2xldCBtPWQ9Y2xhc3MgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuaGVpZ2h0TW9kZWw9XCJncmF2aXR5LXJlbGF0ZWQtaGVpZ2h0XCIsdGhpcy5oZWlnaHRVbml0PVwibWV0ZXJzXCIsdGhpcy52ZXJ0Q1JTPW51bGx9d3JpdGVIZWlnaHRNb2RlbChlLHQscil7cmV0dXJuIHAud3JpdGUoZSx0LHIpfXJlYWRIZWlnaHRNb2RlbChlLHQscil7Y29uc3Qgbz1wLnJlYWQoZSk7cmV0dXJuIG98fChyPy5tZXNzYWdlcyYmci5tZXNzYWdlcy5wdXNoKGYoZSx7Y29udGV4dDpyfSkpLG51bGwpfXJlYWRIZWlnaHRVbml0KGUsdCxyKXtjb25zdCBvPWcucmVhZChlKTtyZXR1cm4gb3x8KHI/Lm1lc3NhZ2VzJiZyLm1lc3NhZ2VzLnB1c2goeShlLHtjb250ZXh0OnJ9KSksbnVsbCl9cmVhZEhlaWdodFVuaXRTZXJ2aWNlKGUsdCxyKXtjb25zdCBvPXMoZSl8fGcucmVhZChlKTtyZXR1cm4gb3x8KHI/Lm1lc3NhZ2VzJiZyLm1lc3NhZ2VzLnB1c2goeShlLHtjb250ZXh0OnJ9KSksbnVsbCl9cmVhZFZlcnRDUlMoZSx0KXtyZXR1cm4gdC52ZXJ0Q1JTfHx0LmVsbGlwc29pZHx8dC5nZW9pZH1jbG9uZSgpe3JldHVybiBuZXcgZCh7aGVpZ2h0TW9kZWw6dGhpcy5oZWlnaHRNb2RlbCxoZWlnaHRVbml0OnRoaXMuaGVpZ2h0VW5pdCx2ZXJ0Q1JTOnRoaXMudmVydENSU30pfWVxdWFscyhlKXtyZXR1cm4hIWUmJih0aGlzPT09ZXx8dGhpcy5oZWlnaHRNb2RlbD09PWUuaGVpZ2h0TW9kZWwmJnRoaXMuaGVpZ2h0VW5pdD09PWUuaGVpZ2h0VW5pdCYmdGhpcy52ZXJ0Q1JTPT09ZS52ZXJ0Q1JTKX1zdGF0aWMgZGVyaXZlVW5pdEZyb21TUihlLHQpe2NvbnN0IHI9aSh0KTtyZXR1cm4gbmV3IGQoe2hlaWdodE1vZGVsOmUuaGVpZ2h0TW9kZWwsaGVpZ2h0VW5pdDpyLHZlcnRDUlM6ZS52ZXJ0Q1JTfSl9d3JpdGUoZSx0KXtyZXR1cm4gdD17b3JpZ2luOlwid2ViLXNjZW5lXCIsLi4udH0sc3VwZXIud3JpdGUoZSx0KX1zdGF0aWMgZnJvbUpTT04oZSl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3QgdD1uZXcgZDtyZXR1cm4gdC5yZWFkKGUse29yaWdpbjpcIndlYi1zY2VuZVwifSksdH19O2Z1bmN0aW9uIHkoZSx0KXtyZXR1cm4gbmV3IG4oXCJoZWlnaHQtdW5pdDp1bnN1cHBvcnRlZFwiLGBIZWlnaHQgdW5pdCBvZiB2YWx1ZSAnJHtlfScgaXMgbm90IHN1cHBvcnRlZGAsdCl9ZnVuY3Rpb24gZihlLHQpe3JldHVybiBuZXcgbihcImhlaWdodC1tb2RlbDp1bnN1cHBvcnRlZFwiLGBIZWlnaHQgbW9kZWwgb2YgdmFsdWUgJyR7ZX0nIGlzIG5vdCBzdXBwb3J0ZWRgLHQpfWUoW2Eoe3R5cGU6cC5hcGlWYWx1ZXMsY29uc3RydWN0T25seTohMCxqc29uOntvcmlnaW5zOntcIndlYi1zY2VuZVwiOnt0eXBlOnUsZGVmYXVsdDpcImVsbGlwc29pZGFsXCJ9fX19KV0sbS5wcm90b3R5cGUsXCJoZWlnaHRNb2RlbFwiLHZvaWQgMCksZShbaChcIndlYi1zY2VuZVwiLFwiaGVpZ2h0TW9kZWxcIildLG0ucHJvdG90eXBlLFwid3JpdGVIZWlnaHRNb2RlbFwiLG51bGwpLGUoW2woW1wid2ViLXNjZW5lXCIsXCJzZXJ2aWNlXCJdLFwiaGVpZ2h0TW9kZWxcIildLG0ucHJvdG90eXBlLFwicmVhZEhlaWdodE1vZGVsXCIsbnVsbCksZShbYSh7dHlwZTpnLmFwaVZhbHVlcyxjb25zdHJ1Y3RPbmx5OiEwLGpzb246e29yaWdpbnM6e1wid2ViLXNjZW5lXCI6e3R5cGU6Zy5qc29uVmFsdWVzLHdyaXRlOmcud3JpdGV9fX19KV0sbS5wcm90b3R5cGUsXCJoZWlnaHRVbml0XCIsdm9pZCAwKSxlKFtsKFwid2ViLXNjZW5lXCIsXCJoZWlnaHRVbml0XCIpXSxtLnByb3RvdHlwZSxcInJlYWRIZWlnaHRVbml0XCIsbnVsbCksZShbbChcInNlcnZpY2VcIixcImhlaWdodFVuaXRcIildLG0ucHJvdG90eXBlLFwicmVhZEhlaWdodFVuaXRTZXJ2aWNlXCIsbnVsbCksZShbYSh7dHlwZTpTdHJpbmcsY29uc3RydWN0T25seTohMCxqc29uOntvcmlnaW5zOntcIndlYi1zY2VuZVwiOnt3cml0ZTohMH19fX0pXSxtLnByb3RvdHlwZSxcInZlcnRDUlNcIix2b2lkIDApLGUoW2woXCJzZXJ2aWNlXCIsXCJ2ZXJ0Q1JTXCIsW1widmVydENSU1wiLFwiZWxsaXBzb2lkXCIsXCJnZW9pZFwiXSldLG0ucHJvdG90eXBlLFwicmVhZFZlcnRDUlNcIixudWxsKSxtPWQ9ZShbYyhcImVzcmkuZ2VvbWV0cnkuSGVpZ2h0TW9kZWxJbmZvXCIpXSxtKTtjb25zdCB2PW07ZXhwb3J0e3YgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgb31mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7bGV0IHQ9Y2xhc3MgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKG8pe3N1cGVyKG8pLHRoaXMuaXNSZXRpcmVkPSExfX07byhbcygpXSx0LnByb3RvdHlwZSxcImlkXCIsdm9pZCAwKSxvKFtzKCldLHQucHJvdG90eXBlLFwiaXNSZXRpcmVkXCIsdm9pZCAwKSxvKFtzKCldLHQucHJvdG90eXBlLFwic3VidHlwZVwiLHZvaWQgMCksbyhbcygpXSx0LnByb3RvdHlwZSxcInZhbHVlc1wiLHZvaWQgMCksdD1vKFtlKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5Db250aW5nZW5jeVwiKV0sdCk7Y29uc3QgcD10O2V4cG9ydHtwIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIG99ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2xldCBlPWNsYXNzIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihvKXtzdXBlcihvKX19O28oW3MoKV0sZS5wcm90b3R5cGUsXCJmaWVsZEdyb3VwXCIsdm9pZCAwKSxvKFtzKCldLGUucHJvdG90eXBlLFwidHlwZVwiLHZvaWQgMCksZT1vKFt0KFwiZXNyaS5sYXllcnMuc3VwcG9ydC5Db250aW5nZW5jeUNvbnN0cmFpbnRWaW9sYXRpb25cIildLGUpO2NvbnN0IHA9ZTtleHBvcnR7cCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBvfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGV9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtsZXQgdD1jbGFzcyBleHRlbmRzIHJ7Y29uc3RydWN0b3Iobyl7c3VwZXIobyksdGhpcy5tYXhWYWx1ZT1udWxsLHRoaXMubWluVmFsdWU9bnVsbCx0aGlzLmNvZGVkVmFsdWU9bnVsbH19O28oW2UoKV0sdC5wcm90b3R5cGUsXCJvYmplY3RUeXBlXCIsdm9pZCAwKSxvKFtlKCldLHQucHJvdG90eXBlLFwibWF4VmFsdWVcIix2b2lkIDApLG8oW2UoKV0sdC5wcm90b3R5cGUsXCJtaW5WYWx1ZVwiLHZvaWQgMCksbyhbZSgpXSx0LnByb3RvdHlwZSxcImNvZGVkVmFsdWVcIix2b2lkIDApLHQ9byhbcyhcImVzcmkubGF5ZXJzLnN1cHBvcnQuQ29udGluZ2VudFZhbHVlXCIpXSx0KTtjb25zdCBwPXQ7ZXhwb3J0e3AgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgb31mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7bGV0IHQ9Y2xhc3MgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKG8pe3N1cGVyKG8pfX07byhbcygpXSx0LnByb3RvdHlwZSxcImNvbnRpbmdlbnRWYWx1ZXNBbGxHcm91cHNcIix2b2lkIDApLG8oW3MoKV0sdC5wcm90b3R5cGUsXCJjb250aW5nZW50VmFsdWVzQnlGaWVsZEdyb3VwXCIsdm9pZCAwKSx0PW8oW2UoXCJlc3JpLmxheWVycy5zdXBwb3J0LkNvbnRpbmdlbnRWYWx1ZXNSZXN1bHRcIildLHQpO2NvbnN0IHA9dDtleHBvcnR7cCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBvfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB0fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtsZXQgZT1jbGFzcyBleHRlbmRzIHJ7Y29uc3RydWN0b3Iobyl7c3VwZXIobyksdGhpcy5maWVsZHM9bnVsbCx0aGlzLmlzRWRpdGluZ1Jlc3RyaWN0aXZlPSExfX07byhbcygpXSxlLnByb3RvdHlwZSxcIm5hbWVcIix2b2lkIDApLG8oW3MoKV0sZS5wcm90b3R5cGUsXCJmaWVsZHNcIix2b2lkIDApLG8oW3MoKV0sZS5wcm90b3R5cGUsXCJpc0VkaXRpbmdSZXN0cmljdGl2ZVwiLHZvaWQgMCksbyhbcygpXSxlLnByb3RvdHlwZSxcImNvbnRpbmdlbmNpZXNcIix2b2lkIDApLGU9byhbdChcImVzcmkubGF5ZXJzLnN1cHBvcnQuRmllbGRHcm91cFwiKV0sZSk7Y29uc3QgaT1lO2V4cG9ydHtpIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL3JlcXVlc3QuanNcIjtpbXBvcnR7aXNTb21lIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0e0pTT05TdXBwb3J0TWl4aW4gYXMgaX1mcm9tXCIuLi8uLi9jb3JlL0pTT05TdXBwb3J0LmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vY29yZS9Mb2FkYWJsZS5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtwYXJzZSBhcyBhfWZyb21cIi4vYXJjZ2lzTGF5ZXJVcmwuanNcIjtpbXBvcnQgbCBmcm9tXCIuL0NvbnRpbmdlbmN5LmpzXCI7aW1wb3J0IHUgZnJvbVwiLi9Db250aW5nZW5jeUNvbnN0cmFpbnRWaW9sYXRpb24uanNcIjtpbXBvcnQgYyBmcm9tXCIuL0NvbnRpbmdlbnRWYWx1ZS5qc1wiO2ltcG9ydCBwIGZyb21cIi4vQ29udGluZ2VudFZhbHVlc1Jlc3VsdC5qc1wiO2ltcG9ydCBkIGZyb21cIi4vRmllbGRHcm91cC5qc1wiO2ltcG9ydHtpc1N0cmluZ0ZpZWxkIGFzIGYsaXNEYXRlRmllbGQgYXMgeX1mcm9tXCIuL2ZpZWxkVXRpbHMuanNcIjtpbXBvcnQgbSBmcm9tXCIuL1N1YnR5cGUuanNcIjt2YXIgaDtsZXQgZz1oPWNsYXNzIGV4dGVuZHMoaShzKSl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5yZXF1ZXN0PXQsdGhpcy5maWVsZEdyb3Vwcz1udWxsLHRoaXMuZmllbGRHcm91cERlZmluaXRpb25zPW51bGx9aW5pdGlhbGl6ZSgpe31nZXQgc3VidHlwZUZpZWxkTmFtZSgpe2NvbnN0e2xheWVyOmV9PXRoaXM7cmV0dXJuXCJzdWJ0eXBlLWdyb3VwXCI9PT1lLnR5cGU/ZS5zdWJ0eXBlRmllbGQ6ZS50eXBlSWRGaWVsZH1zdGF0aWMgYXN5bmMgY3JlYXRlTG9hZGVkTGF5ZXJDb250aW5nZW50VmFsdWVzQ2FjaGUoZSl7YXdhaXQgZS5sb2FkKCk7Y29uc3QgdD1lLnNvdXJjZUpTT047aWYodm9pZCAwPT09ZS5sYXllcklkKXJldHVybiBudWxsO2NvbnN0IG49dC5oYXNDb250aW5nZW50VmFsdWVzRGVmaW5pdGlvbjtpZihuKXJldHVybiBuZXcgaCh7bGF5ZXI6ZX0pLmxvYWQoKTtpZih2b2lkIDA9PT1uKXtjb25zdCB0PWEoZS51cmwpO2lmKG51bGw9PXQpcmV0dXJuIG51bGw7Y29uc3Qgbj10LnVybC5wYXRoO2lmKChhd2FpdCBoLl9zdGF0aWNGZXRjaEVudGVycHJpc2VGZWF0dXJlUm9vdChuKSkuc3VwcG9ydHNRdWVyeURhdGFFbGVtZW50cyl7Y29uc3QgdD1lLmxheWVySWQudG9TdHJpbmcoKSxpPWF3YWl0IGguX3N0YXRpY0ZldGNoRW50ZXJwcmlzZUZpZWxkR3JvdXAobix0KTtpZihpKXtjb25zdCB0PWkubWFwKCh0PT4oe25hbWU6dC5uYW1lLGlzRWRpdGluZ1Jlc3RyaWN0aXZlOnQuaXNFZGl0aW5nUmVzdHJpY3RpdmUsZmllbGRzOnQuZmllbGROYW1lcy5uYW1lcy5tYXAoKHQ9PmUuZmllbGRzSW5kZXgubm9ybWFsaXplRmllbGROYW1lKHQpKSl9KSkpO3JldHVybiBuZXcgaCh7bGF5ZXI6ZSxmaWVsZEdyb3VwRGVmaW5pdGlvbnM6dH0pLmxvYWQoKX19fXJldHVybiBudWxsfWFzeW5jIGxvYWQoZSl7Y29uc3QgdD10aGlzLmxheWVyLmxvYWQoZSkudGhlbigoKCk9PnRoaXMuX2luaXRpYWxpemVDb250aW5nZW50VmFsdWVzKHRoaXMuZmllbGRHcm91cERlZmluaXRpb25zLGUpKSk7cmV0dXJuIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0KSx0aGlzfXZhbGlkYXRlQ29udGluZ2VuY3lDb25zdHJhaW50cyhlLHQpe2NvbnN0IG49T2JqZWN0LmtleXMoZSksaT1bXSxzPVtdO2Zvcihjb25zdCByIG9mIHRoaXMuZmllbGRHcm91cHMpe2NvbnN0IG89ci5pc0VkaXRpbmdSZXN0cmljdGl2ZT9cImVycm9yXCI6XCJ3YXJuaW5nXCI7aWYodCYmIXIuZmllbGRzLnNvbWUoKGU9PnQuaW5jbHVkZXMoZSkpKSljb250aW51ZTtpZighci5maWVsZHMuZXZlcnkoKGU9Pm4uaW5jbHVkZXMoZSkpKSl7cy5wdXNoKG5ldyB1KHtmaWVsZEdyb3VwOnIsdHlwZTpvfSkpO2NvbnRpbnVlfWxldCBhPSExO2NvbnN0IGw9ZVt0aGlzLnN1YnR5cGVGaWVsZE5hbWVdLGM9ci5jb250aW5nZW5jaWVzLmZpbHRlcigoZT0+ISghZS5pc1JldGlyZWQmJmUuc3VidHlwZSl8fGUuc3VidHlwZS5jb2RlPT09bCkpO2Zvcihjb25zdCB0IG9mIGMpe2xldCBuPSEwO2Zvcihjb25zdCBpIGluIHQudmFsdWVzKXtjb25zdCBzPXQudmFsdWVzW2ldO2lmKFwiYW55XCIhPT1zLm9iamVjdFR5cGUpaWYoXCJudWxsXCI9PT1zLm9iamVjdFR5cGUpe2lmKG51bGwhPWVbaV0pe249ITE7YnJlYWt9fWVsc2UgaWYoXCJjb2RlXCI9PT1zLm9iamVjdFR5cGUpe2lmKGVbaV0hPT1zLmNvZGVkVmFsdWUuY29kZSl7bj0hMTticmVha319ZWxzZSBpZihcInJhbmdlXCI9PT1zLm9iamVjdFR5cGUpe2NvbnN0IHQ9ZVtpXTtpZih0PHMubWluVmFsdWV8fHQ+cy5tYXhWYWx1ZSl7bj0hMTticmVha319fWlmKG4pe2E9ITA7YnJlYWt9fWF8fGkucHVzaChuZXcgdSh7ZmllbGRHcm91cDpyLHR5cGU6b30pKX1yZXR1cm57aW52YWxpZDppLGluY29tcGxldGU6c319Z2V0Q29udGluZ2VudFZhbHVlcyhlLHQsbj0hMSl7Y29uc3QgaT1lW3RoaXMuc3VidHlwZUZpZWxkTmFtZV0scz1udWxsIT1pLHI9e307bGV0IG89W107Y29uc3QgYT10aGlzLmZpZWxkR3JvdXBzLmZpbHRlcigoZT0+ZS5maWVsZHMuaW5jbHVkZXModCkpKTtvLnB1c2gobmV3IGMoe29iamVjdFR5cGU6XCJhbnlcIn0pKTtmb3IoY29uc3QgbCBvZiBhKXtsZXQgYT1bXTtjb25zdCB1PWwuY29udGluZ2VuY2llcy5maWx0ZXIoKGU9PiEoZS5pc1JldGlyZWR8fGUuc3VidHlwZSYmcyYmZS5zdWJ0eXBlLmNvZGUhPT1pKSkpO2xldCBjPSExO2NvbnN0IHA9e307Zm9yKGNvbnN0IG4gb2YgdSl7bGV0IGkscz0hMDtmb3IoY29uc3QgciBpbiBuLnZhbHVlcyl7Y29uc3Qgbz1uLnZhbHVlc1tyXTtpZih0IT09cil7aWYodm9pZCAwIT09ZVtyXSYmXCJhbnlcIiE9PW8ub2JqZWN0VHlwZSlpZihcIm51bGxcIj09PW8ub2JqZWN0VHlwZSludWxsIT09ZVtyXSYmKHM9ITEpO2Vsc2UgaWYoXCJjb2RlXCI9PT1vLm9iamVjdFR5cGUpZVtyXSE9PW8uY29kZWRWYWx1ZS5jb2RlJiYocz0hMSk7ZWxzZSBpZihcInJhbmdlXCI9PT1vLm9iamVjdFR5cGUpe2NvbnN0IHQ9ZVtyXTsodDxvLm1pblZhbHVlfHx0Pm8ubWF4VmFsdWUpJiYocz0hMSl9fWVsc2UgaT1vLGM9Y3x8XCJyYW5nZVwiPT09by5vYmplY3RUeXBlfWlmKGkmJnMpe2lmKFwiYW55XCI9PT1pLm9iamVjdFR5cGUpe2EubGVuZ3RoPTAsYS5wdXNoKGkpO2JyZWFrfWNvbnN0IGU9dGhpcy5fZ2VuZXJhdGVLZXkoaSk7cFtlXXx8YS5wdXNoKGkpLHBbZV09ITB9fWMmJihhPXRoaXMuX2pvaW5SYW5nZShhKSkscltsLm5hbWVdPWEsbz1uP3RoaXMuX2ZpbHRlckludGVyc2VjdGlvbihvLGEpOltdfXJldHVybiAxPT09YS5sZW5ndGgmJm4mJihvPVtdKSxuZXcgcCh7Y29udGluZ2VudFZhbHVlc0FsbEdyb3VwczpvLGNvbnRpbmdlbnRWYWx1ZXNCeUZpZWxkR3JvdXA6cn0pfV9nZW5lcmF0ZUtleShlKXtzd2l0Y2goZS5vYmplY3RUeXBlKXtjYXNlXCJhbnlcIjpyZXR1cm5cIkBhbnlAXCI7Y2FzZVwibnVsbFwiOnJldHVyblwiQG51bGxAXCI7Y2FzZVwiY29kZVwiOnJldHVybiBlLmNvZGVkVmFsdWUubmFtZStlLmNvZGVkVmFsdWUuY29kZS50b1N0cmluZygpO2Nhc2VcInJhbmdlXCI6cmV0dXJuIGUubWluVmFsdWUudG9TdHJpbmcoKStcIi1cIitlLm1heFZhbHVlLnRvU3RyaW5nKCl9fV9qb2luUmFuZ2UoZSl7bGV0IHQsbjtlLnNvcnQoKChlLHQpPT5cIm51bGxcIj09PWUub2JqZWN0VHlwZT8tMTpcIm51bGxcIj09PXQub2JqZWN0VHlwZT8xOmUubWluVmFsdWUtdC5taW5WYWx1ZSkpO2NvbnN0IGk9W107Zm9yKGNvbnN0IHMgb2YgZSlcIm51bGxcIiE9PXMub2JqZWN0VHlwZT9udWxsIT10JiZudWxsIT1uP248cy5taW5WYWx1ZT8oaS5wdXNoKG5ldyBjKHtvYmplY3RUeXBlOlwicmFuZ2VcIixtaW5WYWx1ZTp0LG1heFZhbHVlOm59KSksdD1zLm1pblZhbHVlLG49cy5tYXhWYWx1ZSk6bjxzLm1heFZhbHVlJiYobj1zLm1heFZhbHVlKToodD1zLm1pblZhbHVlLG49cy5tYXhWYWx1ZSk6aS5wdXNoKHMpO3JldHVybiBpLnB1c2gobmV3IGMoe29iamVjdFR5cGU6XCJyYW5nZVwiLG1pblZhbHVlOnQsbWF4VmFsdWU6bn0pKSxpfV9maWx0ZXJJbnRlcnNlY3Rpb24oZSx0KXtpZigwPT09ZS5sZW5ndGh8fDA9PT10Lmxlbmd0aClyZXR1cm5bXTtpZihcImFueVwiPT09ZVswXS5vYmplY3RUeXBlKXJldHVybiB0O2lmKFwiYW55XCI9PT10WzBdLm9iamVjdFR5cGUpcmV0dXJuIGU7Y29uc3Qgbj1cInJhbmdlXCI9PT1lWzBdLm9iamVjdFR5cGV8fFwicmFuZ2VcIj09PWVbMV0/Lm9iamVjdFR5cGUsaT1cInJhbmdlXCI9PT10WzBdLm9iamVjdFR5cGV8fFwicmFuZ2VcIj09PXRbMV0/Lm9iamVjdFR5cGU7cmV0dXJuIG58fGk/dGhpcy5faW50ZXJzZWN0UmFuZ2VzKGUsdCk6dGhpcy5faW50ZXJzZWN0VmFsdWVzKGUsdCl9X2ludGVyc2VjdFJhbmdlcyhlLHQpe2NvbnN0IG49W107bGV0IGkscz0wO2Zvcihjb25zdCByIG9mIGUpZm9yKDtzPHQubGVuZ3RoO3MrKyl7Y29uc3QgZT10W3NdO2lmKFwibnVsbFwiPT09ci5vYmplY3RUeXBlJiZcIm51bGxcIj09PWUub2JqZWN0VHlwZSluLnB1c2gobmV3IGMoe29iamVjdFR5cGU6XCJudWxsXCJ9KSk7ZWxzZXtpZihcIm51bGxcIj09PXIub2JqZWN0VHlwZSlicmVhaztpZihcIm51bGxcIj09PWUub2JqZWN0VHlwZSljb250aW51ZX1pZihyLm1heFZhbHVlPGUubWluVmFsdWUpYnJlYWs7aWYoci5tYXhWYWx1ZT09PWUubWluVmFsdWUpe24ucHVzaChuZXcgYyh7b2JqZWN0VHlwZTpcInJhbmdlXCIsbWluVmFsdWU6ci5tYXhWYWx1ZSxtYXhWYWx1ZTplLm1pblZhbHVlfSkpO2JyZWFrfWlmKCEoci5taW5WYWx1ZT5lLm1heFZhbHVlKSlpZihyLm1pblZhbHVlIT09ZS5tYXhWYWx1ZSl7aWYoaT1yLm1pblZhbHVlPmUubWluVmFsdWU/ci5taW5WYWx1ZTplLm1pblZhbHVlLHIubWF4VmFsdWU8ZS5tYXhWYWx1ZSl7bi5wdXNoKG5ldyBjKHtvYmplY3RUeXBlOlwicmFuZ2VcIixtaW5WYWx1ZTppLG1heFZhbHVlOnIubWF4VmFsdWV9KSk7YnJlYWt9bi5wdXNoKG5ldyBjKHtvYmplY3RUeXBlOlwicmFuZ2VcIixtaW5WYWx1ZTppLG1heFZhbHVlOmUubWF4VmFsdWV9KSl9ZWxzZSBuLnB1c2gobmV3IGMoe29iamVjdFR5cGU6XCJyYW5nZVwiLG1pblZhbHVlOnIubWluVmFsdWUsbWF4VmFsdWU6ZS5tYXhWYWx1ZX0pKX1yZXR1cm4gbn1faW50ZXJzZWN0VmFsdWVzKGUsdCl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgaSBvZiBlKXQuc29tZSgoZT0+e2lmKGkub2JqZWN0VHlwZT09PWUub2JqZWN0VHlwZSlzd2l0Y2goaS5vYmplY3RUeXBlKXtjYXNlXCJhbnlcIjpjYXNlXCJudWxsXCI6cmV0dXJuITA7Y2FzZVwiY29kZVwiOnJldHVybiBpLmNvZGVkVmFsdWUuY29kZT09PWUuY29kZWRWYWx1ZS5jb2RlJiZpLmNvZGVkVmFsdWUubmFtZT09PWUuY29kZWRWYWx1ZS5uYW1lfXJldHVybiExfSkpJiZuLnB1c2goaSk7cmV0dXJuIG59c3RhdGljIGFzeW5jIF9zdGF0aWNGZXRjaEVudGVycHJpc2VGZWF0dXJlUm9vdChlLG4pe3JldHVybiB0KGUse3Jlc3BvbnNlVHlwZTpcImpzb25cIixxdWVyeTp7ZjpcImpzb25cIn0sLi4ubn0pLnRoZW4oKGU9PmUuZGF0YSkpfXN0YXRpYyBhc3luYyBfc3RhdGljRmV0Y2hFbnRlcnByaXNlRmllbGRHcm91cChlLG4saSl7cmV0dXJuIHQoYCR7ZX0vcXVlcnlEYXRhRWxlbWVudHNgLHtyZXNwb25zZVR5cGU6XCJqc29uXCIscXVlcnk6e2xheWVyczpKU09OLnN0cmluZ2lmeShbbl0pLGY6XCJqc29uXCJ9LC4uLml9KS50aGVuKChlPT5lLmRhdGEubGF5ZXJEYXRhRWxlbWVudHM/LlswXS5kYXRhRWxlbWVudC5maWVsZEdyb3VwcykpfWFzeW5jIF9pbml0aWFsaXplQ29udGluZ2VudFZhbHVlcyhlLHQpe2NvbnN0IG49ZT8/YXdhaXQgdGhpcy5fZmV0Y2hGaWVsZEdyb3VwRGVmcyh0KTtpZigwPT09bi5sZW5ndGgpcmV0dXJuIHZvaWQodGhpcy5maWVsZEdyb3Vwcz1bXSk7Y29uc3QgaT1hd2FpdCB0aGlzLl9mZXRjaENvbnRpbmdlbnRWYWx1ZXMobix0KTt0aGlzLmZpZWxkR3JvdXBzPWl9YXN5bmMgX2ZldGNoRmllbGRHcm91cERlZnMoZSl7aWYodm9pZCAwPT09dGhpcy5sYXllci5sYXllcklkKXJldHVybltdO2NvbnN0IHQ9dGhpcy5sYXllci5zb3VyY2VKU09OLG49dGhpcy5sYXllci5sYXllcklkLnRvU3RyaW5nKCksaT1hKHRoaXMubGF5ZXIudXJsKS51cmwucGF0aDtpZih0Lmhhc0NvbnRpbmdlbnRWYWx1ZXNEZWZpbml0aW9uKXtyZXR1cm4oYXdhaXQgdGhpcy5fZmV0Y2hBR09MRmllbGRHcm91cChpLG4sZSkpLm1hcCgoZT0+KHtuYW1lOmUubmFtZSxpc0VkaXRpbmdSZXN0cmljdGl2ZTplLnJlc3RyaWN0aXZlLGZpZWxkczplLmZpZWxkcy5tYXAoKGU9PnRoaXMubGF5ZXIuZmllbGRzSW5kZXgubm9ybWFsaXplRmllbGROYW1lKGUpKSl9KSkpfXJldHVybiB2b2lkIDAhPT10Lmhhc0NvbnRpbmdlbnRWYWx1ZXNEZWZpbml0aW9uP1tdOnRoaXMuX2ZldGNoRW50ZXJwcmlzZUZlYXR1cmVSb290KGksZSkudGhlbigoYXN5bmMgdD0+e2lmKHQuc3VwcG9ydHNRdWVyeURhdGFFbGVtZW50cyl7cmV0dXJuKGF3YWl0IHRoaXMuX2ZldGNoRW50ZXJwcmlzZUZpZWxkR3JvdXAoaSxuLGUpKS5tYXAoKGU9Pih7bmFtZTplLm5hbWUsaXNFZGl0aW5nUmVzdHJpY3RpdmU6ZS5pc0VkaXRpbmdSZXN0cmljdGl2ZSxmaWVsZHM6ZS5maWVsZE5hbWVzLm5hbWVzLm1hcCgoZT0+dGhpcy5sYXllci5maWVsZHNJbmRleC5ub3JtYWxpemVGaWVsZE5hbWUoZSkpKX0pKSl9cmV0dXJuW119KSl9YXN5bmMgX2ZldGNoQUdPTEZpZWxkR3JvdXAoZSxuLGkpe3JldHVybiB0KGAke2V9LyR7bn0vZmllbGRncm91cHNgLHtyZXNwb25zZVR5cGU6XCJqc29uXCIscXVlcnk6e2Y6XCJqc29uXCJ9LC4uLml9KS50aGVuKChlPT5lLmRhdGEuZmllbGRHcm91cHMpKX1hc3luYyBfZmV0Y2hFbnRlcnByaXNlRmllbGRHcm91cChlLHQsbil7cmV0dXJuIGguX3N0YXRpY0ZldGNoRW50ZXJwcmlzZUZpZWxkR3JvdXAoZSx0LG4pfWFzeW5jIF9mZXRjaEVudGVycHJpc2VGZWF0dXJlUm9vdChlLHQpe3JldHVybiBoLl9zdGF0aWNGZXRjaEVudGVycHJpc2VGZWF0dXJlUm9vdChlLHQpfWFzeW5jIF9mZXRjaENvbnRpbmdlbnRWYWx1ZXMoZSx0KXtpZih2b2lkIDA9PT10aGlzLmxheWVyLmxheWVySWQpcmV0dXJuW107Y29uc3Qgbj10aGlzLmxheWVyLnNvdXJjZUpTT04saT10aGlzLmxheWVyLmxheWVySWQudG9TdHJpbmcoKSxzPWEodGhpcy5sYXllci51cmwpLnVybC5wYXRoO2lmKG4uaGFzQ29udGluZ2VudFZhbHVlc0RlZmluaXRpb24pe2NvbnN0IG49YXdhaXQgdGhpcy5fZmV0Y2hBR09MQ29udGluZ2VudFZhbHVlcyhzLGksdCk7cmV0dXJuIHRoaXMuX2NvbnN0cnVjdEZpZWxkR3JvdXBzQUdPTChlLG4pfWNvbnN0IHI9YXdhaXQgdGhpcy5fZmV0Y2hFbnRlcnByaXNlQ29udGluZ2VudFZhbHVlcyhzLGksdCk7cmV0dXJuIHRoaXMuX2NvbnN0cnVjdEZpZWxkR3JvdXBzRW50ZXJwcmlzZShlLHIpfV9jb25zdHJ1Y3RGaWVsZEdyb3Vwc0FHT0woZSx0KXtyZXR1cm4gZS5tYXAoKGU9Pntjb25zdCBuPXQuY29udGluZ2VudFZhbHVlc0RlZmluaXRpb24uZmllbGRHcm91cHMuZmluZCgodD0+dC5uYW1lPT09ZS5uYW1lKSk7aWYobil7bGV0IGk9W107cmV0dXJuIGk9dC5jb250aW5nZW50VmFsdWVzRGVmaW5pdGlvbi5oYXNTdWJUeXBlP3RoaXMuX3BhcnNlQUdPTEZpZWxkR3JvdXBTdWJ0eXBlKGUsdCxuLnN1YlR5cGVzKTp0aGlzLl9wYXJzZUFHT0xGaWVsZEdyb3VwKGUsdCxuLmNvbnRpbmdlbnRWYWx1ZXMpLG5ldyBkKHtuYW1lOmUubmFtZSxpc0VkaXRpbmdSZXN0cmljdGl2ZTplLmlzRWRpdGluZ1Jlc3RyaWN0aXZlLGZpZWxkczplLmZpZWxkcyxjb250aW5nZW5jaWVzOml9KX1yZXR1cm4gbnVsbH0pKS5maWx0ZXIobil9X3BhcnNlQUdPTEZpZWxkR3JvdXBTdWJ0eXBlKGUsdCxuKXtsZXQgaT1bXTtyZXR1cm4gbj8uZm9yRWFjaCgobj0+e2NvbnN0IHM9dGhpcy5fZ2V0U3VidHlwZUFHT0wobi5uYW1lKTtpPWkuY29uY2F0KHRoaXMuX3BhcnNlQUdPTEZpZWxkR3JvdXAoZSx0LG4uY29udGluZ2VudFZhbHVlcyxzKSl9KSksaX1fcGFyc2VBR09MRmllbGRHcm91cChlLHQsbixpPW51bGwpe2NvbnN0IHM9W107Zm9yKGNvbnN0IHIgb2Ygbj8/W10pe2NvbnN0IG49dGhpcy5fcGFyc2VBR09MQ29udGluZ2VuY3kocixlLHQsaSk7cy5wdXNoKG4pfXJldHVybiBzfV9wYXJzZUFHT0xDb250aW5nZW5jeShlLHQsbixpKXtjb25zdCBzPWUuaWQscj0hIWUucmV0aXJlZCYmMT09PWUucmV0aXJlZCxvPXt9O2ZvcihsZXQgYT0wLGw9MDthPHQuZmllbGRzLmxlbmd0aDthKyspe2NvbnN0IHM9dC5maWVsZHNbYV0scj1uLnR5cGVDb2Rlc1tlLnR5cGVzW2FdXTtpZihcIkNvZGVcIj09PXIpe2xldCB0PWUudmFsdWVzW2xdO2wrKztjb25zdCByPXRoaXMuX2dldERvbWFpbihpLHMpLGE9dGhpcy5sYXllci5nZXRGaWVsZChzKTtpZihcInN0cmluZ1wiPT09YT8udHlwZSl7Y29uc3QgZT1uLnN0cmluZ0RpY3RzLmZpbmQoKGU9PmUuZG9tYWluPT09cj8ubmFtZSkpO2UmJih0PWUuZW50cmllc1t0XSl9Y29uc3QgdT1yPy5jb2RlZFZhbHVlcy5maW5kKChlPT5lLmNvZGU9PT10KSkscD1uZXcgYyh7Y29kZWRWYWx1ZTp1LG9iamVjdFR5cGU6XCJjb2RlXCJ9KTtvW3NdPXB9ZWxzZSBpZihcIlJhbmdlXCI9PT1yKXtjb25zdCB0PWUudmFsdWVzW2xdO2wrKztjb25zdCBuPXQucmFuZ2VbMF0saT10LnJhbmdlWzFdLHI9bmV3IGMoe21pblZhbHVlOm4sbWF4VmFsdWU6aSxvYmplY3RUeXBlOlwicmFuZ2VcIn0pO29bc109cn1lbHNlIGlmKFwiQW55XCI9PT1yKXtjb25zdCBlPW5ldyBjKHtvYmplY3RUeXBlOlwiYW55XCJ9KTtvW3NdPWV9ZWxzZXtjb25zdCBlPW5ldyBjKHtvYmplY3RUeXBlOlwibnVsbFwifSk7b1tzXT1lfX1yZXR1cm4gbmV3IGwoe2lkOnMsaXNSZXRpcmVkOnIsc3VidHlwZTppLHZhbHVlczpvfSl9X2NvbnN0cnVjdEZpZWxkR3JvdXBzRW50ZXJwcmlzZShlLHQpe2NvbnN0IGk9dC5maWVsZEdyb3VwcztyZXR1cm4gZS5tYXAoKGU9Pntjb25zdCBuPWkuZmluZCgodD0+dC5uYW1lPT09ZS5uYW1lKSk7aWYobil7Y29uc3QgaT1uLmNvbnRpbmdlbmNpZXMubWFwKChuPT57Y29uc3QgaT1uLmlkLHM9bi5pc1JldGlyZWR8fCExLHI9dGhpcy5fZ2V0U3VidHlwZUVudGVycHJpc2Uobi5zdWJ0eXBlQ29kZSksbz17fTtmb3IobGV0IGE9MDthPGUuZmllbGRzLmxlbmd0aDthKyspe2NvbnN0IGk9ZS5maWVsZHNbYV07bGV0IHM9bi52YWx1ZXNbYV07aWYoXCJudW1iZXJcIj09dHlwZW9mIHN8fFwic3RyaW5nXCI9PXR5cGVvZiBzKXtjb25zdCBlPXRoaXMuX2dldERvbWFpbihyLGkpLG49dGhpcy5sYXllci5nZXRGaWVsZChpKTtpZihmKG4pKXM9dC5zdHJpbmdEaWN0aW9uYXJ5W3NdO2Vsc2UgaWYoeShuKSl7Y29uc3QgZT1uZXcgRGF0ZShgJHtzfSswMDowMGApO3M9ZS5nZXRUaW1lKCl9Y29uc3QgYT1lPy5jb2RlZFZhbHVlcy5maW5kKChlPT5lLmNvZGU9PT1zKSksbD1uZXcgYyh7Y29kZWRWYWx1ZTphLG9iamVjdFR5cGU6XCJjb2RlXCJ9KTtvW2ldPWx9ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2Ygcyl7Y29uc3QgZT1zLm1pblZhbHVlLHQ9cy5tYXhWYWx1ZSxuPW5ldyBjKHttaW5WYWx1ZTplLG1heFZhbHVlOnQsb2JqZWN0VHlwZTpcInJhbmdlXCJ9KTtvW2ldPW59ZWxzZSBpZihzKXtjb25zdCBlPW5ldyBjKHtvYmplY3RUeXBlOlwiYW55XCJ9KTtvW2ldPWV9ZWxzZXtjb25zdCBlPW5ldyBjKHtvYmplY3RUeXBlOlwibnVsbFwifSk7b1tpXT1lfX1yZXR1cm4gbmV3IGwoe2lkOmksaXNSZXRpcmVkOnMsc3VidHlwZTpyLHZhbHVlczpvfSl9KSk7cmV0dXJuIG5ldyBkKHtuYW1lOmUubmFtZSxpc0VkaXRpbmdSZXN0cmljdGl2ZTplLmlzRWRpdGluZ1Jlc3RyaWN0aXZlLGZpZWxkczplLmZpZWxkcyxjb250aW5nZW5jaWVzOml9KX1yZXR1cm4gbnVsbH0pKS5maWx0ZXIobil9YXN5bmMgX2ZldGNoRW50ZXJwcmlzZUNvbnRpbmdlbnRWYWx1ZXMoZSxuLGkpe3JldHVybiB0KGAke2V9L3F1ZXJ5Q29udGluZ2VudFZhbHVlc2Ase3Jlc3BvbnNlVHlwZTpcImpzb25cIixxdWVyeTp7bGF5ZXJzOkpTT04uc3RyaW5naWZ5KFtuXSksZjpcImpzb25cIn0sLi4uaX0pLnRoZW4oKGU9PmUuZGF0YS5jb250aW5nZW50VmFsdWVTZXRzPy5bMF0pKX1hc3luYyBfZmV0Y2hBR09MQ29udGluZ2VudFZhbHVlcyhlLG4saSl7cmV0dXJuIHQoYCR7ZX0vJHtufS9jb250aW5nZW50VmFsdWVzYCx7cmVzcG9uc2VUeXBlOlwianNvblwiLHF1ZXJ5OntmOlwianNvblwifSwuLi5pfSkudGhlbigoZT0+ZS5kYXRhKSl9X2dldFN1YnR5cGVFbnRlcnByaXNlKGUpe2NvbnN0IHQ9dGhpcy5sYXllci5zb3VyY2VKU09OO2xldCBuO2lmKHQuc3VidHlwZXMpe2NvbnN0IGk9dC5zdWJ0eXBlcy5maW5kKCh0PT50LmNvZGU9PT1lKSk7bj1tLmZyb21KU09OKGkpfXJldHVybiBufHxudWxsfV9nZXRTdWJ0eXBlQUdPTChlKXtjb25zdCB0PXRoaXMubGF5ZXIuc291cmNlSlNPTjtsZXQgbjtpZih0LnN1YnR5cGVzKXtjb25zdCBpPXQuc3VidHlwZXMuZmluZCgodD0+dC5uYW1lPT09ZSkpO249bS5mcm9tSlNPTihpKX1yZXR1cm4gbnx8bnVsbH1fZmluZERvbWFpbkJ5RmllbGROYW1lKGUsdCl7Y29uc3Qgbj1lLmRvbWFpbnM7aWYobil7Y29uc3RbZSxpXT1PYmplY3QuZW50cmllcyhuKS5maW5kKCgoW2VdKT0+ZS50cmltKCkudG9Mb3dlckNhc2UoKT09PXQudHJpbSgpLnRvTG93ZXJDYXNlKCkpKXx8W107cmV0dXJuIGl8fG51bGx9cmV0dXJuIG51bGx9X2dldERvbWFpbihlLHQpe2NvbnN0IG49ZT90aGlzLl9maW5kRG9tYWluQnlGaWVsZE5hbWUoZSx0KTp0aGlzLmxheWVyLmdldEZpZWxkRG9tYWluKHQpO3JldHVyblwiaW5oZXJpdGVkXCI9PT1uPy50eXBlP3RoaXMubGF5ZXIuZ2V0RmllbGREb21haW4odCk6bn19O2UoW3Ioe2NvbnN0cnVjdE9ubHk6ITB9KV0sZy5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbcih7Y29uc3RydWN0T25seTohMH0pXSxnLnByb3RvdHlwZSxcInJlcXVlc3RcIix2b2lkIDApLGUoW3Ioe3R5cGU6W2RdfSldLGcucHJvdG90eXBlLFwiZmllbGRHcm91cHNcIix2b2lkIDApLGUoW3Ioe2NvbnN0cnVjdE9ubHk6ITB9KV0sZy5wcm90b3R5cGUsXCJmaWVsZEdyb3VwRGVmaW5pdGlvbnNcIix2b2lkIDApLGUoW3IoKV0sZy5wcm90b3R5cGUsXCJzdWJ0eXBlRmllbGROYW1lXCIsbnVsbCksZz1oPWUoW28oXCJlc3JpLmxheWVycy5zdXBwb3J0LkxheWVyQ29udGluZ2VudFZhbHVlc0NhY2hlXCIpXSxnKTtjb25zdCBWPWc7ZXhwb3J0e1YgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi9pbnRsLmpzXCI7aW1wb3J0e2lzU29tZSBhcyB0fWZyb21cIi4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtkZXByZWNhdGVkUHJvcGVydHkgYXMgaX1mcm9tXCIuLi9jb3JlL2RlcHJlY2F0ZS5qc1wiO2ltcG9ydCBvIGZyb21cIi4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3dhdGNoIGFzIG4sd2hlbk9uY2UgYXMgYX1mcm9tXCIuLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgc31mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyByfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7aXNJbnRlZ2VyRmllbGQgYXMgbH1mcm9tXCIuLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi9XaWRnZXQuanNcIjtpbXBvcnR7Y3NzIGFzIHB9ZnJvbVwiLi9GZWF0dXJlRm9ybS9jc3MuanNcIjtpbXBvcnR7aXNHcm91cElucHV0IGFzIGMsaXNGaWVsZElucHV0IGFzIHUsaXNSZWxhdGlvbnNoaXBJbnB1dCBhcyBtLGlzSW5wdXRJbkdyb3VwSW5wdXQgYXMgaCxpc0ZpZWxkRWxlbWVudFdpdGhJbnB1dFR5cGUgYXMgdixnZXRFcnJvck1lc3NhZ2VGb3JGaWVsZElucHV0IGFzIF8sZ2V0SWNvbkZvckZlYXR1cmUgYXMgZyxpc051bWJlckZpZWxkSW5wdXQgYXMgYn1mcm9tXCIuL0ZlYXR1cmVGb3JtL2ZlYXR1cmVGb3JtVXRpbHMuanNcIjtpbXBvcnQgQyBmcm9tXCIuL0ZlYXR1cmVGb3JtL0ZlYXR1cmVGb3JtVmlld01vZGVsLmpzXCI7aW1wb3J0e2xvYWRDYWxjaXRlQ29tcG9uZW50cyBhcyBmfWZyb21cIi4vc3VwcG9ydC9jb21wb25lbnRzVXRpbHMuanNcIjtpbXBvcnR7aXNTdHJpbmcgYXMgeX1mcm9tXCIuL3N1cHBvcnQvZGF0YVV0aWxzLmpzXCI7aW1wb3J0e2dldExhYmVsRm9yRGF0ZUZpZWxkVmFsdWUgYXMgRixnZXRJbnRsT3B0aW9uc0ZvckZpZWxkIGFzIHcsbnVtYmVyaW5nU3lzdGVtIGFzIFIscHJlcGFyZUlTT0ZpZWxkVmFsdWVGb3JEYXRlQ29tcG9uZW50cyBhcyBPLHByZXBhcmVVbml4RmllbGRWYWx1ZUZvckRhdGVDb21wb25lbnRzIGFzIGssbm9ybWFsaXplVGltZU9ubHlTdHJpbmcgYXMgSSxnZXRJU09GaWVsZFZhbHVlRnJvbURhdGVDb21wb25lbnRzIGFzIE0sZ2V0VW5peEZpZWxkVmFsdWVGcm9tRGF0ZUNvbXBvbmVudHMgYXMgRH1mcm9tXCIuL3N1cHBvcnQvZGF0ZVV0aWxzLmpzXCI7aW1wb3J0e2dsb2JhbENzcyBhcyB4fWZyb21cIi4vc3VwcG9ydC9nbG9iYWxDc3MuanNcIjtpbXBvcnR7SGVhZGluZyBhcyBWLGluY3JlbWVudEhlYWRpbmdMZXZlbCBhcyBOfWZyb21cIi4vc3VwcG9ydC9IZWFkaW5nLmpzXCI7aW1wb3J0XCIuL3N1cHBvcnQvd2lkZ2V0VXRpbHMuanNcIjtpbXBvcnR7bWVzc2FnZUJ1bmRsZSBhcyBUfWZyb21cIi4vc3VwcG9ydC9kZWNvcmF0b3JzL21lc3NhZ2VCdW5kbGUuanNcIjtpbXBvcnR7dm1FdmVudCBhcyBMfWZyb21cIi4vc3VwcG9ydC9kZWNvcmF0b3JzL3ZtRXZlbnQuanNcIjtpbXBvcnR7dHN4IGFzIGp9ZnJvbVwiLi9zdXBwb3J0L2pzeEZhY3RvcnkuanNcIjtpbXBvcnR7c3Vic3RpdHV0ZSBhcyBFfWZyb21cIi4uL2ludGwvc3Vic3RpdHV0ZS5qc1wiO2NvbnN0IFU9XCJkYXRhLWZpZWxkLW5hbWVcIixTPVwiZXNyaS53aWRnZXRzLkZlYXR1cmVGb3JtXCIsJD1vLmdldExvZ2dlcihTKTtsZXQgQT1jbGFzcyBleHRlbmRzIGR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuX2F0dGVtcHRGb2N1c09uTmV4dFJlbmRlcj0hMSx0aGlzLl9kYXRlQ29tcG9uZW50TWFwPW5ldyBNYXAsdGhpcy5faW5wdXRzV2l0aENoYW5nZXM9bmV3IFNldCx0aGlzLl9mb2N1c2VkRmllbGROYW1lPW51bGwsdGhpcy5fbGlzdE9ic2VydmVyTm9kZT1udWxsLHRoaXMuX2xpc3RPYnNlcnZlcj1uZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGU9PntlLmxlbmd0aCYmZVswXS5pc0ludGVyc2VjdGluZyYmdGhpcy5faW5jcmVtZW50UmVsYXRlZFJlY29yZFBhZ2UoKX0pLHtyb290OndpbmRvdy5kb2N1bWVudH0pLHRoaXMuZ3JvdXBEaXNwbGF5PVwiYWxsXCIsdGhpcy5oZWFkaW5nTGV2ZWw9Mix0aGlzLm1lc3NhZ2VzPW51bGwsdGhpcy5tZXNzYWdlc0NvbW1vbj1udWxsLHRoaXMubWVzc2FnZXNGZWF0dXJlPW51bGwsdGhpcy5tZXNzYWdlc1RlbXBsYXRlcz1udWxsLHRoaXMudmlld01vZGVsPW5ldyBDLHRoaXMuX29uU2hvd0FsbFJlbGF0ZWRSZWNvcmRzQ2xpY2s9ZT0+e2NvbnN0e2ZlYXR1cmU6dCxyZWxhdGVkUmVjb3JkQ2FsbGJhY2tzOml9PXRoaXM7dCYmaT8uc2hvd0FsbFJlbGF0ZWRSZWNvcmRzJiZpLnNob3dBbGxSZWxhdGVkUmVjb3Jkcyh7cGFyZW50RmVhdHVyZTp0LHJlbGF0aW9uc2hpcElkOmV9KX0sdGhpcy5fb25BZGRSZWxhdGVkUmVjb3Jkc0NsaWNrPShlLHQpPT57Y29uc3R7ZmVhdHVyZTppLHJlbGF0ZWRSZWNvcmRDYWxsYmFja3M6b309dGhpcztpJiZvPy5hZGRSZWxhdGVkUmVjb3JkJiZvLmFkZFJlbGF0ZWRSZWNvcmQoe3BhcmVudEZlYXR1cmU6aSxyZWxhdGVkTGF5ZXI6dCxyZWxhdGlvbnNoaXBJZDplfSl9LHRoaXMuX29uRm9ybUtleURvd249dGhpcy5fb25Gb3JtS2V5RG93bi5iaW5kKHRoaXMpLHRoaXMuX29uRm9ybVN1Ym1pdD10aGlzLl9vbkZvcm1TdWJtaXQuYmluZCh0aGlzKSx0aGlzLl9vbkdyb3VwVG9nZ2xlPXRoaXMuX29uR3JvdXBUb2dnbGUuYmluZCh0aGlzKSx0aGlzLl9vbkNvbXBvbmVudEJsdXI9dGhpcy5fb25Db21wb25lbnRCbHVyLmJpbmQodGhpcyksdGhpcy5fb25Db21wb25lbnRGb2N1cz10aGlzLl9vbkNvbXBvbmVudEZvY3VzLmJpbmQodGhpcyksdGhpcy5fb25Db21wb25lbnRLZXlEb3duPXRoaXMuX29uQ29tcG9uZW50S2V5RG93bi5iaW5kKHRoaXMpLHRoaXMuX2FmdGVyQ29tcG9uZW50Q3JlYXRlPXRoaXMuX2FmdGVyQ29tcG9uZW50Q3JlYXRlLmJpbmQodGhpcyksdGhpcy5fYWZ0ZXJDb21wb25lbnRDcmVhdGVPclVwZGF0ZT10aGlzLl9hZnRlckNvbXBvbmVudENyZWF0ZU9yVXBkYXRlLmJpbmQodGhpcyksdGhpcy5fYWZ0ZXJEYXRlQ29tcG9uZW50Q3JlYXRlPXRoaXMuX2FmdGVyRGF0ZUNvbXBvbmVudENyZWF0ZS5iaW5kKHRoaXMpLHRoaXMuX2FmdGVyRGF0ZUNvbXBvbmVudENyZWF0ZU9yVXBkYXRlPXRoaXMuX2FmdGVyRGF0ZUNvbXBvbmVudENyZWF0ZU9yVXBkYXRlLmJpbmQodGhpcyksdGhpcy5fYWZ0ZXJSYWRpb0dyb3VwQ3JlYXRlT3JVcGRhdGU9dGhpcy5fYWZ0ZXJSYWRpb0dyb3VwQ3JlYXRlT3JVcGRhdGUuYmluZCh0aGlzKX1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKFtuKCgoKT0+dGhpcy5mZWF0dXJlKSwoKCk9PnthKCgoKT0+IXRoaXMudmlld01vZGVsLnVwZGF0aW5nKSkudGhlbigoKCk9Pntjb25zdCBlPXRoaXMuX2dldEZvY3VzYWJsZUlucHV0KFwiZm9yd2FyZFwiKTt0aGlzLl9pbnB1dHNXaXRoQ2hhbmdlcy5jbGVhcigpLHRoaXMuX2RhdGVDb21wb25lbnRNYXAuY2xlYXIoKSx0aGlzLl9zeW5jR3JvdXBJbnB1dFN0YXRlcygpLHRoaXMuX2ZvY3VzZWRGaWVsZE5hbWU9ZT8ubmFtZXx8bnVsbCx0aGlzLl9hdHRlbXB0Rm9jdXNPbk5leHRSZW5kZXI9ITB9KSl9KSksbigoKCk9PnRoaXMuZ3JvdXBEaXNwbGF5KSwoKCk9PnRoaXMuX3N5bmNHcm91cElucHV0U3RhdGVzKCkpKSx0aGlzLm9uKFwic3VibWl0XCIsKGU9PntpZihlLmludmFsaWQubGVuZ3RoPjApe2NvbnN0W3RdPWUuaW52YWxpZDtlLmludmFsaWQuZm9yRWFjaCgoZT0+dGhpcy5faW5wdXRzV2l0aENoYW5nZXMuYWRkKGUpKSksdGhpcy5fZm9jdXNlZEZpZWxkTmFtZT10LHRoaXMuX2F0dGVtcHRGb2N1c09uTmV4dFJlbmRlcj0hMCx0aGlzLnNjaGVkdWxlUmVuZGVyKCl9fSkpLG4oKCgpPT5bdGhpcy52aWV3TW9kZWwuYWN0aXZlUmVsYXRpb25zaGlwSW5wdXQsdGhpcy5fbGlzdE9ic2VydmVyTm9kZV0pLCgoKT0+dGhpcy5fb25PYnNlcnZlckNoYW5nZSgpKSldKX1sb2FkRGVwZW5kZW5jaWVzKCl7cmV0dXJuIGYoe2Jsb2NrOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtYmxvY2suanNcIiksYnV0dG9uOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtYnV0dG9uLmpzXCIpLGNvbWJvYm94OigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtY29tYm9ib3guanNcIiksXCJjb21ib2JveC1pdGVtXCI6KCk9PmltcG9ydChcIkBlc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1jb21ib2JveC1pdGVtLmpzXCIpLFwiY29tYm9ib3gtaXRlbS1ncm91cFwiOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtY29tYm9ib3gtaXRlbS1ncm91cC5qc1wiKSxpY29uOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtaWNvbi5qc1wiKSxpbnB1dDooKT0+aW1wb3J0KFwiQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLWlucHV0LmpzXCIpLFwiaW5wdXQtZGF0ZS1waWNrZXJcIjooKT0+aW1wb3J0KFwiQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLWlucHV0LWRhdGUtcGlja2VyLmpzXCIpLFwiaW5wdXQtbWVzc2FnZVwiOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtaW5wdXQtbWVzc2FnZS5qc1wiKSxcImlucHV0LW51bWJlclwiOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtaW5wdXQtbnVtYmVyLmpzXCIpLFwiaW5wdXQtdGltZS1waWNrZXJcIjooKT0+aW1wb3J0KFwiQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLWlucHV0LXRpbWUtcGlja2VyLmpzXCIpLFwiaW5wdXQtdGltZS16b25lXCI6KCk9PmltcG9ydChcIkBlc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1pbnB1dC10aW1lLXpvbmUuanNcIiksbGFiZWw6KCk9PmltcG9ydChcIkBlc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1sYWJlbC5qc1wiKSxsaXN0OigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtbGlzdC5qc1wiKSxcImxpc3QtaXRlbVwiOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtbGlzdC1pdGVtLmpzXCIpLGxvYWRlcjooKT0+aW1wb3J0KFwiQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLWxvYWRlci5qc1wiKSxub3RpY2U6KCk9PmltcG9ydChcIkBlc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1ub3RpY2UuanNcIiksXCJyYWRpby1idXR0b25cIjooKT0+aW1wb3J0KFwiQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLXJhZGlvLWJ1dHRvbi5qc1wiKSxcInJhZGlvLWJ1dHRvbi1ncm91cFwiOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtcmFkaW8tYnV0dG9uLWdyb3VwLmpzXCIpLHN3aXRjaDooKT0+aW1wb3J0KFwiQGVzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Rpc3QvY29tcG9uZW50cy9jYWxjaXRlLXN3aXRjaC5qc1wiKSxcInRleHQtYXJlYVwiOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtdGV4dC1hcmVhLmpzXCIpfSl9ZGVzdHJveSgpe3RoaXMuX2xpc3RPYnNlcnZlck5vZGUmJnRoaXMuX2xpc3RPYnNlcnZlci51bm9ic2VydmUodGhpcy5fbGlzdE9ic2VydmVyTm9kZSl9Z2V0IF9yZWxhdGVkUmVjb3Jkc0VuYWJsZWQoKXtjb25zdCBlPXRoaXMucmVsYXRlZFJlY29yZENhbGxiYWNrcztyZXR1cm4hKCFlfHwhKGUuYWRkUmVsYXRlZFJlY29yZHx8ZS5lZGl0UmVsYXRlZFJlY29yZHx8ZS5zaG93QWxsUmVsYXRlZFJlY29yZHMpKX1nZXQgZGlzYWJsZWQoKXtyZXR1cm4gdGhpcy52aWV3TW9kZWwuZGlzYWJsZWR9c2V0IGRpc2FibGVkKGUpe3RoaXMudmlld01vZGVsLmRpc2FibGVkPWV9Z2V0IGZlYXR1cmUoKXtyZXR1cm4gdGhpcy52aWV3TW9kZWwuZmVhdHVyZX1zZXQgZmVhdHVyZShlKXt0aGlzLnZpZXdNb2RlbC5mZWF0dXJlPWV9Z2V0IGZvcm1UZW1wbGF0ZSgpe3JldHVybiB0aGlzLnZpZXdNb2RlbC5mb3JtVGVtcGxhdGV9c2V0IGZvcm1UZW1wbGF0ZShlKXt0aGlzLnZpZXdNb2RlbC5mb3JtVGVtcGxhdGU9ZX1nZXQgbGFiZWwoKXtyZXR1cm4gdGhpcy5tZXNzYWdlcz8ud2lkZ2V0TGFiZWw/P1wiXCJ9c2V0IGxhYmVsKGUpe3RoaXMuX292ZXJyaWRlSWZTb21lKFwibGFiZWxcIixlKX1nZXQgbGF5ZXIoKXtyZXR1cm4gdGhpcy52aWV3TW9kZWwubGF5ZXJ9c2V0IGxheWVyKGUpe3RoaXMudmlld01vZGVsLmxheWVyPWV9Z2V0IG1hcCgpe3JldHVybiB0aGlzLnZpZXdNb2RlbC5tYXB9c2V0IG1hcChlKXt0aGlzLnZpZXdNb2RlbC5tYXA9ZX1nZXQgcmVsYXRlZFJlY29yZENhbGxiYWNrcygpe3JldHVybiB0aGlzLnZpZXdNb2RlbC5yZWxhdGVkUmVjb3JkQ2FsbGJhY2tzfXNldCByZWxhdGVkUmVjb3JkQ2FsbGJhY2tzKGUpe3RoaXMudmlld01vZGVsLnJlbGF0ZWRSZWNvcmRDYWxsYmFja3M9ZX1nZXQgcmVsYXRpb25zaGlwSWQoKXtyZXR1cm4gdGhpcy52aWV3TW9kZWwucmVsYXRpb25zaGlwSWR9c2V0IHJlbGF0aW9uc2hpcElkKGUpe3RoaXMudmlld01vZGVsLnJlbGF0aW9uc2hpcElkPWV9Z2V0IHNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy52aWV3TW9kZWwuc3BhdGlhbFJlZmVyZW5jZX1zZXQgc3BhdGlhbFJlZmVyZW5jZShlKXt0aGlzLnZpZXdNb2RlbC5zcGF0aWFsUmVmZXJlbmNlPWV9Z2V0IHN0cmljdCgpe3JldHVybiB0aGlzLnZpZXdNb2RlbC5zdHJpY3R9c2V0IHN0cmljdChlKXt0aGlzLnZpZXdNb2RlbC5zdHJpY3Q9ZX1nZXQgdGltZVpvbmUoKXtyZXR1cm4gdGhpcy52aWV3TW9kZWwudGltZVpvbmV9c2V0IHRpbWVab25lKGUpe3RoaXMudmlld01vZGVsLnRpbWVab25lPWV9Z2V0IHZpZXcoKXtyZXR1cm4gaSgkLFwidmlld1wiLHtyZXBsYWNlbWVudDpcIlVzZSBGZWF0dXJlRm9ybS5tYXAgaW5zdGVhZC5cIix2ZXJzaW9uOlwiNC4yN1wifSksdGhpcy52aWV3TW9kZWwudmlld31zZXQgdmlldyhlKXtpKCQsXCJ2aWV3XCIse3JlcGxhY2VtZW50OlwiVXNlIEZlYXR1cmVGb3JtLm1hcCBpbnN0ZWFkLlwiLHZlcnNpb246XCI0LjI3XCJ9KSx0aGlzLnZpZXdNb2RlbC52aWV3PWV9Z2V0VmFsdWVzKCl7cmV0dXJuIHRoaXMudmlld01vZGVsLmdldFZhbHVlcygpfXN1Ym1pdCgpe3JldHVybiB0aGlzLnZpZXdNb2RlbC5zdWJtaXQoKX1yZW5kZXIoKXtjb25zdHtzdGF0ZTplfT10aGlzLnZpZXdNb2RlbDtyZXR1cm4gaihcImRpdlwiLHtjbGFzczp0aGlzLmNsYXNzZXMocC5iYXNlLHgud2lkZ2V0LHgucGFuZWwpfSxcInJlYWR5XCI9PT1lP3RoaXMuX3JlbmRlckZvcm0oKTpudWxsKX1fcmVuZGVyRm9ybSgpe3JldHVybiBqKFwiZm9ybVwiLHtjbGFzczpwLmZvcm0sbm92YWxpZGF0ZTohMCxvbmtleWRvd246dGhpcy5fb25Gb3JtS2V5RG93bixvbnN1Ym1pdDp0aGlzLl9vbkZvcm1TdWJtaXR9LHRoaXMuX3JlbmRlckhlYWRlcigpLHRoaXMuX3JlbmRlckNvbnRlbnQoKSl9X3JlbmRlckhlYWRlcigpe2NvbnN0IGU9dGhpcy52aWV3TW9kZWw7aWYoIWUuZm9ybUhlYWRlclZpc2libGUpcmV0dXJuO2NvbnN0IHQ9bnVsbCE9ZS5mb3JtVGl0bGUmJmooVix7a2V5OlwidGl0bGVcIixsZXZlbDp0aGlzLmhlYWRpbmdMZXZlbH0sZS5mb3JtVGl0bGUpLGk9bnVsbCE9ZS5mb3JtRGVzY3JpcHRpb24mJmooXCJwXCIse2NsYXNzOnAuZGVzY3JpcHRpb24sa2V5OlwiZGVzY3JpcHRpb25cIn0sZS5mb3JtRGVzY3JpcHRpb24pO3JldHVybiBqKFwiZGl2XCIse2NsYXNzOnAuZm9ybUhlYWRlcn0sdCxpKX1fcmVuZGVyQ29udGVudCgpe2NvbnN0e3ZpZXdNb2RlbDplfT10aGlzO3JldHVybiBlLmFjdGl2ZVJlbGF0aW9uc2hpcElucHV0P3RoaXMuX3JlbmRlckFjdGl2ZVJlbGF0aW9uc2hpcElucHV0KGUuYWN0aXZlUmVsYXRpb25zaGlwSW5wdXQpOmUuaW5wdXRzLmZpbHRlcih0KS5maWx0ZXIoKGU9PmUudmlzaWJsZSkpLm1hcCgoKGUsdCk9PmMoZSk/dGhpcy5fcmVuZGVyR3JvdXAoZSx0KTp1KGUpP3RoaXMuX3JlbmRlckxhYmVsZWRGaWVsZChlKTptKGUpP3RoaXMuX3JlbmRlclJlbGF0aW9uc2hpcElucHV0KGUpOnZvaWQgMCkpfV9yZW5kZXJBY3RpdmVSZWxhdGlvbnNoaXBJbnB1dChlKXtyZXR1cm4gdGhpcy5fcmVuZGVyUmVsYXRpb25zaGlwSW5wdXQoZSl9X3JlbmRlckRlc2NyaXB0aW9uT3JFbXB0eShlLHQpe3JldHVybiBudWxsPT1lP251bGw6aihcImRpdlwiLHtjbGFzczp0aGlzLmNsYXNzZXMocC5kZXNjcmlwdGlvbiksaWQ6dH0sZSl9X3JlbmRlckdyb3VwKGUsdCl7Y29uc3R7ZGlzYWJsZWQ6aSxmb3JtVGVtcGxhdGU6byxoZWFkaW5nTGV2ZWw6bn09dGhpcyx7ZGVzY3JpcHRpb246YSxpbnB1dHM6cyxsYWJlbDpyLG9wZW46bH09ZSxkPXMuZmlsdGVyKChlPT5lLnZpc2libGUpKSxjPXRoaXMudmlld01vZGVsLmZpbmRGaWVsZCh0aGlzLl9mb2N1c2VkRmllbGROYW1lKSxoPWM/Lmdyb3VwPT09ZSx2PWAke3RoaXMuaWR9X2dyb3VwXyR7dH1gLF89XCJzZXF1ZW50aWFsXCI9PT10aGlzLmdyb3VwRGlzcGxheTtyZXR1cm4gaihcImNhbGNpdGUtYmxvY2tcIix7Y2xhc3M6dGhpcy5jbGFzc2VzKHAuZ3JvdXAsXz9wLmdyb3VwU2VxdWVudGlhbDpudWxsLGg/cC5ncm91cEFjdGl2ZTpudWxsLGk/cC5pbnB1dERpc2FibGVkOm51bGwpLGNvbGxhcHNpYmxlOiEwLFwiZGF0YS1ncm91cFwiOmUsZGVzY3JpcHRpb246YXx8dm9pZCAwLGRpc2FibGVkOmksaGVhZGluZzpgJHtyfWAsaGVhZGluZ0xldmVsOm8/LnRpdGxlP04obik6bixpZDp2LGtleTp2LG9wZW46bCxvbkNhbGNpdGVCbG9ja1RvZ2dsZTooe3RhcmdldDp0fSk9PnRoaXMuX29uR3JvdXBUb2dnbGUodCxlKX0sZC5tYXAoKGU9PnUoZSk/dGhpcy5fcmVuZGVyTGFiZWxlZEZpZWxkKGUpOm0oZSk/dGhpcy5fcmVuZGVyUmVsYXRpb25zaGlwSW5wdXQoZSk6dm9pZCAwKSkpfV9nZXRGb2N1c2FibGVJbnB1dChlLHQpe2NvbnN0IGk9dGhpcy52aWV3TW9kZWwuYWxsRmllbGRJbnB1dHMsbz1cImZvcndhcmRcIj09PWU/aTppLnNsaWNlKCkucmV2ZXJzZSgpO2xldCBuO2lmKCF0fHxtKHQpKW49MDtlbHNlIGlmKGModCkpe2NvbnN0IGU9dC5pbnB1dHMuZmluZCh1KTtuPWU/by5pbmRleE9mKGUpOjB9ZWxzZXtsZXQgaTtpZihoKHQpJiYhdC5ncm91cC5vcGVuKXtjb25zdCBvPXQuZ3JvdXAuaW5wdXRzLmZpbHRlcih1KTtpPVwiZm9yd2FyZFwiPT09ZT9vW28ubGVuZ3RoLTFdOm9bMF19ZWxzZSBpPXQ7bj1vLmluZGV4T2YoaSkrMX1mb3IobGV0IGE9bjthPG8ubGVuZ3RoO2ErKyl7Y29uc3QgZT1vW2FdO2lmKGUudmlzaWJsZSYmdShlKSlyZXR1cm4gZX1yZXR1cm4gbnVsbH1fcmVuZGVyTGFiZWxlZEZpZWxkKGUpe2NvbnN0e2RhdGFUeXBlOnQsZmVhdHVyZTppLGxhYmVsOm8sbGF5ZXI6bixyZXF1aXJlZDphfT1lLHM9e1wiYXJpYS1sYWJlbFwiOmE/RSh0aGlzLm1lc3NhZ2VzLnJlcXVpcmVkRmllbGRMYWJlbCx7bmFtZTpvfSk6byxjbGFzczpwLmxhYmVsLGtleTpgJHtuLmlkfS0ke2kudWlkfS0ke2UubmFtZX1gfSxyPVtqKFwiZGl2XCIse2NsYXNzOnAubGFiZWxUZXh0Q29udGVudCxrZXk6XCJsYWJlbFRleHRDb250YWluZXJcIn0sbyxhP2ooXCJzcGFuXCIse1wiYXJpYS1oaWRkZW5cIjpcInRydWVcIix0aXRsZTp0aGlzLm1lc3NhZ2VzQ29tbW9uLnJlcXVpcmVkfSxcIipcIik6dm9pZCAwKSxcInVuc3VwcG9ydGVkXCIhPT10P3RoaXMuX3JlbmRlckZpZWxkSW5wdXQoZSk6dGhpcy5fcmVuZGVyUmVhZE9ubHlDb21wb25lbnQoZSksdGhpcy5fcmVuZGVyQXV4aWxpYXJ5VGV4dChlKV07cmV0dXJuXCJkYXRlXCI9PT10JiZcImNvZGVkLXZhbHVlXCIhPT1lLmRvbWFpbj8udHlwZT9qKFwibGFiZWxcIix7Li4uc30scik6aihcImNhbGNpdGUtbGFiZWxcIix7Li4uc30scil9X3JlbmRlckZpZWxkSW5wdXQoZSl7Y29uc3R7ZGF0YVR5cGU6dCxkb21haW46aSxpbnB1dFR5cGU6byxuYW1lOm59PWUsYT10aGlzLmdldENvbW1vbklucHV0UHJvcHMoZSk7aWYoXCJjb2RlZC12YWx1ZVwiPT09aT8udHlwZSl7Y29uc3QgdD10aGlzLnZpZXdNb2RlbC5nZXRGaWVsZFZhbHVlT3B0aW9uc0ZvckZpZWxkKG4sdGhpcy5tZXNzYWdlcy5lbXB0eSk7cmV0dXJuXCJzd2l0Y2hcIiE9PW98fGUuaGFzSW52YWxpZFN3aXRjaFZhbHVlP1wicmFkaW8tYnV0dG9uc1wiPT09bz90aGlzLl9yZW5kZXJSYWRpb0J1dHRvbkNvbXBvbmVudHMoZSx0LmZsYXQoKSxhKTp0aGlzLl9yZW5kZXJDb21ib0JveENvbXBvbmVudChlLHQsYSk6dGhpcy5fcmVuZGVyU3dpdGNoQ29tcG9uZW50KGUsYSl9cmV0dXJuXCJkYXRldGltZS1waWNrZXJcIj09PW98fFwiZGF0ZVwiPT09dD90aGlzLl9yZW5kZXJEYXRlQ29tcG9uZW50cyhlLGEpOlwibnVtYmVyXCI9PT10P3RoaXMuX3JlbmRlck51bWJlckNvbXBvbmVudChlLGEpOnRoaXMuX3JlbmRlclN0cmluZ0NvbXBvbmVudChlLGEpfV9yZW5kZXJTdHJpbmdDb21wb25lbnQoZSx0KXtyZXR1cm5cInRleHQtYXJlYVwiPT09ZS5pbnB1dFR5cGU/dC5yZWFkT25seT9qKFwiY2FsY2l0ZS1pbnB1dFwiLHsuLi50LGxvYWRpbmc6ZS51cGRhdGluZyx0eXBlOlwidGV4dGFyZWFcIixvbkNhbGNpdGVJbnB1dElucHV0OmU9PnRoaXMuX3NhdmVWYWx1ZUZyb21Db21wb25lbnQoZS50YXJnZXQpfSk6aihcImNhbGNpdGUtdGV4dC1hcmVhXCIsey4uLnQscmVzaXplOlwidmVydGljYWxcIixvbkNhbGNpdGVUZXh0QXJlYUlucHV0OmU9PnRoaXMuX3NhdmVWYWx1ZUZyb21Db21wb25lbnQoZS50YXJnZXQpfSk6aihcImNhbGNpdGUtaW5wdXRcIix7Li4udCxsb2FkaW5nOmUudXBkYXRpbmcsdHlwZTpcInRleHRcIixvbkNhbGNpdGVJbnB1dElucHV0OmU9PnRoaXMuX3NhdmVWYWx1ZUZyb21Db21wb25lbnQoZS50YXJnZXQpfSl9X3JlbmRlck51bWJlckNvbXBvbmVudChlLHQpe3JldHVybiBqKFwiY2FsY2l0ZS1pbnB1dC1udW1iZXJcIix7Li4udCxpbnRlZ2VyOmwoZS5maWVsZCksbG9hZGluZzplLnVwZGF0aW5nLHR5cGU6XCJudW1iZXJcIixvbkNhbGNpdGVJbnB1dE51bWJlcklucHV0OmU9PnRoaXMuX3NhdmVWYWx1ZUZyb21Db21wb25lbnQoZS50YXJnZXQpfSl9X3JlbmRlckRhdGVDb21wb25lbnRzKGUsdCl7Y29uc3R7ZmllbGQ6aX09ZTtzd2l0Y2goaS50eXBlKXtjYXNlXCJkYXRlXCI6cmV0dXJuIHRoaXMuX3JlbmRlckRhdGVGaWVsZENvbXBvbmVudHMoZSx0KTtjYXNlXCJkYXRlLW9ubHlcIjpyZXR1cm4gdGhpcy5fcmVuZGVyRGF0ZU9ubHlGaWVsZENvbXBvbmVudChlLHQpO2Nhc2VcInRpbWUtb25seVwiOnJldHVybiB0aGlzLl9yZW5kZXJUaW1lT25seUZpZWxkQ29tcG9uZW50KGUsdCk7Y2FzZVwidGltZXN0YW1wLW9mZnNldFwiOnJldHVybiB0aGlzLl9yZW5kZXJUaW1lc3RhbXBPZmZzZXRGaWVsZENvbXBvbmVudHMoZSx0KTtkZWZhdWx0OnJldHVybiB0aGlzLl9yZW5kZXJSZWFkT25seUNvbXBvbmVudChlLEYoaSx0LnZhbHVlLHt0aW1lWm9uZTp0aGlzLnRpbWVab25lLC4uLncoaSl9KSl9fV9yZW5kZXJEYXRlT25seUZpZWxkQ29tcG9uZW50KGUsdCl7Y29uc3R7cmFuZ2U6aSx2YWxpZDpvLHZhbHVlOm59PWUse2NsYXNzOmEsa2V5OnMscmVhZE9ubHk6cn09dCx7cmF3TWF4OmwscmF3TWluOmR9PWk7cmV0dXJuIGooXCJjYWxjaXRlLWlucHV0LWRhdGUtcGlja2VyXCIse2FmdGVyQ3JlYXRlOnRoaXMuX2FmdGVyRGF0ZUNvbXBvbmVudENyZWF0ZSxhZnRlclVwZGF0ZTp0aGlzLl9hZnRlckRhdGVDb21wb25lbnRDcmVhdGVPclVwZGF0ZSxcImFyaWEtaW52YWxpZFwiOiFvLGNsYXNzOmEsXCJkYXRhLWRhdGUtcGFydFwiOlwiZGF0ZVwiLFwiZGF0YS1maWVsZC1uYW1lXCI6dFtVXSxrZXk6YCR7c30tZGF0ZS1pbnB1dGAsbWF4OnkobCk/bDp2b2lkIDAsbWluOnkoZCk/ZDp2b2lkIDAsbnVtYmVyaW5nU3lzdGVtOlIsb25ibHVyOmU9Pnt0aGlzLl9mb2N1c2VkRmllbGROYW1lPW51bGwsdGhpcy5fc2F2ZVZhbHVlRnJvbURhdGVDb21wb25lbnQoZS50YXJnZXQpfSxvbmZvY3VzOnRoaXMuX29uQ29tcG9uZW50Rm9jdXMsb3ZlcmxheVBvc2l0aW9uaW5nOlwiZml4ZWRcIixyZWFkT25seTpyLHZhbHVlOm51bGwhPW4/YCR7bn1gOnZvaWQgMCxvbkNhbGNpdGVJbnB1dERhdGVQaWNrZXJDaGFuZ2U6ZT0+dGhpcy5fc2F2ZVZhbHVlRnJvbURhdGVDb21wb25lbnQoZS50YXJnZXQpfSl9X3JlbmRlclRpbWVPbmx5RmllbGRDb21wb25lbnQoZSx0KXtjb25zdHt2YWxpZDppLHZhbHVlOm99PWUse2NsYXNzOm4sa2V5OmEscmVhZE9ubHk6c309dDtyZXR1cm4gaihcImNhbGNpdGUtaW5wdXQtdGltZS1waWNrZXJcIix7YWZ0ZXJDcmVhdGU6dGhpcy5fYWZ0ZXJEYXRlQ29tcG9uZW50Q3JlYXRlLGFmdGVyVXBkYXRlOnRoaXMuX2FmdGVyRGF0ZUNvbXBvbmVudENyZWF0ZU9yVXBkYXRlLFwiYXJpYS1pbnZhbGlkXCI6IWksY2xhc3M6bixcImRhdGEtZGF0ZS1wYXJ0XCI6XCJ0aW1lXCIsXCJkYXRhLWZpZWxkLW5hbWVcIjp0W1VdLGtleTpgJHthfS10aW1lLWlucHV0YCxudW1iZXJpbmdTeXN0ZW06UixvbmJsdXI6ZT0+e3RoaXMuX2ZvY3VzZWRGaWVsZE5hbWU9bnVsbCx0aGlzLl9zYXZlVmFsdWVGcm9tRGF0ZUNvbXBvbmVudChlLnRhcmdldCl9LG9uZm9jdXM6dGhpcy5fb25Db21wb25lbnRGb2N1cyxvdmVybGF5UG9zaXRpb25pbmc6XCJmaXhlZFwiLHJlYWRPbmx5OnMsc3RlcDplLnRpbWVTdGVwLHZhbHVlOm51bGwhPW8/YCR7b31gOnZvaWQgMCxvbkNhbGNpdGVJbnB1dFRpbWVQaWNrZXJDaGFuZ2U6ZT0+dGhpcy5fc2F2ZVZhbHVlRnJvbURhdGVDb21wb25lbnQoZS50YXJnZXQpfSl9X3JlbmRlclRpbWVzdGFtcE9mZnNldEZpZWxkQ29tcG9uZW50cyhlLHQpe2NvbnN0e25hbWU6aSxyYW5nZTpvLHZhbGlkOm4sdmFsdWU6YX09ZSx7Y2xhc3M6cyxrZXk6cixyZWFkT25seTpsfT10LHtyYXdNYXg6ZCxyYXdNaW46Y309byx1PXthZnRlckNyZWF0ZTp0aGlzLl9hZnRlckRhdGVDb21wb25lbnRDcmVhdGUsYWZ0ZXJVcGRhdGU6dGhpcy5fYWZ0ZXJEYXRlQ29tcG9uZW50Q3JlYXRlT3JVcGRhdGUsXCJhcmlhLWludmFsaWRcIjohbixudW1iZXJpbmdTeXN0ZW06UixvdmVybGF5UG9zaXRpb25pbmc6XCJmaXhlZFwiLHJlYWRPbmx5OmwsW1VdOmksb25mb2N1czp0aGlzLl9vbkNvbXBvbmVudEZvY3VzfSxtPU8oZCksaD1PKGMpLHY9TyhhKTtyZXR1cm4gaihcImRpdlwiLHtjbGFzczpwLmRhdGVJbnB1dENvbnRhaW5lcixrZXk6YCR7cn0tZGF0ZS10aW1lLWNvbnRhaW5lcmB9LGooXCJjYWxjaXRlLWlucHV0LWRhdGUtcGlja2VyXCIsey4uLnUsY2xhc3M6cyxcImRhdGEtZGF0ZS1wYXJ0XCI6XCJkYXRlXCIsa2V5OmAke3J9LWRhdGUtaW5wdXRgLG1heDptPy5kYXRlPz92b2lkIDAsbWluOmg/LmRhdGU/P3ZvaWQgMCxvbmJsdXI6ZT0+e3RoaXMuX2ZvY3VzZWRGaWVsZE5hbWU9bnVsbCx0aGlzLl9zYXZlVmFsdWVGcm9tRGF0ZUNvbXBvbmVudChlLnRhcmdldCl9LHZhbHVlOnYuZGF0ZT8/dm9pZCAwLG9uQ2FsY2l0ZUlucHV0RGF0ZVBpY2tlckNoYW5nZTplPT50aGlzLl9zYXZlVmFsdWVGcm9tRGF0ZUNvbXBvbmVudChlLnRhcmdldCl9KSxqKFwiY2FsY2l0ZS1pbnB1dC10aW1lLXBpY2tlclwiLHsuLi51LGNsYXNzOnMsXCJkYXRhLWRhdGUtcGFydFwiOlwidGltZVwiLGtleTpgJHtyfS10aW1lLWlucHV0YCxvbmJsdXI6ZT0+e3RoaXMuX2ZvY3VzZWRGaWVsZE5hbWU9bnVsbCx0aGlzLl9zYXZlVmFsdWVGcm9tRGF0ZUNvbXBvbmVudChlLnRhcmdldCl9LHN0ZXA6ZS50aW1lU3RlcCx2YWx1ZTp2LnRpbWU/P3ZvaWQgMCxvbkNhbGNpdGVJbnB1dFRpbWVQaWNrZXJDaGFuZ2U6ZT0+dGhpcy5fc2F2ZVZhbHVlRnJvbURhdGVDb21wb25lbnQoZS50YXJnZXQpfSksZS5pbmNsdWRlVGltZU9mZnNldD9qKFwiY2FsY2l0ZS1pbnB1dC10aW1lLXpvbmVcIix7Li4udSxjbGFzczpzLFwiZGF0YS1kYXRlLXBhcnRcIjpcInRpbWVab25lXCIsZGlzYWJsZWQ6bCxrZXk6YCR7cn0tdGltZXpvbmUtaW5wdXRgLG9uYmx1cjplPT57dGhpcy5fZm9jdXNlZEZpZWxkTmFtZT1udWxsLHRoaXMuX3NhdmVWYWx1ZUZyb21EYXRlQ29tcG9uZW50KGUudGFyZ2V0KX0sdmFsdWU6di50aW1lWm9uZU9mZnNldD8/XCIwXCIsb25DYWxjaXRlSW5wdXRUaW1lWm9uZUNoYW5nZTplPT50aGlzLl9zYXZlVmFsdWVGcm9tRGF0ZUNvbXBvbmVudChlLnRhcmdldCl9KTpudWxsKX1fcmVuZGVyRGF0ZUZpZWxkQ29tcG9uZW50cyhlLHQpe2NvbnN0e2luY2x1ZGVUaW1lOmksbmFtZTpvLHZhbGlkOm4sdmFsdWU6YX09ZSx7Y2xhc3M6cyxrZXk6cixtYXg6bCxtaW46ZCxyZWFkT25seTpjfT10LHt0aW1lWm9uZTp1fT10aGlzLG09e2FmdGVyQ3JlYXRlOnRoaXMuX2FmdGVyRGF0ZUNvbXBvbmVudENyZWF0ZSxhZnRlclVwZGF0ZTp0aGlzLl9hZnRlckRhdGVDb21wb25lbnRDcmVhdGVPclVwZGF0ZSxcImFyaWEtaW52YWxpZFwiOiFuLG51bWJlcmluZ1N5c3RlbTpSLG92ZXJsYXlQb3NpdGlvbmluZzpcImZpeGVkXCIscmVhZE9ubHk6YyxbVV06byxvbmZvY3VzOnRoaXMuX29uQ29tcG9uZW50Rm9jdXN9LGg9ayhhLHUpLHY9ayhsLHUpLF89ayhkLHUpO3JldHVybiBqKFwiZGl2XCIse2NsYXNzOnAuZGF0ZUlucHV0Q29udGFpbmVyLGtleTpgJHtyfS1kYXRlLXRpbWUtY29udGFpbmVyYH0saihcImNhbGNpdGUtaW5wdXQtZGF0ZS1waWNrZXJcIix7Li4ubSxjbGFzczpzLFwiZGF0YS1kYXRlLXBhcnRcIjpcImRhdGVcIixrZXk6YCR7cn0tZGF0ZS1pbnB1dGAsbWF4OnY/LmRhdGU/P3ZvaWQgMCxtaW46Xz8uZGF0ZT8/dm9pZCAwLG9uYmx1cjplPT57dGhpcy5fZm9jdXNlZEZpZWxkTmFtZT1udWxsLHRoaXMuX3NhdmVWYWx1ZUZyb21EYXRlQ29tcG9uZW50KGUudGFyZ2V0KX0sdmFsdWU6aC5kYXRlPz92b2lkIDAsb25DYWxjaXRlSW5wdXREYXRlUGlja2VyQ2hhbmdlOmU9PnRoaXMuX3NhdmVWYWx1ZUZyb21EYXRlQ29tcG9uZW50KGUudGFyZ2V0KX0pLGk/aihcImNhbGNpdGUtaW5wdXQtdGltZS1waWNrZXJcIix7Li4ubSxjbGFzczpzLFwiZGF0YS1kYXRlLXBhcnRcIjpcInRpbWVcIixrZXk6YCR7cn0tdGltZS1pbnB1dGAsb25ibHVyOmU9Pnt0aGlzLl9mb2N1c2VkRmllbGROYW1lPW51bGwsdGhpcy5fc2F2ZVZhbHVlRnJvbURhdGVDb21wb25lbnQoZS50YXJnZXQpfSxzdGVwOjEsdmFsdWU6aC50aW1lPz92b2lkIDAsb25DYWxjaXRlSW5wdXRUaW1lUGlja2VyQ2hhbmdlOmU9PnRoaXMuX3NhdmVWYWx1ZUZyb21EYXRlQ29tcG9uZW50KGUudGFyZ2V0KX0pOm51bGwpfV9yZW5kZXJSZWFkT25seUNvbXBvbmVudChlLHQpe2NvbnN0IGk9dGhpcy5nZXRDb21tb25JbnB1dFByb3BzKGUpO3JldHVybiBqKFwiY2FsY2l0ZS1pbnB1dFwiLHsuLi5pLGNsYXNzOnRoaXMuY2xhc3NlcyhwLmZpZWxkSW5wdXQscC5pbnB1dERpc2FibGVkKSxyZWFkT25seTohMCx0eXBlOlwidGV4dFwiLHZhbHVlOm51bGwhPXQ/YCR7dH1gOmkudmFsdWV9KX1fcmVuZGVyQ29tYm9Cb3hDb21wb25lbnQoZSx0LGkpe2NvbnN0e3ZhbHVlOm8sbmFtZTpufT1lLHttZXNzYWdlczphLG1lc3NhZ2VzVGVtcGxhdGVzOnMsdmlld01vZGVsOnIsX2lucHV0c1dpdGhDaGFuZ2VzOmx9PXRoaXMsZD10Lm1hcCgoZT0+ZS5tYXAoKCh7bmFtZTplLHZhbHVlOnR9KT0+aihcImNhbGNpdGUtY29tYm9ib3gtaXRlbVwiLHtrZXk6YCMke3R9YCxzZWxlY3RlZDpvPT09dCx0ZXh0TGFiZWw6ZSx2YWx1ZTpgJHt0fWB9KSkpKSksW3AsY109ZDt0aGlzLnZpZXdNb2RlbC5maWVsZHNXaXRoSW52YWxpZENvZGVkVmFsdWUuaGFzKGUpJiZjLnVuc2hpZnQoaihcImNhbGNpdGUtY29tYm9ib3gtaXRlbVwiLHtrZXk6XCJpbmNvbXBhdGlibGUtb3B0aW9uXCIscmVhZE9ubHk6ITAsdGV4dExhYmVsOmAke2UudmFsdWV9YCx2YWx1ZTpgJHtlLnZhbHVlfWB9KSk7Y29uc3QgdT1jLmxlbmd0aD4wP1tqKFwiY2FsY2l0ZS1jb21ib2JveC1pdGVtLWdyb3VwXCIse2tleTpcInJlY29tbWVuZGVkXCIsbGFiZWw6YS5yZWNvbW1lbmRlZH0scCksaihcImNhbGNpdGUtY29tYm9ib3gtaXRlbS1ncm91cFwiLHtrZXk6XCJvdGhlclwiLGxhYmVsOnMub3RoZXJ9LGMpXTpwLG09XCJJTlNFUlRcIj09PXIuYXJjYWRlRWRpdFR5cGUsaD1sLmhhcyhuKSx2PW51bGw9PW8mJighbXx8aCk7aWYoZS5zaG93Tm9WYWx1ZU9wdGlvbkVuYWJsZWQpe2NvbnN0IHQ9XCJcIixpPWUuc2hvd05vVmFsdWVMYWJlbHx8YS5lbXB0eTt1LnVuc2hpZnQoaihcImNhbGNpdGUtY29tYm9ib3gtaXRlbVwiLHtrZXk6XCJlbXB0eS1vcHRpb25cIixzZWxlY3RlZDp2LHRleHRMYWJlbDphLmVtcHR5LHZhbHVlOnR9LGkpKX1jb25zdCBfPW0mJmUuc2hvd05vVmFsdWVPcHRpb25FbmFibGVkJiYhaD8oKT0+e306aS5vbmJsdXI7cmV0dXJuIGooXCJjYWxjaXRlLWNvbWJvYm94XCIsey4uLmksYWxsb3dDdXN0b21WYWx1ZXM6ITEsY2xlYXJEaXNhYmxlZDohMCxkaXNhYmxlZDppLnJlYWRPbmx5LG9uYmx1cjpfLG92ZXJsYXlQb3NpdGlvbmluZzpcImZpeGVkXCIsc2VsZWN0aW9uTW9kZTpcInNpbmdsZVwiLG9uQ2FsY2l0ZUNvbWJvYm94Q2hhbmdlOih7dGFyZ2V0OmV9KT0+e3YmJjA9PT1lLnNlbGVjdGVkSXRlbXMubGVuZ3RoP3RoaXMuX2lnbm9yZURlc2VsZWN0aW9uT2ZOb1ZhbHVlT3B0aW9uKGUpOnRoaXMuX3NhdmVWYWx1ZUZyb21Db21wb25lbnQoZSl9fSx1KX1fcmVuZGVyUmFkaW9CdXR0b25Db21wb25lbnRzKGUsdCxpKXtjb25zdHtuYW1lOm8sdmFsdWU6bn09ZSxhPXQubWFwKCgoe25hbWU6ZSx2YWx1ZTp0fSk9PnRoaXMuX3JlbmRlclJhZGlvQnV0dG9uQ29tcG9uZW50KHtrZXk6ZSxsYWJlbDplLG5hbWU6byx2YWx1ZTp0LHNlbGVjdGVkOnQ9PT1uLHByb3BzOml9KSkpO2lmKGUuc2hvd05vVmFsdWVPcHRpb25FbmFibGVkKXtjb25zdCB0PVwiXCIscz1lLnNob3dOb1ZhbHVlTGFiZWx8fHRoaXMubWVzc2FnZXMuZW1wdHkscj1uPT09dHx8bnVsbD09PW47YS51bnNoaWZ0KHRoaXMuX3JlbmRlclJhZGlvQnV0dG9uQ29tcG9uZW50KHtrZXk6XCJlbXB0eS1vcHRpb25cIixsYWJlbDpzLG5hbWU6byx2YWx1ZTp0LHNlbGVjdGVkOnIscHJvcHM6aX0pKX1yZXR1cm4gaihcImNhbGNpdGUtcmFkaW8tYnV0dG9uLWdyb3VwXCIse2FmdGVyQ3JlYXRlOnRoaXMuX2FmdGVyUmFkaW9Hcm91cENyZWF0ZU9yVXBkYXRlLGFmdGVyVXBkYXRlOnRoaXMuX2FmdGVyUmFkaW9Hcm91cENyZWF0ZU9yVXBkYXRlLGNsYXNzOnAuaW5wdXRSYWRpb0dyb3VwLFwiZGF0YS1maWVsZC1uYW1lXCI6aVtVXSxrZXk6YCR7aS5rZXl9LXJhZGlvLWdyb3VwYCxsYXlvdXQ6XCJ2ZXJ0aWNhbFwiLG5hbWU6aS5rZXkscmVxdWlyZWQ6aS5yZXF1aXJlZH0sYSl9X3JlbmRlclN3aXRjaENvbXBvbmVudChlLHQpe2NvbnN0e3ZhbHVlOml9PWUsbz0hIXYoZS5lbGVtZW50LFwic3dpdGNoXCIpJiZpPT09ZS5lbGVtZW50LmlucHV0Lm9uVmFsdWU7cmV0dXJuIGooXCJjYWxjaXRlLXN3aXRjaFwiLHsuLi50LGNoZWNrZWQ6byxjbGFzczpwLmlucHV0U3dpdGNoLGRpc2FibGVkOnQucmVhZE9ubHksb25ibHVyOigpPT57dGhpcy5fZm9jdXNlZEZpZWxkTmFtZT1udWxsfSxvbkNhbGNpdGVTd2l0Y2hDaGFuZ2U6ZT0+dGhpcy5fc2F2ZVZhbHVlRnJvbUNvbXBvbmVudChlLnRhcmdldCl9KX1fcmVuZGVyUmFkaW9CdXR0b25Db21wb25lbnQoe2tleTplLG5hbWU6dCx2YWx1ZTppLHNlbGVjdGVkOm8sbGFiZWw6bixwcm9wczphfSl7cmV0dXJuIGooXCJjYWxjaXRlLWxhYmVsXCIse2NsYXNzOnAuaW5wdXRSYWRpb0xhYmVsLGtleTplLGxheW91dDpcImlubGluZVwifSxqKFwiY2FsY2l0ZS1yYWRpby1idXR0b25cIix7Li4uYSxhZnRlckNyZWF0ZTp2b2lkIDAsYWZ0ZXJVcGRhdGU6dm9pZCAwLGNoZWNrZWQ6byxjbGFzczpwLmlucHV0UmFkaW8sZGlzYWJsZWQ6YS5yZWFkT25seSxuYW1lOnQsb25ibHVyOigpPT57dGhpcy5fZm9jdXNlZEZpZWxkTmFtZT1udWxsfSx2YWx1ZTppLG9uQ2FsY2l0ZVJhZGlvQnV0dG9uQ2hhbmdlOih7dGFyZ2V0OmV9KT0+e2UuY2hlY2tlZCYmdGhpcy5fc2F2ZVZhbHVlRnJvbUNvbXBvbmVudChlKX19KSxuKX1fcmVuZGVyQXV4aWxpYXJ5VGV4dChlKXtjb25zdCB0PWUubmFtZSxpPXRoaXMuX2lucHV0c1dpdGhDaGFuZ2VzLmhhcyh0KSYmIWUudmFsaWQ/XyhlLHRoaXMubWVzc2FnZXMsdGhpcy50aW1lWm9uZSk6bnVsbCE9dGhpcy52aWV3TW9kZWwuY29udGluZ2VuY3lDb25zdHJhaW50VmlvbGF0aW9ucy5nZXQodCk/dGhpcy5tZXNzYWdlcy52YWxpZGF0aW9uRXJyb3JzLnZhbHVlc0luY29tcGF0aWJsZTpudWxsIT1lLnZhbHVlRXhwcmVzc2lvbkV4ZWN1dG9yJiZlLnZhbHVlRXhwcmVzc2lvbkV4ZWN1dG9yLnN0YWxlP3RoaXMubWVzc2FnZXMudmFsdWVFeHByZXNzaW9uRXJyb3I6bnVsbDtyZXR1cm4gbnVsbCE9aT9qKFwiY2FsY2l0ZS1pbnB1dC1tZXNzYWdlXCIse2ljb246ITAsc3RhdHVzOlwiaW52YWxpZFwifSxpKTp0aGlzLl9yZW5kZXJEZXNjcmlwdGlvbk9yRW1wdHkoZS5kZXNjcmlwdGlvbil9X3JlbmRlclNob3dBbGxSZWxhdGVkUmVjb3Jkc0xpc3RJdGVtKGUpe2NvbnN0e2ZlYXR1cmVDb3VudDp0LHJlbGF0aW9uc2hpcElkOmksc2hvd0FsbEFjdGlvblZpc2libGU6b309ZSx7cmVsYXRlZFJlY29yZENhbGxiYWNrczpufT10aGlzO2lmKCFvfHwhbj8uc2hvd0FsbFJlbGF0ZWRSZWNvcmRzKXJldHVybjtjb25zdCBhPXRoaXMubWVzc2FnZXM7cmV0dXJuIGooXCJjYWxjaXRlLWxpc3QtaXRlbVwiLHtkZXNjcmlwdGlvbjpFKGEudG90YWxDb3VudCx7Y291bnQ6dH0pLGxhYmVsOmEuc2hvd0FsbCx2YWx1ZTohMCxvbkNhbGNpdGVMaXN0SXRlbVNlbGVjdDooKT0+dGhpcy5fb25TaG93QWxsUmVsYXRlZFJlY29yZHNDbGljayhpKX0saihcImNhbGNpdGUtaWNvblwiLHtpY29uOlwibGlzdFwiLHNjYWxlOlwic1wiLHNsb3Q6XCJjb250ZW50LWVuZFwifSkpfV9yZW5kZXJBZGRSZWxhdGVkUmVjb3JkQnV0dG9uKGUpe2NvbnN0e2NhbkFkZFJlbGF0ZWRGZWF0dXJlOnQscmVsYXRpb25zaGlwSWQ6aSxyZWxhdGVkTGF5ZXI6b309ZSx7bWVzc2FnZXM6bixyZWxhdGVkUmVjb3JkQ2FsbGJhY2tzOmF9PXRoaXM7aWYodCYmYT8uYWRkUmVsYXRlZFJlY29yZCYmbylyZXR1cm4gaihcImNhbGNpdGUtYnV0dG9uXCIse2FsaWdubWVudDpcImNlbnRlclwiLGFwcGVhcmFuY2U6XCJvdXRsaW5lLWZpbGxcIixjbGFzczpwLmNlbnRlcmVkQnV0dG9uLGRpc2FibGVkOmUudXBkYXRpbmd8fCFlLm9yaWdpbkhhc1ZhbGlkS2V5LGljb25TdGFydDpcInBsdXNcIixrZXk6YCR7aX0tYWRkLWJ1dHRvbmAsb25jbGljazooKT0+dGhpcy5fb25BZGRSZWxhdGVkUmVjb3Jkc0NsaWNrKGksbykscm91bmQ6ITAsc2NhbGU6XCJzXCIsd2lkdGg6XCJoYWxmXCJ9LGUucmVsYXRlZExheWVySXNUYWJsZT9uLmFkZFJlY29yZDpuLmFkZEZlYXR1cmUpfV9yZW5kZXJSZWxhdGVkUmVjb3JkTGlzdEl0ZW0oZSx0KXtjb25zdHtmZWF0dXJlOmksZGVzY3JpcHRpb246byx0aXRsZTpufT1lLHtmZWF0dXJlOmEscmVsYXRlZFJlY29yZENhbGxiYWNrczpzfT10aGlzLHtoaWdobGlnaHRIZWxwZXI6cn09dGhpcy52aWV3TW9kZWwsbD0oKT0+e3I/LnJlbW92ZUFsbCgpLHM/LmVkaXRSZWxhdGVkUmVjb3JkJiZhJiZzLmVkaXRSZWxhdGVkUmVjb3JkKHtwYXJlbnRGZWF0dXJlOmEscmVsYXRpb25zaGlwSWQ6dCxyZWxhdGVkRmVhdHVyZTppfSl9LGQ9cj8oKT0+ci5hZGQoaSk6dm9pZCAwLHA9cj8oKT0+ci5yZW1vdmUoaSk6dm9pZCAwO3JldHVybiBqKFwiY2FsY2l0ZS1saXN0LWl0ZW1cIix7YmluZDp0aGlzLGRlc2NyaXB0aW9uOm8sa2V5OmAke3R9LSR7aS51aWR9YCxsYWJlbDpuLG9uY2xpY2s6bCxvbm1vdXNlZW50ZXI6ZCxvbm1vdXNlbGVhdmU6cCx2YWx1ZTpufSxqKFwiY2FsY2l0ZS1pY29uXCIse2ljb246ZyhpKSxzY2FsZTpcIm1cIixzbG90OlwiY29udGVudC1zdGFydFwifSksaihcImNhbGNpdGUtaWNvblwiLHtpY29uOlwiY2hldnJvbi1yaWdodFwiLHNjYWxlOlwic1wiLHNsb3Q6XCJjb250ZW50LWVuZFwifSkpfV9yZW5kZXJSZWxhdGlvbnNoaXBJbnB1dChlKXtpZighdGhpcy5fcmVsYXRlZFJlY29yZHNFbmFibGVkfHwhZS5lZGl0YWJsZSlyZXR1cm47Y29uc3R7ZmVhdHVyZUNvdW50OnQscmVsYXRpb25zaGlwSWQ6aSxzaG93QWxsRW5hYmxlZDpvfT1lLG49bz9udWxsOnRoaXMuX3JlbmRlckRlc2NyaXB0aW9uT3JFbXB0eShlLmRlc2NyaXB0aW9uKSxhPXQ+MD90aGlzLl9yZW5kZXJSZWxhdGVkUmVjb3Jkc0xpc3QoZSk6ZS5sb2FkZWQ/ZS5vcmlnaW5IYXNWYWxpZEtleT90aGlzLl9yZW5kZXJOb1JlbGF0ZWRSZWNvcmRzTm90aWNlKCk6dGhpcy5fcmVuZGVyTm9WYWxpZE9yaWdpbktleU5vdGljZShlKTp2b2lkIDA7cmV0dXJuIGooXCJjYWxjaXRlLWxhYmVsXCIse2NsYXNzOnRoaXMuY2xhc3NlcyhwLmxhYmVsLHAucmVsYXRlZFJlY29yZHNMYWJlbCksa2V5OmByZWxhdGlvbnNoaXAtJHtpfS1jb250YWluZXJgfSxqKFwiZGl2XCIsbnVsbCx0aGlzLl9yZW5kZXJSZWxhdGVkUmVjb3Jkc0hlYWRlckNvbnRhaW5lcihlKSxuLGEpLHRoaXMuX3JlbmRlckFkZFJlbGF0ZWRSZWNvcmRCdXR0b24oZSkpfV9yZW5kZXJSZWxhdGVkUmVjb3Jkc0hlYWRlckNvbnRhaW5lcihlKXtjb25zdCB0PWUudXBkYXRpbmd8fCFlLmxvYWRlZDtyZXR1cm4gaihcImRpdlwiLHtjbGFzczpwLnJlbGF0ZWRSZWNvcmRzSGVhZGVyLGtleTpgcmVsYXRpb25zaGlwLSR7ZS5yZWxhdGlvbnNoaXBJZH0taGVhZGVyYH0saihcInNwYW5cIixudWxsLGUubGFiZWwpLHQ/aihcImNhbGNpdGUtbG9hZGVyXCIse2lubGluZTohMCxrZXk6XCJsb2FkZXJcIixsYWJlbDp0aGlzLm1lc3NhZ2VzQ29tbW9uPy5sb2FkaW5nLHNjYWxlOlwic1wiLHR5cGU6XCJpbmRldGVybWluYXRlXCJ9KTp2b2lkIDApfV9yZW5kZXJSZWxhdGVkUmVjb3Jkc0xpc3QoZSl7Y29uc3R7cmVsYXRpb25zaGlwSWQ6dH09ZTtyZXR1cm4gaihcImNhbGNpdGUtbGlzdFwiLHtjbGFzczpwLnJlbGF0ZWRSZWNvcmRzTGlzdH0sZS5yZWxhdGVkRmVhdHVyZUluZm9zLm1hcCgoZT0+dGhpcy5fcmVuZGVyUmVsYXRlZFJlY29yZExpc3RJdGVtKGUsdCkpKSx0aGlzLl9yZW5kZXJTaG93QWxsUmVsYXRlZFJlY29yZHNMaXN0SXRlbShlKSx0aGlzLl9yZW5kZXJPYnNlcnZlck5vZGUoKSl9X3JlbmRlck5vVmFsaWRPcmlnaW5LZXlOb3RpY2UoZSl7Y29uc3R7bWVzc2FnZXM6dH09dGhpcyxpPWUucmVsYXRlZExheWVySXNUYWJsZT90Lm5vT3JpZ2luS2V5UmVjb3JkOnQubm9PcmlnaW5LZXlGZWF0dXJlLG89ZS5yZWxhdGlvbnNoaXA/LmtleUZpZWxkLG49dGhpcy52aWV3TW9kZWwuZmluZEZpZWxkKG8pLGE9ZS5sYXllcj8uZmllbGRzSW5kZXguZ2V0KG8pLHM9bj8ubGFiZWx8fGE/LmFsaWFzfHxvLHI9RShpLHtyZWxhdGVkTGF5ZXJOYW1lOmUucmVsYXRlZExheWVyPy50aXRsZSxvcmlnaW5LZXlGaWVsZDpzfSk7cmV0dXJuIGooXCJjYWxjaXRlLW5vdGljZVwiLHtpY29uOlwiaW5mb3JtYXRpb25cIixraW5kOlwiYnJhbmRcIixvcGVuOiEwLHNjYWxlOlwic1wiLHdpZHRoOlwiZnVsbFwifSxqKFwiZGl2XCIse3Nsb3Q6XCJtZXNzYWdlXCJ9LHIpKX1fcmVuZGVyTm9SZWxhdGVkUmVjb3Jkc05vdGljZSgpe3JldHVybiBqKFwiY2FsY2l0ZS1ub3RpY2VcIix7aWNvbjpcImluZm9ybWF0aW9uXCIsa2luZDpcImJyYW5kXCIsb3BlbjohMCxzY2FsZTpcInNcIix3aWR0aDpcImZ1bGxcIn0saihcImRpdlwiLHtzbG90OlwibWVzc2FnZVwifSx0aGlzLm1lc3NhZ2VzRmVhdHVyZS5ub1JlbGF0ZWRGZWF0dXJlcykpfV9yZW5kZXJPYnNlcnZlck5vZGUoKXtpZih0aGlzLnZpZXdNb2RlbC5hY3RpdmVSZWxhdGlvbnNoaXBJbnB1dD8uc2hvd0FsbEVuYWJsZWQpcmV0dXJuIGooXCJkaXZcIix7YWZ0ZXJDcmVhdGU6dGhpcy5fYWZ0ZXJMaXN0T2JzZXJ2ZXJDcmVhdGVkLGFmdGVyUmVtb3ZlZDp0aGlzLl9hZnRlckxpc3RPYnNlcnZlclJlbW92ZWQsYmluZDp0aGlzLGNsYXNzOnAubGlzdE9ic2VydmVyLGtleTpcImZlYXR1cmUtb2JzZXJ2ZXJcIn0pfWdldENvbW1vbklucHV0UHJvcHMoZSl7Y29uc3R7ZGlzYWJsZWQ6dH09dGhpcyx7ZWRpdGFibGU6aSxoaW50Om8sbGFiZWw6bixtYXhMZW5ndGg6YSxtaW5MZW5ndGg6cyxuYW1lOnIscmFuZ2U6e21heDpsLG1pbjpkfSxyZXF1aXJlZDpjLHZhbGlkOnUsdmFsdWU6bX09ZSxoPXRoaXMuX2lucHV0c1dpdGhDaGFuZ2VzLmhhcyhyKSx2PSFpfHx0O3JldHVybnthZnRlckNyZWF0ZTp0aGlzLl9hZnRlckNvbXBvbmVudENyZWF0ZSxhZnRlclVwZGF0ZTp0aGlzLl9hZnRlckNvbXBvbmVudENyZWF0ZU9yVXBkYXRlLFwiYXJpYS1pbnZhbGlkXCI6dT9cImZhbHNlXCI6XCJ0cnVlXCIsY2xhc3M6dGhpcy5jbGFzc2VzKHAuZmllbGRJbnB1dCx2P3AuaW5wdXREaXNhYmxlZDpudWxsLGgmJiF1P3AuaW5wdXRJbnZhbGlkOm51bGwpLGtleTpyLGxhYmVsOm4sbWF4Om51bGwhPWw/bDp2b2lkIDAsbWluOm51bGwhPWQ/ZDp2b2lkIDAsbWF4TGVuZ3RoOmE+LTE/YTp2b2lkIDAsbWluTGVuZ3RoOnM+LTE/czp2b2lkIDAscGxhY2Vob2xkZXI6bz8/dm9pZCAwLHJlYWRPbmx5OnYscmVxdWlyZWQ6Yyx2YWx1ZTpudWxsPT1tP1wiXCI6YCR7bX1gLG9uYmx1cjp0aGlzLl9vbkNvbXBvbmVudEJsdXIsb25mb2N1czp0aGlzLl9vbkNvbXBvbmVudEZvY3VzLG9ua2V5ZG93bjp0aGlzLl9vbkNvbXBvbmVudEtleURvd24sW1VdOnJ9fV9nZXRGaWVsZElucHV0RnJvbUhUTUxFbGVtZW50KGUpe3JldHVybiB0aGlzLnZpZXdNb2RlbC5maW5kRmllbGQoZS5nZXRBdHRyaWJ1dGUoVSkpfV9hZnRlckRhdGVDb21wb25lbnRDcmVhdGUoZSl7Y29uc3QgdD10aGlzLl9nZXRGaWVsZElucHV0RnJvbUhUTUxFbGVtZW50KGUpLGk9ZS5kYXRhc2V0LmRhdGVQYXJ0LG89dGhpcy5fZGF0ZUNvbXBvbmVudE1hcC5nZXQodC5uYW1lKTtpZihcInZhbHVlQXNEYXRlXCJpbiBlJiZudWxsIT1lLnZhbHVlKXtjb25zdCB0PWUudmFsdWUsaT1uZXcgUmVzaXplT2JzZXJ2ZXIoKCgpPT57ZS52YWx1ZT12b2lkIDAsZS52YWx1ZT10LGkudW5vYnNlcnZlKGUpfSkpO2kub2JzZXJ2ZShlKX1pZihudWxsIT1vKXN3aXRjaChpKXtjYXNlXCJkYXRlXCI6by5kYXRlPWU7YnJlYWs7Y2FzZVwidGltZVwiOm8udGltZT1lO2JyZWFrO2Nhc2VcInRpbWVab25lXCI6by50aW1lWm9uZT1lfWVsc2UgdGhpcy5fZGF0ZUNvbXBvbmVudE1hcC5zZXQodC5uYW1lLHtbaV06ZX0pO3RoaXMuX2FmdGVyRGF0ZUNvbXBvbmVudENyZWF0ZU9yVXBkYXRlKGUpfV9hZnRlckRhdGVDb21wb25lbnRDcmVhdGVPclVwZGF0ZShlKXt0aGlzLl9hZnRlckNvbXBvbmVudENyZWF0ZU9yVXBkYXRlKGUpfV9hZnRlckNvbXBvbmVudENyZWF0ZShlKXtjb25zdCB0PXRoaXMuX2dldEZpZWxkSW5wdXRGcm9tSFRNTEVsZW1lbnQoZSk7Yih0KSYmbnVsbCE9ZS52YWx1ZSYmXCJzZXROdW1iZXJWYWx1ZVwiaW4gZSYmZS5zZXROdW1iZXJWYWx1ZSh7Y29tbWl0dGluZzohMSx2YWx1ZTplLnZhbHVlLG9yaWdpbjpcImRpcmVjdFwifSksdGhpcy5fYWZ0ZXJDb21wb25lbnRDcmVhdGVPclVwZGF0ZShlKX1fYWZ0ZXJSYWRpb0dyb3VwQ3JlYXRlT3JVcGRhdGUoZSl7Y29uc3QgdD1lLnNlbGVjdGVkSXRlbSxpPWUucXVlcnlTZWxlY3RvcihcImNhbGNpdGUtcmFkaW8tYnV0dG9uXCIpLG89dHx8aTtvJiZ0aGlzLl9hZnRlckNvbXBvbmVudENyZWF0ZU9yVXBkYXRlKG8pfV9hZnRlckNvbXBvbmVudENyZWF0ZU9yVXBkYXRlKGUpe2NvbnN0e3ZpZXdNb2RlbDp0fT10aGlzLGk9dGhpcy5fZ2V0RmllbGRJbnB1dEZyb21IVE1MRWxlbWVudChlKSxvPXQuZmluZEZpZWxkKHRoaXMuX2ZvY3VzZWRGaWVsZE5hbWUpO3RoaXMuX2F0dGVtcHRGb2N1c09uTmV4dFJlbmRlciYmbz09PWkmJih0aGlzLl9hdHRlbXB0Rm9jdXNPbk5leHRSZW5kZXI9ITEsaChpKSYmKGkuZ3JvdXAub3Blbj0hMCksZS5zZXRGb2N1cygpKX1fb25Db21wb25lbnRGb2N1cyhlKXtjb25zdCB0PWUudGFyZ2V0LGk9dGhpcy5fZ2V0RmllbGRJbnB1dEZyb21IVE1MRWxlbWVudCh0KTt0aGlzLl9mb2N1c2VkRmllbGROYW1lPWkubmFtZX1fb25Db21wb25lbnRCbHVyKGUpe2NvbnN0IHQ9ZS50YXJnZXQ7dGhpcy5fZm9jdXNlZEZpZWxkTmFtZT1udWxsLHRoaXMuX3NhdmVWYWx1ZUZyb21Db21wb25lbnQodCl9X3NhdmVWYWx1ZUZyb21EYXRlQ29tcG9uZW50KGUpe2NvbnN0IHQ9dGhpcy5fZ2V0RmllbGRJbnB1dEZyb21IVE1MRWxlbWVudChlKSxpPXQuZmllbGQudHlwZSx7bmFtZTpvLHJhbmdlOm59PXQsYT10aGlzLl9kYXRlQ29tcG9uZW50TWFwLmdldChvKTtpZighYSlyZXR1cm47bGV0IHM9dGhpcy52aWV3TW9kZWwuZ2V0VmFsdWUobykscj1udWxsO1wiZGF0ZS1vbmx5XCI9PT1pP3I9ZS52YWx1ZTpcInRpbWUtb25seVwiPT09aT8ocz1JKHMpLHI9SShlLnZhbHVlKSk6cj1cInRpbWVzdGFtcC1vZmZzZXRcIj09PWk/bnVsbCE9ZS52YWx1ZT9NKHtkYXRlQ29tcG9uZW50OmEuZGF0ZSx0aW1lQ29tcG9uZW50OmEudGltZSx0aW1lWm9uZUNvbXBvbmVudDphLnRpbWVab25lLG9sZFZhbHVlOnN9KTpudWxsOm51bGwhPWUudmFsdWU/RCh7b2xkVmFsdWU6cyxkYXRlQ29tcG9uZW50OmEuZGF0ZSx0aW1lQ29tcG9uZW50OmEudGltZSx0aW1lWm9uZTp0aGlzLnRpbWVab25lLG1heDpuLm1heCxtaW46bi5taW59KTpudWxsLG51bGwhPT1yJiZlLnZhbHVlP3MhPT1yJiZ0aGlzLl91cGRhdGVGaWVsZFZhbHVlKG8scik6dGhpcy5fdXBkYXRlRmllbGRWYWx1ZShvLG51bGwpfV9zYXZlVmFsdWVGcm9tQ29tcG9uZW50KGUpe2NvbnN0IHQ9dGhpcy5fZ2V0RmllbGRJbnB1dEZyb21IVE1MRWxlbWVudChlKTt0aGlzLl91cGRhdGVGaWVsZFZhbHVlKHQubmFtZSx0aGlzLl9wYXJzZVZhbHVlKGUpKX1fb25Db21wb25lbnRLZXlEb3duKHtrZXk6ZSx0YXJnZXQ6dH0pe2NvbnN0IGk9dGhpcy5fZ2V0RmllbGRJbnB1dEZyb21IVE1MRWxlbWVudCh0KTtcIkVudGVyXCI9PT1lJiZoKGkpJiYhaS5ncm91cC5vcGVuJiYoaS5ncm91cC5vcGVuPSEwKX1fdXBkYXRlRmllbGRWYWx1ZShlLHQpe2lmKHRoaXMudmlld01vZGVsLnNldFZhbHVlKGUsdCksdGhpcy5faW5wdXRzV2l0aENoYW5nZXMuYWRkKGUpLHRoaXMudmlld01vZGVsLmZpZWxkc1dpdGhDb250aW5nZW50VmFsdWVzLmhhcyhlKSl7Y29uc3QgZT1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModGhpcy5nZXRWYWx1ZXMoKSkuZmlsdGVyKCgoW2UsdF0pPT5udWxsIT10KSkpO3RoaXMudmlld01vZGVsLnZhbGlkYXRlQ29udGluZ2VuY3lDb25zdHJhaW50cyhlKX19X3BhcnNlVmFsdWUoZSl7Y29uc3QgdD10aGlzLl9nZXRGaWVsZElucHV0RnJvbUhUTUxFbGVtZW50KGUpLGk9ZS52YWx1ZTtyZXR1cm4gdih0LmVsZW1lbnQsXCJzd2l0Y2hcIik/ZS5jaGVja2VkP3QuZWxlbWVudC5pbnB1dC5vblZhbHVlOnQuZWxlbWVudC5pbnB1dC5vZmZWYWx1ZTpudWxsPT1pfHxcIlwiPT09aT9udWxsOlwibnVtYmVyXCI9PT10LmRhdGFUeXBlP1wiLTBcIj09PWl8fFwiLTAuXCI9PT1pfHxcIi0wLFwiPT09aT9pOnBhcnNlRmxvYXQoaSk6XCJkYXRlXCI9PT10LmZpZWxkLnR5cGU/cGFyc2VGbG9hdChpKTppfV9pZ25vcmVEZXNlbGVjdGlvbk9mTm9WYWx1ZU9wdGlvbihlKXtjb25zdHtmaXJzdENoaWxkOnQsc2VsZWN0ZWRJdGVtczppfT1lOzA9PT1pLmxlbmd0aCYmdCYmXCJzZWxlY3RlZFwiaW4gdD90LnNlbGVjdGVkPSEwOiQud2Fybk9uY2UoXCJGYWlsZWQgdG8gb3ZlcnJpZGUgdXNlciBhdHRlbXB0IHRvIGRlc2VsZWN0ICdObyB2YWx1ZScgb3B0aW9uLlwiKX1fb25Hcm91cFRvZ2dsZShlLHQpe2Uub3Blbj8odC5vcGVuPSEwLHRoaXMuX2ZvY3VzZWRGaWVsZE5hbWU9dGhpcy5fZ2V0Rm9jdXNhYmxlSW5wdXQoXCJmb3J3YXJkXCIsdCk/Lm5hbWV8fG51bGwsdGhpcy5fYXR0ZW1wdEZvY3VzT25OZXh0UmVuZGVyPSEwLFwic2VxdWVudGlhbFwiPT09dGhpcy5ncm91cERpc3BsYXkmJnRoaXMudmlld01vZGVsLmFsbEdyb3VwSW5wdXRzLmZvckVhY2goKGU9PntlIT09dCYmKGUub3Blbj0hMSl9KSkpOnQub3Blbj0hMSx0aGlzLnNjaGVkdWxlUmVuZGVyKCl9X29uRm9ybVN1Ym1pdChlKXtlLnByZXZlbnREZWZhdWx0KCl9X29uRm9ybUtleURvd24oZSl7XCJFbnRlclwiPT09ZS5rZXkmJnRoaXMudmlld01vZGVsLnN1Ym1pdCgpfV9hZnRlckxpc3RPYnNlcnZlckNyZWF0ZWQoZSl7dGhpcy52aWV3TW9kZWwuYWN0aXZlUmVsYXRpb25zaGlwSW5wdXQmJih0aGlzLl9saXN0T2JzZXJ2ZXJOb2RlPWUpfV9hZnRlckxpc3RPYnNlcnZlclJlbW92ZWQoKXt0aGlzLl9saXN0T2JzZXJ2ZXJOb2RlPW51bGx9X29uT2JzZXJ2ZXJDaGFuZ2UoKXt0aGlzLl9saXN0T2JzZXJ2ZXJOb2RlJiZ0aGlzLl9saXN0T2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMuX2xpc3RPYnNlcnZlck5vZGUpO2NvbnN0IGU9dGhpcy52aWV3TW9kZWwuYWN0aXZlUmVsYXRpb25zaGlwSW5wdXQ7ZSYmdGhpcy5fbGlzdE9ic2VydmVyTm9kZSYmZS5zaG93QWxsRW5hYmxlZCYmdGhpcy5fbGlzdE9ic2VydmVyLm9ic2VydmUodGhpcy5fbGlzdE9ic2VydmVyTm9kZSl9X2luY3JlbWVudFJlbGF0ZWRSZWNvcmRQYWdlKCl7Y29uc3QgZT10aGlzLnZpZXdNb2RlbC5hY3RpdmVSZWxhdGlvbnNoaXBJbnB1dDtlPy5pbmNyZW1lbnRQYWdlKCl9X3N5bmNHcm91cElucHV0U3RhdGVzKCl7aWYoXCJzZXF1ZW50aWFsXCIhPT10aGlzLmdyb3VwRGlzcGxheSlyZXR1cm47Y29uc3QgZT10aGlzLnZpZXdNb2RlbC5hbGxHcm91cElucHV0cztpZighZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9ZS5maWx0ZXIoKGU9PmUub3BlbikpOzA9PT10Lmxlbmd0aD9lWzBdLm9wZW49ITA6dC5sZW5ndGg+MSYmdC5zbGljZSgxKS5mb3JFYWNoKChlPT5lLm9wZW49ITEpKX19O2UoW3MoKV0sQS5wcm90b3R5cGUsXCJfbGlzdE9ic2VydmVyTm9kZVwiLHZvaWQgMCksZShbcygpXSxBLnByb3RvdHlwZSxcIl9yZWxhdGVkUmVjb3Jkc0VuYWJsZWRcIixudWxsKSxlKFtzKCldLEEucHJvdG90eXBlLFwiZGlzYWJsZWRcIixudWxsKSxlKFtzKCldLEEucHJvdG90eXBlLFwiZmVhdHVyZVwiLG51bGwpLGUoW3MoKV0sQS5wcm90b3R5cGUsXCJmb3JtVGVtcGxhdGVcIixudWxsKSxlKFtzKCldLEEucHJvdG90eXBlLFwiZ3JvdXBEaXNwbGF5XCIsdm9pZCAwKSxlKFtzKCldLEEucHJvdG90eXBlLFwiaGVhZGluZ0xldmVsXCIsdm9pZCAwKSxlKFtzKCldLEEucHJvdG90eXBlLFwibGFiZWxcIixudWxsKSxlKFtzKCldLEEucHJvdG90eXBlLFwibGF5ZXJcIixudWxsKSxlKFtzKCldLEEucHJvdG90eXBlLFwibWFwXCIsbnVsbCksZShbcygpLFQoXCJlc3JpL3dpZGdldHMvRmVhdHVyZUZvcm0vdDluL0ZlYXR1cmVGb3JtXCIpXSxBLnByb3RvdHlwZSxcIm1lc3NhZ2VzXCIsdm9pZCAwKSxlKFtzKCksVChcImVzcmkvdDluL2NvbW1vblwiKV0sQS5wcm90b3R5cGUsXCJtZXNzYWdlc0NvbW1vblwiLHZvaWQgMCksZShbcygpLFQoXCJlc3JpL3dpZGdldHMvRmVhdHVyZS90OW4vRmVhdHVyZVwiKV0sQS5wcm90b3R5cGUsXCJtZXNzYWdlc0ZlYXR1cmVcIix2b2lkIDApLGUoW3MoKSxUKFwiZXNyaS93aWRnZXRzL0ZlYXR1cmVUZW1wbGF0ZXMvdDluL0ZlYXR1cmVUZW1wbGF0ZXNcIildLEEucHJvdG90eXBlLFwibWVzc2FnZXNUZW1wbGF0ZXNcIix2b2lkIDApLGUoW3MoKV0sQS5wcm90b3R5cGUsXCJyZWxhdGVkUmVjb3JkQ2FsbGJhY2tzXCIsbnVsbCksZShbcygpXSxBLnByb3RvdHlwZSxcInJlbGF0aW9uc2hpcElkXCIsbnVsbCksZShbcygpXSxBLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIixudWxsKSxlKFtzKCldLEEucHJvdG90eXBlLFwic3RyaWN0XCIsbnVsbCksZShbcygpXSxBLnByb3RvdHlwZSxcInRpbWVab25lXCIsbnVsbCksZShbcygpXSxBLnByb3RvdHlwZSxcInZpZXdcIixudWxsKSxlKFtzKCksTChbXCJ2YWx1ZS1jaGFuZ2VcIixcInN1Ym1pdFwiXSldLEEucHJvdG90eXBlLFwidmlld01vZGVsXCIsdm9pZCAwKSxBPWUoW3IoUyldLEEpO2NvbnN0IEg9QTtleHBvcnR7SCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9HcmFwaGljLmpzXCI7aW1wb3J0e2RlcHJlY2F0ZWRQcm9wZXJ0eSBhcyBufWZyb21cIi4uLy4uL2NvcmUvZGVwcmVjYXRlLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtFc3JpUHJvbWlzZU1peGluIGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9Qcm9taXNlLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3RlbXBsYXRlSGFzS2V5IGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9zdHJpbmcuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgZH1mcm9tXCIuLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vZm9ybS9Gb3JtVGVtcGxhdGUuanNcIjtpbXBvcnQgaCBmcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9Db250aW5nZW50VmFsdWUuanNcIjtpbXBvcnR7aXNFZGl0YWJsZUxheWVyIGFzIGZ9ZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvZWRpdGFibGVMYXllcnMuanNcIjtpbXBvcnQgbSBmcm9tXCIuLi8uLi9sYXllcnMvc3VwcG9ydC9MYXllckNvbnRpbmdlbnRWYWx1ZXNDYWNoZS5qc1wiO2ltcG9ydHt1dGMgYXMgZyx1bmtub3duIGFzIHksc3lzdGVtIGFzIF99ZnJvbVwiLi4vLi4vdGltZS90aW1lWm9uZVV0aWxzLmpzXCI7aW1wb3J0e2ZsYXR0ZW5GaWVsZElucHV0cyBhcyB2LGlzR3JvdXBJbnB1dCBhcyBJLGZsYXR0ZW5SZWxhdGlvbnNoaXBJbnB1dHMgYXMgRixwYXJzZUZvcm1UZW1wbGF0ZVN0cmluZyBhcyBDLGlzR3JvdXBFbGVtZW50IGFzIEUsaXNGaWVsZEVsZW1lbnQgYXMgeCxpc1JlbGF0aW9uc2hpcEVsZW1lbnQgYXMgVixpc1JlbGF0aW9uc2hpcElucHV0IGFzIGIsaXNGaWVsZElucHV0IGFzIHcsZ2V0Tm9ybWFsaXplZEZlYXR1cmVUeXBlSW5mbyBhcyBqLHZhbHVlSXNWYWxpZENvbnRpbmdlbnRWYWx1ZSBhcyBUfWZyb21cIi4vZmVhdHVyZUZvcm1VdGlscy5qc1wiO2ltcG9ydCBBIGZyb21cIi4vRmllbGRJbnB1dC5qc1wiO2ltcG9ydHtjcmVhdGVGb3JtRXhwcmVzc2lvbkFyY2FkZUV4ZWN1dG9yIGFzIE19ZnJvbVwiLi9Gb3JtRXhwcmVzc2lvbkFyY2FkZUV4ZWN1dG9yLmpzXCI7aW1wb3J0e0Zvcm1FeHByZXNzaW9uc01hbmFnZXIgYXMgUn1mcm9tXCIuL0Zvcm1FeHByZXNzaW9uc01hbmFnZXIuanNcIjtpbXBvcnQgSCBmcm9tXCIuL0dyb3VwSW5wdXQuanNcIjtpbXBvcnQgUyBmcm9tXCIuL1JlbGF0aW9uc2hpcElucHV0LmpzXCI7Y29uc3QgTj1uZXcgdCh7YXR0cmlidXRlczp7fX0pLFo9W1wiZWRpdGFibGVFeHByZXNzaW9uXCIsXCJyZXF1aXJlZEV4cHJlc3Npb25cIixcInZhbHVlRXhwcmVzc2lvblwiLFwidmlzaWJpbGl0eUV4cHJlc3Npb25cIl0sTD1bXCJ2aXNpYmlsaXR5RXhwcmVzc2lvblwiXSxrPVtcImVkaXRhYmxlRXhwcmVzc2lvblwiLFwidmlzaWJpbGl0eUV4cHJlc3Npb25cIl0sVT1cIiNKU0FQSV9DT05USU5HRU5UX1ZBTFVFX0VNUFRZX0hBU0hcIixQPVwiI0pTQVBJX0NPTlRJTkdFTlRfVkFMVUVfQU5ZX0hBU0hcIixXPVwiI0pTQVBJX0NPTlRJTkdFTlRfVkFMVUVfTlVMTF9IQVNIXCIsRz1cImVzcmkud2lkZ2V0cy5GZWF0dXJlRm9ybS5GZWF0dXJlRm9ybVZpZXdNb2RlbFwiLE89aS5nZXRMb2dnZXIoRyk7bGV0ICQ9Y2xhc3MgZXh0ZW5kcyhyKHMuRXZlbnRlZEFjY2Vzc29yKSl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fZXhwcmVzc2lvbkV4ZWN1dG9yc0luVXNlPW5ldyBTZXQsdGhpcy5fZXhwcmVzc2lvbkV4ZWN1dG9yTG9va3VwPW5ldyBNYXAsdGhpcy5fZXhwcmVzc2lvbnNNYW5hZ2VyPW51bGwsdGhpcy5fY29udGluZ2VudFZhbHVlc0NhY2hlPW51bGwsdGhpcy5fZmVhdHVyZUNsb25lPU4uY2xvbmUoKSx0aGlzLl9pbml0aWFsRmVhdHVyZT1OLmNsb25lKCksdGhpcy5fdGltZVpvbmU9bnVsbCx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IGQsdGhpcy5hcmNhZGVFZGl0VHlwZT1cIk5BXCIsdGhpcy5jb250aW5nZW5jeUNvbnN0cmFpbnRWaW9sYXRpb25zPW5ldyBNYXAsdGhpcy5kaXNhYmxlZD0hMSx0aGlzLmhpZ2hsaWdodEhlbHBlcj1udWxsLHRoaXMuaW5wdXRzPVtdLHRoaXMubWFwPW51bGwsdGhpcy5yZWxhdGVkUmVjb3JkQ2FsbGJhY2tzPW51bGwsdGhpcy5zdHJpY3Q9ITF9aW5pdGlhbGl6ZSgpe2NvbnN0IGU9YSgoKCk9Plt0aGlzLmxheWVyLCEhdGhpcy5sYXllcj8ubG9hZGVkLHRoaXMuZm9ybVRlbXBsYXRlLHRoaXMuZmVhdHVyZSx0aGlzLnRpbWVab25lLHRoaXMuYXJjYWRlRWRpdFR5cGVdKSwoYXN5bmMoW2UsdF0pPT57bnVsbCE9ZSYmKHQ/dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fdXBkYXRlSW5wdXRzKCkpOmUubG9hZCgpLmNhdGNoKCgoKT0+e30pKSl9KSx7ZXF1YWxzOihbZSx0LG4scyxpLG9dLFtyLGEsbCx1LHAsZF0pPT5lPT09ciYmdD09PWEmJm49PT1sJiZzPT09dSYmaT09PXAmJm89PT1kLGluaXRpYWw6ITB9KSx0PWEoKCgpPT50aGlzLl9hcmNhZGVDb250ZXh0SW5mbyksKGU9PntudWxsIT10aGlzLl9leHByZXNzaW9uc01hbmFnZXImJih0aGlzLl9leHByZXNzaW9uc01hbmFnZXIuYXJjYWRlQ29udGV4dEluZm89ZSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl9leHByZXNzaW9uc01hbmFnZXIuZXZhbHVhdGVBbGwoKS5maW5hbGx5KCgoKT0+dGhpcy5fYWZ0ZXJFeHByZXNzaW9uc0V2YWx1YXRlZCgpKSkpKX0pKSxuPWEoKCgpPT50aGlzLmxheWVyKSwoZT0+e2NvbnN0IHQ9XCJzdWJ0eXBlLXN1YmxheWVyXCI9PT1lPy50eXBlP2UucGFyZW50OlwiZmVhdHVyZVwiPT09ZT8udHlwZT9lOm51bGw7dCYmdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKG0uY3JlYXRlTG9hZGVkTGF5ZXJDb250aW5nZW50VmFsdWVzQ2FjaGUodCkudGhlbigoZT0+e3RoaXMuX2NvbnRpbmdlbnRWYWx1ZXNDYWNoZT1lLHRoaXMubm90aWZ5Q2hhbmdlKFwiZmllbGRzV2l0aENvbnRpbmdlbnRWYWx1ZXNcIil9KSkpfSkse2luaXRpYWw6ITB9KTt0aGlzLmFkZEhhbmRsZXMoW2UsdCxuXSl9ZGVzdHJveSgpe3RoaXMuZmVhdHVyZT1udWxsLHRoaXMubGF5ZXI9bnVsbCx0aGlzLl9jb250aW5nZW50VmFsdWVzQ2FjaGU9byh0aGlzLl9jb250aW5nZW50VmFsdWVzQ2FjaGUpLHRoaXMuaGlnaGxpZ2h0SGVscGVyPy5yZW1vdmVBbGwoKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpfWdldCBfZXhwcmVzc2lvbkluZm9zTG9va3VwKCl7cmV0dXJuIG5ldyBNYXAodGhpcy5mb3JtVGVtcGxhdGU/LmV4cHJlc3Npb25JbmZvcz8ubWFwKChlPT5bZS5uYW1lLGVdKSkpfWdldCBhY3RpdmVSZWxhdGlvbnNoaXBJbnB1dCgpe3JldHVybiB0aGlzLmFsbFJlbGF0aW9uc2hpcElucHV0cy5maW5kKChlPT5lLnJlbGF0aW9uc2hpcElkPT09dGhpcy5yZWxhdGlvbnNoaXBJZCkpfWdldCBfYXJjYWRlQ29udGV4dEluZm8oKXtjb25zdHtfaW5pdGlhbEZlYXR1cmU6ZSxhcmNhZGVFZGl0VHlwZTp0LGxheWVyOm4sbWFwOnMsc3BhdGlhbFJlZmVyZW5jZTppLHRpbWVab25lOm99PXRoaXM7cmV0dXJue2xheWVyOmYobik/bjpudWxsLG9yaWdpbmFsRmVhdHVyZTplLGVkaXRUeXBlOnQsbWFwOnMsc3BhdGlhbFJlZmVyZW5jZTppLHRpbWVab25lOm99fWdldCBhbGxGaWVsZElucHV0cygpe3JldHVybiB2KHRoaXMuaW5wdXRzKX1nZXQgYWxsR3JvdXBJbnB1dHMoKXtyZXR1cm4gdGhpcy5pbnB1dHMuZmlsdGVyKEkpfWdldCBhbGxSZWxhdGlvbnNoaXBJbnB1dHMoKXtyZXR1cm4gRih0aGlzLmlucHV0cyl9Z2V0IF9sYXllckZpZWxkc0J5TmFtZSgpe3JldHVybiBuZXcgTWFwKHRoaXMubGF5ZXI/LmZpZWxkcy5tYXAoKGU9PltlLm5hbWUsZV0pKSl9Z2V0IGZlYXR1cmUoKXtyZXR1cm4gdGhpcy5fZ2V0KFwiZmVhdHVyZVwiKX1zZXQgZmVhdHVyZShlKXt0aGlzLl9mZWF0dXJlQ2xvbmU9ZT9lLmNsb25lKCk6Ti5jbG9uZSgpLHRoaXMuX2luaXRpYWxGZWF0dXJlPXRoaXMuX2ZlYXR1cmVDbG9uZS5jbG9uZSgpLHRoaXMuX2V4cHJlc3Npb25zTWFuYWdlciYmKHRoaXMuX2V4cHJlc3Npb25zTWFuYWdlci5mZWF0dXJlPXRoaXMuX2ZlYXR1cmVDbG9uZSksZT8odGhpcy5fcmVzZXRGaWVsZElucHV0VmFsdWVzKHRoaXMuX2ZlYXR1cmVDbG9uZSksdGhpcy5hbGxSZWxhdGlvbnNoaXBJbnB1dHMuZm9yRWFjaCgodD0+dC5mZWF0dXJlPWUpKSk6KHRoaXMuaW5wdXRzLmZvckVhY2goKGU9PmUuZGVzdHJveSgpKSksdGhpcy5pbnB1dHMubGVuZ3RoPTApLHRoaXMuY29udGluZ2VuY3lDb25zdHJhaW50VmlvbGF0aW9ucy5jbGVhcigpLHRoaXMuX3NldChcImZlYXR1cmVcIixlKX1nZXQgZmllbGRzV2l0aENvbnRpbmdlbnRWYWx1ZXMoKXtpZihudWxsPT10aGlzLl9jb250aW5nZW50VmFsdWVzQ2FjaGUpcmV0dXJuIG5ldyBTZXQ7Y29uc3QgZT10aGlzLl9jb250aW5nZW50VmFsdWVzQ2FjaGUuZmllbGRHcm91cHMuZmxhdE1hcCgoZT0+ZS5maWVsZHMpKTtyZXR1cm4gbmV3IFNldChlKX1nZXQgZmllbGRzV2l0aEludmFsaWRDb2RlZFZhbHVlKCl7Y29uc3QgZT10aGlzLmFsbEZpZWxkSW5wdXRzO3JldHVybiBuZXcgU2V0KGUuZmlsdGVyKChlPT57Y29uc3R7bmFtZTp0LGRvbWFpbjpuLHZhbHVlOnN9PWU7aWYoXCJjb2RlZC12YWx1ZVwiPT09bj8udHlwZSl7Y29uc3QgZT10aGlzLmdldEZpZWxkVmFsdWVPcHRpb25zRm9yRmllbGQodCk7cmV0dXJuIG51bGwhPXMmJlwiXCIhPT1zJiYhZS5mbGF0KCkuc29tZSgoZT0+ZS52YWx1ZT09PXMpKX1yZXR1cm4hMX0pKSl9Z2V0IGZvcm1UZW1wbGF0ZSgpe3JldHVybiB0aGlzLmxheWVyJiZcImZvcm1UZW1wbGF0ZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmZvcm1UZW1wbGF0ZTpudWxsfXNldCBmb3JtVGVtcGxhdGUoZSl7dm9pZCAwPT09ZT90aGlzLl9jbGVhck92ZXJyaWRlKFwiZm9ybVRlbXBsYXRlXCIpOnRoaXMuX292ZXJyaWRlKFwiZm9ybVRlbXBsYXRlXCIsZSl9Z2V0IGZvcm1EZXNjcmlwdGlvbigpe2NvbnN0e2Zvcm1UZW1wbGF0ZTplLGxheWVyOnR9PXRoaXM7cmV0dXJuIGU/LmRlc2NyaXB0aW9uJiZ0P0Moe2xhYmVsOmUuZGVzY3JpcHRpb24sYXR0cmlidXRlczp0aGlzLmdldFZhbHVlcygpLGZpZWxkc0luZGV4OnQuZmllbGRzSW5kZXgsdGltZVpvbmU6dGhpcy50aW1lWm9uZX0pOm51bGx9Z2V0IGZvcm1UaXRsZSgpe2NvbnN0e2Zvcm1UZW1wbGF0ZTplLGxheWVyOnR9PXRoaXM7cmV0dXJuIGU/LnRpdGxlJiZ0P0Moe2xhYmVsOmUudGl0bGUsYXR0cmlidXRlczp0aGlzLmdldFZhbHVlcygpLGZpZWxkc0luZGV4OnQuZmllbGRzSW5kZXgsdGltZVpvbmU6dGhpcy50aW1lWm9uZX0pOm51bGx9Z2V0IGZvcm1IZWFkZXJWaXNpYmxlKCl7Y29uc3R7YWN0aXZlUmVsYXRpb25zaGlwSW5wdXQ6ZSxmb3JtRGVzY3JpcHRpb246dCxmb3JtVGl0bGU6bn09dGhpcztyZXR1cm4hKGV8fCF0JiYhbil9c2V0IGlucHV0RmllbGRzKGUpe24oTyxcImlucHV0RmllbGRzXCIse3JlcGxhY2VtZW50OlwiRmVhdHVyZUZvcm1WaWV3TW9kZWwuaW5wdXRzXCIsdmVyc2lvbjpcIjQuMjdcIn0pLHRoaXMuaW5wdXRzPWV9Z2V0IGlucHV0RmllbGRzKCl7cmV0dXJuIG4oTyxcImlucHV0RmllbGRzXCIse3JlcGxhY2VtZW50OlwiRmVhdHVyZUZvcm1WaWV3TW9kZWwuaW5wdXRzXCIsdmVyc2lvbjpcIjQuMjdcIn0pLHRoaXMuaW5wdXRzfWdldCBqb2luZWRDb250aW5nZW50VmFsdWVzKCl7cmV0dXJuIHRoaXMuX2pvaW5Db250aW5nZW50VmFsdWVzKCl9Z2V0IGxheWVyKCl7cmV0dXJuIHRoaXMuZmVhdHVyZT8uc291cmNlTGF5ZXImJlwiYXBwbHlFZGl0c1wiaW4gdGhpcy5mZWF0dXJlLnNvdXJjZUxheWVyP3RoaXMuZmVhdHVyZS5zb3VyY2VMYXllcjpudWxsfXNldCBsYXllcihlKXt0aGlzLl9vdmVycmlkZShcImxheWVyXCIsZSl9Z2V0IHJlbGF0aW9uc2hpcElkKCl7cmV0dXJuIHRoaXMuX2dldChcInJlbGF0aW9uc2hpcElkXCIpfXNldCByZWxhdGlvbnNoaXBJZChlKXtjb25zdCB0PXRoaXMuYWxsUmVsYXRpb25zaGlwSW5wdXRzO2lmKG51bGwhPWUmJmU9PT10aGlzLnJlbGF0aW9uc2hpcElkfHx0LmZvckVhY2goKGU9PmUuc2hvd0FsbEVuYWJsZWQ9ITEpKSxudWxsIT1lKXtjb25zdCBuPXQuZmluZCgodD0+dC5yZWxhdGlvbnNoaXBJZD09PWUpKTtuJiYobi5zaG93QWxsRW5hYmxlZD0hMCl9dGhpcy5fc2V0KFwicmVsYXRpb25zaGlwSWRcIixlKX1nZXQgc3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLmxheWVyPy5zcGF0aWFsUmVmZXJlbmNlPz9udWxsfXNldCBzcGF0aWFsUmVmZXJlbmNlKGUpe3RoaXMuX292ZXJyaWRlKFwic3BhdGlhbFJlZmVyZW5jZVwiLGUpfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLmxheWVyPy5sb2FkZWQ/XCJyZWFkeVwiOlwiZGlzYWJsZWRcIn1nZXQgc3VibWl0dGFibGUoKXtyZXR1cm4hIXRoaXMudmFsaWR8fHRoaXMuYWxsRmllbGRJbnB1dHMuZmlsdGVyKChlPT4hZS52YWxpZCkpLmV2ZXJ5KCgoe3N1Ym1pdHRhYmxlOmV9KT0+ZSkpfWdldCB0aW1lWm9uZSgpe2NvbnN0e2xheWVyOmV9PXRoaXM7aWYoZSYmXCJkYXRlc0luVW5rbm93blRpbWV6b25lXCJpbiBlJiZlLmRhdGVzSW5Vbmtub3duVGltZXpvbmUpcmV0dXJuIGc7Y29uc3QgdD1lJiZcInByZWZlcnJlZFRpbWVab25lXCJpbiBlJiZlLnByZWZlcnJlZFRpbWVab25lO3JldHVybiB0aGlzLl90aW1lWm9uZT09PXk/dHx8Zzp0aGlzLl90aW1lWm9uZXx8X31zZXQgdGltZVpvbmUoZSl7dGhpcy5fdGltZVpvbmU9ZX1nZXQgdXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5fdXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nfWdldCB2YWxpZCgpe2NvbnN0IGU9dGhpcy5hbGxGaWVsZElucHV0cztyZXR1cm4gZS5sZW5ndGg+MCYmZS5ldmVyeSgoKHt2YWxpZDplfSk9PmUpKX1nZXQgdmlldygpe3JldHVybiBuKE8sXCJ2aWV3XCIse3JlcGxhY2VtZW50OlwiRmVhdHVyZUZvcm0ubWFwXCIsdmVyc2lvbjpcIjQuMjdcIn0pLHRoaXMuX2dldChcInZpZXdcIil9c2V0IHZpZXcoZSl7bihPLFwidmlld1wiLHtyZXBsYWNlbWVudDpcIkZlYXR1cmVGb3JtLm1hcFwiLHZlcnNpb246XCI0LjI3XCJ9KSx0aGlzLl9zZXQoXCJ2aWV3XCIsZSksZT8ubWFwJiYodGhpcy5tYXA9ZS5tYXApfWZpbmRGaWVsZChlKXtyZXR1cm4gdGhpcy5hbGxGaWVsZElucHV0cy5maW5kKCh0PT50Lm5hbWU9PT1lKSl9Z2V0RmllbGRWYWx1ZU9wdGlvbnNGb3JGaWVsZChlLHQpe2NvbnN0IG49dGhpcy5maW5kRmllbGQoZSk7aWYoIW4pcmV0dXJuW1tdLFtdXTtjb25zdCBzPVwiY29kZWQtdmFsdWVcIj09PW4uZG9tYWluPy50eXBlP24uZG9tYWluLmNvZGVkVmFsdWVzLm1hcCgoKHtuYW1lOmUsY29kZTp0fSk9Pih7bmFtZTplLHZhbHVlOnR9KSkpOltdLGk9dGhpcy5maWVsZHNXaXRoQ29udGluZ2VudFZhbHVlcy5oYXMoZSk/dGhpcy5fZ2V0Q29udGluZ2VudFZhbHVlT3B0aW9uc0ZvckZpZWxkKGUsdCk6W107aWYoaS5sZW5ndGg+MCl7Y29uc3QgZT1uZXcgU2V0KGkubWFwKChlPT5lLnZhbHVlKSkpO3JldHVybltpLHMuZmlsdGVyKCh0PT4hZS5oYXModC52YWx1ZSkpKV19cmV0dXJuW3MsW11dfWdldFZhbHVlKGUpe2NvbnN0e19mZWF0dXJlQ2xvbmU6dCxsYXllcjpufT10aGlzLHM9ISFuPy5nZXRGaWVsZChlKTtyZXR1cm4gdC5nZXRBdHRyaWJ1dGUoZSk/PyhzP251bGw6dm9pZCAwKX1zZXRWYWx1ZShlLHQpe2NvbnN0e19mZWF0dXJlQ2xvbmU6bixzdHJpY3Q6c309dGhpcyxpPXRoaXMuZmluZEZpZWxkKGUpO3Q9XCJcIj09PXQ/bnVsbDp0LGkmJm4uZ2V0QXR0cmlidXRlKGUpIT09dCYmKGkudmFsdWU9dCxzJiYhaS52YWxpZHx8KHRoaXMuX2FmdGVyVmFsdWVDaGFuZ2UoaSksbnVsbCE9dGhpcy5fZXhwcmVzc2lvbnNNYW5hZ2VyJiZ0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl9leHByZXNzaW9uc01hbmFnZXIuZXZhbHVhdGVJbnZhbGlkYXRlZChbaS5uYW1lXSkuZmluYWxseSgoKCk9PnRoaXMuX2FmdGVyRXhwcmVzc2lvbnNFdmFsdWF0ZWQoKSkpKSkpfWdldFZhbHVlcygpe3JldHVybnsuLi50aGlzLl9mZWF0dXJlQ2xvbmUuYXR0cmlidXRlc319b3ZlcnJpZGVJbml0aWFsRmVhdHVyZShlKXt0aGlzLl9pbml0aWFsRmVhdHVyZT1lfXN1Ym1pdCgpe2NvbnN0IGU9dGhpcy5hbGxGaWVsZElucHV0cyx0PW5ldyBTZXQoZS5maWx0ZXIoKGU9PmUudmFsaWQpKS5tYXAoKCh7bmFtZTplfSk9PmUpKSksbj1lLmZpbHRlcigoZT0+IWUudmFsaWQpKS5tYXAoKCh7bmFtZTplfSk9PmUpKSxzPXRoaXMuZ2V0VmFsdWVzKCk7aWYodGhpcy52YWxpZGF0ZUNvbnRpbmdlbmN5Q29uc3RyYWludHMocyx7aW5jbHVkZUluY29tcGxldGVWaW9sYXRpb25zOiEwfSkubGVuZ3RoPjApZm9yKGNvbnN0W2ksb11vZiB0aGlzLmNvbnRpbmdlbmN5Q29uc3RyYWludFZpb2xhdGlvbnMuZW50cmllcygpKVwiZXJyb3JcIj09PW8udHlwZSYmKHQuZGVsZXRlKGkpLG4ucHVzaChpKSk7dGhpcy5lbWl0KFwic3VibWl0XCIse3ZhbGlkOlsuLi50XSxpbnZhbGlkOm4sdmFsdWVzOnN9KX12YWxpZGF0ZUNvbnRpbmdlbmN5Q29uc3RyYWludHMoZSx0KXtjb25zdHtfY29udGluZ2VudFZhbHVlc0NhY2hlOm59PXRoaXMscz1uZXcgTWFwO2lmKHRoaXMuY29udGluZ2VuY3lDb25zdHJhaW50VmlvbGF0aW9ucz1zLG51bGw9PW4pcmV0dXJuW107Y29uc3R7aW52YWxpZDppLGluY29tcGxldGU6b309bi52YWxpZGF0ZUNvbnRpbmdlbmN5Q29uc3RyYWludHMoZSkscj1bLi4uaSwuLi50Py5pbmNsdWRlSW5jb21wbGV0ZVZpb2xhdGlvbnM/bzpbXV07Zm9yKGNvbnN0IGEgb2Ygcilmb3IoY29uc3QgZSBvZiBhLmZpZWxkR3JvdXAuZmllbGRzKXMuc2V0KGUsYSk7cmV0dXJuIHJ9bm90aWZ5RmVhdHVyZUdlb21ldHJ5Q2hhbmdlZCgpe2NvbnN0e19leHByZXNzaW9uc01hbmFnZXI6ZSxmZWF0dXJlOnQsX2ZlYXR1cmVDbG9uZTpufT10aGlzO24uZ2VvbWV0cnk9dC5nZW9tZXRyeSxudWxsIT1lJiZ0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZShlLmV2YWx1YXRlSW52YWxpZGF0ZWRCeUdlb21ldHJ5KCkuZmluYWxseSgoKCk9PnRoaXMuX2FmdGVyRXhwcmVzc2lvbnNFdmFsdWF0ZWQoKSkpKX1fZW1pdENoYW5nZUV2ZW50KHtuYW1lOmUsdmFsaWQ6dCx2YWx1ZTpufSl7dGhpcy5lbWl0KFwidmFsdWUtY2hhbmdlXCIse2xheWVyOnRoaXMubGF5ZXIsZmVhdHVyZTp0aGlzLmZlYXR1cmUsZmllbGROYW1lOmUsdmFsdWU6bix2YWxpZDp0fSl9YXN5bmMgX3VwZGF0ZUlucHV0cygpe3RoaXMuX3N0b3BFeHByZXNzaW9ucygpO2NvbnN0e19mZWF0dXJlQ2xvbmU6ZSxfaW5pdGlhbEZlYXR1cmU6dCxhcmNhZGVFZGl0VHlwZTpuLGZvcm1UZW1wbGF0ZTpzLGlucHV0czppLGxheWVyOm8sdGltZVpvbmU6cn09dGhpcztpZighbylyZXR1cm47Y29uc3QgYT17YXJjYWRlRWRpdFR5cGU6bixmZWF0dXJlOmUsaW5pdGlhbEZlYXR1cmU6dCxsYXllcjpvLHRpbWVab25lOnJ9LGw9aS5zbGljZSgpLHU9cz8uZWxlbWVudHMmJnMuZWxlbWVudHMubGVuZ3RoPjA/YXdhaXQgdGhpcy5fdXBkYXRlSW5wdXRzVXNpbmdGb3JtRWxlbWVudHMobCxzLmVsZW1lbnRzLGEpOnRoaXMuX3VwZGF0ZUlucHV0c1VzaW5nTGF5ZXJGaWVsZHMobCxvPy5maWVsZHMsYSk7dGhpcy5pbnB1dHM9dSxhd2FpdCB0aGlzLl9zdGFydEV4cHJlc3Npb25zKCl9YXN5bmMgX3VwZGF0ZUlucHV0c1VzaW5nRm9ybUVsZW1lbnRzKGUsdCxuKXtjb25zdCBzPW5ldyBNYXA7Zm9yKGNvbnN0IHIgb2YgZSlpZihJKHIpKXtzLnNldChyLmVsZW1lbnQscik7Zm9yKGNvbnN0IGUgb2Ygci5pbnB1dHMpZS5lbGVtZW50JiZzLnNldChlLmVsZW1lbnQsZSl9ZWxzZSByLmVsZW1lbnQmJnMuc2V0KHIuZWxlbWVudCxyKTtjb25zdCBpPW5ldyBNYXAsbz10aGlzLl91cGRhdGVJbnB1dHNVc2luZ0Zvcm1FbGVtZW50c1JlY3Vyc2l2ZSh7ZXhpc3RpbmdJbnB1dHNCeUVsZW1lbnQ6cyx1cGRhdGVkRWxlbWVudHM6dC5maWx0ZXIoeiksc2hhcmVkSW5pdGlhbGl6YXRpb25Qcm9wZXJ0aWVzOm4sZ3JvdXA6bnVsbCxuZXdFeHByZXNzaW9uRXhlY3V0b3JQcm9taXNlczppfSk7Zm9yKGNvbnN0W3IsYV1vZiBzLmVudHJpZXMoKSlzLmRlbGV0ZShyKSxhLmRlc3Ryb3koKTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwoQXJyYXkuZnJvbShpLnZhbHVlcygpKSksb31fdXBkYXRlSW5wdXRzVXNpbmdGb3JtRWxlbWVudHNSZWN1cnNpdmUoZSl7Y29uc3R7ZXhpc3RpbmdJbnB1dHNCeUVsZW1lbnQ6dCx1cGRhdGVkRWxlbWVudHM6bixzaGFyZWRJbml0aWFsaXphdGlvblByb3BlcnRpZXM6cyxncm91cDppLG5ld0V4cHJlc3Npb25FeGVjdXRvclByb21pc2VzOm99PWUscj1bXTtmb3IoY29uc3QgYSBvZiBuKXtjb25zdCBlPXQuaGFzKGEpLG49ZT90LmdldChhKTpFKGEpP3RoaXMuX21ha2VHcm91cElucHV0RnJvbUVsZW1lbnQoYSxzKTp4KGEpP3RoaXMuX21ha2VGaWVsZElucHV0RnJvbUVsZW1lbnQoYSxzLGkpOlYoYSk/dGhpcy5fbWFrZVJlbGF0aW9uc2hpcElucHV0RnJvbUVsZW1lbnQoYSxzLGkpOm51bGw7aWYobil7aWYoci5wdXNoKG4pLHRoaXMuX2Fzc2lnbkV4cHJlc3Npb25FeGVjdXRvcnMobixhLG8pLGUpaWYodC5kZWxldGUoYSksSShuKSl7Y29uc3R7ZmVhdHVyZTplLHRpbWVab25lOnR9PXM7bi5zZXQoe2ZlYXR1cmU6ZSx0aW1lWm9uZTp0fSl9ZWxzZSBpZihiKG4pKXtjb25zdCBlPXRoaXMucmVsYXRpb25zaGlwSWQ9PT1hLnJlbGF0aW9uc2hpcElkO24uc2V0KHMpLG4uc2V0KHttYXA6dGhpcy5tYXAsc2hvd0FsbEVuYWJsZWQ6ZX0pfWVsc2Ugbi5zZXQocyk7aWYoRShhKSl7Y29uc3QgZT1hLmVsZW1lbnRzLmZpbHRlcigoZT0+eihlKSkpO24uaW5wdXRzPXRoaXMuX3VwZGF0ZUlucHV0c1VzaW5nRm9ybUVsZW1lbnRzUmVjdXJzaXZlKHtleGlzdGluZ0lucHV0c0J5RWxlbWVudDp0LHVwZGF0ZWRFbGVtZW50czplLHNoYXJlZEluaXRpYWxpemF0aW9uUHJvcGVydGllczpzLGdyb3VwOm4sbmV3RXhwcmVzc2lvbkV4ZWN1dG9yUHJvbWlzZXM6b30pfX19cmV0dXJuIHJ9X3VwZGF0ZUlucHV0c1VzaW5nTGF5ZXJGaWVsZHMoZSx0LG4pe2lmKCFBcnJheS5pc0FycmF5KHQpKXJldHVybiBpLmdldExvZ2dlcih0aGlzKS53YXJuKHRoaXMuZGVjbGFyZWRDbGFzcyxcIk5vIGF0dHJpYnV0ZSBmaWVsZHMgZm91bmQuXCIpLFtdO2NvbnN0IHM9bmV3IE1hcDtmb3IoY29uc3QgaSBvZiBlKWlmKEkoaSkpe2Zvcihjb25zdCBlIG9mIGkuaW5wdXRzKWUuZGVzdHJveSgpO2kuaW5wdXRzLmxlbmd0aD0wLGkuZGVzdHJveSgpfWVsc2UgYihpKT9pLmRlc3Ryb3koKTp3KGkpJiYobnVsbCE9PWkuZWxlbWVudD9pLmRlc3Ryb3koKTpzLnNldChpLmZpZWxkLGkpKTtjb25zdCBvPVtdLHthcmNhZGVFZGl0VHlwZTpyLGZlYXR1cmU6YSxpbml0aWFsRmVhdHVyZTpsLGxheWVyOnUsdGltZVpvbmU6cH09bjtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCBlPXMuZ2V0KGkpPz9uZXcgQSh7YXJjYWRlRWRpdFR5cGU6cixmaWVsZDppLGZlYXR1cmU6YSxpbml0aWFsRmVhdHVyZTpsLGxheWVyOnUsdmFsdWU6YT8uZ2V0QXR0cmlidXRlKGkubmFtZSk/P251bGwscHJlc2VydmVzVmFsdWVXaGVuSGlkZGVuOnRoaXMuZm9ybVRlbXBsYXRlPy5wcmVzZXJ2ZUZpZWxkVmFsdWVzV2hlbkhpZGRlbix0aW1lWm9uZTpwfSk7by5wdXNoKGUpLHMuZGVsZXRlKGkpfWZvcihjb25zdFtpLGRdb2Ygcy5lbnRyaWVzKCkpcy5kZWxldGUoaSksZC5kZXN0cm95KCk7cmV0dXJuIG99X3Jlc2V0RmllbGRJbnB1dFZhbHVlcyhlKXtmb3IoY29uc3QgdCBvZiB0aGlzLmFsbEZpZWxkSW5wdXRzKXQudmFsdWU9ZS5nZXRBdHRyaWJ1dGUodC5uYW1lKX1fbWFrZUZpZWxkSW5wdXRGcm9tRWxlbWVudChlLHQsbil7Y29uc3R7YXJjYWRlRWRpdFR5cGU6cyxmZWF0dXJlOmksaW5pdGlhbEZlYXR1cmU6byxsYXllcjpyLHRpbWVab25lOmF9PXQse2ZpZWxkTmFtZTpsfT1lLHU9bCYmdGhpcy5fbGF5ZXJGaWVsZHNCeU5hbWUuZ2V0KGwpO3JldHVybiB1P25ldyBBKHthcmNhZGVFZGl0VHlwZTpzLGVsZW1lbnQ6ZSxmaWVsZDp1LHZhbHVlOmk/LmdldEF0dHJpYnV0ZShlLmZpZWxkTmFtZSk/P251bGwsZmVhdHVyZTppLGluaXRpYWxGZWF0dXJlOm8sbGF5ZXI6cixncm91cDpuLHByZXNlcnZlc1ZhbHVlV2hlbkhpZGRlbjp0aGlzLmZvcm1UZW1wbGF0ZT8ucHJlc2VydmVGaWVsZFZhbHVlc1doZW5IaWRkZW4sdGltZVpvbmU6YX0pOm51bGx9X21ha2VHcm91cElucHV0RnJvbUVsZW1lbnQoZSx0KXtjb25zdHtmZWF0dXJlOm4sbGF5ZXI6c309dDtyZXR1cm4gbmV3IEgoe2VsZW1lbnQ6ZSxpbnB1dHM6W10sZmVhdHVyZTpuLGxheWVyOnN9KX1fbWFrZVJlbGF0aW9uc2hpcElucHV0RnJvbUVsZW1lbnQoZSx0LG49bnVsbCl7Y29uc3R7bWFwOnN9PXRoaXMse2ZlYXR1cmU6aSxsYXllcjpvLHRpbWVab25lOnJ9PXQ7cmV0dXJuIG5ldyBTKHtlbGVtZW50OmUsZmVhdHVyZTppLGdyb3VwOm4sbGF5ZXI6byxtYXA6cyx0aW1lWm9uZTpyfSl9X2Fzc2lnbkV4cHJlc3Npb25FeGVjdXRvcnMoZSx0LG4pe2NvbnN0IHM9RSh0KT9MOlYodCk/azpaLGk9W107Zm9yKGNvbnN0IG8gb2Ygcyl7Y29uc3Qgcz1gJHtvfUV4ZWN1dG9yYDtpZihlW3NdKXt0aGlzLl91c2VFeGVjdXRvcihlW3NdKTtjb250aW51ZX1jb25zdCBpPXRbb10se19leHByZXNzaW9uRXhlY3V0b3JMb29rdXA6cn09dGhpcztpZihudWxsIT1pJiZcIlwiIT09aSl7Y29uc3QgdD10aGlzLl9leHByZXNzaW9uSW5mb3NMb29rdXAuZ2V0KGkpPy5leHByZXNzaW9uPz9pO2lmKHIuaGFzKHQpKWVbc109dGhpcy5fdXNlRXhlY3V0b3Ioci5nZXQodCkpO2Vsc2UgaWYobi5oYXModCkpe2NvbnN0IGk9bi5nZXQodCkudGhlbigodD0+KGVbc109dCx0KSkpO24uc2V0KHQsaSl9ZWxzZXtjb25zdCBpPU0odCx0aGlzLmxheWVyKS50aGVuKChuPT4oZVtzXT10aGlzLl91c2VFeGVjdXRvcihuKSxyLnNldCh0LG4pLG4pKSk7bi5zZXQodCxpKX19fXJldHVybiBpfV9jcmVhdGVFeHByZXNzaW9uc01hbmFnZXIoZSl7Y29uc3R7X2FyY2FkZUNvbnRleHRJbmZvOnQsX2ZlYXR1cmVDbG9uZTpuLGFsbEZpZWxkSW5wdXRzOnMsZm9ybVRlbXBsYXRlOml9PXRoaXM7dGhpcy5fZXhwcmVzc2lvbnNNYW5hZ2VyPW5ldyBSKHtleGVjdXRvcnM6ZSxmZWF0dXJlOm4sYXJjYWRlQ29udGV4dEluZm86dCxmaWVsZElucHV0czpzLHByZXNlcnZlRmllbGRWYWx1ZXNXaGVuSGlkZGVuOiEwPT09aT8ucHJlc2VydmVGaWVsZFZhbHVlc1doZW5IaWRkZW59KX1hc3luYyBfc3RhcnRFeHByZXNzaW9ucygpe2lmKDA9PT10aGlzLl9leHByZXNzaW9uRXhlY3V0b3JzSW5Vc2Uuc2l6ZSlyZXR1cm47Y29uc3QgZT1BcnJheS5mcm9tKHRoaXMuX2V4cHJlc3Npb25FeGVjdXRvcnNJblVzZSk7dGhpcy5fY3JlYXRlRXhwcmVzc2lvbnNNYW5hZ2VyKGUpLGF3YWl0IHRoaXMuX2V4cHJlc3Npb25zTWFuYWdlci5ldmFsdWF0ZUFsbCgpLmZpbmFsbHkoKCgpPT50aGlzLl9hZnRlckV4cHJlc3Npb25zRXZhbHVhdGVkKCkpKX1fc3RvcEV4cHJlc3Npb25zKCl7dGhpcy5fZXhwcmVzc2lvbnNNYW5hZ2VyPW8odGhpcy5fZXhwcmVzc2lvbnNNYW5hZ2VyKSx0aGlzLl9leHByZXNzaW9uRXhlY3V0b3JzSW5Vc2UuY2xlYXIoKX1fdXNlRXhlY3V0b3IoZSl7cmV0dXJuIHRoaXMuX2V4cHJlc3Npb25FeGVjdXRvcnNJblVzZS5hZGQoZSksZX1fYWZ0ZXJWYWx1ZUNoYW5nZShlKXtjb25zdHtuYW1lOnQsdmFsdWU6bn09ZSx7X2ZlYXR1cmVDbG9uZTpzLGZvcm1UZW1wbGF0ZTppLGxheWVyOm99PXRoaXM7aWYoIW8pcmV0dXJuO2NvbnN0IHI9cy5nZXRBdHRyaWJ1dGUodCk7cy5zZXRBdHRyaWJ1dGUodCxuKTtjb25zdHt0eXBlRmllbGROYW1lOmEsdHlwZXM6dX09aihvKTtpZih0PT09YSYmbiE9PXIpe2lmKFwic3VidHlwZS1zdWJsYXllclwiPT09by50eXBlKXtjb25zdCBlPW8ucGFyZW50Py5maW5kU3VibGF5ZXJGb3JGZWF0dXJlKHMpO3Muc291cmNlTGF5ZXI9dGhpcy5mZWF0dXJlLnNvdXJjZUxheWVyPWV9Y29uc3QgZT1uZXcgU2V0O2Zvcihjb25zdCB0IG9mIHUpaWYodC5kb21haW5zJiZcIm9iamVjdFwiPT10eXBlb2YgdC5kb21haW5zKWZvcihjb25zdCBuIG9mIE9iamVjdC5rZXlzKHQuZG9tYWlucykpZS5hZGQobik7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10aGlzLmZpbmRGaWVsZCh0KTtlJiZlLm5vdGlmeUNoYW5nZShcImRvbWFpblwiKX19aWYobnVsbCE9aSl7Y29uc3R7ZGVzY3JpcHRpb246ZSx0aXRsZTpufT1pO24mJmwobix0KSYmdGhpcy5ub3RpZnlDaGFuZ2UoXCJmb3JtVGl0bGVcIiksZSYmbChlLHQpJiZ0aGlzLm5vdGlmeUNoYW5nZShcImZvcm1EZXNjcmlwdGlvblwiKX10aGlzLl9lbWl0Q2hhbmdlRXZlbnQoZSl9X2FmdGVyRXhwcmVzc2lvbnNFdmFsdWF0ZWQoKXtjb25zdHtfZmVhdHVyZUNsb25lOmV9PXRoaXM7Zm9yKGNvbnN0IHQgb2YgdGhpcy5hbGxGaWVsZElucHV0cyl0LnZhbHVlIT09ZS5nZXRBdHRyaWJ1dGUodC5uYW1lKSYmdGhpcy5fYWZ0ZXJWYWx1ZUNoYW5nZSh0KX1fam9pbkNvbnRpbmdlbnRWYWx1ZXMoKXtjb25zdCBlPXRoaXMuX2NvbnRpbmdlbnRWYWx1ZXNDYWNoZTtpZihudWxsPT1lKXJldHVybltdO2NvbnN0e3R5cGVGaWVsZE5hbWU6dH09aih0aGlzLmxheWVyKSxuPXQ/dGhpcy5nZXRWYWx1ZSh0KTpudWxsLHM9W107Zm9yKGNvbnN0IHIgb2YgZS5maWVsZEdyb3Vwcyl7Y29uc3R7Y29udGluZ2VuY2llczplLGZpZWxkczp0LG5hbWU6aX09cixvPVtdO2Zvcihjb25zdCBzIG9mIGUpcy5pc1JldGlyZWR8fG51bGwhPXMuc3VidHlwZSYmcy5zdWJ0eXBlLmNvZGUhPT1ufHxvLnB1c2goe3ZhbHVlczpzLnZhbHVlc30pO28ubGVuZ3RoPjAmJnMucHVzaCh7bmFtZTppLGZpZWxkczp0LGNvbnRpbmdlbmNpZXM6b30pfWNvbnN0W2ksb109dGhpcy5fZ2VuZXJhdGVKb2luUGxhbihzKTtyZXR1cm5bLi4uaS5mbGF0TWFwKChlPT50aGlzLl9qb2luRmllbGRHcm91cENvbnRpbmdlbmNpZXMoZSkpKSwuLi5vLmZsYXRNYXAoKGU9PmUuY29udGluZ2VuY2llcykpXX1fZ2VuZXJhdGVKb2luUGxhbihlKXtjb25zdCB0PW5ldyBNYXAsbj1bXSxzPW5ldyBTZXQ7Zm9yKGNvbnN0IGwgb2YgZSlmb3IoY29uc3QgZSBvZiBsLmZpZWxkcylpZih0LmhhcyhlKSl7Y29uc3QgaT10LmdldChlKSxvPWwscj1baS5uYW1lLG8ubmFtZV0uc29ydCgpLmpvaW4oXCJ8XCIpO2lmKHMuaGFzKHIpKWNvbnRpbnVlO24ucHVzaChbaSxvXSkscy5hZGQociksdC5zZXQoZSxvKX1lbHNlIHQuc2V0KGUsbCk7Y29uc3QgaT1uZXcgU2V0KG4uZmxhdCgpKSxvPW5ldyBTZXQoZSk7Zm9yKGNvbnN0IGwgb2YgaSlvLmRlbGV0ZShsKTtjb25zdCByPW5ldyBNYXAsYT1uZXcgTWFwO2Zvcihjb25zdCBsIG9mIG5ldyBTZXQobi5mbGF0KCkpKXtjb25zdCBlPVN5bWJvbChsLm5hbWUpO3Iuc2V0KGUsbmV3IFNldChbbF0pKSxhLnNldChsLGUpfWZvcihjb25zdFtsLHVdb2Ygbil7Y29uc3QgZT1hLmdldChsKSx0PWEuZ2V0KHUpO2lmKGU9PT10KWNvbnRpbnVlO2NvbnN0IG49ci5nZXQoZSkscz1yLmdldCh0KTtmb3IoY29uc3QgaSBvZiBzKW4uYWRkKGkpLGEuc2V0KGksZSk7ci5kZWxldGUodCl9cmV0dXJuW1suLi5yLnZhbHVlcygpXS5tYXAoKGU9PlsuLi5lXSkpLFsuLi5vXV19X2pvaW5GaWVsZEdyb3VwQ29udGluZ2VuY2llcyhlKXtjb25zdCB0PWUuc2xpY2UoKSxuPXQuc2hpZnQoKTtsZXQgcz10LnNoaWZ0KCksaT10aGlzLl9nZW5lcmF0ZUpvaW5LZXkobi5maWVsZHMscy5maWVsZHMpLG89bmV3IFNldChbLi4ubi5maWVsZHMsLi4ucy5maWVsZHNdKSxyPW5ldyBNYXA7Zm9yKGNvbnN0IGwgb2Ygbi5jb250aW5nZW5jaWVzKXtjb25zdFtlXT10aGlzLl9oYXNoQ29udGluZ2VuY3kobCxpLmNvZGVkVmFsdWVGaWVsZHMsITApO3IuaGFzKGUpP3IuZ2V0KGUpPy5wdXNoKGwpOnIuc2V0KGUsW2xdKX1mb3IoO3QubGVuZ3RoPjA7KXtjb25zdCBlPW5ldyBNYXAsbj10LnNoaWZ0KCksYT10aGlzLl9nZW5lcmF0ZUpvaW5LZXkobyxuLmZpZWxkcyk7Zm9yKGNvbnN0IHQgb2Ygcy5jb250aW5nZW5jaWVzKXtjb25zdFtuLHNdPXRoaXMuX2hhc2hDb250aW5nZW5jeSh0LGkuY29kZWRWYWx1ZUZpZWxkcyksbz1zP3RoaXMuX2ZpbmRNYXRjaGluZ0NvbnRpbmdlbmNpZXNXaXRoQW55SGFzaE1hc2socixuKTpyLmdldChuKTtpZihyLmhhcyhQKSYmbz8ucHVzaCguLi50aGlzLl9maW5kTWF0Y2hpbmdDb250aW5nZW5jaWVzQ29udGFpbmluZ0FueSh0LHIuZ2V0KFApLGkuY29kZWRWYWx1ZUZpZWxkcykpLG51bGwhPW8pZm9yKGNvbnN0IHIgb2Ygbyl7Y29uc3Qgbj1pLnJhbmdlRmllbGRzLmxlbmd0aD4wP3RoaXMuX2pvaW5Db250aW5nZW5jaWVzV2l0aFJhbmdlRG9tYWlucyhyLHQsaS5yYW5nZUZpZWxkcyk6dGhpcy5fam9pbkNvbnRpbmdlbmNpZXMocix0KTtpZihudWxsPT1uKWJyZWFrO2NvbnN0W3NdPXRoaXMuX2hhc2hDb250aW5nZW5jeShuLGEuY29kZWRWYWx1ZUZpZWxkcywhMCk7ZS5oYXMocyk/ZS5nZXQocyk/LnB1c2gobik6ZS5zZXQocyxbbl0pfX1yPWUscz1uLGk9YSxvPW5ldyBTZXQoWy4uLm8sLi4ucy5maWVsZHNdKX1jb25zdCBhPVtdO2Zvcihjb25zdCBsIG9mIHMuY29udGluZ2VuY2llcyl7Y29uc3RbZSx0XT10aGlzLl9oYXNoQ29udGluZ2VuY3kobCxpLmNvZGVkVmFsdWVGaWVsZHMpLG49dD90aGlzLl9maW5kTWF0Y2hpbmdDb250aW5nZW5jaWVzV2l0aEFueUhhc2hNYXNrKHIsZSk6ci5nZXQoZSk7aWYoci5oYXMoUCkmJm4ucHVzaCguLi50aGlzLl9maW5kTWF0Y2hpbmdDb250aW5nZW5jaWVzQ29udGFpbmluZ0FueShsLHIuZ2V0KFApLGkuY29kZWRWYWx1ZUZpZWxkcykpLG51bGwhPW4pZm9yKGNvbnN0IHMgb2Ygbil7Y29uc3QgZT1pLnJhbmdlRmllbGRzLmxlbmd0aD4wP3RoaXMuX2pvaW5Db250aW5nZW5jaWVzV2l0aFJhbmdlRG9tYWlucyhzLGwsaS5yYW5nZUZpZWxkcyk6dGhpcy5fam9pbkNvbnRpbmdlbmNpZXMocyxsKTtudWxsIT1lJiZhLnB1c2goZSl9fXJldHVybiBhfV9qb2luQ29udGluZ2VuY2llcyhlLHQpe2NvbnN0IG49e3ZhbHVlczp7Li4uZS52YWx1ZXMsLi4udC52YWx1ZXN9fTtmb3IoY29uc3RbcyxpXW9mIE9iamVjdC5lbnRyaWVzKG4udmFsdWVzKSlcImFueVwiPT09aS5vYmplY3RUeXBlJiZudWxsIT1lLnZhbHVlc1tzXSYmKG4udmFsdWVzW3NdPWUudmFsdWVzW3NdKTtyZXR1cm4gbn1fam9pbkNvbnRpbmdlbmNpZXNXaXRoUmFuZ2VEb21haW5zKGUsdCxuKXtjb25zdCBzPXRoaXMuX2pvaW5Db250aW5nZW5jaWVzKGUsdCk7Zm9yKGNvbnN0IGkgb2Ygbil7Y29uc3Qgbj1lLnZhbHVlc1tpXSxvPXQudmFsdWVzW2ldLHtsZWZ0SXNOdWxsOnIscmlnaHRJc051bGw6YSxib3RoQXJlTnVsbDpsLGxlZnRJc0FueTp1LHJpZ2h0SXNBbnk6cCxib3RoQXJlQW55OmQsbGVmdElzUmFuZ2U6YyxyaWdodElzUmFuZ2U6Zn09dGhpcy5fY29tcGFyZU9iamVjdFR5cGVzKG4ub2JqZWN0VHlwZSxvLm9iamVjdFR5cGUpO2lmKGx8fGQpY29udGludWU7aWYociYmcHx8YSYmdSl7cy52YWx1ZXNbaV09bmV3IGgoe29iamVjdFR5cGU6XCJudWxsXCJ9KTtjb250aW51ZX1pZihyJiZmfHxhJiZjKXJldHVybiBudWxsO3U/KG4ubWluVmFsdWU9LTEvMCxuLm1heFZhbHVlPTEvMCk6cCYmKG8ubWluVmFsdWU9LTEvMCxvLm1heFZhbHVlPTEvMCk7Y29uc3QgbT1NYXRoLm1heChuLm1pblZhbHVlLG8ubWluVmFsdWUpLGc9TWF0aC5taW4obi5tYXhWYWx1ZSxvLm1heFZhbHVlKTtpZihtPmcpcmV0dXJuIG51bGw7cy52YWx1ZXNbaV09bmV3IGgoe29iamVjdFR5cGU6XCJyYW5nZVwiLG1pblZhbHVlOm0sbWF4VmFsdWU6Z30pfXJldHVybiBzfV9maW5kTWF0Y2hpbmdDb250aW5nZW5jaWVzQ29udGFpbmluZ0FueShlLHQsbil7cmV0dXJuIHQuZmlsdGVyKCh0PT5uLmV2ZXJ5KChuPT57Y29uc3Qgcz10LnZhbHVlc1tuXSxpPWUudmFsdWVzW25dO3JldHVyblwiYW55XCI9PT1zLm9iamVjdFR5cGV8fFwiYW55XCI9PT1pLm9iamVjdFR5cGV8fHMuY29kZWRWYWx1ZT8uY29kZT09PWkuY29kZWRWYWx1ZT8uY29kZX0pKSkpfV9maW5kTWF0Y2hpbmdDb250aW5nZW5jaWVzV2l0aEFueUhhc2hNYXNrKGUsdCl7Y29uc3Qgbj1SZWdFeHAoYCR7dH0kYCkscz1bXTtmb3IoY29uc3RbaSxvXW9mIGUpe2lmKGk9PT1QKWJyZWFrO24udGVzdChpKSYmcy5wdXNoKC4uLm8pfXJldHVybiBzfV9nZW5lcmF0ZUpvaW5LZXkoZSx0KXtjb25zdCBuPUFycmF5LmlzQXJyYXkoZSk/bmV3IFNldChlKTplLHM9QXJyYXkuaXNBcnJheSh0KT9uZXcgU2V0KHQpOnQsaT1uLnNpemU8cy5zaXplP246cyxvPWk9PT1uP3M6bixyPW5ldyBTZXQsYT1uZXcgU2V0O2Zvcihjb25zdCBsIG9mIGkpaWYoby5oYXMobCkpe2NvbnN0IGU9dGhpcy5sYXllcj8uZ2V0RmllbGREb21haW4obCx7ZmVhdHVyZTp0aGlzLmZlYXR1cmV9KTtpZihudWxsPT1lKWNvbnRpbnVlO3N3aXRjaChlLnR5cGUpe2Nhc2VcImNvZGVkLXZhbHVlXCI6ci5hZGQobCk7YnJlYWs7Y2FzZVwicmFuZ2VcIjphLmFkZChsKX19cmV0dXJue2NvZGVkVmFsdWVGaWVsZHM6Wy4uLnJdLHJhbmdlRmllbGRzOlsuLi5hXX19X2NvbnRpbmdlbmN5SXNWYWxpZChlLHQpe2NvbnN0IG49e307Zm9yKGNvbnN0e25hbWU6cyx2YWx1ZTppfW9mIHRoaXMuYWxsRmllbGRJbnB1dHMpdGhpcy5maWVsZHNXaXRoQ29udGluZ2VudFZhbHVlcy5oYXMocykmJm51bGwhPWkmJnMhPT1lJiYobltzXT1pKTtyZXR1cm4gT2JqZWN0LmVudHJpZXMobikuZXZlcnkoKChbZSxuXSk9PiF0LnZhbHVlcy5oYXNPd25Qcm9wZXJ0eShlKXx8VChuLHQudmFsdWVzW2VdKSkpfV9nZXRDb250aW5nZW50VmFsdWVPcHRpb25zRm9yRmllbGQoZSx0KXtjb25zdCBuPXRoaXMuam9pbmVkQ29udGluZ2VudFZhbHVlcy5zbGljZSgpLHM9bmV3IE1hcCxpPXtjb2RlOlwiXCIsbmFtZTp0Pz9cIk5vIHZhbHVlXCJ9O2Zvcihjb25zdCBvIG9mIG4pe2NvbnN0IHQ9by52YWx1ZXNbZV07aWYoXCJjb2RlXCI9PT10Py5vYmplY3RUeXBlfHxcIm51bGxcIj09PXQ/Lm9iamVjdFR5cGUpe2NvbnN0e2NvZGU6bixuYW1lOnJ9PXQuY29kZWRWYWx1ZSYmXCJudWxsXCIhPT10Lm9iamVjdFR5cGU/dC5jb2RlZFZhbHVlOmk7IXMuaGFzKG4pJiZ0aGlzLl9jb250aW5nZW5jeUlzVmFsaWQoZSxvKSYmcy5zZXQobix7bmFtZTpyLHZhbHVlOm59KX19cmV0dXJuWy4uLnMudmFsdWVzKCldfV9oYXNoQ29udGluZ2VuY3koZSx0LG49ITEpe2lmKHQubGVuZ3RoPDEpcmV0dXJuW1UsITFdO2NvbnN0IHM9W107bGV0IGk9ITE7Zm9yKGNvbnN0IG8gb2YgdCl7Y29uc3QgdD1lLnZhbHVlc1tvXTtpZihcImFueVwiPT09dC5vYmplY3RUeXBlKXtpZihuKXJldHVybltQLCEwXTtpPSEwLHMucHVzaChgJHtvfTouKmApfWVsc2VcIm51bGxcIj09PXQub2JqZWN0VHlwZT9zLnB1c2goYCR7b306JHtXfWApOnMucHVzaChgJHtvfToke3QuY29kZWRWYWx1ZT8uY29kZX1gKX1yZXR1cm5bcy5zb3J0KCkuam9pbihcIiZcIiksaV19X2NvbXBhcmVPYmplY3RUeXBlcyhlLHQpe3JldHVybntsZWZ0SXNOdWxsOlwibnVsbFwiPT09ZSxyaWdodElzTnVsbDpcIm51bGxcIj09PXQsYm90aEFyZU51bGw6XCJudWxsXCI9PT1lJiZcIm51bGxcIj09PXQsbGVmdElzQW55OlwiYW55XCI9PT1lLHJpZ2h0SXNBbnk6XCJhbnlcIj09PXQsYm90aEFyZUFueTpcImFueVwiPT09ZSYmXCJhbnlcIj09PXQsbGVmdElzUmFuZ2U6XCJyYW5nZVwiPT09ZSxyaWdodElzUmFuZ2U6XCJyYW5nZVwiPT09dH19fTtmdW5jdGlvbiB6KGUpe3JldHVyblwiZmllbGRcIj09PWUudHlwZXx8XCJncm91cFwiPT09ZS50eXBlfHxcInJlbGF0aW9uc2hpcFwiPT09ZS50eXBlfHwoaS5nZXRMb2dnZXIoRykud2FybihcImZvcm0taW5mbzo6dW5zdXBwb3J0ZWQtZWxlbWVudC10eXBlXCIsXCJPbmx5IGVsZW1lbnQgdHlwZXMgJ2ZpZWxkJywgJ2dyb3VwJyBhbmQgJ3JlbGF0aW9uc2hpcCcgYXJlIHN1cHBvcnRlZFwiLGBFbGVtZW50ICR7ZS5sYWJlbH0gaGFzIHVuc3VwcG9ydGVkIHR5cGUgJyR7ZS50eXBlfSdgKSwhMSl9ZShbdSgpXSwkLnByb3RvdHlwZSxcIl9leHByZXNzaW9uSW5mb3NMb29rdXBcIixudWxsKSxlKFt1KCldLCQucHJvdG90eXBlLFwiX2ZlYXR1cmVDbG9uZVwiLHZvaWQgMCksZShbdSgpXSwkLnByb3RvdHlwZSxcIl90aW1lWm9uZVwiLHZvaWQgMCksZShbdSgpXSwkLnByb3RvdHlwZSxcImFjdGl2ZVJlbGF0aW9uc2hpcElucHV0XCIsbnVsbCksZShbdSgpXSwkLnByb3RvdHlwZSxcIl9hcmNhZGVDb250ZXh0SW5mb1wiLG51bGwpLGUoW3UoKV0sJC5wcm90b3R5cGUsXCJhbGxGaWVsZElucHV0c1wiLG51bGwpLGUoW3UoKV0sJC5wcm90b3R5cGUsXCJhbGxHcm91cElucHV0c1wiLG51bGwpLGUoW3UoKV0sJC5wcm90b3R5cGUsXCJhbGxSZWxhdGlvbnNoaXBJbnB1dHNcIixudWxsKSxlKFt1KCldLCQucHJvdG90eXBlLFwiX2xheWVyRmllbGRzQnlOYW1lXCIsbnVsbCksZShbdSgpXSwkLnByb3RvdHlwZSxcImFyY2FkZUVkaXRUeXBlXCIsdm9pZCAwKSxlKFt1KCldLCQucHJvdG90eXBlLFwiY29udGluZ2VuY3lDb25zdHJhaW50VmlvbGF0aW9uc1wiLHZvaWQgMCksZShbdSgpXSwkLnByb3RvdHlwZSxcImRpc2FibGVkXCIsdm9pZCAwKSxlKFt1KCldLCQucHJvdG90eXBlLFwiZmVhdHVyZVwiLG51bGwpLGUoW3UoKV0sJC5wcm90b3R5cGUsXCJmaWVsZHNXaXRoQ29udGluZ2VudFZhbHVlc1wiLG51bGwpLGUoW3UoKV0sJC5wcm90b3R5cGUsXCJmaWVsZHNXaXRoSW52YWxpZENvZGVkVmFsdWVcIixudWxsKSxlKFt1KHt0eXBlOmN9KV0sJC5wcm90b3R5cGUsXCJmb3JtVGVtcGxhdGVcIixudWxsKSxlKFt1KCldLCQucHJvdG90eXBlLFwiZm9ybURlc2NyaXB0aW9uXCIsbnVsbCksZShbdSgpXSwkLnByb3RvdHlwZSxcImZvcm1UaXRsZVwiLG51bGwpLGUoW3UoKV0sJC5wcm90b3R5cGUsXCJmb3JtSGVhZGVyVmlzaWJsZVwiLG51bGwpLGUoW3UoKV0sJC5wcm90b3R5cGUsXCJoaWdobGlnaHRIZWxwZXJcIix2b2lkIDApLGUoW3UoKV0sJC5wcm90b3R5cGUsXCJpbnB1dHNcIix2b2lkIDApLGUoW3UoKV0sJC5wcm90b3R5cGUsXCJpbnB1dEZpZWxkc1wiLG51bGwpLGUoW3UoKV0sJC5wcm90b3R5cGUsXCJqb2luZWRDb250aW5nZW50VmFsdWVzXCIsbnVsbCksZShbdSgpXSwkLnByb3RvdHlwZSxcImxheWVyXCIsbnVsbCksZShbdSgpXSwkLnByb3RvdHlwZSxcIm1hcFwiLHZvaWQgMCksZShbdSgpXSwkLnByb3RvdHlwZSxcInJlbGF0ZWRSZWNvcmRDYWxsYmFja3NcIix2b2lkIDApLGUoW3UoKV0sJC5wcm90b3R5cGUsXCJyZWxhdGlvbnNoaXBJZFwiLG51bGwpLGUoW3UoKV0sJC5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsbnVsbCksZShbdSgpXSwkLnByb3RvdHlwZSxcInN0YXRlXCIsbnVsbCksZShbdSgpXSwkLnByb3RvdHlwZSxcInN0cmljdFwiLHZvaWQgMCksZShbdSgpXSwkLnByb3RvdHlwZSxcInN1Ym1pdHRhYmxlXCIsbnVsbCksZShbdSgpXSwkLnByb3RvdHlwZSxcInRpbWVab25lXCIsbnVsbCksZShbdSgpXSwkLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbdSgpXSwkLnByb3RvdHlwZSxcInZhbGlkXCIsbnVsbCksZShbdSgpXSwkLnByb3RvdHlwZSxcInZpZXdcIixudWxsKSxlKFt1KCldLCQucHJvdG90eXBlLFwiZ2V0VmFsdWVzXCIsbnVsbCksZShbdSgpXSwkLnByb3RvdHlwZSxcInN1Ym1pdFwiLG51bGwpLCQ9ZShbcChHKV0sJCk7Y29uc3QgRD0kO2V4cG9ydHtEIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtjcmVhdGVBcmNhZGVQcm9maWxlIGFzIGUsY3JlYXRlQXJjYWRlRXhlY3V0b3IgYXMgcn1mcm9tXCIuLi8uLi9hcmNhZGUuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e2RlYm91bmNlIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgYX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGx9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgaX1mcm9tXCIuLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0e2ZpeEZpZWxkcyBhcyBufWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2ZpZWxkVXRpbHMuanNcIjt2YXIgdTtjb25zdCBjPVN5bWJvbChcIkZvcm1FeHByZXNzaW9uQXJjYWRlRXhlY3V0b3JcIik7bGV0IHA9Y2xhc3MgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXNbdV09ITAsdGhpcy5fbGFzdEV2YWx1YXRlZFZhbHVlPW51bGwsdGhpcy5fYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsdGhpcy5fc3RhbGU9ITEsdGhpcy5fdXBkYXRpbmdUcmFja2luZz1uZXcgaSx0aGlzLl9leGVjdXRlQXN5bmNEZWJvdW5jZWQ9bygoYXN5bmModCxlLHIpPT57Y29uc3Qgcz1hd2FpdCB0aGlzLmV4ZWN1dG9yLmV4ZWN1dGVBc3luYyh0LHsuLi5lLGFib3J0U2lnbmFsOnJ9KTtyZXR1cm4gci5hYm9ydGVkP3RoaXMuX2xhc3RFdmFsdWF0ZWRWYWx1ZToodGhpcy5fbGFzdEV2YWx1YXRlZFZhbHVlPXMsdGhpcy5fc3RhbGU9ITEscyl9KSl9Z2V0IGlzQXN5bmMoKXtyZXR1cm4gdGhpcy5leGVjdXRvci5pc0FzeW5jfWdldCBmaWVsZHNVc2VkKCl7cmV0dXJuIHRoaXMuZXhlY3V0b3IuZmllbGRzVXNlZH1nZXQgc3ludGF4VHJlZSgpe3JldHVybiB0aGlzLmV4ZWN1dG9yLnN5bnRheFRyZWV9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMuX3VwZGF0aW5nVHJhY2tpbmcudXBkYXRpbmd9Z2V0IHN0YWxlKCl7cmV0dXJuIHRoaXMuX3N0YWxlfWdldCBnZW9tZXRyeVVzZWQoKXtyZXR1cm4gdGhpcy5leGVjdXRvci5nZW9tZXRyeVVzZWR9Z2V0IHZhcmlhYmxlc1VzZWQoKXtyZXR1cm4gdGhpcy5leGVjdXRvci52YXJpYWJsZXNVc2VkfWdldCBsYXN0RXZhbHVhdGVkVmFsdWUoKXtyZXR1cm4gdGhpcy5fbGFzdEV2YWx1YXRlZFZhbHVlfWFib3J0KCl7dGhpcy5fYWJvcnRDb250cm9sbGVyLmFib3J0KCl9ZXhlY3V0ZSh0LGUpe3RoaXMuX2Fib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyO2NvbnN0IHI9dGhpcy5leGVjdXRvci5leGVjdXRlKHQsey4uLmUsYWJvcnRTaWduYWw6dGhpcy5fYWJvcnRDb250cm9sbGVyLnNpZ25hbH0pO3JldHVybiB0aGlzLl9sYXN0RXZhbHVhdGVkVmFsdWU9cixyfWFzeW5jIGV4ZWN1dGVBc3luYyh0LGUpe3JldHVybiB0aGlzLl9hYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcix0aGlzLl91cGRhdGluZ1RyYWNraW5nLmFkZFByb21pc2UodGhpcy5fZXhlY3V0ZUFzeW5jRGVib3VuY2VkKHQsZT8/e30sdGhpcy5fYWJvcnRDb250cm9sbGVyLnNpZ25hbCkpfW1hcmtTdGFsZSgpe3RoaXMuX3N0YWxlPSEwfXJlc2V0KCl7dGhpcy5hYm9ydCgpLHRoaXMuX2xhc3RFdmFsdWF0ZWRWYWx1ZT1udWxsLHRoaXMuX3N0YWxlPSExfX07dT1jLHQoW2EoKV0scC5wcm90b3R5cGUsXCJfbGFzdEV2YWx1YXRlZFZhbHVlXCIsdm9pZCAwKSx0KFthKCldLHAucHJvdG90eXBlLFwiX3N0YWxlXCIsdm9pZCAwKSx0KFthKCldLHAucHJvdG90eXBlLFwiX3VwZGF0aW5nVHJhY2tpbmdcIix2b2lkIDApLHQoW2Eoe2NvbnN0cnVjdE9ubHk6ITB9KV0scC5wcm90b3R5cGUsXCJleGVjdXRvclwiLHZvaWQgMCksdChbYSgpXSxwLnByb3RvdHlwZSxcImlzQXN5bmNcIixudWxsKSx0KFthKCldLHAucHJvdG90eXBlLFwiZmllbGRzVXNlZFwiLG51bGwpLHQoW2EoKV0scC5wcm90b3R5cGUsXCJzeW50YXhUcmVlXCIsbnVsbCksdChbYSgpXSxwLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksdChbYSgpXSxwLnByb3RvdHlwZSxcInN0YWxlXCIsbnVsbCksdChbYSgpXSxwLnByb3RvdHlwZSxcImdlb21ldHJ5VXNlZFwiLG51bGwpLHQoW2EoKV0scC5wcm90b3R5cGUsXCJ2YXJpYWJsZXNVc2VkXCIsbnVsbCksdChbYSgpXSxwLnByb3RvdHlwZSxcImxhc3RFdmFsdWF0ZWRWYWx1ZVwiLG51bGwpLHA9dChbbChcImVzcmkud2lkZ2V0cy5GZWF0dXJlRm9ybS5Gb3JtRXhwcmVzc2lvbkFyY2FkZUV4ZWN1dG9yXCIpXSxwKTtjb25zdCBkPWFzeW5jKHQscyk9Pntjb25zdCBvPWUoXCJmb3JtLWNhbGN1bGF0aW9uXCIpLGE9YXdhaXQgcih0LG8se30pO3JldHVybiBzPy5maWVsZHNJbmRleCYmKGEuZmllbGRzVXNlZD1uKHMuZmllbGRzSW5kZXgsYS5maWVsZHNVc2VkKSksbmV3IHAoe2V4ZWN1dG9yOmF9KX07ZXhwb3J0e3AgYXMgRm9ybUV4cHJlc3Npb25BcmNhZGVFeGVjdXRvcixkIGFzIGNyZWF0ZUZvcm1FeHByZXNzaW9uQXJjYWRlRXhlY3V0b3J9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7Z2V0T3JDcmVhdGVNYXBWYWx1ZSBhcyBzfWZyb21cIi4uLy4uL2NvcmUvTWFwVXRpbHMuanNcIjtpbXBvcnR7aXNBYm9ydEVycm9yIGFzIHIsY3JlYXRlUmVzb2x2ZXIgYXMgb31mcm9tXCIuLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBhfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7Y29uc3Qgbj1cIiNKU0FQSV9GT1JNX0VYUFJFU1NJT05TX01BTkFHRVJfR0VPTUVUUllcIixsPVwiZXNyaS53aWRnZXRzLkZlYXR1cmVGb3JtLkZvcm1FeHByZXNzaW9uc01hbmFnZXJcIjtsZXQgYz1jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fZmllbGRSZWZlcmVuY2VzTG9va3VwPW5ldyBNYXAsdGhpcy5fZmllbGRzQWZmZWN0ZWRMb29rdXA9bmV3IE1hcCx0aGlzLnByZXNlcnZlRmllbGRWYWx1ZXNXaGVuSGlkZGVuPSEwLHRoaXMuX2xhdGVzdEZpZWxkVmFsdWVzPXsuLi5lLmZlYXR1cmUuYXR0cmlidXRlc319aW5pdGlhbGl6ZSgpe3RoaXMuX2RlcGVuZGVuY3lHcmFwaD10aGlzLl9idWlsZERlcGVuZGVuY3lHcmFwaCgpfWRlc3Ryb3koKXt0aGlzLnJlc2V0RXhlY3V0b3JzKCl9Z2V0IF9iYXNlQ29udGV4dCgpe2NvbnN0e2VkaXRUeXBlOmUsbGF5ZXI6dCxtYXA6cyxvcmlnaW5hbEZlYXR1cmU6cixzcGF0aWFsUmVmZXJlbmNlOm8sdGltZVpvbmU6YX09dGhpcy5hcmNhZGVDb250ZXh0SW5mbyxpPVwiZmVhdHVyZVwiPT09dD8udHlwZT90Olwic2NlbmVcIj09PXQ/LnR5cGUmJm51bGwhPXQuYXNzb2NpYXRlZExheWVyP3QuYXNzb2NpYXRlZExheWVyOnZvaWQgMDtyZXR1cm5beyRvcmlnaW5hbGZlYXR1cmU6ciwkZWRpdGNvbnRleHQ6e2VkaXRUeXBlOmV9LCRsYXllcjppLCRmZWF0dXJlc2V0OmksJGRhdGFzdG9yZTp0Py51cmwsJG1hcDpzfSx7cmF3T3V0cHV0OiEwLHNwYXRpYWxSZWZlcmVuY2U6bz8/dm9pZCAwLHRpbWVab25lOmF9XX1zZXQgZmVhdHVyZShlKXt0aGlzLl9sYXRlc3RGaWVsZFZhbHVlcz17Li4uZT8uYXR0cmlidXRlc30sdGhpcy5fc2V0KFwiZmVhdHVyZVwiLGUpfWV2YWx1YXRlQWxsKCl7cmV0dXJuIHRoaXMuX2V2YWx1YXRlKHRoaXMuZXhlY3V0b3JzKX1ldmFsdWF0ZUV4cHJlc3Npb25zKGUpe3JldHVybiB0aGlzLl9ldmFsdWF0ZShlKX1ldmFsdWF0ZUludmFsaWRhdGVkKGUpe2NvbnN0e19maWVsZFJlZmVyZW5jZXNMb29rdXA6dCxfbGF0ZXN0RmllbGRWYWx1ZXM6cyxmZWF0dXJlOnJ9PXRoaXMsbz1uZXcgU2V0O2Zvcihjb25zdCBhIG9mIGUpaWYoc1thXT1yLmdldEF0dHJpYnV0ZShhKSx0LmhhcyhhKSlmb3IoY29uc3QgZSBvZiB0LmdldChhKSlvLmFkZChlKTtyZXR1cm4gdGhpcy5fZXZhbHVhdGUoWy4uLm9dKX1hc3luYyBldmFsdWF0ZUludmFsaWRhdGVkQnlHZW9tZXRyeSgpe2lmKHRoaXMuX2ZpZWxkUmVmZXJlbmNlc0xvb2t1cC5oYXMobikpcmV0dXJuIHRoaXMuX2V2YWx1YXRlKFsuLi50aGlzLl9maWVsZFJlZmVyZW5jZXNMb29rdXAuZ2V0KG4pXSl9cmVzZXRFeGVjdXRvcnMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLmV4ZWN1dG9ycyllLnJlc2V0KCl9X2J1aWxkRGVwZW5kZW5jeUdyYXBoKCl7Y29uc3R7X2ZpZWxkUmVmZXJlbmNlc0xvb2t1cDplLF9maWVsZHNBZmZlY3RlZExvb2t1cDp0LGV4ZWN1dG9yczpyLHByZXNlcnZlRmllbGRWYWx1ZXNXaGVuSGlkZGVuOm99PXRoaXMsYT1uZXcgTWFwKHRoaXMuZmllbGRJbnB1dHMubWFwKChlPT5bZS5uYW1lLGVdKSkpLGk9ITE9PT1vLGw9bmV3IE1hcChyLm1hcCgoZT0+W2UsbmV3IEFycmF5XSkpKTtmb3IoY29uc3QgYyBvZiByKXtmb3IoY29uc3QgciBvZiBjLmZpZWxkc1VzZWQpe3MoZSxyLCgoKT0+bmV3IFNldCkpLmFkZChjKTtjb25zdCBvPWEuZ2V0KHIpO1tvPy52YWx1ZUV4cHJlc3Npb25FeGVjdXRvcixvPy5lZGl0YWJsZUV4cHJlc3Npb25FeGVjdXRvcixpP28/Lmdyb3VwPy52aXNpYmlsaXR5RXhwcmVzc2lvbkV4ZWN1dG9yOm51bGwsaT9vPy52aXNpYmlsaXR5RXhwcmVzc2lvbkV4ZWN1dG9yOm51bGxdLmZpbHRlcigoZT0+bnVsbCE9ZSYmZSE9PWMpKS5mb3JFYWNoKChlPT57bC5nZXQoZSkucHVzaChjKTtzKHQsZSwoKCk9Pm5ldyBTZXQpKS5hZGQobyl9KSl9aWYoYy5nZW9tZXRyeVVzZWQpe3MoZSxuLCgoKT0+bmV3IFNldCkpLmFkZChjKX19cmV0dXJuIGx9YXN5bmMgX2V2YWx1YXRlKGUpe2NvbnN0IHQ9bmV3IE1hcCx7X2RlcGVuZGVuY3lHcmFwaDpzLF9maWVsZHNBZmZlY3RlZExvb2t1cDpvLF9sYXRlc3RGaWVsZFZhbHVlczphfT10aGlzO2Zvcihjb25zdCByIG9mIGUpdShyLHQscyk7Zm9yKGNvbnN0W24se3Jlc29sdmVyOmwsZGVwZW5kZW5jeVByb21pc2VzOmN9XW9mIHQpe1Byb21pc2UuYWxsKGMpLnRoZW4oKGFzeW5jKCk9Pntjb25zdFtlLHRdPXRoaXMuX21ha2VDb250ZXh0KGEpO3JldHVybiBuLmV4ZWN1dGVBc3luYyhlLHQpfSkpLnRoZW4oKCgpPT57aWYoby5oYXMobikpZm9yKGNvbnN0IGUgb2Ygby5nZXQobikpdGhpcy5fbGF0ZXN0RmllbGRWYWx1ZXNbZS5uYW1lXT1lLnZhbHVlO2wucmVzb2x2ZSgpfSksKGU9PnshZXx8cihlKXx8cChlKXx8bi5tYXJrU3RhbGUoKSxsLnJlamVjdChlKX0pKX1jb25zdCBpPShhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoQXJyYXkuZnJvbSh0LnZhbHVlcygpLCgoe3Jlc29sdmVyOmV9KT0+ZS5wcm9taXNlKSkpKS5maWx0ZXIoKGU9PlwicmVqZWN0ZWRcIj09PWUuc3RhdHVzJiYhKHIoZS5yZWFzb24pfHxwKGUucmVhc29uKSkpKTtpZihpLmxlbmd0aD4wKXRocm93IG5ldyBBZ2dyZWdhdGVFcnJvcihpLFwiT25lIG9yIG1vcmUgZXhwcmVzc2lvbiBleGVjdXRpb25zIGZhaWxlZFwiKX1fbWFrZUNvbnRleHQoZSl7Y29uc3RbdCxzXT10aGlzLl9iYXNlQ29udGV4dCxyPXRoaXMuZmVhdHVyZS5jbG9uZSgpO3JldHVybiByLmF0dHJpYnV0ZXM9ZSxbey4uLnQsJGZlYXR1cmU6cn0sc119fTtlKFthKCldLGMucHJvdG90eXBlLFwiX2Jhc2VDb250ZXh0XCIsbnVsbCksZShbYSgpXSxjLnByb3RvdHlwZSxcImZlYXR1cmVcIixudWxsKSxlKFthKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGMucHJvdG90eXBlLFwicHJlc2VydmVGaWVsZFZhbHVlc1doZW5IaWRkZW5cIix2b2lkIDApLGUoW2EoKV0sYy5wcm90b3R5cGUsXCJleGVjdXRvcnNcIix2b2lkIDApLGUoW2EoKV0sYy5wcm90b3R5cGUsXCJmaWVsZElucHV0c1wiLHZvaWQgMCksZShbYSgpXSxjLnByb3RvdHlwZSxcImFyY2FkZUNvbnRleHRJbmZvXCIsdm9pZCAwKSxjPWUoW2kobCldLGMpO2NvbnN0IHU9KGUsdCxzKT0+e2lmKHQuaGFzKGUpKXJldHVybjtjb25zdCByPW8oKTt0LnNldChlLHtyZXNvbHZlcjpyLGRlcGVuZGVuY3lQcm9taXNlczpbXX0pLGUuYWJvcnQoKTtjb25zdCBhPXMuZ2V0KGUpO2Zvcihjb25zdCBvIG9mIGEpdShvLHQscyksdC5nZXQobykuZGVwZW5kZW5jeVByb21pc2VzLnB1c2goci5wcm9taXNlKX0scD1lPT5lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJtZXNzYWdlXCJpbiBlJiZcIkNhbmNlbGxlZFwiPT09ZS5tZXNzYWdlO2V4cG9ydHtjIGFzIEZvcm1FeHByZXNzaW9uc01hbmFnZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtkZXByZWNhdGVkUHJvcGVydHkgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2RlcHJlY2F0ZS5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGl9ZnJvbVwiLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHJ9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBvfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7aXNGaWVsZElucHV0IGFzIG59ZnJvbVwiLi9mZWF0dXJlRm9ybVV0aWxzLmpzXCI7aW1wb3J0IHAgZnJvbVwiLi9JbnB1dEJhc2UuanNcIjtsZXQgYT1jbGFzcyBleHRlbmRzIHB7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fZXhwcmVzc2lvblRyYWNraW5nSGFuZGxlcz1uZXcgTWFwLHRoaXMudHlwZT1cImdyb3VwXCJ9aW5pdGlhbGl6ZSgpe3RoaXMuYWRkSGFuZGxlcyhbaSgoKCk9Plt0aGlzLnZpc2libGUsdGhpcy5pbnB1dHNdKSwoKFtlXSk9Pntjb25zdHtpbnB1dHM6dH09dGhpcyxzPSEhZSYmdm9pZCAwO2Zvcihjb25zdCBpIG9mIHQpbihpKSYmKGkucmVxdWlyZWQ9cyl9KSx7aW5pdGlhbDohMCxlcXVhbHM6KGUsdCk9PnRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXX0pXSl9ZGVzdHJveSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuX2V4cHJlc3Npb25UcmFja2luZ0hhbmRsZXMudmFsdWVzKCkpZS5yZW1vdmUoKX1nZXQgaW5pdGlhbFN0YXRlKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5pbml0aWFsU3RhdGV8fFwiZXhwYW5kZWRcIn1zZXQgaW5wdXRGaWVsZHMoZSl7dChzLmdldExvZ2dlcih0aGlzKSxcImlucHV0RmllbGRzXCIse3JlcGxhY2VtZW50OlwiaW5wdXRzXCIsdmVyc2lvbjpcIjQuMjdcIix3YXJuT25jZTohMH0pLHRoaXMuaW5wdXRzPWV9Z2V0IGlucHV0RmllbGRzKCl7cmV0dXJuIHQocy5nZXRMb2dnZXIodGhpcyksXCJpbnB1dEZpZWxkc1wiLHtyZXBsYWNlbWVudDpcImlucHV0c1wiLHZlcnNpb246XCI0LjI3XCIsd2Fybk9uY2U6ITB9KSx0aGlzLmlucHV0c31nZXQgaW5wdXRzKCl7cmV0dXJuIHRoaXMuX2dldChcImlucHV0c1wiKX1zZXQgaW5wdXRzKGUpe3RoaXMucmVtb3ZlQWxsSGFuZGxlcygpLGUmJnRoaXMuYWRkSGFuZGxlcyhlLm1hcCgoZT0+aSgoKCk9PmUudmlzaWJsZSksKCgpPT50aGlzLl9kaXJ0eUV2YWx1YXRlZFZpc2liaWxpdHlFeHByZXNzaW9uKCkpKSkpKSx0aGlzLl9zZXQoXCJpbnB1dHNcIixlKX1nZXQgbGFiZWwoKXtyZXR1cm4gdGhpcy5lbGVtZW50LmxhYmVsfXNldCBsYWJlbChlKXtjb25zdHtlbGVtZW50OnR9PXRoaXM7dCYmKHQubGFiZWw9ZSl9Z2V0IG9wZW4oKXtyZXR1cm5cImV4cGFuZGVkXCI9PT10aGlzLmluaXRpYWxTdGF0ZX1zZXQgb3BlbihlKXt0aGlzLl9vdmVycmlkZShcIm9wZW5cIixlKX1nZXQgc3RhdGUoKXtyZXR1cm4gdChzLmdldExvZ2dlcih0aGlzKSxcInN0YXRlXCIse3JlcGxhY2VtZW50Olwib3BlblwiLHZlcnNpb246XCI0LjI4XCIsd2Fybk9uY2U6ITB9KSx0aGlzLm9wZW4/XCJleHBhbmRlZFwiOlwiY29sbGFwc2VkXCJ9c2V0IHN0YXRlKGUpe3Qocy5nZXRMb2dnZXIodGhpcyksXCJzdGF0ZVwiLHtyZXBsYWNlbWVudDpcIm9wZW5cIix2ZXJzaW9uOlwiNC4yOFwiLHdhcm5PbmNlOiEwfSksdGhpcy5vcGVuPVwiZXhwYW5kZWRcIj09PWV9Z2V0IHZpc2libGUoKXtyZXR1cm4hMSE9PXRoaXMuZXZhbHVhdGVkVmlzaWJpbGl0eUV4cHJlc3Npb24mJnRoaXMuaW5wdXRzJiZ0aGlzLmlucHV0cy5zb21lKChlPT5lLnZpc2libGUpKX1fZGlydHlFdmFsdWF0ZWRWaXNpYmlsaXR5RXhwcmVzc2lvbigpe2NvbnN0e2VsZW1lbnQ6ZX09dGhpcztlLnZpc2liaWxpdHlFeHByZXNzaW9uJiZ0aGlzLm5vdGlmeUNoYW5nZShcImV2YWx1YXRlZFZpc2liaWxpdHlFeHByZXNzaW9uXCIpfX07ZShbcigpXSxhLnByb3RvdHlwZSxcImluaXRpYWxTdGF0ZVwiLG51bGwpLGUoW3IoKV0sYS5wcm90b3R5cGUsXCJpbnB1dHNcIixudWxsKSxlKFtyKCldLGEucHJvdG90eXBlLFwibGFiZWxcIixudWxsKSxlKFtyKCldLGEucHJvdG90eXBlLFwib3BlblwiLG51bGwpLGUoW3IoKV0sYS5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxlKFtyKCldLGEucHJvdG90eXBlLFwidmlzaWJsZVwiLG51bGwpLGE9ZShbbyhcImVzcmkud2lkZ2V0cy5GZWF0dXJlRm9ybS5Hcm91cElucHV0XCIpXSxhKTtjb25zdCBsPWE7ZXhwb3J0e2wgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e3dhdGNoIGFzIHQsaW5pdGlhbCBhcyByfWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBpfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2dldEVmZmVjdGl2ZUxheWVyQ2FwYWJpbGl0aWVzIGFzIHN9ZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvbGF5ZXJVdGlscy5qc1wiO2ltcG9ydCBvIGZyb21cIi4uL0ZlYXR1cmUvRmVhdHVyZVJlbGF0aW9uc2hpcC9GZWF0dXJlUmVsYXRpb25zaGlwVmlld01vZGVsLmpzXCI7aW1wb3J0e2lzUmVsYXRhYmxlRmVhdHVyZVN1cHBvcnRlZExheWVyIGFzIGF9ZnJvbVwiLi4vRmVhdHVyZS9zdXBwb3J0L2ZlYXR1cmVVdGlscy5qc1wiO2ltcG9ydCBuIGZyb21cIi4vRWRpdGFibGVJbnB1dC5qc1wiO2ltcG9ydHtnZXRDb21wdXRlZEF0dHJpYnV0ZXMgYXMgcCxwYXJzZUZvcm1UZW1wbGF0ZVN0cmluZyBhcyBkfWZyb21cIi4vZmVhdHVyZUZvcm1VdGlscy5qc1wiO2NvbnN0IHU9MztsZXQgaD1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fcmVsYXRpb25zaGlwVk09bnVsbCx0aGlzLmdyb3VwPW51bGwsdGhpcy50eXBlPVwicmVsYXRpb25zaGlwXCIsdGhpcy5hZGRIYW5kbGVzKFt0KCgoKT0+KHtmZWF0dXJlOnRoaXMuZmVhdHVyZSxlbGVtZW50OnRoaXMuZWxlbWVudCxsYXllcjp0aGlzLmxheWVyfSkpLChlPT50aGlzLl9jcmVhdGVSZWxhdGlvbnNoaXBWTShlKSkscildKX1kZXN0cm95KCl7dGhpcy5fcmVsYXRpb25zaGlwVk0/LmRlc3Ryb3koKX1nZXQgY2FuQWRkUmVsYXRlZEZlYXR1cmUoKXtjb25zdHtlZGl0YWJsZTplLGZlYXR1cmVDb3VudDp0LHJlbGF0aW9uc2hpcDpyfT10aGlzO2lmKCFyfHwhdGhpcy5sb2FkZWR8fCF0aGlzLnJlbGF0ZWRMYXllckFsbG93c0FkZHMpcmV0dXJuITE7Y29uc3R7Y2FyZGluYWxpdHk6aSxyb2xlOmx9PXI7cmV0dXJuIShcIm9uZS10by1vbmVcIj09PWkmJnQ+MCkmJihcIm1hbnktdG8tbWFueVwiIT09aSYmKCEoXCJvbmUtdG8tbWFueVwiPT09aSYmXCJkZXN0aW5hdGlvblwiPT09bCYmdD4wKSYmZSkpfWdldCBkaXNwbGF5Q291bnQoKXtyZXR1cm4gdGhpcy5lbGVtZW50LmRpc3BsYXlDb3VudD8/dX1nZXQgZGlzcGxheVR5cGUoKXtyZXR1cm4gdGhpcy5lbGVtZW50LmRpc3BsYXlUeXBlfWdldCBlZGl0YWJsZSgpe3JldHVybiEhdGhpcy5yZWxhdGVkTGF5ZXJBbGxvd3NFZGl0cyYmKHRoaXMuZXZhbHVhdGVkRWRpdGFibGVFeHByZXNzaW9uPz8hMCl9Z2V0IGZlYXR1cmVDb3VudCgpe3JldHVybiB0aGlzLl9yZWxhdGlvbnNoaXBWTT8uZmVhdHVyZUNvdW50Pz8wfWdldCBsb2FkZWQoKXtyZXR1cm5cImxvYWRpbmdcIiE9PXRoaXMuX3JlbGF0aW9uc2hpcFZNPy5zdGF0ZX1nZXQgbWFwKCl7cmV0dXJuIHRoaXMuX2dldChcIm1hcFwiKX1zZXQgbWFwKGUpe2UmJnRoaXMuX3JlbGF0aW9uc2hpcFZNPy5zZXQoXCJtYXBcIixlKSx0aGlzLl9zZXQoXCJtYXBcIixlKX1nZXQgb3JkZXJCeUZpZWxkcygpe3JldHVybiB0aGlzLmVsZW1lbnQub3JkZXJCeUZpZWxkc31nZXQgb3JpZ2luSGFzVmFsaWRLZXkoKXtyZXR1cm4hKCF0aGlzLnJlbGF0aW9uc2hpcHx8IXRoaXMuZmVhdHVyZS5nZXRBdHRyaWJ1dGUodGhpcy5yZWxhdGlvbnNoaXAua2V5RmllbGQpKX1nZXQgcmVsYXRpb25zaGlwKCl7cmV0dXJuIHRoaXMuX3JlbGF0aW9uc2hpcFZNPy5yZWxhdGlvbnNoaXB9Z2V0IHJlbGF0aW9uc2hpcElkKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5yZWxhdGlvbnNoaXBJZH1nZXQgcmVsYXRlZEZlYXR1cmVJbmZvcygpe2NvbnN0e19yZWxhdGlvbnNoaXBWTTplLHRpbWVab25lOnR9PXRoaXM7aWYoIWU/LnJlbGF0ZWRGZWF0dXJlcz8ubGVuZ3RofHwhZT8ucmVsYXRlZExheWVyKXJldHVybltdO2NvbnN0e2l0ZW1EZXNjcmlwdGlvbkZpZWxkTmFtZTpyLHJlbGF0ZWRGZWF0dXJlczppLHJlbGF0ZWRMYXllcjpsfT1lLHM9bCYmXCJmb3JtVGVtcGxhdGVcImluIGwmJmwuZm9ybVRlbXBsYXRlP2wuZm9ybVRlbXBsYXRlLnRpdGxlOnZvaWQgMDtyZXR1cm4gaS5tYXAoKGU9PntsZXQgaTtpZihyKXtjb25zdCBzPWUuZ2V0QXR0cmlidXRlKHIpLG89bC5maWVsZHNJbmRleC5nZXQocik7aWYobyl7Y29uc3QgZT1wKHt2YWx1ZXM6W3NdLGZpZWxkczpbb10sdGltZVpvbmU6dD8/dm9pZCAwfSlbcl07bnVsbCE9ZSYmKGk9ZS50b1N0cmluZygpKX19cmV0dXJue2ZlYXR1cmU6ZSxkZXNjcmlwdGlvbjppLHRpdGxlOnM/ZCh7bGFiZWw6cyxhdHRyaWJ1dGVzOmUuYXR0cmlidXRlcyxmaWVsZHNJbmRleDpsLmZpZWxkc0luZGV4LHRpbWVab25lOnR9KTp2b2lkIDB9fSkpLnRvQXJyYXkoKX1nZXQgcmVsYXRlZExheWVyKCl7cmV0dXJuIHRoaXMuX3JlbGF0aW9uc2hpcFZNPy5yZWxhdGVkTGF5ZXJ9Z2V0IHJlbGF0ZWRMYXllcklzVGFibGUoKXtyZXR1cm4hIXRoaXMucmVsYXRlZExheWVyPy5pc1RhYmxlfWdldCByZWxhdGVkTGF5ZXJBbGxvd3NBZGRzKCl7Y29uc3R7cmVsYXRlZExheWVyOmV9PXRoaXM7aWYoIWV8fCF0aGlzLnJlbGF0ZWRMYXllckFsbG93c0VkaXRzKXJldHVybiExO2NvbnN0IHQ9cyhlKTtyZXR1cm4hIXQ/Lm9wZXJhdGlvbnM/LnN1cHBvcnRzQWRkfWdldCByZWxhdGVkTGF5ZXJBbGxvd3NFZGl0cygpe2NvbnN0e3JlbGF0ZWRMYXllcjplfT10aGlzO2lmKCFlKXJldHVybiExO2NvbnN0IHQ9cyhlKTtyZXR1cm4hIXQ/Lm9wZXJhdGlvbnM/LnN1cHBvcnRzRWRpdGluZ31nZXQgc2hvd0FsbEVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZ2V0KFwic2hvd0FsbEVuYWJsZWRcIil9c2V0IHNob3dBbGxFbmFibGVkKGUpe3RoaXMuX3JlbGF0aW9uc2hpcFZNPy5zZXQoXCJzaG93QWxsRW5hYmxlZFwiLGUpLHRoaXMuX3NldChcInNob3dBbGxFbmFibGVkXCIsZSl9Z2V0IHNob3dBbGxBY3Rpb25WaXNpYmxlKCl7cmV0dXJuIXRoaXMuc2hvd0FsbEVuYWJsZWQmJnRoaXMuZmVhdHVyZUNvdW50PjAmJnRoaXMuZmVhdHVyZUNvdW50PnRoaXMuZGlzcGxheUNvdW50fWdldCB2aXNpYmxlKCl7Y29uc3R7cmVsYXRpb25zaGlwOmV9PXRoaXM7aWYoIWUpcmV0dXJuITE7Y29uc3R7Y2FyZGluYWxpdHk6dH09ZTtyZXR1cm5cIm1hbnktdG8tbWFueVwiIT09dCYmKG51bGwhPXRoaXMuZXZhbHVhdGVkVmlzaWJpbGl0eUV4cHJlc3Npb24/dGhpcy5ldmFsdWF0ZWRWaXNpYmlsaXR5RXhwcmVzc2lvbjpudWxsIT10aGlzLmVsZW1lbnQpfWdldCB1cGRhdGluZygpe3JldHVyblwibG9hZGluZ1wiPT09dGhpcy5fcmVsYXRpb25zaGlwVk0/LnN0YXRlfHxcInF1ZXJ5aW5nXCI9PT10aGlzLl9yZWxhdGlvbnNoaXBWTT8uc3RhdGV9aW5jcmVtZW50UGFnZSgpe3RoaXMuX3JlbGF0aW9uc2hpcFZNJiZ0aGlzLl9yZWxhdGlvbnNoaXBWTS5mZWF0dXJlUGFnZSsrfWdldFJlbGF0ZWRGZWF0dXJlQnlPYmplY3RJZChlKXtyZXR1cm4gdGhpcy5fcmVsYXRpb25zaGlwVk0/LmdldFJlbGF0ZWRGZWF0dXJlQnlPYmplY3RJZChlKX1fY3JlYXRlUmVsYXRpb25zaGlwVk0oZSl7Y29uc3R7ZmVhdHVyZTp0LGVsZW1lbnQ6cixsYXllcjppfT1lO2lmKHRoaXMuX3JlbGF0aW9uc2hpcFZNPy5kZXN0cm95KCksIXR8fCFyfHwhaSlyZXR1cm47Y29uc3R7ZGlzcGxheUNvdW50OmwsbWFwOnMsb3JkZXJCeUZpZWxkczpuLHJlbGF0aW9uc2hpcElkOnAsc2hvd0FsbEVuYWJsZWQ6ZH09dGhpczthKGkpJiYodGhpcy5fcmVsYXRpb25zaGlwVk09bmV3IG8oe2dyYXBoaWM6dCxkaXNwbGF5Q291bnQ6bCxsYXllcjppLG1hcDpzLG9yZGVyQnlGaWVsZHM6bixyZWxhdGlvbnNoaXBJZDpwLHNob3dBbGxFbmFibGVkOmR9KSl9fTtlKFtpKCldLGgucHJvdG90eXBlLFwiX3JlbGF0aW9uc2hpcFZNXCIsdm9pZCAwKSxlKFtpKCldLGgucHJvdG90eXBlLFwiY2FuQWRkUmVsYXRlZEZlYXR1cmVcIixudWxsKSxlKFtpKCldLGgucHJvdG90eXBlLFwiZGlzcGxheUNvdW50XCIsbnVsbCksZShbaSgpXSxoLnByb3RvdHlwZSxcImRpc3BsYXlUeXBlXCIsbnVsbCksZShbaSgpXSxoLnByb3RvdHlwZSxcImVkaXRhYmxlXCIsbnVsbCksZShbaSgpXSxoLnByb3RvdHlwZSxcImZlYXR1cmVDb3VudFwiLG51bGwpLGUoW2koKV0saC5wcm90b3R5cGUsXCJncm91cFwiLHZvaWQgMCksZShbaSgpXSxoLnByb3RvdHlwZSxcImxvYWRlZFwiLG51bGwpLGUoW2koKV0saC5wcm90b3R5cGUsXCJtYXBcIixudWxsKSxlKFtpKCldLGgucHJvdG90eXBlLFwib3JkZXJCeUZpZWxkc1wiLG51bGwpLGUoW2koKV0saC5wcm90b3R5cGUsXCJvcmlnaW5IYXNWYWxpZEtleVwiLG51bGwpLGUoW2koKV0saC5wcm90b3R5cGUsXCJyZWxhdGlvbnNoaXBcIixudWxsKSxlKFtpKCldLGgucHJvdG90eXBlLFwicmVsYXRpb25zaGlwSWRcIixudWxsKSxlKFtpKCldLGgucHJvdG90eXBlLFwicmVsYXRlZEZlYXR1cmVJbmZvc1wiLG51bGwpLGUoW2koKV0saC5wcm90b3R5cGUsXCJyZWxhdGVkTGF5ZXJcIixudWxsKSxlKFtpKCldLGgucHJvdG90eXBlLFwicmVsYXRlZExheWVySXNUYWJsZVwiLG51bGwpLGUoW2koKV0saC5wcm90b3R5cGUsXCJyZWxhdGVkTGF5ZXJBbGxvd3NBZGRzXCIsbnVsbCksZShbaSgpXSxoLnByb3RvdHlwZSxcInJlbGF0ZWRMYXllckFsbG93c0VkaXRzXCIsbnVsbCksZShbaSgpXSxoLnByb3RvdHlwZSxcInNob3dBbGxFbmFibGVkXCIsbnVsbCksZShbaSgpXSxoLnByb3RvdHlwZSxcInNob3dBbGxBY3Rpb25WaXNpYmxlXCIsbnVsbCksZShbaSh7cmVhZE9ubHk6ITB9KV0saC5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxlKFtpKCldLGgucHJvdG90eXBlLFwidmlzaWJsZVwiLG51bGwpLGUoW2koKV0saC5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGg9ZShbbChcImVzcmkud2lkZ2V0cy5GZWF0dXJlRm9ybS5SZWxhdGlvbnNoaXBJbnB1dFwiKV0saCk7Y29uc3QgeT1oO2V4cG9ydHt5IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGU9XCJlc3JpLWZlYXR1cmUtZm9ybVwiLHQ9YCR7ZX1fX2dyb3VwYCxyPWAke2V9X19pbnB1dGAsaT1gJHtlfV9fcmVsYXRlZC1yZWNvcmRzYCxhPXtiYXNlOmUsZm9ybTpgJHtlfV9fZm9ybWAsZm9ybUhlYWRlcjpgJHtlfV9fZm9ybS1oZWFkZXJgLGxhYmVsOmAke2V9X19sYWJlbGAsbGFiZWxUZXh0Q29udGVudDpgJHtlfV9fbGFiZWwtdGV4dC1jb250ZW50YCxmaWVsZElucHV0OmAke3J9YCxpbnB1dFJhZGlvOmAke3J9LS1yYWRpb2AsaW5wdXRSYWRpb0dyb3VwOmAke3J9LS1yYWRpby1ncm91cGAsaW5wdXRSYWRpb0xhYmVsOmAke3J9LS1yYWRpby1sYWJlbGAsaW5wdXREaXNhYmxlZDpgJHtyfS0tZGlzYWJsZWRgLGlucHV0U3dpdGNoOmAke3J9LS1zd2l0Y2hgLGlucHV0SW52YWxpZDpgJHtyfS0taW52YWxpZGAsY2VudGVyZWRCdXR0b246YCR7ZX1fX2NlbnRlcmVkLWJ1dHRvbmAsZGVzY3JpcHRpb246YCR7ZX1fX2Rlc2NyaXB0aW9uLXRleHRgLGxpc3RPYnNlcnZlcjpgJHtlfV9fbGlzdC1vYnNlcnZlcmAscmVsYXRlZFJlY29yZHNIZWFkZXI6YCR7aX1faGVhZGVyYCxyZWxhdGVkUmVjb3Jkc0xhYmVsOmAke2l9X2xhYmVsYCxyZWxhdGVkUmVjb3Jkc0xpc3Q6YCR7aX1fbGlzdGAsZGF0ZUlucHV0Q29udGFpbmVyOmAke2Ake2V9X19kYXRlYH0taW5wdXQtY29udGFpbmVyYCxncm91cDp0LGdyb3VwU2VxdWVudGlhbDpgJHt0fS0tc2VxdWVudGlhbGAsZ3JvdXBBY3RpdmU6YCR7dH0tLWFjdGl2ZWB9O2V4cG9ydHthIGFzIGNzc307XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=