"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_widgets_ScaleRangeSlider_js"],{

/***/ "./node_modules/@arcgis/core/widgets/ScaleRangeSlider.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/ScaleRangeSlider.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _intl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../intl.js */ "./node_modules/@arcgis/core/intl.js");
/* harmony import */ var _core_events_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/events.js */ "./node_modules/@arcgis/core/core/events.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Slider_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Slider.js */ "./node_modules/@arcgis/core/widgets/Slider.js");
/* harmony import */ var _Widget_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Widget.js */ "./node_modules/@arcgis/core/widgets/Widget.js");
/* harmony import */ var _ScaleRangeSlider_css_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ScaleRangeSlider/css.js */ "./node_modules/@arcgis/core/widgets/ScaleRangeSlider/css.js");
/* harmony import */ var _ScaleRangeSlider_scalePreviewUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ScaleRangeSlider/scalePreviewUtils.js */ "./node_modules/@arcgis/core/widgets/ScaleRangeSlider/scalePreviewUtils.js");
/* harmony import */ var _ScaleRangeSlider_ScaleRanges_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ScaleRangeSlider/ScaleRanges.js */ "./node_modules/@arcgis/core/widgets/ScaleRangeSlider/ScaleRanges.js");
/* harmony import */ var _ScaleRangeSlider_ScaleRangeSliderViewModel_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ScaleRangeSlider/ScaleRangeSliderViewModel.js */ "./node_modules/@arcgis/core/widgets/ScaleRangeSlider/ScaleRangeSliderViewModel.js");
/* harmony import */ var _support_componentsUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./support/componentsUtils.js */ "./node_modules/@arcgis/core/widgets/support/componentsUtils.js");
/* harmony import */ var _support_globalCss_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./support/globalCss.js */ "./node_modules/@arcgis/core/widgets/support/globalCss.js");
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./support/widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var _support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./support/decorators/messageBundle.js */ "./node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js");
/* harmony import */ var _support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./support/jsxFactory.js */ "./node_modules/@arcgis/core/widgets/support/jsxFactory.js");
/* harmony import */ var _intl_number_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../intl/number.js */ "./node_modules/@arcgis/core/intl/number.js");
/* harmony import */ var _intl_substitute_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../intl/substitute.js */ "./node_modules/@arcgis/core/intl/substitute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const x={preview:!0,scaleMenus:{maxScaleMenu:!0,minScaleMenu:!0}},y={maximumFractionDigits:0},I="1:",j=16;let C=class extends _Widget_js__WEBPACK_IMPORTED_MODULE_11__["default"]{constructor(e,i){super(e,i),this._activeMenu=null,this._activeThumb=null,this._customInput=null,this._maxThumbNode=null,this._minThumbNode=null,this._previewAutoCloseTimeoutId=void 0,this._previewPopover=null,this._slider=new _Slider_js__WEBPACK_IMPORTED_MODULE_10__["default"]({thumbCreatedFunction:(e,i,l)=>{0===e?this._minThumbNode=l:1===e&&(this._maxThumbNode=l),this.addHandles([(0,_core_events_js__WEBPACK_IMPORTED_MODULE_2__.on)(l,"mouseenter",(()=>{this._activeThumb=e,this.scheduleRender()})),(0,_core_events_js__WEBPACK_IMPORTED_MODULE_2__.on)(l,"mouseleave",(()=>{this._previewAutoCloseTimeoutId||(this._activeThumb=null,this.scheduleRender())}))])}}),this.disabled=!1,this.messages=null,this.region="US",this.viewModel=new _ScaleRangeSlider_ScaleRangeSliderViewModel_js__WEBPACK_IMPORTED_MODULE_15__["default"],this.visibleElements=x,this._afterInputNumberCreate=e=>{"value"in e&&null!=e.value&&"setNumberValue"in e&&e.setNumberValue({committing:!1,value:e.value,origin:"direct"}),this._customInput=e},this._handleCustomScaleInputChange=(e,t)=>{const{viewModel:{scaleRanges:i}}=this,l=Number.parseFloat(t.value);Number.isNaN(l)?t.value=e:this._setScale(i.clampScale(l))}}loadDependencies(){return (0,_support_componentsUtils_js__WEBPACK_IMPORTED_MODULE_16__.loadCalciteComponents)({button:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_form_js-bd460c"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_button_js"), __webpack_require__.e("node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-button_js")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-button.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-button.js")),dropdown:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_debounce_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_floatin-6ba6c0"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-cd247f")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-dropdown.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-dropdown.js")),"dropdown-group":()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-dropdow-0217c5").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-dropdown-group.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-dropdown-group.js")),"dropdown-item":()=>__webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-63ba45").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-dropdown-item.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-dropdown-item.js")),icon:()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-icon_js").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-icon.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-icon.js")),"input-number":()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_form_js-bd460c"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_input-n-666268"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-fda588")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-input-number.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-input-number.js")),label:()=>__webpack_require__.e(/*! import() */ "vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-f66a9b").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-label.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-label.js")),popover:()=>Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_locale_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_debounce_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_floatin-6ba6c0"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_action_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_Heading-c0611b"), __webpack_require__.e("vendors-node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_popover_js"), __webpack_require__.e("node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-popover-289f74")]).then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-popover.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-popover.js"))})}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this.viewModel),(e=>this._slider.viewModel=e?.sliderViewModel??null),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>this._interactive),(e=>{this._slider.disabled=!e,e||this._setActiveMenu(null)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.initial),this._slider.on("thumb-drag",(({index:e})=>{this._activeThumb=e,clearTimeout(this._previewAutoCloseTimeoutId);const t=250;this._previewAutoCloseTimeoutId=setTimeout((()=>{this._previewAutoCloseTimeoutId=void 0,this._activeThumb=null}),t)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.when)((()=>!0===this.view?.stationary),(()=>this.scheduleRender()))])}destroy(){this._slider=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._slider)}get _maxScaleMenuEnabled(){const{scaleMenus:e}=this.visibleElements;return!0===e||"boolean"!=typeof e&&e.maxScaleMenu}get _minScaleMenuEnabled(){const{scaleMenus:e}=this.visibleElements;return!0===e||"boolean"!=typeof e&&e.minScaleMenu}get _interactive(){return"disabled"!==this.viewModel?.state&&!this.disabled}get effectiveMaxScale(){return this.viewModel.effectiveMaxScale}get effectiveMinScale(){return this.viewModel.effectiveMinScale}get effectiveMaxScaleLimit(){return this.viewModel.effectiveMaxScaleLimit}get effectiveMinScaleLimit(){return this.viewModel.effectiveMinScaleLimit}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get maxScale(){return this.viewModel.maxScale}set maxScale(e){this.viewModel.maxScale=e}get maxScaleLimit(){return this.viewModel.maxScaleLimit}set maxScaleLimit(e){this.viewModel.maxScaleLimit=e}get minScale(){return this.viewModel.minScale}set minScale(e){this.viewModel.minScale=e}get minScaleLimit(){return this.viewModel.minScaleLimit}set minScaleLimit(e){this.viewModel.minScaleLimit=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...x,...e,scaleMenus:"boolean"==typeof e?.scaleMenus?e.scaleMenus:{...x.scaleMenus,...e?.scaleMenus}}}formatScale(e){return`${I}${(0,_intl_number_js__WEBPACK_IMPORTED_MODULE_21__.formatNumber)(e,y)}`}render(){const{_interactive:e,_slider:t,label:i,messages:l,view:s,viewModel:{scaleRanges:a,state:n}}=this,r=l.scaleRangeLabels,o=r[a.findScaleRangeByIndex(t.values[0]).id],c=r[a.findScaleRangeByIndex(t.values[1]).id];return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{"aria-label":i,class:this.classes(_ScaleRangeSlider_css_js__WEBPACK_IMPORTED_MODULE_12__.css.base,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_17__.globalCss.widget,e?null:_support_globalCss_js__WEBPACK_IMPORTED_MODULE_17__.globalCss.disabled)},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:_ScaleRangeSlider_css_js__WEBPACK_IMPORTED_MODULE_12__.css.scaleIndicatorWrapper,dir:"ltr"},"ready"===n&&s?this._renderCurrentScaleIndicator():null,t.render(),this._renderPreviewPopover()),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:_ScaleRangeSlider_css_js__WEBPACK_IMPORTED_MODULE_12__.css.scaleMenuContainer},this._minScaleMenuEnabled?this._renderScaleMenuToggle("min",o):null,(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:_ScaleRangeSlider_css_js__WEBPACK_IMPORTED_MODULE_12__.css.scaleMenuSeparator}),this._maxScaleMenuEnabled?this._renderScaleMenuToggle("max",c):null))}_renderPreviewPopover(){const{_activeThumb:e}=this,t=null!=e&&this.visibleElements.preview,i=t?0===e?this._minThumbNode:this._maxThumbNode:"";return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("calcite-popover",{afterCreate:_support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_18__.storeNode,afterUpdate:()=>this._previewPopover?.reposition(),bind:this,"data-node-ref":"_previewPopover",label:this.messages.preview,offsetDistance:j,open:t,overlayPositioning:"fixed",placement:"top",referenceElement:i,triggerDisabled:!0},this._renderScalePreview())}_renderScalePreview(){const{_activeThumb:e,_slider:t,region:i,viewModel:{scaleRanges:l}}=this,s=0===e?t.values[0]:t.values[1],a=Object.keys(_ScaleRangeSlider_ScaleRanges_js__WEBPACK_IMPORTED_MODULE_14__["default"].RecommendedScales).indexOf(l.findScaleRangeByIndex(s).id),n={backgroundImage:(0,_ScaleRangeSlider_scalePreviewUtils_js__WEBPACK_IMPORTED_MODULE_13__.getScalePreviewSource)(i),backgroundPosition:(0,_ScaleRangeSlider_scalePreviewUtils_js__WEBPACK_IMPORTED_MODULE_13__.getScalePreviewSpriteBackgroundPosition)(a)};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:_ScaleRangeSlider_css_js__WEBPACK_IMPORTED_MODULE_12__.css.scalePreview},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:_ScaleRangeSlider_css_js__WEBPACK_IMPORTED_MODULE_12__.css.scalePreviewThumbnail,styles:n}))}_renderScaleMenuToggle(e,t){const{_activeMenu:i,_interactive:l}=this,s=i===e;return[(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("calcite-dropdown",{closeOnSelectDisabled:!0,open:s,overlayPositioning:"fixed",placement:"max"===e?"bottom-end":"bottom-start",scale:"s",onCalciteDropdownClose:({target:t})=>{this._activeMenu===e&&this._setActiveMenu(null),t.setFocus()},onCalciteDropdownOpen:()=>this._setActiveMenu(e)},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("calcite-button",{appearance:s?"outline":"transparent","aria-pressed":s.toString(),class:_ScaleRangeSlider_css_js__WEBPACK_IMPORTED_MODULE_12__.css.scaleMenuToggle,"data-type":e,disabled:!l,iconEnd:"chevron-down",scale:"s",slot:"trigger"},t),s&&"max"===e?this._renderMaxScaleMenu():null,s&&"min"===e?this._renderMinScaleMenu():null)]}_renderMinScaleMenu(){const{effectiveMaxScale:e,effectiveMinScaleLimit:t,view:i,viewModel:{scaleRanges:l}}=this,s=i?i.scale:void 0;return this._renderScaleMenu({type:"min",min:t,max:l.findScaleRange(e).minScale,viewScale:s})}_renderMaxScaleMenu(){const{effectiveMinScale:e,effectiveMaxScaleLimit:t,view:i,viewModel:{scaleRanges:l}}=this,s=i?i.scale:void 0;return this._renderScaleMenu({type:"max",min:l.findScaleRange(e).maxScale,max:t,viewScale:s})}_renderScaleMenu({viewScale:e,min:t,max:i,type:l}){const{effectiveMaxScale:s,effectiveMinScale:a,messages:n}=this,r="max"===l?s:a,o=_ScaleRangeSlider_ScaleRanges_js__WEBPACK_IMPORTED_MODULE_14__["default"].fromScaleRange({minScale:t,maxScale:i}),c=this.messages.featuredScaleLabels,d=_ScaleRangeSlider_ScaleRanges_js__WEBPACK_IMPORTED_MODULE_14__["default"].RecommendedScales,u=Object.keys(d).filter((e=>o.contains(d[e]))).map((e=>this._renderScaleMenuItem({scaleLabel:c[e],scaleValue:d[e],isSelected:r===d[e],valueVisible:"world"!==e})));return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("calcite-dropdown-group",{key:`${this.id}__scale-menu--${l}`},this._renderCustomScaleValue({currentScale:r}),null!=e?this._renderScaleMenuItem({scaleValue:e,scaleLabel:n.featuredScaleLabels.current,isSelected:r===e,valueVisible:!0}):null,u)}_renderCustomScaleValue({currentScale:e}){const{messages:t}=this,i=Math.round(e).toString();return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("calcite-dropdown-item",{afterCreate:e=>{e.setFocus()},key:"custom-scale",label:t.featuredScaleLabels.custom,onCalciteDropdownItemSelect:()=>{this._customInput?.setFocus()}},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("calcite-label",{scale:"s"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("span",null,t.featuredScaleLabels.custom),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("calcite-input-number",{afterCreate:this._afterInputNumberCreate,groupSeparator:!0,inputMode:"numeric",max:_ScaleRangeSlider_ScaleRanges_js__WEBPACK_IMPORTED_MODULE_14__["default"].RecommendedScales.world,min:0,numberButtonType:"none",placeholder:t.customScaleInputTooltip,prefixText:I,scale:"s",step:1,value:i,onCalciteInputNumberChange:({target:e})=>this._handleCustomScaleInputChange(i,e)})))}_renderScaleMenuItem(e){const{scaleValue:t,scaleLabel:i,valueVisible:l,isSelected:s}=e;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("calcite-dropdown-item",{key:i,label:i,selected:s,onCalciteDropdownItemSelect:this._setScale.bind(this,t)},i,l?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:_ScaleRangeSlider_css_js__WEBPACK_IMPORTED_MODULE_12__.css.scaleMenuSublabel},this.formatScale(t)):void 0)}_renderCurrentScaleIndicator(){const{_slider:e,messages:t,view:i,viewModel:{scaleRanges:l}}=this,s=l.clampScale(i.scale),a=this.viewModel.mapScaleToSlider(s),n=a/e.max,r=t.scaleRangeLabels[l.findScaleRangeByIndex(a).id],o=(0,_intl_substitute_js__WEBPACK_IMPORTED_MODULE_22__.substitute)(t.currentScaleTooltip,{scaleLabel:r});return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{class:_ScaleRangeSlider_css_js__WEBPACK_IMPORTED_MODULE_12__.css.scaleIndicatorContainer,key:"scale-indicator"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("div",{"aria-label":o,class:_ScaleRangeSlider_css_js__WEBPACK_IMPORTED_MODULE_12__.css.scaleIndicator,styles:{left:100*n+"%"},title:o},this.renderCurrentScaleIndicatorIcon()))}renderCurrentScaleIndicatorIcon(){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_20__.tsx)("calcite-icon",{class:_ScaleRangeSlider_css_js__WEBPACK_IMPORTED_MODULE_12__.css.scaleIndicatorIcon,icon:"caret-up",scale:"s"})}_setScale(e){"max"===this._activeMenu?this.maxScale=Math.min(e,this.effectiveMinScale-1):this.minScale=Math.max(e,this.effectiveMaxScale+1),this._setActiveMenu(null)}_setActiveMenu(e){this._activeMenu=e}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"_activeMenu",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"_activeThumb",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"_customInput",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"_maxScaleMenuEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"_minScaleMenuEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"_slider",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],C.prototype,"_interactive",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"disabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"effectiveMaxScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"effectiveMinScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"effectiveMaxScaleLimit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"effectiveMinScaleLimit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"label",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"maxScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"maxScaleLimit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_19__.messageBundle)("esri/widgets/ScaleRangeSlider/t9n/ScaleRangeSlider")],C.prototype,"messages",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"minScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"minScaleLimit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"region",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"viewModel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],C.prototype,"visibleElements",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_6__.cast)("visibleElements")],C.prototype,"castVisibleElements",null),C=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.widgets.ScaleRangeSlider")],C);const T=C;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/ScaleRangeSlider/ScaleRangeSliderViewModel.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/ScaleRangeSlider/ScaleRangeSliderViewModel.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _ScaleRanges_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ScaleRanges.js */ "./node_modules/@arcgis/core/widgets/ScaleRangeSlider/ScaleRanges.js");
/* harmony import */ var _Slider_SliderViewModel_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Slider/SliderViewModel.js */ "./node_modules/@arcgis/core/widgets/Slider/SliderViewModel.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let c=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.layer=null,this.scaleRanges=_ScaleRanges_js__WEBPACK_IMPORTED_MODULE_8__["default"].fromScaleRange({minScale:0,maxScale:0}),this.sliderViewModel=(()=>{const{max:e}=this._getSliderIndexRange(this.scaleRanges.length-1);return new _Slider_SliderViewModel_js__WEBPACK_IMPORTED_MODULE_9__["default"]({precision:10,min:0,max:e,values:[0,e]})})()}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>this.layer),(e=>e?.load().catch((()=>{})))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>({loaded:this.layer?.loaded,ready:this.view?.ready})),(({loaded:e,ready:i})=>{if(!e||!i)return;if(this._hasTiledLayer()){const e=this._getLayerResampling()?void 0:this.mapScaleToSlider(this._getTiledLayerMaxScale()),i=this.mapScaleToSlider(this._getTiledLayerMinScale());this.sliderViewModel.effectiveMax=e,this.sliderViewModel.effectiveMin=i}else{const e=this.layer&&"maxScaleRange"in this.layer?this.layer.maxScaleRange:null,{minScale:i=0,maxScale:a=0}=e??{};this.sliderViewModel.effectiveMax=0===a?void 0:this.mapScaleToSlider(a),this.sliderViewModel.effectiveMin=0===i?void 0:this.mapScaleToSlider(i)}const a=this.layer;a&&"minScale"in a&&"maxScale"in a?(this.minScale=a.minScale,this.maxScale=a.maxScale):(this.minScale=void 0,this.maxScale=void 0)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.initial)])}get effectiveMaxScale(){return 0===this.maxScale?this.maxScaleLimit:this.maxScale}get effectiveMinScale(){return 0===this.minScale?this.minScaleLimit:this.minScale}get effectiveMaxScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.effectiveMax??this.sliderViewModel.max)}get effectiveMinScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.effectiveMin??this.sliderViewModel.min)}get maxScale(){const e=this.mapSliderToScale(this.sliderViewModel.values[1]);return this._normalizeScale("max",e)}set maxScale(e){this._setMaxScaleOnSlider(e)}get maxScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.max)}set maxScaleLimit(e){this._setSliderRange({maxScale:e,minScale:this.minScaleLimit})}get minScale(){const e=this.mapSliderToScale(this.sliderViewModel.values[0]);return this._normalizeScale("min",e)}set minScale(e){this._setMinScaleOnSlider(e)}get minScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.min)}set minScaleLimit(e){this._setSliderRange({maxScale:this.maxScaleLimit,minScale:e})}get state(){const{view:e,layer:i}=this;return!e&&!i||!e&&i&&i.loaded||!i&&e&&e.ready||e&&e.ready&&i&&i.loaded?"ready":"disabled"}set view(e){this._set("view",e)}mapScaleToSlider(e){const i=this.scaleRanges.scaleToRangeIndex(e),a=this.scaleRanges.findScaleRangeByIndex(i),{maxScale:t,minScale:l}=a,{max:s,min:r}=this._getSliderIndexRange(i);return this._mapToRange(e,l,t,r,s)}mapSliderToScale(e){const i=this.scaleRanges.findScaleRangeByIndex(e),{maxScale:a,minScale:t}=i,{max:l,min:s}=this._getSliderIndexRange(e);return this._mapToRange(e,s,l,t,a)}_setSliderRange(e){this.scaleRanges=_ScaleRanges_js__WEBPACK_IMPORTED_MODULE_8__["default"].fromScaleRange(e);const{max:i}=this._getSliderIndexRange(this.scaleRanges.length-1);this.sliderViewModel.max=i,this.sliderViewModel.min=0,this.notifyChange("maxScaleLimit"),this.notifyChange("minScaleLimit")}_getSliderIndexRange(e){const i=Math.floor(e);return{min:i,max:i+.99999}}_mapToRange(e,i,a,t,l){return t+(e-i)*(l-t)/(a-i)}_setMaxScaleOnSlider(e){const{scaleRanges:i,sliderViewModel:a}=this;if(void 0!==e){const t=this.mapScaleToSlider(this._constrainMaxScaleToLayer(i.clampMaxScale(e)));a.values=[a.values[0],t]}}_setMinScaleOnSlider(e){const{scaleRanges:i,sliderViewModel:a}=this;if(void 0!==e){const t=this.mapScaleToSlider(this._constrainMinScaleToLayer(i.clampMinScale(e)));a.values=[t,a.values[1]]}}_constrainMinScaleToLayer(e){const{scaleRanges:i}=this;if(this._hasTiledLayer()){const{firstRange:a}=i,t=this._getTiledLayerMinScale(),l=.85;e=this._mapToRange(e,a.maxScale,a.minScale,0,1)>l||e>t?t:e}return e}_constrainMaxScaleToLayer(e){if(this._hasTiledLayer()&&!this._getLayerResampling()){const i=this._getTiledLayerMaxScale();e=e<i?i:e}return e}_normalizeScale(e,i){const a="max"===e?"maxScale":"minScale",t=this._hasTiledLayer()?"min"===e?this._getTiledLayerMinScale():this._getTiledLayerMaxScale():this.scaleRanges[a],l=this._hasTiledLayer()?"min"===e?this._getTiledLayerRealMinScale():this._getTiledLayerRealMaxScale():t,s=1e-6,r=0===i||l===i||Math.abs(l-i)<=s;return Number((r?0:i).toFixed(6))}_getLayerLODS(){if(!this.layer?.loaded||!("tileInfo"in this.layer))return null;return"imagery-tile"===this.layer?.type&&"Raster"===this.layer.raster?.tileType?null:this.layer.tileInfo?.lods}_getLayerResampling(){return!!this.layer?.loaded&&(!("resampling"in this.layer)||this.layer.resampling)}_getTiledLayerMinScale(){const e=this._getLayerLODS();return this.scaleRanges.clampMinScale(e[0].scale)}_getTiledLayerMaxScale(){const e=this._getLayerLODS();return e[e.length-1].scale}_getTiledLayerRealMinScale(){const e=this._getLayerLODS(),i=this.layer,a=i&&"sourceJSON"in i?i.sourceJSON?.tileInfo?.lods??e:e;return this.scaleRanges.clampMinScale(a[0].scale)}_getTiledLayerRealMaxScale(){const e=this._getLayerLODS(),i=this.layer,a=i&&"sourceJSON"in i?i.sourceJSON?.tileInfo?.lods??e:e;return a[a.length-1].scale}_hasTiledLayer(){return!!this._getLayerLODS()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],c.prototype,"effectiveMaxScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],c.prototype,"effectiveMinScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"effectiveMaxScaleLimit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"effectiveMinScaleLimit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"maxScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"maxScaleLimit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"minScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"minScaleLimit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"scaleRanges",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"sliderViewModel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],c.prototype,"state",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],c.prototype,"view",null),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.widgets.ScaleRangeSlider.ScaleRangeSliderViewModel")],c);const o=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/ScaleRangeSlider/ScaleRanges.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/ScaleRangeSlider/ScaleRanges.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var i;const c=147914382,r=[{id:"room",minScale:100},{id:"rooms",minScale:400},{id:"smallBuilding",minScale:800},{id:"building",minScale:1999},{id:"buildings",minScale:3999},{id:"street",minScale:7499},{id:"streets",minScale:14999},{id:"neighborhood",minScale:29999},{id:"town",minScale:59999},{id:"city",minScale:119999},{id:"cities",minScale:249999},{id:"metropolitanArea",minScale:499999},{id:"county",minScale:999999},{id:"counties",minScale:1999999},{id:"stateProvince",minScale:3999999},{id:"statesProvinces",minScale:6999999},{id:"countriesSmall",minScale:14999999},{id:"countriesBig",minScale:34999999},{id:"continent",minScale:99999999},{id:"world",minScale:c}];function l(e,n){const t=r,a=t.length,i=[];let c,l=e;e=e>=0?e:0,n=n>0?n:t[a-1].minScale;for(let r=0;r<a;r++){const a=Math.min(t[r].minScale,n);c=Math.min(a,n),e<=a&&l<n&&i.push({id:t[r].id,maxScale:Math.max(l,e),minScale:c}),l=c+1}return i.reverse(),s(i)}function s(e){if(0===e.length)return e;const[n]=e,t=e[e.length-1];return n.minScale===n.maxScale&&(e.shift(),n.minScale+=1),t.minScale===t.maxScale&&(e.pop(),t.maxScale-=1),e}let o=i=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this.ranges=[]}static fromScaleRange({maxScale:e,minScale:n}){return new i({ranges:l(e,n)})}static async fromLayer(e){await e.when();const n="tileInfo"in e?e.tileInfo?.lods:void 0;let t;if(n){t=l(n[n.length-1].scale,n[0].scale)}else t=l(0,0);return new i({ranges:t})}get firstRange(){return this.ranges[0]}get lastRange(){const e=this.ranges;return e[e.length-1]}get length(){return this.ranges.length}get maxScale(){return this.lastRange.maxScale}get minScale(){return this.firstRange.minScale}isMinScaleEdge(e){const{firstRange:n}=this,t=n.minScale,a=i.RecommendedScales[n.id]||n.maxScale;return e<=t&&e>=a}isMaxScaleEdge(e){const{lastRange:n}=this,t=n.maxScale;return e<=(i.RecommendedScales[n.id]||n.minScale)&&e>=t}findScaleRange(e){const n=this.ranges;let t;if(e>=n[0].maxScale)return n[0];if(e<=n[n.length-1].minScale)return n[n.length-1];for(let a=0;a<n.length;a++){const i=n[a];if(e>=i.maxScale&&e<=i.minScale){t=i;break}}return t}findScaleRangeByIndex(e){return this.ranges[this._clampScaleRangeIndex(e)]}scaleToRangeIndex(e){return this.ranges.indexOf(this.findScaleRange(e))}clampScale(e){return Math.min(this.minScale,Math.max(this.maxScale,e))}clampMinScale(e){return 0===e?this.minScale:this.clampScale(e)}clampMaxScale(e){return this.clampScale(e)}contains(e){const n=this.ranges;let t=!1;for(let a=0;a<n.length;a++){const{maxScale:i,minScale:c}=n[a];if(e>=i&&e<=c){t=!0;break}}return t}_clampScaleRangeIndex(e){const n=0;if(e<=n)return n;const t=this.ranges.length-1;return e>t?t:Math.floor(e)}};o.RecommendedScales=Object.freeze({world:c,continent:5e7,countriesBig:25e6,countriesSmall:12e6,statesProvinces:6e6,stateProvince:3e6,counties:15e5,county:75e4,metropolitanArea:32e4,cities:16e4,city:8e4,town:4e4,neighborhood:2e4,streets:1e4,street:5e3,buildings:2500,building:1250,smallBuilding:800,rooms:400,room:100}),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],o.prototype,"firstRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],o.prototype,"lastRange",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],o.prototype,"length",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],o.prototype,"maxScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],o.prototype,"minScale",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({constructOnly:!0})],o.prototype,"ranges",void 0),o=i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.widgets.ScaleRangeSlider.ScaleRanges")],o);const m=o;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/ScaleRangeSlider/css.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/ScaleRangeSlider/css.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   css: () => (/* binding */ c)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const e="esri-scale-range-slider",a=`${e}__scale-menu`,c={base:e,scaleIndicatorWrapper:`${e}__scale-indicator-wrapper`,scaleIndicator:`${e}__scale-indicator`,scaleIndicatorIcon:`${e}__scale-indicator-icon`,scaleIndicatorContainer:`${e}__scale-indicator-container`,scaleMenuContainer:`${a}-container`,scaleMenuSeparator:`${a}-separator`,scaleMenuToggle:`${a}-toggle`,scaleMenuSublabel:`${a}-sublabel`,scalePreview:`${e}__scale-preview`,scalePreviewThumbnail:`${e}__scale-preview-thumbnail`};


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/ScaleRangeSlider/scalePreviewUtils.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/ScaleRangeSlider/scalePreviewUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fallbackSpriteSheetFileName: () => (/* binding */ s),
/* harmony export */   getScalePreviewSource: () => (/* binding */ c),
/* harmony export */   getScalePreviewSpriteBackgroundPosition: () => (/* binding */ f),
/* harmony export */   languageCode: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _assets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../assets.js */ "./node_modules/@arcgis/core/assets.js");
/* harmony import */ var _intl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../intl.js */ "./node_modules/@arcgis/core/intl.js");
/* harmony import */ var _intl_locale_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../intl/locale.js */ "./node_modules/@arcgis/core/intl/locale.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s="en-wo",r=(0,_intl_locale_js__WEBPACK_IMPORTED_MODULE_2__.getLocale)().substr(0,2);var t;!function(e){e.ar="ar",e.bg="bg",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.es="es",e.et="et",e.fi="fi",e.fr="fr",e.is="is",e.it="it",e.ja="ja",e.ko="ko",e.lt="lt",e.lv="lv",e.nl="nl",e.nn="nn",e.pl="pl",e.pt="pt",e.ro="ro",e.ru="ru",e.sk="sk",e.sv="sv",e.th="th",e.zh="zh"}(t||(t={}));const i={ae:t.en,ar:t.es,at:t.de,au:t.en,be:t.nl,bg:t.bg,bo:t.es,br:t.pt,ca:t.en,ch:t.de,ci:t.fr,cl:t.es,cn:t.zh,co:t.es,cr:t.es,cz:t.cs,de:t.de,dk:t.da,ee:t.et,eg:t.en,es:t.es,fi:t.fi,fr:t.fr,gb:t.en,gl:t.da,gr:t.el,gt:t.es,hk:t.en,id:t.en,ie:t.en,il:t.en,in:t.en,iq:t.ar,is:t.is,it:t.it,jp:t.ja,ke:t.en,kr:t.ko,kw:t.ar,li:t.de,lt:t.lt,lu:t.en,lv:t.lv,ma:t.fr,mg:t.fr,ml:t.fr,mo:t.en,mx:t.es,my:t.en,ni:t.es,nl:t.nl,no:t.nn,nz:t.en,pe:t.es,pl:t.pl,pr:t.es,pt:t.pt,ro:t.ro,ru:t.ru,rw:t.en,se:t.sv,sg:t.en,sk:t.sk,sr:t.nl,sv:t.es,th:t.th,tn:t.fr,tw:t.zh,us:t.en,ve:t.es,vi:t.en,wo:t.en,za:t.en},l=new Set(["ar-iq","ar-kw","bg-bg","cs-cz","da-dk","da-gl","de-at","de-ch","de-de","de-li","el-gr","en-ae","en-au","en-ca","en-eg","en-gb","en-hk","en-id","en-ie","en-il","en-in","en-iq","en-ke","en-lu","en-mo","en-my","en-nz","en-rw","en-sg","en-us","en-vi","en-wo","en-za","es-ar","es-bo","es-cl","es-co","es-cr","es-es","es-gt","es-mx","es-ni","es-pe","es-pr","es-sv","es-ve","et-ee","fi-fi","fr-ci","fr-fr","fr-ma","fr-mg","fr-ml","fr-tn","is-is","it-it","ja-jp","ko-kr","lt-lt","lv-lv","nl-be","nl-nl","nl-sr","nn-no","pl-pl","pt-br","pt-pt","ro-ro","ru-ru","sk-sk","sv-se","th-th","zh-cn","zh-tw"]);function a(e){return e.toLowerCase()}function o(n){return`url(${(0,_assets_js__WEBPACK_IMPORTED_MODULE_0__.getAssetUrl)(`esri/widgets/ScaleRangeSlider/images/scalePreview/${n}.jpg`)})`}function c(e){e=a(e);const n=`${r}-${e}`,t=`${i[e]}-${e}`;return o(l.has(n)?n:l.has(t)?t:s)}function f(e){const n=5,s=5;if(e<0||e>=n*s)return;return`-${128*(e%n)}px -${128*Math.floor(e/s)}px`}


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/support/globalCss.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/support/globalCss.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   globalCss: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const e={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",disabledElement:"esri-disabled-element",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",noBookmarksIcon:"esri-widget__no-bookmark-icon",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfd2lkZ2V0c19TY2FsZVJhbmdlU2xpZGVyX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNnc0MsU0FBUyx1QkFBdUIsaUNBQWlDLElBQUksd0JBQXdCLGFBQWEsb0JBQW9CLG1EQUFDLENBQUMsaUJBQWlCLGlOQUFpTixtREFBQyxFQUFFLCtCQUErQiwwRUFBMEUsbURBQUMsc0JBQXNCLDBDQUEwQyxHQUFHLG1EQUFDLHNCQUFzQixnRkFBZ0YsTUFBTSwwRUFBMEUsdUZBQUMseURBQXlELG9FQUFvRSw0Q0FBNEMsc0JBQXNCLDRDQUE0QyxNQUFNLFdBQVcsZUFBZSxtQ0FBbUMsMkRBQTJELG1CQUFtQixPQUFPLG1GQUFDLEVBQUUsV0FBVyxzdUJBQW9FLGNBQWMsdW5CQUFzRSxzQkFBc0IsMFhBQTRFLHFCQUFxQix3WEFBMkUsVUFBVSwrVkFBa0Usb0JBQW9CLDR2QkFBMEUsV0FBVyx3V0FBbUUsYUFBYSxtbUNBQXFFLENBQUMsRUFBRSxhQUFhLGlCQUFpQiw2REFBQywyRUFBMkUsMkRBQUMsRUFBRSw2REFBQyw4QkFBOEIsc0RBQXNELEVBQUUsMkRBQUMsa0NBQWtDLFFBQVEsSUFBSSxrRUFBa0UsWUFBWSxpREFBaUQsOERBQThELEtBQUssR0FBRyw0REFBQyxpRUFBaUUsVUFBVSxhQUFhLDREQUFDLGVBQWUsMkJBQTJCLE1BQU0sYUFBYSxzQkFBc0Isa0RBQWtELDJCQUEyQixNQUFNLGFBQWEsc0JBQXNCLGtEQUFrRCxtQkFBbUIseURBQXlELHdCQUF3Qix3Q0FBd0Msd0JBQXdCLHdDQUF3Qyw2QkFBNkIsNkNBQTZDLDZCQUE2Qiw2Q0FBNkMsWUFBWSxzQ0FBc0MsYUFBYSxnQ0FBZ0MsWUFBWSw0QkFBNEIsYUFBYSx1QkFBdUIsZUFBZSwrQkFBK0IsZ0JBQWdCLDBCQUEwQixvQkFBb0Isb0NBQW9DLHFCQUFxQiwrQkFBK0IsZUFBZSwrQkFBK0IsZ0JBQWdCLDBCQUEwQixvQkFBb0Isb0NBQW9DLHFCQUFxQiwrQkFBK0IsV0FBVywyQkFBMkIsWUFBWSxzQkFBc0IsdUJBQXVCLE9BQU8sbUVBQW1FLG1DQUFtQyxlQUFlLFNBQVMsRUFBRSxFQUFFLDhEQUFDLE1BQU0sRUFBRSxTQUFTLE1BQU0sOERBQThELHVCQUF1QixxSEFBcUgsT0FBTyw0REFBQyxRQUFRLGtDQUFrQywwREFBQyxNQUFNLDZEQUFDLGVBQWUsNkRBQUMsV0FBVyxDQUFDLDREQUFDLFFBQVEsTUFBTSwwREFBQyxpQ0FBaUMsa0dBQWtHLDREQUFDLFFBQVEsTUFBTSwwREFBQyxvQkFBb0IscUVBQXFFLDREQUFDLFFBQVEsTUFBTSwwREFBQyxvQkFBb0Isd0VBQXdFLHdCQUF3QixNQUFNLGVBQWUsaUdBQWlHLE9BQU8sNERBQUMsb0JBQW9CLFlBQVksK0RBQUMscU9BQXFPLDZCQUE2QixzQkFBc0IsTUFBTSw2Q0FBNkMsZUFBZSxvREFBb0QseUVBQUMsOERBQThELGdCQUFnQiw4RkFBQyx1QkFBdUIsZ0hBQUMsS0FBSyxPQUFPLDREQUFDLFFBQVEsTUFBTSwwREFBQyxjQUFjLENBQUMsNERBQUMsUUFBUSxNQUFNLDBEQUFDLGdDQUFnQyxHQUFHLDRCQUE0QixNQUFNLDZCQUE2QixjQUFjLE9BQU8sNERBQUMscUJBQXFCLDhJQUE4SSxTQUFTLElBQUksNkRBQTZELGtEQUFrRCxDQUFDLDREQUFDLG1CQUFtQix1RUFBdUUsMERBQUMsMkZBQTJGLGdHQUFnRyxzQkFBc0IsTUFBTSwrREFBK0QsZUFBZSx5QkFBeUIsOEJBQThCLDhEQUE4RCxFQUFFLHNCQUFzQixNQUFNLCtEQUErRCxlQUFlLHlCQUF5Qiw4QkFBOEIsOERBQThELEVBQUUsa0JBQWtCLCtCQUErQixFQUFFLE1BQU0sbURBQW1ELHdCQUF3Qix5RUFBQyxpQkFBaUIsc0JBQXNCLHdDQUF3Qyx5RUFBQyxxR0FBcUcsNkVBQTZFLElBQUksT0FBTyw0REFBQywyQkFBMkIsT0FBTyxRQUFRLGdCQUFnQixFQUFFLEVBQUUsK0JBQStCLGVBQWUscUNBQXFDLHVGQUF1RixVQUFVLHlCQUF5QixlQUFlLEVBQUUsTUFBTSxXQUFXLGlDQUFpQyxPQUFPLDREQUFDLDBCQUEwQixnQkFBZ0IsYUFBYSx3RkFBd0YsK0JBQStCLENBQUMsNERBQUMsa0JBQWtCLFVBQVUsQ0FBQyw0REFBQywyQ0FBMkMsNERBQUMseUJBQXlCLG1GQUFtRix5RUFBQyxnS0FBZ0ssU0FBUywyQ0FBMkMsSUFBSSx3QkFBd0IsTUFBTSxzREFBc0QsR0FBRyxPQUFPLDREQUFDLDBCQUEwQixpRkFBaUYsS0FBSyw0REFBQyxRQUFRLE1BQU0sMERBQUMsbUJBQW1CLDhCQUE4QiwrQkFBK0IsTUFBTSx1Q0FBdUMsZUFBZSxtSUFBbUksZ0VBQUMsd0JBQXdCLGFBQWEsRUFBRSxPQUFPLDREQUFDLFFBQVEsTUFBTSwwREFBQywrQ0FBK0MsQ0FBQyw0REFBQyxRQUFRLHFCQUFxQiwwREFBQyx3QkFBd0IsZUFBZSxTQUFTLDBDQUEwQyxrQ0FBa0MsT0FBTyw0REFBQyxpQkFBaUIsTUFBTSwwREFBQyw4Q0FBOEMsRUFBRSxhQUFhLHlKQUF5SixrQkFBa0IscUJBQXFCLHVEQUFDLEVBQUUsc0ZBQUMsc0NBQXNDLHVEQUFDLEVBQUUsc0ZBQUMsdUNBQXVDLHVEQUFDLEVBQUUsc0ZBQUMsdUNBQXVDLHVEQUFDLEVBQUUsc0ZBQUMsNkNBQTZDLHVEQUFDLEVBQUUsc0ZBQUMsNkNBQTZDLHVEQUFDLEVBQUUsc0ZBQUMsa0NBQWtDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLG9DQUFvQyx1REFBQyxFQUFFLHNGQUFDLG1DQUFtQyx1REFBQyxFQUFFLHNGQUFDLDBDQUEwQyx1REFBQyxFQUFFLHNGQUFDLDBDQUEwQyx1REFBQyxFQUFFLHNGQUFDLCtDQUErQyx1REFBQyxFQUFFLHNGQUFDLCtDQUErQyx1REFBQyxFQUFFLHNGQUFDLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLGlDQUFpQyx1REFBQyxFQUFFLHNGQUFDLHNDQUFzQyx1REFBQyxFQUFFLHNGQUFDLEdBQUcsb0ZBQUMsdUZBQXVGLHVEQUFDLEVBQUUsc0ZBQUMsaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsc0NBQXNDLHVEQUFDLEVBQUUsc0ZBQUMsaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsNkJBQTZCLHVEQUFDLEVBQUUsc0ZBQUMsb0NBQW9DLHVEQUFDLEVBQUUsc0ZBQUMsMENBQTBDLHVEQUFDLEVBQUUsOEVBQUMsK0RBQStELHVEQUFDLEVBQUUsc0ZBQUMsc0NBQXNDLFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSmh4VjtBQUNBO0FBQ0E7QUFDQTtBQUN1ZSxvQkFBb0IseURBQUMsQ0FBQyxlQUFlLDBDQUEwQyx1REFBQyxpQkFBaUIsc0JBQXNCLDZCQUE2QixNQUFNLE1BQU0sc0RBQXNELFdBQVcsa0VBQUMsRUFBRSxzQ0FBc0MsRUFBRSxJQUFJLGFBQWEsaUJBQWlCLDZEQUFDLDZDQUE2QyxLQUFLLDZEQUFDLFFBQVEsaURBQWlELE1BQU0saUJBQWlCLElBQUksaUJBQWlCLDBCQUEwQixzSkFBc0osd0VBQXdFLEtBQUssZ0ZBQWdGLDBCQUEwQixPQUFPLGdKQUFnSixtQkFBbUIsa0lBQWtJLEVBQUUsMkRBQUMsSUFBSSx3QkFBd0IsMERBQTBELHdCQUF3QiwwREFBMEQsNkJBQTZCLDBGQUEwRiw2QkFBNkIsMEZBQTBGLGVBQWUsOERBQThELHFDQUFxQyxnQkFBZ0IsNkJBQTZCLG9CQUFvQix1REFBdUQscUJBQXFCLHNCQUFzQix1Q0FBdUMsRUFBRSxlQUFlLDhEQUE4RCxxQ0FBcUMsZ0JBQWdCLDZCQUE2QixvQkFBb0IsdURBQXVELHFCQUFxQixzQkFBc0IsdUNBQXVDLEVBQUUsWUFBWSxNQUFNLGVBQWUsTUFBTSwwRkFBMEYsWUFBWSxvQkFBb0Isb0JBQW9CLDJGQUEyRixzQkFBc0IsSUFBSSxZQUFZLDhCQUE4QixtQ0FBbUMsb0JBQW9CLG1EQUFtRCxzQkFBc0IsSUFBSSxZQUFZLDhCQUE4QixtQ0FBbUMsbUJBQW1CLGlCQUFpQix1REFBQyxtQkFBbUIsTUFBTSxNQUFNLHNEQUFzRCw0SEFBNEgsd0JBQXdCLHNCQUFzQixPQUFPLG9CQUFvQix1QkFBdUIsMkJBQTJCLHdCQUF3QixNQUFNLGdDQUFnQyxNQUFNLGVBQWUsa0ZBQWtGLDBCQUEwQix3QkFBd0IsTUFBTSxnQ0FBZ0MsTUFBTSxlQUFlLGtGQUFrRiwwQkFBMEIsNkJBQTZCLE1BQU0sY0FBYyxNQUFNLDBCQUEwQixNQUFNLGFBQWEseUNBQXlDLDJEQUEyRCxTQUFTLDZCQUE2Qix1REFBdUQsc0NBQXNDLFVBQVUsU0FBUyxxQkFBcUIsMFNBQTBTLGtDQUFrQyxnQkFBZ0IsK0RBQStELCtHQUErRyxzQkFBc0Isa0ZBQWtGLHlCQUF5Qiw2QkFBNkIsa0RBQWtELHlCQUF5Qiw2QkFBNkIsMkJBQTJCLDZCQUE2QixrR0FBa0csa0RBQWtELDZCQUE2QixrR0FBa0csMkJBQTJCLGlCQUFpQiwrQkFBK0IsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVkseUNBQXlDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHlDQUF5Qyx1REFBQyxFQUFFLHNGQUFDLCtDQUErQyx1REFBQyxFQUFFLHNGQUFDLCtDQUErQyx1REFBQyxFQUFFLHNGQUFDLGdDQUFnQyx1REFBQyxFQUFFLHNGQUFDLGlDQUFpQyx1REFBQyxFQUFFLHNGQUFDLHNDQUFzQyx1REFBQyxFQUFFLHNGQUFDLGlDQUFpQyx1REFBQyxFQUFFLHNGQUFDLHNDQUFzQyx1REFBQyxFQUFFLHNGQUFDLHNDQUFzQyx1REFBQyxFQUFFLHNGQUFDLDBDQUEwQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSw2QkFBNkIsdURBQUMsRUFBRSxzRkFBQywrQkFBK0IsdURBQUMsRUFBRSxzRkFBQyxnRUFBZ0UsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKOWlNO0FBQ0E7QUFDQTtBQUNBO0FBQzBWLE1BQU0sc0JBQXNCLHVCQUF1QixFQUFFLHdCQUF3QixFQUFFLGdDQUFnQyxFQUFFLDRCQUE0QixFQUFFLDZCQUE2QixFQUFFLDBCQUEwQixFQUFFLDRCQUE0QixFQUFFLGlDQUFpQyxFQUFFLHlCQUF5QixFQUFFLDBCQUEwQixFQUFFLDRCQUE0QixFQUFFLHNDQUFzQyxFQUFFLDRCQUE0QixFQUFFLCtCQUErQixFQUFFLG9DQUFvQyxFQUFFLHNDQUFzQyxFQUFFLHNDQUFzQyxFQUFFLG9DQUFvQyxFQUFFLGlDQUFpQyxFQUFFLHNCQUFzQixFQUFFLGdCQUFnQiwwQkFBMEIsVUFBVSxtQ0FBbUMsWUFBWSxJQUFJLEtBQUssa0NBQWtDLG1DQUFtQyw2Q0FBNkMsUUFBUSx3QkFBd0IsY0FBYyx5QkFBeUIsMkJBQTJCLDZHQUE2RyxzQkFBc0IseURBQUMsQ0FBQyxjQUFjLG1DQUFtQyx1QkFBdUIsc0JBQXNCLEVBQUUsY0FBYyxjQUFjLEVBQUUsMEJBQTBCLGVBQWUsK0NBQStDLE1BQU0sTUFBTSxvQ0FBb0MsY0FBYyxjQUFjLFNBQVMsRUFBRSxpQkFBaUIsc0JBQXNCLGdCQUFnQixvQkFBb0IscUJBQXFCLGFBQWEsMEJBQTBCLGVBQWUsK0JBQStCLGVBQWUsZ0NBQWdDLGtCQUFrQixNQUFNLGFBQWEsMkRBQTJELGtCQUFrQixrQkFBa0IsTUFBTSxZQUFZLG1CQUFtQix3REFBd0Qsa0JBQWtCLG9CQUFvQixNQUFNLGdDQUFnQyxrREFBa0QsWUFBWSxXQUFXLEtBQUssYUFBYSxpQ0FBaUMsSUFBSSxPQUFPLFNBQVMseUJBQXlCLGtEQUFrRCxxQkFBcUIsbURBQW1ELGNBQWMseURBQXlELGlCQUFpQiw4Q0FBOEMsaUJBQWlCLDBCQUEwQixZQUFZLG9CQUFvQixTQUFTLFlBQVksV0FBVyxLQUFLLE1BQU0sc0JBQXNCLE1BQU0sZUFBZSxLQUFLLE9BQU8sU0FBUyx5QkFBeUIsVUFBVSxpQkFBaUIsNkJBQTZCLDZCQUE2QixtQ0FBbUMsMFJBQTBSLEVBQUUsdURBQUMsRUFBRSxzRkFBQyxtQ0FBbUMsdURBQUMsRUFBRSxzRkFBQyxrQ0FBa0MsdURBQUMsRUFBRSxzRkFBQywrQkFBK0IsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQyxpQ0FBaUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLGlCQUFpQixvQ0FBb0MsdURBQUMsRUFBRSxzRkFBQyxrREFBa0QsVUFBK0I7Ozs7Ozs7Ozs7Ozs7OztBQ0pqbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsRUFBRSxpQkFBaUIsZ0NBQWdDLEVBQUUsNkNBQTZDLEVBQUUseUNBQXlDLEVBQUUsbURBQW1ELEVBQUUsbURBQW1ELEVBQUUsa0NBQWtDLEVBQUUsK0JBQStCLEVBQUUsOEJBQThCLEVBQUUsMkJBQTJCLEVBQUUsMENBQTBDLEVBQUUsNEJBQTZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKM2Y7QUFDQTtBQUNBO0FBQ0E7QUFDcUgsa0JBQWtCLDBEQUFDLGVBQWUsTUFBTSxhQUFhLDhRQUE4USxTQUFTLEdBQUcsU0FBUyx3a0JBQXdrQiw4bEJBQThsQixjQUFjLHVCQUF1QixjQUFjLGFBQWEsdURBQUMsc0RBQXNELEVBQUUsT0FBTyxHQUFHLGNBQWMsT0FBTyxXQUFXLEVBQUUsR0FBRyxFQUFFLE9BQU8sS0FBSyxHQUFHLEVBQUUsRUFBRSxrQ0FBa0MsY0FBYyxjQUFjLHNCQUFzQixVQUFVLFVBQVUsTUFBTSxvQkFBb0IsSUFBdUk7Ozs7Ozs7Ozs7Ozs7OztBQ0p6akU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG8xQ0FBMjJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9TY2FsZVJhbmdlU2xpZGVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvU2NhbGVSYW5nZVNsaWRlci9TY2FsZVJhbmdlU2xpZGVyVmlld01vZGVsLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvU2NhbGVSYW5nZVNsaWRlci9TY2FsZVJhbmdlcy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93aWRnZXRzL1NjYWxlUmFuZ2VTbGlkZXIvY3NzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvU2NhbGVSYW5nZVNsaWRlci9zY2FsZVByZXZpZXdVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93aWRnZXRzL3N1cHBvcnQvZ2xvYmFsQ3NzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uL2ludGwuanNcIjtpbXBvcnR7b24gYXMgdH1mcm9tXCIuLi9jb3JlL2V2ZW50cy5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgaX1mcm9tXCIuLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGwsaW5pdGlhbCBhcyBzLHdoZW4gYXMgYX1mcm9tXCIuLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbn1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e2Nhc3QgYXMgcn1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL2Nhc3QuanNcIjtpbXBvcnRcIi4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgb31mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi9TbGlkZXIuanNcIjtpbXBvcnQgZCBmcm9tXCIuL1dpZGdldC5qc1wiO2ltcG9ydHtjc3MgYXMgdX1mcm9tXCIuL1NjYWxlUmFuZ2VTbGlkZXIvY3NzLmpzXCI7aW1wb3J0e2dldFNjYWxlUHJldmlld1NvdXJjZSBhcyBtLGdldFNjYWxlUHJldmlld1Nwcml0ZUJhY2tncm91bmRQb3NpdGlvbiBhcyBwfWZyb21cIi4vU2NhbGVSYW5nZVNsaWRlci9zY2FsZVByZXZpZXdVdGlscy5qc1wiO2ltcG9ydCB2IGZyb21cIi4vU2NhbGVSYW5nZVNsaWRlci9TY2FsZVJhbmdlcy5qc1wiO2ltcG9ydCBoIGZyb21cIi4vU2NhbGVSYW5nZVNsaWRlci9TY2FsZVJhbmdlU2xpZGVyVmlld01vZGVsLmpzXCI7aW1wb3J0e2xvYWRDYWxjaXRlQ29tcG9uZW50cyBhcyBTfWZyb21cIi4vc3VwcG9ydC9jb21wb25lbnRzVXRpbHMuanNcIjtpbXBvcnR7Z2xvYmFsQ3NzIGFzIE19ZnJvbVwiLi9zdXBwb3J0L2dsb2JhbENzcy5qc1wiO2ltcG9ydHtzdG9yZU5vZGUgYXMgYn1mcm9tXCIuL3N1cHBvcnQvd2lkZ2V0VXRpbHMuanNcIjtpbXBvcnR7bWVzc2FnZUJ1bmRsZSBhcyBmfWZyb21cIi4vc3VwcG9ydC9kZWNvcmF0b3JzL21lc3NhZ2VCdW5kbGUuanNcIjtpbXBvcnR7dHN4IGFzIGd9ZnJvbVwiLi9zdXBwb3J0L2pzeEZhY3RvcnkuanNcIjtpbXBvcnR7Zm9ybWF0TnVtYmVyIGFzIF99ZnJvbVwiLi4vaW50bC9udW1iZXIuanNcIjtpbXBvcnR7c3Vic3RpdHV0ZSBhcyB3fWZyb21cIi4uL2ludGwvc3Vic3RpdHV0ZS5qc1wiO2NvbnN0IHg9e3ByZXZpZXc6ITAsc2NhbGVNZW51czp7bWF4U2NhbGVNZW51OiEwLG1pblNjYWxlTWVudTohMH19LHk9e21heGltdW1GcmFjdGlvbkRpZ2l0czowfSxJPVwiMTpcIixqPTE2O2xldCBDPWNsYXNzIGV4dGVuZHMgZHtjb25zdHJ1Y3RvcihlLGkpe3N1cGVyKGUsaSksdGhpcy5fYWN0aXZlTWVudT1udWxsLHRoaXMuX2FjdGl2ZVRodW1iPW51bGwsdGhpcy5fY3VzdG9tSW5wdXQ9bnVsbCx0aGlzLl9tYXhUaHVtYk5vZGU9bnVsbCx0aGlzLl9taW5UaHVtYk5vZGU9bnVsbCx0aGlzLl9wcmV2aWV3QXV0b0Nsb3NlVGltZW91dElkPXZvaWQgMCx0aGlzLl9wcmV2aWV3UG9wb3Zlcj1udWxsLHRoaXMuX3NsaWRlcj1uZXcgYyh7dGh1bWJDcmVhdGVkRnVuY3Rpb246KGUsaSxsKT0+ezA9PT1lP3RoaXMuX21pblRodW1iTm9kZT1sOjE9PT1lJiYodGhpcy5fbWF4VGh1bWJOb2RlPWwpLHRoaXMuYWRkSGFuZGxlcyhbdChsLFwibW91c2VlbnRlclwiLCgoKT0+e3RoaXMuX2FjdGl2ZVRodW1iPWUsdGhpcy5zY2hlZHVsZVJlbmRlcigpfSkpLHQobCxcIm1vdXNlbGVhdmVcIiwoKCk9Pnt0aGlzLl9wcmV2aWV3QXV0b0Nsb3NlVGltZW91dElkfHwodGhpcy5fYWN0aXZlVGh1bWI9bnVsbCx0aGlzLnNjaGVkdWxlUmVuZGVyKCkpfSkpXSl9fSksdGhpcy5kaXNhYmxlZD0hMSx0aGlzLm1lc3NhZ2VzPW51bGwsdGhpcy5yZWdpb249XCJVU1wiLHRoaXMudmlld01vZGVsPW5ldyBoLHRoaXMudmlzaWJsZUVsZW1lbnRzPXgsdGhpcy5fYWZ0ZXJJbnB1dE51bWJlckNyZWF0ZT1lPT57XCJ2YWx1ZVwiaW4gZSYmbnVsbCE9ZS52YWx1ZSYmXCJzZXROdW1iZXJWYWx1ZVwiaW4gZSYmZS5zZXROdW1iZXJWYWx1ZSh7Y29tbWl0dGluZzohMSx2YWx1ZTplLnZhbHVlLG9yaWdpbjpcImRpcmVjdFwifSksdGhpcy5fY3VzdG9tSW5wdXQ9ZX0sdGhpcy5faGFuZGxlQ3VzdG9tU2NhbGVJbnB1dENoYW5nZT0oZSx0KT0+e2NvbnN0e3ZpZXdNb2RlbDp7c2NhbGVSYW5nZXM6aX19PXRoaXMsbD1OdW1iZXIucGFyc2VGbG9hdCh0LnZhbHVlKTtOdW1iZXIuaXNOYU4obCk/dC52YWx1ZT1lOnRoaXMuX3NldFNjYWxlKGkuY2xhbXBTY2FsZShsKSl9fWxvYWREZXBlbmRlbmNpZXMoKXtyZXR1cm4gUyh7YnV0dG9uOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtYnV0dG9uLmpzXCIpLGRyb3Bkb3duOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtZHJvcGRvd24uanNcIiksXCJkcm9wZG93bi1ncm91cFwiOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtZHJvcGRvd24tZ3JvdXAuanNcIiksXCJkcm9wZG93bi1pdGVtXCI6KCk9PmltcG9ydChcIkBlc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1kcm9wZG93bi1pdGVtLmpzXCIpLGljb246KCk9PmltcG9ydChcIkBlc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1pY29uLmpzXCIpLFwiaW5wdXQtbnVtYmVyXCI6KCk9PmltcG9ydChcIkBlc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1pbnB1dC1udW1iZXIuanNcIiksbGFiZWw6KCk9PmltcG9ydChcIkBlc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1sYWJlbC5qc1wiKSxwb3BvdmVyOigpPT5pbXBvcnQoXCJAZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvZGlzdC9jb21wb25lbnRzL2NhbGNpdGUtcG9wb3Zlci5qc1wiKX0pfWluaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXMoW2woKCgpPT50aGlzLnZpZXdNb2RlbCksKGU9PnRoaXMuX3NsaWRlci52aWV3TW9kZWw9ZT8uc2xpZGVyVmlld01vZGVsPz9udWxsKSxzKSxsKCgoKT0+dGhpcy5faW50ZXJhY3RpdmUpLChlPT57dGhpcy5fc2xpZGVyLmRpc2FibGVkPSFlLGV8fHRoaXMuX3NldEFjdGl2ZU1lbnUobnVsbCl9KSxzKSx0aGlzLl9zbGlkZXIub24oXCJ0aHVtYi1kcmFnXCIsKCh7aW5kZXg6ZX0pPT57dGhpcy5fYWN0aXZlVGh1bWI9ZSxjbGVhclRpbWVvdXQodGhpcy5fcHJldmlld0F1dG9DbG9zZVRpbWVvdXRJZCk7Y29uc3QgdD0yNTA7dGhpcy5fcHJldmlld0F1dG9DbG9zZVRpbWVvdXRJZD1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX3ByZXZpZXdBdXRvQ2xvc2VUaW1lb3V0SWQ9dm9pZCAwLHRoaXMuX2FjdGl2ZVRodW1iPW51bGx9KSx0KX0pKSxhKCgoKT0+ITA9PT10aGlzLnZpZXc/LnN0YXRpb25hcnkpLCgoKT0+dGhpcy5zY2hlZHVsZVJlbmRlcigpKSldKX1kZXN0cm95KCl7dGhpcy5fc2xpZGVyPWkodGhpcy5fc2xpZGVyKX1nZXQgX21heFNjYWxlTWVudUVuYWJsZWQoKXtjb25zdHtzY2FsZU1lbnVzOmV9PXRoaXMudmlzaWJsZUVsZW1lbnRzO3JldHVybiEwPT09ZXx8XCJib29sZWFuXCIhPXR5cGVvZiBlJiZlLm1heFNjYWxlTWVudX1nZXQgX21pblNjYWxlTWVudUVuYWJsZWQoKXtjb25zdHtzY2FsZU1lbnVzOmV9PXRoaXMudmlzaWJsZUVsZW1lbnRzO3JldHVybiEwPT09ZXx8XCJib29sZWFuXCIhPXR5cGVvZiBlJiZlLm1pblNjYWxlTWVudX1nZXQgX2ludGVyYWN0aXZlKCl7cmV0dXJuXCJkaXNhYmxlZFwiIT09dGhpcy52aWV3TW9kZWw/LnN0YXRlJiYhdGhpcy5kaXNhYmxlZH1nZXQgZWZmZWN0aXZlTWF4U2NhbGUoKXtyZXR1cm4gdGhpcy52aWV3TW9kZWwuZWZmZWN0aXZlTWF4U2NhbGV9Z2V0IGVmZmVjdGl2ZU1pblNjYWxlKCl7cmV0dXJuIHRoaXMudmlld01vZGVsLmVmZmVjdGl2ZU1pblNjYWxlfWdldCBlZmZlY3RpdmVNYXhTY2FsZUxpbWl0KCl7cmV0dXJuIHRoaXMudmlld01vZGVsLmVmZmVjdGl2ZU1heFNjYWxlTGltaXR9Z2V0IGVmZmVjdGl2ZU1pblNjYWxlTGltaXQoKXtyZXR1cm4gdGhpcy52aWV3TW9kZWwuZWZmZWN0aXZlTWluU2NhbGVMaW1pdH1nZXQgbGFiZWwoKXtyZXR1cm4gdGhpcy5tZXNzYWdlcz8ud2lkZ2V0TGFiZWw/P1wiXCJ9c2V0IGxhYmVsKGUpe3RoaXMuX292ZXJyaWRlSWZTb21lKFwibGFiZWxcIixlKX1nZXQgbGF5ZXIoKXtyZXR1cm4gdGhpcy52aWV3TW9kZWwubGF5ZXJ9c2V0IGxheWVyKGUpe3RoaXMudmlld01vZGVsLmxheWVyPWV9Z2V0IG1heFNjYWxlKCl7cmV0dXJuIHRoaXMudmlld01vZGVsLm1heFNjYWxlfXNldCBtYXhTY2FsZShlKXt0aGlzLnZpZXdNb2RlbC5tYXhTY2FsZT1lfWdldCBtYXhTY2FsZUxpbWl0KCl7cmV0dXJuIHRoaXMudmlld01vZGVsLm1heFNjYWxlTGltaXR9c2V0IG1heFNjYWxlTGltaXQoZSl7dGhpcy52aWV3TW9kZWwubWF4U2NhbGVMaW1pdD1lfWdldCBtaW5TY2FsZSgpe3JldHVybiB0aGlzLnZpZXdNb2RlbC5taW5TY2FsZX1zZXQgbWluU2NhbGUoZSl7dGhpcy52aWV3TW9kZWwubWluU2NhbGU9ZX1nZXQgbWluU2NhbGVMaW1pdCgpe3JldHVybiB0aGlzLnZpZXdNb2RlbC5taW5TY2FsZUxpbWl0fXNldCBtaW5TY2FsZUxpbWl0KGUpe3RoaXMudmlld01vZGVsLm1pblNjYWxlTGltaXQ9ZX1nZXQgdmlldygpe3JldHVybiB0aGlzLnZpZXdNb2RlbC52aWV3fXNldCB2aWV3KGUpe3RoaXMudmlld01vZGVsLnZpZXc9ZX1jYXN0VmlzaWJsZUVsZW1lbnRzKGUpe3JldHVybnsuLi54LC4uLmUsc2NhbGVNZW51czpcImJvb2xlYW5cIj09dHlwZW9mIGU/LnNjYWxlTWVudXM/ZS5zY2FsZU1lbnVzOnsuLi54LnNjYWxlTWVudXMsLi4uZT8uc2NhbGVNZW51c319fWZvcm1hdFNjYWxlKGUpe3JldHVybmAke0l9JHtfKGUseSl9YH1yZW5kZXIoKXtjb25zdHtfaW50ZXJhY3RpdmU6ZSxfc2xpZGVyOnQsbGFiZWw6aSxtZXNzYWdlczpsLHZpZXc6cyx2aWV3TW9kZWw6e3NjYWxlUmFuZ2VzOmEsc3RhdGU6bn19PXRoaXMscj1sLnNjYWxlUmFuZ2VMYWJlbHMsbz1yW2EuZmluZFNjYWxlUmFuZ2VCeUluZGV4KHQudmFsdWVzWzBdKS5pZF0sYz1yW2EuZmluZFNjYWxlUmFuZ2VCeUluZGV4KHQudmFsdWVzWzFdKS5pZF07cmV0dXJuIGcoXCJkaXZcIix7XCJhcmlhLWxhYmVsXCI6aSxjbGFzczp0aGlzLmNsYXNzZXModS5iYXNlLE0ud2lkZ2V0LGU/bnVsbDpNLmRpc2FibGVkKX0sZyhcImRpdlwiLHtjbGFzczp1LnNjYWxlSW5kaWNhdG9yV3JhcHBlcixkaXI6XCJsdHJcIn0sXCJyZWFkeVwiPT09biYmcz90aGlzLl9yZW5kZXJDdXJyZW50U2NhbGVJbmRpY2F0b3IoKTpudWxsLHQucmVuZGVyKCksdGhpcy5fcmVuZGVyUHJldmlld1BvcG92ZXIoKSksZyhcImRpdlwiLHtjbGFzczp1LnNjYWxlTWVudUNvbnRhaW5lcn0sdGhpcy5fbWluU2NhbGVNZW51RW5hYmxlZD90aGlzLl9yZW5kZXJTY2FsZU1lbnVUb2dnbGUoXCJtaW5cIixvKTpudWxsLGcoXCJkaXZcIix7Y2xhc3M6dS5zY2FsZU1lbnVTZXBhcmF0b3J9KSx0aGlzLl9tYXhTY2FsZU1lbnVFbmFibGVkP3RoaXMuX3JlbmRlclNjYWxlTWVudVRvZ2dsZShcIm1heFwiLGMpOm51bGwpKX1fcmVuZGVyUHJldmlld1BvcG92ZXIoKXtjb25zdHtfYWN0aXZlVGh1bWI6ZX09dGhpcyx0PW51bGwhPWUmJnRoaXMudmlzaWJsZUVsZW1lbnRzLnByZXZpZXcsaT10PzA9PT1lP3RoaXMuX21pblRodW1iTm9kZTp0aGlzLl9tYXhUaHVtYk5vZGU6XCJcIjtyZXR1cm4gZyhcImNhbGNpdGUtcG9wb3ZlclwiLHthZnRlckNyZWF0ZTpiLGFmdGVyVXBkYXRlOigpPT50aGlzLl9wcmV2aWV3UG9wb3Zlcj8ucmVwb3NpdGlvbigpLGJpbmQ6dGhpcyxcImRhdGEtbm9kZS1yZWZcIjpcIl9wcmV2aWV3UG9wb3ZlclwiLGxhYmVsOnRoaXMubWVzc2FnZXMucHJldmlldyxvZmZzZXREaXN0YW5jZTpqLG9wZW46dCxvdmVybGF5UG9zaXRpb25pbmc6XCJmaXhlZFwiLHBsYWNlbWVudDpcInRvcFwiLHJlZmVyZW5jZUVsZW1lbnQ6aSx0cmlnZ2VyRGlzYWJsZWQ6ITB9LHRoaXMuX3JlbmRlclNjYWxlUHJldmlldygpKX1fcmVuZGVyU2NhbGVQcmV2aWV3KCl7Y29uc3R7X2FjdGl2ZVRodW1iOmUsX3NsaWRlcjp0LHJlZ2lvbjppLHZpZXdNb2RlbDp7c2NhbGVSYW5nZXM6bH19PXRoaXMscz0wPT09ZT90LnZhbHVlc1swXTp0LnZhbHVlc1sxXSxhPU9iamVjdC5rZXlzKHYuUmVjb21tZW5kZWRTY2FsZXMpLmluZGV4T2YobC5maW5kU2NhbGVSYW5nZUJ5SW5kZXgocykuaWQpLG49e2JhY2tncm91bmRJbWFnZTptKGkpLGJhY2tncm91bmRQb3NpdGlvbjpwKGEpfTtyZXR1cm4gZyhcImRpdlwiLHtjbGFzczp1LnNjYWxlUHJldmlld30sZyhcImRpdlwiLHtjbGFzczp1LnNjYWxlUHJldmlld1RodW1ibmFpbCxzdHlsZXM6bn0pKX1fcmVuZGVyU2NhbGVNZW51VG9nZ2xlKGUsdCl7Y29uc3R7X2FjdGl2ZU1lbnU6aSxfaW50ZXJhY3RpdmU6bH09dGhpcyxzPWk9PT1lO3JldHVybltnKFwiY2FsY2l0ZS1kcm9wZG93blwiLHtjbG9zZU9uU2VsZWN0RGlzYWJsZWQ6ITAsb3BlbjpzLG92ZXJsYXlQb3NpdGlvbmluZzpcImZpeGVkXCIscGxhY2VtZW50OlwibWF4XCI9PT1lP1wiYm90dG9tLWVuZFwiOlwiYm90dG9tLXN0YXJ0XCIsc2NhbGU6XCJzXCIsb25DYWxjaXRlRHJvcGRvd25DbG9zZTooe3RhcmdldDp0fSk9Pnt0aGlzLl9hY3RpdmVNZW51PT09ZSYmdGhpcy5fc2V0QWN0aXZlTWVudShudWxsKSx0LnNldEZvY3VzKCl9LG9uQ2FsY2l0ZURyb3Bkb3duT3BlbjooKT0+dGhpcy5fc2V0QWN0aXZlTWVudShlKX0sZyhcImNhbGNpdGUtYnV0dG9uXCIse2FwcGVhcmFuY2U6cz9cIm91dGxpbmVcIjpcInRyYW5zcGFyZW50XCIsXCJhcmlhLXByZXNzZWRcIjpzLnRvU3RyaW5nKCksY2xhc3M6dS5zY2FsZU1lbnVUb2dnbGUsXCJkYXRhLXR5cGVcIjplLGRpc2FibGVkOiFsLGljb25FbmQ6XCJjaGV2cm9uLWRvd25cIixzY2FsZTpcInNcIixzbG90OlwidHJpZ2dlclwifSx0KSxzJiZcIm1heFwiPT09ZT90aGlzLl9yZW5kZXJNYXhTY2FsZU1lbnUoKTpudWxsLHMmJlwibWluXCI9PT1lP3RoaXMuX3JlbmRlck1pblNjYWxlTWVudSgpOm51bGwpXX1fcmVuZGVyTWluU2NhbGVNZW51KCl7Y29uc3R7ZWZmZWN0aXZlTWF4U2NhbGU6ZSxlZmZlY3RpdmVNaW5TY2FsZUxpbWl0OnQsdmlldzppLHZpZXdNb2RlbDp7c2NhbGVSYW5nZXM6bH19PXRoaXMscz1pP2kuc2NhbGU6dm9pZCAwO3JldHVybiB0aGlzLl9yZW5kZXJTY2FsZU1lbnUoe3R5cGU6XCJtaW5cIixtaW46dCxtYXg6bC5maW5kU2NhbGVSYW5nZShlKS5taW5TY2FsZSx2aWV3U2NhbGU6c30pfV9yZW5kZXJNYXhTY2FsZU1lbnUoKXtjb25zdHtlZmZlY3RpdmVNaW5TY2FsZTplLGVmZmVjdGl2ZU1heFNjYWxlTGltaXQ6dCx2aWV3Omksdmlld01vZGVsOntzY2FsZVJhbmdlczpsfX09dGhpcyxzPWk/aS5zY2FsZTp2b2lkIDA7cmV0dXJuIHRoaXMuX3JlbmRlclNjYWxlTWVudSh7dHlwZTpcIm1heFwiLG1pbjpsLmZpbmRTY2FsZVJhbmdlKGUpLm1heFNjYWxlLG1heDp0LHZpZXdTY2FsZTpzfSl9X3JlbmRlclNjYWxlTWVudSh7dmlld1NjYWxlOmUsbWluOnQsbWF4OmksdHlwZTpsfSl7Y29uc3R7ZWZmZWN0aXZlTWF4U2NhbGU6cyxlZmZlY3RpdmVNaW5TY2FsZTphLG1lc3NhZ2VzOm59PXRoaXMscj1cIm1heFwiPT09bD9zOmEsbz12LmZyb21TY2FsZVJhbmdlKHttaW5TY2FsZTp0LG1heFNjYWxlOml9KSxjPXRoaXMubWVzc2FnZXMuZmVhdHVyZWRTY2FsZUxhYmVscyxkPXYuUmVjb21tZW5kZWRTY2FsZXMsdT1PYmplY3Qua2V5cyhkKS5maWx0ZXIoKGU9Pm8uY29udGFpbnMoZFtlXSkpKS5tYXAoKGU9PnRoaXMuX3JlbmRlclNjYWxlTWVudUl0ZW0oe3NjYWxlTGFiZWw6Y1tlXSxzY2FsZVZhbHVlOmRbZV0saXNTZWxlY3RlZDpyPT09ZFtlXSx2YWx1ZVZpc2libGU6XCJ3b3JsZFwiIT09ZX0pKSk7cmV0dXJuIGcoXCJjYWxjaXRlLWRyb3Bkb3duLWdyb3VwXCIse2tleTpgJHt0aGlzLmlkfV9fc2NhbGUtbWVudS0tJHtsfWB9LHRoaXMuX3JlbmRlckN1c3RvbVNjYWxlVmFsdWUoe2N1cnJlbnRTY2FsZTpyfSksbnVsbCE9ZT90aGlzLl9yZW5kZXJTY2FsZU1lbnVJdGVtKHtzY2FsZVZhbHVlOmUsc2NhbGVMYWJlbDpuLmZlYXR1cmVkU2NhbGVMYWJlbHMuY3VycmVudCxpc1NlbGVjdGVkOnI9PT1lLHZhbHVlVmlzaWJsZTohMH0pOm51bGwsdSl9X3JlbmRlckN1c3RvbVNjYWxlVmFsdWUoe2N1cnJlbnRTY2FsZTplfSl7Y29uc3R7bWVzc2FnZXM6dH09dGhpcyxpPU1hdGgucm91bmQoZSkudG9TdHJpbmcoKTtyZXR1cm4gZyhcImNhbGNpdGUtZHJvcGRvd24taXRlbVwiLHthZnRlckNyZWF0ZTplPT57ZS5zZXRGb2N1cygpfSxrZXk6XCJjdXN0b20tc2NhbGVcIixsYWJlbDp0LmZlYXR1cmVkU2NhbGVMYWJlbHMuY3VzdG9tLG9uQ2FsY2l0ZURyb3Bkb3duSXRlbVNlbGVjdDooKT0+e3RoaXMuX2N1c3RvbUlucHV0Py5zZXRGb2N1cygpfX0sZyhcImNhbGNpdGUtbGFiZWxcIix7c2NhbGU6XCJzXCJ9LGcoXCJzcGFuXCIsbnVsbCx0LmZlYXR1cmVkU2NhbGVMYWJlbHMuY3VzdG9tKSxnKFwiY2FsY2l0ZS1pbnB1dC1udW1iZXJcIix7YWZ0ZXJDcmVhdGU6dGhpcy5fYWZ0ZXJJbnB1dE51bWJlckNyZWF0ZSxncm91cFNlcGFyYXRvcjohMCxpbnB1dE1vZGU6XCJudW1lcmljXCIsbWF4OnYuUmVjb21tZW5kZWRTY2FsZXMud29ybGQsbWluOjAsbnVtYmVyQnV0dG9uVHlwZTpcIm5vbmVcIixwbGFjZWhvbGRlcjp0LmN1c3RvbVNjYWxlSW5wdXRUb29sdGlwLHByZWZpeFRleHQ6SSxzY2FsZTpcInNcIixzdGVwOjEsdmFsdWU6aSxvbkNhbGNpdGVJbnB1dE51bWJlckNoYW5nZTooe3RhcmdldDplfSk9PnRoaXMuX2hhbmRsZUN1c3RvbVNjYWxlSW5wdXRDaGFuZ2UoaSxlKX0pKSl9X3JlbmRlclNjYWxlTWVudUl0ZW0oZSl7Y29uc3R7c2NhbGVWYWx1ZTp0LHNjYWxlTGFiZWw6aSx2YWx1ZVZpc2libGU6bCxpc1NlbGVjdGVkOnN9PWU7cmV0dXJuIGcoXCJjYWxjaXRlLWRyb3Bkb3duLWl0ZW1cIix7a2V5OmksbGFiZWw6aSxzZWxlY3RlZDpzLG9uQ2FsY2l0ZURyb3Bkb3duSXRlbVNlbGVjdDp0aGlzLl9zZXRTY2FsZS5iaW5kKHRoaXMsdCl9LGksbD9nKFwiZGl2XCIse2NsYXNzOnUuc2NhbGVNZW51U3VibGFiZWx9LHRoaXMuZm9ybWF0U2NhbGUodCkpOnZvaWQgMCl9X3JlbmRlckN1cnJlbnRTY2FsZUluZGljYXRvcigpe2NvbnN0e19zbGlkZXI6ZSxtZXNzYWdlczp0LHZpZXc6aSx2aWV3TW9kZWw6e3NjYWxlUmFuZ2VzOmx9fT10aGlzLHM9bC5jbGFtcFNjYWxlKGkuc2NhbGUpLGE9dGhpcy52aWV3TW9kZWwubWFwU2NhbGVUb1NsaWRlcihzKSxuPWEvZS5tYXgscj10LnNjYWxlUmFuZ2VMYWJlbHNbbC5maW5kU2NhbGVSYW5nZUJ5SW5kZXgoYSkuaWRdLG89dyh0LmN1cnJlbnRTY2FsZVRvb2x0aXAse3NjYWxlTGFiZWw6cn0pO3JldHVybiBnKFwiZGl2XCIse2NsYXNzOnUuc2NhbGVJbmRpY2F0b3JDb250YWluZXIsa2V5Olwic2NhbGUtaW5kaWNhdG9yXCJ9LGcoXCJkaXZcIix7XCJhcmlhLWxhYmVsXCI6byxjbGFzczp1LnNjYWxlSW5kaWNhdG9yLHN0eWxlczp7bGVmdDoxMDAqbitcIiVcIn0sdGl0bGU6b30sdGhpcy5yZW5kZXJDdXJyZW50U2NhbGVJbmRpY2F0b3JJY29uKCkpKX1yZW5kZXJDdXJyZW50U2NhbGVJbmRpY2F0b3JJY29uKCl7cmV0dXJuIGcoXCJjYWxjaXRlLWljb25cIix7Y2xhc3M6dS5zY2FsZUluZGljYXRvckljb24saWNvbjpcImNhcmV0LXVwXCIsc2NhbGU6XCJzXCJ9KX1fc2V0U2NhbGUoZSl7XCJtYXhcIj09PXRoaXMuX2FjdGl2ZU1lbnU/dGhpcy5tYXhTY2FsZT1NYXRoLm1pbihlLHRoaXMuZWZmZWN0aXZlTWluU2NhbGUtMSk6dGhpcy5taW5TY2FsZT1NYXRoLm1heChlLHRoaXMuZWZmZWN0aXZlTWF4U2NhbGUrMSksdGhpcy5fc2V0QWN0aXZlTWVudShudWxsKX1fc2V0QWN0aXZlTWVudShlKXt0aGlzLl9hY3RpdmVNZW51PWV9fTtlKFtuKCldLEMucHJvdG90eXBlLFwiX2FjdGl2ZU1lbnVcIix2b2lkIDApLGUoW24oKV0sQy5wcm90b3R5cGUsXCJfYWN0aXZlVGh1bWJcIix2b2lkIDApLGUoW24oKV0sQy5wcm90b3R5cGUsXCJfY3VzdG9tSW5wdXRcIix2b2lkIDApLGUoW24oKV0sQy5wcm90b3R5cGUsXCJfbWF4U2NhbGVNZW51RW5hYmxlZFwiLG51bGwpLGUoW24oKV0sQy5wcm90b3R5cGUsXCJfbWluU2NhbGVNZW51RW5hYmxlZFwiLG51bGwpLGUoW24oKV0sQy5wcm90b3R5cGUsXCJfc2xpZGVyXCIsdm9pZCAwKSxlKFtuKHtyZWFkT25seTohMH0pXSxDLnByb3RvdHlwZSxcIl9pbnRlcmFjdGl2ZVwiLG51bGwpLGUoW24oKV0sQy5wcm90b3R5cGUsXCJkaXNhYmxlZFwiLHZvaWQgMCksZShbbigpXSxDLnByb3RvdHlwZSxcImVmZmVjdGl2ZU1heFNjYWxlXCIsbnVsbCksZShbbigpXSxDLnByb3RvdHlwZSxcImVmZmVjdGl2ZU1pblNjYWxlXCIsbnVsbCksZShbbigpXSxDLnByb3RvdHlwZSxcImVmZmVjdGl2ZU1heFNjYWxlTGltaXRcIixudWxsKSxlKFtuKCldLEMucHJvdG90eXBlLFwiZWZmZWN0aXZlTWluU2NhbGVMaW1pdFwiLG51bGwpLGUoW24oKV0sQy5wcm90b3R5cGUsXCJsYWJlbFwiLG51bGwpLGUoW24oKV0sQy5wcm90b3R5cGUsXCJsYXllclwiLG51bGwpLGUoW24oKV0sQy5wcm90b3R5cGUsXCJtYXhTY2FsZVwiLG51bGwpLGUoW24oKV0sQy5wcm90b3R5cGUsXCJtYXhTY2FsZUxpbWl0XCIsbnVsbCksZShbbigpLGYoXCJlc3JpL3dpZGdldHMvU2NhbGVSYW5nZVNsaWRlci90OW4vU2NhbGVSYW5nZVNsaWRlclwiKV0sQy5wcm90b3R5cGUsXCJtZXNzYWdlc1wiLHZvaWQgMCksZShbbigpXSxDLnByb3RvdHlwZSxcIm1pblNjYWxlXCIsbnVsbCksZShbbigpXSxDLnByb3RvdHlwZSxcIm1pblNjYWxlTGltaXRcIixudWxsKSxlKFtuKCldLEMucHJvdG90eXBlLFwicmVnaW9uXCIsdm9pZCAwKSxlKFtuKCldLEMucHJvdG90eXBlLFwidmlld1wiLG51bGwpLGUoW24oKV0sQy5wcm90b3R5cGUsXCJ2aWV3TW9kZWxcIix2b2lkIDApLGUoW24oKV0sQy5wcm90b3R5cGUsXCJ2aXNpYmxlRWxlbWVudHNcIix2b2lkIDApLGUoW3IoXCJ2aXNpYmxlRWxlbWVudHNcIildLEMucHJvdG90eXBlLFwiY2FzdFZpc2libGVFbGVtZW50c1wiLG51bGwpLEM9ZShbbyhcImVzcmkud2lkZ2V0cy5TY2FsZVJhbmdlU2xpZGVyXCIpXSxDKTtjb25zdCBUPUM7ZXhwb3J0e1QgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHt3YXRjaCBhcyBhLGluaXRpYWwgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCByIGZyb21cIi4vU2NhbGVSYW5nZXMuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi9TbGlkZXIvU2xpZGVyVmlld01vZGVsLmpzXCI7bGV0IGM9Y2xhc3MgZXh0ZW5kcyBpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMubGF5ZXI9bnVsbCx0aGlzLnNjYWxlUmFuZ2VzPXIuZnJvbVNjYWxlUmFuZ2Uoe21pblNjYWxlOjAsbWF4U2NhbGU6MH0pLHRoaXMuc2xpZGVyVmlld01vZGVsPSgoKT0+e2NvbnN0e21heDplfT10aGlzLl9nZXRTbGlkZXJJbmRleFJhbmdlKHRoaXMuc2NhbGVSYW5nZXMubGVuZ3RoLTEpO3JldHVybiBuZXcgbih7cHJlY2lzaW9uOjEwLG1pbjowLG1heDplLHZhbHVlczpbMCxlXX0pfSkoKX1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKFthKCgoKT0+dGhpcy5sYXllciksKGU9PmU/LmxvYWQoKS5jYXRjaCgoKCk9Pnt9KSkpKSxhKCgoKT0+KHtsb2FkZWQ6dGhpcy5sYXllcj8ubG9hZGVkLHJlYWR5OnRoaXMudmlldz8ucmVhZHl9KSksKCh7bG9hZGVkOmUscmVhZHk6aX0pPT57aWYoIWV8fCFpKXJldHVybjtpZih0aGlzLl9oYXNUaWxlZExheWVyKCkpe2NvbnN0IGU9dGhpcy5fZ2V0TGF5ZXJSZXNhbXBsaW5nKCk/dm9pZCAwOnRoaXMubWFwU2NhbGVUb1NsaWRlcih0aGlzLl9nZXRUaWxlZExheWVyTWF4U2NhbGUoKSksaT10aGlzLm1hcFNjYWxlVG9TbGlkZXIodGhpcy5fZ2V0VGlsZWRMYXllck1pblNjYWxlKCkpO3RoaXMuc2xpZGVyVmlld01vZGVsLmVmZmVjdGl2ZU1heD1lLHRoaXMuc2xpZGVyVmlld01vZGVsLmVmZmVjdGl2ZU1pbj1pfWVsc2V7Y29uc3QgZT10aGlzLmxheWVyJiZcIm1heFNjYWxlUmFuZ2VcImluIHRoaXMubGF5ZXI/dGhpcy5sYXllci5tYXhTY2FsZVJhbmdlOm51bGwse21pblNjYWxlOmk9MCxtYXhTY2FsZTphPTB9PWU/P3t9O3RoaXMuc2xpZGVyVmlld01vZGVsLmVmZmVjdGl2ZU1heD0wPT09YT92b2lkIDA6dGhpcy5tYXBTY2FsZVRvU2xpZGVyKGEpLHRoaXMuc2xpZGVyVmlld01vZGVsLmVmZmVjdGl2ZU1pbj0wPT09aT92b2lkIDA6dGhpcy5tYXBTY2FsZVRvU2xpZGVyKGkpfWNvbnN0IGE9dGhpcy5sYXllcjthJiZcIm1pblNjYWxlXCJpbiBhJiZcIm1heFNjYWxlXCJpbiBhPyh0aGlzLm1pblNjYWxlPWEubWluU2NhbGUsdGhpcy5tYXhTY2FsZT1hLm1heFNjYWxlKToodGhpcy5taW5TY2FsZT12b2lkIDAsdGhpcy5tYXhTY2FsZT12b2lkIDApfSksdCldKX1nZXQgZWZmZWN0aXZlTWF4U2NhbGUoKXtyZXR1cm4gMD09PXRoaXMubWF4U2NhbGU/dGhpcy5tYXhTY2FsZUxpbWl0OnRoaXMubWF4U2NhbGV9Z2V0IGVmZmVjdGl2ZU1pblNjYWxlKCl7cmV0dXJuIDA9PT10aGlzLm1pblNjYWxlP3RoaXMubWluU2NhbGVMaW1pdDp0aGlzLm1pblNjYWxlfWdldCBlZmZlY3RpdmVNYXhTY2FsZUxpbWl0KCl7cmV0dXJuIHRoaXMubWFwU2xpZGVyVG9TY2FsZSh0aGlzLnNsaWRlclZpZXdNb2RlbC5lZmZlY3RpdmVNYXg/P3RoaXMuc2xpZGVyVmlld01vZGVsLm1heCl9Z2V0IGVmZmVjdGl2ZU1pblNjYWxlTGltaXQoKXtyZXR1cm4gdGhpcy5tYXBTbGlkZXJUb1NjYWxlKHRoaXMuc2xpZGVyVmlld01vZGVsLmVmZmVjdGl2ZU1pbj8/dGhpcy5zbGlkZXJWaWV3TW9kZWwubWluKX1nZXQgbWF4U2NhbGUoKXtjb25zdCBlPXRoaXMubWFwU2xpZGVyVG9TY2FsZSh0aGlzLnNsaWRlclZpZXdNb2RlbC52YWx1ZXNbMV0pO3JldHVybiB0aGlzLl9ub3JtYWxpemVTY2FsZShcIm1heFwiLGUpfXNldCBtYXhTY2FsZShlKXt0aGlzLl9zZXRNYXhTY2FsZU9uU2xpZGVyKGUpfWdldCBtYXhTY2FsZUxpbWl0KCl7cmV0dXJuIHRoaXMubWFwU2xpZGVyVG9TY2FsZSh0aGlzLnNsaWRlclZpZXdNb2RlbC5tYXgpfXNldCBtYXhTY2FsZUxpbWl0KGUpe3RoaXMuX3NldFNsaWRlclJhbmdlKHttYXhTY2FsZTplLG1pblNjYWxlOnRoaXMubWluU2NhbGVMaW1pdH0pfWdldCBtaW5TY2FsZSgpe2NvbnN0IGU9dGhpcy5tYXBTbGlkZXJUb1NjYWxlKHRoaXMuc2xpZGVyVmlld01vZGVsLnZhbHVlc1swXSk7cmV0dXJuIHRoaXMuX25vcm1hbGl6ZVNjYWxlKFwibWluXCIsZSl9c2V0IG1pblNjYWxlKGUpe3RoaXMuX3NldE1pblNjYWxlT25TbGlkZXIoZSl9Z2V0IG1pblNjYWxlTGltaXQoKXtyZXR1cm4gdGhpcy5tYXBTbGlkZXJUb1NjYWxlKHRoaXMuc2xpZGVyVmlld01vZGVsLm1pbil9c2V0IG1pblNjYWxlTGltaXQoZSl7dGhpcy5fc2V0U2xpZGVyUmFuZ2Uoe21heFNjYWxlOnRoaXMubWF4U2NhbGVMaW1pdCxtaW5TY2FsZTplfSl9Z2V0IHN0YXRlKCl7Y29uc3R7dmlldzplLGxheWVyOml9PXRoaXM7cmV0dXJuIWUmJiFpfHwhZSYmaSYmaS5sb2FkZWR8fCFpJiZlJiZlLnJlYWR5fHxlJiZlLnJlYWR5JiZpJiZpLmxvYWRlZD9cInJlYWR5XCI6XCJkaXNhYmxlZFwifXNldCB2aWV3KGUpe3RoaXMuX3NldChcInZpZXdcIixlKX1tYXBTY2FsZVRvU2xpZGVyKGUpe2NvbnN0IGk9dGhpcy5zY2FsZVJhbmdlcy5zY2FsZVRvUmFuZ2VJbmRleChlKSxhPXRoaXMuc2NhbGVSYW5nZXMuZmluZFNjYWxlUmFuZ2VCeUluZGV4KGkpLHttYXhTY2FsZTp0LG1pblNjYWxlOmx9PWEse21heDpzLG1pbjpyfT10aGlzLl9nZXRTbGlkZXJJbmRleFJhbmdlKGkpO3JldHVybiB0aGlzLl9tYXBUb1JhbmdlKGUsbCx0LHIscyl9bWFwU2xpZGVyVG9TY2FsZShlKXtjb25zdCBpPXRoaXMuc2NhbGVSYW5nZXMuZmluZFNjYWxlUmFuZ2VCeUluZGV4KGUpLHttYXhTY2FsZTphLG1pblNjYWxlOnR9PWkse21heDpsLG1pbjpzfT10aGlzLl9nZXRTbGlkZXJJbmRleFJhbmdlKGUpO3JldHVybiB0aGlzLl9tYXBUb1JhbmdlKGUscyxsLHQsYSl9X3NldFNsaWRlclJhbmdlKGUpe3RoaXMuc2NhbGVSYW5nZXM9ci5mcm9tU2NhbGVSYW5nZShlKTtjb25zdHttYXg6aX09dGhpcy5fZ2V0U2xpZGVySW5kZXhSYW5nZSh0aGlzLnNjYWxlUmFuZ2VzLmxlbmd0aC0xKTt0aGlzLnNsaWRlclZpZXdNb2RlbC5tYXg9aSx0aGlzLnNsaWRlclZpZXdNb2RlbC5taW49MCx0aGlzLm5vdGlmeUNoYW5nZShcIm1heFNjYWxlTGltaXRcIiksdGhpcy5ub3RpZnlDaGFuZ2UoXCJtaW5TY2FsZUxpbWl0XCIpfV9nZXRTbGlkZXJJbmRleFJhbmdlKGUpe2NvbnN0IGk9TWF0aC5mbG9vcihlKTtyZXR1cm57bWluOmksbWF4OmkrLjk5OTk5fX1fbWFwVG9SYW5nZShlLGksYSx0LGwpe3JldHVybiB0KyhlLWkpKihsLXQpLyhhLWkpfV9zZXRNYXhTY2FsZU9uU2xpZGVyKGUpe2NvbnN0e3NjYWxlUmFuZ2VzOmksc2xpZGVyVmlld01vZGVsOmF9PXRoaXM7aWYodm9pZCAwIT09ZSl7Y29uc3QgdD10aGlzLm1hcFNjYWxlVG9TbGlkZXIodGhpcy5fY29uc3RyYWluTWF4U2NhbGVUb0xheWVyKGkuY2xhbXBNYXhTY2FsZShlKSkpO2EudmFsdWVzPVthLnZhbHVlc1swXSx0XX19X3NldE1pblNjYWxlT25TbGlkZXIoZSl7Y29uc3R7c2NhbGVSYW5nZXM6aSxzbGlkZXJWaWV3TW9kZWw6YX09dGhpcztpZih2b2lkIDAhPT1lKXtjb25zdCB0PXRoaXMubWFwU2NhbGVUb1NsaWRlcih0aGlzLl9jb25zdHJhaW5NaW5TY2FsZVRvTGF5ZXIoaS5jbGFtcE1pblNjYWxlKGUpKSk7YS52YWx1ZXM9W3QsYS52YWx1ZXNbMV1dfX1fY29uc3RyYWluTWluU2NhbGVUb0xheWVyKGUpe2NvbnN0e3NjYWxlUmFuZ2VzOml9PXRoaXM7aWYodGhpcy5faGFzVGlsZWRMYXllcigpKXtjb25zdHtmaXJzdFJhbmdlOmF9PWksdD10aGlzLl9nZXRUaWxlZExheWVyTWluU2NhbGUoKSxsPS44NTtlPXRoaXMuX21hcFRvUmFuZ2UoZSxhLm1heFNjYWxlLGEubWluU2NhbGUsMCwxKT5sfHxlPnQ/dDplfXJldHVybiBlfV9jb25zdHJhaW5NYXhTY2FsZVRvTGF5ZXIoZSl7aWYodGhpcy5faGFzVGlsZWRMYXllcigpJiYhdGhpcy5fZ2V0TGF5ZXJSZXNhbXBsaW5nKCkpe2NvbnN0IGk9dGhpcy5fZ2V0VGlsZWRMYXllck1heFNjYWxlKCk7ZT1lPGk/aTplfXJldHVybiBlfV9ub3JtYWxpemVTY2FsZShlLGkpe2NvbnN0IGE9XCJtYXhcIj09PWU/XCJtYXhTY2FsZVwiOlwibWluU2NhbGVcIix0PXRoaXMuX2hhc1RpbGVkTGF5ZXIoKT9cIm1pblwiPT09ZT90aGlzLl9nZXRUaWxlZExheWVyTWluU2NhbGUoKTp0aGlzLl9nZXRUaWxlZExheWVyTWF4U2NhbGUoKTp0aGlzLnNjYWxlUmFuZ2VzW2FdLGw9dGhpcy5faGFzVGlsZWRMYXllcigpP1wibWluXCI9PT1lP3RoaXMuX2dldFRpbGVkTGF5ZXJSZWFsTWluU2NhbGUoKTp0aGlzLl9nZXRUaWxlZExheWVyUmVhbE1heFNjYWxlKCk6dCxzPTFlLTYscj0wPT09aXx8bD09PWl8fE1hdGguYWJzKGwtaSk8PXM7cmV0dXJuIE51bWJlcigocj8wOmkpLnRvRml4ZWQoNikpfV9nZXRMYXllckxPRFMoKXtpZighdGhpcy5sYXllcj8ubG9hZGVkfHwhKFwidGlsZUluZm9cImluIHRoaXMubGF5ZXIpKXJldHVybiBudWxsO3JldHVyblwiaW1hZ2VyeS10aWxlXCI9PT10aGlzLmxheWVyPy50eXBlJiZcIlJhc3RlclwiPT09dGhpcy5sYXllci5yYXN0ZXI/LnRpbGVUeXBlP251bGw6dGhpcy5sYXllci50aWxlSW5mbz8ubG9kc31fZ2V0TGF5ZXJSZXNhbXBsaW5nKCl7cmV0dXJuISF0aGlzLmxheWVyPy5sb2FkZWQmJighKFwicmVzYW1wbGluZ1wiaW4gdGhpcy5sYXllcil8fHRoaXMubGF5ZXIucmVzYW1wbGluZyl9X2dldFRpbGVkTGF5ZXJNaW5TY2FsZSgpe2NvbnN0IGU9dGhpcy5fZ2V0TGF5ZXJMT0RTKCk7cmV0dXJuIHRoaXMuc2NhbGVSYW5nZXMuY2xhbXBNaW5TY2FsZShlWzBdLnNjYWxlKX1fZ2V0VGlsZWRMYXllck1heFNjYWxlKCl7Y29uc3QgZT10aGlzLl9nZXRMYXllckxPRFMoKTtyZXR1cm4gZVtlLmxlbmd0aC0xXS5zY2FsZX1fZ2V0VGlsZWRMYXllclJlYWxNaW5TY2FsZSgpe2NvbnN0IGU9dGhpcy5fZ2V0TGF5ZXJMT0RTKCksaT10aGlzLmxheWVyLGE9aSYmXCJzb3VyY2VKU09OXCJpbiBpP2kuc291cmNlSlNPTj8udGlsZUluZm8/LmxvZHM/P2U6ZTtyZXR1cm4gdGhpcy5zY2FsZVJhbmdlcy5jbGFtcE1pblNjYWxlKGFbMF0uc2NhbGUpfV9nZXRUaWxlZExheWVyUmVhbE1heFNjYWxlKCl7Y29uc3QgZT10aGlzLl9nZXRMYXllckxPRFMoKSxpPXRoaXMubGF5ZXIsYT1pJiZcInNvdXJjZUpTT05cImluIGk/aS5zb3VyY2VKU09OPy50aWxlSW5mbz8ubG9kcz8/ZTplO3JldHVybiBhW2EubGVuZ3RoLTFdLnNjYWxlfV9oYXNUaWxlZExheWVyKCl7cmV0dXJuISF0aGlzLl9nZXRMYXllckxPRFMoKX19O2UoW2woe3JlYWRPbmx5OiEwfSldLGMucHJvdG90eXBlLFwiZWZmZWN0aXZlTWF4U2NhbGVcIixudWxsKSxlKFtsKHtyZWFkT25seTohMH0pXSxjLnByb3RvdHlwZSxcImVmZmVjdGl2ZU1pblNjYWxlXCIsbnVsbCksZShbbCgpXSxjLnByb3RvdHlwZSxcImVmZmVjdGl2ZU1heFNjYWxlTGltaXRcIixudWxsKSxlKFtsKCldLGMucHJvdG90eXBlLFwiZWZmZWN0aXZlTWluU2NhbGVMaW1pdFwiLG51bGwpLGUoW2woKV0sYy5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbbCgpXSxjLnByb3RvdHlwZSxcIm1heFNjYWxlXCIsbnVsbCksZShbbCgpXSxjLnByb3RvdHlwZSxcIm1heFNjYWxlTGltaXRcIixudWxsKSxlKFtsKCldLGMucHJvdG90eXBlLFwibWluU2NhbGVcIixudWxsKSxlKFtsKCldLGMucHJvdG90eXBlLFwibWluU2NhbGVMaW1pdFwiLG51bGwpLGUoW2woKV0sYy5wcm90b3R5cGUsXCJzY2FsZVJhbmdlc1wiLHZvaWQgMCksZShbbCgpXSxjLnByb3RvdHlwZSxcInNsaWRlclZpZXdNb2RlbFwiLHZvaWQgMCksZShbbCh7cmVhZE9ubHk6ITB9KV0sYy5wcm90b3R5cGUsXCJzdGF0ZVwiLG51bGwpLGUoW2woKV0sYy5wcm90b3R5cGUsXCJ2aWV3XCIsbnVsbCksYz1lKFtzKFwiZXNyaS53aWRnZXRzLlNjYWxlUmFuZ2VTbGlkZXIuU2NhbGVSYW5nZVNsaWRlclZpZXdNb2RlbFwiKV0sYyk7Y29uc3Qgbz1jO2V4cG9ydHtvIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uL2NvcmUvQWNjZXNzb3IuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO3ZhciBpO2NvbnN0IGM9MTQ3OTE0MzgyLHI9W3tpZDpcInJvb21cIixtaW5TY2FsZToxMDB9LHtpZDpcInJvb21zXCIsbWluU2NhbGU6NDAwfSx7aWQ6XCJzbWFsbEJ1aWxkaW5nXCIsbWluU2NhbGU6ODAwfSx7aWQ6XCJidWlsZGluZ1wiLG1pblNjYWxlOjE5OTl9LHtpZDpcImJ1aWxkaW5nc1wiLG1pblNjYWxlOjM5OTl9LHtpZDpcInN0cmVldFwiLG1pblNjYWxlOjc0OTl9LHtpZDpcInN0cmVldHNcIixtaW5TY2FsZToxNDk5OX0se2lkOlwibmVpZ2hib3Job29kXCIsbWluU2NhbGU6Mjk5OTl9LHtpZDpcInRvd25cIixtaW5TY2FsZTo1OTk5OX0se2lkOlwiY2l0eVwiLG1pblNjYWxlOjExOTk5OX0se2lkOlwiY2l0aWVzXCIsbWluU2NhbGU6MjQ5OTk5fSx7aWQ6XCJtZXRyb3BvbGl0YW5BcmVhXCIsbWluU2NhbGU6NDk5OTk5fSx7aWQ6XCJjb3VudHlcIixtaW5TY2FsZTo5OTk5OTl9LHtpZDpcImNvdW50aWVzXCIsbWluU2NhbGU6MTk5OTk5OX0se2lkOlwic3RhdGVQcm92aW5jZVwiLG1pblNjYWxlOjM5OTk5OTl9LHtpZDpcInN0YXRlc1Byb3ZpbmNlc1wiLG1pblNjYWxlOjY5OTk5OTl9LHtpZDpcImNvdW50cmllc1NtYWxsXCIsbWluU2NhbGU6MTQ5OTk5OTl9LHtpZDpcImNvdW50cmllc0JpZ1wiLG1pblNjYWxlOjM0OTk5OTk5fSx7aWQ6XCJjb250aW5lbnRcIixtaW5TY2FsZTo5OTk5OTk5OX0se2lkOlwid29ybGRcIixtaW5TY2FsZTpjfV07ZnVuY3Rpb24gbChlLG4pe2NvbnN0IHQ9cixhPXQubGVuZ3RoLGk9W107bGV0IGMsbD1lO2U9ZT49MD9lOjAsbj1uPjA/bjp0W2EtMV0ubWluU2NhbGU7Zm9yKGxldCByPTA7cjxhO3IrKyl7Y29uc3QgYT1NYXRoLm1pbih0W3JdLm1pblNjYWxlLG4pO2M9TWF0aC5taW4oYSxuKSxlPD1hJiZsPG4mJmkucHVzaCh7aWQ6dFtyXS5pZCxtYXhTY2FsZTpNYXRoLm1heChsLGUpLG1pblNjYWxlOmN9KSxsPWMrMX1yZXR1cm4gaS5yZXZlcnNlKCkscyhpKX1mdW5jdGlvbiBzKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gZTtjb25zdFtuXT1lLHQ9ZVtlLmxlbmd0aC0xXTtyZXR1cm4gbi5taW5TY2FsZT09PW4ubWF4U2NhbGUmJihlLnNoaWZ0KCksbi5taW5TY2FsZSs9MSksdC5taW5TY2FsZT09PXQubWF4U2NhbGUmJihlLnBvcCgpLHQubWF4U2NhbGUtPTEpLGV9bGV0IG89aT1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMucmFuZ2VzPVtdfXN0YXRpYyBmcm9tU2NhbGVSYW5nZSh7bWF4U2NhbGU6ZSxtaW5TY2FsZTpufSl7cmV0dXJuIG5ldyBpKHtyYW5nZXM6bChlLG4pfSl9c3RhdGljIGFzeW5jIGZyb21MYXllcihlKXthd2FpdCBlLndoZW4oKTtjb25zdCBuPVwidGlsZUluZm9cImluIGU/ZS50aWxlSW5mbz8ubG9kczp2b2lkIDA7bGV0IHQ7aWYobil7dD1sKG5bbi5sZW5ndGgtMV0uc2NhbGUsblswXS5zY2FsZSl9ZWxzZSB0PWwoMCwwKTtyZXR1cm4gbmV3IGkoe3Jhbmdlczp0fSl9Z2V0IGZpcnN0UmFuZ2UoKXtyZXR1cm4gdGhpcy5yYW5nZXNbMF19Z2V0IGxhc3RSYW5nZSgpe2NvbnN0IGU9dGhpcy5yYW5nZXM7cmV0dXJuIGVbZS5sZW5ndGgtMV19Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLnJhbmdlcy5sZW5ndGh9Z2V0IG1heFNjYWxlKCl7cmV0dXJuIHRoaXMubGFzdFJhbmdlLm1heFNjYWxlfWdldCBtaW5TY2FsZSgpe3JldHVybiB0aGlzLmZpcnN0UmFuZ2UubWluU2NhbGV9aXNNaW5TY2FsZUVkZ2UoZSl7Y29uc3R7Zmlyc3RSYW5nZTpufT10aGlzLHQ9bi5taW5TY2FsZSxhPWkuUmVjb21tZW5kZWRTY2FsZXNbbi5pZF18fG4ubWF4U2NhbGU7cmV0dXJuIGU8PXQmJmU+PWF9aXNNYXhTY2FsZUVkZ2UoZSl7Y29uc3R7bGFzdFJhbmdlOm59PXRoaXMsdD1uLm1heFNjYWxlO3JldHVybiBlPD0oaS5SZWNvbW1lbmRlZFNjYWxlc1tuLmlkXXx8bi5taW5TY2FsZSkmJmU+PXR9ZmluZFNjYWxlUmFuZ2UoZSl7Y29uc3Qgbj10aGlzLnJhbmdlcztsZXQgdDtpZihlPj1uWzBdLm1heFNjYWxlKXJldHVybiBuWzBdO2lmKGU8PW5bbi5sZW5ndGgtMV0ubWluU2NhbGUpcmV0dXJuIG5bbi5sZW5ndGgtMV07Zm9yKGxldCBhPTA7YTxuLmxlbmd0aDthKyspe2NvbnN0IGk9blthXTtpZihlPj1pLm1heFNjYWxlJiZlPD1pLm1pblNjYWxlKXt0PWk7YnJlYWt9fXJldHVybiB0fWZpbmRTY2FsZVJhbmdlQnlJbmRleChlKXtyZXR1cm4gdGhpcy5yYW5nZXNbdGhpcy5fY2xhbXBTY2FsZVJhbmdlSW5kZXgoZSldfXNjYWxlVG9SYW5nZUluZGV4KGUpe3JldHVybiB0aGlzLnJhbmdlcy5pbmRleE9mKHRoaXMuZmluZFNjYWxlUmFuZ2UoZSkpfWNsYW1wU2NhbGUoZSl7cmV0dXJuIE1hdGgubWluKHRoaXMubWluU2NhbGUsTWF0aC5tYXgodGhpcy5tYXhTY2FsZSxlKSl9Y2xhbXBNaW5TY2FsZShlKXtyZXR1cm4gMD09PWU/dGhpcy5taW5TY2FsZTp0aGlzLmNsYW1wU2NhbGUoZSl9Y2xhbXBNYXhTY2FsZShlKXtyZXR1cm4gdGhpcy5jbGFtcFNjYWxlKGUpfWNvbnRhaW5zKGUpe2NvbnN0IG49dGhpcy5yYW5nZXM7bGV0IHQ9ITE7Zm9yKGxldCBhPTA7YTxuLmxlbmd0aDthKyspe2NvbnN0e21heFNjYWxlOmksbWluU2NhbGU6Y309blthXTtpZihlPj1pJiZlPD1jKXt0PSEwO2JyZWFrfX1yZXR1cm4gdH1fY2xhbXBTY2FsZVJhbmdlSW5kZXgoZSl7Y29uc3Qgbj0wO2lmKGU8PW4pcmV0dXJuIG47Y29uc3QgdD10aGlzLnJhbmdlcy5sZW5ndGgtMTtyZXR1cm4gZT50P3Q6TWF0aC5mbG9vcihlKX19O28uUmVjb21tZW5kZWRTY2FsZXM9T2JqZWN0LmZyZWV6ZSh7d29ybGQ6Yyxjb250aW5lbnQ6NWU3LGNvdW50cmllc0JpZzoyNWU2LGNvdW50cmllc1NtYWxsOjEyZTYsc3RhdGVzUHJvdmluY2VzOjZlNixzdGF0ZVByb3ZpbmNlOjNlNixjb3VudGllczoxNWU1LGNvdW50eTo3NWU0LG1ldHJvcG9saXRhbkFyZWE6MzJlNCxjaXRpZXM6MTZlNCxjaXR5OjhlNCx0b3duOjRlNCxuZWlnaGJvcmhvb2Q6MmU0LHN0cmVldHM6MWU0LHN0cmVldDo1ZTMsYnVpbGRpbmdzOjI1MDAsYnVpbGRpbmc6MTI1MCxzbWFsbEJ1aWxkaW5nOjgwMCxyb29tczo0MDAscm9vbToxMDB9KSxlKFt0KCldLG8ucHJvdG90eXBlLFwiZmlyc3RSYW5nZVwiLG51bGwpLGUoW3QoKV0sby5wcm90b3R5cGUsXCJsYXN0UmFuZ2VcIixudWxsKSxlKFt0KCldLG8ucHJvdG90eXBlLFwibGVuZ3RoXCIsbnVsbCksZShbdCgpXSxvLnByb3RvdHlwZSxcIm1heFNjYWxlXCIsbnVsbCksZShbdCgpXSxvLnByb3RvdHlwZSxcIm1pblNjYWxlXCIsbnVsbCksZShbdCh7Y29uc3RydWN0T25seTohMH0pXSxvLnByb3RvdHlwZSxcInJhbmdlc1wiLHZvaWQgMCksbz1pPWUoW2EoXCJlc3JpLndpZGdldHMuU2NhbGVSYW5nZVNsaWRlci5TY2FsZVJhbmdlc1wiKV0sbyk7Y29uc3QgbT1vO2V4cG9ydHttIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGU9XCJlc3JpLXNjYWxlLXJhbmdlLXNsaWRlclwiLGE9YCR7ZX1fX3NjYWxlLW1lbnVgLGM9e2Jhc2U6ZSxzY2FsZUluZGljYXRvcldyYXBwZXI6YCR7ZX1fX3NjYWxlLWluZGljYXRvci13cmFwcGVyYCxzY2FsZUluZGljYXRvcjpgJHtlfV9fc2NhbGUtaW5kaWNhdG9yYCxzY2FsZUluZGljYXRvckljb246YCR7ZX1fX3NjYWxlLWluZGljYXRvci1pY29uYCxzY2FsZUluZGljYXRvckNvbnRhaW5lcjpgJHtlfV9fc2NhbGUtaW5kaWNhdG9yLWNvbnRhaW5lcmAsc2NhbGVNZW51Q29udGFpbmVyOmAke2F9LWNvbnRhaW5lcmAsc2NhbGVNZW51U2VwYXJhdG9yOmAke2F9LXNlcGFyYXRvcmAsc2NhbGVNZW51VG9nZ2xlOmAke2F9LXRvZ2dsZWAsc2NhbGVNZW51U3VibGFiZWw6YCR7YX0tc3VibGFiZWxgLHNjYWxlUHJldmlldzpgJHtlfV9fc2NhbGUtcHJldmlld2Asc2NhbGVQcmV2aWV3VGh1bWJuYWlsOmAke2V9X19zY2FsZS1wcmV2aWV3LXRodW1ibmFpbGB9O2V4cG9ydHtjIGFzIGNzc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldEFzc2V0VXJsIGFzIGV9ZnJvbVwiLi4vLi4vYXNzZXRzLmpzXCI7aW1wb3J0XCIuLi8uLi9pbnRsLmpzXCI7aW1wb3J0e2dldExvY2FsZSBhcyBufWZyb21cIi4uLy4uL2ludGwvbG9jYWxlLmpzXCI7Y29uc3Qgcz1cImVuLXdvXCIscj1uKCkuc3Vic3RyKDAsMik7dmFyIHQ7IWZ1bmN0aW9uKGUpe2UuYXI9XCJhclwiLGUuYmc9XCJiZ1wiLGUuY3M9XCJjc1wiLGUuZGE9XCJkYVwiLGUuZGU9XCJkZVwiLGUuZWw9XCJlbFwiLGUuZW49XCJlblwiLGUuZXM9XCJlc1wiLGUuZXQ9XCJldFwiLGUuZmk9XCJmaVwiLGUuZnI9XCJmclwiLGUuaXM9XCJpc1wiLGUuaXQ9XCJpdFwiLGUuamE9XCJqYVwiLGUua289XCJrb1wiLGUubHQ9XCJsdFwiLGUubHY9XCJsdlwiLGUubmw9XCJubFwiLGUubm49XCJublwiLGUucGw9XCJwbFwiLGUucHQ9XCJwdFwiLGUucm89XCJyb1wiLGUucnU9XCJydVwiLGUuc2s9XCJza1wiLGUuc3Y9XCJzdlwiLGUudGg9XCJ0aFwiLGUuemg9XCJ6aFwifSh0fHwodD17fSkpO2NvbnN0IGk9e2FlOnQuZW4sYXI6dC5lcyxhdDp0LmRlLGF1OnQuZW4sYmU6dC5ubCxiZzp0LmJnLGJvOnQuZXMsYnI6dC5wdCxjYTp0LmVuLGNoOnQuZGUsY2k6dC5mcixjbDp0LmVzLGNuOnQuemgsY286dC5lcyxjcjp0LmVzLGN6OnQuY3MsZGU6dC5kZSxkazp0LmRhLGVlOnQuZXQsZWc6dC5lbixlczp0LmVzLGZpOnQuZmksZnI6dC5mcixnYjp0LmVuLGdsOnQuZGEsZ3I6dC5lbCxndDp0LmVzLGhrOnQuZW4saWQ6dC5lbixpZTp0LmVuLGlsOnQuZW4saW46dC5lbixpcTp0LmFyLGlzOnQuaXMsaXQ6dC5pdCxqcDp0LmphLGtlOnQuZW4sa3I6dC5rbyxrdzp0LmFyLGxpOnQuZGUsbHQ6dC5sdCxsdTp0LmVuLGx2OnQubHYsbWE6dC5mcixtZzp0LmZyLG1sOnQuZnIsbW86dC5lbixteDp0LmVzLG15OnQuZW4sbmk6dC5lcyxubDp0Lm5sLG5vOnQubm4sbno6dC5lbixwZTp0LmVzLHBsOnQucGwscHI6dC5lcyxwdDp0LnB0LHJvOnQucm8scnU6dC5ydSxydzp0LmVuLHNlOnQuc3Ysc2c6dC5lbixzazp0LnNrLHNyOnQubmwsc3Y6dC5lcyx0aDp0LnRoLHRuOnQuZnIsdHc6dC56aCx1czp0LmVuLHZlOnQuZXMsdmk6dC5lbix3bzp0LmVuLHphOnQuZW59LGw9bmV3IFNldChbXCJhci1pcVwiLFwiYXIta3dcIixcImJnLWJnXCIsXCJjcy1jelwiLFwiZGEtZGtcIixcImRhLWdsXCIsXCJkZS1hdFwiLFwiZGUtY2hcIixcImRlLWRlXCIsXCJkZS1saVwiLFwiZWwtZ3JcIixcImVuLWFlXCIsXCJlbi1hdVwiLFwiZW4tY2FcIixcImVuLWVnXCIsXCJlbi1nYlwiLFwiZW4taGtcIixcImVuLWlkXCIsXCJlbi1pZVwiLFwiZW4taWxcIixcImVuLWluXCIsXCJlbi1pcVwiLFwiZW4ta2VcIixcImVuLWx1XCIsXCJlbi1tb1wiLFwiZW4tbXlcIixcImVuLW56XCIsXCJlbi1yd1wiLFwiZW4tc2dcIixcImVuLXVzXCIsXCJlbi12aVwiLFwiZW4td29cIixcImVuLXphXCIsXCJlcy1hclwiLFwiZXMtYm9cIixcImVzLWNsXCIsXCJlcy1jb1wiLFwiZXMtY3JcIixcImVzLWVzXCIsXCJlcy1ndFwiLFwiZXMtbXhcIixcImVzLW5pXCIsXCJlcy1wZVwiLFwiZXMtcHJcIixcImVzLXN2XCIsXCJlcy12ZVwiLFwiZXQtZWVcIixcImZpLWZpXCIsXCJmci1jaVwiLFwiZnItZnJcIixcImZyLW1hXCIsXCJmci1tZ1wiLFwiZnItbWxcIixcImZyLXRuXCIsXCJpcy1pc1wiLFwiaXQtaXRcIixcImphLWpwXCIsXCJrby1rclwiLFwibHQtbHRcIixcImx2LWx2XCIsXCJubC1iZVwiLFwibmwtbmxcIixcIm5sLXNyXCIsXCJubi1ub1wiLFwicGwtcGxcIixcInB0LWJyXCIsXCJwdC1wdFwiLFwicm8tcm9cIixcInJ1LXJ1XCIsXCJzay1za1wiLFwic3Ytc2VcIixcInRoLXRoXCIsXCJ6aC1jblwiLFwiemgtdHdcIl0pO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBvKG4pe3JldHVybmB1cmwoJHtlKGBlc3JpL3dpZGdldHMvU2NhbGVSYW5nZVNsaWRlci9pbWFnZXMvc2NhbGVQcmV2aWV3LyR7bn0uanBnYCl9KWB9ZnVuY3Rpb24gYyhlKXtlPWEoZSk7Y29uc3Qgbj1gJHtyfS0ke2V9YCx0PWAke2lbZV19LSR7ZX1gO3JldHVybiBvKGwuaGFzKG4pP246bC5oYXModCk/dDpzKX1mdW5jdGlvbiBmKGUpe2NvbnN0IG49NSxzPTU7aWYoZTwwfHxlPj1uKnMpcmV0dXJuO3JldHVybmAtJHsxMjgqKGUlbil9cHggLSR7MTI4Kk1hdGguZmxvb3IoZS9zKX1weGB9ZXhwb3J0e3MgYXMgZmFsbGJhY2tTcHJpdGVTaGVldEZpbGVOYW1lLGMgYXMgZ2V0U2NhbGVQcmV2aWV3U291cmNlLGYgYXMgZ2V0U2NhbGVQcmV2aWV3U3ByaXRlQmFja2dyb3VuZFBvc2l0aW9uLHIgYXMgbGFuZ3VhZ2VDb2RlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBlPXthbmNob3I6XCJlc3JpLXdpZGdldF9fYW5jaG9yXCIsYW5jaG9yRGlzYWJsZWQ6XCJlc3JpLXdpZGdldF9fYW5jaG9yLS1kaXNhYmxlZFwiLGJ1dHRvbjpcImVzcmktYnV0dG9uXCIsYnV0dG9uRGlzYWJsZWQ6XCJlc3JpLWJ1dHRvbi0tZGlzYWJsZWRcIixidXR0b25IYWxmOlwiZXNyaS1idXR0b24tLWhhbGZcIixidXR0b25TZWNvbmRhcnk6XCJlc3JpLWJ1dHRvbi0tc2Vjb25kYXJ5XCIsYnV0dG9uU21hbGw6XCJlc3JpLWJ1dHRvbi0tc21hbGxcIixidXR0b25UZXJ0aWFyeTpcImVzcmktYnV0dG9uLS10ZXJ0aWFyeVwiLGJ1dHRvblRoaXJkOlwiZXNyaS1idXR0b24tLXRoaXJkXCIsZGlzYWJsZWQ6XCJlc3JpLWRpc2FibGVkXCIsZGlzYWJsZWRFbGVtZW50OlwiZXNyaS1kaXNhYmxlZC1lbGVtZW50XCIsZW1wdHk6XCJlc3JpLXdpZGdldF9fY29udGVudC0tZW1wdHlcIixlbXB0eUlsbHVzdHJhdGlvbjpcImVzcmktd2lkZ2V0X19jb250ZW50LWlsbHVzdHJhdGlvbi0tZW1wdHlcIixoZWFkaW5nOlwiZXNyaS13aWRnZXRfX2hlYWRpbmdcIixoaWRkZW46XCJlc3JpLWhpZGRlblwiLGlucHV0OlwiZXNyaS1pbnB1dFwiLGludGVyYWN0aXZlOlwiZXNyaS1pbnRlcmFjdGl2ZVwiLGxvYWRlcjpcImVzcmktd2lkZ2V0X19sb2FkZXJcIixsb2FkZXJBbmltYXRpb246XCJlc3JpLXdpZGdldF9fbG9hZGVyLWFuaW1hdGlvblwiLGxvYWRlclRleHQ6XCJlc3JpLXdpZGdldF9fbG9hZGVyLXRleHRcIixtZW51OlwiZXNyaS1tZW51XCIsbWVudUhlYWRlcjpcImVzcmktbWVudV9faGVhZGVyXCIsbWVudUl0ZW06XCJlc3JpLW1lbnVfX2xpc3QtaXRlbVwiLG1lbnVJdGVtQWN0aXZlOlwiZXNyaS1tZW51X19saXN0LWl0ZW0tLWFjdGl2ZVwiLG1lbnVJdGVtRm9jdXM6XCJlc3JpLW1lbnVfX2xpc3QtaXRlbS0tZm9jdXNcIixtZW51TGlzdDpcImVzcmktbWVudV9fbGlzdFwiLG5vQm9va21hcmtzSWNvbjpcImVzcmktd2lkZ2V0X19uby1ib29rbWFyay1pY29uXCIscGFuZWw6XCJlc3JpLXdpZGdldC0tcGFuZWxcIixwYW5lbEhlaWdodE9ubHk6XCJlc3JpLXdpZGdldC0tcGFuZWwtaGVpZ2h0LW9ubHlcIixwcmltYXJ5VGljazpcInByaW1hcnktdGlja1wiLHByaW1hcnlUaWNrQW1QbTpcInByaW1hcnktdGlja19fYW1wbVwiLHByaW1hcnlUaWNrTGFiZWw6XCJwcmltYXJ5LXRpY2tfX2xhYmVsXCIscm90YXRpbmc6XCJlc3JpLXJvdGF0aW5nXCIsc2Vjb25kYXJ5VGljazpcInNlY29uZGFyeS10aWNrXCIsc2VsZWN0OlwiZXNyaS1zZWxlY3RcIix0YWJsZTpcImVzcmktd2lkZ2V0X190YWJsZVwiLHdpZGdldDpcImVzcmktd2lkZ2V0XCIsd2lkZ2V0QnV0dG9uOlwiZXNyaS13aWRnZXQtLWJ1dHRvblwiLHdpZGdldEJ1dHRvbkFjdGl2ZTpcImVzcmktd2lkZ2V0LS1idXR0b24tYWN0aXZlXCIsd2lkZ2V0RGlzYWJsZWQ6XCJlc3JpLXdpZGdldC0tZGlzYWJsZWRcIn07ZXhwb3J0e2UgYXMgZ2xvYmFsQ3NzfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==