"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["node_modules_arcgis_core_views_2d_layers_MapNotesLayerView2D_js"],{

/***/ "./node_modules/@arcgis/core/views/2d/layers/MapNotesLayerView2D.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/MapNotesLayerView2D.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _graphics_GraphicContainer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./graphics/GraphicContainer.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js");
/* harmony import */ var _graphics_GraphicsView2D_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./graphics/GraphicsView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const d="sublayers",u="layerView";let f=class extends((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_11__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_14__["default"])){constructor(){super(...arguments),this._highlightIds=new Map}async fetchPopupFeatures(e){return Array.from(this.graphicsViews(),(i=>i.hitTest(e).filter((e=>!!e.popupTemplate)))).flat()}*graphicsViews(){null==this._graphicsViewsFeatureCollectionMap?null==this._graphicsViews?yield*[]:yield*this._graphicsViews:yield*this._graphicsViewsFeatureCollectionMap.keys()}async hitTest(e,i){return Array.from(this.graphicsViews(),(i=>{const s=i.hitTest(e);if(null!=this._graphicsViewsFeatureCollectionMap){const e=this._graphicsViewsFeatureCollectionMap.get(i);for(const i of s)!i.popupTemplate&&e.popupTemplate&&(i.popupTemplate=e.popupTemplate),i.sourceLayer=i.layer=this.layer}return s})).flat().map((i=>({type:"graphic",graphic:i,layer:this.layer,mapPoint:e})))}highlight(e){let h;"number"==typeof e?h=[e]:e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]?h=[e.uid]:Array.isArray(e)&&e.length>0?h="number"==typeof e[0]?e:e.map((e=>e&&e.uid)):_core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"].isCollection(e)&&(h=e.map((e=>e&&e.uid)).toArray());const a=h?.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome);return a?.length?(this._addHighlight(a),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)((()=>this._removeHighlight(a)))):(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)()}update(e){for(const i of this.graphicsViews())i.processUpdate(e)}attach(){const e=this.view,i=()=>this.requestUpdate(),s=this.layer.featureCollections;if(null!=s&&s.length){this._graphicsViewsFeatureCollectionMap=new Map;for(const t of s){const s=new _graphics_GraphicContainer_js__WEBPACK_IMPORTED_MODULE_12__["default"](this.view.featuresTilingScheme),r=new _graphics_GraphicsView2D_js__WEBPACK_IMPORTED_MODULE_13__["default"]({view:e,graphics:t.source,renderer:t.renderer,requestUpdateCallback:i,container:s});this._graphicsViewsFeatureCollectionMap.set(r,t),this.container.addChild(r.container),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>t.visible),(e=>r.container.visible=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>r.updating),(()=>this.notifyChange("updating")),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial)],u)}this._updateHighlight()}else null!=this.layer.sublayers&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.on)((()=>this.layer.sublayers),"change",(()=>this._createGraphicsViews()),{onListenerAdd:()=>this._createGraphicsViews(),onListenerRemove:()=>this._destroyGraphicsViews()}),d)}detach(){this._destroyGraphicsViews(),this.removeHandles(d)}moveStart(){}moveEnd(){}viewChange(){for(const e of this.graphicsViews())e.viewChange()}isUpdating(){for(const e of this.graphicsViews())if(e.updating)return!0;return!1}_destroyGraphicsViews(){this.container.removeAllChildren(),this.removeHandles(u);for(const e of this.graphicsViews())e.destroy();this._graphicsViews=null,this._graphicsViewsFeatureCollectionMap=null}_createGraphicsViews(){if(this._destroyGraphicsViews(),null==this.layer.sublayers)return;const e=[],i=this.view,s=()=>this.requestUpdate();for(const t of this.layer.sublayers){const r=new _graphics_GraphicContainer_js__WEBPACK_IMPORTED_MODULE_12__["default"](this.view.featuresTilingScheme);r.fadeTransitionEnabled=!0;const a=new _graphics_GraphicsView2D_js__WEBPACK_IMPORTED_MODULE_13__["default"]({view:i,graphics:t.graphics,requestUpdateCallback:s,container:r});this.addHandles([t.on("graphic-update",a.graphicUpdateHandler),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>t.visible),(e=>a.container.visible=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>a.updating),(()=>this.notifyChange("updating")),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial)],u),this.container.addChild(a.container),e.push(a)}this._graphicsViews=e,this._updateHighlight()}_addHighlight(e){for(const i of e)if(this._highlightIds.has(i)){const e=this._highlightIds.get(i);this._highlightIds.set(i,e+1)}else this._highlightIds.set(i,1);this._updateHighlight()}_removeHighlight(e){for(const i of e)if(this._highlightIds.has(i)){const e=this._highlightIds.get(i)-1;0===e?this._highlightIds.delete(i):this._highlightIds.set(i,e)}this._updateHighlight()}_updateHighlight(){const e=Array.from(this._highlightIds.keys());for(const i of this.graphicsViews())i.setHighlight(e)}};f=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.2d.layers.MapNotesLayerView2D")],f);const m=f;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _BaseGraphicContainer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseGraphicContainer.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/BaseGraphicContainer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i extends _BaseGraphicContainer_js__WEBPACK_IMPORTED_MODULE_1__["default"]{renderChildren(r){this.attributeView.update(),this.children.some((e=>e.hasData))&&(this.attributeView.bindTextures(r.context,!1),super.renderChildren(r),r.drawPhase===_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLDrawPhase.MAP&&this._renderChildren(r),this.hasHighlight&&r.drawPhase===_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLDrawPhase.HIGHLIGHT&&this._renderHighlight(r),this._boundsRenderer&&this._boundsRenderer.doRender(r))}_renderHighlight(e){const{painter:r}=e,i=r.effects.highlight;i.bind(e),this._renderChildren(e,i.defines),i.draw(e),i.unbind()}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzJkX2xheWVyc19NYXBOb3Rlc0xheWVyVmlldzJEX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDaXRCLGtDQUFrQyxvQkFBb0Isa0VBQUMsQ0FBQyw2REFBQyxHQUFHLGNBQWMsK0NBQStDLDRCQUE0QixnR0FBZ0csaUJBQWlCLGdLQUFnSyxtQkFBbUIsNENBQTRDLHFCQUFxQixrREFBa0QsdURBQXVELHVIQUF1SCxTQUFTLG9CQUFvQixxREFBcUQsSUFBSSxhQUFhLE1BQU0sc0NBQXNDLG1EQUFDLHVGQUF1RiwyREFBQyxxREFBcUQsa0JBQWtCLHVEQUFDLEVBQUUsd0NBQXdDLGdFQUFDLGtDQUFrQyxnRUFBQyxHQUFHLFVBQVUsdURBQXVELFNBQVMsNkVBQTZFLHNCQUFzQixnREFBZ0Qsa0JBQWtCLFlBQVksc0VBQUMsdUNBQXVDLG9FQUFDLEVBQUUsaUZBQWlGLEVBQUUsdUdBQXVHLDZEQUFDLDRDQUE0QywyREFBQyxFQUFFLDZEQUFDLHNEQUFzRCwyREFBQyxNQUFNLHdCQUF3QixpREFBaUQsMERBQUMsd0VBQXdFLGdHQUFnRyxLQUFLLFNBQVMsbURBQW1ELGFBQWEsV0FBVyxhQUFhLG1EQUFtRCxhQUFhLDJEQUEyRCxTQUFTLHdCQUF3Qix5REFBeUQsZ0RBQWdELHNFQUFzRSx1QkFBdUIsa0VBQWtFLGtEQUFrRCxxQ0FBcUMsWUFBWSxzRUFBQyxpQ0FBaUMsMkJBQTJCLFlBQVksb0VBQUMsRUFBRSwrREFBK0QsRUFBRSwrREFBK0QsNkRBQUMsNENBQTRDLDJEQUFDLEVBQUUsNkRBQUMsc0RBQXNELDJEQUFDLHFEQUFxRCw4Q0FBOEMsaUJBQWlCLCtDQUErQyxrQ0FBa0MsOEJBQThCLGlDQUFpQyx3QkFBd0Isb0JBQW9CLCtDQUErQyxvQ0FBb0MsK0RBQStELHdCQUF3QixtQkFBbUIsOENBQThDLHdEQUF3RCxFQUFFLHVEQUFDLEVBQUUsdUZBQUMsaURBQWlELFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0p0ckk7QUFDQTtBQUNBO0FBQ0E7QUFDb0csZ0JBQWdCLGdFQUFDLENBQUMsa0JBQWtCLHFKQUFxSixnRUFBQywrREFBK0QsZ0VBQUMsNkZBQTZGLG9CQUFvQixNQUFNLFVBQVUseUJBQXlCLGtFQUF1RiIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9NYXBOb3Rlc0xheWVyVmlldzJELmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9ncmFwaGljcy9HcmFwaGljQ29udGFpbmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi8uLi9HcmFwaGljLmpzXCI7aW1wb3J0e2lzU29tZSBhcyBzfWZyb21cIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydHttYWtlSGFuZGxlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBoLG9uIGFzIGEsaW5pdGlhbCBhcyBvfWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGx9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtMYXllclZpZXcyRE1peGluIGFzIG59ZnJvbVwiLi9MYXllclZpZXcyRC5qc1wiO2ltcG9ydCBwIGZyb21cIi4vZ3JhcGhpY3MvR3JhcGhpY0NvbnRhaW5lci5qc1wiO2ltcG9ydCBjIGZyb21cIi4vZ3JhcGhpY3MvR3JhcGhpY3NWaWV3MkQuanNcIjtpbXBvcnQgZyBmcm9tXCIuLi8uLi9sYXllcnMvTGF5ZXJWaWV3LmpzXCI7Y29uc3QgZD1cInN1YmxheWVyc1wiLHU9XCJsYXllclZpZXdcIjtsZXQgZj1jbGFzcyBleHRlbmRzKG4oZykpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9oaWdobGlnaHRJZHM9bmV3IE1hcH1hc3luYyBmZXRjaFBvcHVwRmVhdHVyZXMoZSl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5ncmFwaGljc1ZpZXdzKCksKGk9PmkuaGl0VGVzdChlKS5maWx0ZXIoKGU9PiEhZS5wb3B1cFRlbXBsYXRlKSkpKS5mbGF0KCl9KmdyYXBoaWNzVmlld3MoKXtudWxsPT10aGlzLl9ncmFwaGljc1ZpZXdzRmVhdHVyZUNvbGxlY3Rpb25NYXA/bnVsbD09dGhpcy5fZ3JhcGhpY3NWaWV3cz95aWVsZCpbXTp5aWVsZCp0aGlzLl9ncmFwaGljc1ZpZXdzOnlpZWxkKnRoaXMuX2dyYXBoaWNzVmlld3NGZWF0dXJlQ29sbGVjdGlvbk1hcC5rZXlzKCl9YXN5bmMgaGl0VGVzdChlLGkpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuZ3JhcGhpY3NWaWV3cygpLChpPT57Y29uc3Qgcz1pLmhpdFRlc3QoZSk7aWYobnVsbCE9dGhpcy5fZ3JhcGhpY3NWaWV3c0ZlYXR1cmVDb2xsZWN0aW9uTWFwKXtjb25zdCBlPXRoaXMuX2dyYXBoaWNzVmlld3NGZWF0dXJlQ29sbGVjdGlvbk1hcC5nZXQoaSk7Zm9yKGNvbnN0IGkgb2YgcykhaS5wb3B1cFRlbXBsYXRlJiZlLnBvcHVwVGVtcGxhdGUmJihpLnBvcHVwVGVtcGxhdGU9ZS5wb3B1cFRlbXBsYXRlKSxpLnNvdXJjZUxheWVyPWkubGF5ZXI9dGhpcy5sYXllcn1yZXR1cm4gc30pKS5mbGF0KCkubWFwKChpPT4oe3R5cGU6XCJncmFwaGljXCIsZ3JhcGhpYzppLGxheWVyOnRoaXMubGF5ZXIsbWFwUG9pbnQ6ZX0pKSl9aGlnaGxpZ2h0KGUpe2xldCBoO1wibnVtYmVyXCI9PXR5cGVvZiBlP2g9W2VdOmUgaW5zdGFuY2VvZiBpP2g9W2UudWlkXTpBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wP2g9XCJudW1iZXJcIj09dHlwZW9mIGVbMF0/ZTplLm1hcCgoZT0+ZSYmZS51aWQpKTp0LmlzQ29sbGVjdGlvbihlKSYmKGg9ZS5tYXAoKGU9PmUmJmUudWlkKSkudG9BcnJheSgpKTtjb25zdCBhPWg/LmZpbHRlcihzKTtyZXR1cm4gYT8ubGVuZ3RoPyh0aGlzLl9hZGRIaWdobGlnaHQoYSkscigoKCk9PnRoaXMuX3JlbW92ZUhpZ2hsaWdodChhKSkpKTpyKCl9dXBkYXRlKGUpe2Zvcihjb25zdCBpIG9mIHRoaXMuZ3JhcGhpY3NWaWV3cygpKWkucHJvY2Vzc1VwZGF0ZShlKX1hdHRhY2goKXtjb25zdCBlPXRoaXMudmlldyxpPSgpPT50aGlzLnJlcXVlc3RVcGRhdGUoKSxzPXRoaXMubGF5ZXIuZmVhdHVyZUNvbGxlY3Rpb25zO2lmKG51bGwhPXMmJnMubGVuZ3RoKXt0aGlzLl9ncmFwaGljc1ZpZXdzRmVhdHVyZUNvbGxlY3Rpb25NYXA9bmV3IE1hcDtmb3IoY29uc3QgdCBvZiBzKXtjb25zdCBzPW5ldyBwKHRoaXMudmlldy5mZWF0dXJlc1RpbGluZ1NjaGVtZSkscj1uZXcgYyh7dmlldzplLGdyYXBoaWNzOnQuc291cmNlLHJlbmRlcmVyOnQucmVuZGVyZXIscmVxdWVzdFVwZGF0ZUNhbGxiYWNrOmksY29udGFpbmVyOnN9KTt0aGlzLl9ncmFwaGljc1ZpZXdzRmVhdHVyZUNvbGxlY3Rpb25NYXAuc2V0KHIsdCksdGhpcy5jb250YWluZXIuYWRkQ2hpbGQoci5jb250YWluZXIpLHRoaXMuYWRkSGFuZGxlcyhbaCgoKCk9PnQudmlzaWJsZSksKGU9PnIuY29udGFpbmVyLnZpc2libGU9ZSksbyksaCgoKCk9PnIudXBkYXRpbmcpLCgoKT0+dGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSksbyldLHUpfXRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpfWVsc2UgbnVsbCE9dGhpcy5sYXllci5zdWJsYXllcnMmJnRoaXMuYWRkSGFuZGxlcyhhKCgoKT0+dGhpcy5sYXllci5zdWJsYXllcnMpLFwiY2hhbmdlXCIsKCgpPT50aGlzLl9jcmVhdGVHcmFwaGljc1ZpZXdzKCkpLHtvbkxpc3RlbmVyQWRkOigpPT50aGlzLl9jcmVhdGVHcmFwaGljc1ZpZXdzKCksb25MaXN0ZW5lclJlbW92ZTooKT0+dGhpcy5fZGVzdHJveUdyYXBoaWNzVmlld3MoKX0pLGQpfWRldGFjaCgpe3RoaXMuX2Rlc3Ryb3lHcmFwaGljc1ZpZXdzKCksdGhpcy5yZW1vdmVIYW5kbGVzKGQpfW1vdmVTdGFydCgpe31tb3ZlRW5kKCl7fXZpZXdDaGFuZ2UoKXtmb3IoY29uc3QgZSBvZiB0aGlzLmdyYXBoaWNzVmlld3MoKSllLnZpZXdDaGFuZ2UoKX1pc1VwZGF0aW5nKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5ncmFwaGljc1ZpZXdzKCkpaWYoZS51cGRhdGluZylyZXR1cm4hMDtyZXR1cm4hMX1fZGVzdHJveUdyYXBoaWNzVmlld3MoKXt0aGlzLmNvbnRhaW5lci5yZW1vdmVBbGxDaGlsZHJlbigpLHRoaXMucmVtb3ZlSGFuZGxlcyh1KTtmb3IoY29uc3QgZSBvZiB0aGlzLmdyYXBoaWNzVmlld3MoKSllLmRlc3Ryb3koKTt0aGlzLl9ncmFwaGljc1ZpZXdzPW51bGwsdGhpcy5fZ3JhcGhpY3NWaWV3c0ZlYXR1cmVDb2xsZWN0aW9uTWFwPW51bGx9X2NyZWF0ZUdyYXBoaWNzVmlld3MoKXtpZih0aGlzLl9kZXN0cm95R3JhcGhpY3NWaWV3cygpLG51bGw9PXRoaXMubGF5ZXIuc3VibGF5ZXJzKXJldHVybjtjb25zdCBlPVtdLGk9dGhpcy52aWV3LHM9KCk9PnRoaXMucmVxdWVzdFVwZGF0ZSgpO2Zvcihjb25zdCB0IG9mIHRoaXMubGF5ZXIuc3VibGF5ZXJzKXtjb25zdCByPW5ldyBwKHRoaXMudmlldy5mZWF0dXJlc1RpbGluZ1NjaGVtZSk7ci5mYWRlVHJhbnNpdGlvbkVuYWJsZWQ9ITA7Y29uc3QgYT1uZXcgYyh7dmlldzppLGdyYXBoaWNzOnQuZ3JhcGhpY3MscmVxdWVzdFVwZGF0ZUNhbGxiYWNrOnMsY29udGFpbmVyOnJ9KTt0aGlzLmFkZEhhbmRsZXMoW3Qub24oXCJncmFwaGljLXVwZGF0ZVwiLGEuZ3JhcGhpY1VwZGF0ZUhhbmRsZXIpLGgoKCgpPT50LnZpc2libGUpLChlPT5hLmNvbnRhaW5lci52aXNpYmxlPWUpLG8pLGgoKCgpPT5hLnVwZGF0aW5nKSwoKCk9PnRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIikpLG8pXSx1KSx0aGlzLmNvbnRhaW5lci5hZGRDaGlsZChhLmNvbnRhaW5lciksZS5wdXNoKGEpfXRoaXMuX2dyYXBoaWNzVmlld3M9ZSx0aGlzLl91cGRhdGVIaWdobGlnaHQoKX1fYWRkSGlnaGxpZ2h0KGUpe2Zvcihjb25zdCBpIG9mIGUpaWYodGhpcy5faGlnaGxpZ2h0SWRzLmhhcyhpKSl7Y29uc3QgZT10aGlzLl9oaWdobGlnaHRJZHMuZ2V0KGkpO3RoaXMuX2hpZ2hsaWdodElkcy5zZXQoaSxlKzEpfWVsc2UgdGhpcy5faGlnaGxpZ2h0SWRzLnNldChpLDEpO3RoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpfV9yZW1vdmVIaWdobGlnaHQoZSl7Zm9yKGNvbnN0IGkgb2YgZSlpZih0aGlzLl9oaWdobGlnaHRJZHMuaGFzKGkpKXtjb25zdCBlPXRoaXMuX2hpZ2hsaWdodElkcy5nZXQoaSktMTswPT09ZT90aGlzLl9oaWdobGlnaHRJZHMuZGVsZXRlKGkpOnRoaXMuX2hpZ2hsaWdodElkcy5zZXQoaSxlKX10aGlzLl91cGRhdGVIaWdobGlnaHQoKX1fdXBkYXRlSGlnaGxpZ2h0KCl7Y29uc3QgZT1BcnJheS5mcm9tKHRoaXMuX2hpZ2hsaWdodElkcy5rZXlzKCkpO2Zvcihjb25zdCBpIG9mIHRoaXMuZ3JhcGhpY3NWaWV3cygpKWkuc2V0SGlnaGxpZ2h0KGUpfX07Zj1lKFtsKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuTWFwTm90ZXNMYXllclZpZXcyRFwiKV0sZik7Y29uc3QgbT1mO2V4cG9ydHttIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtXR0xEcmF3UGhhc2UgYXMgZX1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvZW51bXMuanNcIjtpbXBvcnQgciBmcm9tXCIuL0Jhc2VHcmFwaGljQ29udGFpbmVyLmpzXCI7Y2xhc3MgaSBleHRlbmRzIHJ7cmVuZGVyQ2hpbGRyZW4ocil7dGhpcy5hdHRyaWJ1dGVWaWV3LnVwZGF0ZSgpLHRoaXMuY2hpbGRyZW4uc29tZSgoZT0+ZS5oYXNEYXRhKSkmJih0aGlzLmF0dHJpYnV0ZVZpZXcuYmluZFRleHR1cmVzKHIuY29udGV4dCwhMSksc3VwZXIucmVuZGVyQ2hpbGRyZW4ociksci5kcmF3UGhhc2U9PT1lLk1BUCYmdGhpcy5fcmVuZGVyQ2hpbGRyZW4ociksdGhpcy5oYXNIaWdobGlnaHQmJnIuZHJhd1BoYXNlPT09ZS5ISUdITElHSFQmJnRoaXMuX3JlbmRlckhpZ2hsaWdodChyKSx0aGlzLl9ib3VuZHNSZW5kZXJlciYmdGhpcy5fYm91bmRzUmVuZGVyZXIuZG9SZW5kZXIocikpfV9yZW5kZXJIaWdobGlnaHQoZSl7Y29uc3R7cGFpbnRlcjpyfT1lLGk9ci5lZmZlY3RzLmhpZ2hsaWdodDtpLmJpbmQoZSksdGhpcy5fcmVuZGVyQ2hpbGRyZW4oZSxpLmRlZmluZXMpLGkuZHJhdyhlKSxpLnVuYmluZCgpfX1leHBvcnR7aSBhcyBkZWZhdWx0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==