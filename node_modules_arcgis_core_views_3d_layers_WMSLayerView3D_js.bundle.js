"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["node_modules_arcgis_core_views_3d_layers_WMSLayerView3D_js"],{

/***/ "./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExportWMSImageParameters: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const a={visible:"visibleSublayers"};let o=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.scale=0}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.removeHandles("layer"),e&&this.addHandles([e.sublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("wms-sublayer-update",(e=>this.notifyChange(a[e.propertyName])))],"layer"))}get layers(){return this.visibleSublayers.filter((({name:e})=>e)).map((({name:e})=>e)).join()}get version(){this.commitProperty("layers");const e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=e?.sublayers,t=[],a=e=>{const{minScale:s,maxScale:o,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===o||r>=o))&&(l?l.forEach(a):t.push(e))};return s?.forEach(a),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:a}=e;return{format:s,request:"GetMap",service:"WMS",styles:"",transparent:t?"TRUE":"FALSE",version:a,layers:r}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],o.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],o.prototype,"layers",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number})],o.prototype,"scale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],o.prototype,"version",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],o.prototype,"visibleSublayers",null),o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.layers.support.ExportWMSImageParameters")],o);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/WMSLayerView3D.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/WMSLayerView3D.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _DynamicLayerView3D_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./DynamicLayerView3D.js */ "./node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js");
/* harmony import */ var _layers_WMSLayerView_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/WMSLayerView.js */ "./node_modules/@arcgis/core/views/layers/WMSLayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let a=class extends((0,_layers_WMSLayerView_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_DynamicLayerView3D_js__WEBPACK_IMPORTED_MODULE_8__["default"])){constructor(){super(...arguments),this.type="wms-3d"}initialize(){this.layer.serviceSupportsSpatialReference(this.view.spatialReference)||this.addResolvingPromise(Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("layerview:spatial-reference-incompatible","The spatial references supported by this WMS layer are incompatible with the spatial reference of the view"))),this._updatingHandles.add((()=>this.exportImageParameters?.version),(()=>{this._updatingHandles.addPromise(this.refreshDebounced())}))}createFetchPopupFeaturesQuery(e){const t=this.findExtentInfoAt(e),r=t.extent,i=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_7__["default"](r[0],r[1],r[2],r[3],this._spatialReference),o=t.imageSize,a=o.width,n=o.height,p=i.width/a;return{extent:i,width:a,height:n,x:Math.round((e.x-i.xmin)/p),y:Math.round((i.ymax-e.y)/p)}}getFetchOptions(){return{timeExtent:this.timeExtent}}};a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.views.3d.layers.WMSLayerView3D")],a);const n=a;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/WMSLayerView.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/WMSLayerView.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/support/commonProperties.js */ "./node_modules/@arcgis/core/layers/support/commonProperties.js");
/* harmony import */ var _layers_support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../layers/support/ExportWMSImageParameters.js */ "./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const i=i=>{let m=class extends i{initialize(){this.exportImageParameters=new _layers_support_ExportWMSImageParameters_js__WEBPACK_IMPORTED_MODULE_9__.ExportWMSImageParameters({layer:this.layer})}destroy(){this.exportImageParameters=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.exportImageParameters)}get exportImageVersion(){return this.exportImageParameters?.commitProperty("version"),this.commitProperty("timeExtent"),(this._get("exportImageVersion")||0)+1}fetchPopupFeatures(e){const{layer:t}=this;if(!e)return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:t}));const{popupEnabled:o}=t;if(!o)return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:o}));const s=this.createFetchPopupFeaturesQuery(e);if(!s)return Promise.resolve([]);const{extent:p,width:a,height:i,x:m,y:n}=s;if(!(p&&a&&i))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",{extent:p,width:a,height:i});return t.fetchFeatureInfo(p,a,i,m,n)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"exportImageParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],m.prototype,"exportImageVersion",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],m.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_8__.combinedViewLayerTimeExtentProperty)],m.prototype,"timeExtent",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.layers.mixins.WMSLayerView")],m),m};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzXzNkX2xheWVyc19XTVNMYXllclZpZXczRF9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUMwVixTQUFTLDRCQUE0QixvQkFBb0IseURBQUMsQ0FBQyxlQUFlLHNCQUFzQixhQUFhLG9QQUFvUCxhQUFhLHVDQUF1QyxPQUFPLGNBQWMsT0FBTyxjQUFjLGNBQWMsOEJBQThCLG1CQUFtQiw0RUFBNEUsdUJBQXVCLE1BQU0sZ0JBQWdCLGdDQUFnQyxNQUFNLDRDQUE0QyxHQUFHLHNFQUFzRSx1QkFBdUIsU0FBUyxNQUFNLGlCQUFpQixPQUFPLDRDQUE0QyxHQUFHLE9BQU8scUdBQXFHLHVEQUFDLEVBQUUsc0ZBQUMsOEJBQThCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLDhCQUE4Qix1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSwrQkFBK0IsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksK0JBQStCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLDBDQUEwQyx1REFBQyxFQUFFLHNGQUFDLHFEQUEyRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pwcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDMGIsb0JBQW9CLG1FQUFDLENBQUMsOERBQUMsR0FBRyxjQUFjLHVDQUF1QyxhQUFhLG9IQUFvSCxzREFBQyxzT0FBc08sMERBQTBELEdBQUcsaUNBQWlDLGtEQUFrRCwyREFBQyw0RkFBNEYsT0FBTyxxRkFBcUYsa0JBQWtCLE9BQU8sOEJBQThCLEVBQUUsdURBQUMsRUFBRSxzRkFBQyw0Q0FBNEMsVUFBK0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKbDBDO0FBQ0E7QUFDQTtBQUNBO0FBQ3FrQixZQUFZLHNCQUFzQixhQUFhLCtCQUErQixpR0FBQyxFQUFFLGlCQUFpQixFQUFFLFVBQVUsMkJBQTJCLDREQUFDLDZCQUE2Qix5QkFBeUIsc0lBQXNJLHNCQUFzQixNQUFNLFFBQVEsTUFBTSxnQ0FBZ0Msc0RBQUMsb0VBQW9FLFFBQVEsR0FBRyxNQUFNLGVBQWUsR0FBRyxnQ0FBZ0Msc0RBQUMsa0VBQWtFLGVBQWUsR0FBRyw4Q0FBOEMsaUNBQWlDLE1BQU0sa0NBQWtDLEdBQUcsd0JBQXdCLHNEQUFDLG1GQUFtRiwwQkFBMEIsRUFBRSx1Q0FBdUMsT0FBTyx1REFBQyxFQUFFLHNGQUFDLGdEQUFnRCx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSwwQ0FBMEMsdURBQUMsRUFBRSxzRkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxDQUFDLG9HQUFDLHNDQUFzQyx1REFBQyxFQUFFLHNGQUFDLDJDQUFnRSIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9zdXBwb3J0L0V4cG9ydFdNU0ltYWdlUGFyYW1ldGVycy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvV01TTGF5ZXJWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvbGF5ZXJzL1dNU0xheWVyVmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7Y29uc3QgYT17dmlzaWJsZTpcInZpc2libGVTdWJsYXllcnNcIn07bGV0IG89Y2xhc3MgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuc2NhbGU9MH1zZXQgbGF5ZXIoZSl7dGhpcy5fZ2V0KFwibGF5ZXJcIikhPT1lJiYodGhpcy5fc2V0KFwibGF5ZXJcIixlKSx0aGlzLnJlbW92ZUhhbmRsZXMoXCJsYXllclwiKSxlJiZ0aGlzLmFkZEhhbmRsZXMoW2Uuc3VibGF5ZXJzLm9uKFwiY2hhbmdlXCIsKCgpPT50aGlzLm5vdGlmeUNoYW5nZShcInZpc2libGVTdWJsYXllcnNcIikpKSxlLm9uKFwid21zLXN1YmxheWVyLXVwZGF0ZVwiLChlPT50aGlzLm5vdGlmeUNoYW5nZShhW2UucHJvcGVydHlOYW1lXSkpKV0sXCJsYXllclwiKSl9Z2V0IGxheWVycygpe3JldHVybiB0aGlzLnZpc2libGVTdWJsYXllcnMuZmlsdGVyKCgoe25hbWU6ZX0pPT5lKSkubWFwKCgoe25hbWU6ZX0pPT5lKSkuam9pbigpfWdldCB2ZXJzaW9uKCl7dGhpcy5jb21taXRQcm9wZXJ0eShcImxheWVyc1wiKTtjb25zdCBlPXRoaXMubGF5ZXI7cmV0dXJuIGUmJmUuY29tbWl0UHJvcGVydHkoXCJpbWFnZVRyYW5zcGFyZW5jeVwiKSwodGhpcy5fZ2V0KFwidmVyc2lvblwiKXx8MCkrMX1nZXQgdmlzaWJsZVN1YmxheWVycygpe2NvbnN0e2xheWVyOmUsc2NhbGU6cn09dGhpcyxzPWU/LnN1YmxheWVycyx0PVtdLGE9ZT0+e2NvbnN0e21pblNjYWxlOnMsbWF4U2NhbGU6byxzdWJsYXllcnM6bCx2aXNpYmxlOml9PWU7aSYmKDA9PT1yfHwoMD09PXN8fHI8PXMpJiYoMD09PW98fHI+PW8pKSYmKGw/bC5mb3JFYWNoKGEpOnQucHVzaChlKSl9O3JldHVybiBzPy5mb3JFYWNoKGEpLHR9dG9KU09OKCl7Y29uc3R7bGF5ZXI6ZSxsYXllcnM6cn09dGhpcyx7aW1hZ2VGb3JtYXQ6cyxpbWFnZVRyYW5zcGFyZW5jeTp0LHZlcnNpb246YX09ZTtyZXR1cm57Zm9ybWF0OnMscmVxdWVzdDpcIkdldE1hcFwiLHNlcnZpY2U6XCJXTVNcIixzdHlsZXM6XCJcIix0cmFuc3BhcmVudDp0P1wiVFJVRVwiOlwiRkFMU0VcIix2ZXJzaW9uOmEsbGF5ZXJzOnJ9fX07ZShbcygpXSxvLnByb3RvdHlwZSxcImxheWVyXCIsbnVsbCksZShbcyh7cmVhZE9ubHk6ITB9KV0sby5wcm90b3R5cGUsXCJsYXllcnNcIixudWxsKSxlKFtzKHt0eXBlOk51bWJlcn0pXSxvLnByb3RvdHlwZSxcInNjYWxlXCIsdm9pZCAwKSxlKFtzKHtyZWFkT25seTohMH0pXSxvLnByb3RvdHlwZSxcInZlcnNpb25cIixudWxsKSxlKFtzKHtyZWFkT25seTohMH0pXSxvLnByb3RvdHlwZSxcInZpc2libGVTdWJsYXllcnNcIixudWxsKSxvPWUoW3QoXCJlc3JpLmxheWVycy5zdXBwb3J0LkV4cG9ydFdNU0ltYWdlUGFyYW1ldGVyc1wiKV0sbyk7ZXhwb3J0e28gYXMgRXhwb3J0V01TSW1hZ2VQYXJhbWV0ZXJzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyByfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnQuanNcIjtpbXBvcnQgaSBmcm9tXCIuL0R5bmFtaWNMYXllclZpZXczRC5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uL2xheWVycy9XTVNMYXllclZpZXcuanNcIjtsZXQgYT1jbGFzcyBleHRlbmRzKG8oaSkpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnR5cGU9XCJ3bXMtM2RcIn1pbml0aWFsaXplKCl7dGhpcy5sYXllci5zZXJ2aWNlU3VwcG9ydHNTcGF0aWFsUmVmZXJlbmNlKHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKXx8dGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKFByb21pc2UucmVqZWN0KG5ldyB0KFwibGF5ZXJ2aWV3OnNwYXRpYWwtcmVmZXJlbmNlLWluY29tcGF0aWJsZVwiLFwiVGhlIHNwYXRpYWwgcmVmZXJlbmNlcyBzdXBwb3J0ZWQgYnkgdGhpcyBXTVMgbGF5ZXIgYXJlIGluY29tcGF0aWJsZSB3aXRoIHRoZSBzcGF0aWFsIHJlZmVyZW5jZSBvZiB0aGUgdmlld1wiKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmV4cG9ydEltYWdlUGFyYW1ldGVycz8udmVyc2lvbiksKCgpPT57dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5yZWZyZXNoRGVib3VuY2VkKCkpfSkpfWNyZWF0ZUZldGNoUG9wdXBGZWF0dXJlc1F1ZXJ5KGUpe2NvbnN0IHQ9dGhpcy5maW5kRXh0ZW50SW5mb0F0KGUpLHI9dC5leHRlbnQsaT1uZXcgcyhyWzBdLHJbMV0sclsyXSxyWzNdLHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UpLG89dC5pbWFnZVNpemUsYT1vLndpZHRoLG49by5oZWlnaHQscD1pLndpZHRoL2E7cmV0dXJue2V4dGVudDppLHdpZHRoOmEsaGVpZ2h0Om4seDpNYXRoLnJvdW5kKChlLngtaS54bWluKS9wKSx5Ok1hdGgucm91bmQoKGkueW1heC1lLnkpL3ApfX1nZXRGZXRjaE9wdGlvbnMoKXtyZXR1cm57dGltZUV4dGVudDp0aGlzLnRpbWVFeHRlbnR9fX07YT1lKFtyKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuV01TTGF5ZXJWaWV3M0RcIildLGEpO2NvbnN0IG49YTtleHBvcnR7biBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2Rlc3Ryb3lNYXliZSBhcyB0fWZyb21cIi4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtjb21iaW5lZFZpZXdMYXllclRpbWVFeHRlbnRQcm9wZXJ0eSBhcyBwfWZyb21cIi4uLy4uL2xheWVycy9zdXBwb3J0L2NvbW1vblByb3BlcnRpZXMuanNcIjtpbXBvcnR7RXhwb3J0V01TSW1hZ2VQYXJhbWV0ZXJzIGFzIGF9ZnJvbVwiLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRXhwb3J0V01TSW1hZ2VQYXJhbWV0ZXJzLmpzXCI7Y29uc3QgaT1pPT57bGV0IG09Y2xhc3MgZXh0ZW5kcyBpe2luaXRpYWxpemUoKXt0aGlzLmV4cG9ydEltYWdlUGFyYW1ldGVycz1uZXcgYSh7bGF5ZXI6dGhpcy5sYXllcn0pfWRlc3Ryb3koKXt0aGlzLmV4cG9ydEltYWdlUGFyYW1ldGVycz10KHRoaXMuZXhwb3J0SW1hZ2VQYXJhbWV0ZXJzKX1nZXQgZXhwb3J0SW1hZ2VWZXJzaW9uKCl7cmV0dXJuIHRoaXMuZXhwb3J0SW1hZ2VQYXJhbWV0ZXJzPy5jb21taXRQcm9wZXJ0eShcInZlcnNpb25cIiksdGhpcy5jb21taXRQcm9wZXJ0eShcInRpbWVFeHRlbnRcIiksKHRoaXMuX2dldChcImV4cG9ydEltYWdlVmVyc2lvblwiKXx8MCkrMX1mZXRjaFBvcHVwRmVhdHVyZXMoZSl7Y29uc3R7bGF5ZXI6dH09dGhpcztpZighZSlyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHIoXCJ3bXNsYXllcnZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJOb3RoaW5nIHRvIGZldGNoIHdpdGhvdXQgYXJlYVwiLHtsYXllcjp0fSkpO2NvbnN0e3BvcHVwRW5hYmxlZDpvfT10O2lmKCFvKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgcihcIndtc2xheWVydmlldzpmZXRjaFBvcHVwRmVhdHVyZXNcIixcInBvcHVwRW5hYmxlZCBzaG91bGQgYmUgdHJ1ZVwiLHtwb3B1cEVuYWJsZWQ6b30pKTtjb25zdCBzPXRoaXMuY3JlYXRlRmV0Y2hQb3B1cEZlYXR1cmVzUXVlcnkoZSk7aWYoIXMpcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7Y29uc3R7ZXh0ZW50OnAsd2lkdGg6YSxoZWlnaHQ6aSx4Om0seTpufT1zO2lmKCEocCYmYSYmaSkpdGhyb3cgbmV3IHIoXCJ3bXNsYXllcnZpZXc6ZmV0Y2hQb3B1cEZlYXR1cmVzXCIsXCJXTVNMYXllciBkb2VzIG5vdCBzdXBwb3J0IGZldGNoaW5nIGZlYXR1cmVzLlwiLHtleHRlbnQ6cCx3aWR0aDphLGhlaWdodDppfSk7cmV0dXJuIHQuZmV0Y2hGZWF0dXJlSW5mbyhwLGEsaSxtLG4pfX07cmV0dXJuIGUoW28oKV0sbS5wcm90b3R5cGUsXCJleHBvcnRJbWFnZVBhcmFtZXRlcnNcIix2b2lkIDApLGUoW28oe3JlYWRPbmx5OiEwfSldLG0ucHJvdG90eXBlLFwiZXhwb3J0SW1hZ2VWZXJzaW9uXCIsbnVsbCksZShbbygpXSxtLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFtvKHApXSxtLnByb3RvdHlwZSxcInRpbWVFeHRlbnRcIix2b2lkIDApLG09ZShbcyhcImVzcmkubGF5ZXJzLm1peGlucy5XTVNMYXllclZpZXdcIildLG0pLG19O2V4cG9ydHtpIGFzIGRlZmF1bHR9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9