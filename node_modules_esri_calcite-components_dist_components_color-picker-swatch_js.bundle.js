"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["node_modules_esri_calcite-components_dist_components_color-picker-swatch_js"],{

/***/ "./node_modules/@esri/calcite-components/dist/components/color-picker-swatch.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components/dist/components/color-picker-swatch.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ ColorPickerSwatch),
/* harmony export */   d: () => (/* binding */ defineCustomElement)
/* harmony export */ });
/* harmony import */ var _stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stencil/core/internal/client/index.js */ "./node_modules/@stencil/core/internal/client/index.js");
/* harmony import */ var _index2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index2.js */ "./node_modules/@esri/calcite-components/dist/components/index2.js");
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom.js */ "./node_modules/@esri/calcite-components/dist/components/dom.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@esri/calcite-components/dist/components/utils.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.7.0
 */





const CSS = {
  swatch: "swatch",
  noColorSwatch: "swatch--no-color",
  checker: "checker",
};
const COLORS = {
  borderLight: "rgba(0, 0, 0, 0.3)",
  borderDark: "rgba(255, 255, 255, 0.15)",
};
const checkerSquareSize = 4;
const CHECKER_DIMENSIONS = {
  squareSize: checkerSquareSize,
  size: checkerSquareSize * 2,
};

const colorPickerSwatchCss = ":host{position:relative;display:inline-flex}:host([scale=s]){block-size:1.25rem;inline-size:1.25rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem}.swatch{overflow:hidden;block-size:inherit;inline-size:inherit}.swatch rect{transition-property:all;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.swatch--no-color rect{fill:var(--calcite-ui-foreground-1)}.swatch--no-color line{stroke:var(--calcite-ui-danger)}.checker{fill:#cacaca}:host([hidden]){display:none}[hidden]{display:none}";

const ColorPickerSwatch = /*@__PURE__*/ (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.proxyCustomElement)(class extends _stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.HTMLElement {
  constructor() {
    super();
    this.__registerHost();
    this.__attachShadow();
    this.active = false;
    this.color = undefined;
    this.scale = "m";
  }
  handleColorChange(color$1) {
    this.internalColor = color$1 ? (0,_index2_js__WEBPACK_IMPORTED_MODULE_0__.c)(color$1) : null;
  }
  //--------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  //--------------------------------------------------------------------------
  componentWillLoad() {
    this.handleColorChange(this.color);
  }
  render() {
    const isEmpty = !this.internalColor;
    const classes = {
      [CSS.swatch]: true,
      [CSS.noColorSwatch]: isEmpty,
    };
    return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)("svg", { class: classes, xmlns: "http://www.w3.org/2000/svg" }, this.renderSwatch()));
  }
  renderSwatch() {
    const { active, el, internalColor } = this;
    const borderRadius = active ? "100%" : "0";
    const theme = (0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.r)(el);
    const borderColor = theme === "light" ? COLORS.borderLight : COLORS.borderDark;
    const commonSwatchProps = {
      height: "100%",
      rx: borderRadius,
      stroke: borderColor,
      // stroke-width and clip-path are needed to hide overflowing portion of stroke
      // see https://stackoverflow.com/a/7273346/194216
      // using attribute to work around Stencil using the prop name vs the attribute when rendering
      ["stroke-width"]: "2",
      width: "100%",
    };
    const isEmpty = !internalColor;
    if (isEmpty) {
      return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)(_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.Fragment, null, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)("clipPath", { id: "shape" }, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)("rect", { height: "100%", rx: borderRadius, width: "100%" })), (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)("rect", { "clip-path": `inset(0 round ${borderRadius})`, rx: borderRadius, ...commonSwatchProps }), (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)("line", { "clip-path": "url(#shape)", "stroke-width": "3", x1: "100%", x2: "0", y1: "0", y2: "100%" })));
    }
    const alpha = internalColor.alpha();
    const hex = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.h)(internalColor);
    const hexa = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.h)(internalColor, alpha < 1);
    return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)(_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.Fragment, null, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)("title", null, hexa), (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)("defs", null, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)("pattern", { height: CHECKER_DIMENSIONS.size, id: "checker", patternUnits: "userSpaceOnUse", width: CHECKER_DIMENSIONS.size, x: "0", y: "0" }, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)("rect", { class: CSS.checker, height: CHECKER_DIMENSIONS.squareSize, width: CHECKER_DIMENSIONS.squareSize, x: "0", y: "0" }), (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)("rect", { class: CSS.checker, height: CHECKER_DIMENSIONS.squareSize, width: CHECKER_DIMENSIONS.squareSize, x: CHECKER_DIMENSIONS.squareSize, y: CHECKER_DIMENSIONS.squareSize }))), (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)("rect", { fill: "url(#checker)", height: "100%", rx: borderRadius, width: "100%" }), (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)("rect", { fill: hex, style: {
        "clip-path": alpha < 1 ? "polygon(100% 0, 0 0, 0 100%)" : `inset(0 round ${borderRadius})`,
      }, ...commonSwatchProps }), alpha < 1 ? ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_3__.h)("rect", { fill: hexa, key: "opacity-fill", style: { "clip-path": "polygon(100% 0, 100% 100%, 0 100%)" }, ...commonSwatchProps })) : null));
  }
  get el() { return this; }
  static get watchers() { return {
    "color": ["handleColorChange"]
  }; }
  static get style() { return colorPickerSwatchCss; }
}, [1, "calcite-color-picker-swatch", {
    "active": [516],
    "color": [1],
    "scale": [513]
  }]);
function defineCustomElement() {
  if (typeof customElements === "undefined") {
    return;
  }
  const components = ["calcite-color-picker-swatch"];
  components.forEach(tagName => { switch (tagName) {
    case "calcite-color-picker-swatch":
      if (!customElements.get(tagName)) {
        customElements.define(tagName, ColorPickerSwatch);
      }
      break;
  } });
}
defineCustomElement();




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2VzcmlfY2FsY2l0ZS1jb21wb25lbnRzX2Rpc3RfY29tcG9uZW50c19jb2xvci1waWNrZXItc3dhdGNoX2pzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3NHO0FBQzdEO0FBQ0c7QUFDSDs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQ0FBb0Msa0JBQWtCLG9CQUFvQixpQkFBaUIsbUJBQW1CLG9CQUFvQixpQkFBaUIsa0JBQWtCLG1CQUFtQixpQkFBaUIsZ0JBQWdCLGlCQUFpQixRQUFRLGdCQUFnQixtQkFBbUIsb0JBQW9CLGFBQWEsd0JBQXdCLDBCQUEwQix3REFBd0QsdUJBQXVCLG9DQUFvQyx1QkFBdUIsZ0NBQWdDLFNBQVMsYUFBYSxnQkFBZ0IsYUFBYSxTQUFTLGFBQWE7O0FBRTNsQix3Q0FBd0MsMEZBQWtCLGVBQWUsK0VBQVc7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDZDQUFLO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkseUVBQUMsVUFBVSxxREFBcUQ7QUFDNUU7QUFDQTtBQUNBLFlBQVksNEJBQTRCO0FBQ3hDO0FBQ0Esa0JBQWtCLDBDQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx5RUFBQyxDQUFDLDRFQUFRLFFBQVEseUVBQUMsZUFBZSxhQUFhLEVBQUUseUVBQUMsV0FBVyxpREFBaUQsSUFBSSx5RUFBQyxXQUFXLDhCQUE4QixhQUFhLDRDQUE0QyxHQUFHLHlFQUFDLFdBQVcsMkZBQTJGO0FBQzdVO0FBQ0E7QUFDQSxnQkFBZ0IsNENBQU07QUFDdEIsaUJBQWlCLDRDQUFNO0FBQ3ZCLFlBQVkseUVBQUMsQ0FBQyw0RUFBUSxRQUFRLHlFQUFDLHVCQUF1Qix5RUFBQyxlQUFlLHlFQUFDLGNBQWMsZ0lBQWdJLEVBQUUseUVBQUMsV0FBVyxpSEFBaUgsR0FBRyx5RUFBQyxXQUFXLHFLQUFxSyxLQUFLLHlFQUFDLFdBQVcsd0VBQXdFLEdBQUcseUVBQUMsV0FBVztBQUNobkIsbUZBQW1GLGFBQWE7QUFDaEcsT0FBTyx3QkFBd0IsZ0JBQWdCLHlFQUFDLFdBQVcsMENBQTBDLG1EQUFtRCx3QkFBd0I7QUFDaEw7QUFDQSxhQUFhO0FBQ2IsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFNEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY29sb3ItcGlja2VyLXN3YXRjaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvbWFpbi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxuICogdjEuNy4wXG4gKi9cbmltcG9ydCB7IHByb3h5Q3VzdG9tRWxlbWVudCwgSFRNTEVsZW1lbnQsIGgsIEZyYWdtZW50IH0gZnJvbSAnQHN0ZW5jaWwvY29yZS9pbnRlcm5hbC9jbGllbnQvaW5kZXguanMnO1xuaW1wb3J0IHsgYyBhcyBjb2xvciB9IGZyb20gJy4vaW5kZXgyLmpzJztcbmltcG9ydCB7IHIgYXMgZ2V0TW9kZU5hbWUgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBoIGFzIGhleGlmeSB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG5jb25zdCBDU1MgPSB7XG4gIHN3YXRjaDogXCJzd2F0Y2hcIixcbiAgbm9Db2xvclN3YXRjaDogXCJzd2F0Y2gtLW5vLWNvbG9yXCIsXG4gIGNoZWNrZXI6IFwiY2hlY2tlclwiLFxufTtcbmNvbnN0IENPTE9SUyA9IHtcbiAgYm9yZGVyTGlnaHQ6IFwicmdiYSgwLCAwLCAwLCAwLjMpXCIsXG4gIGJvcmRlckRhcms6IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KVwiLFxufTtcbmNvbnN0IGNoZWNrZXJTcXVhcmVTaXplID0gNDtcbmNvbnN0IENIRUNLRVJfRElNRU5TSU9OUyA9IHtcbiAgc3F1YXJlU2l6ZTogY2hlY2tlclNxdWFyZVNpemUsXG4gIHNpemU6IGNoZWNrZXJTcXVhcmVTaXplICogMixcbn07XG5cbmNvbnN0IGNvbG9yUGlja2VyU3dhdGNoQ3NzID0gXCI6aG9zdHtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmlubGluZS1mbGV4fTpob3N0KFtzY2FsZT1zXSl7YmxvY2stc2l6ZToxLjI1cmVtO2lubGluZS1zaXplOjEuMjVyZW19Omhvc3QoW3NjYWxlPW1dKXtibG9jay1zaXplOjEuNXJlbTtpbmxpbmUtc2l6ZToxLjVyZW19Omhvc3QoW3NjYWxlPWxdKXtibG9jay1zaXplOjJyZW07aW5saW5lLXNpemU6MnJlbX0uc3dhdGNoe292ZXJmbG93OmhpZGRlbjtibG9jay1zaXplOmluaGVyaXQ7aW5saW5lLXNpemU6aW5oZXJpdH0uc3dhdGNoIHJlY3R7dHJhbnNpdGlvbi1wcm9wZXJ0eTphbGw7dHJhbnNpdGlvbi1kdXJhdGlvbjoxNTBtczt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpfS5zd2F0Y2gtLW5vLWNvbG9yIHJlY3R7ZmlsbDp2YXIoLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMSl9LnN3YXRjaC0tbm8tY29sb3IgbGluZXtzdHJva2U6dmFyKC0tY2FsY2l0ZS11aS1kYW5nZXIpfS5jaGVja2Vye2ZpbGw6I2NhY2FjYX06aG9zdChbaGlkZGVuXSl7ZGlzcGxheTpub25lfVtoaWRkZW5de2Rpc3BsYXk6bm9uZX1cIjtcblxuY29uc3QgQ29sb3JQaWNrZXJTd2F0Y2ggPSAvKkBfX1BVUkVfXyovIHByb3h5Q3VzdG9tRWxlbWVudChjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgdGhpcy5fX2F0dGFjaFNoYWRvdygpO1xuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5jb2xvciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnNjYWxlID0gXCJtXCI7XG4gIH1cbiAgaGFuZGxlQ29sb3JDaGFuZ2UoY29sb3IkMSkge1xuICAgIHRoaXMuaW50ZXJuYWxDb2xvciA9IGNvbG9yJDEgPyBjb2xvcihjb2xvciQxKSA6IG51bGw7XG4gIH1cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgTGlmZWN5Y2xlXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdGhpcy5oYW5kbGVDb2xvckNoYW5nZSh0aGlzLmNvbG9yKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNFbXB0eSA9ICF0aGlzLmludGVybmFsQ29sb3I7XG4gICAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICAgIFtDU1Muc3dhdGNoXTogdHJ1ZSxcbiAgICAgIFtDU1Mubm9Db2xvclN3YXRjaF06IGlzRW1wdHksXG4gICAgfTtcbiAgICByZXR1cm4gKGgoXCJzdmdcIiwgeyBjbGFzczogY2xhc3NlcywgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB9LCB0aGlzLnJlbmRlclN3YXRjaCgpKSk7XG4gIH1cbiAgcmVuZGVyU3dhdGNoKCkge1xuICAgIGNvbnN0IHsgYWN0aXZlLCBlbCwgaW50ZXJuYWxDb2xvciB9ID0gdGhpcztcbiAgICBjb25zdCBib3JkZXJSYWRpdXMgPSBhY3RpdmUgPyBcIjEwMCVcIiA6IFwiMFwiO1xuICAgIGNvbnN0IHRoZW1lID0gZ2V0TW9kZU5hbWUoZWwpO1xuICAgIGNvbnN0IGJvcmRlckNvbG9yID0gdGhlbWUgPT09IFwibGlnaHRcIiA/IENPTE9SUy5ib3JkZXJMaWdodCA6IENPTE9SUy5ib3JkZXJEYXJrO1xuICAgIGNvbnN0IGNvbW1vblN3YXRjaFByb3BzID0ge1xuICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgIHJ4OiBib3JkZXJSYWRpdXMsXG4gICAgICBzdHJva2U6IGJvcmRlckNvbG9yLFxuICAgICAgLy8gc3Ryb2tlLXdpZHRoIGFuZCBjbGlwLXBhdGggYXJlIG5lZWRlZCB0byBoaWRlIG92ZXJmbG93aW5nIHBvcnRpb24gb2Ygc3Ryb2tlXG4gICAgICAvLyBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzcyNzMzNDYvMTk0MjE2XG4gICAgICAvLyB1c2luZyBhdHRyaWJ1dGUgdG8gd29yayBhcm91bmQgU3RlbmNpbCB1c2luZyB0aGUgcHJvcCBuYW1lIHZzIHRoZSBhdHRyaWJ1dGUgd2hlbiByZW5kZXJpbmdcbiAgICAgIFtcInN0cm9rZS13aWR0aFwiXTogXCIyXCIsXG4gICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgfTtcbiAgICBjb25zdCBpc0VtcHR5ID0gIWludGVybmFsQ29sb3I7XG4gICAgaWYgKGlzRW1wdHkpIHtcbiAgICAgIHJldHVybiAoaChGcmFnbWVudCwgbnVsbCwgaChcImNsaXBQYXRoXCIsIHsgaWQ6IFwic2hhcGVcIiB9LCBoKFwicmVjdFwiLCB7IGhlaWdodDogXCIxMDAlXCIsIHJ4OiBib3JkZXJSYWRpdXMsIHdpZHRoOiBcIjEwMCVcIiB9KSksIGgoXCJyZWN0XCIsIHsgXCJjbGlwLXBhdGhcIjogYGluc2V0KDAgcm91bmQgJHtib3JkZXJSYWRpdXN9KWAsIHJ4OiBib3JkZXJSYWRpdXMsIC4uLmNvbW1vblN3YXRjaFByb3BzIH0pLCBoKFwibGluZVwiLCB7IFwiY2xpcC1wYXRoXCI6IFwidXJsKCNzaGFwZSlcIiwgXCJzdHJva2Utd2lkdGhcIjogXCIzXCIsIHgxOiBcIjEwMCVcIiwgeDI6IFwiMFwiLCB5MTogXCIwXCIsIHkyOiBcIjEwMCVcIiB9KSkpO1xuICAgIH1cbiAgICBjb25zdCBhbHBoYSA9IGludGVybmFsQ29sb3IuYWxwaGEoKTtcbiAgICBjb25zdCBoZXggPSBoZXhpZnkoaW50ZXJuYWxDb2xvcik7XG4gICAgY29uc3QgaGV4YSA9IGhleGlmeShpbnRlcm5hbENvbG9yLCBhbHBoYSA8IDEpO1xuICAgIHJldHVybiAoaChGcmFnbWVudCwgbnVsbCwgaChcInRpdGxlXCIsIG51bGwsIGhleGEpLCBoKFwiZGVmc1wiLCBudWxsLCBoKFwicGF0dGVyblwiLCB7IGhlaWdodDogQ0hFQ0tFUl9ESU1FTlNJT05TLnNpemUsIGlkOiBcImNoZWNrZXJcIiwgcGF0dGVyblVuaXRzOiBcInVzZXJTcGFjZU9uVXNlXCIsIHdpZHRoOiBDSEVDS0VSX0RJTUVOU0lPTlMuc2l6ZSwgeDogXCIwXCIsIHk6IFwiMFwiIH0sIGgoXCJyZWN0XCIsIHsgY2xhc3M6IENTUy5jaGVja2VyLCBoZWlnaHQ6IENIRUNLRVJfRElNRU5TSU9OUy5zcXVhcmVTaXplLCB3aWR0aDogQ0hFQ0tFUl9ESU1FTlNJT05TLnNxdWFyZVNpemUsIHg6IFwiMFwiLCB5OiBcIjBcIiB9KSwgaChcInJlY3RcIiwgeyBjbGFzczogQ1NTLmNoZWNrZXIsIGhlaWdodDogQ0hFQ0tFUl9ESU1FTlNJT05TLnNxdWFyZVNpemUsIHdpZHRoOiBDSEVDS0VSX0RJTUVOU0lPTlMuc3F1YXJlU2l6ZSwgeDogQ0hFQ0tFUl9ESU1FTlNJT05TLnNxdWFyZVNpemUsIHk6IENIRUNLRVJfRElNRU5TSU9OUy5zcXVhcmVTaXplIH0pKSksIGgoXCJyZWN0XCIsIHsgZmlsbDogXCJ1cmwoI2NoZWNrZXIpXCIsIGhlaWdodDogXCIxMDAlXCIsIHJ4OiBib3JkZXJSYWRpdXMsIHdpZHRoOiBcIjEwMCVcIiB9KSwgaChcInJlY3RcIiwgeyBmaWxsOiBoZXgsIHN0eWxlOiB7XG4gICAgICAgIFwiY2xpcC1wYXRoXCI6IGFscGhhIDwgMSA/IFwicG9seWdvbigxMDAlIDAsIDAgMCwgMCAxMDAlKVwiIDogYGluc2V0KDAgcm91bmQgJHtib3JkZXJSYWRpdXN9KWAsXG4gICAgICB9LCAuLi5jb21tb25Td2F0Y2hQcm9wcyB9KSwgYWxwaGEgPCAxID8gKGgoXCJyZWN0XCIsIHsgZmlsbDogaGV4YSwga2V5OiBcIm9wYWNpdHktZmlsbFwiLCBzdHlsZTogeyBcImNsaXAtcGF0aFwiOiBcInBvbHlnb24oMTAwJSAwLCAxMDAlIDEwMCUsIDAgMTAwJSlcIiB9LCAuLi5jb21tb25Td2F0Y2hQcm9wcyB9KSkgOiBudWxsKSk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gdGhpczsgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwiY29sb3JcIjogW1wiaGFuZGxlQ29sb3JDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gY29sb3JQaWNrZXJTd2F0Y2hDc3M7IH1cbn0sIFsxLCBcImNhbGNpdGUtY29sb3ItcGlja2VyLXN3YXRjaFwiLCB7XG4gICAgXCJhY3RpdmVcIjogWzUxNl0sXG4gICAgXCJjb2xvclwiOiBbMV0sXG4gICAgXCJzY2FsZVwiOiBbNTEzXVxuICB9XSk7XG5mdW5jdGlvbiBkZWZpbmVDdXN0b21FbGVtZW50KCkge1xuICBpZiAodHlwZW9mIGN1c3RvbUVsZW1lbnRzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGNvbXBvbmVudHMgPSBbXCJjYWxjaXRlLWNvbG9yLXBpY2tlci1zd2F0Y2hcIl07XG4gIGNvbXBvbmVudHMuZm9yRWFjaCh0YWdOYW1lID0+IHsgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgY2FzZSBcImNhbGNpdGUtY29sb3ItcGlja2VyLXN3YXRjaFwiOlxuICAgICAgaWYgKCFjdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpIHtcbiAgICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIENvbG9yUGlja2VyU3dhdGNoKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9IH0pO1xufVxuZGVmaW5lQ3VzdG9tRWxlbWVudCgpO1xuXG5leHBvcnQgeyBDb2xvclBpY2tlclN3YXRjaCBhcyBDLCBkZWZpbmVDdXN0b21FbGVtZW50IGFzIGQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==