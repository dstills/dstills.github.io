"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_widgets_Attachments_js"],{

/***/ "./node_modules/@arcgis/core/core/quantityUtils.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/quantityUtils.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertRotationType: () => (/* binding */ g),
/* harmony export */   createAngle: () => (/* binding */ o),
/* harmony export */   createArea: () => (/* binding */ l),
/* harmony export */   createLength: () => (/* binding */ i),
/* harmony export */   createQuantity: () => (/* binding */ r),
/* harmony export */   createVolume: () => (/* binding */ a),
/* harmony export */   isBaseUnit: () => (/* binding */ c),
/* harmony export */   max: () => (/* binding */ p),
/* harmony export */   min: () => (/* binding */ y),
/* harmony export */   scale: () => (/* binding */ m),
/* harmony export */   toBaseUnit: () => (/* binding */ v),
/* harmony export */   toUnit: () => (/* binding */ f),
/* harmony export */   valueInUnit: () => (/* binding */ s),
/* harmony export */   zeroDegrees: () => (/* binding */ U),
/* harmony export */   zeroMeters: () => (/* binding */ h),
/* harmony export */   zeroRadians: () => (/* binding */ T),
/* harmony export */   zeroSquareMeters: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(t,u){return{type:(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.unitType)(u),value:t,unit:u}}function i(t,u){return{type:(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.unitType)(u),value:t,unit:u}}function l(t,u){return{type:(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.unitType)(u),value:t,unit:u}}function a(t,u){return{type:(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.unitType)(u),value:t,unit:u}}function o(t,u,e="arithmetic"){return{type:(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.unitType)(u),value:t,unit:u,rotationType:e}}function c(n){return (0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.isBaseUnit)(n.unit)}function f(n,t){const u=s(n,t);return"angle"===n.type?o(u,t,n.rotationType):r(u,t)}function s(n,t){return (0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertUnit)(n.value,n.unit,t)}function v(n){return f(n,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.baseUnitForUnit)(n.unit))}function p(n,t){return null==n?t:null==t||n.value>(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertUnit)(t.value,t.unit,n.unit)?n:t}function y(n,t){return null==n?t:null==t||n.value<(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertUnit)(t.value,t.unit,n.unit)?n:t}function m(n,t){return null==n?null:{...n,value:n.value*t}}function g(n,t,u){if(t===u)return n;switch(u){case"arithmetic":case"geographic":return 90-n}}const h=i(0,"meters"),d=l(0,"square-meters"),T=o(0,"radians"),U=o(0,"degrees");


/***/ }),

/***/ "./node_modules/@arcgis/core/core/unitFormatUtils.js":
/*!***********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/unitFormatUtils.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   formatAngleDegrees: () => (/* binding */ U),
/* harmony export */   formatDMS: () => (/* binding */ S),
/* harmony export */   formatDecimal: () => (/* binding */ g),
/* harmony export */   formatFileSize: () => (/* binding */ O),
/* harmony export */   formatImperialArea: () => (/* binding */ $),
/* harmony export */   formatImperialLength: () => (/* binding */ d),
/* harmony export */   formatImperialRelativeLength: () => (/* binding */ h),
/* harmony export */   formatImperialRelativeVerticalLength: () => (/* binding */ M),
/* harmony export */   formatImperialVerticalLength: () => (/* binding */ B),
/* harmony export */   formatMetricArea: () => (/* binding */ j),
/* harmony export */   formatMetricLength: () => (/* binding */ D),
/* harmony export */   formatMetricRelativeLength: () => (/* binding */ x),
/* harmony export */   formatMetricRelativeVerticalLength: () => (/* binding */ F),
/* harmony export */   formatMetricVerticalLength: () => (/* binding */ y),
/* harmony export */   formatRelativeAngleDegrees: () => (/* binding */ w),
/* harmony export */   formatRelativeDecimal: () => (/* binding */ p),
/* harmony export */   unitName: () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ByteSizeUnit.js */ "./node_modules/@arcgis/core/core/ByteSizeUnit.js");
/* harmony import */ var _Cyclical_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Cyclical.js */ "./node_modules/@arcgis/core/core/Cyclical.js");
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _quantityUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./quantityUtils.js */ "./node_modules/@arcgis/core/core/quantityUtils.js");
/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./string.js */ "./node_modules/@arcgis/core/core/string.js");
/* harmony import */ var _unitUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _intl_number_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../intl/number.js */ "./node_modules/@arcgis/core/intl/number.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function b(t,n,i){return t.units[n][i]}function g(t,n,i,r=2,o="abbr"){return`${(0,_intl_number_js__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(n,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:n>0?"never":"exceptZero"})} ${b(t,i,o)}`}function p(t,n,i,r=2,o="abbr"){return`${(0,_intl_number_js__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(n,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:"exceptZero"})} ${b(t,i,o)}`}function D(t,n,i,r=2,o="abbr"){const s=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.adaptiveMetricLengthUnit)(n,i);return g(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertUnit)(n,i,s),s,r,o)}function x(t,n,i,r=2,o="abbr"){const s=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.adaptiveMetricLengthUnit)(n,i);return p(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertUnit)(n,i,s),s,r,o)}function y(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.adaptiveMetricVerticalLengthUnit)(n,i);return g(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertUnit)(n,i,e),e,r,o)}function F(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.adaptiveMetricVerticalLengthUnit)(n,i);return p(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertUnit)(n,i,e),e,r,o)}function d(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.adaptiveImperialLengthUnit)(n,i);return g(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertUnit)(n,i,e),e,r,o)}function h(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.adaptiveImperialLengthUnit)(n,i);return p(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertUnit)(n,i,e),e,r,o)}function B(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.adaptiveImperialVerticalLengthUnit)(n,i);return g(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertUnit)(n,i,e),e,r,o)}function M(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.adaptiveImperialVerticalLengthUnit)(n,i);return p(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertUnit)(n,i,e),e,r,o)}function j(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.adaptiveMetricAreaUnit)(n,i);return g(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertUnit)(n,i,e),e,r,o)}function $(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.adaptiveImperialAreaUnit)(n,i);return g(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertUnit)(n,i,e),e,r,o)}function S(t,n,i=2){let r=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertUnit)(t,n,"degrees"),o=r-Math.floor(r);r-=o,o*=60;let e=o-Math.floor(o);return o-=e,e*=60,`${r.toFixed()}Â° ${o.toFixed()}' ${e.toFixed(i)}"`}function U(t,i,o,e,s){s=s??2;let c=_Cyclical_js__WEBPACK_IMPORTED_MODULE_1__.cyclicalDegrees.normalize((0,_quantityUtils_js__WEBPACK_IMPORTED_MODULE_3__.convertRotationType)((0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertUnit)(t,i,"degrees"),o,e),0,!0);const a={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:s,minimumFractionDigits:s,signDisplay:c>0?"never":"exceptZero"};return c=z(c,a),(0,_intl_number_js__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(c,a)}function w(t,n,i,r,o){i!==r&&(t=-t);const e={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:o=o??2,minimumFractionDigits:o,signDisplay:"exceptZero"};let s=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertUnit)(t,n,"degrees")%360;return s=z(s,e),(0,_intl_number_js__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(s,e)}const Z=new Map;function z(t,n){const i=JSON.stringify(n);let r=Z.get(i);return r||(r=new Intl.NumberFormat("en-US",n),Z.set(i,r)),/\-?\+?360/.test(r.format(t))?0:t}const I=["B","kB","MB","GB","TB"];function O(n,r){let e=0===(r=Math.round(r))?0:Math.floor(Math.log(r)/Math.log(_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_0__.ByteSizeUnit.KILOBYTES));e=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.clamp)(e,0,I.length-1);const u=(0,_intl_number_js__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(r/_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_0__.ByteSizeUnit.KILOBYTES**e,{maximumFractionDigits:2});return (0,_string_js__WEBPACK_IMPORTED_MODULE_4__.replace)(n.units.bytes[I[e]],{fileSize:u})}


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Attachments.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Attachments.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/unitFormatUtils.js */ "./node_modules/@arcgis/core/core/unitFormatUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Widget_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Widget.js */ "./node_modules/@arcgis/core/widgets/Widget.js");
/* harmony import */ var _Attachments_AttachmentsViewModel_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Attachments/AttachmentsViewModel.js */ "./node_modules/@arcgis/core/widgets/Attachments/AttachmentsViewModel.js");
/* harmony import */ var _Attachments_support_attachmentUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Attachments/support/attachmentUtils.js */ "./node_modules/@arcgis/core/widgets/Attachments/support/attachmentUtils.js");
/* harmony import */ var _support_componentsUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/componentsUtils.js */ "./node_modules/@arcgis/core/widgets/support/componentsUtils.js");
/* harmony import */ var _support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/globalCss.js */ "./node_modules/@arcgis/core/widgets/support/globalCss.js");
/* harmony import */ var _support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./support/legacyIcon.js */ "./node_modules/@arcgis/core/widgets/support/legacyIcon.js");
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./support/widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var _support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./support/decorators/messageBundle.js */ "./node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js");
/* harmony import */ var _support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./support/jsxFactory.js */ "./node_modules/@arcgis/core/widgets/support/jsxFactory.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const A={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},w="esri-attachments",F={base:w,loaderContainer:`${w}__loader-container`,loader:`${w}__loader`,fadeIn:`${w}--fade-in`,container:`${w}__container`,containerList:`${w}__container--list`,containerPreview:`${w}__container--preview`,actions:`${w}__actions`,deleteButton:`${w}__delete-button`,addAttachmentButton:`${w}__add-attachment-button`,errorMessage:`${w}__error-message`,items:`${w}__items`,item:`${w}__item`,itemButton:`${w}__item-button`,itemMask:`${w}__item-mask`,itemMaskIcon:`${w}__item-mask--icon`,itemImage:`${w}__image`,itemImageResizable:`${w}__image--resizable`,itemLabel:`${w}__label`,itemFilename:`${w}__filename`,itemChevronIcon:`${w}__item-chevron-icon`,itemLink:`${w}__item-link`,itemLinkOverlay:`${w}__item-link-overlay`,itemLinkOverlayIcon:`${w}__item-link-overlay-icon`,itemEditIcon:`${w}__item-edit-icon`,itemAddIcon:`${w}__item-add-icon`,itemAddButton:`${w}__item-add-button`,formNode:`${w}__form-node`,fileFieldset:`${w}__file-fieldset`,fileLabel:`${w}__file-label`,fileName:`${w}__file-name`,fileInput:`${w}__file-input`,metadata:`${w}__metadata`,metadataFieldset:`${w}__metadata-fieldset`,progressBar:`${w}__progress-bar`},k=window.CSS;let M=class extends _Widget_js__WEBPACK_IMPORTED_MODULE_9__["default"]{constructor(e,t){super(e,t),this.displayType="auto",this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=null,this.visibleElements={...A},this._supportsImageOrientation=k&&k.supports&&k.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}normalizeCtorArgs(e){return e?.viewModel||(e={viewModel:new _Attachments_AttachmentsViewModel_js__WEBPACK_IMPORTED_MODULE_10__["default"],...e}),e}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.on)((()=>this.viewModel?.attachmentInfos),"change",(()=>this.scheduleRender())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.on)((()=>this.viewModel?.fileInfos),"change",(()=>this.scheduleRender())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>this.viewModel?.mode),(()=>this._modeChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.initial)])}loadDependencies(){return (0,_support_componentsUtils_js__WEBPACK_IMPORTED_MODULE_12__.loadCalciteComponents)({icon:()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_node_modules_esri_calcite-components_dist_components_calcite-icon_js").then(__webpack_require__.bind(__webpack_require__, /*! @esri/calcite-components/dist/components/calcite-icon.js */ "./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-icon.js"))})}get capabilities(){return this.viewModel.capabilities}set capabilities(e){this.viewModel.capabilities=e}get effectiveDisplayType(){const{displayType:e}=this;return e&&"auto"!==e?e:this.viewModel.supportsResizeAttachments?"preview":"list"}get graphic(){return this.viewModel.graphic}set graphic(e){this.viewModel.graphic=e}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}castVisibleElements(e){return{...A,...e}}addAttachment(){const{_addAttachmentForm:e,viewModel:s}=this;return this._set("submitting",!0),this._set("error",null),s.addAttachment(e).then((e=>(this._set("submitting",!1),this._set("error",null),s.mode="view",e))).catch((e=>{throw this._set("submitting",!1),this._set("error",new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("attachments:add-attachment",this.messages.addErrorMessage,e)),e}))}deleteAttachment(e){const{viewModel:s}=this;return this._set("submitting",!0),this._set("error",null),s.deleteAttachment(e).then((e=>(this._set("submitting",!1),this._set("error",null),s.mode="view",e))).catch((e=>{throw this._set("submitting",!1),this._set("error",new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("attachments:delete-attachment",this.messages.deleteErrorMessage,e)),e}))}updateAttachment(){const{viewModel:e}=this,{_updateAttachmentForm:s}=this;return this._set("submitting",!0),this._set("error",null),e.updateAttachment(s).then((t=>(this._set("submitting",!1),this._set("error",null),e.mode="view",t))).catch((e=>{throw this._set("submitting",!1),this._set("error",new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("attachments:update-attachment",this.messages.updateErrorMessage,e)),e}))}addFile(){const e=this.viewModel.addFile(this.selectedFile,this._addAttachmentForm);return this.viewModel.mode="view",e}updateFile(){const{viewModel:e}=this,t=e.updateFile(this.selectedFile,this._updateAttachmentForm,e.activeFileInfo);return e.mode="view",t}deleteFile(e){const t=this.viewModel.deleteFile(e||this.viewModel.activeFileInfo?.file);return this.viewModel.mode="view",t}render(){const{submitting:e,viewModel:t}=this,{state:s}=t;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:this.classes(F.base,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.widget)},e?this._renderProgressBar():null,"loading"===s?this._renderLoading():this._renderAttachments(),this._renderErrorMessage())}_renderErrorMessage(){const{error:e,visibleElements:t}=this;return e&&t.errorMessage?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:F.errorMessage,key:"error-message"},e.message):null}_renderAttachments(){const{activeFileInfo:e,mode:t,activeAttachmentInfo:s}=this.viewModel;return"add"===t?this._renderAddForm():"edit"===t?this._renderDetailsForm(s||e):this._renderAttachmentContainer()}_renderLoading(){return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:F.loaderContainer,key:"loader"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:F.loader}))}_renderProgressBar(){return this.visibleElements.progressBar?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:F.progressBar,key:"progress-bar"}):null}_renderAddForm(){const{submitting:e,selectedFile:t}=this,s=e||!t,i=this.visibleElements.cancelAddButton?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("button",{bind:this,class:this.classes(_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.button,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonTertiary,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonSmall,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonHalf,e&&_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonDisabled),disabled:e,onclick:this._cancelForm,type:"button"},this.messages.cancel):null,a=this.visibleElements.addSubmitButton?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("button",{class:this.classes(_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.button,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonSecondary,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonSmall,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonHalf,{[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonDisabled]:s}),disabled:s,type:"submit"},this.messages.add):null,n=t?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("span",{class:F.fileName,key:"file-name"},t.name):null,l=(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("form",{afterCreate:_support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_15__.storeNode,afterRemoved:_support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_15__.discardNode,bind:this,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("fieldset",{class:F.fileFieldset},n,(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("label",{class:this.classes(F.fileLabel,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.button,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonSecondary)},t?this.messages.changeFile:this.messages.selectFile,(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("input",{bind:this,class:F.fileInput,name:"attachment",onchange:this._handleFileInputChange,type:"file"}))),a,i);return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:F.formNode,key:"add-form-container"},l)}_renderDetailsForm(e){const{visibleElements:t,viewModel:s,selectedFile:i,submitting:a}=this,{capabilities:l}=s,r=a||!i;let o,d,m,c;i?(o=i.type,d=i.name,m=i.size):e&&"file"in e?(o=e.file.type,d=e.file.name,m=e.file.size):e&&"contentType"in e&&(o=e.contentType,d=e.name,m=e.size,c=e.url);const h=l.editing&&l.operations?.delete&&t.deleteButton?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("button",{bind:this,class:this.classes(_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.button,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonSmall,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonTertiary,F.deleteButton,{[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonDisabled]:a}),disabled:a,key:"delete-button",onclick:t=>this._submitDeleteAttachment(t,e),type:"button"},this.messages.delete):void 0,u=l.editing&&l.operations?.update&&t.updateButton?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("button",{class:this.classes(_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.button,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonSmall,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonThird,{[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonDisabled]:r}),disabled:r,key:"update-button",type:"submit"},this.messages.update):void 0,b=this.visibleElements.cancelUpdateButton?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("button",{bind:this,class:this.classes(_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.button,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonSmall,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonTertiary,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonThird,{[_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonDisabled]:a}),disabled:a,key:"cancel-button",onclick:this._cancelForm,type:"button"},this.messages.cancel):void 0,f=l.editing&&l.operations?.update?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("fieldset",{class:F.fileFieldset,key:"file"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("span",{class:F.fileName,key:"file-name"},d),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("label",{class:this.classes(F.fileLabel,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.button,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonSecondary)},this.messages.changeFile,(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("input",{bind:this,class:F.fileInput,name:"attachment",onchange:this._handleFileInputChange,type:"file"}))):void 0,v=(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("fieldset",{class:F.metadataFieldset,key:"size"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("label",null,(0,_core_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_3__.formatFileSize)(this.messagesUnits,m??0))),A=(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("fieldset",{class:F.metadataFieldset,key:"content-type"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("label",null,o)),w=null!=c?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("a",{class:F.itemLink,href:c,rel:"noreferrer",target:"_blank"},this._renderImageMask(e,400),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:F.itemLinkOverlay},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("span",{class:F.itemLinkOverlayIcon},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("calcite-icon",{icon:"launch"})))):this._renderImageMask(e,400),k=(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("form",{afterCreate:_support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_15__.storeNode,afterRemoved:_support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_15__.discardNode,bind:this,"data-node-ref":"_updateAttachmentForm",onsubmit:t=>this._submitUpdateAttachment(t,e)},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:F.metadata},v,A),f,(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:F.actions},h,b,u));return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:F.formNode,key:"edit-form-container"},w,k)}_renderImageMask(e,t){return e?"file"in e?this._renderGenericImageMask(e.file.name,e.file.type):this._renderImageMaskForAttachment(e,t):null}_renderGenericImageMask(e,t){const{supportsResizeAttachments:s}=this.viewModel,i=(0,_Attachments_support_attachmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.getIconPath)(t),a={[F.itemImageResizable]:s};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:this.classes(F.itemMaskIcon,F.itemMask),key:i},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("img",{alt:e,class:this.classes(a,F.itemImage),src:i,title:e}))}_renderImageMaskForAttachment(e,t){const{supportsResizeAttachments:s}=this.viewModel;if(!e)return null;const{contentType:i,name:a,url:n}=e;if(!s||!(0,_Attachments_support_attachmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.isSupportedImage)(i))return this._renderGenericImageMask(a,i);const l=this._getCSSTransform(e),r=l?{transform:l,"image-orientation":"none"}:{},o=`${n}${n?.includes("?")?"&":"?"}w=${t}`,d={[F.itemImageResizable]:s};return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:this.classes(F.itemMask),key:o},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("img",{alt:a,class:this.classes(d,F.itemImage),src:o,styles:r,title:a}))}_renderFile(e){const{file:t}=e;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("li",{class:F.item,key:t},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("button",{"aria-label":this.messages.attachmentDetails,bind:this,class:F.itemButton,key:"details-button",onclick:()=>this._startEditFile(e),title:this.messages.attachmentDetails,type:"button"},this._renderImageMask(e),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("label",{class:F.itemLabel},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("span",{class:F.itemFilename},t.name||this.messages.noTitle),(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("span",{"aria-hidden":"true",class:this.classes(F.itemChevronIcon,(0,_support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_15__.isRTL)(this.container)?_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_14__.legacyIcon.left:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_14__.legacyIcon.right)}))))}_renderAttachmentInfo({attachmentInfo:e,displayType:t}){const{viewModel:s,effectiveDisplayType:i}=this,{capabilities:a,supportsResizeAttachments:n}=s,{contentType:l,name:r,url:o}=e,d=this._renderImageMask(e,"list"===t?48:400),m=a.editing?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("span",{"aria-hidden":"true",class:this.classes(F.itemChevronIcon,(0,_support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_15__.isRTL)(this.container)?_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_14__.legacyIcon.left:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_14__.legacyIcon.right)}):null,c=[d,"preview"===i&&n&&(0,_Attachments_support_attachmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.isSupportedImage)(l)?null:(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("label",{class:F.itemLabel},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("span",{class:F.itemFilename},r||this.messages.noTitle),m)],u=a.editing?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("button",{"aria-label":this.messages.attachmentDetails,bind:this,class:F.itemButton,"data-attachment-info-id":e.id,key:"details-button",onclick:()=>this._startEditAttachment(e),title:this.messages.attachmentDetails,type:"button"},c):(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("a",{class:F.itemButton,href:o??void 0,key:"details-link",target:"_blank"},c);return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("li",{class:F.item,key:e},u)}_renderAttachmentContainer(){const{effectiveDisplayType:e,viewModel:t,visibleElements:s}=this,{attachmentInfos:i,capabilities:a,fileInfos:n}=t,l=!!i?.length,r=!!n?.length,o={[F.containerList]:"preview"!==e,[F.containerPreview]:"preview"===e},d=a.editing&&a.operations?.add&&s.addButton?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("button",{bind:this,class:this.classes(_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.button,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.buttonTertiary,F.addAttachmentButton),onclick:()=>this._startAddAttachment(),type:"button"},(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("span",{"aria-hidden":"true",class:this.classes(F.itemAddIcon,_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_14__.legacyIcon.plus)}),this.messages.add):void 0,m=l?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("ul",{class:F.items,key:"attachments-list"},i.toArray().map((t=>this._renderAttachmentInfo({attachmentInfo:t,displayType:e})))):void 0,c=r?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("ul",{class:F.items,key:"file-list"},n.toArray().map((e=>this._renderFile(e)))):void 0,h=r||l?void 0:(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:_support_globalCss_js__WEBPACK_IMPORTED_MODULE_13__.globalCss.empty},this.messages.noAttachments);return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_17__.tsx)("div",{class:this.classes(F.container,o),key:"attachments-container"},m,c,h,d)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(e){const t=e.target,s=t.files?.item(0);this._set("selectedFile",s)}_submitDeleteAttachment(e,t){e.preventDefault(),t&&("file"in t?this.deleteFile(t.file):t&&this.deleteAttachment(t))}_submitAddAttachment(e){e.preventDefault(),this.viewModel.filesEnabled?this.addFile():this.addAttachment()}_submitUpdateAttachment(e,t){e.preventDefault(),t&&"file"in t?this.updateFile():this.updateAttachment()}_startEditAttachment(e){const{viewModel:t}=this;t.activeFileInfo=null,t.activeAttachmentInfo=e,t.mode="edit"}_startEditFile(e){const{viewModel:t}=this;t.activeAttachmentInfo=null,t.activeFileInfo=e,t.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(e){e.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(e){const{orientationInfo:t}=e;return!this._supportsImageOrientation&&t?[t.rotation?`rotate(${t.rotation}deg)`:"",t.mirrored?"scaleX(-1)":""].join(" "):""}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"capabilities",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"displayType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],M.prototype,"effectiveDisplayType",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"graphic",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"label",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_16__.messageBundle)("esri/widgets/Attachments/t9n/Attachments")],M.prototype,"messages",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_16__.messageBundle)("esri/core/t9n/Units")],M.prototype,"messagesUnits",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],M.prototype,"selectedFile",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],M.prototype,"submitting",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],M.prototype,"error",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_Attachments_AttachmentsViewModel_js__WEBPACK_IMPORTED_MODULE_10__["default"]})],M.prototype,"viewModel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],M.prototype,"visibleElements",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_5__.cast)("visibleElements")],M.prototype,"castVisibleElements",null),M=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.widgets.Attachments")],M);const I=M;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Attachments/AttachmentsViewModel.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Attachments/AttachmentsViewModel.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _rest_query_support_AttachmentInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../rest/query/support/AttachmentInfo.js */ "./node_modules/@arcgis/core/rest/query/support/AttachmentInfo.js");
/* harmony import */ var _rest_support_AttachmentQuery_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../rest/support/AttachmentQuery.js */ "./node_modules/@arcgis/core/rest/support/AttachmentQuery.js");
/* harmony import */ var _Feature_support_featureUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../Feature/support/featureUtils.js */ "./node_modules/@arcgis/core/widgets/Feature/support/featureUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const m={editing:!1,operations:{add:!0,update:!0,delete:!0}},f=_core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"].ofType(_rest_query_support_AttachmentInfo_js__WEBPACK_IMPORTED_MODULE_11__["default"]);let u=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(t){super(t),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.capabilities={...m},this.activeAttachmentInfo=null,this.activeFileInfo=null,this.attachmentInfos=new f,this.fileInfos=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"],this.graphic=null,this.mode="view",this.filesEnabled=!1,this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>this.graphic),(()=>this._graphicChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.initial))}destroy(){this._attachmentLayer=null,this.graphic=null}castCapabilities(t){return{...m,...t}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){const{graphic:t}=this;if(!t)return!1;const e=t.layer||t.sourceLayer;return e?.loaded&&"capabilities"in e&&e.capabilities&&"operations"in e.capabilities&&"supportsResizeAttachments"in e.capabilities.operations&&e.capabilities.operations.supportsResizeAttachments||!1}async getAttachments(){const{_attachmentLayer:t,attachmentInfos:e}=this;if(!t||"function"!=typeof t.queryAttachments)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-layer","getAttachments(): A valid layer is required.");const a=this._getObjectId(),i=new _rest_support_AttachmentQuery_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectIds:[a],returnMetadata:!0}),r=[],s=t.queryAttachments(i).then((t=>t[a]||r)).catch((()=>r));this._getAttachmentsPromise=s,this.notifyChange("state");const o=await s;return e.removeAll(),o.length&&e.addMany(o),this._getAttachmentsPromise=null,this.notifyChange("state"),o}async addAttachment(t,e=this.graphic){const{_attachmentLayer:a,attachmentInfos:i,capabilities:r}=this;if(!e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-graphic","addAttachment(): A valid graphic is required.",{graphic:e});if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-attachment","addAttachment(): An attachment is required.",{attachment:t});if(!r.operations?.add)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-capabilities","addAttachment(): add capabilities are required.");if(!a||"function"!=typeof a.addAttachment)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-layer","addAttachment(): A valid layer is required.");const s=a.addAttachment(e,t).then((t=>this._queryAttachment(t.objectId,e))),o=await s;return i.add(o),o}async deleteAttachment(t){const{_attachmentLayer:e,attachmentInfos:a,graphic:i,capabilities:r}=this;if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:t});if(!r.operations?.delete)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-capabilities","deleteAttachment(): delete capabilities are required.");if(!e||"function"!=typeof e.deleteAttachments)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-layer","deleteAttachment(): A valid layer is required.");if(!i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-graphic","deleteAttachment(): A graphic is required.");const s=e.deleteAttachments(i,[t.id]).then((()=>t)),o=await s;return a.remove(o),o}async updateAttachment(t,e=this.activeAttachmentInfo){const{_attachmentLayer:a,attachmentInfos:i,graphic:r,capabilities:s}=this;if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:t});if(!e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:e});if(!s.operations?.update)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-capabilities","updateAttachment(): Update capabilities are required.");const o=i.indexOf(e);if(!a||"function"!=typeof a.updateAttachment)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-layer","updateAttachment(): A valid layer is required.");if(!r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-graphic","updateAttachment(): A graphic is required.");const c=a.updateAttachment(r,e.id,t).then((t=>this._queryAttachment(t.objectId))),h=await c;return i.splice(o,1,h),h}async commitFiles(){return await Promise.all(this.fileInfos.items.map((t=>this.addAttachment(t.form)))),this.fileInfos.removeAll(),this.getAttachments()}addFile(t,e){if(!t||!e)return null;const a={file:t,form:e};return this.fileInfos.add(a),a}updateFile(t,e,a=this.activeFileInfo){if(!t||!e||!a)return null;const i=this.fileInfos.indexOf(a);return i>-1&&this.fileInfos.splice(i,1,{file:t,form:e}),this.fileInfos.items[i]}deleteFile(t){const e=this.fileInfos.find((e=>e.file===t));return e?(this.fileInfos.remove(e),e):null}async _queryAttachment(t,e){const{_attachmentLayer:a}=this;if(!t||!a?.queryAttachments)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_4__["default"]("invalid-attachment-id","Could not query attachment.");const i=this._getObjectId(e),r=new _rest_support_AttachmentQuery_js__WEBPACK_IMPORTED_MODULE_12__["default"]({objectIds:[i],attachmentsWhere:`AttachmentId=${t}`,returnMetadata:!0});return a.queryAttachments(r).then((t=>t[i][0]))}_getObjectId(t=this.graphic){return t?.getObjectId()??null}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch((()=>{})))}_setAttachmentLayer(){const{graphic:t}=this,e=(0,_Feature_support_featureUtils_js__WEBPACK_IMPORTED_MODULE_13__.getSourceLayer)(t);this._attachmentLayer=e?"scene"===e.type&&null!=e.associatedLayer?e.associatedLayer:e:null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],u.prototype,"capabilities",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_7__.cast)("capabilities")],u.prototype,"castCapabilities",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],u.prototype,"activeAttachmentInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],u.prototype,"activeFileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0,type:f})],u.prototype,"attachmentInfos",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],u.prototype,"fileInfos",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:_Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]})],u.prototype,"graphic",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],u.prototype,"mode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],u.prototype,"state",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],u.prototype,"filesEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],u.prototype,"supportsResizeAttachments",null),u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.widgets.Attachments.AttachmentsViewModel")],u);const y=u;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/Attachments/support/attachmentUtils.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Attachments/support/attachmentUtils.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getIconPath: () => (/* binding */ p),
/* harmony export */   isSupportedImage: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _assets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../assets.js */ "./node_modules/@arcgis/core/assets.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(i){const e=i.toLowerCase();return"image/bmp"===e||"image/emf"===e||"image/exif"===e||"image/gif"===e||"image/x-icon"===e||"image/jpeg"===e||"image/png"===e||"image/tiff"===e||"image/x-wmf"===e}function p(e){const p=(0,_assets_js__WEBPACK_IMPORTED_MODULE_0__.getAssetUrl)("esri/themes/base/images/files/");return e?"text/plain"===e?`${p}text-32.svg`:"application/pdf"===e?`${p}pdf-32.svg`:"text/csv"===e?`${p}csv-32.svg`:"application/gpx+xml"===e?`${p}gpx-32.svg`:"application/x-dwf"===e?`${p}cad-32.svg`:"application/postscript"===e||"application/json"===e||"text/xml"===e||"model/vrml"===e?`${p}code-32.svg`:"application/x-zip-compressed"===e||"application/x-7z-compressed"===e||"application/x-gzip"===e||"application/x-tar"===e||"application/x-gtar"===e||"application/x-bzip2"===e||"application/gzip"===e||"application/x-compress"===e||"application/x-apple-diskimage"===e||"application/x-rar-compressed"===e||"application/zip"===e?`${p}zip-32.svg`:e.includes("image/")?`${p}image-32.svg`:e.includes("audio/")?`${p}sound-32.svg`:e.includes("video/")?`${p}video-32.svg`:e.includes("msexcel")||e.includes("ms-excel")||e.includes("spreadsheetml")?`${p}excel-32.svg`:e.includes("msword")||e.includes("ms-word")||e.includes("wordprocessingml")?`${p}word-32.svg`:e.includes("powerpoint")||e.includes("presentationml")?`${p}report-32.svg`:`${p}generic-32.svg`:`${p}generic-32.svg`}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfd2lkZ2V0c19BdHRhY2htZW50c19qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDZ0csZ0JBQWdCLE9BQU8sS0FBSyx1REFBQyxvQkFBb0IsZ0JBQWdCLE9BQU8sS0FBSyx1REFBQyxvQkFBb0IsZ0JBQWdCLE9BQU8sS0FBSyx1REFBQyxvQkFBb0IsZ0JBQWdCLE9BQU8sS0FBSyx1REFBQyxvQkFBb0IsK0JBQStCLE9BQU8sS0FBSyx1REFBQyxtQ0FBbUMsY0FBYyxPQUFPLHlEQUFDLFNBQVMsZ0JBQWdCLGVBQWUsb0RBQW9ELGdCQUFnQixPQUFPLDBEQUFDLG1CQUFtQixjQUFjLFdBQVcsOERBQUMsVUFBVSxnQkFBZ0Isa0NBQWtDLDBEQUFDLDRCQUE0QixnQkFBZ0Isa0NBQWtDLDBEQUFDLDRCQUE0QixnQkFBZ0IscUJBQXFCLHNCQUFzQixrQkFBa0Isa0JBQWtCLFVBQVUsK0NBQStDLCtFQUEyVzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKcnRDO0FBQ0E7QUFDQTtBQUNBO0FBQzJnQixrQkFBa0IscUJBQXFCLCtCQUErQixTQUFTLDZEQUFDLElBQUkscUZBQXFGLEdBQUcsRUFBRSxTQUFTLEVBQUUsK0JBQStCLFNBQVMsNkRBQUMsSUFBSSx5RUFBeUUsR0FBRyxFQUFFLFNBQVMsRUFBRSwrQkFBK0IsUUFBUSx1RUFBQyxNQUFNLFdBQVcsMERBQUMsZUFBZSwrQkFBK0IsUUFBUSx1RUFBQyxNQUFNLFdBQVcsMERBQUMsZUFBZSwrQkFBK0IsUUFBUSwrRUFBQyxNQUFNLFdBQVcsMERBQUMsZUFBZSwrQkFBK0IsUUFBUSwrRUFBQyxNQUFNLFdBQVcsMERBQUMsZUFBZSwrQkFBK0IsUUFBUSx5RUFBQyxNQUFNLFdBQVcsMERBQUMsZUFBZSwrQkFBK0IsUUFBUSx5RUFBQyxNQUFNLFdB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ZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvcXVhbnRpdHlVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL3VuaXRGb3JtYXRVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS93aWRnZXRzL0F0dGFjaG1lbnRzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvQXR0YWNobWVudHMvQXR0YWNobWVudHNWaWV3TW9kZWwuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9BdHRhY2htZW50cy9zdXBwb3J0L2F0dGFjaG1lbnRVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3VuaXRUeXBlIGFzIG4saXNCYXNlVW5pdCBhcyB0LGNvbnZlcnRVbml0IGFzIHUsYmFzZVVuaXRGb3JVbml0IGFzIGV9ZnJvbVwiLi91bml0VXRpbHMuanNcIjtmdW5jdGlvbiByKHQsdSl7cmV0dXJue3R5cGU6bih1KSx2YWx1ZTp0LHVuaXQ6dX19ZnVuY3Rpb24gaSh0LHUpe3JldHVybnt0eXBlOm4odSksdmFsdWU6dCx1bml0OnV9fWZ1bmN0aW9uIGwodCx1KXtyZXR1cm57dHlwZTpuKHUpLHZhbHVlOnQsdW5pdDp1fX1mdW5jdGlvbiBhKHQsdSl7cmV0dXJue3R5cGU6bih1KSx2YWx1ZTp0LHVuaXQ6dX19ZnVuY3Rpb24gbyh0LHUsZT1cImFyaXRobWV0aWNcIil7cmV0dXJue3R5cGU6bih1KSx2YWx1ZTp0LHVuaXQ6dSxyb3RhdGlvblR5cGU6ZX19ZnVuY3Rpb24gYyhuKXtyZXR1cm4gdChuLnVuaXQpfWZ1bmN0aW9uIGYobix0KXtjb25zdCB1PXMobix0KTtyZXR1cm5cImFuZ2xlXCI9PT1uLnR5cGU/byh1LHQsbi5yb3RhdGlvblR5cGUpOnIodSx0KX1mdW5jdGlvbiBzKG4sdCl7cmV0dXJuIHUobi52YWx1ZSxuLnVuaXQsdCl9ZnVuY3Rpb24gdihuKXtyZXR1cm4gZihuLGUobi51bml0KSl9ZnVuY3Rpb24gcChuLHQpe3JldHVybiBudWxsPT1uP3Q6bnVsbD09dHx8bi52YWx1ZT51KHQudmFsdWUsdC51bml0LG4udW5pdCk/bjp0fWZ1bmN0aW9uIHkobix0KXtyZXR1cm4gbnVsbD09bj90Om51bGw9PXR8fG4udmFsdWU8dSh0LnZhbHVlLHQudW5pdCxuLnVuaXQpP246dH1mdW5jdGlvbiBtKG4sdCl7cmV0dXJuIG51bGw9PW4/bnVsbDp7Li4ubix2YWx1ZTpuLnZhbHVlKnR9fWZ1bmN0aW9uIGcobix0LHUpe2lmKHQ9PT11KXJldHVybiBuO3N3aXRjaCh1KXtjYXNlXCJhcml0aG1ldGljXCI6Y2FzZVwiZ2VvZ3JhcGhpY1wiOnJldHVybiA5MC1ufX1jb25zdCBoPWkoMCxcIm1ldGVyc1wiKSxkPWwoMCxcInNxdWFyZS1tZXRlcnNcIiksVD1vKDAsXCJyYWRpYW5zXCIpLFU9bygwLFwiZGVncmVlc1wiKTtleHBvcnR7ZyBhcyBjb252ZXJ0Um90YXRpb25UeXBlLG8gYXMgY3JlYXRlQW5nbGUsbCBhcyBjcmVhdGVBcmVhLGkgYXMgY3JlYXRlTGVuZ3RoLHIgYXMgY3JlYXRlUXVhbnRpdHksYSBhcyBjcmVhdGVWb2x1bWUsYyBhcyBpc0Jhc2VVbml0LHAgYXMgbWF4LHkgYXMgbWluLG0gYXMgc2NhbGUsdiBhcyB0b0Jhc2VVbml0LGYgYXMgdG9Vbml0LHMgYXMgdmFsdWVJblVuaXQsVSBhcyB6ZXJvRGVncmVlcyxoIGFzIHplcm9NZXRlcnMsVCBhcyB6ZXJvUmFkaWFucyxkIGFzIHplcm9TcXVhcmVNZXRlcnN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtCeXRlU2l6ZVVuaXQgYXMgdH1mcm9tXCIuL0J5dGVTaXplVW5pdC5qc1wiO2ltcG9ydHtjeWNsaWNhbERlZ3JlZXMgYXMgbn1mcm9tXCIuL0N5Y2xpY2FsLmpzXCI7aW1wb3J0e2NsYW1wIGFzIGl9ZnJvbVwiLi9tYXRoVXRpbHMuanNcIjtpbXBvcnR7Y29udmVydFJvdGF0aW9uVHlwZSBhcyByfWZyb21cIi4vcXVhbnRpdHlVdGlscy5qc1wiO2ltcG9ydHtyZXBsYWNlIGFzIG99ZnJvbVwiLi9zdHJpbmcuanNcIjtpbXBvcnR7YWRhcHRpdmVNZXRyaWNMZW5ndGhVbml0IGFzIGUsY29udmVydFVuaXQgYXMgdSxhZGFwdGl2ZU1ldHJpY1ZlcnRpY2FsTGVuZ3RoVW5pdCBhcyBzLGFkYXB0aXZlSW1wZXJpYWxMZW5ndGhVbml0IGFzIGMsYWRhcHRpdmVJbXBlcmlhbFZlcnRpY2FsTGVuZ3RoVW5pdCBhcyBhLGFkYXB0aXZlTWV0cmljQXJlYVVuaXQgYXMgbSxhZGFwdGl2ZUltcGVyaWFsQXJlYVVuaXQgYXMgZn1mcm9tXCIuL3VuaXRVdGlscy5qc1wiO2ltcG9ydHtmb3JtYXROdW1iZXIgYXMgbH1mcm9tXCIuLi9pbnRsL251bWJlci5qc1wiO2Z1bmN0aW9uIGIodCxuLGkpe3JldHVybiB0LnVuaXRzW25dW2ldfWZ1bmN0aW9uIGcodCxuLGkscj0yLG89XCJhYmJyXCIpe3JldHVybmAke2wobix7bWluaW11bUZyYWN0aW9uRGlnaXRzOnIsbWF4aW11bUZyYWN0aW9uRGlnaXRzOnIsc2lnbkRpc3BsYXk6bj4wP1wibmV2ZXJcIjpcImV4Y2VwdFplcm9cIn0pfSAke2IodCxpLG8pfWB9ZnVuY3Rpb24gcCh0LG4saSxyPTIsbz1cImFiYnJcIil7cmV0dXJuYCR7bChuLHttaW5pbXVtRnJhY3Rpb25EaWdpdHM6cixtYXhpbXVtRnJhY3Rpb25EaWdpdHM6cixzaWduRGlzcGxheTpcImV4Y2VwdFplcm9cIn0pfSAke2IodCxpLG8pfWB9ZnVuY3Rpb24gRCh0LG4saSxyPTIsbz1cImFiYnJcIil7Y29uc3Qgcz1lKG4saSk7cmV0dXJuIGcodCx1KG4saSxzKSxzLHIsbyl9ZnVuY3Rpb24geCh0LG4saSxyPTIsbz1cImFiYnJcIil7Y29uc3Qgcz1lKG4saSk7cmV0dXJuIHAodCx1KG4saSxzKSxzLHIsbyl9ZnVuY3Rpb24geSh0LG4saSxyPTIsbz1cImFiYnJcIil7Y29uc3QgZT1zKG4saSk7cmV0dXJuIGcodCx1KG4saSxlKSxlLHIsbyl9ZnVuY3Rpb24gRih0LG4saSxyPTIsbz1cImFiYnJcIil7Y29uc3QgZT1zKG4saSk7cmV0dXJuIHAodCx1KG4saSxlKSxlLHIsbyl9ZnVuY3Rpb24gZCh0LG4saSxyPTIsbz1cImFiYnJcIil7Y29uc3QgZT1jKG4saSk7cmV0dXJuIGcodCx1KG4saSxlKSxlLHIsbyl9ZnVuY3Rpb24gaCh0LG4saSxyPTIsbz1cImFiYnJcIil7Y29uc3QgZT1jKG4saSk7cmV0dXJuIHAodCx1KG4saSxlKSxlLHIsbyl9ZnVuY3Rpb24gQih0LG4saSxyPTIsbz1cImFiYnJcIil7Y29uc3QgZT1hKG4saSk7cmV0dXJuIGcodCx1KG4saSxlKSxlLHIsbyl9ZnVuY3Rpb24gTSh0LG4saSxyPTIsbz1cImFiYnJcIil7Y29uc3QgZT1hKG4saSk7cmV0dXJuIHAodCx1KG4saSxlKSxlLHIsbyl9ZnVuY3Rpb24gaih0LG4saSxyPTIsbz1cImFiYnJcIil7Y29uc3QgZT1tKG4saSk7cmV0dXJuIGcodCx1KG4saSxlKSxlLHIsbyl9ZnVuY3Rpb24gJCh0LG4saSxyPTIsbz1cImFiYnJcIil7Y29uc3QgZT1mKG4saSk7cmV0dXJuIGcodCx1KG4saSxlKSxlLHIsbyl9ZnVuY3Rpb24gUyh0LG4saT0yKXtsZXQgcj11KHQsbixcImRlZ3JlZXNcIiksbz1yLU1hdGguZmxvb3Iocik7ci09byxvKj02MDtsZXQgZT1vLU1hdGguZmxvb3Iobyk7cmV0dXJuIG8tPWUsZSo9NjAsYCR7ci50b0ZpeGVkKCl9wrAgJHtvLnRvRml4ZWQoKX0nICR7ZS50b0ZpeGVkKGkpfVwiYH1mdW5jdGlvbiBVKHQsaSxvLGUscyl7cz1zPz8yO2xldCBjPW4ubm9ybWFsaXplKHIodSh0LGksXCJkZWdyZWVzXCIpLG8sZSksMCwhMCk7Y29uc3QgYT17c3R5bGU6XCJ1bml0XCIsdW5pdERpc3BsYXk6XCJuYXJyb3dcIix1bml0OlwiZGVncmVlXCIsbWF4aW11bUZyYWN0aW9uRGlnaXRzOnMsbWluaW11bUZyYWN0aW9uRGlnaXRzOnMsc2lnbkRpc3BsYXk6Yz4wP1wibmV2ZXJcIjpcImV4Y2VwdFplcm9cIn07cmV0dXJuIGM9eihjLGEpLGwoYyxhKX1mdW5jdGlvbiB3KHQsbixpLHIsbyl7aSE9PXImJih0PS10KTtjb25zdCBlPXtzdHlsZTpcInVuaXRcIix1bml0RGlzcGxheTpcIm5hcnJvd1wiLHVuaXQ6XCJkZWdyZWVcIixtYXhpbXVtRnJhY3Rpb25EaWdpdHM6bz1vPz8yLG1pbmltdW1GcmFjdGlvbkRpZ2l0czpvLHNpZ25EaXNwbGF5OlwiZXhjZXB0WmVyb1wifTtsZXQgcz11KHQsbixcImRlZ3JlZXNcIiklMzYwO3JldHVybiBzPXoocyxlKSxsKHMsZSl9Y29uc3QgWj1uZXcgTWFwO2Z1bmN0aW9uIHoodCxuKXtjb25zdCBpPUpTT04uc3RyaW5naWZ5KG4pO2xldCByPVouZ2V0KGkpO3JldHVybiByfHwocj1uZXcgSW50bC5OdW1iZXJGb3JtYXQoXCJlbi1VU1wiLG4pLFouc2V0KGkscikpLC9cXC0/XFwrPzM2MC8udGVzdChyLmZvcm1hdCh0KSk/MDp0fWNvbnN0IEk9W1wiQlwiLFwia0JcIixcIk1CXCIsXCJHQlwiLFwiVEJcIl07ZnVuY3Rpb24gTyhuLHIpe2xldCBlPTA9PT0ocj1NYXRoLnJvdW5kKHIpKT8wOk1hdGguZmxvb3IoTWF0aC5sb2cocikvTWF0aC5sb2codC5LSUxPQllURVMpKTtlPWkoZSwwLEkubGVuZ3RoLTEpO2NvbnN0IHU9bChyL3QuS0lMT0JZVEVTKiplLHttYXhpbXVtRnJhY3Rpb25EaWdpdHM6Mn0pO3JldHVybiBvKG4udW5pdHMuYnl0ZXNbSVtlXV0se2ZpbGVTaXplOnV9KX1leHBvcnR7VSBhcyBmb3JtYXRBbmdsZURlZ3JlZXMsUyBhcyBmb3JtYXRETVMsZyBhcyBmb3JtYXREZWNpbWFsLE8gYXMgZm9ybWF0RmlsZVNpemUsJCBhcyBmb3JtYXRJbXBlcmlhbEFyZWEsZCBhcyBmb3JtYXRJbXBlcmlhbExlbmd0aCxoIGFzIGZvcm1hdEltcGVyaWFsUmVsYXRpdmVMZW5ndGgsTSBhcyBmb3JtYXRJbXBlcmlhbFJlbGF0aXZlVmVydGljYWxMZW5ndGgsQiBhcyBmb3JtYXRJbXBlcmlhbFZlcnRpY2FsTGVuZ3RoLGogYXMgZm9ybWF0TWV0cmljQXJlYSxEIGFzIGZvcm1hdE1ldHJpY0xlbmd0aCx4IGFzIGZvcm1hdE1ldHJpY1JlbGF0aXZlTGVuZ3RoLEYgYXMgZm9ybWF0TWV0cmljUmVsYXRpdmVWZXJ0aWNhbExlbmd0aCx5IGFzIGZvcm1hdE1ldHJpY1ZlcnRpY2FsTGVuZ3RoLHcgYXMgZm9ybWF0UmVsYXRpdmVBbmdsZURlZ3JlZXMscCBhcyBmb3JtYXRSZWxhdGl2ZURlY2ltYWwsYiBhcyB1bml0TmFtZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtvbiBhcyBzLHdhdGNoIGFzIGksaW5pdGlhbCBhcyBhfWZyb21cIi4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtmb3JtYXRGaWxlU2l6ZSBhcyBufWZyb21cIi4uL2NvcmUvdW5pdEZvcm1hdFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGx9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydHtjYXN0IGFzIHJ9ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9jYXN0LmpzXCI7aW1wb3J0XCIuLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG99ZnJvbVwiLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydCBkIGZyb21cIi4vV2lkZ2V0LmpzXCI7aW1wb3J0IG0gZnJvbVwiLi9BdHRhY2htZW50cy9BdHRhY2htZW50c1ZpZXdNb2RlbC5qc1wiO2ltcG9ydHtnZXRJY29uUGF0aCBhcyBjLGlzU3VwcG9ydGVkSW1hZ2UgYXMgaH1mcm9tXCIuL0F0dGFjaG1lbnRzL3N1cHBvcnQvYXR0YWNobWVudFV0aWxzLmpzXCI7aW1wb3J0e2xvYWRDYWxjaXRlQ29tcG9uZW50cyBhcyB1fWZyb21cIi4vc3VwcG9ydC9jb21wb25lbnRzVXRpbHMuanNcIjtpbXBvcnR7Z2xvYmFsQ3NzIGFzIHB9ZnJvbVwiLi9zdXBwb3J0L2dsb2JhbENzcy5qc1wiO2ltcG9ydHtsZWdhY3lJY29uIGFzIGJ9ZnJvbVwiLi9zdXBwb3J0L2xlZ2FjeUljb24uanNcIjtpbXBvcnR7c3RvcmVOb2RlIGFzIF8sZGlzY2FyZE5vZGUgYXMgZyxpc1JUTCBhcyBmfWZyb21cIi4vc3VwcG9ydC93aWRnZXRVdGlscy5qc1wiO2ltcG9ydHttZXNzYWdlQnVuZGxlIGFzIHZ9ZnJvbVwiLi9zdXBwb3J0L2RlY29yYXRvcnMvbWVzc2FnZUJ1bmRsZS5qc1wiO2ltcG9ydHt0c3ggYXMgeX1mcm9tXCIuL3N1cHBvcnQvanN4RmFjdG9yeS5qc1wiO2NvbnN0IEE9e2FkZEJ1dHRvbjohMCxhZGRTdWJtaXRCdXR0b246ITAsY2FuY2VsQWRkQnV0dG9uOiEwLGNhbmNlbFVwZGF0ZUJ1dHRvbjohMCxkZWxldGVCdXR0b246ITAsZXJyb3JNZXNzYWdlOiEwLHByb2dyZXNzQmFyOiEwLHVwZGF0ZUJ1dHRvbjohMH0sdz1cImVzcmktYXR0YWNobWVudHNcIixGPXtiYXNlOncsbG9hZGVyQ29udGFpbmVyOmAke3d9X19sb2FkZXItY29udGFpbmVyYCxsb2FkZXI6YCR7d31fX2xvYWRlcmAsZmFkZUluOmAke3d9LS1mYWRlLWluYCxjb250YWluZXI6YCR7d31fX2NvbnRhaW5lcmAsY29udGFpbmVyTGlzdDpgJHt3fV9fY29udGFpbmVyLS1saXN0YCxjb250YWluZXJQcmV2aWV3OmAke3d9X19jb250YWluZXItLXByZXZpZXdgLGFjdGlvbnM6YCR7d31fX2FjdGlvbnNgLGRlbGV0ZUJ1dHRvbjpgJHt3fV9fZGVsZXRlLWJ1dHRvbmAsYWRkQXR0YWNobWVudEJ1dHRvbjpgJHt3fV9fYWRkLWF0dGFjaG1lbnQtYnV0dG9uYCxlcnJvck1lc3NhZ2U6YCR7d31fX2Vycm9yLW1lc3NhZ2VgLGl0ZW1zOmAke3d9X19pdGVtc2AsaXRlbTpgJHt3fV9faXRlbWAsaXRlbUJ1dHRvbjpgJHt3fV9faXRlbS1idXR0b25gLGl0ZW1NYXNrOmAke3d9X19pdGVtLW1hc2tgLGl0ZW1NYXNrSWNvbjpgJHt3fV9faXRlbS1tYXNrLS1pY29uYCxpdGVtSW1hZ2U6YCR7d31fX2ltYWdlYCxpdGVtSW1hZ2VSZXNpemFibGU6YCR7d31fX2ltYWdlLS1yZXNpemFibGVgLGl0ZW1MYWJlbDpgJHt3fV9fbGFiZWxgLGl0ZW1GaWxlbmFtZTpgJHt3fV9fZmlsZW5hbWVgLGl0ZW1DaGV2cm9uSWNvbjpgJHt3fV9faXRlbS1jaGV2cm9uLWljb25gLGl0ZW1MaW5rOmAke3d9X19pdGVtLWxpbmtgLGl0ZW1MaW5rT3ZlcmxheTpgJHt3fV9faXRlbS1saW5rLW92ZXJsYXlgLGl0ZW1MaW5rT3ZlcmxheUljb246YCR7d31fX2l0ZW0tbGluay1vdmVybGF5LWljb25gLGl0ZW1FZGl0SWNvbjpgJHt3fV9faXRlbS1lZGl0LWljb25gLGl0ZW1BZGRJY29uOmAke3d9X19pdGVtLWFkZC1pY29uYCxpdGVtQWRkQnV0dG9uOmAke3d9X19pdGVtLWFkZC1idXR0b25gLGZvcm1Ob2RlOmAke3d9X19mb3JtLW5vZGVgLGZpbGVGaWVsZHNldDpgJHt3fV9fZmlsZS1maWVsZHNldGAsZmlsZUxhYmVsOmAke3d9X19maWxlLWxhYmVsYCxmaWxlTmFtZTpgJHt3fV9fZmlsZS1uYW1lYCxmaWxlSW5wdXQ6YCR7d31fX2ZpbGUtaW5wdXRgLG1ldGFkYXRhOmAke3d9X19tZXRhZGF0YWAsbWV0YWRhdGFGaWVsZHNldDpgJHt3fV9fbWV0YWRhdGEtZmllbGRzZXRgLHByb2dyZXNzQmFyOmAke3d9X19wcm9ncmVzcy1iYXJgfSxrPXdpbmRvdy5DU1M7bGV0IE09Y2xhc3MgZXh0ZW5kcyBke2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmRpc3BsYXlUeXBlPVwiYXV0b1wiLHRoaXMubWVzc2FnZXM9bnVsbCx0aGlzLm1lc3NhZ2VzVW5pdHM9bnVsbCx0aGlzLnNlbGVjdGVkRmlsZT1udWxsLHRoaXMuc3VibWl0dGluZz0hMSx0aGlzLnZpZXdNb2RlbD1udWxsLHRoaXMudmlzaWJsZUVsZW1lbnRzPXsuLi5BfSx0aGlzLl9zdXBwb3J0c0ltYWdlT3JpZW50YXRpb249ayYmay5zdXBwb3J0cyYmay5zdXBwb3J0cyhcImltYWdlLW9yaWVudGF0aW9uXCIsXCJmcm9tLWltYWdlXCIpLHRoaXMuX2FkZEF0dGFjaG1lbnRGb3JtPW51bGwsdGhpcy5fdXBkYXRlQXR0YWNobWVudEZvcm09bnVsbH1ub3JtYWxpemVDdG9yQXJncyhlKXtyZXR1cm4gZT8udmlld01vZGVsfHwoZT17dmlld01vZGVsOm5ldyBtLC4uLmV9KSxlfWluaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXMoW3MoKCgpPT50aGlzLnZpZXdNb2RlbD8uYXR0YWNobWVudEluZm9zKSxcImNoYW5nZVwiLCgoKT0+dGhpcy5zY2hlZHVsZVJlbmRlcigpKSkscygoKCk9PnRoaXMudmlld01vZGVsPy5maWxlSW5mb3MpLFwiY2hhbmdlXCIsKCgpPT50aGlzLnNjaGVkdWxlUmVuZGVyKCkpKSxpKCgoKT0+dGhpcy52aWV3TW9kZWw/Lm1vZGUpLCgoKT0+dGhpcy5fbW9kZUNoYW5nZWQoKSksYSldKX1sb2FkRGVwZW5kZW5jaWVzKCl7cmV0dXJuIHUoe2ljb246KCk9PmltcG9ydChcIkBlc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS1pY29uLmpzXCIpfSl9Z2V0IGNhcGFiaWxpdGllcygpe3JldHVybiB0aGlzLnZpZXdNb2RlbC5jYXBhYmlsaXRpZXN9c2V0IGNhcGFiaWxpdGllcyhlKXt0aGlzLnZpZXdNb2RlbC5jYXBhYmlsaXRpZXM9ZX1nZXQgZWZmZWN0aXZlRGlzcGxheVR5cGUoKXtjb25zdHtkaXNwbGF5VHlwZTplfT10aGlzO3JldHVybiBlJiZcImF1dG9cIiE9PWU/ZTp0aGlzLnZpZXdNb2RlbC5zdXBwb3J0c1Jlc2l6ZUF0dGFjaG1lbnRzP1wicHJldmlld1wiOlwibGlzdFwifWdldCBncmFwaGljKCl7cmV0dXJuIHRoaXMudmlld01vZGVsLmdyYXBoaWN9c2V0IGdyYXBoaWMoZSl7dGhpcy52aWV3TW9kZWwuZ3JhcGhpYz1lfWdldCBsYWJlbCgpe3JldHVybiB0aGlzLm1lc3NhZ2VzPy53aWRnZXRMYWJlbD8/XCJcIn1zZXQgbGFiZWwoZSl7dGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJsYWJlbFwiLGUpfWNhc3RWaXNpYmxlRWxlbWVudHMoZSl7cmV0dXJuey4uLkEsLi4uZX19YWRkQXR0YWNobWVudCgpe2NvbnN0e19hZGRBdHRhY2htZW50Rm9ybTplLHZpZXdNb2RlbDpzfT10aGlzO3JldHVybiB0aGlzLl9zZXQoXCJzdWJtaXR0aW5nXCIsITApLHRoaXMuX3NldChcImVycm9yXCIsbnVsbCkscy5hZGRBdHRhY2htZW50KGUpLnRoZW4oKGU9Pih0aGlzLl9zZXQoXCJzdWJtaXR0aW5nXCIsITEpLHRoaXMuX3NldChcImVycm9yXCIsbnVsbCkscy5tb2RlPVwidmlld1wiLGUpKSkuY2F0Y2goKGU9Pnt0aHJvdyB0aGlzLl9zZXQoXCJzdWJtaXR0aW5nXCIsITEpLHRoaXMuX3NldChcImVycm9yXCIsbmV3IHQoXCJhdHRhY2htZW50czphZGQtYXR0YWNobWVudFwiLHRoaXMubWVzc2FnZXMuYWRkRXJyb3JNZXNzYWdlLGUpKSxlfSkpfWRlbGV0ZUF0dGFjaG1lbnQoZSl7Y29uc3R7dmlld01vZGVsOnN9PXRoaXM7cmV0dXJuIHRoaXMuX3NldChcInN1Ym1pdHRpbmdcIiwhMCksdGhpcy5fc2V0KFwiZXJyb3JcIixudWxsKSxzLmRlbGV0ZUF0dGFjaG1lbnQoZSkudGhlbigoZT0+KHRoaXMuX3NldChcInN1Ym1pdHRpbmdcIiwhMSksdGhpcy5fc2V0KFwiZXJyb3JcIixudWxsKSxzLm1vZGU9XCJ2aWV3XCIsZSkpKS5jYXRjaCgoZT0+e3Rocm93IHRoaXMuX3NldChcInN1Ym1pdHRpbmdcIiwhMSksdGhpcy5fc2V0KFwiZXJyb3JcIixuZXcgdChcImF0dGFjaG1lbnRzOmRlbGV0ZS1hdHRhY2htZW50XCIsdGhpcy5tZXNzYWdlcy5kZWxldGVFcnJvck1lc3NhZ2UsZSkpLGV9KSl9dXBkYXRlQXR0YWNobWVudCgpe2NvbnN0e3ZpZXdNb2RlbDplfT10aGlzLHtfdXBkYXRlQXR0YWNobWVudEZvcm06c309dGhpcztyZXR1cm4gdGhpcy5fc2V0KFwic3VibWl0dGluZ1wiLCEwKSx0aGlzLl9zZXQoXCJlcnJvclwiLG51bGwpLGUudXBkYXRlQXR0YWNobWVudChzKS50aGVuKCh0PT4odGhpcy5fc2V0KFwic3VibWl0dGluZ1wiLCExKSx0aGlzLl9zZXQoXCJlcnJvclwiLG51bGwpLGUubW9kZT1cInZpZXdcIix0KSkpLmNhdGNoKChlPT57dGhyb3cgdGhpcy5fc2V0KFwic3VibWl0dGluZ1wiLCExKSx0aGlzLl9zZXQoXCJlcnJvclwiLG5ldyB0KFwiYXR0YWNobWVudHM6dXBkYXRlLWF0dGFjaG1lbnRcIix0aGlzLm1lc3NhZ2VzLnVwZGF0ZUVycm9yTWVzc2FnZSxlKSksZX0pKX1hZGRGaWxlKCl7Y29uc3QgZT10aGlzLnZpZXdNb2RlbC5hZGRGaWxlKHRoaXMuc2VsZWN0ZWRGaWxlLHRoaXMuX2FkZEF0dGFjaG1lbnRGb3JtKTtyZXR1cm4gdGhpcy52aWV3TW9kZWwubW9kZT1cInZpZXdcIixlfXVwZGF0ZUZpbGUoKXtjb25zdHt2aWV3TW9kZWw6ZX09dGhpcyx0PWUudXBkYXRlRmlsZSh0aGlzLnNlbGVjdGVkRmlsZSx0aGlzLl91cGRhdGVBdHRhY2htZW50Rm9ybSxlLmFjdGl2ZUZpbGVJbmZvKTtyZXR1cm4gZS5tb2RlPVwidmlld1wiLHR9ZGVsZXRlRmlsZShlKXtjb25zdCB0PXRoaXMudmlld01vZGVsLmRlbGV0ZUZpbGUoZXx8dGhpcy52aWV3TW9kZWwuYWN0aXZlRmlsZUluZm8/LmZpbGUpO3JldHVybiB0aGlzLnZpZXdNb2RlbC5tb2RlPVwidmlld1wiLHR9cmVuZGVyKCl7Y29uc3R7c3VibWl0dGluZzplLHZpZXdNb2RlbDp0fT10aGlzLHtzdGF0ZTpzfT10O3JldHVybiB5KFwiZGl2XCIse2NsYXNzOnRoaXMuY2xhc3NlcyhGLmJhc2UscC53aWRnZXQpfSxlP3RoaXMuX3JlbmRlclByb2dyZXNzQmFyKCk6bnVsbCxcImxvYWRpbmdcIj09PXM/dGhpcy5fcmVuZGVyTG9hZGluZygpOnRoaXMuX3JlbmRlckF0dGFjaG1lbnRzKCksdGhpcy5fcmVuZGVyRXJyb3JNZXNzYWdlKCkpfV9yZW5kZXJFcnJvck1lc3NhZ2UoKXtjb25zdHtlcnJvcjplLHZpc2libGVFbGVtZW50czp0fT10aGlzO3JldHVybiBlJiZ0LmVycm9yTWVzc2FnZT95KFwiZGl2XCIse2NsYXNzOkYuZXJyb3JNZXNzYWdlLGtleTpcImVycm9yLW1lc3NhZ2VcIn0sZS5tZXNzYWdlKTpudWxsfV9yZW5kZXJBdHRhY2htZW50cygpe2NvbnN0e2FjdGl2ZUZpbGVJbmZvOmUsbW9kZTp0LGFjdGl2ZUF0dGFjaG1lbnRJbmZvOnN9PXRoaXMudmlld01vZGVsO3JldHVyblwiYWRkXCI9PT10P3RoaXMuX3JlbmRlckFkZEZvcm0oKTpcImVkaXRcIj09PXQ/dGhpcy5fcmVuZGVyRGV0YWlsc0Zvcm0oc3x8ZSk6dGhpcy5fcmVuZGVyQXR0YWNobWVudENvbnRhaW5lcigpfV9yZW5kZXJMb2FkaW5nKCl7cmV0dXJuIHkoXCJkaXZcIix7Y2xhc3M6Ri5sb2FkZXJDb250YWluZXIsa2V5OlwibG9hZGVyXCJ9LHkoXCJkaXZcIix7Y2xhc3M6Ri5sb2FkZXJ9KSl9X3JlbmRlclByb2dyZXNzQmFyKCl7cmV0dXJuIHRoaXMudmlzaWJsZUVsZW1lbnRzLnByb2dyZXNzQmFyP3koXCJkaXZcIix7Y2xhc3M6Ri5wcm9ncmVzc0JhcixrZXk6XCJwcm9ncmVzcy1iYXJcIn0pOm51bGx9X3JlbmRlckFkZEZvcm0oKXtjb25zdHtzdWJtaXR0aW5nOmUsc2VsZWN0ZWRGaWxlOnR9PXRoaXMscz1lfHwhdCxpPXRoaXMudmlzaWJsZUVsZW1lbnRzLmNhbmNlbEFkZEJ1dHRvbj95KFwiYnV0dG9uXCIse2JpbmQ6dGhpcyxjbGFzczp0aGlzLmNsYXNzZXMocC5idXR0b24scC5idXR0b25UZXJ0aWFyeSxwLmJ1dHRvblNtYWxsLHAuYnV0dG9uSGFsZixlJiZwLmJ1dHRvbkRpc2FibGVkKSxkaXNhYmxlZDplLG9uY2xpY2s6dGhpcy5fY2FuY2VsRm9ybSx0eXBlOlwiYnV0dG9uXCJ9LHRoaXMubWVzc2FnZXMuY2FuY2VsKTpudWxsLGE9dGhpcy52aXNpYmxlRWxlbWVudHMuYWRkU3VibWl0QnV0dG9uP3koXCJidXR0b25cIix7Y2xhc3M6dGhpcy5jbGFzc2VzKHAuYnV0dG9uLHAuYnV0dG9uU2Vjb25kYXJ5LHAuYnV0dG9uU21hbGwscC5idXR0b25IYWxmLHtbcC5idXR0b25EaXNhYmxlZF06c30pLGRpc2FibGVkOnMsdHlwZTpcInN1Ym1pdFwifSx0aGlzLm1lc3NhZ2VzLmFkZCk6bnVsbCxuPXQ/eShcInNwYW5cIix7Y2xhc3M6Ri5maWxlTmFtZSxrZXk6XCJmaWxlLW5hbWVcIn0sdC5uYW1lKTpudWxsLGw9eShcImZvcm1cIix7YWZ0ZXJDcmVhdGU6XyxhZnRlclJlbW92ZWQ6ZyxiaW5kOnRoaXMsXCJkYXRhLW5vZGUtcmVmXCI6XCJfYWRkQXR0YWNobWVudEZvcm1cIixvbnN1Ym1pdDp0aGlzLl9zdWJtaXRBZGRBdHRhY2htZW50fSx5KFwiZmllbGRzZXRcIix7Y2xhc3M6Ri5maWxlRmllbGRzZXR9LG4seShcImxhYmVsXCIse2NsYXNzOnRoaXMuY2xhc3NlcyhGLmZpbGVMYWJlbCxwLmJ1dHRvbixwLmJ1dHRvblNlY29uZGFyeSl9LHQ/dGhpcy5tZXNzYWdlcy5jaGFuZ2VGaWxlOnRoaXMubWVzc2FnZXMuc2VsZWN0RmlsZSx5KFwiaW5wdXRcIix7YmluZDp0aGlzLGNsYXNzOkYuZmlsZUlucHV0LG5hbWU6XCJhdHRhY2htZW50XCIsb25jaGFuZ2U6dGhpcy5faGFuZGxlRmlsZUlucHV0Q2hhbmdlLHR5cGU6XCJmaWxlXCJ9KSkpLGEsaSk7cmV0dXJuIHkoXCJkaXZcIix7Y2xhc3M6Ri5mb3JtTm9kZSxrZXk6XCJhZGQtZm9ybS1jb250YWluZXJcIn0sbCl9X3JlbmRlckRldGFpbHNGb3JtKGUpe2NvbnN0e3Zpc2libGVFbGVtZW50czp0LHZpZXdNb2RlbDpzLHNlbGVjdGVkRmlsZTppLHN1Ym1pdHRpbmc6YX09dGhpcyx7Y2FwYWJpbGl0aWVzOmx9PXMscj1hfHwhaTtsZXQgbyxkLG0sYztpPyhvPWkudHlwZSxkPWkubmFtZSxtPWkuc2l6ZSk6ZSYmXCJmaWxlXCJpbiBlPyhvPWUuZmlsZS50eXBlLGQ9ZS5maWxlLm5hbWUsbT1lLmZpbGUuc2l6ZSk6ZSYmXCJjb250ZW50VHlwZVwiaW4gZSYmKG89ZS5jb250ZW50VHlwZSxkPWUubmFtZSxtPWUuc2l6ZSxjPWUudXJsKTtjb25zdCBoPWwuZWRpdGluZyYmbC5vcGVyYXRpb25zPy5kZWxldGUmJnQuZGVsZXRlQnV0dG9uP3koXCJidXR0b25cIix7YmluZDp0aGlzLGNsYXNzOnRoaXMuY2xhc3NlcyhwLmJ1dHRvbixwLmJ1dHRvblNtYWxsLHAuYnV0dG9uVGVydGlhcnksRi5kZWxldGVCdXR0b24se1twLmJ1dHRvbkRpc2FibGVkXTphfSksZGlzYWJsZWQ6YSxrZXk6XCJkZWxldGUtYnV0dG9uXCIsb25jbGljazp0PT50aGlzLl9zdWJtaXREZWxldGVBdHRhY2htZW50KHQsZSksdHlwZTpcImJ1dHRvblwifSx0aGlzLm1lc3NhZ2VzLmRlbGV0ZSk6dm9pZCAwLHU9bC5lZGl0aW5nJiZsLm9wZXJhdGlvbnM/LnVwZGF0ZSYmdC51cGRhdGVCdXR0b24/eShcImJ1dHRvblwiLHtjbGFzczp0aGlzLmNsYXNzZXMocC5idXR0b24scC5idXR0b25TbWFsbCxwLmJ1dHRvblRoaXJkLHtbcC5idXR0b25EaXNhYmxlZF06cn0pLGRpc2FibGVkOnIsa2V5OlwidXBkYXRlLWJ1dHRvblwiLHR5cGU6XCJzdWJtaXRcIn0sdGhpcy5tZXNzYWdlcy51cGRhdGUpOnZvaWQgMCxiPXRoaXMudmlzaWJsZUVsZW1lbnRzLmNhbmNlbFVwZGF0ZUJ1dHRvbj95KFwiYnV0dG9uXCIse2JpbmQ6dGhpcyxjbGFzczp0aGlzLmNsYXNzZXMocC5idXR0b24scC5idXR0b25TbWFsbCxwLmJ1dHRvblRlcnRpYXJ5LHAuYnV0dG9uVGhpcmQse1twLmJ1dHRvbkRpc2FibGVkXTphfSksZGlzYWJsZWQ6YSxrZXk6XCJjYW5jZWwtYnV0dG9uXCIsb25jbGljazp0aGlzLl9jYW5jZWxGb3JtLHR5cGU6XCJidXR0b25cIn0sdGhpcy5tZXNzYWdlcy5jYW5jZWwpOnZvaWQgMCxmPWwuZWRpdGluZyYmbC5vcGVyYXRpb25zPy51cGRhdGU/eShcImZpZWxkc2V0XCIse2NsYXNzOkYuZmlsZUZpZWxkc2V0LGtleTpcImZpbGVcIn0seShcInNwYW5cIix7Y2xhc3M6Ri5maWxlTmFtZSxrZXk6XCJmaWxlLW5hbWVcIn0sZCkseShcImxhYmVsXCIse2NsYXNzOnRoaXMuY2xhc3NlcyhGLmZpbGVMYWJlbCxwLmJ1dHRvbixwLmJ1dHRvblNlY29uZGFyeSl9LHRoaXMubWVzc2FnZXMuY2hhbmdlRmlsZSx5KFwiaW5wdXRcIix7YmluZDp0aGlzLGNsYXNzOkYuZmlsZUlucHV0LG5hbWU6XCJhdHRhY2htZW50XCIsb25jaGFuZ2U6dGhpcy5faGFuZGxlRmlsZUlucHV0Q2hhbmdlLHR5cGU6XCJmaWxlXCJ9KSkpOnZvaWQgMCx2PXkoXCJmaWVsZHNldFwiLHtjbGFzczpGLm1ldGFkYXRhRmllbGRzZXQsa2V5Olwic2l6ZVwifSx5KFwibGFiZWxcIixudWxsLG4odGhpcy5tZXNzYWdlc1VuaXRzLG0/PzApKSksQT15KFwiZmllbGRzZXRcIix7Y2xhc3M6Ri5tZXRhZGF0YUZpZWxkc2V0LGtleTpcImNvbnRlbnQtdHlwZVwifSx5KFwibGFiZWxcIixudWxsLG8pKSx3PW51bGwhPWM/eShcImFcIix7Y2xhc3M6Ri5pdGVtTGluayxocmVmOmMscmVsOlwibm9yZWZlcnJlclwiLHRhcmdldDpcIl9ibGFua1wifSx0aGlzLl9yZW5kZXJJbWFnZU1hc2soZSw0MDApLHkoXCJkaXZcIix7Y2xhc3M6Ri5pdGVtTGlua092ZXJsYXl9LHkoXCJzcGFuXCIse2NsYXNzOkYuaXRlbUxpbmtPdmVybGF5SWNvbn0seShcImNhbGNpdGUtaWNvblwiLHtpY29uOlwibGF1bmNoXCJ9KSkpKTp0aGlzLl9yZW5kZXJJbWFnZU1hc2soZSw0MDApLGs9eShcImZvcm1cIix7YWZ0ZXJDcmVhdGU6XyxhZnRlclJlbW92ZWQ6ZyxiaW5kOnRoaXMsXCJkYXRhLW5vZGUtcmVmXCI6XCJfdXBkYXRlQXR0YWNobWVudEZvcm1cIixvbnN1Ym1pdDp0PT50aGlzLl9zdWJtaXRVcGRhdGVBdHRhY2htZW50KHQsZSl9LHkoXCJkaXZcIix7Y2xhc3M6Ri5tZXRhZGF0YX0sdixBKSxmLHkoXCJkaXZcIix7Y2xhc3M6Ri5hY3Rpb25zfSxoLGIsdSkpO3JldHVybiB5KFwiZGl2XCIse2NsYXNzOkYuZm9ybU5vZGUsa2V5OlwiZWRpdC1mb3JtLWNvbnRhaW5lclwifSx3LGspfV9yZW5kZXJJbWFnZU1hc2soZSx0KXtyZXR1cm4gZT9cImZpbGVcImluIGU/dGhpcy5fcmVuZGVyR2VuZXJpY0ltYWdlTWFzayhlLmZpbGUubmFtZSxlLmZpbGUudHlwZSk6dGhpcy5fcmVuZGVySW1hZ2VNYXNrRm9yQXR0YWNobWVudChlLHQpOm51bGx9X3JlbmRlckdlbmVyaWNJbWFnZU1hc2soZSx0KXtjb25zdHtzdXBwb3J0c1Jlc2l6ZUF0dGFjaG1lbnRzOnN9PXRoaXMudmlld01vZGVsLGk9Yyh0KSxhPXtbRi5pdGVtSW1hZ2VSZXNpemFibGVdOnN9O3JldHVybiB5KFwiZGl2XCIse2NsYXNzOnRoaXMuY2xhc3NlcyhGLml0ZW1NYXNrSWNvbixGLml0ZW1NYXNrKSxrZXk6aX0seShcImltZ1wiLHthbHQ6ZSxjbGFzczp0aGlzLmNsYXNzZXMoYSxGLml0ZW1JbWFnZSksc3JjOmksdGl0bGU6ZX0pKX1fcmVuZGVySW1hZ2VNYXNrRm9yQXR0YWNobWVudChlLHQpe2NvbnN0e3N1cHBvcnRzUmVzaXplQXR0YWNobWVudHM6c309dGhpcy52aWV3TW9kZWw7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3R7Y29udGVudFR5cGU6aSxuYW1lOmEsdXJsOm59PWU7aWYoIXN8fCFoKGkpKXJldHVybiB0aGlzLl9yZW5kZXJHZW5lcmljSW1hZ2VNYXNrKGEsaSk7Y29uc3QgbD10aGlzLl9nZXRDU1NUcmFuc2Zvcm0oZSkscj1sP3t0cmFuc2Zvcm06bCxcImltYWdlLW9yaWVudGF0aW9uXCI6XCJub25lXCJ9Ont9LG89YCR7bn0ke24/LmluY2x1ZGVzKFwiP1wiKT9cIiZcIjpcIj9cIn13PSR7dH1gLGQ9e1tGLml0ZW1JbWFnZVJlc2l6YWJsZV06c307cmV0dXJuIHkoXCJkaXZcIix7Y2xhc3M6dGhpcy5jbGFzc2VzKEYuaXRlbU1hc2spLGtleTpvfSx5KFwiaW1nXCIse2FsdDphLGNsYXNzOnRoaXMuY2xhc3NlcyhkLEYuaXRlbUltYWdlKSxzcmM6byxzdHlsZXM6cix0aXRsZTphfSkpfV9yZW5kZXJGaWxlKGUpe2NvbnN0e2ZpbGU6dH09ZTtyZXR1cm4geShcImxpXCIse2NsYXNzOkYuaXRlbSxrZXk6dH0seShcImJ1dHRvblwiLHtcImFyaWEtbGFiZWxcIjp0aGlzLm1lc3NhZ2VzLmF0dGFjaG1lbnREZXRhaWxzLGJpbmQ6dGhpcyxjbGFzczpGLml0ZW1CdXR0b24sa2V5OlwiZGV0YWlscy1idXR0b25cIixvbmNsaWNrOigpPT50aGlzLl9zdGFydEVkaXRGaWxlKGUpLHRpdGxlOnRoaXMubWVzc2FnZXMuYXR0YWNobWVudERldGFpbHMsdHlwZTpcImJ1dHRvblwifSx0aGlzLl9yZW5kZXJJbWFnZU1hc2soZSkseShcImxhYmVsXCIse2NsYXNzOkYuaXRlbUxhYmVsfSx5KFwic3BhblwiLHtjbGFzczpGLml0ZW1GaWxlbmFtZX0sdC5uYW1lfHx0aGlzLm1lc3NhZ2VzLm5vVGl0bGUpLHkoXCJzcGFuXCIse1wiYXJpYS1oaWRkZW5cIjpcInRydWVcIixjbGFzczp0aGlzLmNsYXNzZXMoRi5pdGVtQ2hldnJvbkljb24sZih0aGlzLmNvbnRhaW5lcik/Yi5sZWZ0OmIucmlnaHQpfSkpKSl9X3JlbmRlckF0dGFjaG1lbnRJbmZvKHthdHRhY2htZW50SW5mbzplLGRpc3BsYXlUeXBlOnR9KXtjb25zdHt2aWV3TW9kZWw6cyxlZmZlY3RpdmVEaXNwbGF5VHlwZTppfT10aGlzLHtjYXBhYmlsaXRpZXM6YSxzdXBwb3J0c1Jlc2l6ZUF0dGFjaG1lbnRzOm59PXMse2NvbnRlbnRUeXBlOmwsbmFtZTpyLHVybDpvfT1lLGQ9dGhpcy5fcmVuZGVySW1hZ2VNYXNrKGUsXCJsaXN0XCI9PT10PzQ4OjQwMCksbT1hLmVkaXRpbmc/eShcInNwYW5cIix7XCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwiLGNsYXNzOnRoaXMuY2xhc3NlcyhGLml0ZW1DaGV2cm9uSWNvbixmKHRoaXMuY29udGFpbmVyKT9iLmxlZnQ6Yi5yaWdodCl9KTpudWxsLGM9W2QsXCJwcmV2aWV3XCI9PT1pJiZuJiZoKGwpP251bGw6eShcImxhYmVsXCIse2NsYXNzOkYuaXRlbUxhYmVsfSx5KFwic3BhblwiLHtjbGFzczpGLml0ZW1GaWxlbmFtZX0scnx8dGhpcy5tZXNzYWdlcy5ub1RpdGxlKSxtKV0sdT1hLmVkaXRpbmc/eShcImJ1dHRvblwiLHtcImFyaWEtbGFiZWxcIjp0aGlzLm1lc3NhZ2VzLmF0dGFjaG1lbnREZXRhaWxzLGJpbmQ6dGhpcyxjbGFzczpGLml0ZW1CdXR0b24sXCJkYXRhLWF0dGFjaG1lbnQtaW5mby1pZFwiOmUuaWQsa2V5OlwiZGV0YWlscy1idXR0b25cIixvbmNsaWNrOigpPT50aGlzLl9zdGFydEVkaXRBdHRhY2htZW50KGUpLHRpdGxlOnRoaXMubWVzc2FnZXMuYXR0YWNobWVudERldGFpbHMsdHlwZTpcImJ1dHRvblwifSxjKTp5KFwiYVwiLHtjbGFzczpGLml0ZW1CdXR0b24saHJlZjpvPz92b2lkIDAsa2V5OlwiZGV0YWlscy1saW5rXCIsdGFyZ2V0OlwiX2JsYW5rXCJ9LGMpO3JldHVybiB5KFwibGlcIix7Y2xhc3M6Ri5pdGVtLGtleTplfSx1KX1fcmVuZGVyQXR0YWNobWVudENvbnRhaW5lcigpe2NvbnN0e2VmZmVjdGl2ZURpc3BsYXlUeXBlOmUsdmlld01vZGVsOnQsdmlzaWJsZUVsZW1lbnRzOnN9PXRoaXMse2F0dGFjaG1lbnRJbmZvczppLGNhcGFiaWxpdGllczphLGZpbGVJbmZvczpufT10LGw9ISFpPy5sZW5ndGgscj0hIW4/Lmxlbmd0aCxvPXtbRi5jb250YWluZXJMaXN0XTpcInByZXZpZXdcIiE9PWUsW0YuY29udGFpbmVyUHJldmlld106XCJwcmV2aWV3XCI9PT1lfSxkPWEuZWRpdGluZyYmYS5vcGVyYXRpb25zPy5hZGQmJnMuYWRkQnV0dG9uP3koXCJidXR0b25cIix7YmluZDp0aGlzLGNsYXNzOnRoaXMuY2xhc3NlcyhwLmJ1dHRvbixwLmJ1dHRvblRlcnRpYXJ5LEYuYWRkQXR0YWNobWVudEJ1dHRvbiksb25jbGljazooKT0+dGhpcy5fc3RhcnRBZGRBdHRhY2htZW50KCksdHlwZTpcImJ1dHRvblwifSx5KFwic3BhblwiLHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsY2xhc3M6dGhpcy5jbGFzc2VzKEYuaXRlbUFkZEljb24sYi5wbHVzKX0pLHRoaXMubWVzc2FnZXMuYWRkKTp2b2lkIDAsbT1sP3koXCJ1bFwiLHtjbGFzczpGLml0ZW1zLGtleTpcImF0dGFjaG1lbnRzLWxpc3RcIn0saS50b0FycmF5KCkubWFwKCh0PT50aGlzLl9yZW5kZXJBdHRhY2htZW50SW5mbyh7YXR0YWNobWVudEluZm86dCxkaXNwbGF5VHlwZTplfSkpKSk6dm9pZCAwLGM9cj95KFwidWxcIix7Y2xhc3M6Ri5pdGVtcyxrZXk6XCJmaWxlLWxpc3RcIn0sbi50b0FycmF5KCkubWFwKChlPT50aGlzLl9yZW5kZXJGaWxlKGUpKSkpOnZvaWQgMCxoPXJ8fGw/dm9pZCAwOnkoXCJkaXZcIix7Y2xhc3M6cC5lbXB0eX0sdGhpcy5tZXNzYWdlcy5ub0F0dGFjaG1lbnRzKTtyZXR1cm4geShcImRpdlwiLHtjbGFzczp0aGlzLmNsYXNzZXMoRi5jb250YWluZXIsbyksa2V5OlwiYXR0YWNobWVudHMtY29udGFpbmVyXCJ9LG0sYyxoLGQpfV9tb2RlQ2hhbmdlZCgpe3RoaXMuX3NldChcImVycm9yXCIsbnVsbCksdGhpcy5fc2V0KFwic2VsZWN0ZWRGaWxlXCIsbnVsbCl9X2hhbmRsZUZpbGVJbnB1dENoYW5nZShlKXtjb25zdCB0PWUudGFyZ2V0LHM9dC5maWxlcz8uaXRlbSgwKTt0aGlzLl9zZXQoXCJzZWxlY3RlZEZpbGVcIixzKX1fc3VibWl0RGVsZXRlQXR0YWNobWVudChlLHQpe2UucHJldmVudERlZmF1bHQoKSx0JiYoXCJmaWxlXCJpbiB0P3RoaXMuZGVsZXRlRmlsZSh0LmZpbGUpOnQmJnRoaXMuZGVsZXRlQXR0YWNobWVudCh0KSl9X3N1Ym1pdEFkZEF0dGFjaG1lbnQoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMudmlld01vZGVsLmZpbGVzRW5hYmxlZD90aGlzLmFkZEZpbGUoKTp0aGlzLmFkZEF0dGFjaG1lbnQoKX1fc3VibWl0VXBkYXRlQXR0YWNobWVudChlLHQpe2UucHJldmVudERlZmF1bHQoKSx0JiZcImZpbGVcImluIHQ/dGhpcy51cGRhdGVGaWxlKCk6dGhpcy51cGRhdGVBdHRhY2htZW50KCl9X3N0YXJ0RWRpdEF0dGFjaG1lbnQoZSl7Y29uc3R7dmlld01vZGVsOnR9PXRoaXM7dC5hY3RpdmVGaWxlSW5mbz1udWxsLHQuYWN0aXZlQXR0YWNobWVudEluZm89ZSx0Lm1vZGU9XCJlZGl0XCJ9X3N0YXJ0RWRpdEZpbGUoZSl7Y29uc3R7dmlld01vZGVsOnR9PXRoaXM7dC5hY3RpdmVBdHRhY2htZW50SW5mbz1udWxsLHQuYWN0aXZlRmlsZUluZm89ZSx0Lm1vZGU9XCJlZGl0XCJ9X3N0YXJ0QWRkQXR0YWNobWVudCgpe3RoaXMudmlld01vZGVsLm1vZGU9XCJhZGRcIn1fY2FuY2VsRm9ybShlKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy52aWV3TW9kZWwubW9kZT1cInZpZXdcIn1fZ2V0Q1NTVHJhbnNmb3JtKGUpe2NvbnN0e29yaWVudGF0aW9uSW5mbzp0fT1lO3JldHVybiF0aGlzLl9zdXBwb3J0c0ltYWdlT3JpZW50YXRpb24mJnQ/W3Qucm90YXRpb24/YHJvdGF0ZSgke3Qucm90YXRpb259ZGVnKWA6XCJcIix0Lm1pcnJvcmVkP1wic2NhbGVYKC0xKVwiOlwiXCJdLmpvaW4oXCIgXCIpOlwiXCJ9fTtlKFtsKCldLE0ucHJvdG90eXBlLFwiY2FwYWJpbGl0aWVzXCIsbnVsbCksZShbbCgpXSxNLnByb3RvdHlwZSxcImRpc3BsYXlUeXBlXCIsdm9pZCAwKSxlKFtsKHtyZWFkT25seTohMH0pXSxNLnByb3RvdHlwZSxcImVmZmVjdGl2ZURpc3BsYXlUeXBlXCIsbnVsbCksZShbbCgpXSxNLnByb3RvdHlwZSxcImdyYXBoaWNcIixudWxsKSxlKFtsKCldLE0ucHJvdG90eXBlLFwibGFiZWxcIixudWxsKSxlKFtsKCksdihcImVzcmkvd2lkZ2V0cy9BdHRhY2htZW50cy90OW4vQXR0YWNobWVudHNcIildLE0ucHJvdG90eXBlLFwibWVzc2FnZXNcIix2b2lkIDApLGUoW2woKSx2KFwiZXNyaS9jb3JlL3Q5bi9Vbml0c1wiKV0sTS5wcm90b3R5cGUsXCJtZXNzYWdlc1VuaXRzXCIsdm9pZCAwKSxlKFtsKHtyZWFkT25seTohMH0pXSxNLnByb3RvdHlwZSxcInNlbGVjdGVkRmlsZVwiLHZvaWQgMCksZShbbCh7cmVhZE9ubHk6ITB9KV0sTS5wcm90b3R5cGUsXCJzdWJtaXR0aW5nXCIsdm9pZCAwKSxlKFtsKHtyZWFkT25seTohMH0pXSxNLnByb3RvdHlwZSxcImVycm9yXCIsdm9pZCAwKSxlKFtsKHt0eXBlOm19KV0sTS5wcm90b3R5cGUsXCJ2aWV3TW9kZWxcIix2b2lkIDApLGUoW2woKV0sTS5wcm90b3R5cGUsXCJ2aXNpYmxlRWxlbWVudHNcIix2b2lkIDApLGUoW3IoXCJ2aXNpYmxlRWxlbWVudHNcIildLE0ucHJvdG90eXBlLFwiY2FzdFZpc2libGVFbGVtZW50c1wiLG51bGwpLE09ZShbbyhcImVzcmkud2lkZ2V0cy5BdHRhY2htZW50c1wiKV0sTSk7Y29uc3QgST1NO2V4cG9ydHtJIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHt3YXRjaCBhcyByLGluaXRpYWwgYXMgc31mcm9tXCIuLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0e2Nhc3QgYXMgY31mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL2Nhc3QuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaH1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vcmVzdC9xdWVyeS9zdXBwb3J0L0F0dGFjaG1lbnRJbmZvLmpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vLi4vcmVzdC9zdXBwb3J0L0F0dGFjaG1lbnRRdWVyeS5qc1wiO2ltcG9ydHtnZXRTb3VyY2VMYXllciBhcyBwfWZyb21cIi4uL0ZlYXR1cmUvc3VwcG9ydC9mZWF0dXJlVXRpbHMuanNcIjtjb25zdCBtPXtlZGl0aW5nOiExLG9wZXJhdGlvbnM6e2FkZDohMCx1cGRhdGU6ITAsZGVsZXRlOiEwfX0sZj1pLm9mVHlwZShsKTtsZXQgdT1jbGFzcyBleHRlbmRzIGF7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fZ2V0QXR0YWNobWVudHNQcm9taXNlPW51bGwsdGhpcy5fYXR0YWNobWVudExheWVyPW51bGwsdGhpcy5jYXBhYmlsaXRpZXM9ey4uLm19LHRoaXMuYWN0aXZlQXR0YWNobWVudEluZm89bnVsbCx0aGlzLmFjdGl2ZUZpbGVJbmZvPW51bGwsdGhpcy5hdHRhY2htZW50SW5mb3M9bmV3IGYsdGhpcy5maWxlSW5mb3M9bmV3IGksdGhpcy5ncmFwaGljPW51bGwsdGhpcy5tb2RlPVwidmlld1wiLHRoaXMuZmlsZXNFbmFibGVkPSExLHRoaXMuYWRkSGFuZGxlcyhyKCgoKT0+dGhpcy5ncmFwaGljKSwoKCk9PnRoaXMuX2dyYXBoaWNDaGFuZ2VkKCkpLHMpKX1kZXN0cm95KCl7dGhpcy5fYXR0YWNobWVudExheWVyPW51bGwsdGhpcy5ncmFwaGljPW51bGx9Y2FzdENhcGFiaWxpdGllcyh0KXtyZXR1cm57Li4ubSwuLi50fX1nZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fZ2V0QXR0YWNobWVudHNQcm9taXNlP1wibG9hZGluZ1wiOnRoaXMuZ3JhcGhpYz9cInJlYWR5XCI6XCJkaXNhYmxlZFwifWdldCBzdXBwb3J0c1Jlc2l6ZUF0dGFjaG1lbnRzKCl7Y29uc3R7Z3JhcGhpYzp0fT10aGlzO2lmKCF0KXJldHVybiExO2NvbnN0IGU9dC5sYXllcnx8dC5zb3VyY2VMYXllcjtyZXR1cm4gZT8ubG9hZGVkJiZcImNhcGFiaWxpdGllc1wiaW4gZSYmZS5jYXBhYmlsaXRpZXMmJlwib3BlcmF0aW9uc1wiaW4gZS5jYXBhYmlsaXRpZXMmJlwic3VwcG9ydHNSZXNpemVBdHRhY2htZW50c1wiaW4gZS5jYXBhYmlsaXRpZXMub3BlcmF0aW9ucyYmZS5jYXBhYmlsaXRpZXMub3BlcmF0aW9ucy5zdXBwb3J0c1Jlc2l6ZUF0dGFjaG1lbnRzfHwhMX1hc3luYyBnZXRBdHRhY2htZW50cygpe2NvbnN0e19hdHRhY2htZW50TGF5ZXI6dCxhdHRhY2htZW50SW5mb3M6ZX09dGhpcztpZighdHx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5xdWVyeUF0dGFjaG1lbnRzKXRocm93IG5ldyBuKFwiaW52YWxpZC1sYXllclwiLFwiZ2V0QXR0YWNobWVudHMoKTogQSB2YWxpZCBsYXllciBpcyByZXF1aXJlZC5cIik7Y29uc3QgYT10aGlzLl9nZXRPYmplY3RJZCgpLGk9bmV3IGQoe29iamVjdElkczpbYV0scmV0dXJuTWV0YWRhdGE6ITB9KSxyPVtdLHM9dC5xdWVyeUF0dGFjaG1lbnRzKGkpLnRoZW4oKHQ9PnRbYV18fHIpKS5jYXRjaCgoKCk9PnIpKTt0aGlzLl9nZXRBdHRhY2htZW50c1Byb21pc2U9cyx0aGlzLm5vdGlmeUNoYW5nZShcInN0YXRlXCIpO2NvbnN0IG89YXdhaXQgcztyZXR1cm4gZS5yZW1vdmVBbGwoKSxvLmxlbmd0aCYmZS5hZGRNYW55KG8pLHRoaXMuX2dldEF0dGFjaG1lbnRzUHJvbWlzZT1udWxsLHRoaXMubm90aWZ5Q2hhbmdlKFwic3RhdGVcIiksb31hc3luYyBhZGRBdHRhY2htZW50KHQsZT10aGlzLmdyYXBoaWMpe2NvbnN0e19hdHRhY2htZW50TGF5ZXI6YSxhdHRhY2htZW50SW5mb3M6aSxjYXBhYmlsaXRpZXM6cn09dGhpcztpZighZSl0aHJvdyBuZXcgbihcImludmFsaWQtZ3JhcGhpY1wiLFwiYWRkQXR0YWNobWVudCgpOiBBIHZhbGlkIGdyYXBoaWMgaXMgcmVxdWlyZWQuXCIse2dyYXBoaWM6ZX0pO2lmKCF0KXRocm93IG5ldyBuKFwiaW52YWxpZC1hdHRhY2htZW50XCIsXCJhZGRBdHRhY2htZW50KCk6IEFuIGF0dGFjaG1lbnQgaXMgcmVxdWlyZWQuXCIse2F0dGFjaG1lbnQ6dH0pO2lmKCFyLm9wZXJhdGlvbnM/LmFkZCl0aHJvdyBuZXcgbihcImludmFsaWQtY2FwYWJpbGl0aWVzXCIsXCJhZGRBdHRhY2htZW50KCk6IGFkZCBjYXBhYmlsaXRpZXMgYXJlIHJlcXVpcmVkLlwiKTtpZighYXx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5hZGRBdHRhY2htZW50KXRocm93IG5ldyBuKFwiaW52YWxpZC1sYXllclwiLFwiYWRkQXR0YWNobWVudCgpOiBBIHZhbGlkIGxheWVyIGlzIHJlcXVpcmVkLlwiKTtjb25zdCBzPWEuYWRkQXR0YWNobWVudChlLHQpLnRoZW4oKHQ9PnRoaXMuX3F1ZXJ5QXR0YWNobWVudCh0Lm9iamVjdElkLGUpKSksbz1hd2FpdCBzO3JldHVybiBpLmFkZChvKSxvfWFzeW5jIGRlbGV0ZUF0dGFjaG1lbnQodCl7Y29uc3R7X2F0dGFjaG1lbnRMYXllcjplLGF0dGFjaG1lbnRJbmZvczphLGdyYXBoaWM6aSxjYXBhYmlsaXRpZXM6cn09dGhpcztpZighdCl0aHJvdyBuZXcgbihcImludmFsaWQtYXR0YWNobWVudC1pbmZvXCIsXCJkZWxldGVBdHRhY2htZW50KCk6IEFuIGF0dGFjaG1lbnRJbmZvIGlzIHJlcXVpcmVkLlwiLHthdHRhY2htZW50SW5mbzp0fSk7aWYoIXIub3BlcmF0aW9ucz8uZGVsZXRlKXRocm93IG5ldyBuKFwiaW52YWxpZC1jYXBhYmlsaXRpZXNcIixcImRlbGV0ZUF0dGFjaG1lbnQoKTogZGVsZXRlIGNhcGFiaWxpdGllcyBhcmUgcmVxdWlyZWQuXCIpO2lmKCFlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmRlbGV0ZUF0dGFjaG1lbnRzKXRocm93IG5ldyBuKFwiaW52YWxpZC1sYXllclwiLFwiZGVsZXRlQXR0YWNobWVudCgpOiBBIHZhbGlkIGxheWVyIGlzIHJlcXVpcmVkLlwiKTtpZighaSl0aHJvdyBuZXcgbihcImludmFsaWQtZ3JhcGhpY1wiLFwiZGVsZXRlQXR0YWNobWVudCgpOiBBIGdyYXBoaWMgaXMgcmVxdWlyZWQuXCIpO2NvbnN0IHM9ZS5kZWxldGVBdHRhY2htZW50cyhpLFt0LmlkXSkudGhlbigoKCk9PnQpKSxvPWF3YWl0IHM7cmV0dXJuIGEucmVtb3ZlKG8pLG99YXN5bmMgdXBkYXRlQXR0YWNobWVudCh0LGU9dGhpcy5hY3RpdmVBdHRhY2htZW50SW5mbyl7Y29uc3R7X2F0dGFjaG1lbnRMYXllcjphLGF0dGFjaG1lbnRJbmZvczppLGdyYXBoaWM6cixjYXBhYmlsaXRpZXM6c309dGhpcztpZighdCl0aHJvdyBuZXcgbihcImludmFsaWQtYXR0YWNobWVudFwiLFwidXBkYXRlQXR0YWNobWVudCgpOiBBbiBhdHRhY2htZW50IGlzIHJlcXVpcmVkLlwiLHthdHRhY2htZW50OnR9KTtpZighZSl0aHJvdyBuZXcgbihcImludmFsaWQtYXR0YWNobWVudC1pbmZvXCIsXCJ1cGRhdGVBdHRhY2htZW50KCk6IEFuIGF0dGFjaG1lbnRJbmZvIGlzIHJlcXVpcmVkLlwiLHthdHRhY2htZW50SW5mbzplfSk7aWYoIXMub3BlcmF0aW9ucz8udXBkYXRlKXRocm93IG5ldyBuKFwiaW52YWxpZC1jYXBhYmlsaXRpZXNcIixcInVwZGF0ZUF0dGFjaG1lbnQoKTogVXBkYXRlIGNhcGFiaWxpdGllcyBhcmUgcmVxdWlyZWQuXCIpO2NvbnN0IG89aS5pbmRleE9mKGUpO2lmKCFhfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLnVwZGF0ZUF0dGFjaG1lbnQpdGhyb3cgbmV3IG4oXCJpbnZhbGlkLWxheWVyXCIsXCJ1cGRhdGVBdHRhY2htZW50KCk6IEEgdmFsaWQgbGF5ZXIgaXMgcmVxdWlyZWQuXCIpO2lmKCFyKXRocm93IG5ldyBuKFwiaW52YWxpZC1ncmFwaGljXCIsXCJ1cGRhdGVBdHRhY2htZW50KCk6IEEgZ3JhcGhpYyBpcyByZXF1aXJlZC5cIik7Y29uc3QgYz1hLnVwZGF0ZUF0dGFjaG1lbnQocixlLmlkLHQpLnRoZW4oKHQ9PnRoaXMuX3F1ZXJ5QXR0YWNobWVudCh0Lm9iamVjdElkKSkpLGg9YXdhaXQgYztyZXR1cm4gaS5zcGxpY2UobywxLGgpLGh9YXN5bmMgY29tbWl0RmlsZXMoKXtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5maWxlSW5mb3MuaXRlbXMubWFwKCh0PT50aGlzLmFkZEF0dGFjaG1lbnQodC5mb3JtKSkpKSx0aGlzLmZpbGVJbmZvcy5yZW1vdmVBbGwoKSx0aGlzLmdldEF0dGFjaG1lbnRzKCl9YWRkRmlsZSh0LGUpe2lmKCF0fHwhZSlyZXR1cm4gbnVsbDtjb25zdCBhPXtmaWxlOnQsZm9ybTplfTtyZXR1cm4gdGhpcy5maWxlSW5mb3MuYWRkKGEpLGF9dXBkYXRlRmlsZSh0LGUsYT10aGlzLmFjdGl2ZUZpbGVJbmZvKXtpZighdHx8IWV8fCFhKXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy5maWxlSW5mb3MuaW5kZXhPZihhKTtyZXR1cm4gaT4tMSYmdGhpcy5maWxlSW5mb3Muc3BsaWNlKGksMSx7ZmlsZTp0LGZvcm06ZX0pLHRoaXMuZmlsZUluZm9zLml0ZW1zW2ldfWRlbGV0ZUZpbGUodCl7Y29uc3QgZT10aGlzLmZpbGVJbmZvcy5maW5kKChlPT5lLmZpbGU9PT10KSk7cmV0dXJuIGU/KHRoaXMuZmlsZUluZm9zLnJlbW92ZShlKSxlKTpudWxsfWFzeW5jIF9xdWVyeUF0dGFjaG1lbnQodCxlKXtjb25zdHtfYXR0YWNobWVudExheWVyOmF9PXRoaXM7aWYoIXR8fCFhPy5xdWVyeUF0dGFjaG1lbnRzKXRocm93IG5ldyBuKFwiaW52YWxpZC1hdHRhY2htZW50LWlkXCIsXCJDb3VsZCBub3QgcXVlcnkgYXR0YWNobWVudC5cIik7Y29uc3QgaT10aGlzLl9nZXRPYmplY3RJZChlKSxyPW5ldyBkKHtvYmplY3RJZHM6W2ldLGF0dGFjaG1lbnRzV2hlcmU6YEF0dGFjaG1lbnRJZD0ke3R9YCxyZXR1cm5NZXRhZGF0YTohMH0pO3JldHVybiBhLnF1ZXJ5QXR0YWNobWVudHMocikudGhlbigodD0+dFtpXVswXSkpfV9nZXRPYmplY3RJZCh0PXRoaXMuZ3JhcGhpYyl7cmV0dXJuIHQ/LmdldE9iamVjdElkKCk/P251bGx9X2dyYXBoaWNDaGFuZ2VkKCl7dGhpcy5ncmFwaGljJiYodGhpcy5fc2V0QXR0YWNobWVudExheWVyKCksdGhpcy5nZXRBdHRhY2htZW50cygpLmNhdGNoKCgoKT0+e30pKSl9X3NldEF0dGFjaG1lbnRMYXllcigpe2NvbnN0e2dyYXBoaWM6dH09dGhpcyxlPXAodCk7dGhpcy5fYXR0YWNobWVudExheWVyPWU/XCJzY2VuZVwiPT09ZS50eXBlJiZudWxsIT1lLmFzc29jaWF0ZWRMYXllcj9lLmFzc29jaWF0ZWRMYXllcjplOm51bGx9fTt0KFtvKCldLHUucHJvdG90eXBlLFwiY2FwYWJpbGl0aWVzXCIsdm9pZCAwKSx0KFtjKFwiY2FwYWJpbGl0aWVzXCIpXSx1LnByb3RvdHlwZSxcImNhc3RDYXBhYmlsaXRpZXNcIixudWxsKSx0KFtvKCldLHUucHJvdG90eXBlLFwiYWN0aXZlQXR0YWNobWVudEluZm9cIix2b2lkIDApLHQoW28oKV0sdS5wcm90b3R5cGUsXCJhY3RpdmVGaWxlSW5mb1wiLHZvaWQgMCksdChbbyh7cmVhZE9ubHk6ITAsdHlwZTpmfSldLHUucHJvdG90eXBlLFwiYXR0YWNobWVudEluZm9zXCIsdm9pZCAwKSx0KFtvKCldLHUucHJvdG90eXBlLFwiZmlsZUluZm9zXCIsdm9pZCAwKSx0KFtvKHt0eXBlOmV9KV0sdS5wcm90b3R5cGUsXCJncmFwaGljXCIsdm9pZCAwKSx0KFtvKCldLHUucHJvdG90eXBlLFwibW9kZVwiLHZvaWQgMCksdChbbyh7cmVhZE9ubHk6ITB9KV0sdS5wcm90b3R5cGUsXCJzdGF0ZVwiLG51bGwpLHQoW28oKV0sdS5wcm90b3R5cGUsXCJmaWxlc0VuYWJsZWRcIix2b2lkIDApLHQoW28oe3JlYWRPbmx5OiEwfSldLHUucHJvdG90eXBlLFwic3VwcG9ydHNSZXNpemVBdHRhY2htZW50c1wiLG51bGwpLHU9dChbaChcImVzcmkud2lkZ2V0cy5BdHRhY2htZW50cy5BdHRhY2htZW50c1ZpZXdNb2RlbFwiKV0sdSk7Y29uc3QgeT11O2V4cG9ydHt5IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRBc3NldFVybCBhcyBpfWZyb21cIi4uLy4uLy4uL2Fzc2V0cy5qc1wiO2Z1bmN0aW9uIGUoaSl7Y29uc3QgZT1pLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbWFnZS9ibXBcIj09PWV8fFwiaW1hZ2UvZW1mXCI9PT1lfHxcImltYWdlL2V4aWZcIj09PWV8fFwiaW1hZ2UvZ2lmXCI9PT1lfHxcImltYWdlL3gtaWNvblwiPT09ZXx8XCJpbWFnZS9qcGVnXCI9PT1lfHxcImltYWdlL3BuZ1wiPT09ZXx8XCJpbWFnZS90aWZmXCI9PT1lfHxcImltYWdlL3gtd21mXCI9PT1lfWZ1bmN0aW9uIHAoZSl7Y29uc3QgcD1pKFwiZXNyaS90aGVtZXMvYmFzZS9pbWFnZXMvZmlsZXMvXCIpO3JldHVybiBlP1widGV4dC9wbGFpblwiPT09ZT9gJHtwfXRleHQtMzIuc3ZnYDpcImFwcGxpY2F0aW9uL3BkZlwiPT09ZT9gJHtwfXBkZi0zMi5zdmdgOlwidGV4dC9jc3ZcIj09PWU/YCR7cH1jc3YtMzIuc3ZnYDpcImFwcGxpY2F0aW9uL2dweCt4bWxcIj09PWU/YCR7cH1ncHgtMzIuc3ZnYDpcImFwcGxpY2F0aW9uL3gtZHdmXCI9PT1lP2Ake3B9Y2FkLTMyLnN2Z2A6XCJhcHBsaWNhdGlvbi9wb3N0c2NyaXB0XCI9PT1lfHxcImFwcGxpY2F0aW9uL2pzb25cIj09PWV8fFwidGV4dC94bWxcIj09PWV8fFwibW9kZWwvdnJtbFwiPT09ZT9gJHtwfWNvZGUtMzIuc3ZnYDpcImFwcGxpY2F0aW9uL3gtemlwLWNvbXByZXNzZWRcIj09PWV8fFwiYXBwbGljYXRpb24veC03ei1jb21wcmVzc2VkXCI9PT1lfHxcImFwcGxpY2F0aW9uL3gtZ3ppcFwiPT09ZXx8XCJhcHBsaWNhdGlvbi94LXRhclwiPT09ZXx8XCJhcHBsaWNhdGlvbi94LWd0YXJcIj09PWV8fFwiYXBwbGljYXRpb24veC1iemlwMlwiPT09ZXx8XCJhcHBsaWNhdGlvbi9nemlwXCI9PT1lfHxcImFwcGxpY2F0aW9uL3gtY29tcHJlc3NcIj09PWV8fFwiYXBwbGljYXRpb24veC1hcHBsZS1kaXNraW1hZ2VcIj09PWV8fFwiYXBwbGljYXRpb24veC1yYXItY29tcHJlc3NlZFwiPT09ZXx8XCJhcHBsaWNhdGlvbi96aXBcIj09PWU/YCR7cH16aXAtMzIuc3ZnYDplLmluY2x1ZGVzKFwiaW1hZ2UvXCIpP2Ake3B9aW1hZ2UtMzIuc3ZnYDplLmluY2x1ZGVzKFwiYXVkaW8vXCIpP2Ake3B9c291bmQtMzIuc3ZnYDplLmluY2x1ZGVzKFwidmlkZW8vXCIpP2Ake3B9dmlkZW8tMzIuc3ZnYDplLmluY2x1ZGVzKFwibXNleGNlbFwiKXx8ZS5pbmNsdWRlcyhcIm1zLWV4Y2VsXCIpfHxlLmluY2x1ZGVzKFwic3ByZWFkc2hlZXRtbFwiKT9gJHtwfWV4Y2VsLTMyLnN2Z2A6ZS5pbmNsdWRlcyhcIm1zd29yZFwiKXx8ZS5pbmNsdWRlcyhcIm1zLXdvcmRcIil8fGUuaW5jbHVkZXMoXCJ3b3JkcHJvY2Vzc2luZ21sXCIpP2Ake3B9d29yZC0zMi5zdmdgOmUuaW5jbHVkZXMoXCJwb3dlcnBvaW50XCIpfHxlLmluY2x1ZGVzKFwicHJlc2VudGF0aW9ubWxcIik/YCR7cH1yZXBvcnQtMzIuc3ZnYDpgJHtwfWdlbmVyaWMtMzIuc3ZnYDpgJHtwfWdlbmVyaWMtMzIuc3ZnYH1leHBvcnR7cCBhcyBnZXRJY29uUGF0aCxlIGFzIGlzU3VwcG9ydGVkSW1hZ2V9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9