"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_views_3d_layers_FeatureLikeLayerView3D_js-node_modules_arcgi-7f2dd8"],{

/***/ "./node_modules/@arcgis/core/arcade/functions/hash.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/functions/hash.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   XXH: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const t=2654435761,s=2246822519,n=3266489917,e=668265263,r=374761393;function h(t){const s=[];for(let n=0,e=t.length;n<e;n++){let e=t.charCodeAt(n);e<128?s.push(e):e<2048?s.push(192|e>>6,128|63&e):e<55296||e>=57344?s.push(224|e>>12,128|e>>6&63,128|63&e):(n++,e=65536+((1023&e)<<10|1023&t.charCodeAt(n)),s.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e))}return new Uint8Array(s)}class i{constructor(t){this._seed=t,this._totallen=0,this._bufs=[],this.init()}init(){return this._bufs=[],this._totallen=0,this}updateFloatArray(t){const s=[];for(const n of t)isNaN(n)?s.push("NaN"):n===1/0?s.push("Infinity"):n===-1/0?s.push("-Infinity"):0===n?s.push("0"):s.push(n.toString(16));this.update(h(s.join("")))}updateIntArray(t){const s=Int32Array.from(t);this.update(new Uint8Array(s.buffer))}updateUint8Array(t){this.update(Uint8Array.from(t))}updateWithString(t){return this.update(h(t))}update(t){return this._bufs.push(t),this._totallen+=t.length,this}digest(){const t=new Uint8Array(this._totallen);let s=0;for(const n of this._bufs)t.set(n,s),s+=n.length;return this.init(),this._xxHash32(t,this._seed)}_xxHash32(h,i=0){const o=h;let u=i+r&4294967295,a=0;if(o.length>=16){const n=[i+t+s&4294967295,i+s&4294967295,i+0&4294967295,i-t&4294967295],e=h,r=e.length-16;let o=0;for(a=0;(4294967280&a)<=r;a+=4){const r=a,h=e[r]+(e[r+1]<<8),i=e[r+2]+(e[r+3]<<8),u=h*s+(i*s<<16);let l=n[o]+u&4294967295;l=l<<13|l>>>19;const f=65535&l,p=l>>>16;n[o]=f*t+(p*t<<16)&4294967295,o=o+1&3}u=(n[0]<<1|n[0]>>>31)+(n[1]<<7|n[1]>>>25)+(n[2]<<12|n[2]>>>20)+(n[3]<<18|n[3]>>>14)&4294967295}u=u+h.length&4294967295;const l=h.length-4;for(;a<=l;a+=4){const t=a,s=o[t]+(o[t+1]<<8),r=o[t+2]+(o[t+3]<<8);u=u+(s*n+(r*n<<16))&4294967295,u=u<<17|u>>>15,u=(65535&u)*e+((u>>>16)*e<<16)&4294967295}for(;a<o.length;++a){u+=o[a]*r,u=u<<11|u>>>21,u=(65535&u)*t+((u>>>16)*t<<16)&4294967295}return u^=u>>>15,u=((65535&u)*s&4294967295)+((u>>>16)*s<<16),u^=u>>>13,u=((65535&u)*n&4294967295)+((u>>>16)*n<<16),u^=u>>>16,u<0?u+4294967296:u}}


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/Heatmap.glsl.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/Heatmap.glsl.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: () => (/* binding */ a),
/* harmony export */   b: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_DiscardOrAdjustAlphaBlend_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlphaBlend.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlphaBlend.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){const a=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__.ShaderBuilder;a.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ScreenSpacePass),a.include(_views_3d_webgl_engine_core_shaderLibrary_util_DiscardOrAdjustAlphaBlend_glsl_js__WEBPACK_IMPORTED_MODULE_1__.DiscardOrAdjustAlphaBlend);const{usesHalfFloat:d}=t;return a.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("densityMap",(e=>e.densityMap)),new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("tex",(e=>e.colorRamp)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("densityNormalizer",(e=>1/(e.maxDensity-e.minDensity))),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("minDensity",(e=>e.minDensity)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("densityMultiplier",(e=>3/(e.searchRadius*e.searchRadius*Math.PI)))),d&&a.constants.add("compressionFactor","float",4),a.fragment.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`
    void main() {
      float density = texture(densityMap, uv).r * densityMultiplier${d?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)` * compressionFactor`:""};
      float densityRatio = (density - minDensity) * densityNormalizer;

      vec4 color = texture(tex, vec2(clamp(densityRatio, 0.0, 1.0), 0.5));

      discardOrAdjustAlpha(color);
      fragColor = color;
    }
  `),a}const a=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: () => (/* binding */ s),
/* harmony export */   b: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){const s=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_3__.ShaderBuilder,{vertex:d,fragment:u,attributes:n,varyings:l}=s;(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__.addProjViewLocalOrigin)(d,t);const{isAttributeDriven:c,usesHalfFloat:f}=t;return n.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.POSITION,"vec3"),n.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.UV0,"vec2"),c&&(n.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.FEATUREATTRIBUTE,"float"),l.add("attributeValue","float")),f&&s.constants.add("compressionFactor","float",.25),l.add("unitCirclePos","vec2"),d.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__.FloatPassUniform("radius",(({resolutionForScale:e,searchRadius:i},{camera:o,screenToWorldRatio:r,overlayStretch:a})=>2*i*(0===e?1:e/r)*o.pixelRatio/o.fullViewport[2]/a))),d.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`
    void main() {
      unitCirclePos = uv0;

      vec4 posProj = proj * (view * vec4(${_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.POSITION}, 1.0));
      vec4 quadOffset = vec4(unitCirclePos * radius, 0.0, 0.0);

      ${c?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`attributeValue = ${_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.FEATUREATTRIBUTE};`:""}
      gl_Position = posProj + quadOffset;
    }
  `),u.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`
    void main() {
      float radiusRatioSquared = dot(unitCirclePos, unitCirclePos);
      if (radiusRatioSquared > 1.0) {
        discard;
      }

      float oneMinusRadiusRatioSquared = 1.0 - radiusRatioSquared;
      float density = oneMinusRadiusRatioSquared * oneMinusRadiusRatioSquared ${c?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)` * attributeValue`:""} ${f?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)` * compressionFactor`:""};
      fragColor = vec4(density);
    }
  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTileController3D: () => (/* binding */ T),
/* harmony export */   FeatureTileController3DConstants: () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../support/arcgisLayerUrl.js */ "./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js");
/* harmony import */ var _support_layerUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../support/layerUtils.js */ "./node_modules/@arcgis/core/layers/support/layerUtils.js");
/* harmony import */ var _portal_support_geometryServiceUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../portal/support/geometryServiceUtils.js */ "./node_modules/@arcgis/core/portal/support/geometryServiceUtils.js");
/* harmony import */ var _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../rest/support/StatisticDefinition.js */ "./node_modules/@arcgis/core/rest/support/StatisticDefinition.js");
/* harmony import */ var _views_3d_layers_support_FeatureTileFetcher3D_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../views/3d/layers/support/FeatureTileFetcher3D.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js");
/* harmony import */ var _views_3d_layers_support_FeatureTileFetcher3DDebugger_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js");
/* harmony import */ var _views_3d_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../views/3d/support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let T=class extends((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_9__.EsriPromiseMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){set extent(e){if(null!=e&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__["default"].getLogger(this).error("#extent=","extent needs to be in the same spatial reference as the view");const t=this._get("extent");if(t===e)return;if(null!=t&&e&&t.equals(e))return;const i=null!=e?e.clone():null;this._set("extent",i)}get updating(){return!!(null!=this._tileFetcher&&this._tileFetcher.updating||null!=this._fetchDataInfoPromise||"tiles"===this.mode&&this.layerView.view.featureTiles&&this.layerView.view.featureTiles.updating||this._updatingHandles&&this._updatingHandles.updating)}get updatingTotal(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return null!=this._tileFetcher?this._tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(null==this._tileFetcher||!this._tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return this.displayFeatureLimit?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&this._overrideIfSome("maximumNumberOfFeatures",e)}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden("maximumNumberOfFeatures")}get mode(){const e=this.layerView.layer;if("feature"===e.type&&null!=e.infoFor3D)return"snapshot";if(this._forceTilesMode)return"tiles";const t=this.layerView.view;if(!1===t.qualitySettings?.graphics3D?.snapshotAvailable||this.serviceDataCount===j.noServiceDataCount||this._snapshotLimitExceeded||this.maximumNumberOfFeaturesExceeded||t.quality<1)return"tiles";const i=t&&t.featureTiles,r=i&&i.tilingScheme;if(e&&e.minScale&&this.serviceDataExtent&&r){const t=this._approximateExtentSizeAtScale(e.minScale,r);if((this.serviceDataExtent.width/t+this.serviceDataExtent.height/t)/2>j.maxSnapshotMinScaleFactor)return"tiles"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?"snapshot":"tiles"}get maxTotalSnapshotVertices(){const e=this._get("maxTotalSnapshotVertices")||0,t="snapshot"===this.mode&&this._tileFetcher?.totalVertices||0;return Math.max(e,t)}_approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){return"snapshot"===this.mode?new _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"]([{id:"dummy-tile-full-extent",lij:[0,0,0]}]):this.layerView.view.featureTiles?this.layerView.view.featureTiles.tiles:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_3__["default"]}get test(){return{fetchDataInfoPromise:this._fetchDataInfoPromise,tileFetcher:this._tileFetcher}}constructor(e){super(e),this.type="feature-tile-3d",this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_15__.UpdatingHandles,this.serviceDataExtent=null,this.serviceDataCount=j.noServiceDataCount,this._snapshotLimitExceeded=!1,this.displayFeatureLimit=null,this._forceTilesMode=!1,this._suspended=!1,this._tileFetcher=null,this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null,this._lifeCycleAbortController=new AbortController}initialize(){this._updatingHandles.add((()=>this.displayFeatureLimit),(e=>this._updatingHandles.addPromise(this._updateSnapshotLimit(e,null,this._lifeCycleAbortController.signal)))),this._updatingHandles.add((()=>this.mode),(()=>this._modeChanged()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),this._updatingHandles.add((()=>this.mode),((e,t)=>{"tiles"===e&&"snapshot"===t&&(this._forceTilesMode=!0)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial),this.addResolvingPromise(Promise.resolve().then((()=>this._verifyCapabilities())).then((()=>this._updatingHandles.addPromise(this._fetchServiceDataInfo()))).then((()=>this._initializeTileFetcher())))}_verifyCapabilities(){const e=this.layerView.layer;if("ogc-feature"!==e.type&&!(0,_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_17__.getEffectiveLayerCapabilities)(e)?.operations.supportsQuery)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("graphicscontroller:query-capability-required","Service requires query capabilities to be used as a feature layer",{layer:e})}destroy(){this._cancelFetchServiceDataInfo(),this._tileFetcher=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._tileFetcher),this._tilesHandle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.removeMaybe)(this._tilesHandle),this._lifeCycleAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.abortMaybe)(this._lifeCycleAbortController),this._updatingHandles.destroy(),this._set("_updatingHandles",null)}suspend(){this._suspended||(this._suspended=!0,null!=this._tileFetcher&&this._tileFetcher.suspend())}resume(){this._suspended&&(this._suspended=!1,null!=this._tileFetcher&&this._tileFetcher.resume())}restart(){const e=()=>{null!=this._tileFetcher&&this._tileFetcher.restart()};this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(e,e))}refetch(){this._refetch({resetForceTilesMode:!1})}_refetch(e){const t=()=>{null!=this._tileFetcher&&(e.resetForceTilesMode&&(this._forceTilesMode=!1),this._tileFetcher.refetch())};this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(t,t))}_initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.whenOnce)((()=>e.featureTiles?.tilingScheme),this._lifeCycleAbortController.signal);this._updatingHandles.addPromise(t),t.then((()=>{const{layerView:e,tileDescriptors:t}=this,i=e.layer,r=new _views_3d_layers_support_FeatureTileFetcher3D_js__WEBPACK_IMPORTED_MODULE_20__.FeatureTileFetcher3D({context:this.context,filterExtent:this.extent,tileDescriptors:t,features:this.graphics});this._tileFetcher=r,this._suspended?this._tileFetcher.suspend():this._tileFetcher.resume();const s=this.layerView.view;s&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>s.quality),(e=>r.memoryFactor=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.syncAndInitial));const a="polygon"===this.context.geometryType?"polygonLodFactor":"polyline"===this.context.geometryType?"polylineLodFactor":null;a&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.layerView.view?.qualitySettings?.graphics3D?.[a]),(e=>r.lodFactor=e||1),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.initial));const o=e=>{r.maximumNumberOfFeatures=e,r.useTileCount=this.serviceDataCount>e},l=e=>{r.useTileCount=e>this.maximumNumberOfFeatures};"ogc-feature"!==i.type&&this._updatingHandles.add((()=>i.createQueryVersion),(()=>this._dataFilterChanged())),this._updatingHandles.add((()=>e.availableFields),((e,t)=>this._availableFieldsChanged(t,e))),this._updatingHandles.add((()=>e.requiredFields),((e,t)=>this._requiredFieldsChanged(t,e))),this.addHandles([i.on("apply-edits",(e=>this._applyEdits(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.extent),(e=>r.filterExtent=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.tileDescriptors),(e=>r.tileDescriptors=e),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.sync),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.maximumNumberOfFeatures),o,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>this.serviceDataCount),l,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.watch)((()=>_views_3d_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_22__.debugFlags.FEATURE_TILE_FETCH_SHOW_TILES),(e=>{e&&r&&!r.debugger?(r.debugger=new _views_3d_layers_support_FeatureTileFetcher3DDebugger_js__WEBPACK_IMPORTED_MODULE_21__.FeatureTileFetcher3DDebugger(r,s.featureTiles.tilingScheme.toTileInfo(),s),r.debugger.update()):!e&&this._tileFetcher&&r.debugger&&(r.debugger.destroy(),r.debugger=null)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_11__.syncAndInitial)]),this._supportsExceedsLimitQuery||this._updatingHandles.add((()=>this.maxTotalSnapshotVertices),(()=>this._updatingHandles.addPromise(this._updateSnapshotLimit(this.displayFeatureLimit,null,this._lifeCycleAbortController.signal))))})).catch((()=>{}))}_modeChanged(){switch(this.mode){case"tiles":this._tilesHandle||(this._tilesHandle=this.layerView.view.featureTiles.addClient());break;default:_core_Logger_js__WEBPACK_IMPORTED_MODULE_7__["default"].getLogger(this).warn("Unhandled feature layer mode "+this.mode);case"snapshot":null!=this._tilesHandle&&(this._tilesHandle.remove(),this._tilesHandle=null)}}_dataFilterChanged(){this._set("maxTotalSnapshotVertices",0),this.notifyChange("maxTotalSnapshotVertices"),this._refetch({resetForceTilesMode:!0})}_applyEdits(e){null!=this._tileFetcher&&this._tileFetcher.applyEdits(e).then((e=>{if(e){if(!this._lifeCycleAbortController)throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.createAbortError)();e.exceededTransferLimit?this.layerView.layer.refresh():(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this._updatingHandles.addPromise(this._updateServiceDataExtent(this._lifeCycleAbortController.signal))}})).catch((e=>{if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(e))throw e}))}_availableFieldsChanged(e,t){null!=this._tileFetcher&&q(this._tileFetcher.availableFields,t)&&this._refetch({resetForceTilesMode:!1})}_requiredFieldsChanged(e,t){null!=this._tileFetcher&&q(this._tileFetcher.availableFields,t)&&this.restart()}_createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.returnGeometry=!1,i.outStatistics=[new _rest_support_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_19__["default"]({statisticType:"exceedslimit",maxVertexCount:e,outStatisticFieldName:"exceedslimit",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities?.query.supportsCacheHint&&(i.cacheHint=!0),i}_createDataInfoQuery(){const e=this.layerView.layer,t=e.createQuery();return t.returnGeometry=!1,t.outSpatialReference=this.layerView.view.spatialReference,e.capabilities?.query.supportsCacheHint&&(t.cacheHint=!0),t}_fullExtentIsAccurate(){const e=this.layerView.layer;if(e.definitionExpression)return!1;switch(e.type){case"feature":case"oriented-imagery":return (0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_16__.isHostedAgolService)(e.url);case"csv":case"geojson":case"ogc-feature":case"wfs":return!0;default:return}}async _updateServiceDataExtent(e){try{await this._tryUpdateServiceDataExtent(e)}catch(t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(t)||this._set("serviceDataExtent",(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(this.layerView.fullExtentInLocalViewSpatialReference))}}async _tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities?.query.supportsExtent??!1,s=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_6__.clone)(t.fullExtentInLocalViewSpatialReference),o=i.fullExtent,l=this._fullExtentIsAccurate(),n=this.serviceDataCount;if(r&&n<=j.maxFeatureCountForExtent&&(!s||!l)&&"queryExtent"in i){const t=this._createDataInfoQuery(),r=await i.queryExtent(t,{timeout:j.queryExtentTimeout,signal:e});this._set("serviceDataExtent",r.extent)}else if(s)this._set("serviceDataExtent",s);else if(null!=o){const r="portalItem"in i?i.portalItem:null,s=await (0,_portal_support_geometryServiceUtils_js__WEBPACK_IMPORTED_MODULE_18__.projectGeometry)(o,t.view.spatialReference,r,e);this._set("serviceDataExtent",s)}else this._set("serviceDataExtent",null)}async _updateServiceDataCount(e){const t=this.layerView.layer;if(!("queryFeatureCount"in t)||!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_4__["default"])("featurelayer-snapshot-enabled"))return void this._set("serviceDataCount",j.noServiceDataCount);const r=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.result)(t.queryFeatureCount(this._createDataInfoQuery(),{timeout:j.queryStatisticsTimeout,signal:e}));if(!0===r.ok)this._set("serviceDataCount",r.value);else{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(r.error))throw r.error;this._set("serviceDataCount",j.noServiceDataCount)}}get _supportsExceedsLimitQuery(){const e=this.layerView.layer;return null!=e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get _minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case"point":case"multipoint":return 1;case"polygon":return 4;case"polyline":return 2;case"multipatch":case"mesh":return 3;default:return 0}}async _updateSnapshotLimit(e,t,r){if(null==e?.averageSymbolComplexity)return void(this._snapshotLimitExceeded=!1);const{maximumTotalNumberOfVertices:s,averageSymbolComplexity:a}=e,{verticesPerFeature:o,verticesPerCoordinate:l}=a,n=o<=0,u=this._minimumNumberOfVerticesForGeometry>1;if(!n&&!u)return void(this._snapshotLimitExceeded=!1);0!==o&&null!=t&&await t;const h=Math.min(s,H),c=this.serviceDataCount,p=c!==j.noServiceDataCount;let m=p?Math.ceil((h-c*o)/(l||1)):Math.ceil(h/(l||1));if(u&&(m=Math.min(m,O)),p&&this._minimumNumberOfVerticesForGeometry*c>m)return void(this._snapshotLimitExceeded=!0);if(!this._supportsExceedsLimitQuery||!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_4__["default"])("featurelayer-snapshot-enabled"))return void(this._snapshotLimitExceeded=this.maxTotalSnapshotVertices>m);const f=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.result)(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(m),{timeout:j.queryStatisticsTimeout,signal:r}));if(!1===f.ok){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(f.error))throw f.error;return void(this._snapshotLimitExceeded=!1)}const y=f.value.features[0];this._snapshotLimitExceeded=!!y?.attributes&&!!y.attributes.exceedslimit}async _fetchServiceDataInfo(){this._cancelFetchServiceDataInfo();let e=new AbortController;const t=e.signal,i=this._updateServiceDataCount(t),r=Promise.allSettled([i,this._updateSnapshotLimit(this.displayFeatureLimit,i,t)]),s=r.then((()=>this._updateServiceDataExtent(t))).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_7__["default"].getLogger(this).error("#fetchServiceDataInfo()",e)})).then((()=>{s===this._fetchDataInfoPromise&&(this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null),e=null}));return e&&(this._fetchDataInfoPromise=s),this._fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}_cancelFetchServiceDataInfo(){const e=this._fetchDataInfoAbortController;e&&(this._fetchDataInfoAbortController=null,this._fetchDataInfoPromise=null,e.abort())}get performanceInfo(){return{storedFeatures:this._tileFetcher?.storedFeatures??0,totalFeatures:this._tileFetcher?.totalFeatures??0,totalVertices:this._tileFetcher?.totalVertices??0,missingTiles:this._tileFetcher?.missingTiles??0}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"graphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({constructOnly:!0})],T.prototype,"context",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"extent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"_updatingHandles",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"updatingTotal",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"updatingRemaining",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"expectedFeatureDiff",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"memoryForUnusedFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"maximumNumberOfFeaturesExceeded",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"serviceDataExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"serviceDataCount",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"_snapshotLimitExceeded",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"displayFeatureLimit",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({type:Number})],T.prototype,"maximumNumberOfFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"_forceTilesMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"mode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"maxTotalSnapshotVertices",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],T.prototype,"tileDescriptors",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"_tileFetcher",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],T.prototype,"_fetchDataInfoPromise",void 0),T=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__.subclass)("esri.layers.graphics.controllers.FeatureTileController3D")],T);const V=1e4,H=1e6,L=12e3,I=1e4,O=5e6;function q(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var j;!function(e){function t(){e.maxFeatureCountForExtent=V,e.queryStatisticsTimeout=L,e.queryExtentTimeout=I}e.noServiceDataCount=1/0,e.maxSnapshotMinScaleFactor=5,e.reset=t}(j||(j={})),j.reset();


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BoundsStore: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/libs/rbush/PooledRBush.js */ "./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i){n.minX=i[0],n.minY=i[1],n.maxX=i[2],n.maxY=i[3]}function e(i,s,d){t(s),i.search(n,d)}class o{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__.PooledRBush(9,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-csp-restrictions")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.empty)();for(const s of this._boundsById.values())s&&(i[0]=Math.min(s[0],i[0]),i[1]=Math.min(s[1],i[1]),i[2]=Math.max(s[2],i[2]),i[3]=Math.max(s[3],i[3]));return i}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),e(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BoundsStore.js */ "./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js");
/* harmony import */ var _geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./geometryUtils.js */ "./node_modules/@arcgis/core/layers/graphics/data/geometryUtils.js");
/* harmony import */ var _optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./optimizedFeatureQueryEngineAdapter.js */ "./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const f=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.create)();class m{constructor(e){this.geometryInfo=e,this._boundsStore=new _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__.BoundsStore,this._featuresById=new Map,this._markedIds=new Set,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"],this.featureAdapter=_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__.optimizedFeatureQueryEngineAdapter}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{null!=t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}getFullExtent(e){if(null==this.fullBounds)return null;const[t,r,s,o]=this.fullBounds;return{xmin:t,ymin:r,xmax:s,ymax:o,spatialReference:(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__.cleanFromGeometryEngine)(e)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}upsertMany(t){const r=t.map((e=>this._upsert(e)));return this._emitChanged(),r.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome)}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t){for(const r of e){const e=this._boundsStore.get(r.objectId);e&&t((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.fromRect)(f,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit("changed",void 0)}_add(e){if(!e)return;const r=e.objectId;if(null==r)return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurestore:invalid-feature","feature id is missing",{feature:e}));const o=this._featuresById.get(r);let i;if(this._markedIds.add(r),o?(e.displayId=o.displayId,i=this._boundsStore.get(r),this._boundsStore.delete(r)):null!=this.onFeatureAdd&&this.onFeatureAdd(e),!e.geometry?.coords?.length)return this._boundsStore.set(r,null),void this._featuresById.set(r,e);i=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.getBoundsOptimizedGeometry)(null!=i?i:(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.create)(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),null!=i&&this._boundsStore.set(r,i),this._featuresById.set(r,e)}_upsert(e){const r=e?.objectId;if(null==r)return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurestore:invalid-feature","feature id is missing",{feature:e})),null;const o=this._featuresById.get(r);if(!o)return this._add(e),e;this._markedIds.add(r);const{geometry:i,attributes:d}=e;for(const t in d)o.attributes[t]=d[t];return i&&(o.geometry=i,this._boundsStore.set(r,(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.getBoundsOptimizedGeometry)((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__.create)(),i,this.geometryInfo.hasZ,this.geometryInfo.hasM)??null)),o}_remove(e){null!=this.onFeatureRemove&&this.onFeatureRemove(e);const t=e.objectId;return this._markedIds.delete(t),this._boundsStore.delete(t),this._featuresById.delete(t),e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/support/floorFilterUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFloorFilterClause: () => (/* binding */ o),
/* harmony export */   getLayerFloorFilterClause: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o){const n=o.layer;if("floorInfo"in n&&n.floorInfo?.floorField&&"floors"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return"floorInfo"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>""!==o)).map((o=>`'${o}'`));return l.push("''"),`${n} IN (${l.join(",")}) OR ${n} IS NULL`}


/***/ }),

/***/ "./node_modules/@arcgis/core/support/elevationInfoUtils.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/support/elevationInfoUtils.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   absoluteHeightElevationInfo: () => (/* binding */ y),
/* harmony export */   elevationContextAffectsAlignment: () => (/* binding */ m),
/* harmony export */   elevationInfoLikeEquals: () => (/* binding */ I),
/* harmony export */   elevationModeRequiredMessage: () => (/* binding */ p),
/* harmony export */   elevationModeUnsupportedMessage: () => (/* binding */ b),
/* harmony export */   featureExpressionUnsupportedMessage: () => (/* binding */ E),
/* harmony export */   getConvertedElevation: () => (/* binding */ c),
/* harmony export */   getConvertedElevationFromVector: () => (/* binding */ d),
/* harmony export */   getEffectiveElevationInfo: () => (/* binding */ o),
/* harmony export */   getEffectiveElevationMode: () => (/* binding */ t),
/* harmony export */   getGeometryEffectiveElevationInfo: () => (/* binding */ u),
/* harmony export */   getGeometryEffectiveElevationMode: () => (/* binding */ r),
/* harmony export */   getGraphicEffectiveElevationInfo: () => (/* binding */ s),
/* harmony export */   getGraphicEffectiveElevationMode: () => (/* binding */ l),
/* harmony export */   getZForElevationMode: () => (/* binding */ f),
/* harmony export */   hasGraphicFeatureExpressionInfo: () => (/* binding */ i),
/* harmony export */   logInvalidElevationInfoWarning: () => (/* binding */ x),
/* harmony export */   onTheGroundElevationInfo: () => (/* binding */ Z),
/* harmony export */   zValueInAbsoluteHeightMode: () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbols/support/unitConversionUtils.js */ "./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(e){return e?y:Z}function t(e,t){return t?.mode?t.mode:n(e).mode}function o(e,t){return null!=t?t:n(e)}function r(e,n){return t(null!=e&&e.hasZ,n)}function u(e,n){return o(null!=e&&!!e.hasZ,n)}function l(e){const n=a(e);return r(e.geometry,n)}function s(n){const t=a(n),o=r(n.geometry,t);return{mode:o,offset:null!=t&&"on-the-ground"!==o?(t.offset??0)*(0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.getMetersPerUnit)(t.unit??"meters"):0}}function i(e){if("on-the-ground"===l(e))return!1;const n=a(e),t=n?.featureExpressionInfo?n.featureExpressionInfo.expression:null;return!(!t||"0"===t)}function a(e){return e.layer&&"elevationInfo"in e.layer?e.layer.elevationInfo:null}function f(e,n,t){if(!t?.mode)return;const o=e.hasZ?e.z:0,r=null!=t.offset?t.offset:0;switch(t.mode){case"absolute-height":return o-r;case"on-the-ground":return 0;case"relative-to-ground":return o-((n.elevationProvider.getElevation(e.x,e.y,o,e.spatialReference,"ground")??0)+r);case"relative-to-scene":return o-((n.elevationProvider.getElevation(e.x,e.y,o,e.spatialReference,"scene")??0)+r)}}function c(e,n,t,o=null){return v(e,n.x,n.y,n.hasZ?n.z:0,n.spatialReference,t,o)}function d(e,n,t,o,r=null){return v(e,n[0],n[1],n.length>2?n[2]:0,t,o,r)}function v(e,n,t,o,r,u,l=null){if(null==u)return;const s=null!=l?l.mode:"absolute-height";if("on-the-ground"===s)return 0;const{absoluteZ:i}=g(n,t,o,r,e,u);return h(i,n,t,o,r,e,l,s)}function g(e,n,t,o,r,u){const l=null!=u.offset?u.offset:0;switch(u.mode){case"absolute-height":return{absoluteZ:t+l,elevation:0};case"on-the-ground":{const t=r.elevationProvider.getElevation(e,n,0,o,"ground")??0;return{absoluteZ:t,elevation:t}}case"relative-to-ground":{const u=r.elevationProvider.getElevation(e,n,t,o,"ground")??0;return{absoluteZ:t+u+l,elevation:u}}case"relative-to-scene":{const u=r.elevationProvider.getElevation(e,n,t,o,"scene")??0;return{absoluteZ:t+u+l,elevation:u}}}}function h(e,n,t,o,r,u,l,s){const i=null!=l?.offset?l.offset:0;switch(s){case"absolute-height":return e-i;case"relative-to-ground":return e-((u.elevationProvider.getElevation(n,t,o,r,"ground")??0)+i);case"relative-to-scene":return e-((u.elevationProvider.getElevation(n,t,o,r,"scene")??0)+i)}}function m(e,n){if(null==n)return!1;const{mode:t}=n;return null!=t&&("scene"===e&&"relative-to-scene"===t||"ground"===e&&"absolute-height"!==t)}function p(e,n,t){return t&&t.mode!==n?`${e} only support ${n} elevation mode`:null}function b(e,n,t){return t?.mode===n?`${e} do not support ${n} elevation mode`:null}function E(e,n){return null!=n?.featureExpressionInfo&&"0"!==n.featureExpressionInfo.expression?`${e} do not support featureExpressionInfo`:null}function x(e,n){n&&e.warn(".elevationInfo=",n)}const y={mode:"absolute-height",offset:0},Z={mode:"on-the-ground",offset:null};function I(e,n){return e===n||null!=e&&null!=n&&e.mode===n.mode&&e.offset===n.offset}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureLikeLayerView3D: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../layers/graphics/hydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js");
/* harmony import */ var _layers_graphics_controllers_FeatureTileController3D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../layers/graphics/controllers/FeatureTileController3D.js */ "./node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../symbols/support/utils.js */ "./node_modules/@arcgis/core/symbols/support/utils.js");
/* harmony import */ var _graphics_elevationAlignPointsInFeatures_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./graphics/elevationAlignPointsInFeatures.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js");
/* harmony import */ var _graphics_Graphics3DFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./graphics/Graphics3DFeatureProcessor.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js");
/* harmony import */ var _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./graphics/QueryEngine.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js");
/* harmony import */ var _graphics_queryForSymbologySnapping_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./graphics/queryForSymbologySnapping.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js");
/* harmony import */ var _support_HeatmapFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./support/HeatmapFeatureProcessor.js */ "./node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js");
/* harmony import */ var _support_projectExtentUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./support/projectExtentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const E=E=>{let v=class extends E{constructor(){super(...arguments),this.controller=null,this.updatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_19__.UpdatePolicy.SYNC,this.suspendResumeExtentMode="computed",this.slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null,this.suspendResumeExtent=null,this._controllerCreated=!1,this.supportsHeightUnitConversion=!0,this._pendingController=null,this.queryEngine=null}initialize(){const e=this.layer;if("isTable"in e&&e.isTable)return void this.addResolvingPromise(Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurelayerview:table-not-supported","table feature layer can't be displayed",{layer:e})));this.addResolvingPromise(this._validateGeometryType()),this._updatingHandles.add((()=>this.layer.renderer),(e=>this._recreateProcessor(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial),this.addResolvingPromise((async()=>{const e=await (0,_support_projectExtentUtils_js__WEBPACK_IMPORTED_MODULE_18__.toViewIfLocal)(this);this.fullExtentInLocalViewSpatialReference=e,await this._initializeController()})()),this._updatingHandles.add((()=>this.updatePolicy),(e=>this.processor.preferredUpdatePolicy=e));const t=()=>this.processor.featureStore;this.queryEngine=new _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_15__.QueryEngine({context:{spatialReference:this.view.spatialReference,layer:this.layer,scheduler:this.view.resourceController.scheduler,get featureStore(){return t()},hasZ:this.hasZ,hasM:this.hasM},priority:_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_20__.TaskPriority.FEATURE_QUERY_ENGINE}),this.notifyChange("updating")}destroy(){this._destroyPendingController(),this.controller=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.controller),this._set("processor",(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.processor)),this.queryEngine=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this.queryEngine),this.loadedGraphics=null}_destroyPendingController(){this._pendingController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.destroyMaybe)(this._pendingController)}get legendEnabled(){return this.canResume()&&this.processor?.legendEnabled}get graphics3DProcessor(){return"graphics-3d"===this.processor?.type?this.processor:null}get heatmapProcessor(){return"heatmap"===this.processor?.type?this.processor:null}get symbologySnappingSupported(){const e=this.layer?.renderer?.getSymbols();return e?.some(_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_12__.symbolHasExtrudeSymbolLayer)??!1}getHit(e){let r;return this.loadedGraphics?.forEach((t=>{t.uid===e&&(r=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_9__.hydrateGraphic)(t,this.layer))})),r?{type:"graphic",graphic:r,layer:r.layer}:null}whenGraphicBounds(e,r){return this.processor?.whenGraphicBounds(e,r)}computeAttachmentOrigin(e,r){return this.processor?.computeAttachmentOrigin(e,r)}async elevationAlignPointsInFeatures(e,t){const s=this.graphics3DProcessor;if(null==s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurelayerview3d:missing-processor","A Graphics3D processor is needed to resolve graphics elevation.");return (0,_graphics_elevationAlignPointsInFeatures_js__WEBPACK_IMPORTED_MODULE_13__.elevationAlignPointsInFeatures)(this.view,this.layer,(e=>s.getGraphics3DGraphicByObjectId(e)),e,t)}async queryForSymbologySnapping(e,r){return this.symbologySnappingSupported?(0,_graphics_queryForSymbologySnapping_js__WEBPACK_IMPORTED_MODULE_16__.queryForSymbologySnapping)(this.graphics3DProcessor,e,r):{candidates:[],sourceCandidateIndices:[]}}queryFeatures(e,r){return this.queryEngine.executeQuery(this._ensureQuery(e),r?.signal)}queryObjectIds(e,r){return this.queryEngine.executeQueryForIds(this._ensureQuery(e),r?.signal)}queryFeatureCount(e,r){return this.queryEngine.executeQueryForCount(this._ensureQuery(e),r?.signal)}queryExtent(e,r){return this.queryEngine.executeQueryForExtent(this._ensureQuery(e),r?.signal)}_ensureQuery(e){return null==e?this.createQuery():_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_11__["default"].from(e)}highlight(e){return this.processor.highlight(e,this.layer.objectIdField)}maskOccludee(e){return this.processor.maskOccludee(e)}canResume(){return super.canResume()&&!this.processor?.scaleVisibilitySuspended}getSuspendInfo(){const e=super.getSuspendInfo();return this.processor?{...e,...this.processor.suspendInfo}:e}isUpdating(){return!(!this.processor||this.processor.destroyed)&&!(this._controllerCreated&&!this.controller?.updating&&this.view?.basemapTerrain?.ready&&!this.processor.updating)}async _initializeController(){const e=this.createController();this._pendingController=e,await e.when(),this._setControllerWhenInitialized(e)}async _setControllerWhenInitialized(e){try{await this.when()}catch(r){}this._controllerCreated=!0,this.notifyChange("updating"),this.isResolved()&&!this.destroyed?(await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view?.basemapTerrain?.ready)),this.beforeSetController(e),this._pendingController=null,this.controller=e,this.loadedGraphics=e.graphics,this.notifyChange("updating")):this._destroyPendingController()}_updateClippingExtent(e){if(this.clippingExtent=e,!this.controller)return!1;switch(this.controller.type){case"stream":return!1;case"feature-tile-3d":return this.controller.extent=e,!0}}async _validateGeometryType(){switch(this.layer.geometryType){case"multipatch":case"multipoint":throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("featurelayerview3d:unsupported-geometry-type","Unsupported geometry type ${geometryType}",{geometryType:this.layer.geometryType})}}_recreateProcessor(e){const r="heatmap"===e?.type,t="heatmap"===this.processor?.type,s=this.processor;if(s&&r===t)return;const o=r?new _support_HeatmapFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_17__.HeatmapFeatureProcessor({owner:this}):new _graphics_Graphics3DFeatureProcessor_js__WEBPACK_IMPORTED_MODULE_14__.Graphics3DFeatureProcessor({owner:this,frustumVisibilityEnabled:!0,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!0,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!0,preferredUpdatePolicy:this.updatePolicy,updateClippingExtent:e=>this._updateClippingExtent(e)});this._set("processor",o),s?.destroy(),this.queryEngine?.clear(),this.addResolvingPromise(o.initializePromise)}_getResourceInfo(){const e=this.controller instanceof _layers_graphics_controllers_FeatureTileController3D_js__WEBPACK_IMPORTED_MODULE_10__.FeatureTileController3D?this.controller:null;return{displayedNumberOfFeatures:this.loadedGraphics?.length,maximumNumberOfFeatures:e?.maximumNumberOfFeatures??-1,totalNumberOfFeatures:e?.serviceDataCount??-1,nodes:0,...this.processor.performanceInfo}}get performanceInfo(){return this._getResourceInfo()}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"loadedGraphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],v.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"controller",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"processor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],v.prototype,"updatePolicy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],v.prototype,"suspendResumeExtentMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean})],v.prototype,"slicePlaneEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],v.prototype,"suspendInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"graphics3DProcessor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"heatmapProcessor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],v.prototype,"symbologySnappingSupported",null),v=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.FeatureLikeLayerView3D")],v),v};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerView3D: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/heightModelInfoUtils.js */ "./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.supportsHeightModelInfo)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.addHandles((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__.makeHandle)((()=>e.abort()))),await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(o);const i=(0,_geometry_support_heightModelInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__.rejectLayerError)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e?.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,"slicePlaneEnabled",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.layers.LayerView3D")],c),c};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DFeatureProcessor: () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _arcade_functions_hash_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../arcade/functions/hash.js */ "./node_modules/@arcgis/core/arcade/functions/hash.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _renderers_support_randomRotationExpression_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../renderers/support/randomRotationExpression.js */ "./node_modules/@arcgis/core/renderers/support/randomRotationExpression.js");
/* harmony import */ var _renderers_support_renderingInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../renderers/support/renderingInfoUtils.js */ "./node_modules/@arcgis/core/renderers/support/renderingInfoUtils.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js");
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./constants.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/constants.js");
/* harmony import */ var _DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./DisplayFeatureLimit.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js");
/* harmony import */ var _Graphics3DCore_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Graphics3DCore.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js");
/* harmony import */ var _Graphics3DElevationAlignment_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Graphics3DElevationAlignment.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js");
/* harmony import */ var _Graphics3DFrustumVisibility_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Graphics3DFrustumVisibility.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js");
/* harmony import */ var _Graphics3DObjectStates_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./Graphics3DObjectStates.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js");
/* harmony import */ var _Graphics3DScaleVisibility_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./Graphics3DScaleVisibility.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../support/attributeUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js");
/* harmony import */ var _support_FeatureVisibilityFilter_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../support/FeatureVisibilityFilter.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let P=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_3__["default"]{constructor(e){super(e),this.type="graphics-3d",this._randomRotationRenderers=null,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_14__.UpdatingHandles,this.elevationFeatureExpressionEnabled=!1,this.scaleVisibilityEnabled=!1,this.filterVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this.elevationAlignmentEnabled=!1,this.timeExtentEnabled=!1,this.setUidToIdOnAdd=!0,this.dataExtent=null,this.drapeSourceType=_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.DrapeSourceType.Features,this.preferredUpdatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_31__.UpdatePolicy.ASYNC,this._suspendResumeExtent=null}initialize(){const e=this.owner,t=(this.filterVisibilityEnabled||this.timeExtentEnabled)&&"multipatch"!==e.layer.geometryType,i=new _Graphics3DCore_js__WEBPACK_IMPORTED_MODULE_22__.Graphics3DCore({owner:this,layer:this.layer,preferredUpdatePolicy:this.preferredUpdatePolicy,elevationFeatureExpressionEnabled:this.elevationFeatureExpressionEnabled,graphicSymbolSupported:!1,hasZ:e.hasZ,hasM:e.hasM,setUidToIdOnAdd:this.setUidToIdOnAdd,componentFactories:{deconflictor:t=>e.view.deconflictor.addGraphicsOwner(t),labeler:(t,i)=>e.view.labeler.addGraphicsOwner(t,i),elevationAlignment:this.elevationAlignmentEnabled?(t,i)=>new _Graphics3DElevationAlignment_js__WEBPACK_IMPORTED_MODULE_23__.Graphics3DElevationAlignment({graphicsCoreOwner:this,graphicsCore:t,queryGraphicUIDsInExtent:i,elevationProvider:e.view.elevationProvider}):null,scaleVisibility:this.scaleVisibilityEnabled?(t,i)=>new _Graphics3DScaleVisibility_js__WEBPACK_IMPORTED_MODULE_26__.Graphics3DScaleVisibility({graphicsCoreOwner:this,layer:this.layer,queryGraphicUIDsInExtent:i,graphicsCore:t,basemapTerrain:e.view.basemapTerrain}):null,filterVisibility:t?t=>new _support_FeatureVisibilityFilter_js__WEBPACK_IMPORTED_MODULE_29__.FeatureVisibilityFilter({context:{layerView:e,...t}}):null,objectStates:e=>new _Graphics3DObjectStates_js__WEBPACK_IMPORTED_MODULE_25__.Graphics3DObjectStates(e)}});this._set("graphicsCore",i),this.frustumVisibilityEnabled&&this._set("frustumVisibility",new _Graphics3DFrustumVisibility_js__WEBPACK_IMPORTED_MODULE_24__.Graphics3DFrustumVisibility({graphicsCoreOwner:this})),this.elevationAlignment&&this._updatingHandles.add((()=>this.layer.elevationInfo),((e,t)=>{(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_13__.diff)(e,t)&&this._updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})),this._updatingHandles.add((()=>this.layer.labelsVisible),(()=>this.graphicsCore.updateVisibilityInfo())),this._updatingHandles.add((()=>this.layer.labelingInfo),((e,t)=>{(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_13__.diff)(e,t)&&this.graphicsCore.updateLabelingInfo()})),this._updatingHandles.add((()=>this.preferredUpdatePolicy),(e=>this.graphicsCore.preferredUpdatePolicy=e)),this._set("initializePromise",this._initializeAsync()),this._updatingHandles.addPromise(this.initializePromise)}async _initializeAsync(){await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.logOnError)(this.graphicsCore.initializePromise);const e=this.owner;this._updatingHandles.add((()=>this.renderer),(e=>this._updatingHandles.addPromise(this.graphicsCore.rendererChange(e)))),this._updatingHandles.add((()=>e.fullOpacity),(()=>this.graphicsCore.opacityChange())),this._setupSuspendResumeExtent(),this.updateClippingExtent&&(this._updatingHandles.add((()=>e.view.clippingArea),(()=>this._updateClippingExtent())),this._updateClippingExtent()),this.graphicsCore.startCreateGraphics(),this.graphicsCore.labelsEnabled&&await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_7__.logOnError)(this.graphicsCore.updateLabelingInfo())}destroy(){this._updatingHandles.destroy(),this._set("frustumVisibility",(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this.frustumVisibility)),this._set("graphicsCore",(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this.graphicsCore)),this._set("owner",null)}get layer(){return this.owner.layer}get renderer(){const{renderer:e,objectIdField:t}=this.layer;if(!e||!t||"heatmap"===e.type||!e.visualVariables)return e;const i=e.visualVariables.findIndex((e=>"rotation"===e.type&&null!=e.valueExpression&&(0,_renderers_support_randomRotationExpression_js__WEBPACK_IMPORTED_MODULE_16__.matchRandomRotationExpression)(e.valueExpression)===t&&(null==e.axis||"heading"===e.axis)&&"geographic"===e.rotationType));if(i<0)return e;const s=e.clone();return s.visualVariables.splice(i,1),this._randomRotationRenderers||(this._randomRotationRenderers=new WeakMap),this._randomRotationRenderers.set(s,t),s}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get filterVisibility(){return this.graphicsCore?.filterVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get objectStates(){return this.graphicsCore?.objectStates}get suspendResumeExtentMode(){return"suspendResumeExtentMode"in this.owner?this.owner.suspendResumeExtentMode:"computed"}get scaleVisibilitySuspended(){return null!=this.scaleVisibility&&this.scaleVisibility.suspended}get suspended(){return this.owner.suspended}get legendEnabled(){return null==this.frustumVisibility||!this.frustumVisibility.suspended}get suspendInfo(){const e={};return this.scaleVisibilitySuspended&&(e.outsideScaleRange=!0),null!=this.frustumVisibility&&this.frustumVisibility.suspended&&(e.outsideOfView=!0),e}get updating(){return!!(this.graphicsCore?.updating||this.frustumVisibility?.updating||this._updatingHandles.updating)}get updatingRemaining(){return this.graphicsCore?.updatingRemaining??0}get featureStore(){return this.graphicsCore?.featureStore}get view(){return this.owner.view}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner?.fullOpacity}get filter(){return"filter"in this.owner?this.owner.filter:null}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}get featureSpatialReference(){return"featureSpatialReference"in this.owner?this.owner.featureSpatialReference:this.owner.view.spatialReference}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get symbolUpdateType(){return this.graphicsCore?.symbolUpdateType}get displayFeatureLimit(){const e=this.view.quality,t=this.graphicsCore?.displayFeatureLimit;if(1===e)return t;const i=Math.ceil(t.maximumNumberOfFeatures*e);return new _DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_21__.DisplayFeatureLimit(t.maximumTotalNumberOfVertices,i,t.averageSymbolComplexity)}get usedMemory(){return this.graphicsCore?.usedMemory??0}get loadedFeatures(){return this.graphicsCore?.numberOfGraphics??0}get usedMemoryPerFeature(){return this.graphicsCore?.usedMemoryPerGraphic??0}get unprocessedMemoryEstimate(){return this.graphicsCore?.unprocessedMemoryEstimate??0}get performanceInfo(){return{core:this.graphicsCore.performanceInfo,elevationUpdating:this.elevationAlignment.updating,visibilityFrustum:null==this.frustumVisibility||!this.frustumVisibility.suspended,visibilityScale:!this.scaleVisibilitySuspended}}maskOccludee(e){const{set:t,handle:i}=this.objectStates.acquireSet(_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__.Object3DState.MaskOccludee,null);return this.objectStates.setUid(t,e.uid),i}highlight(e,i){if(e instanceof _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_18__["default"]){const{set:t,handle:s}=this.objectStates.acquireSet(_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__.Object3DState.Highlight,i);return this.owner.queryObjectIds(e).then((e=>this.objectStates.setObjectIds(t,e))),s}if("number"==typeof e||"string"==typeof e)return this.highlight([e],i);if(e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"])return this.highlight([e],i);if("toArray"in e&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]){const t=e;if(null==(0,_support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_28__.attributeLookup)(this.layer.fieldsIndex,t[0].attributes,i)){const e=t.map((e=>e.uid)),{set:i,handle:s}=this.objectStates.acquireSet(_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__.Object3DState.Highlight,null);return this.objectStates.setUids(i,e),s}e=t.map((e=>(0,_support_attributeUtils_js__WEBPACK_IMPORTED_MODULE_28__.attributeLookup)(this.layer.fieldsIndex,e.attributes,i)))}if(Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0])){const t=e,{set:s,handle:r}=this.objectStates.acquireSet(_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__.Object3DState.Highlight,i);return this.objectStates.setObjectIds(s,t),r}}return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__.makeHandle)()}resetObjectStates(){this.objectStates.reset()}whenGraphicBounds(e,t){return this.graphicsCore?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphicsCore?.computeAttachmentOrigin(e,t)}notifyGraphicGeometryChanged(e){this.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphicsCore.notifyGraphicVisibilityChanged(e)}getRenderingInfo(e,t,s){const r=(0,_renderers_support_renderingInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__.getRenderingInfo)(e,{renderer:t,arcade:s});if(r?.color){const e=r.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}if(null!=r&&null!=t&&this._randomRotationRenderers?.has(t)){const s=this._randomRotationRenderers.get(t),n=e.attributes[s],a=new _arcade_functions_hash_js__WEBPACK_IMPORTED_MODULE_2__.XXH(0);a.updateFloatArray([n]),a.updateUint8Array([173]),r.heading=8.381e-8*a.digest()}return r}getRenderingInfoAsync(e,t,i,s){return (0,_renderers_support_renderingInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__.getRenderingInfoAsync)(e,{renderer:t,arcade:i,...s})}getSymbolLayerSize(e,t){return this.graphicsCore?.getSymbolLayerSize(e,t)}setObjectIdVisibility(e,t){this.graphicsCore?.setObjectIdVisibility(e,t)}refreshFilter(){null!=this.filterVisibility&&this.filterVisibility.reapply()}getGraphics3DGraphicByObjectId(e){return this.graphicsCore?.getGraphics3DGraphicByObjectId(e)}_updateClippingExtent(){const e=this.owner.view.clippingArea;this.graphicsCore.setClippingExtent(e,this.owner.view.spatialReference)&&(this.updateClippingExtent(e)||this.graphicsCore.recreateAllGraphics())}_setupSuspendResumeExtent(){(this.frustumVisibility||this.scaleVisibility)&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.suspendResumeExtentMode),(()=>{switch(this.removeHandles(F),this.suspendResumeExtentMode){case"computed":this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.graphicsCore.computedExtent),(e=>this._updateSuspendResumeExtent(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.graphicsCore.computedExtent)))],F);break;case"data":this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.when)((()=>this.dataExtent),(e=>this._updateSuspendResumeExtent(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.watch)((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.dataExtent)))],F);break;default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_4__.neverReached)(this.suspendResumeExtentMode)}}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_8__.initial))}_updateSuspendResumeExtent(e){e?this._suspendResumeExtentChanged(this._extentToSuspendResumeRect(e,this._suspendResumeExtent)):this._suspendResumeExtentChanged(null)}_extentToSuspendResumeRect(e,t){const i=this.owner.view.spatialReference;if(!e.spatialReference.equals(i)){if(!(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__.canProject)(e,i))return;e=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__.project)(e,i)}return (0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_27__.enlargeExtent)(e,t,_constants_js__WEBPACK_IMPORTED_MODULE_20__.suspendResumeExtentOptimism,this.graphicsCore.extentPadding)}_suspendResumeExtentChanged(e){null!=this.frustumVisibility&&this.frustumVisibility.setExtent(e),null!=this.scaleVisibility&&this.scaleVisibility.setExtent(e)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"owner",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"updateClippingExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"elevationFeatureExpressionEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"graphicsCore",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"scaleVisibilityEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"filterVisibilityEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"frustumVisibilityEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"elevationAlignmentEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"timeExtentEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"setUidToIdOnAdd",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"scaleVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"filterVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"elevationAlignment",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({constructOnly:!0})],P.prototype,"frustumVisibility",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"objectStates",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"initializePromise",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"suspendResumeExtentMode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"dataExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"scaleVisibilitySuspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"updatingRemaining",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"featureStore",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"loadedGraphics",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"filter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"slicePlaneEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"drapeSourceType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"updatePolicy",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)()],P.prototype,"preferredUpdatePolicy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__.property)({readOnly:!0})],P.prototype,"displayFeatureLimit",null),P=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.views.3d.layers.graphics.Graphics3DFeatureProcessor")],P);const F="suspendResumeExtentMode";


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QueryEngine: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../layers/graphics/data/QueryEngine.js */ "./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../rest/support/FeatureSet.js */ "./node_modules/@arcgis/core/rest/support/FeatureSet.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const c=_layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_9__.QueryEngine;let l=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_2__["default"]{get layer(){return this.context.layer}get spatialReference(){return this.context.spatialReference}get _queryGeometryType(){switch(this.layer.geometryType){case"multipoint":case"point":case"polygon":case"polyline":return this.layer.geometryType;case"mesh":return"polygon";default:return}}get defaultQueryJSON(){return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_12__["default"]({outSpatialReference:this.spatialReference}).toJSON()}get _dataQueryEngine(){return this._ensureDataQueryEngine()}constructor(e){super(e),this._dataQueryEngineInstance=null}destroy(){this.clear()}clear(){return!!this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null,!0)}async executeQueryForIdSet(e,t,r){return this._dataQueryEngine.executeQueryForIdSet(this._ensureQueryJSON(e,t),r)}async executeQueryForCount(e,t){return this._dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),t)}async executeQueryForExtent(e,t){const{count:r,extent:s}=await this._dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),t);return{count:r,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_8__["default"].fromJSON(s)}}async executeQueryForIds(e,t){return this._dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),t)}async executeQueryForLatestObservations(e,t){const r=await this._dataQueryEngine.executeQueryForLatestObservations(this._ensureQueryJSON(e),t),s=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(r);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}async executeQuery(e,t){const r=await this._dataQueryEngine.executeQuery(this._ensureQueryJSON(e),t),s=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_11__["default"].fromJSON(r);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}_ensureQueryJSON(e,t){let r=this.defaultQueryJSON;if(null!=e&&("outSpatialReference"in e&&!e.outSpatialReference&&(e.outSpatialReference=this.spatialReference),r=e.toJSON()),null!=t){const e=t.geometries.map((e=>e.toJSON())).reduce(((e,t)=>(e.rings=e.rings.concat(t.rings),e)));r={...r,sceneFilter:{...t,geometry:e}}}return r}_ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e="timeInfo"in this.layer&&this.layer.timeInfo?.toJSON()||null,t=this.layer.objectIdField,r=_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_13__.featureGeometryTypeKebabDictionary.toJSON(this._queryGeometryType),s=this.layer.fieldsIndex?.toJSON()||new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_10__["default"]([]),n=this.priority,a=this.spatialReference.toJSON(),{hasZ:u,hasM:i,featureStore:l,scheduler:p}=this.context;return this._dataQueryEngineInstance=new c({hasZ:u,hasM:i,geometryType:r,fieldsIndex:s,timeInfo:e,spatialReference:a,objectIdField:t,featureStore:l,scheduler:p,priority:n}),this._dataQueryEngineInstance}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],l.prototype,"context",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],l.prototype,"priority",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"spatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"_queryGeometryType",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],l.prototype,"defaultQueryJSON",null),l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.layers.graphics.QueryEngine")],l);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   elevationAlignPointsInFeatures: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _geometry_projection_projectPointToVectorWithEngine_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/projection/projectPointToVectorWithEngine.js */ "./node_modules/@arcgis/core/geometry/projection/projectPointToVectorWithEngine.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ "./node_modules/@arcgis/core/support/elevationInfoUtils.js");
/* harmony import */ var _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _ElevationContext_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ElevationContext.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js");
/* harmony import */ var _featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./featureExpressionInfoUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function c(t,i,s,c,u){const{elevationProvider:g,renderCoordsHelper:v}=t,{elevationInfo:y}=i,{pointsInFeatures:I,spatialReference:h}=c,x=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_8__["default"].fromJSON(h),w=(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_7__.extractExpressionInfo)(y,!0),E=await (0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_7__.createContext)(w,x,u);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(u);const R=[],S=new Set,z=new Set;l.spatialReference=x;const P=t.elevationProvider.spatialReference??t.spatialReference;for(const{objectId:e,points:a}of I){const t=s(e);if(null==t){for(const e of a)R.push(e.z??0);S.add(e);continue}t.isDraped&&z.add(e);const p=t.graphic.geometry;m.setFromElevationInfo((0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_4__.getGeometryEffectiveElevationInfo)(p,y)),m.updateFeatureExpressionInfoContext(E,t.graphic,i);for(const{x:e,y:r,z:i}of a)l.x=e,l.y=r,l.z=i??0,await (0,_geometry_projection_projectPointToVectorWithEngine_js__WEBPACK_IMPORTED_MODULE_2__.projectPointToVectorWithEngine)(l,j,P,0,{signal:u}),(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_5__.evaluateElevationInfoAtPoint)(j,g,m,v,d),R.push(d.z)}return{elevations:R,drapedObjectIds:z,failedObjectIds:S}}const m=new _ElevationContext_js__WEBPACK_IMPORTED_MODULE_6__.ElevationContext,l=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_3__.makeDehydratedPoint)(0,0,0,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_8__["default"].WGS84),d=new _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_5__.SampleElevationInfo,j=[0,0,0];


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   queryForSymbologySnapping: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function r(r,a,s){if(null==r||0===a.candidates.length)return t;const i=r.graphics3DGraphicsByObjectID??r.graphics3DGraphics,c=[],o=[],{renderer:d}=r,p=null!=d&&"arcadeRequired"in d&&d.arcadeRequired?(0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_1__.loadArcade)():null,l=async(n,{graphic:e,graphics3DSymbol:t})=>{const a=await p,i=await r.getRenderingInfoAsync(e,d,a,{signal:s});return null==i?[]:t.queryForSnapping(n,g,i,s)},{candidates:u,spatialReference:g}=a;for(let n=0;n<u.length;++n){const e=u[n],{objectId:r}=e,t="number"==typeof r?i?.get(r):void 0;if(null==t)continue;const{graphics3DSymbol:a}=t;a.symbologySnappingSupported&&(c.push(l(e,t)),o.push(n))}if(0===c.length)return t;const h=await Promise.all(c);(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.throwIfAborted)(s);const f=[],m=[];for(let n=0;n<h.length;++n){const e=h[n],r=o[n];for(const n of e)f.push(n),m.push(r)}return{candidates:f,sourceCandidateIndices:m}}const t={candidates:[],sourceCandidateIndices:[]};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTile: () => (/* binding */ l),
/* harmony export */   FetchStatus: () => (/* binding */ E),
/* harmony export */   failedFeatureCount: () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const _=16438,d=new Set;class l{get displayingFeatures(){return this._displayingFeatures}set displayingFeatures(t){this._displayingFeatures=t,this.extentIncludingBorrowedFeatures=null}get perTileMaximumNumberOfFeaturesExceeded(){return!this.filtered&&(this.featuresMissing||this.features&&this.featureLimit!==this.features.length)}get features(){return this._features}get featureLimit(){return this._featureLimit}set featureLimit(t){this._featureLimit!==t&&(this._featureLimit=t,this._estimatedUnusedSizeDirty=!0)}get availableFields(){return this._availableFields}setFeatures(t,e,s){this._availableFields=s??d,this._features=t,this._shuffled=!1,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,t&&t.length>0?(this._emptyFeatureRatio=e/(t.length+e),this._numVertices=t.reduce(((t,e)=>t+(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__.numVertices)(e.geometry)),0)):(this._emptyFeatureRatio=0,this._numVertices=0)}get emptyFeatureRatio(){return this._emptyFeatureRatio}get numFeatures(){return this.hasPreciseFeatureCount?this._numFeatures:this._features?this._features.length:0}set numFeatures(t){this._numFeatures=t}get hasPreciseFeatureCount(){return this._numFeatures>m}get needsFeatureCount(){return this._numFeatures===m}get numVertices(){return this._numVertices}constructor(t){this.descriptor=t,this.fetchStatus=E.FETCH_NEEDED,this._features=null,this._numVertices=0,this._featureLimit=0,this.featuresMissing=!0,this._shuffled=!1,this._numFeatures=m,this._emptyFeatureRatio=0,this._estimatedSize=-1,this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._availableFields=d,this._displayingFeatures=null,this.alive=!0,this.filtered=!1}get id(){return this.descriptor.id}get estimatedSize(){return this.updateMemoryEstimates(),this._estimatedSize}get estimatedUnusedSize(){return this._estimatedUnusedSize}updateMemoryEstimates(){if(this._estimatedSize<0){if(this._estimatedSize=0,this._estimatedUnusedSize=0,this._features)for(let t=0;t<this._features.length;++t){const e=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__.estimateSize)(this._features[t]);this._estimatedSize+=e,t>=this.featureLimit&&(this._estimatedUnusedSize+=e)}return!0}if(this._estimatedUnusedSizeDirty){if(this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._features)for(let t=this.featureLimit;t<this._features.length;++t)this._estimatedUnusedSize+=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__.estimateSize)(this._features[t]);return!0}return!1}get isFetching(){return this.fetchStatus===E.FETCHING||this.fetchStatus===E.REFETCHING}get isRefetching(){return this.fetchStatus===E.REFETCHING}get needsFetching(){return this.fetchStatus===E.FETCH_NEEDED||this.fetchStatus===E.REFETCH_NEEDED}get needsRefetching(){return this.fetchStatus===E.REFETCH_NEEDED}get isFetched(){return this.fetchStatus===E.DONE||this.fetchStatus===E.FULL}resetFetching(){this.fetchStatus=this.fetchStatus===E.REFETCHING?E.REFETCH_NEEDED:E.FETCH_NEEDED}get needsDisplayUpdate(){return!!this._features&&!c(this._features,this.displayingFeatures,this.featureLimit)}intersects(t){return null==t||!this.descriptor.extent||((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.fromExtent)(t,g),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.intersects)(this.descriptor.extent,g))}intersectionIncludingBorrowed(t,e){const i=null!=this.extentIncludingBorrowedFeatures?this.extentIncludingBorrowedFeatures:this.descriptor.extent;return t||i?(null!=t?((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.fromExtent)(t,e),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.intersection)(e,i,e)):(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.copy)(e,i),e):((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.copy)(e,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.positiveInfinity),e)}_shuffle(e){this._features.sort(((t,s)=>(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__.getObjectId)(t,e)-(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__.getObjectId)(s,e))),(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.shuffle)(this._features,_),this._shuffled=!0,this._estimatedUnusedSizeDirty=!0}reduceFeatures(t,e,s){if(t<=0)return!1;if(!this._features)return this.featureLimit=0,!1;let i=!1;this.featureLimit=Math.ceil(this.numFeatures*t),this.featureLimit>this._features.length&&(this.featureLimit=this._features.length,this.fetchStatus===E.DONE&&this._features.length>0&&(this.fetchStatus=E.REFETCH_NEEDED,i=!0)),!this._shuffled&&t<1&&this._shuffle(s);const r=Math.max(this.featureLimit,Math.ceil(e*this.numFeatures));return this._features.length>r&&(this._features.length=r,this.featuresMissing=!0,this.fetchStatus===E.FULL&&(this.fetchStatus=E.DONE)),i}get cache(){return{availableFields:this._availableFields,features:this._features,numFeatures:this._numFeatures,emptyFeatureRatio:this._emptyFeatureRatio,fetchStatus:this.fetchStatus,featuresMissing:this.featuresMissing}}set cache(t){this.requestController=null,this._availableFields=t.availableFields,this._features=t.features,this._numFeatures=t.numFeatures,this._emptyFeatureRatio=t.emptyFeatureRatio,this.fetchStatus=t.fetchStatus,this.featuresMissing=t.featuresMissing,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0}}const m=-1,F=-2;var E;function c(t,e,s){if(null==e||null==t||s!==e.length||s>t.length)return!1;for(let i=0;i<s;++i)if(t[i]!==e[i])return!1;return!0}!function(t){t[t.FETCH_NEEDED=0]="FETCH_NEEDED",t[t.REFETCH_NEEDED=1]="REFETCH_NEEDED",t[t.FETCHING=2]="FETCHING",t[t.REFETCHING=3]="REFETCHING",t[t.DONE=4]="DONE",t[t.FULL=5]="FULL"}(E||(E={}));const g=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTileFetcher3D: () => (/* binding */ j),
/* harmony export */   contextCapabilitiesFromLayer: () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/scheduling.js */ "./node_modules/@arcgis/core/core/scheduling.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/* harmony import */ var _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../rest/support/QuantizationParameters.js */ "./node_modules/@arcgis/core/rest/support/QuantizationParameters.js");
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../rest/support/Query.js */ "./node_modules/@arcgis/core/rest/support/Query.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _featureReference_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./featureReference.js */ "./node_modules/@arcgis/core/views/3d/layers/support/featureReference.js");
/* harmony import */ var _FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FeatureTile.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js");
/* harmony import */ var _terrain_tileUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../terrain/tileUtils.js */ "./node_modules/@arcgis/core/views/3d/terrain/tileUtils.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const w="esri.views.3d.layers.support.FeatureTileFetcher3D",D=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger(w);let j=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{set maximumNumberOfFeatures(e){e=e||1/0;const t=this._get("maximumNumberOfFeatures");e===t||e<1||(this._set("maximumNumberOfFeatures",e),this._maximumFeaturesUpdated(t,e))}set memoryFactor(e){this.memoryFactor!==e&&(this._set("memoryFactor",e),this._setDirty())}set lodFactor(e){this.lodFactor!==e&&(this._set("lodFactor",e),this._supportsResolution&&this.refetch())}get useTileCount(){return this._useTileCount&&null!=this.context.query.queryFeatureCount}set useTileCount(e){this._useTileCount=e,this.notifyChange("useTileCount")}get memoryForUnusedFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.estimatedUnusedSize)),e}get totalVertices(){let e=0;return this._featureTiles.forEach((t=>e+=t.numVertices)),e}get totalFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.numFeatures)),e}set filterExtent(e){if(null!=e&&this.context.tilingScheme&&!e.spatialReference.equals(this.context.tilingScheme.spatialReference))return void D.error("#filterExtent=","extent needs to be in the same spatial reference as the tiling scheme");const t=this._get("filterExtent");if(t===e||null!=t&&e&&t.equals(e))return;const s=null!=e?e.clone():null;this._set("filterExtent",s),this._reclip(s,t)}constructor(e){super(e),this._useTileCount=!1,this.updating=!1,this.running=!1,this.updatingTotal=0,this.updatingRemaining=0,this.expectedFeatureDiff=0,this.maximumNumberOfFeaturesExceeded=!1,this._fullRatio=1,this._farRatio=1,this._changes={updates:{adds:new Array,removes:new Array},adds:new Array,removes:new Array},this._frameTask=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_20__.ImmediateTask,this._dirty=!1,this._featureTiles=new Map,this._displayingFeatureReferences=new Map,this._numDisplayingFeatureReferences=0,this._suspended=!0,this._pendingEdits=null}initialize(){this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.on)((()=>this.tileDescriptors),"change",(()=>this._setDirty()),{onListenerAdd:()=>this._setDirty()})),this._objectIdField=this.context.objectIdField,this.FeatureReferenceClass=this.context.capabilities.supportsMultipleResolutions?_featureReference_js__WEBPACK_IMPORTED_MODULE_17__.MultiFeatureReference:_featureReference_js__WEBPACK_IMPORTED_MODULE_17__.SingleFeatureReference;const e=this.context.scheduler;null!=e&&(this._frameTask=e.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_20__.TaskPriority.FEATURE_TILE_FETCHER,this)),this._setDirty()}destroy(){this._frameTask.remove(),this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._removeTile(e)})),this._featureTiles.clear(),this._displayingFeatureReferences.clear(),this._pendingEdits?.controller.abort(),this._pendingEdits=null}get _paused(){return this._suspended||!!this._pendingEdits}restart(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._clearTile(e),this._resetFetchTile(e)})),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._setDirty()}refetch(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._resetFetchTile(e)})),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._setDirty()}suspend(){this._suspended||(this._suspended=!0,this._pause(),this._setDirty())}resume(){this._suspended&&(this._suspended=!1,this._unpause())}_pause(){this._paused&&(this._featureTiles.forEach((e=>this._cancelFetchTile(e))),this._updated())}_unpause(){this._paused||(this._setDirty(),this._updated())}get availableFields(){let e=null;return this._featureTiles.forEach((t=>{null!=t.displayingFeatures&&0!==t.displayingFeatures.length&&(null==e?e=new Set(t.availableFields):e.forEach((s=>{t.availableFields.has(s)||e.delete(s)})))})),null!=e?e:new Set}applyEdits(e){this._pendingEdits||(this._pendingEdits={edits:Promise.resolve(),count:0,controller:new AbortController},this._pause());const t=this._pendingEdits;t.count++;const s=t.edits.then((()=>e.result.catch((e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(e))throw e;return null})).then((e=>e?(this._applyEditsDeleteFeatures(e.deletedFeatures),this._applyEditsAddUpdateFeatures(e.addedFeatures,e.updatedFeatures,t.controller.signal).then((()=>e))):e)).then((e=>(0==--t.count&&(this._pendingEdits===t&&(this._pendingEdits=null),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._unpause(),this._updated()),e)))));return t.edits=s,this._updated(),s}_applyEditsDeleteFeatures(e){if(0===e.length)return;const t=this.context.globalIdField,s=t&&this.availableFields.has(t),i=new Set,r=this._objectIdField;e.forEach((({objectId:e,globalId:a})=>{(!e||e<0)&&t&&a&&(s||D.errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected in the view`),e=this._objectIdFromGlobalId(a,r,t)),null!=e&&e>=0&&i.add(e)})),this._featureTiles.forEach((e=>{if(!e.features)return;const t=e.features.filter((e=>!i.has((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(e,this._objectIdField))));t.length!==e.features.length&&(e.setFeatures(t,0,e.availableFields),this._invalidateCounts())}))}_objectIdFromGlobalId(e,t,s){if(null==e)return null;const i=this.features.find((t=>t.attributes?.[s]===e));return i?(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(i,t):null}async _applyEditsAddUpdateFeatures(e,t,s){const{objectIdField:i,globalIdField:r}=this.context,a=r&&this.availableFields.has(r),n=new Set,o=new Set;for(const l of e){const e=l.objectId;null!=e&&n.add(e)}for(const{objectId:l,globalId:h}of t){let e=l;(null==e||e<0)&&r&&(a||D.errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${r} to be included the layer's outFields for updates to be reflected in the view`),e=this._objectIdFromGlobalId(h,i,r)),null!=e&&e>=0&&(n.add(e),o.add(e))}if(0===n.size)return;const u=[];this._featureTiles.forEach((e=>{const t=this._applyEditsAddUpdateTile(e,n,o,s);t&&u.push(t)})),await Promise.allSettled(u)}async _applyEditsAddUpdateTile(e,t,s,i){if(!e.features)return;const r=this._createQuery(e);r.resultType=void 0,r.cacheHint=!1,r.objectIds=Array.from(t);const a=await this._queryFeatures(r,i);let n=null;if(s.size>0){const t=e.features.filter((e=>!s.has((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(e,this._objectIdField))));t.length!==e.features.length&&(n=t)}if(a.features.length>0){n||(n=e.features.slice());for(const e of a.features)n.push(e)}n&&(e.hasPreciseFeatureCount&&(e.numFeatures=Math.max(e.numFeatures,n.length)),e.setFeatures(n,0,q(e.availableFields,a.fields)),this._invalidateCounts())}_queryFeatures(e,t){return this.context.query.queryFeaturesDehydrated(e,{signal:t,timeout:Q})}_setDirty(){this._dirty=!0,this._updated()}runTask(e){if(this._frameTask.processQueue(e),!this._dirty||!this.initialized)return;this._dirty=!1;const t=this._getListOfTiles();if(this._markTilesNotAlive(t),!e.run((()=>this._addTiles(t,e)))||!e.run((()=>this._filterExtentTiles(t,e)))||!e.run((()=>this._removeTiles(t,e)))||e.done)return void this._setDirty();const s=this._sortTiles(t);e.run((()=>this._showTiles(s,e)))&&e.run((()=>this._fetchTiles(s,e)))&&e.run((()=>this._updateMemoryEstimates(s,e)))||this._setDirty(),this._updated(),this.updating||this._updateMaximumNumberOfFeaturesExceeded()}_markTilesNotAlive(e){for(const t of e)t.alive=!1}_addTiles(e,t){return!(this._suspended||!this.tileDescriptors)&&(this.tileDescriptors.forEach((s=>{const i=this._featureTiles.get(s.id);i?i.alive=!0:t.done||(e.push(this._addTile(s)),t.madeProgress())})),t.hasProgressed)}_filterExtentTiles(e,t){for(const s of e){if(t.done)break;s.alive&&(s.filtered=!s.intersects(this.filterExtent),s.filtered&&(this._clearTile(s),t.madeProgress()))}return t.hasProgressed}_removeTiles(e,t){for(let s=e.length-1;s>=0&&!t.done;s--){const i=e[s];i.alive||(this._removeTile(i),s!==e.length-1&&(e[s]=e[e.length-1]),e.pop(),t.madeProgress())}return t.hasProgressed}_sortTiles(e){return e.sort(((e,t)=>(e.descriptor.loadPriority??0)-(t.descriptor.loadPriority??0))),e}_showTiles(e,t){const s=this._updateRatio(e),i=e=>{const t=this._fullRatio<1?s(e)*this._farRatio:1;return e.reduceFeatures(t,this.memoryFactor,this._objectIdField)&&this._setDirty(),this._showTile(e)};for(const r of e)if(!t.run((()=>i(r)))){this._setDirty();break}return t.hasProgressed}_fetchTiles(e,t){if(this._paused)return!1;let s=!1;for(const i of e){if(!i.needsFetching)continue;const e=null!=this.context.memoryCache?this.context.memoryCache.pop(i.id):null;if(null==e){if(this._needsNumFeatures(i)){const e=new AbortController,r=this._fetchTileCount(i,e.signal);this._handleRequest(i,r,e,(()=>i.numFeatures=_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.failedFeatureCount)),s=!0,t.madeProgress()}if(t.done)return!0}else i.cache=e,this._setDirty(),this._scheduleUpdated(),t.madeProgress()}if(s)return t.hasProgressed;for(const i of e)if(i.needsFetching){const e=new AbortController,s=this._fetchTile(i,e.signal);if(this._handleRequest(i,s,e,(e=>{i.setFeatures([],0,null),this._invalidateCounts(),i.featuresMissing=!1,this.context.logFetchError(D,e)})),t.madeProgress())return!0}return t.hasProgressed}_updateMemoryEstimates(e,t){return e.some((e=>!t.run((()=>e.updateMemoryEstimates()))&&(this._setDirty(),!0))),t.hasProgressed}_reclip(e,t){if(!this.initialized)return;const s=new Array;this._featureTiles.forEach((i=>{null!=i.displayingFeatures&&0!==i.displayingFeatures.length&&(i.intersectionIncludingBorrowed(t,L),i.intersectionIncludingBorrowed(e,H),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.equals)(L,H)||s.push(i))})),this._refreshDisplayingFeatures(s),this._updated()}_refreshDisplayingFeatures(e){const t=new Set,s=this._changes.updates;for(const i of e)if(null!=i.displayingFeatures)for(const e of i.displayingFeatures){const i=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(e,this._objectIdField);if(t.has(i))continue;t.add(i);const r=this._displayingFeatureReferences.get(i).feature;s.removes.push(r),s.adds.push(r)}this._applyChanges()}_updated(){let e=0;this._paused||this._featureTiles.forEach((t=>t.isFetching?++e:0));const t=this._dirty||!!this._pendingEdits||e>0;if(this._set("running",this._dirty),this._set("updating",t),t){let t=0,s=0,i=0,r=0,a=0;const n=this._displayingFeatureReferences.size/this._numDisplayingFeatureReferences;this._featureTiles.forEach((e=>{if(++s,e.isFetching&&e.hasPreciseFeatureCount){const t=this._maximumFeaturesForTile(e)*(1-e.emptyFeatureRatio),s=null!=e.displayingFeatures?e.displayingFeatures.length*n:0;a+=t-s}e.needsFetching?++r:e.numFeatures>0&&(++i,t+=e.numFeatures)})),r+=e;let o=0,u=0;t?(u=t,o=Math.min(r*t/i,t)):(u=s,o=r),a=Math.min(this.maximumNumberOfFeatures-this.features.length,a),this._set("updatingTotal",u),this._set("updatingRemaining",o),this._set("expectedFeatureDiff",a)}else this._set("updatingTotal",0),this._set("updatingRemaining",0),this._set("expectedFeatureDiff",0);this.debugger&&this.debugger.update()}_updateMaximumNumberOfFeaturesExceeded(){const e=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._featureTiles,(e=>e.perTileMaximumNumberOfFeaturesExceeded));this._set("maximumNumberOfFeaturesExceeded",e)}_updateRatio(e){const t=P(e),s=e=>1/(1<<Math.max(0,t-e.descriptor.lij[0]));let i=0,r=0;for(const a of e){const e=a.numFeatures;i+=e,r+=e*s(a)}return this._fullRatio=Math.min(1,this.maximumNumberOfFeatures/i),this._farRatio=this.maximumNumberOfFeatures/r,this._scheduleUpdated(),s}_maximumFeaturesUpdated(e,t){e!==t&&(t>e&&this._featureTiles.forEach((e=>{if(!e.featuresMissing)return;const t=this._maximumFeaturesForTile(e);e.features&&(e.features.length>=t||e.fetchStatus===_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FULL)||(this._cancelFetchTile(e),this._resetFetchTile(e))})),this._setDirty())}_addTile(e){const t=new _FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FeatureTile(e);return this._featureTiles.set(t.id,t),this._resetFetchTile(t),this._referenceDisplayingFeaturesFromRelatedTiles(t),t}_referenceDisplayingFeaturesFromRelatedTiles(e){const t=e.descriptor.resolution;this._featureTiles.forEach((s=>{if(!(null==s.displayingFeatures||e===s||e.descriptor.lij&&s.descriptor.lij&&!(0,_terrain_tileUtils_js__WEBPACK_IMPORTED_MODULE_19__.tilesAreRelated)(e.descriptor.lij,s.descriptor.lij))){null==e.displayingFeatures&&(e.displayingFeatures=[]),e.descriptor.extent&&s.descriptor.extent&&(null==e.extentIncludingBorrowedFeatures&&(e.extentIncludingBorrowedFeatures=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.clone)(e.descriptor.extent)),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.expand)(e.extentIncludingBorrowedFeatures,s.descriptor.extent,e.extentIncludingBorrowedFeatures));for(const i of s.displayingFeatures){e.displayingFeatures.push(i);const s=this._displayingFeatureReferences.get((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(i,this._objectIdField));s.ref(s.feature,t),this._numDisplayingFeatureReferences++}}})),e.featureLimit=null!=e.displayingFeatures?e.displayingFeatures.length:0}_removeTile(e){this._clearTile(e),this._featureTiles.delete(e.id)}_resetFetchTile(e){e.filtered=!e.intersects(this.filterExtent),e.filtered?e.needsFetching&&(e.fetchStatus=_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.DONE):e.fetchStatus=_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FETCH_NEEDED}_cancelFetchTile(e){const t=e.requestController;null!=t&&(e.requestController=null,e.resetFetching(),t.abort())}async _fetchTileCount(e,t){return e.numFeatures=await this._fetchCount(e,t),this._updateRatio(this._getListOfTiles()),e.fetchStatus===_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.REFETCHING?_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.REFETCH_NEEDED:_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FETCH_NEEDED}async _fetchTile(e,t){const s=this._maximumFeaturesForTile(e);if(s<=0)return U(e);const i=this._getMaxRecordCount(e),r=Math.ceil(s/i);if(O(e)||!this.context.capabilities.supportsMaxRecordCountFactor||e.numFeatures<=s&&r>_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_15__["default"].MAX_MAX_RECORD_COUNT_FACTOR)return this._fetchPagedTile(e,t);const n=this._createQuery(e);if(n.maxRecordCountFactor=Math.ceil(s/i),e.isRefetching&&e.features&&e.features.length>0){const t=Math.ceil(e.features.length/(1-e.emptyFeatureRatio)/i);n.maxRecordCountFactor=Math.max(t+1,n.maxRecordCountFactor)}const{features:o,exceededTransferLimit:u,fields:l}=await this._queryFeatures(n,t),h=u?n.maxRecordCountFactor>=_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_15__["default"].MAX_MAX_RECORD_COUNT_FACTOR?_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FULL:_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.DONE:_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FULL;return await this._frameTask.schedule((()=>{e.featuresMissing=o.length<e.numFeatures||!!u;const t=this._removeEmptyFeatures(o);e.setFeatures(o,t,A(l))}),t),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t),this._invalidateCounts(),h}async _fetchCount(e,t){return this.context.query.queryFeatureCount(this._createFeatureCountQuery(e),{signal:t})}async _fetchPagedTile(e,t){let s,i=0,r=0,n=0,o=this._maximumFeaturesForTile(e)-n;const u=this._getMaxRecordCount(e);let l=null;for(;;){const h=this._createQuery(e),c=this._setPagingParameters(h,i,o,u),{features:d,exceededTransferLimit:p,fields:f}=await this._queryFeatures(h,t);if(await this._frameTask.schedule((()=>{c&&(i+=h.num),n+=d.length,r+=this._removeEmptyFeatures(d),e.featuresMissing=i<e.numFeatures||!!p,s=s?s.concat(d):d,l=q(l,f),e.setFeatures(s,r,l)}),t),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t),this._invalidateCounts(),this._setDirty(),o=this._maximumFeaturesForTile(e)-n,!c||!p||o<=0)return p?_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.DONE:_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FULL}}_createFeatureCountQuery(e){const t=this._createQuery(e);return this.context.capabilities.supportsCacheHint&&(t.resultType=void 0,t.cacheHint=!0),t}_createQuery(e){const t=this.context.createQuery(),s=e.descriptor.extent;if(s){const e=this.context.tilingScheme.spatialReference;t.geometry=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.toExtent)(s,e)}return this._setResolutionParams(t,e),this._useTileQuery(e)?t.resultType="tile":this.context.capabilities.supportsCacheHint&&(t.cacheHint=!0),t}_setPagingParameters(e,t,s,i){return!!this.context.capabilities.supportsPagination&&(e.start=t,s>0&&this.context.capabilities.supportsMaxRecordCountFactor?(e.maxRecordCountFactor=Math.ceil(s/i),e.num=Math.min(e.maxRecordCountFactor*i,s)):e.num=Math.min(i),!0)}_getEffectiveTileResolution(e){if(null==e.descriptor.resolution)return null;const t=this.context.viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_16__.ViewingMode.Global?this.context.tilingScheme.resolutionAtLevel(3):1/0;return Math.min(e.descriptor.resolution,t)/this.lodFactor}get _supportsResolution(){return this.context.capabilities.supportsMultipleResolutions&&"point"!==this.context.geometryType}_setResolutionParams(e,t){if(!this._supportsResolution)return;const s=this._getEffectiveTileResolution(t);null!=s&&(this.context.capabilities.supportsQuantization?e.quantizationParameters=new _rest_support_QuantizationParameters_js__WEBPACK_IMPORTED_MODULE_14__["default"]({mode:"view",originPosition:"upper-left",tolerance:s,extent:this.context.fullExtent}):"polyline"===this.context.geometryType&&(e.maxAllowableOffset=s))}_removeEmptyFeatures(e){const t=e.length;for(let s=0;s<e.length;){const t=e[s];(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.hasVertices)(t.geometry)?++s:(e[s]=e[e.length-1],--e.length)}return t-e.length}_needsNumFeatures(e){return this.useTileCount&&e.needsFeatureCount&&!O(e)}_getMaxRecordCount(e){const{tileMaxRecordCount:t,maxRecordCount:s}=this.context;return this._useTileQuery(e)&&null!=t&&t>0&&this.context.capabilities.supportsResultType?t:null!=s&&s>0?s:S}_useTileQuery(e){return(!O(e)||!this.context.capabilities.supportsCacheHint)&&this.context.capabilities.supportsResultType}_handleRequest(e,t,s,i){e.fetchStatus=e.needsRefetching?_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.REFETCHING:_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.FETCHING,e.requestController=s;let a=!1;t.then((t=>{e.requestController=null,e.fetchStatus=t})).catch((t=>{e.requestController===s&&(e.requestController=null,e.fetchStatus=_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.DONE),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(t)?a=!0:i(t)})).then((()=>{a||this._setDirty(),this._scheduleUpdated()}))}_scheduleUpdated(){this.hasHandles("scheduleUpdated")||this.addHandles((0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_6__.schedule)((()=>{this.removeHandles("scheduleUpdated"),this._updated()})),"scheduleUpdated")}_showTile(e){if(null!=e.displayingFeatures&&!e.needsDisplayUpdate)return!1;const t=e.features;if(0===e.featureLimit||!t){const t=null!=e.displayingFeatures&&e.displayingFeatures.length>0;return this._hideTileFeatures(e),e.displayingFeatures=[],t}const s=e.descriptor.resolution,i=this._changes.updates,r=this._changes.adds,a=Math.min(e.featureLimit,t.length);e.featureLimit=a;for(let n=0;n<a;++n){const e=t[n],a=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(e,this._objectIdField),o=this._displayingFeatureReferences.get(a);if(o){const t=o.ref(e,s);t.oldVersion!==t.newVersion&&(t.oldVersion&&i.removes.push(t.oldVersion),t.newVersion&&i.adds.push(t.newVersion))}else this._displayingFeatureReferences.set(a,new this.FeatureReferenceClass(e,s)),r.push(e);this._numDisplayingFeatureReferences++}return this._hideTileFeatures(e),this._applyChanges(),e.displayingFeatures=t.slice(0,a),!0}_hideTile(e){this._cancelFetchTile(e),this._hideTileFeatures(e)}_hideTileFeatures(e){if(null==e.displayingFeatures)return;const t=this._changes.updates,s=this._changes.removes;for(const i of e.displayingFeatures){const r=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_13__.getObjectId)(i,this._objectIdField),a=this._displayingFeatureReferences.get(r);if(!a)continue;const n=a.unref(e.descriptor.resolution);this._numDisplayingFeatureReferences--,n?n.oldVersion!==n.newVersion&&(null==n.newVersion?(this._displayingFeatureReferences.delete(r),n.oldVersion&&s.push(n.oldVersion)):(t.adds.push(n.newVersion),n.oldVersion&&t.removes.push(n.oldVersion))):console.error("Hiding unreferenced feature")}this._applyChanges(),e.displayingFeatures=null}_applyChanges(){const e=this._changes.updates;e.removes.length>0&&(this.features.removeMany(e.removes),e.removes.length=0),e.adds.length>0&&(this.features.addMany(e.adds),e.adds.length=0);const t=this._changes.adds,s=this._changes.removes,i=Math.min(t.length,s.length);let r=0;for(;r<i;){const e=Math.min(r+V,i);this.features.addMany(t.slice(r,e)),this.features.removeMany(s.slice(r,e)),r=e}t.length>i&&this.features.addMany(0===r?t:t.slice(r)),s.length>i&&this.features.removeMany(0===r?s:s.slice(r)),t.length=0,s.length=0}_clearTile(e){if(this._hideTile(e),e.features&&null!=this.context.memoryCache){const t=16+e.estimatedSize;this.context.memoryCache.put(e.id,e.cache,t)}e.setFeatures(null,0,null),this._invalidateCounts()}_invalidateCounts(){this.notifyChange("totalVertices"),this.notifyChange("totalFeatures"),this.notifyChange("memoryForUnusedFeatures")}_getListOfTiles(){return Array.from(this._featureTiles.values())}get storedFeatures(){return this._getListOfTiles().reduce(((e,t)=>e+(t.features?t.features.length:0)),0)}get missingTiles(){return Array.from(this._featureTiles.values()).reduce(((e,t)=>e+(t.needsFetching||t.isFetching?1:0)),0)}_maximumFeaturesForTile(e){const t=e.hasPreciseFeatureCount?e.numFeatures:1/0,s=e.hasPreciseFeatureCount?t:this.maximumNumberOfFeatures,i=this._fullRatio<1?this._farRatio:1;return Math.min(Math.ceil(s*i/(1-e.emptyFeatureRatio)),t)}get test(){return{process:e=>this.runTask(e),getFeatureTileById:e=>this._featureTiles.get(e),forEachFeatureTile:e=>this._featureTiles.forEach(e)}}};function O(e){return"dummy-tile-full-extent"===e.id}function P(e){let t=0;for(const s of e)s.features&&s.features.length>0&&s.alive&&(t=Math.max(t,s.descriptor.lij[0]));return t}function I(e){const t=e.capabilities.query;return{supportsMultipleResolutions:N(e),supportsPagination:!(!t||!t.supportsPagination),supportsResultType:!(!t||!t.supportsResultType),supportsCacheHint:!(!t||!t.supportsCacheHint),supportsQuantization:!(!t||!t.supportsQuantization),supportsQuantizationEditMode:!(!t||!t.supportsQuantizationEditMode),supportsMaxRecordCountFactor:!(!t||!t.supportsMaxRecordCountFactor),supportsFormatPBF:!(!t||!t.supportsFormatPBF)}}function N(e){switch(e.geometryType){case"polyline":return!0;case"polygon":return e.capabilities&&e.capabilities.query&&e.capabilities.query.supportsQuantization;default:return!1}}function U(e){return e.setFeatures([],0,null),e.featuresMissing=!1,_FeatureTile_js__WEBPACK_IMPORTED_MODULE_18__.FetchStatus.DONE}function A(e){return null==e?new Set:new Set(e.map((e=>e.name)))}function q(e,t){if(null==e||null==t)return A(t);const s=new Set;for(const{name:i}of t)e.has(i)&&s.add(i);return s}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],j.prototype,"features",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],j.prototype,"tileDescriptors",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({value:1/0})],j.prototype,"maximumNumberOfFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({value:1})],j.prototype,"memoryFactor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({value:1})],j.prototype,"lodFactor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],j.prototype,"useTileCount",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"updating",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"running",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"updatingTotal",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"updatingRemaining",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"expectedFeatureDiff",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"memoryForUnusedFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"maximumNumberOfFeaturesExceeded",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"totalVertices",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],j.prototype,"totalFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],j.prototype,"filterExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],j.prototype,"context",void 0),j=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)(w)],j);const S=2e3,L=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.create)(),H=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_12__.create)(),Q=6e5,V=200;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureTileFetcher3DDebugger: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../symbols.js */ "./node_modules/@arcgis/core/symbols.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../symbols/FillSymbol3DLayer.js */ "./node_modules/@arcgis/core/symbols/FillSymbol3DLayer.js");
/* harmony import */ var _symbols_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../symbols/PointSymbol3D.js */ "./node_modules/@arcgis/core/symbols/PointSymbol3D.js");
/* harmony import */ var _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../symbols/PolygonSymbol3D.js */ "./node_modules/@arcgis/core/symbols/PolygonSymbol3D.js");
/* harmony import */ var _symbols_TextSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../symbols/TextSymbol3DLayer.js */ "./node_modules/@arcgis/core/symbols/TextSymbol3DLayer.js");
/* harmony import */ var _symbols_support_Symbol3DVerticalOffset_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../symbols/support/Symbol3DVerticalOffset.js */ "./node_modules/@arcgis/core/symbols/support/Symbol3DVerticalOffset.js");
/* harmony import */ var _terrain_TilingScheme_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../terrain/TilingScheme.js */ "./node_modules/@arcgis/core/views/3d/terrain/TilingScheme.js");
/* harmony import */ var _symbols_callouts_LineCallout3D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../symbols/callouts/LineCallout3D.js */ "./node_modules/@arcgis/core/symbols/callouts/LineCallout3D.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const c=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];class m{constructor(e,i,o){this._loadingGraphics=new Map,this._loadedGraphics=new Map,this._pendingGraphics=new Map,this._dataExtentGraphic=null,this._enabled=!0,this._tileFetcher=e,this._view=o,this._tilingScheme=new _terrain_TilingScheme_js__WEBPACK_IMPORTED_MODULE_9__.TilingScheme(i),this._loadedSymbols=c.map((e=>new _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__["default"]({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_4__["default"]({material:{color:[e[0],e[1],e[2],.6]},outline:{color:"black",size:1}})])}))),this._loadingSymbols=[new _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__["default"]({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_4__["default"]({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}})])})],this._pendingSymbols=[new _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__["default"]({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_4__["default"]({material:{color:[100,100,100,.4]},outline:{color:[30,30,30],size:1}})])})],this._dataExtentSymbol=new _symbols_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__["default"]({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_4__["default"]({material:{color:[0,0,0,0]},outline:{color:"green",size:4}})])})}destroy(){this.enabled=!1}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}update(){this._enabled?(this._synchronizeMaps(this._loadingGraphics,{filter:e=>e.isFetching,symbols:this._loadingSymbols}),this._synchronizeMaps(this._loadedGraphics,{filter:e=>!e.isFetching,symbols:this._loadedSymbols}),this._synchronizeMaps(this._pendingGraphics,{filter:e=>!e.isFetching,symbols:this._pendingSymbols}),this.showDataExtent(this._tileFetcher.filterExtent)):(this._loadingGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._loadingGraphics.clear(),this._loadedGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._loadedGraphics.clear(),this._pendingGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._pendingGraphics.clear(),this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null))}showDataExtent(t){if(this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null),null==t)return;const s=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_3__["default"].fromExtent(t);this._dataExtentGraphic=new _Graphic_js__WEBPACK_IMPORTED_MODULE_0__["default"]({geometry:s,symbol:this._dataExtentSymbol}),this._view.graphics.add(this._dataExtentGraphic)}_synchronizeMaps(i,s){const r=[];i.forEach(((e,t)=>{const i=this._tileFetcher.test.getFeatureTileById(t);i&&s.filter(i)||(this._view.graphics.removeMany(e),r.push(t))})),r.forEach((e=>i.delete(e))),this._tileFetcher.test.forEachFeatureTile((r=>{if(s.filter(r)&&!i.has(r.id)){const[h,c,m]=r.descriptor.lij;this._tilingScheme.ensureMaxLod(h);const p=this._tilingScheme.getExtentGeometry(h,c,m),y=[new _Graphic_js__WEBPACK_IMPORTED_MODULE_0__["default"]({geometry:p,symbol:s.symbols[h%s.symbols.length]}),new _Graphic_js__WEBPACK_IMPORTED_MODULE_0__["default"]({geometry:p.center,symbol:new _symbols_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_5__["default"]({verticalOffset:new _symbols_support_Symbol3DVerticalOffset_js__WEBPACK_IMPORTED_MODULE_8__["default"]({screenLength:40/.75}),callout:new _symbols_callouts_LineCallout3D_js__WEBPACK_IMPORTED_MODULE_10__["default"]({color:"white",border:{color:"black"}}),symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__["default"]([new _symbols_TextSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_7__["default"]({text:`${h}/${c}/${m}`,halo:{color:"white",size:1/.75},material:{color:"black"},size:16})])})})];i.set(r.id,y),this._view.graphics.addMany(y)}}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureVisibilityFilter: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../layers/support/FeatureFilter.js */ "./node_modules/@arcgis/core/layers/support/FeatureFilter.js");
/* harmony import */ var _layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../layers/support/floorFilterUtils.js */ "./node_modules/@arcgis/core/layers/support/floorFilterUtils.js");
/* harmony import */ var _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../graphics/QueryEngine.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let m=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._updateTask=null,this._frameTask=null,this._queryEngine=null,this._updateRequested=!0,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this._updateVisibility=async e=>{if(null==this._compositedFeatureFilter&&null==this._sceneFilter||0===this.context.getFeatureCount())return this._frameTask.schedule((()=>this.clear()),e);try{const t=await this._queryEngine.executeQueryForIdSet(this._compositedFeatureFilter,this._sceneFilter,e);return this._frameTask.schedule((()=>{this.context.updateFeatureVisibilities((e=>t.has(e)))}),e)}catch(t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAbortError)(t),_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).warn(`FeatureFilter query failed: ${t}`,{error:t}),this._frameTask.schedule((()=>{this.context.setAllFeaturesVisibility(!0)}),e)}}}initialize(){const e=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_16__.TaskPriority.FILTER_VISIBILITY,{layer:t,view:r}=this._layerView,{featureStore:i}=this.context,s="hasZ"in this._layerView&&this._layerView.hasZ,l="hasM"in this._layerView&&this._layerView.hasM;this._queryEngine=new _graphics_QueryEngine_js__WEBPACK_IMPORTED_MODULE_15__.QueryEngine({context:{spatialReference:r.spatialReference,layer:t,scheduler:r.resourceController.scheduler,featureStore:i,hasM:l,hasZ:s},priority:e}),this._frameTask=this._layerView.view.resourceController.scheduler.registerTask(e,this),this._updatingHandles.add((()=>[this._compositedFeatureFilter,this._sceneFilter]),(()=>this.reapply()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial)}destroy(){this._updateRequested=!1,this._updatingHandles.destroy(),this.clear(),this._updateTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.abortMaybe)(this._updateTask),this._frameTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.removeMaybe)(this._frameTask),this._queryEngine=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._queryEngine),this._set("context",null)}get updating(){return this.running||this._updatingHandles.updating||null!=this._updateTask&&!this._updateTask.finished}get running(){return this._updateRequested||this._frameTask.updating}get defaultVisibility(){return null==this._compositedFeatureFilter&&null==this._sceneFilter}get _featureFilter(){return"filter"in this._layerView?this._layerView.filter:null}get _sceneFilter(){return"layerFilter"in this._layerView?this._layerView.layerFilter:null}get _floorFilter(){return (0,_layers_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_14__.getFloorFilterClause)(this._layerView)}get _timeExtent(){return"timeExtent"in this._layerView?this._layerView.timeExtent:null}get _compositedFeatureFilter(){const{_featureFilter:e,_timeExtent:t,_floorFilter:r}=this;if(null==t&&null==r)return e;const i=null!=e?e.clone():new _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_13__["default"];if(null!=t&&(i.timeExtent=null!=i.timeExtent?i.timeExtent.intersection(t):t),null!=r){const e=null==i.where||""===i.where;i.where=e?r:`(${i.where}) AND (${r})`}return i}get _layerView(){return this.context.layerView}reapply(){this._updateRequested=!0}clear(){this._queryEngine.clear(),this.context.clearFeaturesVisibility()}runTask(e){this._updateRequested&&(this._updateTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.abortMaybe)(this._updateTask),this._updateTask=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.createTask)(this._updateVisibility),this._updateRequested=!1,e.madeProgress()),this._frameTask.processQueue(e)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],m.prototype,"context",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"running",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"defaultVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_featureFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_sceneFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_floorFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_timeExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_compositedFeatureFilter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_layerView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_updateTask",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],m.prototype,"_updateRequested",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.3d.layers.support.FeatureVisibilityFilter")],m);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapFeatureProcessor: () => (/* binding */ k),
/* harmony export */   maxRadiusPt: () => (/* binding */ q)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/byteSizeEstimations.js */ "./node_modules/@arcgis/core/core/byteSizeEstimations.js");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/* harmony import */ var _geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/projection/projectPointToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectPointToVector.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../geometry/support/scaleUtils.js */ "./node_modules/@arcgis/core/geometry/support/scaleUtils.js");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _layers_graphics_data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../layers/graphics/data/FeatureStore.js */ "./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js");
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../layers/support/fieldUtils.js */ "./node_modules/@arcgis/core/layers/support/fieldUtils.js");
/* harmony import */ var _renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../renderers/support/heatmapUtils.js */ "./node_modules/@arcgis/core/renderers/support/heatmapUtils.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js");
/* harmony import */ var _graphics_DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../graphics/DisplayFeatureLimit.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js");
/* harmony import */ var _FeatureVisibilityFilter_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./FeatureVisibilityFilter.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js");
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../terrain/OverlayRenderer.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../webgl-engine/lib/ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _webgl_engine_lib_DrapedHeatmapRenderer_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../webgl-engine/lib/DrapedHeatmapRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../webgl-engine/lib/ModelDirtyTypes.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js");
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_HeatmapDensityMaterial_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../webgl-engine/materials/HeatmapDensityMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js");
/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../support/layerViewUtils.js */ "./node_modules/@arcgis/core/views/support/layerViewUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_heatmapTextureUtils_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../webgl/heatmapTextureUtils.js */ "./node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const z="esri.views.3d.layers.support.HeatmapFeatureProcessor",$=_core_Logger_js__WEBPACK_IMPORTED_MODULE_5__["default"].getLogger(z),q=112;let k=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.type="heatmap",this.preferredUpdatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_34__.UpdatePolicy.ASYNC,this.dataExtent=null,this.drapeSourceType=_interfaces_js__WEBPACK_IMPORTED_MODULE_24__.DrapeSourceType.Features,this._renderGeometries=new Map,this._fieldTotal=0,this._drapeSourceRenderer=null,this._dataType=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelType.HALF_FLOAT,this._pixelFormat=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelFormat.RGBA,this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_13__.UpdatingHandles,this.initializePromise=Promise.resolve()}initialize(){this._featureStore=new _layers_graphics_data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_21__["default"]({geometryType:"esriGeometryPoint",hasZ:this.hasZ,hasM:this.hasM});const{dataType:e,samplingMode:t,pixelFormat:r,internalFormat:i}=(0,_webgl_heatmapTextureUtils_js__WEBPACK_IMPORTED_MODULE_39__.loadHeatmapTextureConfiguration)(this._renderView.renderingContext,$);this._dataType=e,this._pixelFormat=r;const a=e!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelType.FLOAT;this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerDrapeSource(this,_webgl_engine_lib_DrapedHeatmapRenderer_js__WEBPACK_IMPORTED_MODULE_30__.DrapedHeatmapRenderer,{...this._rendererParameters,dataType:e,samplingMode:t,pixelFormat:r,internalFormat:i}),this._material=new _webgl_engine_materials_HeatmapDensityMaterial_js__WEBPACK_IMPORTED_MODULE_36__.HeatmapDensityMaterial({usesHalfFloats:a}),this._materialWithField=new _webgl_engine_materials_HeatmapDensityMaterial_js__WEBPACK_IMPORTED_MODULE_36__.HeatmapDensityMaterial({usesHalfFloats:a,isAttributeDriven:!0}),this._filterVisibility=new _FeatureVisibilityFilter_js__WEBPACK_IMPORTED_MODULE_26__.FeatureVisibilityFilter({context:{layerView:this.owner,featureStore:this.featureStore,getFeatureCount:()=>this._loadedPointGraphics.length,setAllFeaturesVisibility:e=>this._setAllFeaturesVisibility(e),clearFeaturesVisibility:()=>this._setAllFeaturesVisibility(!0),updateFeatureVisibilities:e=>this._updateFeatureVisibilities(e)}}),this._updatingHandles.addOnCollectionChange((()=>this._loadedPointGraphics),(e=>this._onLoadedFeaturesChange(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),this._updatingHandles.addWhen((()=>this._materialParameters),(e=>this._forEachMaterial((t=>t.setParameters(e)))),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),this._updatingHandles.add((()=>this._rendererParameters),(e=>this._drapeSourceRenderer.set(e))),this._updatingHandles.add((()=>this._heatmapRendererField),(()=>{this._recreate()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.sync),this._updatingHandles.add((()=>({fieldName:this._heatmapRendererFieldName,numeric:this._heatmapRendererFieldIsNumeric})),(({fieldName:e,numeric:t})=>{if(null!=e&&t){let t=0;this._featureStore.forEach((r=>t+=r.attributes[e]??0)),this._fieldTotal=t}else this._fieldTotal=this._featureStore.numFeatures}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>({fieldName:this._heatmapRendererFieldName,field:this._heatmapRendererField})),(({fieldName:e,field:t})=>{e&&!t&&$.warn(`Heatmap renderer field '${e}' for layer '${this.layer.title??this.layer.id}' not found`)})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>({field:this._heatmapRendererField,numeric:this._heatmapRendererFieldIsNumeric})),(({field:e,numeric:t})=>{null==e||t||$.warn(`Heatmap renderer field '${e.name}' for layer '${this.layer.title??this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`)})),(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))])}destroy(){this._renderGeometries.clear(),this._material=null,this._materialWithField=null,this._featureStore.clear(),this._featureStore=null,this._updatingHandles.destroy()}get layer(){return this.owner.layer}get featureStore(){return this._featureStore}get updating(){return this._updatingHandles.updating||this.filterVisibility.updating}get updatingRemaining(){return 0}get suspendInfo(){return{}}get legendEnabled(){return!0}get filterVisibility(){return this._filterVisibility}get displayFeatureLimit(){const e=this.owner?.view?.quality??1,t=this.owner?.view?.qualitySettings,r=t?Math.ceil(t.heatmap.maxTotalNumberOfFeatures*e):0;return new _graphics_DisplayFeatureLimit_js__WEBPACK_IMPORTED_MODULE_25__.DisplayFeatureLimit(r*6,r)}get hasZ(){return"hasZ"in this.layer&&this.layer.hasZ}get hasM(){return"hasM"in this.layer&&this.layer.hasM}get view(){return this.owner.view}get fullOpacity(){return this.owner.fullOpacity}get updatePolicy(){return this.owner.updatePolicy}get scaleVisibilitySuspended(){if(!this._isScaleRangeActive)return!1;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange,{scale:r}=this.view;return!(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_37__.scaleBoundsPredicate)(r,e??0,t??0)}get usedMemory(){const e=this.usedMemoryPerFeature*this._featureStore.numFeatures,t=this._pixelFormat===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelFormat.RED?1:4,r=this._dataType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_38__.PixelType.FLOAT?4:2,i=Math.ceil((this._overlayRenderer?.overlays[0]?.resolution??0)*this._densityMapPixelRatio)??0;return i*i*t*r+e}get usedMemoryPerFeature(){const e=this._loadedPointGraphics.find((()=>!0));if(null==e)return 0;const t=(0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__.estimateAttributesObjectSize)(e),r=(0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__.estimateNumberByteSize)(),o=6;return o*(0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__.estimateFixedArraySize)([0,0,0],r)+o*(0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_3__.estimateFixedArraySize)([0,0],r)+(this._heatmapRendererFieldIsNumeric?o*r:0)+t}get loadedFeatures(){return this._featureStore.numFeatures}get unprocessedMemoryEstimate(){return 0}get performanceInfo(){return{core:{visible:this._visibleFeatures,missing:0,pending:0},elevationUpdating:!1,visibilityFrustum:!0,visibilityScale:!0}}get renderer(){return this._heatmapRenderer}get _overlayRenderer(){return this.view.basemapTerrain.overlayManager.renderer}get _overlaySpatialReference(){return this._overlayRenderer.spatialReference}get _rendererParameters(){return{...this._radiusParameter,...this._densityParameters,...this._colorRampParameter,...this._pixelRatioParameter}}get _materialParameters(){return{...this._radiusParameter,...this._resolutionForScaleParameter}}get _densityParameters(){const e=this._heatmapRenderer;if(null==e)return null;const{minDensity:t,maxDensity:r}=e;return{minDensity:t,maxDensity:r,fieldTotal:this._fieldTotal}}get _radiusParameter(){const e=this._heatmapRenderer;return e?{searchRadius:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__.pt2px)(this._clampSearchRadius(e.radius))}:null}get _resolutionForScaleParameter(){const e=this._heatmapRenderer;if(!e)return null;const{referenceScale:t}=e;return{resolutionForScale:0===t?0:(0,_geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_16__.getResolutionForScale)(t,this.view.spatialReference)}}get _colorRampParameter(){const e=this._heatmapRenderer;return e?{colorRampData:(0,_renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_23__.generateGradient)(e.colorStops)}:null}get _pixelRatioParameter(){return{pixelRatio:this._densityMapPixelRatio}}get _densityMapPixelRatio(){return this.owner?.view?.qualitySettings.heatmap.pixelRatio??1}get _renderView(){return this.view._stage.renderView}get _featuresArePoints(){return"point"===this.layer.geometryType}get _loadedPointGraphics(){return this.owner.loadedGraphics}get _heatmapRenderer(){const e=this.layer.renderer;return"heatmap"===e?.type?e:null}get _heatmapRendererFieldName(){return this._heatmapRenderer?.field}get _heatmapRendererField(){const e=this._heatmapRendererFieldName;return null!=e?this.layer.fieldsIndex.get(e):null}get _heatmapRendererFieldIsNumeric(){const e=this._heatmapRendererField;return null!=e&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_22__.isNumericField)(e)}get _isScaleRangeActive(){const{layer:e}=this;if(!("effectiveScaleRange"in e))return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_37__.isScaleRangeActive)(t,r)}get _visibleFeatures(){let e=0;return this._renderGeometries.forEach((t=>{t.visible&&++e})),e}async whenGraphicBounds(){return null}computeAttachmentOrigin(){return null}highlight(){return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)()}maskOccludee(){return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_4__.makeHandle)()}setObjectIdVisibility(){}refreshFilter(){this.filterVisibility.reapply()}_onLoadedFeaturesChange(e){if(!this._featuresArePoints)return;const{objectIdField:t}=this.layer;this._featureStore.removeManyById(e.removed.map((e=>(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_17__.getObjectId)(e,t)))),this._featureStore.addMany(e.added.map((e=>{const{attributes:r,centroid:i,geometry:a}=e,s=new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_19__.OptimizedFeature((0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_18__.convertFromPoint)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_20__["default"],a),r,i?(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_18__.convertFromPoint)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_20__["default"],i):null,(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_17__.getObjectId)(e,t));return s.displayId=e.uid,s})));const i=e.added,a=e.removed;this._fieldTotal+=this._computeFieldTotalChange(i,a);const s=a.map((({uid:e})=>{const t=this._renderGeometries.get(e);return this._renderGeometries.delete(e),t})).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome),o=i.map((e=>{const t=this._pointGraphicToRenderGeometry(e);return this._renderGeometries.set(e.uid,t),t}));s.length>0&&this._drapeSourceRenderer.removeGeometries(s,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__.DirtyOperation.REMOVE),o.length>0&&this._drapeSourceRenderer.addGeometries(o,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__.DirtyOperation.ADD),(o.length>0||s.length>0)&&(this.filterVisibility.reapply(),this._renderView.requestRender())}_recreate(){if(!this._loadedPointGraphics)return;const e=this._loadedPointGraphics.toArray();this._onLoadedFeaturesChange({added:e,removed:e})}_pointGraphicToRenderGeometry(e){const t=this._heatmapRendererFieldName,r=null!=t?this._materialWithField:this._material,i=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.c)();(0,_geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_14__.projectPointToVector)(e.geometry,i,this._overlaySpatialReference),i[2]=_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_27__.drapedZ;const a=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_15__.getContinuousIndexArray)(1),s=[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_35__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_28__.Attribute(i,a,i.length)]],o=this._heatmapRendererFieldIsNumeric;null!=t&&s.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_35__.VertexAttribute.FEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_28__.Attribute([o?e.attributes[t]??0:0],a,1)]);const n=new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_33__.RenderGeometry(new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_31__.Geometry(r,s,null,_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_29__.ContentObjectType.Point),{layerUid:this.layer.uid,graphicUid:e.uid});return n.visible=this.filterVisibility.defaultVisibility,n}_forEachMaterial(e){e(this._material),e(this._materialWithField)}_computeFieldTotalChange(e,t){if(null==this._heatmapRendererFieldName||!this._heatmapRendererFieldIsNumeric)return e.length-t.length;const r=this._heatmapRendererFieldName,i=(e,t)=>e+(t.attributes[r]??0);return e.reduce(i,0)-t.reduce(i,0)}_clampSearchRadius(e){return e>q&&$.warnOnce(`SceneView supports a maximum radius of ${q} pt for HeatmapRenderer.`),Math.min(e,q)}_updateFeatureVisibilities(e){const t=[];this._featureStore.forEach((({objectId:r,displayId:i})=>{const a=e(r),s=this._renderGeometries.get(i);s&&s.visible!==a&&(t.push(s),s.visible=a)})),this._drapeSourceRenderer.modifyGeometries(t,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__.DirtyState.VISIBILITY)}_setAllFeaturesVisibility(e){const t=[];for(const r of this._renderGeometries.values())r.visible!==e&&(t.push(r),r.visible=e);this._drapeSourceRenderer.modifyGeometries(t,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_32__.DirtyState.VISIBILITY)}get test(){return{visibleFeatureCount:this._visibleFeatures}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],k.prototype,"owner",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"layer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"featureStore",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"updatingRemaining",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"filterVisibility",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"displayFeatureLimit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"preferredUpdatePolicy",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"hasZ",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"hasM",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"dataExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"updatePolicy",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"drapeSourceType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"scaleVisibilitySuspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_featureStore",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_filterVisibility",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_overlayRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_overlaySpatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_rendererParameters",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_materialParameters",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_densityParameters",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_radiusParameter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_resolutionForScaleParameter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_colorRampParameter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_pixelRatioParameter",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_densityMapPixelRatio",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_renderGeometries",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_material",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_materialWithField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_renderView",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_featuresArePoints",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_loadedPointGraphics",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_heatmapRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_heatmapRendererFieldName",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_heatmapRendererField",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_heatmapRendererFieldIsNumeric",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_fieldTotal",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_drapeSourceRenderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],k.prototype,"_isScaleRangeActive",null),k=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)(z)],k);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   attributeLookup: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/featureReference.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/featureReference.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MultiFeatureReference: () => (/* binding */ t),
/* harmony export */   SingleFeatureReference: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/Geometry.js */ "./node_modules/@arcgis/core/geometry/Geometry.js");
/* harmony import */ var _geometry_Multipoint_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/Multipoint.js */ "./node_modules/@arcgis/core/geometry/Multipoint.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/Polyline.js */ "./node_modules/@arcgis/core/geometry/Polyline.js");
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/typeUtils.js */ "./node_modules/@arcgis/core/geometry/support/typeUtils.js");
/* harmony import */ var _layers_support_Field_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../layers/support/Field.js */ "./node_modules/@arcgis/core/layers/support/Field.js");
/* harmony import */ var _layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatureComparison.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedFeatureComparison.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{get isReferenced(){return 0!==this.versions.length}get isSingle(){return 1===this.versions.length&&1===this.versions[0].refCount}constructor(e,t){this._highestResolutionVersion=null,this.versions=[],this.ref(e,t)}ref(t,s){const r=this.feature;i.oldVersion=r,this.feature&&Object.defineProperty(t,"uid",{value:this.feature.uid,configurable:!0});for(const n of this.versions)if(n.resolution===s){n.refCount++;const s=this._highestResolutionVersion===n&&!(0,_layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_12__.equals)(t,n.feature);return(s||this._highestResolutionVersion!==n)&&(n.feature=t),i.newVersion=s?t:r,i}const o={feature:t,resolution:s,refCount:1};return this.versions.push(o),!this._highestResolutionVersion||s<this._highestResolutionVersion.resolution?(i.newVersion=t,this._highestResolutionVersion=o):i.newVersion=r,i}unref(e){for(let t=0;t<this.versions.length;t++){const s=this.versions[t];if(s.resolution===e)return s.refCount--,i.oldVersion=this.feature,0===s.refCount&&(this.versions[t]=this.versions[this.versions.length-1],this.versions.length--,this._highestResolutionVersion===s&&(this._recalculateHighestResolutionVersion(),i.oldVersion=s.feature)),i.newVersion=this.feature,i}return null}get feature(){return this._highestResolutionVersion?this._highestResolutionVersion.feature:null}_recalculateHighestResolutionVersion(){if(0===this.versions.length)return void(this._highestResolutionVersion=null);let e=this.versions[0];for(let t=1;t<this.versions.length;t++){const s=this.versions[t];s.resolution<e.resolution&&(e=s)}this._highestResolutionVersion=e}}class s{get isReferenced(){return 0!==this._refCount}get isSingle(){return 1===this._refCount}constructor(e){this._feature=e,this._refCount=1}ref(t){return++this._refCount,i.oldVersion=this._feature,this.feature&&Object.defineProperty(t,"uid",{value:this.feature.uid,configurable:!0}),(0,_layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_12__.equals)(this._feature,t)||(this._feature=t),i.newVersion=this._feature,i}unref(){return i.oldVersion=this._feature,this._refCount>0&&(this._refCount--,!this.isReferenced)?(i.newVersion=null,i):(i.newVersion=this._feature,i)}get feature(){return this._feature}}const i={oldVersion:null,newVersion:null};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   toViewIfLocal: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _portal_support_geometryServiceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../portal/support/geometryServiceUtils.js */ "./node_modules/@arcgis/core/portal/support/geometryServiceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(l){const t=l.view.spatialReference,o=l.layer.fullExtent,s=null!=o&&o.spatialReference;if(null==o||!s)return Promise.resolve(null);if(s.equals(t))return Promise.resolve(o.clone());const n=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_0__.project)(o,t);return null!=n?Promise.resolve(n):l.view.state.isLocal?(0,_portal_support_geometryServiceUtils_js__WEBPACK_IMPORTED_MODULE_1__.projectGeometry)(o,t,l.layer.portalItem).then((e=>!l.destroyed&&e?e:null)).catch((()=>null)):Promise.resolve(null)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/EventedSet.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/EventedSet.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EventedSet: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/ObservableChangesType.js */ "./node_modules/@arcgis/core/core/ObservableChangesType.js");
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/SetUtils.js */ "./node_modules/@arcgis/core/core/SetUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(){super(...arguments),this._set=new Set}clear(){if(this._set.size>0){const e=this.toArray();this._set.clear(),this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.REMOVE}),this.emit("change",{added:[],removed:e})}}get length(){return this._set.size}addMany(e){if(0!==e.length){for(const t of e)this._set.add(t);this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.ADD}),this.emit("change",{added:e,removed:[]})}}remove(e){this._set.delete(e)&&(this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.REMOVE}),this.emit("change",{added:[],removed:[e]}))}removeMany(e){const s=[];for(const t of e)this._set.delete(t)&&s.push(t);s.length>0&&(this.emit("after-changes",{type:_core_ObservableChangesType_js__WEBPACK_IMPORTED_MODULE_1__.ObservableChangesType.REMOVE}),this.emit("change",{added:[],removed:s}))}toArray(){return[...this._set]}find(e){let t;return (0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_2__.someSet)(this._set,(s=>!!e(s)&&(t=s,!0))),t}forEach(e){this._set.forEach((t=>e(t)))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrapedHeatmapRenderer: () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _glUtil3D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./glUtil3D.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/glUtil3D.js");
/* harmony import */ var _SortedRenderGeometryRenderer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SortedRenderGeometryRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js");
/* harmony import */ var _shaders_HeatmapTechnique_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../shaders/HeatmapTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../webgl/FramebufferObject.js */ "./node_modules/@arcgis/core/views/webgl/FramebufferObject.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/* harmony import */ var _webgl_Util_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../webgl/Util.js */ "./node_modules/@arcgis/core/views/webgl/Util.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let x=class extends _SortedRenderGeometryRenderer_js__WEBPACK_IMPORTED_MODULE_10__.SortedRenderGeometryRenderer{constructor(t){super(t),this.pixelRatio=1,this._colorRampData=new Uint8ClampedArray(4),this.type="draped-heatmap",this._heatmapParameters=new _shaders_HeatmapTechnique_js__WEBPACK_IMPORTED_MODULE_11__.HeatmapPassParameters;const e=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_15__.TextureDescriptor;e.pixelFormat=t.pixelFormat,e.internalFormat=t.internalFormat,e.dataType=t.dataType,e.samplingMode=t.samplingMode,e.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.TextureWrapMode.CLAMP_TO_EDGE;const r=t.rendererContext.rctx;this._densityMap=new _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_13__.FramebufferObject(r,e),this._quad=(0,_glUtil3D_js__WEBPACK_IMPORTED_MODULE_9__.createQuadVAO)(r);const a=new _shaders_HeatmapTechnique_js__WEBPACK_IMPORTED_MODULE_11__.HeatmapTechniqueConfiguration;a.usesHalfFloat=t.dataType!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.PixelType.FLOAT,this._technique=new _shaders_HeatmapTechnique_js__WEBPACK_IMPORTED_MODULE_11__.HeatmapTechnique({rctx:r,viewingMode:_ViewingMode_js__WEBPACK_IMPORTED_MODULE_8__.ViewingMode.Local},a)}initialize(){const t=this._colorRampData,e=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_15__.TextureDescriptor(t.length/4,1);e.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.TextureWrapMode.CLAMP_TO_EDGE,this._colorRamp=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_14__.Texture(this.rctx,e,t),this._heatmapParameters.densityMap=this._densityMap.colorTexture,this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.watch)((()=>[this.colorRampData,this.minDensity,this.maxDensity,this.fieldTotal,this.pixelRatio,this.searchRadius]),(()=>this.rendererContext.notifyContentChanged())))}destroy(){this._technique=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.releaseMaybe)(this._technique),this._densityMap=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._densityMap),this._quad=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._quad),this._colorRamp=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._colorRamp)}get searchRadius(){return this._heatmapParameters.searchRadius}set searchRadius(t){t!==this._heatmapParameters.searchRadius&&(this._heatmapParameters.searchRadius=t,this.notifyChange("searchRadius"))}get minDensity(){return this._heatmapParameters.minDensity}set minDensity(t){t!==this._heatmapParameters.minDensity&&(this._heatmapParameters.minDensity=t,this.notifyChange("minDensity"))}get maxDensity(){return this._heatmapParameters.maxDensity}set maxDensity(t){t!==this._heatmapParameters.maxDensity&&(this._heatmapParameters.maxDensity=t,this.notifyChange("maxDensity"))}get fieldTotal(){return this._heatmapParameters.fieldTotal}set fieldTotal(t){this._heatmapParameters.fieldTotal=t,this.notifyChange("fieldTotal")}get colorRampData(){return this._colorRampData}set colorRampData(t){const{colorRamp:e}=this._heatmapParameters;if(null!=e&&t!==this._colorRampData){const r=e.descriptor.width,a=t.length/4;a!==r&&e.resize(a,1),e.setData(t)}this._colorRampData=t}get _colorRamp(){return this._heatmapParameters.colorRamp}set _colorRamp(t){this._heatmapParameters.colorRamp=t}get hasHighlights(){return!1}get hasWater(){return!1}get rendersOccluded(){return!1}render(t){const e=this._sortedMaterialRenderers;if(0===e.length)return;const r=this.rctx.getBoundFramebufferObject(),a=this.rctx.getViewport(),{pixelRatio:i}=this,s=Math.ceil(a.width*i),o=Math.ceil(a.height*i);this._densityMap.resize(s,o),this.rctx.bindFramebuffer(this._densityMap),this.rctx.setViewport(0,0,s,o),this.rctx.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.ClearBufferBit.COLOR_BUFFER_BIT);let n=!1;e.forAll((e=>{const r=e.prepareTechnique(t);null!=r&&(e.renderNode(t,r),n=!0)})),this.rctx.bindFramebuffer(r),this.rctx.setViewport(a.x,a.y,a.width,a.height),n&&(this.rctx.bindVAO(this._quad),this.rctx.bindTechnique(this._technique,this._heatmapParameters,t.bindParameters),this.rctx.drawArrays(this._technique.primitiveType,0,(0,_webgl_Util_js__WEBPACK_IMPORTED_MODULE_16__.vertexCount)(this._quad,"geometry")))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"searchRadius",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"minDensity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"maxDensity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"fieldTotal",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"pixelRatio",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"colorRampData",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],x.prototype,"dataType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],x.prototype,"samplingMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],x.prototype,"pixelFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({constructOnly:!0})],x.prototype,"internalFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)()],x.prototype,"_colorRampData",void 0),x=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.webgl-engine.lib.DrapedHeatmapRenderer")],x);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapDensityMaterial: () => (/* binding */ b),
/* harmony export */   HeatmapDensityMaterialParameters: () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec2f64.js */ "./node_modules/@arcgis/core/chunks/vec2f64.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./internal/bufferWriterUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js");
/* harmony import */ var _shaders_HeatmapDensityTechnique_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../shaders/HeatmapDensityTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const h=2;class T extends _shaders_HeatmapDensityTechnique_js__WEBPACK_IMPORTED_MODULE_9__.HeatmapDensityPassParameters{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloats=!1}}class b extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_5__.Material{constructor(t){super(t,new T),this._configuration=new _shaders_HeatmapDensityTechnique_js__WEBPACK_IMPORTED_MODULE_9__.HeatmapDensityTechniqueConfiguration}produces(t,e){return t===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.DRAPED_MATERIAL&&e===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color}getConfiguration(){return this._configuration.isAttributeDriven=this.parameters.isAttributeDriven,this._configuration.usesHalfFloat=this.parameters.usesHalfFloats,this._configuration}createGLMaterial(t){return new d(t)}intersect(){}intersectDraped(r,s,i,a,o,n){const l=r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION),{parameters:c}=this,{searchRadius:f}=c,{screenToWorldRatio:m}=r,p=f*m+h*m,T=p*p,b=l.data.length/l.size;for(let u=0;u<b;u++){const r=u*l.size,s=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(E,l.data[r],l.data[r+1]);(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.k)(s,a)<T&&o(n.dist,n.normal,-1,!1)}}createBufferWriter(){return new g(this.parameters.isAttributeDriven?I:A)}}class d extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_4__["default"]{beginSlot(t){return this.ensureTechnique(_shaders_HeatmapDensityTechnique_js__WEBPACK_IMPORTED_MODULE_9__.HeatmapDensityTechnique,t)}}class g{constructor(t){this.vertexBufferLayout=t}elementCount(t){return t.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION).indices.length*v}write(t,e,r,s,i){(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_8__.writePosition)(r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION),t,s.position,i,v);const a=r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION).indices.length,o=s.uv0;let n=i;for(let u=0;u<a;++u)o.setValues(n++,-1,-1),o.setValues(n++,1,-1),o.setValues(n++,1,1),o.setValues(n++,1,1),o.setValues(n++,-1,1),o.setValues(n++,-1,-1);const f=_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.FEATUREATTRIBUTE in s?s.featureAttribute:null;f&&(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_8__.writeBufferFloat)(r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.FEATUREATTRIBUTE),f,i,v)}}const A=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.UV0),I=A.clone().f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.FEATUREATTRIBUTE),v=6,E=(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapDensityPassParameters: () => (/* binding */ d),
/* harmony export */   HeatmapDensityTechnique: () => (/* binding */ f),
/* harmony export */   HeatmapDensityTechniqueConfiguration: () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/Program.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/* harmony import */ var _chunks_HeatmapDensity_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/HeatmapDensity.glsl.js */ "./node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class d extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_5__.MaterialParameters{constructor(){super(...arguments),this.searchRadius=128,this.resolutionForScale=0}}class f extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique{initializeProgram(e){return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__.Program(e.rctx,f.shader.get().build(this.configuration),_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__.Default3D)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({blending:(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.simpleBlendingParams)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendOperation.ADD),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWriteParams,depthTest:null,depthWrite:null})}destroy(){super.destroy()}}f.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_HeatmapDensity_glsl_js__WEBPACK_IMPORTED_MODULE_8__.H,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_HeatmapDensity_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./HeatmapDensity.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensity.glsl.js"))));class b extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_7__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloat=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],b.prototype,"isAttributeDriven",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],b.prototype,"usesHalfFloat",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapPassParameters: () => (/* binding */ h),
/* harmony export */   HeatmapTechnique: () => (/* binding */ d),
/* harmony export */   HeatmapTechniqueConfiguration: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/Program.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/* harmony import */ var _chunks_Heatmap_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/Heatmap.glsl.js */ "./node_modules/@arcgis/core/chunks/Heatmap.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class h extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.NoParameters{constructor(){super(...arguments),this.colorRamp=null,this.densityMap=null,this.searchRadius=1,this.fieldTotal=0,this.minDensity=0,this.maxDensity=100}}class d extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__.ShaderTechnique{constructor(e,r){super(e,r,(()=>this.destroy()))}initializeProgram(e){return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_7__.Program(e.rctx,d.shader.get().build(this.configuration),_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_5__.Default3D)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.makePipelineState)({blending:_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_6__.blendingDefault,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_11__.defaultColorWriteParams,depthTest:null,depthWrite:null})}get primitiveType(){return _webgl_enums_js__WEBPACK_IMPORTED_MODULE_10__.PrimitiveType.TRIANGLE_STRIP}}d.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__.ReloadableShaderModule(_chunks_Heatmap_glsl_js__WEBPACK_IMPORTED_MODULE_9__.H,(()=>__webpack_require__.e(/*! import() */ "node_modules_arcgis_core_views_3d_webgl-engine_shaders_Heatmap_glsl_js").then(__webpack_require__.bind(__webpack_require__, /*! ./Heatmap.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/Heatmap.glsl.js"))));class f extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.usesHalfFloat=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()],f.prototype,"usesHalfFloat",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/layers/LayerView.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/LayerView.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_Promise_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/Promise.js */ "./node_modules/@arcgis/core/core/Promise.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/support/UpdatingHandles.js */ "./node_modules/@arcgis/core/core/support/UpdatingHandles.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let d=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_3__.IdentifiableMixin)((0,_core_Promise_js__WEBPACK_IMPORTED_MODULE_6__.EsriPromiseMixin)(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])))){constructor(e){super(e),this._updatingHandles=new _core_support_UpdatingHandles_js__WEBPACK_IMPORTED_MODULE_12__.UpdatingHandles,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.destroyMaybe)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"fullOpacity",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"parent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspended",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"suspendInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"legendEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({type:Boolean,readOnly:!0})],d.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({readOnly:!0})],d.prototype,"updatingProgress",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"visible",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],d.prototype,"view",void 0),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.layers.LayerView")],d);const u=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HeatmapTextureConfiguration: () => (/* binding */ l),
/* harmony export */   loadHeatmapTextureConfiguration: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class l{constructor(e,t,r,a){this.dataType=e,this.samplingMode=t,this.pixelFormat=r,this.internalFormat=a}}function n(n,i){const{textureFloat:f,colorBufferFloat:s}=n.capabilities,u=f?.textureFloat,_=f?.textureFloatLinear,m=f?.textureHalfFloat,h=f?.textureHalfFloatLinear,p=s?.textureFloat,d=s?.textureHalfFloat,c=s?.floatBlend,x=n.driverTest.floatBufferBlend.result;if(!u&&!m)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("heatmap:missing-texture-float","HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float or OES_texture_half_float.");if(!p&&!d)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("heatmap:missing-color-buffer-float","HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.");if(!(c&&x||d))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("heatmap:missing-float-blend","HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float."+(x?"":" This device claims support for EXT_float_blend, but does not actually support it."));const b=u&&p&&c&&x,E=m&&d,R=_,F=h,L=!!s?.R32F,w=!!s?.R16F;if(b&&(R||!F))return R||i.warnOnce("Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced."),new l(_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelType.FLOAT,R?_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.LINEAR:_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.NEAREST,L?_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RED:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA,L?_enums_js__WEBPACK_IMPORTED_MODULE_1__.SizedPixelFormat.R32F:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA);if(E)return F||i.warnOnce("Missing WebGL extension OES_texture_half_float_linear. Heatmap quality may be reduced."),new l(_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelType.HALF_FLOAT,F?_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.LINEAR:_enums_js__WEBPACK_IMPORTED_MODULE_1__.TextureSamplingMode.NEAREST,w?_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RED:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA,w?_enums_js__WEBPACK_IMPORTED_MODULE_1__.SizedPixelFormat.R16F:_enums_js__WEBPACK_IMPORTED_MODULE_1__.PixelFormat.RGBA);throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("heatmap:missing-hardware-support","HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.")}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfM2RfbGF5ZXJzX0ZlYXR1cmVMaWtlTGF5ZXJWaWV3M0RfanMtbm9kZV9tb2R1bGVzX2FyY2dpLTdmMmRkOC5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLGNBQWMsV0FBVyx1QkFBdUIsSUFBSSxLQUFLLHNCQUFzQixnTkFBZ04seUJBQXlCLFFBQVEsZUFBZSx3REFBd0QsT0FBTywyQ0FBMkMsb0JBQW9CLFdBQVcseUlBQXlJLDJCQUEyQixrQkFBa0IsMkJBQTJCLHNDQUFzQyxvQkFBb0IsZ0NBQWdDLG9CQUFvQix5QkFBeUIsVUFBVSx3REFBd0QsU0FBUyx1Q0FBdUMsUUFBUSxpREFBaUQsZ0RBQWdELGlCQUFpQixVQUFVLHlCQUF5QixpQkFBaUIsMEZBQTBGLFFBQVEsUUFBUSxrQkFBa0IsTUFBTSxrRUFBa0Usd0JBQXdCLGVBQWUseUJBQXlCLHNDQUFzQywrRkFBK0Ysd0JBQXdCLG1CQUFtQixLQUFLLEtBQUssTUFBTSxrREFBa0Qsd0ZBQXdGLEtBQUssV0FBVyxLQUFLLG1FQUFtRSxpSkFBa0s7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKNzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ2ltQixjQUFjLFlBQVkscUdBQUMsQ0FBQyxVQUFVLDhHQUFDLFlBQVksdUlBQUMsRUFBRSxNQUFNLGdCQUFnQixHQUFHLG1DQUFtQyxtSEFBQyxxQ0FBcUMsbUhBQUMsNkJBQTZCLDJHQUFDLDZEQUE2RCwyR0FBQyxxQ0FBcUMsMkdBQUMsNElBQTRJLDZGQUFDO0FBQ3pnQztBQUNBLHFFQUFxRSxFQUFFLDZGQUFDO0FBQ3hFOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sNkNBQTZDLHVCQUF1QixxQkFBcUIsZUFBZSxHQUF5Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDZHhJO0FBQ0E7QUFDQTtBQUNBO0FBQzBjLGNBQWMsWUFB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Q0FBaUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksaUNBQWlDLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLG1DQUFtQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSxxQ0FBcUMsdURBQUMsRUFBRSxzRkFBQyxFQUFFLHlCQUF5QixnQ0FBZ0MsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksd0NBQXdDLHVEQUFDLEVBQUUsc0ZBQUMsZ0NBQWdDLHVEQUFDLEVBQUUsc0ZBQUMsaUNBQWlDLHVEQUFDLEVBQUUsdUZBQUMsb0NBQW9DLFVBQStCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKejRFO0FBQ0E7QUFDQTtBQUNBO0FBQzBJLFFBQVEscUJBQXFCLDhFQUE4RSxnQkFBZ0IsTUFBTSxrQ0FBa0MsMk1BQTJNLG9CQUFvQixzREFBQyx5SUFBeUksb0JBQW9CLHNEQUFDLHlLQUF5Syx3QkFBd0Isc0RBQUMsMk5BQTJOLDBEQUEwRCw4SEFBOEgsZ0RBQUMsU0FBUywwREFBQyxRQUFRLDBEQUFDLFdBQVcsa0RBQUMsS0FBSyxrREFBQyxRQUFRLHVEQUFDLE1BQU0sa0RBQUMsT0FBTywwSEFBMEgsZ0RBQUMsY0FBYywwREFBQyxRQUFRLDBEQUFDLFdBQVcsa0RBQUMsS0FBSyxrREFBQyxRQUFRLHVEQUFDLE1BQU0sa0RBQUMsT0FBTyxVQUFVLHNEQUFDLG9KQUFrTyIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2FyY2FkZS9mdW5jdGlvbnMvaGFzaC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3MvSGVhdG1hcC5nbHNsLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9IZWF0bWFwRGVuc2l0eS5nbHNsLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2xheWVycy9ncmFwaGljcy9jb250cm9sbGVycy9GZWF0dXJlVGlsZUNvbnRyb2xsZXIzRC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3MvZGF0YS9Cb3VuZHNTdG9yZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9sYXllcnMvZ3JhcGhpY3MvZGF0YS9GZWF0dXJlU3RvcmUuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvbGF5ZXJzL3N1cHBvcnQvZmxvb3JGaWx0ZXJVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9zdXBwb3J0L2VsZXZhdGlvbkluZm9VdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvRmVhdHVyZUxpa2VMYXllclZpZXczRC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvTGF5ZXJWaWV3M0QuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL2dyYXBoaWNzL0dyYXBoaWNzM0RGZWF0dXJlUHJvY2Vzc29yLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9RdWVyeUVuZ2luZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvZ3JhcGhpY3MvZWxldmF0aW9uQWxpZ25Qb2ludHNJbkZlYXR1cmVzLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9ncmFwaGljcy9xdWVyeUZvclN5bWJvbG9neVNuYXBwaW5nLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L0ZlYXR1cmVUaWxlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L0ZlYXR1cmVUaWxlRmV0Y2hlcjNELmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L0ZlYXR1cmVUaWxlRmV0Y2hlcjNERGVidWdnZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZVZpc2liaWxpdHlGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL3N1cHBvcnQvSGVhdG1hcEZlYXR1cmVQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL3N1cHBvcnQvYXR0cmlidXRlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2QvbGF5ZXJzL3N1cHBvcnQvZmVhdHVyZVJlZmVyZW5jZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9wcm9qZWN0RXh0ZW50VXRpbHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvM2Qvc3VwcG9ydC9FdmVudGVkU2V0LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9saWIvRHJhcGVkSGVhdG1hcFJlbmRlcmVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9tYXRlcmlhbHMvSGVhdG1hcERlbnNpdHlNYXRlcmlhbC5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvc2hhZGVycy9IZWF0bWFwRGVuc2l0eVRlY2huaXF1ZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8zZC93ZWJnbC1lbmdpbmUvc2hhZGVycy9IZWF0bWFwVGVjaG5pcXVlLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2xheWVycy9MYXllclZpZXcuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3Mvd2ViZ2wvaGVhdG1hcFRleHR1cmVVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgdD0yNjU0NDM1NzYxLHM9MjI0NjgyMjUxOSxuPTMyNjY0ODk5MTcsZT02NjgyNjUyNjMscj0zNzQ3NjEzOTM7ZnVuY3Rpb24gaCh0KXtjb25zdCBzPVtdO2ZvcihsZXQgbj0wLGU9dC5sZW5ndGg7bjxlO24rKyl7bGV0IGU9dC5jaGFyQ29kZUF0KG4pO2U8MTI4P3MucHVzaChlKTplPDIwNDg/cy5wdXNoKDE5MnxlPj42LDEyOHw2MyZlKTplPDU1Mjk2fHxlPj01NzM0ND9zLnB1c2goMjI0fGU+PjEyLDEyOHxlPj42JjYzLDEyOHw2MyZlKToobisrLGU9NjU1MzYrKCgxMDIzJmUpPDwxMHwxMDIzJnQuY2hhckNvZGVBdChuKSkscy5wdXNoKDI0MHxlPj4xOCwxMjh8ZT4+MTImNjMsMTI4fGU+PjYmNjMsMTI4fDYzJmUpKX1yZXR1cm4gbmV3IFVpbnQ4QXJyYXkocyl9Y2xhc3MgaXtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9zZWVkPXQsdGhpcy5fdG90YWxsZW49MCx0aGlzLl9idWZzPVtdLHRoaXMuaW5pdCgpfWluaXQoKXtyZXR1cm4gdGhpcy5fYnVmcz1bXSx0aGlzLl90b3RhbGxlbj0wLHRoaXN9dXBkYXRlRmxvYXRBcnJheSh0KXtjb25zdCBzPVtdO2Zvcihjb25zdCBuIG9mIHQpaXNOYU4obik/cy5wdXNoKFwiTmFOXCIpOm49PT0xLzA/cy5wdXNoKFwiSW5maW5pdHlcIik6bj09PS0xLzA/cy5wdXNoKFwiLUluZmluaXR5XCIpOjA9PT1uP3MucHVzaChcIjBcIik6cy5wdXNoKG4udG9TdHJpbmcoMTYpKTt0aGlzLnVwZGF0ZShoKHMuam9pbihcIlwiKSkpfXVwZGF0ZUludEFycmF5KHQpe2NvbnN0IHM9SW50MzJBcnJheS5mcm9tKHQpO3RoaXMudXBkYXRlKG5ldyBVaW50OEFycmF5KHMuYnVmZmVyKSl9dXBkYXRlVWludDhBcnJheSh0KXt0aGlzLnVwZGF0ZShVaW50OEFycmF5LmZyb20odCkpfXVwZGF0ZVdpdGhTdHJpbmcodCl7cmV0dXJuIHRoaXMudXBkYXRlKGgodCkpfXVwZGF0ZSh0KXtyZXR1cm4gdGhpcy5fYnVmcy5wdXNoKHQpLHRoaXMuX3RvdGFsbGVuKz10Lmxlbmd0aCx0aGlzfWRpZ2VzdCgpe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkodGhpcy5fdG90YWxsZW4pO2xldCBzPTA7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fYnVmcyl0LnNldChuLHMpLHMrPW4ubGVuZ3RoO3JldHVybiB0aGlzLmluaXQoKSx0aGlzLl94eEhhc2gzMih0LHRoaXMuX3NlZWQpfV94eEhhc2gzMihoLGk9MCl7Y29uc3Qgbz1oO2xldCB1PWkrciY0Mjk0OTY3Mjk1LGE9MDtpZihvLmxlbmd0aD49MTYpe2NvbnN0IG49W2krdCtzJjQyOTQ5NjcyOTUsaStzJjQyOTQ5NjcyOTUsaSswJjQyOTQ5NjcyOTUsaS10JjQyOTQ5NjcyOTVdLGU9aCxyPWUubGVuZ3RoLTE2O2xldCBvPTA7Zm9yKGE9MDsoNDI5NDk2NzI4MCZhKTw9cjthKz00KXtjb25zdCByPWEsaD1lW3JdKyhlW3IrMV08PDgpLGk9ZVtyKzJdKyhlW3IrM108PDgpLHU9aCpzKyhpKnM8PDE2KTtsZXQgbD1uW29dK3UmNDI5NDk2NzI5NTtsPWw8PDEzfGw+Pj4xOTtjb25zdCBmPTY1NTM1JmwscD1sPj4+MTY7bltvXT1mKnQrKHAqdDw8MTYpJjQyOTQ5NjcyOTUsbz1vKzEmM311PShuWzBdPDwxfG5bMF0+Pj4zMSkrKG5bMV08PDd8blsxXT4+PjI1KSsoblsyXTw8MTJ8blsyXT4+PjIwKSsoblszXTw8MTh8blszXT4+PjE0KSY0Mjk0OTY3Mjk1fXU9dStoLmxlbmd0aCY0Mjk0OTY3Mjk1O2NvbnN0IGw9aC5sZW5ndGgtNDtmb3IoO2E8PWw7YSs9NCl7Y29uc3QgdD1hLHM9b1t0XSsob1t0KzFdPDw4KSxyPW9bdCsyXSsob1t0KzNdPDw4KTt1PXUrKHMqbisocipuPDwxNikpJjQyOTQ5NjcyOTUsdT11PDwxN3x1Pj4+MTUsdT0oNjU1MzUmdSkqZSsoKHU+Pj4xNikqZTw8MTYpJjQyOTQ5NjcyOTV9Zm9yKDthPG8ubGVuZ3RoOysrYSl7dSs9b1thXSpyLHU9dTw8MTF8dT4+PjIxLHU9KDY1NTM1JnUpKnQrKCh1Pj4+MTYpKnQ8PDE2KSY0Mjk0OTY3Mjk1fXJldHVybiB1Xj11Pj4+MTUsdT0oKDY1NTM1JnUpKnMmNDI5NDk2NzI5NSkrKCh1Pj4+MTYpKnM8PDE2KSx1Xj11Pj4+MTMsdT0oKDY1NTM1JnUpKm4mNDI5NDk2NzI5NSkrKCh1Pj4+MTYpKm48PDE2KSx1Xj11Pj4+MTYsdTwwP3UrNDI5NDk2NzI5Njp1fX1leHBvcnR7aSBhcyBYWEh9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtTY3JlZW5TcGFjZVBhc3MgYXMgZX1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L1NjcmVlblNwYWNlUGFzcy5nbHNsLmpzXCI7aW1wb3J0e0Rpc2NhcmRPckFkanVzdEFscGhhQmxlbmQgYXMgcn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJMaWJyYXJ5L3V0aWwvRGlzY2FyZE9yQWRqdXN0QWxwaGFCbGVuZC5nbHNsLmpzXCI7aW1wb3J0e0Zsb2F0UGFzc1VuaWZvcm0gYXMgc31mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL0Zsb2F0UGFzc1VuaWZvcm0uanNcIjtpbXBvcnR7Z2xzbCBhcyBpfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtTaGFkZXJCdWlsZGVyIGFzIG99ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9TaGFkZXJCdWlsZGVyLmpzXCI7aW1wb3J0e1RleHR1cmUyRFBhc3NVbmlmb3JtIGFzIG59ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9UZXh0dXJlMkRQYXNzVW5pZm9ybS5qc1wiO2Z1bmN0aW9uIHQodCl7Y29uc3QgYT1uZXcgbzthLmluY2x1ZGUoZSksYS5pbmNsdWRlKHIpO2NvbnN0e3VzZXNIYWxmRmxvYXQ6ZH09dDtyZXR1cm4gYS5mcmFnbWVudC51bmlmb3Jtcy5hZGQobmV3IG4oXCJkZW5zaXR5TWFwXCIsKGU9PmUuZGVuc2l0eU1hcCkpLG5ldyBuKFwidGV4XCIsKGU9PmUuY29sb3JSYW1wKSksbmV3IHMoXCJkZW5zaXR5Tm9ybWFsaXplclwiLChlPT4xLyhlLm1heERlbnNpdHktZS5taW5EZW5zaXR5KSkpLG5ldyBzKFwibWluRGVuc2l0eVwiLChlPT5lLm1pbkRlbnNpdHkpKSxuZXcgcyhcImRlbnNpdHlNdWx0aXBsaWVyXCIsKGU9PjMvKGUuc2VhcmNoUmFkaXVzKmUuc2VhcmNoUmFkaXVzKk1hdGguUEkpKSkpLGQmJmEuY29uc3RhbnRzLmFkZChcImNvbXByZXNzaW9uRmFjdG9yXCIsXCJmbG9hdFwiLDQpLGEuZnJhZ21lbnQuY29kZS5hZGQoaWBcbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICBmbG9hdCBkZW5zaXR5ID0gdGV4dHVyZShkZW5zaXR5TWFwLCB1dikuciAqIGRlbnNpdHlNdWx0aXBsaWVyJHtkP2lgICogY29tcHJlc3Npb25GYWN0b3JgOlwiXCJ9O1xuICAgICAgZmxvYXQgZGVuc2l0eVJhdGlvID0gKGRlbnNpdHkgLSBtaW5EZW5zaXR5KSAqIGRlbnNpdHlOb3JtYWxpemVyO1xuXG4gICAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZSh0ZXgsIHZlYzIoY2xhbXAoZGVuc2l0eVJhdGlvLCAwLjAsIDEuMCksIDAuNSkpO1xuXG4gICAgICBkaXNjYXJkT3JBZGp1c3RBbHBoYShjb2xvcik7XG4gICAgICBmcmFnQ29sb3IgPSBjb2xvcjtcbiAgICB9XG4gIGApLGF9Y29uc3QgYT1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsYnVpbGQ6dH0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHthIGFzIEgsdCBhcyBifTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YWRkUHJvalZpZXdMb2NhbE9yaWdpbiBhcyBlfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlckxpYnJhcnkvdXRpbC9WaWV3Lmdsc2wuanNcIjtpbXBvcnR7RmxvYXRQYXNzVW5pZm9ybSBhcyBpfWZyb21cIi4uL3ZpZXdzLzNkL3dlYmdsLWVuZ2luZS9jb3JlL3NoYWRlck1vZHVsZXMvRmxvYXRQYXNzVW5pZm9ybS5qc1wiO2ltcG9ydHtnbHNsIGFzIG99ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9pbnRlcmZhY2VzLmpzXCI7aW1wb3J0e1NoYWRlckJ1aWxkZXIgYXMgcn1mcm9tXCIuLi92aWV3cy8zZC93ZWJnbC1lbmdpbmUvY29yZS9zaGFkZXJNb2R1bGVzL1NoYWRlckJ1aWxkZXIuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIGF9ZnJvbVwiLi4vdmlld3MvM2Qvd2ViZ2wtZW5naW5lL2xpYi9WZXJ0ZXhBdHRyaWJ1dGUuanNcIjtmdW5jdGlvbiB0KHQpe2NvbnN0IHM9bmV3IHIse3ZlcnRleDpkLGZyYWdtZW50OnUsYXR0cmlidXRlczpuLHZhcnlpbmdzOmx9PXM7ZShkLHQpO2NvbnN0e2lzQXR0cmlidXRlRHJpdmVuOmMsdXNlc0hhbGZGbG9hdDpmfT10O3JldHVybiBuLmFkZChhLlBPU0lUSU9OLFwidmVjM1wiKSxuLmFkZChhLlVWMCxcInZlYzJcIiksYyYmKG4uYWRkKGEuRkVBVFVSRUFUVFJJQlVURSxcImZsb2F0XCIpLGwuYWRkKFwiYXR0cmlidXRlVmFsdWVcIixcImZsb2F0XCIpKSxmJiZzLmNvbnN0YW50cy5hZGQoXCJjb21wcmVzc2lvbkZhY3RvclwiLFwiZmxvYXRcIiwuMjUpLGwuYWRkKFwidW5pdENpcmNsZVBvc1wiLFwidmVjMlwiKSxkLnVuaWZvcm1zLmFkZChuZXcgaShcInJhZGl1c1wiLCgoe3Jlc29sdXRpb25Gb3JTY2FsZTplLHNlYXJjaFJhZGl1czppfSx7Y2FtZXJhOm8sc2NyZWVuVG9Xb3JsZFJhdGlvOnIsb3ZlcmxheVN0cmV0Y2g6YX0pPT4yKmkqKDA9PT1lPzE6ZS9yKSpvLnBpeGVsUmF0aW8vby5mdWxsVmlld3BvcnRbMl0vYSkpKSxkLmNvZGUuYWRkKG9gXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgdW5pdENpcmNsZVBvcyA9IHV2MDtcblxuICAgICAgdmVjNCBwb3NQcm9qID0gcHJvaiAqICh2aWV3ICogdmVjNCgke2EuUE9TSVRJT059LCAxLjApKTtcbiAgICAgIHZlYzQgcXVhZE9mZnNldCA9IHZlYzQodW5pdENpcmNsZVBvcyAqIHJhZGl1cywgMC4wLCAwLjApO1xuXG4gICAgICAke2M/b2BhdHRyaWJ1dGVWYWx1ZSA9ICR7YS5GRUFUVVJFQVRUUklCVVRFfTtgOlwiXCJ9XG4gICAgICBnbF9Qb3NpdGlvbiA9IHBvc1Byb2ogKyBxdWFkT2Zmc2V0O1xuICAgIH1cbiAgYCksdS5jb2RlLmFkZChvYFxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIGZsb2F0IHJhZGl1c1JhdGlvU3F1YXJlZCA9IGRvdCh1bml0Q2lyY2xlUG9zLCB1bml0Q2lyY2xlUG9zKTtcbiAgICAgIGlmIChyYWRpdXNSYXRpb1NxdWFyZWQgPiAxLjApIHtcbiAgICAgICAgZGlzY2FyZDtcbiAgICAgIH1cblxuICAgICAgZmxvYXQgb25lTWludXNSYWRpdXNSYXRpb1NxdWFyZWQgPSAxLjAgLSByYWRpdXNSYXRpb1NxdWFyZWQ7XG4gICAgICBmbG9hdCBkZW5zaXR5ID0gb25lTWludXNSYWRpdXNSYXRpb1NxdWFyZWQgKiBvbmVNaW51c1JhZGl1c1JhdGlvU3F1YXJlZCAke2M/b2AgKiBhdHRyaWJ1dGVWYWx1ZWA6XCJcIn0gJHtmP29gICogY29tcHJlc3Npb25GYWN0b3JgOlwiXCJ9O1xuICAgICAgZnJhZ0NvbG9yID0gdmVjNChkZW5zaXR5KTtcbiAgICB9XG4gIGApLHN9Y29uc3Qgcz1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsYnVpbGQ6dH0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHtzIGFzIEgsdCBhcyBifTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0FjY2Vzc29yLmpzXCI7aW1wb3J0e3Jlc3VsdCBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYXN5bmNVdGlscy5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0e2Nsb25lIGFzIGF9ZnJvbVwiLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIGwscmVtb3ZlTWF5YmUgYXMgbixhYm9ydE1heWJlIGFzIHV9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtFc3JpUHJvbWlzZU1peGluIGFzIGh9ZnJvbVwiLi4vLi4vLi4vY29yZS9Qcm9taXNlLmpzXCI7aW1wb3J0e2NyZWF0ZUFib3J0RXJyb3IgYXMgYyxpc0Fib3J0RXJyb3IgYXMgZH1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtpbml0aWFsIGFzIHAsd2hlbk9uY2UgYXMgbSx3YXRjaCBhcyBmLHN5bmNBbmRJbml0aWFsIGFzIHksc3luYyBhcyBffWZyb21cIi4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBnfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgRn1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e1VwZGF0aW5nSGFuZGxlcyBhcyB4fWZyb21cIi4uLy4uLy4uL2NvcmUvc3VwcG9ydC9VcGRhdGluZ0hhbmRsZXMuanNcIjtpbXBvcnR7aXNIb3N0ZWRBZ29sU2VydmljZSBhcyB2fWZyb21cIi4uLy4uL3N1cHBvcnQvYXJjZ2lzTGF5ZXJVcmwuanNcIjtpbXBvcnR7Z2V0RWZmZWN0aXZlTGF5ZXJDYXBhYmlsaXRpZXMgYXMgRH1mcm9tXCIuLi8uLi9zdXBwb3J0L2xheWVyVXRpbHMuanNcIjtpbXBvcnR7cHJvamVjdEdlb21ldHJ5IGFzIGJ9ZnJvbVwiLi4vLi4vLi4vcG9ydGFsL3N1cHBvcnQvZ2VvbWV0cnlTZXJ2aWNlVXRpbHMuanNcIjtpbXBvcnQgdyBmcm9tXCIuLi8uLi8uLi9yZXN0L3N1cHBvcnQvU3RhdGlzdGljRGVmaW5pdGlvbi5qc1wiO2ltcG9ydHtGZWF0dXJlVGlsZUZldGNoZXIzRCBhcyBTfWZyb21cIi4uLy4uLy4uL3ZpZXdzLzNkL2xheWVycy9zdXBwb3J0L0ZlYXR1cmVUaWxlRmV0Y2hlcjNELmpzXCI7aW1wb3J0e0ZlYXR1cmVUaWxlRmV0Y2hlcjNERGVidWdnZXIgYXMgQ31mcm9tXCIuLi8uLi8uLi92aWV3cy8zZC9sYXllcnMvc3VwcG9ydC9GZWF0dXJlVGlsZUZldGNoZXIzRERlYnVnZ2VyLmpzXCI7aW1wb3J0e2RlYnVnRmxhZ3MgYXMgRX1mcm9tXCIuLi8uLi8uLi92aWV3cy8zZC9zdXBwb3J0L2RlYnVnRmxhZ3MuanNcIjtsZXQgVD1jbGFzcyBleHRlbmRzKGgodCkpe3NldCBleHRlbnQoZSl7aWYobnVsbCE9ZSYmIWUuc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHModGhpcy5sYXllclZpZXcudmlldy5zcGF0aWFsUmVmZXJlbmNlKSlyZXR1cm4gdm9pZCBvLmdldExvZ2dlcih0aGlzKS5lcnJvcihcIiNleHRlbnQ9XCIsXCJleHRlbnQgbmVlZHMgdG8gYmUgaW4gdGhlIHNhbWUgc3BhdGlhbCByZWZlcmVuY2UgYXMgdGhlIHZpZXdcIik7Y29uc3QgdD10aGlzLl9nZXQoXCJleHRlbnRcIik7aWYodD09PWUpcmV0dXJuO2lmKG51bGwhPXQmJmUmJnQuZXF1YWxzKGUpKXJldHVybjtjb25zdCBpPW51bGwhPWU/ZS5jbG9uZSgpOm51bGw7dGhpcy5fc2V0KFwiZXh0ZW50XCIsaSl9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuISEobnVsbCE9dGhpcy5fdGlsZUZldGNoZXImJnRoaXMuX3RpbGVGZXRjaGVyLnVwZGF0aW5nfHxudWxsIT10aGlzLl9mZXRjaERhdGFJbmZvUHJvbWlzZXx8XCJ0aWxlc1wiPT09dGhpcy5tb2RlJiZ0aGlzLmxheWVyVmlldy52aWV3LmZlYXR1cmVUaWxlcyYmdGhpcy5sYXllclZpZXcudmlldy5mZWF0dXJlVGlsZXMudXBkYXRpbmd8fHRoaXMuX3VwZGF0aW5nSGFuZGxlcyYmdGhpcy5fdXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nKX1nZXQgdXBkYXRpbmdUb3RhbCgpe3JldHVybiB0aGlzLnVwZGF0aW5nJiZudWxsIT10aGlzLl90aWxlRmV0Y2hlcj90aGlzLl90aWxlRmV0Y2hlci51cGRhdGluZ1RvdGFsOjB9Z2V0IHVwZGF0aW5nUmVtYWluaW5nKCl7cmV0dXJuIHRoaXMudXBkYXRpbmcmJm51bGwhPXRoaXMuX3RpbGVGZXRjaGVyP3RoaXMuX3RpbGVGZXRjaGVyLnVwZGF0aW5nUmVtYWluaW5nOjB9Z2V0IGV4cGVjdGVkRmVhdHVyZURpZmYoKXtyZXR1cm4gdGhpcy51cGRhdGluZyYmbnVsbCE9dGhpcy5fdGlsZUZldGNoZXI/dGhpcy5fdGlsZUZldGNoZXIuZXhwZWN0ZWRGZWF0dXJlRGlmZjowfWdldCBtZW1vcnlGb3JVbnVzZWRGZWF0dXJlcygpe3JldHVybiBudWxsIT10aGlzLl90aWxlRmV0Y2hlcj90aGlzLl90aWxlRmV0Y2hlci5tZW1vcnlGb3JVbnVzZWRGZWF0dXJlczowfWdldCBtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc0V4Y2VlZGVkKCl7cmV0dXJuIShudWxsPT10aGlzLl90aWxlRmV0Y2hlcnx8IXRoaXMuX3RpbGVGZXRjaGVyLm1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWQpfWdldCBtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcygpe3JldHVybiB0aGlzLmRpc3BsYXlGZWF0dXJlTGltaXQ/Lm1heGltdW1OdW1iZXJPZkZlYXR1cmVzPz8wfXNldCBtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcyhlKXtlIT09dGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcyYmdGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc1wiLGUpfWdldCBoYXNNYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc092ZXJyaWRlKCl7cmV0dXJuIHRoaXMuX2lzT3ZlcnJpZGRlbihcIm1heGltdW1OdW1iZXJPZkZlYXR1cmVzXCIpfWdldCBtb2RlKCl7Y29uc3QgZT10aGlzLmxheWVyVmlldy5sYXllcjtpZihcImZlYXR1cmVcIj09PWUudHlwZSYmbnVsbCE9ZS5pbmZvRm9yM0QpcmV0dXJuXCJzbmFwc2hvdFwiO2lmKHRoaXMuX2ZvcmNlVGlsZXNNb2RlKXJldHVyblwidGlsZXNcIjtjb25zdCB0PXRoaXMubGF5ZXJWaWV3LnZpZXc7aWYoITE9PT10LnF1YWxpdHlTZXR0aW5ncz8uZ3JhcGhpY3MzRD8uc25hcHNob3RBdmFpbGFibGV8fHRoaXMuc2VydmljZURhdGFDb3VudD09PWoubm9TZXJ2aWNlRGF0YUNvdW50fHx0aGlzLl9zbmFwc2hvdExpbWl0RXhjZWVkZWR8fHRoaXMubWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZHx8dC5xdWFsaXR5PDEpcmV0dXJuXCJ0aWxlc1wiO2NvbnN0IGk9dCYmdC5mZWF0dXJlVGlsZXMscj1pJiZpLnRpbGluZ1NjaGVtZTtpZihlJiZlLm1pblNjYWxlJiZ0aGlzLnNlcnZpY2VEYXRhRXh0ZW50JiZyKXtjb25zdCB0PXRoaXMuX2FwcHJveGltYXRlRXh0ZW50U2l6ZUF0U2NhbGUoZS5taW5TY2FsZSxyKTtpZigodGhpcy5zZXJ2aWNlRGF0YUV4dGVudC53aWR0aC90K3RoaXMuc2VydmljZURhdGFFeHRlbnQuaGVpZ2h0L3QpLzI+ai5tYXhTbmFwc2hvdE1pblNjYWxlRmFjdG9yKXJldHVyblwidGlsZXNcIn1yZXR1cm4hdGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc3x8dGhpcy5zZXJ2aWNlRGF0YUNvdW50PD10aGlzLm1heGltdW1OdW1iZXJPZkZlYXR1cmVzP1wic25hcHNob3RcIjpcInRpbGVzXCJ9Z2V0IG1heFRvdGFsU25hcHNob3RWZXJ0aWNlcygpe2NvbnN0IGU9dGhpcy5fZ2V0KFwibWF4VG90YWxTbmFwc2hvdFZlcnRpY2VzXCIpfHwwLHQ9XCJzbmFwc2hvdFwiPT09dGhpcy5tb2RlJiZ0aGlzLl90aWxlRmV0Y2hlcj8udG90YWxWZXJ0aWNlc3x8MDtyZXR1cm4gTWF0aC5tYXgoZSx0KX1fYXBwcm94aW1hdGVFeHRlbnRTaXplQXRTY2FsZShlLHQpe2NvbnN0IGk9dGhpcy5sYXllclZpZXcudmlldyxyPU1hdGguY2VpbCgoaS53aWR0aC90LnBpeGVsU2l6ZStpLmhlaWdodC90LnBpeGVsU2l6ZSkvMikscz10LmxldmVsc1swXTtyZXR1cm4gciooKHMudGlsZVNpemVbMF0vKHMuc2NhbGUvZSkrcy50aWxlU2l6ZVsxXS8ocy5zY2FsZS9lKSkvMil9Z2V0IHRpbGVEZXNjcmlwdG9ycygpe3JldHVyblwic25hcHNob3RcIj09PXRoaXMubW9kZT9uZXcgcihbe2lkOlwiZHVtbXktdGlsZS1mdWxsLWV4dGVudFwiLGxpajpbMCwwLDBdfV0pOnRoaXMubGF5ZXJWaWV3LnZpZXcuZmVhdHVyZVRpbGVzP3RoaXMubGF5ZXJWaWV3LnZpZXcuZmVhdHVyZVRpbGVzLnRpbGVzOm5ldyByfWdldCB0ZXN0KCl7cmV0dXJue2ZldGNoRGF0YUluZm9Qcm9taXNlOnRoaXMuX2ZldGNoRGF0YUluZm9Qcm9taXNlLHRpbGVGZXRjaGVyOnRoaXMuX3RpbGVGZXRjaGVyfX1jb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnR5cGU9XCJmZWF0dXJlLXRpbGUtM2RcIix0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IHgsdGhpcy5zZXJ2aWNlRGF0YUV4dGVudD1udWxsLHRoaXMuc2VydmljZURhdGFDb3VudD1qLm5vU2VydmljZURhdGFDb3VudCx0aGlzLl9zbmFwc2hvdExpbWl0RXhjZWVkZWQ9ITEsdGhpcy5kaXNwbGF5RmVhdHVyZUxpbWl0PW51bGwsdGhpcy5fZm9yY2VUaWxlc01vZGU9ITEsdGhpcy5fc3VzcGVuZGVkPSExLHRoaXMuX3RpbGVGZXRjaGVyPW51bGwsdGhpcy5fZmV0Y2hEYXRhSW5mb1Byb21pc2U9bnVsbCx0aGlzLl9mZXRjaERhdGFJbmZvQWJvcnRDb250cm9sbGVyPW51bGwsdGhpcy5fbGlmZUN5Y2xlQWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXJ9aW5pdGlhbGl6ZSgpe3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmRpc3BsYXlGZWF0dXJlTGltaXQpLChlPT50aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl91cGRhdGVTbmFwc2hvdExpbWl0KGUsbnVsbCx0aGlzLl9saWZlQ3ljbGVBYm9ydENvbnRyb2xsZXIuc2lnbmFsKSkpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5tb2RlKSwoKCk9PnRoaXMuX21vZGVDaGFuZ2VkKCkpLHApLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLm1vZGUpLCgoZSx0KT0+e1widGlsZXNcIj09PWUmJlwic25hcHNob3RcIj09PXQmJih0aGlzLl9mb3JjZVRpbGVzTW9kZT0hMCl9KSxwKSx0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UoUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKCk9PnRoaXMuX3ZlcmlmeUNhcGFiaWxpdGllcygpKSkudGhlbigoKCk9PnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX2ZldGNoU2VydmljZURhdGFJbmZvKCkpKSkudGhlbigoKCk9PnRoaXMuX2luaXRpYWxpemVUaWxlRmV0Y2hlcigpKSkpfV92ZXJpZnlDYXBhYmlsaXRpZXMoKXtjb25zdCBlPXRoaXMubGF5ZXJWaWV3LmxheWVyO2lmKFwib2djLWZlYXR1cmVcIiE9PWUudHlwZSYmIUQoZSk/Lm9wZXJhdGlvbnMuc3VwcG9ydHNRdWVyeSl0aHJvdyBuZXcgcyhcImdyYXBoaWNzY29udHJvbGxlcjpxdWVyeS1jYXBhYmlsaXR5LXJlcXVpcmVkXCIsXCJTZXJ2aWNlIHJlcXVpcmVzIHF1ZXJ5IGNhcGFiaWxpdGllcyB0byBiZSB1c2VkIGFzIGEgZmVhdHVyZSBsYXllclwiLHtsYXllcjplfSl9ZGVzdHJveSgpe3RoaXMuX2NhbmNlbEZldGNoU2VydmljZURhdGFJbmZvKCksdGhpcy5fdGlsZUZldGNoZXI9bCh0aGlzLl90aWxlRmV0Y2hlciksdGhpcy5fdGlsZXNIYW5kbGU9bih0aGlzLl90aWxlc0hhbmRsZSksdGhpcy5fbGlmZUN5Y2xlQWJvcnRDb250cm9sbGVyPXUodGhpcy5fbGlmZUN5Y2xlQWJvcnRDb250cm9sbGVyKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpLHRoaXMuX3NldChcIl91cGRhdGluZ0hhbmRsZXNcIixudWxsKX1zdXNwZW5kKCl7dGhpcy5fc3VzcGVuZGVkfHwodGhpcy5fc3VzcGVuZGVkPSEwLG51bGwhPXRoaXMuX3RpbGVGZXRjaGVyJiZ0aGlzLl90aWxlRmV0Y2hlci5zdXNwZW5kKCkpfXJlc3VtZSgpe3RoaXMuX3N1c3BlbmRlZCYmKHRoaXMuX3N1c3BlbmRlZD0hMSxudWxsIT10aGlzLl90aWxlRmV0Y2hlciYmdGhpcy5fdGlsZUZldGNoZXIucmVzdW1lKCkpfXJlc3RhcnQoKXtjb25zdCBlPSgpPT57bnVsbCE9dGhpcy5fdGlsZUZldGNoZXImJnRoaXMuX3RpbGVGZXRjaGVyLnJlc3RhcnQoKX07dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fZmV0Y2hTZXJ2aWNlRGF0YUluZm8oKS50aGVuKGUsZSkpfXJlZmV0Y2goKXt0aGlzLl9yZWZldGNoKHtyZXNldEZvcmNlVGlsZXNNb2RlOiExfSl9X3JlZmV0Y2goZSl7Y29uc3QgdD0oKT0+e251bGwhPXRoaXMuX3RpbGVGZXRjaGVyJiYoZS5yZXNldEZvcmNlVGlsZXNNb2RlJiYodGhpcy5fZm9yY2VUaWxlc01vZGU9ITEpLHRoaXMuX3RpbGVGZXRjaGVyLnJlZmV0Y2goKSl9O3RoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX2ZldGNoU2VydmljZURhdGFJbmZvKCkudGhlbih0LHQpKX1faW5pdGlhbGl6ZVRpbGVGZXRjaGVyKCl7Y29uc3QgZT10aGlzLmxheWVyVmlldy52aWV3O2lmKCFlKXJldHVybjtjb25zdCB0PW0oKCgpPT5lLmZlYXR1cmVUaWxlcz8udGlsaW5nU2NoZW1lKSx0aGlzLl9saWZlQ3ljbGVBYm9ydENvbnRyb2xsZXIuc2lnbmFsKTt0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0KSx0LnRoZW4oKCgpPT57Y29uc3R7bGF5ZXJWaWV3OmUsdGlsZURlc2NyaXB0b3JzOnR9PXRoaXMsaT1lLmxheWVyLHI9bmV3IFMoe2NvbnRleHQ6dGhpcy5jb250ZXh0LGZpbHRlckV4dGVudDp0aGlzLmV4dGVudCx0aWxlRGVzY3JpcHRvcnM6dCxmZWF0dXJlczp0aGlzLmdyYXBoaWNzfSk7dGhpcy5fdGlsZUZldGNoZXI9cix0aGlzLl9zdXNwZW5kZWQ/dGhpcy5fdGlsZUZldGNoZXIuc3VzcGVuZCgpOnRoaXMuX3RpbGVGZXRjaGVyLnJlc3VtZSgpO2NvbnN0IHM9dGhpcy5sYXllclZpZXcudmlldztzJiZ0aGlzLmFkZEhhbmRsZXMoZigoKCk9PnMucXVhbGl0eSksKGU9PnIubWVtb3J5RmFjdG9yPWUpLHkpKTtjb25zdCBhPVwicG9seWdvblwiPT09dGhpcy5jb250ZXh0Lmdlb21ldHJ5VHlwZT9cInBvbHlnb25Mb2RGYWN0b3JcIjpcInBvbHlsaW5lXCI9PT10aGlzLmNvbnRleHQuZ2VvbWV0cnlUeXBlP1wicG9seWxpbmVMb2RGYWN0b3JcIjpudWxsO2EmJnRoaXMuYWRkSGFuZGxlcyhmKCgoKT0+dGhpcy5sYXllclZpZXcudmlldz8ucXVhbGl0eVNldHRpbmdzPy5ncmFwaGljczNEPy5bYV0pLChlPT5yLmxvZEZhY3Rvcj1lfHwxKSxwKSk7Y29uc3Qgbz1lPT57ci5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcz1lLHIudXNlVGlsZUNvdW50PXRoaXMuc2VydmljZURhdGFDb3VudD5lfSxsPWU9PntyLnVzZVRpbGVDb3VudD1lPnRoaXMubWF4aW11bU51bWJlck9mRmVhdHVyZXN9O1wib2djLWZlYXR1cmVcIiE9PWkudHlwZSYmdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PmkuY3JlYXRlUXVlcnlWZXJzaW9uKSwoKCk9PnRoaXMuX2RhdGFGaWx0ZXJDaGFuZ2VkKCkpKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+ZS5hdmFpbGFibGVGaWVsZHMpLCgoZSx0KT0+dGhpcy5fYXZhaWxhYmxlRmllbGRzQ2hhbmdlZCh0LGUpKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PmUucmVxdWlyZWRGaWVsZHMpLCgoZSx0KT0+dGhpcy5fcmVxdWlyZWRGaWVsZHNDaGFuZ2VkKHQsZSkpKSx0aGlzLmFkZEhhbmRsZXMoW2kub24oXCJhcHBseS1lZGl0c1wiLChlPT50aGlzLl9hcHBseUVkaXRzKGUpKSksZigoKCk9PnRoaXMuZXh0ZW50KSwoZT0+ci5maWx0ZXJFeHRlbnQ9ZSksXyksZigoKCk9PnRoaXMudGlsZURlc2NyaXB0b3JzKSwoZT0+ci50aWxlRGVzY3JpcHRvcnM9ZSksXyksZigoKCk9PnRoaXMubWF4aW11bU51bWJlck9mRmVhdHVyZXMpLG8seSksZigoKCk9PnRoaXMuc2VydmljZURhdGFDb3VudCksbCx5KSxmKCgoKT0+RS5GRUFUVVJFX1RJTEVfRkVUQ0hfU0hPV19USUxFUyksKGU9PntlJiZyJiYhci5kZWJ1Z2dlcj8oci5kZWJ1Z2dlcj1uZXcgQyhyLHMuZmVhdHVyZVRpbGVzLnRpbGluZ1NjaGVtZS50b1RpbGVJbmZvKCkscyksci5kZWJ1Z2dlci51cGRhdGUoKSk6IWUmJnRoaXMuX3RpbGVGZXRjaGVyJiZyLmRlYnVnZ2VyJiYoci5kZWJ1Z2dlci5kZXN0cm95KCksci5kZWJ1Z2dlcj1udWxsKX0pLHkpXSksdGhpcy5fc3VwcG9ydHNFeGNlZWRzTGltaXRRdWVyeXx8dGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubWF4VG90YWxTbmFwc2hvdFZlcnRpY2VzKSwoKCk9PnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX3VwZGF0ZVNuYXBzaG90TGltaXQodGhpcy5kaXNwbGF5RmVhdHVyZUxpbWl0LG51bGwsdGhpcy5fbGlmZUN5Y2xlQWJvcnRDb250cm9sbGVyLnNpZ25hbCkpKSl9KSkuY2F0Y2goKCgpPT57fSkpfV9tb2RlQ2hhbmdlZCgpe3N3aXRjaCh0aGlzLm1vZGUpe2Nhc2VcInRpbGVzXCI6dGhpcy5fdGlsZXNIYW5kbGV8fCh0aGlzLl90aWxlc0hhbmRsZT10aGlzLmxheWVyVmlldy52aWV3LmZlYXR1cmVUaWxlcy5hZGRDbGllbnQoKSk7YnJlYWs7ZGVmYXVsdDpvLmdldExvZ2dlcih0aGlzKS53YXJuKFwiVW5oYW5kbGVkIGZlYXR1cmUgbGF5ZXIgbW9kZSBcIit0aGlzLm1vZGUpO2Nhc2VcInNuYXBzaG90XCI6bnVsbCE9dGhpcy5fdGlsZXNIYW5kbGUmJih0aGlzLl90aWxlc0hhbmRsZS5yZW1vdmUoKSx0aGlzLl90aWxlc0hhbmRsZT1udWxsKX19X2RhdGFGaWx0ZXJDaGFuZ2VkKCl7dGhpcy5fc2V0KFwibWF4VG90YWxTbmFwc2hvdFZlcnRpY2VzXCIsMCksdGhpcy5ub3RpZnlDaGFuZ2UoXCJtYXhUb3RhbFNuYXBzaG90VmVydGljZXNcIiksdGhpcy5fcmVmZXRjaCh7cmVzZXRGb3JjZVRpbGVzTW9kZTohMH0pfV9hcHBseUVkaXRzKGUpe251bGwhPXRoaXMuX3RpbGVGZXRjaGVyJiZ0aGlzLl90aWxlRmV0Y2hlci5hcHBseUVkaXRzKGUpLnRoZW4oKGU9PntpZihlKXtpZighdGhpcy5fbGlmZUN5Y2xlQWJvcnRDb250cm9sbGVyKXRocm93IGMoKTtlLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdD90aGlzLmxheWVyVmlldy5sYXllci5yZWZyZXNoKCk6KGUuZGVsZXRlZEZlYXR1cmVzLmxlbmd0aHx8ZS51cGRhdGVkRmVhdHVyZXMubGVuZ3RofHxlLmFkZGVkRmVhdHVyZXMubGVuZ3RoKSYmdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5fdXBkYXRlU2VydmljZURhdGFFeHRlbnQodGhpcy5fbGlmZUN5Y2xlQWJvcnRDb250cm9sbGVyLnNpZ25hbCkpfX0pKS5jYXRjaCgoZT0+e2lmKCFkKGUpKXRocm93IGV9KSl9X2F2YWlsYWJsZUZpZWxkc0NoYW5nZWQoZSx0KXtudWxsIT10aGlzLl90aWxlRmV0Y2hlciYmcSh0aGlzLl90aWxlRmV0Y2hlci5hdmFpbGFibGVGaWVsZHMsdCkmJnRoaXMuX3JlZmV0Y2goe3Jlc2V0Rm9yY2VUaWxlc01vZGU6ITF9KX1fcmVxdWlyZWRGaWVsZHNDaGFuZ2VkKGUsdCl7bnVsbCE9dGhpcy5fdGlsZUZldGNoZXImJnEodGhpcy5fdGlsZUZldGNoZXIuYXZhaWxhYmxlRmllbGRzLHQpJiZ0aGlzLnJlc3RhcnQoKX1fY3JlYXRlVmVydGV4TGltaXRFeGNlZWRlZFF1ZXJ5KGUpe2NvbnN0IHQ9dGhpcy5sYXllclZpZXcubGF5ZXIsaT10LmNyZWF0ZVF1ZXJ5KCk7cmV0dXJuIGkucmV0dXJuR2VvbWV0cnk9ITEsaS5vdXRTdGF0aXN0aWNzPVtuZXcgdyh7c3RhdGlzdGljVHlwZTpcImV4Y2VlZHNsaW1pdFwiLG1heFZlcnRleENvdW50OmUsb3V0U3RhdGlzdGljRmllbGROYW1lOlwiZXhjZWVkc2xpbWl0XCIsbWF4UG9pbnRDb3VudDoxZTgsbWF4UmVjb3JkQ291bnQ6MWU4fSldLHQuY2FwYWJpbGl0aWVzPy5xdWVyeS5zdXBwb3J0c0NhY2hlSGludCYmKGkuY2FjaGVIaW50PSEwKSxpfV9jcmVhdGVEYXRhSW5mb1F1ZXJ5KCl7Y29uc3QgZT10aGlzLmxheWVyVmlldy5sYXllcix0PWUuY3JlYXRlUXVlcnkoKTtyZXR1cm4gdC5yZXR1cm5HZW9tZXRyeT0hMSx0Lm91dFNwYXRpYWxSZWZlcmVuY2U9dGhpcy5sYXllclZpZXcudmlldy5zcGF0aWFsUmVmZXJlbmNlLGUuY2FwYWJpbGl0aWVzPy5xdWVyeS5zdXBwb3J0c0NhY2hlSGludCYmKHQuY2FjaGVIaW50PSEwKSx0fV9mdWxsRXh0ZW50SXNBY2N1cmF0ZSgpe2NvbnN0IGU9dGhpcy5sYXllclZpZXcubGF5ZXI7aWYoZS5kZWZpbml0aW9uRXhwcmVzc2lvbilyZXR1cm4hMTtzd2l0Y2goZS50eXBlKXtjYXNlXCJmZWF0dXJlXCI6Y2FzZVwib3JpZW50ZWQtaW1hZ2VyeVwiOnJldHVybiB2KGUudXJsKTtjYXNlXCJjc3ZcIjpjYXNlXCJnZW9qc29uXCI6Y2FzZVwib2djLWZlYXR1cmVcIjpjYXNlXCJ3ZnNcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybn19YXN5bmMgX3VwZGF0ZVNlcnZpY2VEYXRhRXh0ZW50KGUpe3RyeXthd2FpdCB0aGlzLl90cnlVcGRhdGVTZXJ2aWNlRGF0YUV4dGVudChlKX1jYXRjaCh0KXtkKHQpfHx0aGlzLl9zZXQoXCJzZXJ2aWNlRGF0YUV4dGVudFwiLGEodGhpcy5sYXllclZpZXcuZnVsbEV4dGVudEluTG9jYWxWaWV3U3BhdGlhbFJlZmVyZW5jZSkpfX1hc3luYyBfdHJ5VXBkYXRlU2VydmljZURhdGFFeHRlbnQoZSl7Y29uc3QgdD10aGlzLmxheWVyVmlldyxpPXQubGF5ZXIscj1pLmNhcGFiaWxpdGllcz8ucXVlcnkuc3VwcG9ydHNFeHRlbnQ/PyExLHM9YSh0LmZ1bGxFeHRlbnRJbkxvY2FsVmlld1NwYXRpYWxSZWZlcmVuY2UpLG89aS5mdWxsRXh0ZW50LGw9dGhpcy5fZnVsbEV4dGVudElzQWNjdXJhdGUoKSxuPXRoaXMuc2VydmljZURhdGFDb3VudDtpZihyJiZuPD1qLm1heEZlYXR1cmVDb3VudEZvckV4dGVudCYmKCFzfHwhbCkmJlwicXVlcnlFeHRlbnRcImluIGkpe2NvbnN0IHQ9dGhpcy5fY3JlYXRlRGF0YUluZm9RdWVyeSgpLHI9YXdhaXQgaS5xdWVyeUV4dGVudCh0LHt0aW1lb3V0OmoucXVlcnlFeHRlbnRUaW1lb3V0LHNpZ25hbDplfSk7dGhpcy5fc2V0KFwic2VydmljZURhdGFFeHRlbnRcIixyLmV4dGVudCl9ZWxzZSBpZihzKXRoaXMuX3NldChcInNlcnZpY2VEYXRhRXh0ZW50XCIscyk7ZWxzZSBpZihudWxsIT1vKXtjb25zdCByPVwicG9ydGFsSXRlbVwiaW4gaT9pLnBvcnRhbEl0ZW06bnVsbCxzPWF3YWl0IGIobyx0LnZpZXcuc3BhdGlhbFJlZmVyZW5jZSxyLGUpO3RoaXMuX3NldChcInNlcnZpY2VEYXRhRXh0ZW50XCIscyl9ZWxzZSB0aGlzLl9zZXQoXCJzZXJ2aWNlRGF0YUV4dGVudFwiLG51bGwpfWFzeW5jIF91cGRhdGVTZXJ2aWNlRGF0YUNvdW50KGUpe2NvbnN0IHQ9dGhpcy5sYXllclZpZXcubGF5ZXI7aWYoIShcInF1ZXJ5RmVhdHVyZUNvdW50XCJpbiB0KXx8IWhhcyhcImZlYXR1cmVsYXllci1zbmFwc2hvdC1lbmFibGVkXCIpKXJldHVybiB2b2lkIHRoaXMuX3NldChcInNlcnZpY2VEYXRhQ291bnRcIixqLm5vU2VydmljZURhdGFDb3VudCk7Y29uc3Qgcj1hd2FpdCBpKHQucXVlcnlGZWF0dXJlQ291bnQodGhpcy5fY3JlYXRlRGF0YUluZm9RdWVyeSgpLHt0aW1lb3V0OmoucXVlcnlTdGF0aXN0aWNzVGltZW91dCxzaWduYWw6ZX0pKTtpZighMD09PXIub2spdGhpcy5fc2V0KFwic2VydmljZURhdGFDb3VudFwiLHIudmFsdWUpO2Vsc2V7aWYoZChyLmVycm9yKSl0aHJvdyByLmVycm9yO3RoaXMuX3NldChcInNlcnZpY2VEYXRhQ291bnRcIixqLm5vU2VydmljZURhdGFDb3VudCl9fWdldCBfc3VwcG9ydHNFeGNlZWRzTGltaXRRdWVyeSgpe2NvbnN0IGU9dGhpcy5sYXllclZpZXcubGF5ZXI7cmV0dXJuIG51bGwhPWUuY2FwYWJpbGl0aWVzJiZlLmNhcGFiaWxpdGllcy5vcGVyYXRpb25zJiZlLmNhcGFiaWxpdGllcy5vcGVyYXRpb25zLnN1cHBvcnRzRXhjZWVkc0xpbWl0U3RhdGlzdGljc31nZXQgX21pbmltdW1OdW1iZXJPZlZlcnRpY2VzRm9yR2VvbWV0cnkoKXtzd2l0Y2godGhpcy5sYXllclZpZXcubGF5ZXIuZ2VvbWV0cnlUeXBlKXtjYXNlXCJwb2ludFwiOmNhc2VcIm11bHRpcG9pbnRcIjpyZXR1cm4gMTtjYXNlXCJwb2x5Z29uXCI6cmV0dXJuIDQ7Y2FzZVwicG9seWxpbmVcIjpyZXR1cm4gMjtjYXNlXCJtdWx0aXBhdGNoXCI6Y2FzZVwibWVzaFwiOnJldHVybiAzO2RlZmF1bHQ6cmV0dXJuIDB9fWFzeW5jIF91cGRhdGVTbmFwc2hvdExpbWl0KGUsdCxyKXtpZihudWxsPT1lPy5hdmVyYWdlU3ltYm9sQ29tcGxleGl0eSlyZXR1cm4gdm9pZCh0aGlzLl9zbmFwc2hvdExpbWl0RXhjZWVkZWQ9ITEpO2NvbnN0e21heGltdW1Ub3RhbE51bWJlck9mVmVydGljZXM6cyxhdmVyYWdlU3ltYm9sQ29tcGxleGl0eTphfT1lLHt2ZXJ0aWNlc1BlckZlYXR1cmU6byx2ZXJ0aWNlc1BlckNvb3JkaW5hdGU6bH09YSxuPW88PTAsdT10aGlzLl9taW5pbXVtTnVtYmVyT2ZWZXJ0aWNlc0Zvckdlb21ldHJ5PjE7aWYoIW4mJiF1KXJldHVybiB2b2lkKHRoaXMuX3NuYXBzaG90TGltaXRFeGNlZWRlZD0hMSk7MCE9PW8mJm51bGwhPXQmJmF3YWl0IHQ7Y29uc3QgaD1NYXRoLm1pbihzLEgpLGM9dGhpcy5zZXJ2aWNlRGF0YUNvdW50LHA9YyE9PWoubm9TZXJ2aWNlRGF0YUNvdW50O2xldCBtPXA/TWF0aC5jZWlsKChoLWMqbykvKGx8fDEpKTpNYXRoLmNlaWwoaC8obHx8MSkpO2lmKHUmJihtPU1hdGgubWluKG0sTykpLHAmJnRoaXMuX21pbmltdW1OdW1iZXJPZlZlcnRpY2VzRm9yR2VvbWV0cnkqYz5tKXJldHVybiB2b2lkKHRoaXMuX3NuYXBzaG90TGltaXRFeGNlZWRlZD0hMCk7aWYoIXRoaXMuX3N1cHBvcnRzRXhjZWVkc0xpbWl0UXVlcnl8fCFoYXMoXCJmZWF0dXJlbGF5ZXItc25hcHNob3QtZW5hYmxlZFwiKSlyZXR1cm4gdm9pZCh0aGlzLl9zbmFwc2hvdExpbWl0RXhjZWVkZWQ9dGhpcy5tYXhUb3RhbFNuYXBzaG90VmVydGljZXM+bSk7Y29uc3QgZj1hd2FpdCBpKHRoaXMubGF5ZXJWaWV3LmxheWVyLnF1ZXJ5RmVhdHVyZXModGhpcy5fY3JlYXRlVmVydGV4TGltaXRFeGNlZWRlZFF1ZXJ5KG0pLHt0aW1lb3V0OmoucXVlcnlTdGF0aXN0aWNzVGltZW91dCxzaWduYWw6cn0pKTtpZighMT09PWYub2spe2lmKGQoZi5lcnJvcikpdGhyb3cgZi5lcnJvcjtyZXR1cm4gdm9pZCh0aGlzLl9zbmFwc2hvdExpbWl0RXhjZWVkZWQ9ITEpfWNvbnN0IHk9Zi52YWx1ZS5mZWF0dXJlc1swXTt0aGlzLl9zbmFwc2hvdExpbWl0RXhjZWVkZWQ9ISF5Py5hdHRyaWJ1dGVzJiYhIXkuYXR0cmlidXRlcy5leGNlZWRzbGltaXR9YXN5bmMgX2ZldGNoU2VydmljZURhdGFJbmZvKCl7dGhpcy5fY2FuY2VsRmV0Y2hTZXJ2aWNlRGF0YUluZm8oKTtsZXQgZT1uZXcgQWJvcnRDb250cm9sbGVyO2NvbnN0IHQ9ZS5zaWduYWwsaT10aGlzLl91cGRhdGVTZXJ2aWNlRGF0YUNvdW50KHQpLHI9UHJvbWlzZS5hbGxTZXR0bGVkKFtpLHRoaXMuX3VwZGF0ZVNuYXBzaG90TGltaXQodGhpcy5kaXNwbGF5RmVhdHVyZUxpbWl0LGksdCldKSxzPXIudGhlbigoKCk9PnRoaXMuX3VwZGF0ZVNlcnZpY2VEYXRhRXh0ZW50KHQpKSkuY2F0Y2goKGU9PntkKGUpfHxvLmdldExvZ2dlcih0aGlzKS5lcnJvcihcIiNmZXRjaFNlcnZpY2VEYXRhSW5mbygpXCIsZSl9KSkudGhlbigoKCk9PntzPT09dGhpcy5fZmV0Y2hEYXRhSW5mb1Byb21pc2UmJih0aGlzLl9mZXRjaERhdGFJbmZvUHJvbWlzZT1udWxsLHRoaXMuX2ZldGNoRGF0YUluZm9BYm9ydENvbnRyb2xsZXI9bnVsbCksZT1udWxsfSkpO3JldHVybiBlJiYodGhpcy5fZmV0Y2hEYXRhSW5mb1Byb21pc2U9cyksdGhpcy5fZmV0Y2hEYXRhSW5mb0Fib3J0Q29udHJvbGxlcj1lLHIudGhlbigoKCk9Pnt9KSwoKCk9Pnt9KSl9X2NhbmNlbEZldGNoU2VydmljZURhdGFJbmZvKCl7Y29uc3QgZT10aGlzLl9mZXRjaERhdGFJbmZvQWJvcnRDb250cm9sbGVyO2UmJih0aGlzLl9mZXRjaERhdGFJbmZvQWJvcnRDb250cm9sbGVyPW51bGwsdGhpcy5fZmV0Y2hEYXRhSW5mb1Byb21pc2U9bnVsbCxlLmFib3J0KCkpfWdldCBwZXJmb3JtYW5jZUluZm8oKXtyZXR1cm57c3RvcmVkRmVhdHVyZXM6dGhpcy5fdGlsZUZldGNoZXI/LnN0b3JlZEZlYXR1cmVzPz8wLHRvdGFsRmVhdHVyZXM6dGhpcy5fdGlsZUZldGNoZXI/LnRvdGFsRmVhdHVyZXM/PzAsdG90YWxWZXJ0aWNlczp0aGlzLl90aWxlRmV0Y2hlcj8udG90YWxWZXJ0aWNlcz8/MCxtaXNzaW5nVGlsZXM6dGhpcy5fdGlsZUZldGNoZXI/Lm1pc3NpbmdUaWxlcz8/MH19fTtlKFtnKHtyZWFkT25seTohMH0pXSxULnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW2coe2NvbnN0cnVjdE9ubHk6ITB9KV0sVC5wcm90b3R5cGUsXCJncmFwaGljc1wiLHZvaWQgMCksZShbZyh7Y29uc3RydWN0T25seTohMH0pXSxULnByb3RvdHlwZSxcImxheWVyVmlld1wiLHZvaWQgMCksZShbZyh7Y29uc3RydWN0T25seTohMH0pXSxULnByb3RvdHlwZSxcImNvbnRleHRcIix2b2lkIDApLGUoW2coKV0sVC5wcm90b3R5cGUsXCJleHRlbnRcIixudWxsKSxlKFtnKCldLFQucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxlKFtnKHtyZWFkT25seTohMH0pXSxULnByb3RvdHlwZSxcIl91cGRhdGluZ0hhbmRsZXNcIix2b2lkIDApLGUoW2coKV0sVC5wcm90b3R5cGUsXCJ1cGRhdGluZ1RvdGFsXCIsbnVsbCksZShbZygpXSxULnByb3RvdHlwZSxcInVwZGF0aW5nUmVtYWluaW5nXCIsbnVsbCksZShbZygpXSxULnByb3RvdHlwZSxcImV4cGVjdGVkRmVhdHVyZURpZmZcIixudWxsKSxlKFtnKCldLFQucHJvdG90eXBlLFwibWVtb3J5Rm9yVW51c2VkRmVhdHVyZXNcIixudWxsKSxlKFtnKCldLFQucHJvdG90eXBlLFwibWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZFwiLG51bGwpLGUoW2coe3JlYWRPbmx5OiEwfSldLFQucHJvdG90eXBlLFwic2VydmljZURhdGFFeHRlbnRcIix2b2lkIDApLGUoW2coe3JlYWRPbmx5OiEwfSldLFQucHJvdG90eXBlLFwic2VydmljZURhdGFDb3VudFwiLHZvaWQgMCksZShbZygpXSxULnByb3RvdHlwZSxcIl9zbmFwc2hvdExpbWl0RXhjZWVkZWRcIix2b2lkIDApLGUoW2coKV0sVC5wcm90b3R5cGUsXCJkaXNwbGF5RmVhdHVyZUxpbWl0XCIsdm9pZCAwKSxlKFtnKHt0eXBlOk51bWJlcn0pXSxULnByb3RvdHlwZSxcIm1heGltdW1OdW1iZXJPZkZlYXR1cmVzXCIsbnVsbCksZShbZygpXSxULnByb3RvdHlwZSxcIl9mb3JjZVRpbGVzTW9kZVwiLHZvaWQgMCksZShbZyh7cmVhZE9ubHk6ITB9KV0sVC5wcm90b3R5cGUsXCJtb2RlXCIsbnVsbCksZShbZyh7cmVhZE9ubHk6ITB9KV0sVC5wcm90b3R5cGUsXCJtYXhUb3RhbFNuYXBzaG90VmVydGljZXNcIixudWxsKSxlKFtnKHtyZWFkT25seTohMH0pXSxULnByb3RvdHlwZSxcInRpbGVEZXNjcmlwdG9yc1wiLG51bGwpLGUoW2coKV0sVC5wcm90b3R5cGUsXCJfdGlsZUZldGNoZXJcIix2b2lkIDApLGUoW2coKV0sVC5wcm90b3R5cGUsXCJfZmV0Y2hEYXRhSW5mb1Byb21pc2VcIix2b2lkIDApLFQ9ZShbRihcImVzcmkubGF5ZXJzLmdyYXBoaWNzLmNvbnRyb2xsZXJzLkZlYXR1cmVUaWxlQ29udHJvbGxlcjNEXCIpXSxUKTtjb25zdCBWPTFlNCxIPTFlNixMPTEyZTMsST0xZTQsTz01ZTY7ZnVuY3Rpb24gcShlLHQpe2lmKCF0KXJldHVybiExO2Zvcihjb25zdCBpIG9mIHQpaWYoIWUuaGFzKGkpKXJldHVybiEwO3JldHVybiExfXZhciBqOyFmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7ZS5tYXhGZWF0dXJlQ291bnRGb3JFeHRlbnQ9VixlLnF1ZXJ5U3RhdGlzdGljc1RpbWVvdXQ9TCxlLnF1ZXJ5RXh0ZW50VGltZW91dD1JfWUubm9TZXJ2aWNlRGF0YUNvdW50PTEvMCxlLm1heFNuYXBzaG90TWluU2NhbGVGYWN0b3I9NSxlLnJlc2V0PXR9KGp8fChqPXt9KSksai5yZXNldCgpO2V4cG9ydHtUIGFzIEZlYXR1cmVUaWxlQ29udHJvbGxlcjNELGogYXMgRmVhdHVyZVRpbGVDb250cm9sbGVyM0RDb25zdGFudHN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7UG9vbGVkUkJ1c2ggYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2xpYnMvcmJ1c2gvUG9vbGVkUkJ1c2guanNcIjtpbXBvcnR7ZW1wdHkgYXMgc31mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7Y29uc3QgZD01ZTQsbj17bWluWDowLG1pblk6MCxtYXhYOjAsbWF4WTowfTtmdW5jdGlvbiB0KGkpe24ubWluWD1pWzBdLG4ubWluWT1pWzFdLG4ubWF4WD1pWzJdLG4ubWF4WT1pWzNdfWZ1bmN0aW9uIGUoaSxzLGQpe3QocyksaS5zZWFyY2gobixkKX1jbGFzcyBve2NvbnN0cnVjdG9yKCl7dGhpcy5faW5kZXhJbnZhbGlkPSExLHRoaXMuX2JvdW5kc1RvTG9hZD1bXSx0aGlzLl9ib3VuZHNCeUlkPW5ldyBNYXAsdGhpcy5faWRCeUJvdW5kcz1uZXcgTWFwLHRoaXMuX2luZGV4PW5ldyBpKDksaGFzKFwiZXNyaS1jc3AtcmVzdHJpY3Rpb25zXCIpP2k9Pih7bWluWDppWzBdLG1pblk6aVsxXSxtYXhYOmlbMl0sbWF4WTppWzNdfSk6W1wiWzBdXCIsXCJbMV1cIixcIlsyXVwiLFwiWzNdXCJdKSx0aGlzLl9sb2FkSW5kZXg9KCk9PntpZih0aGlzLl9pbmRleEludmFsaWQpe2NvbnN0IGk9bmV3IEFycmF5KHRoaXMuX2lkQnlCb3VuZHMuc2l6ZSk7bGV0IHM9MDt0aGlzLl9pZEJ5Qm91bmRzLmZvckVhY2goKChkLG4pPT57aVtzKytdPW59KSksdGhpcy5faW5kZXhJbnZhbGlkPSExLHRoaXMuX2luZGV4LmNsZWFyKCksdGhpcy5faW5kZXgubG9hZChpKX1lbHNlIHRoaXMuX2JvdW5kc1RvTG9hZC5sZW5ndGgmJih0aGlzLl9pbmRleC5sb2FkKEFycmF5LmZyb20obmV3IFNldCh0aGlzLl9ib3VuZHNUb0xvYWQuZmlsdGVyKChpPT50aGlzLl9pZEJ5Qm91bmRzLmhhcyhpKSkpKSkpLHRoaXMuX2JvdW5kc1RvTG9hZC5sZW5ndGg9MCl9fWdldCBmdWxsQm91bmRzKCl7aWYoIXRoaXMuX2JvdW5kc0J5SWQuc2l6ZSlyZXR1cm4gbnVsbDtjb25zdCBpPXMoKTtmb3IoY29uc3QgcyBvZiB0aGlzLl9ib3VuZHNCeUlkLnZhbHVlcygpKXMmJihpWzBdPU1hdGgubWluKHNbMF0saVswXSksaVsxXT1NYXRoLm1pbihzWzFdLGlbMV0pLGlbMl09TWF0aC5tYXgoc1syXSxpWzJdKSxpWzNdPU1hdGgubWF4KHNbM10saVszXSkpO3JldHVybiBpfWdldCB2YWxpZCgpe3JldHVybiF0aGlzLl9pbmRleEludmFsaWR9Y2xlYXIoKXt0aGlzLl9pbmRleEludmFsaWQ9ITEsdGhpcy5fYm91bmRzVG9Mb2FkLmxlbmd0aD0wLHRoaXMuX2JvdW5kc0J5SWQuY2xlYXIoKSx0aGlzLl9pZEJ5Qm91bmRzLmNsZWFyKCksdGhpcy5faW5kZXguY2xlYXIoKX1kZWxldGUoaSl7Y29uc3Qgcz10aGlzLl9ib3VuZHNCeUlkLmdldChpKTt0aGlzLl9ib3VuZHNCeUlkLmRlbGV0ZShpKSxzJiYodGhpcy5faWRCeUJvdW5kcy5kZWxldGUocyksdGhpcy5faW5kZXhJbnZhbGlkfHx0aGlzLl9pbmRleC5yZW1vdmUocykpfWZvckVhY2hJbkJvdW5kcyhpLHMpe3RoaXMuX2xvYWRJbmRleCgpLGUodGhpcy5faW5kZXgsaSwoaT0+cyh0aGlzLl9pZEJ5Qm91bmRzLmdldChpKSkpKX1nZXQoaSl7cmV0dXJuIHRoaXMuX2JvdW5kc0J5SWQuZ2V0KGkpfWhhcyhpKXtyZXR1cm4gdGhpcy5fYm91bmRzQnlJZC5oYXMoaSl9aW52YWxpZGF0ZUluZGV4KCl7dGhpcy5faW5kZXhJbnZhbGlkfHwodGhpcy5faW5kZXhJbnZhbGlkPSEwLHRoaXMuX2JvdW5kc1RvTG9hZC5sZW5ndGg9MCl9c2V0KGkscyl7aWYoIXRoaXMuX2luZGV4SW52YWxpZCl7Y29uc3Qgcz10aGlzLl9ib3VuZHNCeUlkLmdldChpKTtzJiYodGhpcy5faW5kZXgucmVtb3ZlKHMpLHRoaXMuX2lkQnlCb3VuZHMuZGVsZXRlKHMpKX10aGlzLl9ib3VuZHNCeUlkLnNldChpLHMpLHMmJih0aGlzLl9pZEJ5Qm91bmRzLnNldChzLGkpLHRoaXMuX2luZGV4SW52YWxpZHx8KHRoaXMuX2JvdW5kc1RvTG9hZC5wdXNoKHMpLHRoaXMuX2JvdW5kc1RvTG9hZC5sZW5ndGg+ZCYmdGhpcy5fbG9hZEluZGV4KCkpKX19ZXhwb3J0e28gYXMgQm91bmRzU3RvcmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtpc1NvbWUgYXMgZX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vY29yZS9FdmVudGVkLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIG8sZnJvbVJlY3QgYXMgaX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdCb3guanNcIjtpbXBvcnR7Y3JlYXRlIGFzIG59ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtnZXRCb3VuZHNPcHRpbWl6ZWRHZW9tZXRyeSBhcyBhfWZyb21cIi4uL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7Qm91bmRzU3RvcmUgYXMgZH1mcm9tXCIuL0JvdW5kc1N0b3JlLmpzXCI7aW1wb3J0e2NsZWFuRnJvbUdlb21ldHJ5RW5naW5lIGFzIHV9ZnJvbVwiLi9nZW9tZXRyeVV0aWxzLmpzXCI7aW1wb3J0e29wdGltaXplZEZlYXR1cmVRdWVyeUVuZ2luZUFkYXB0ZXIgYXMgaH1mcm9tXCIuL29wdGltaXplZEZlYXR1cmVRdWVyeUVuZ2luZUFkYXB0ZXIuanNcIjtjb25zdCBmPW8oKTtjbGFzcyBte2NvbnN0cnVjdG9yKGUpe3RoaXMuZ2VvbWV0cnlJbmZvPWUsdGhpcy5fYm91bmRzU3RvcmU9bmV3IGQsdGhpcy5fZmVhdHVyZXNCeUlkPW5ldyBNYXAsdGhpcy5fbWFya2VkSWRzPW5ldyBTZXQsdGhpcy5ldmVudHM9bmV3IHIsdGhpcy5mZWF0dXJlQWRhcHRlcj1ofWdldCBnZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5nZW9tZXRyeUluZm8uZ2VvbWV0cnlUeXBlfWdldCBoYXNNKCl7cmV0dXJuIHRoaXMuZ2VvbWV0cnlJbmZvLmhhc019Z2V0IGhhc1ooKXtyZXR1cm4gdGhpcy5nZW9tZXRyeUluZm8uaGFzWn1nZXQgbnVtRmVhdHVyZXMoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZXNCeUlkLnNpemV9Z2V0IGZ1bGxCb3VuZHMoKXtyZXR1cm4gdGhpcy5fYm91bmRzU3RvcmUuZnVsbEJvdW5kc31nZXQgc3RvcmVTdGF0aXN0aWNzKCl7bGV0IGU9MDtyZXR1cm4gdGhpcy5fZmVhdHVyZXNCeUlkLmZvckVhY2goKHQ9PntudWxsIT10Lmdlb21ldHJ5JiZ0Lmdlb21ldHJ5LmNvb3JkcyYmKGUrPXQuZ2VvbWV0cnkuY29vcmRzLmxlbmd0aCl9KSkse2ZlYXR1cmVDb3VudDp0aGlzLl9mZWF0dXJlc0J5SWQuc2l6ZSx2ZXJ0ZXhDb3VudDplLyh0aGlzLmhhc1o/dGhpcy5oYXNNPzQ6Mzp0aGlzLmhhc00/MzoyKX19Z2V0RnVsbEV4dGVudChlKXtpZihudWxsPT10aGlzLmZ1bGxCb3VuZHMpcmV0dXJuIG51bGw7Y29uc3RbdCxyLHMsb109dGhpcy5mdWxsQm91bmRzO3JldHVybnt4bWluOnQseW1pbjpyLHhtYXg6cyx5bWF4Om8sc3BhdGlhbFJlZmVyZW5jZTp1KGUpfX1hZGQoZSl7dGhpcy5fYWRkKGUpLHRoaXMuX2VtaXRDaGFuZ2VkKCl9YWRkTWFueShlKXtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX2FkZCh0KTt0aGlzLl9lbWl0Q2hhbmdlZCgpfXVwc2VydE1hbnkodCl7Y29uc3Qgcj10Lm1hcCgoZT0+dGhpcy5fdXBzZXJ0KGUpKSk7cmV0dXJuIHRoaXMuX2VtaXRDaGFuZ2VkKCksci5maWx0ZXIoZSl9Y2xlYXIoKXt0aGlzLl9mZWF0dXJlc0J5SWQuY2xlYXIoKSx0aGlzLl9ib3VuZHNTdG9yZS5jbGVhcigpLHRoaXMuX2VtaXRDaGFuZ2VkKCl9cmVtb3ZlQnlJZChlKXtjb25zdCB0PXRoaXMuX2ZlYXR1cmVzQnlJZC5nZXQoZSk7cmV0dXJuIHQ/KHRoaXMuX3JlbW92ZSh0KSx0aGlzLl9lbWl0Q2hhbmdlZCgpLHQpOm51bGx9cmVtb3ZlTWFueUJ5SWQoZSl7dGhpcy5fYm91bmRzU3RvcmUuaW52YWxpZGF0ZUluZGV4KCk7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10aGlzLl9mZWF0dXJlc0J5SWQuZ2V0KHQpO2UmJnRoaXMuX3JlbW92ZShlKX10aGlzLl9lbWl0Q2hhbmdlZCgpfWZvckVhY2hCb3VuZHMoZSx0KXtmb3IoY29uc3QgciBvZiBlKXtjb25zdCBlPXRoaXMuX2JvdW5kc1N0b3JlLmdldChyLm9iamVjdElkKTtlJiZ0KGkoZixlKSl9fWdldEZlYXR1cmUoZSl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVzQnlJZC5nZXQoZSl9aGFzKGUpe3JldHVybiB0aGlzLl9mZWF0dXJlc0J5SWQuaGFzKGUpfWZvckVhY2goZSl7dGhpcy5fZmVhdHVyZXNCeUlkLmZvckVhY2goKHQ9PmUodCkpKX1mb3JFYWNoSW5Cb3VuZHMoZSx0KXt0aGlzLl9ib3VuZHNTdG9yZS5mb3JFYWNoSW5Cb3VuZHMoZSwoZT0+e3QodGhpcy5fZmVhdHVyZXNCeUlkLmdldChlKSl9KSl9c3RhcnRNYXJraW5nVXNlZEZlYXR1cmVzKCl7dGhpcy5fYm91bmRzU3RvcmUuaW52YWxpZGF0ZUluZGV4KCksdGhpcy5fbWFya2VkSWRzLmNsZWFyKCl9c3dlZXAoKXtsZXQgZT0hMTt0aGlzLl9mZWF0dXJlc0J5SWQuZm9yRWFjaCgoKHQscik9Pnt0aGlzLl9tYXJrZWRJZHMuaGFzKHIpfHwoZT0hMCx0aGlzLl9yZW1vdmUodCkpfSkpLHRoaXMuX21hcmtlZElkcy5jbGVhcigpLGUmJnRoaXMuX2VtaXRDaGFuZ2VkKCl9X2VtaXRDaGFuZ2VkKCl7dGhpcy5ldmVudHMuZW1pdChcImNoYW5nZWRcIix2b2lkIDApfV9hZGQoZSl7aWYoIWUpcmV0dXJuO2NvbnN0IHI9ZS5vYmplY3RJZDtpZihudWxsPT1yKXJldHVybiB2b2lkIHMuZ2V0TG9nZ2VyKFwiZXNyaS5sYXllcnMuZ3JhcGhpY3MuZGF0YS5GZWF0dXJlU3RvcmVcIikuZXJyb3IobmV3IHQoXCJmZWF0dXJlc3RvcmU6aW52YWxpZC1mZWF0dXJlXCIsXCJmZWF0dXJlIGlkIGlzIG1pc3NpbmdcIix7ZmVhdHVyZTplfSkpO2NvbnN0IG89dGhpcy5fZmVhdHVyZXNCeUlkLmdldChyKTtsZXQgaTtpZih0aGlzLl9tYXJrZWRJZHMuYWRkKHIpLG8/KGUuZGlzcGxheUlkPW8uZGlzcGxheUlkLGk9dGhpcy5fYm91bmRzU3RvcmUuZ2V0KHIpLHRoaXMuX2JvdW5kc1N0b3JlLmRlbGV0ZShyKSk6bnVsbCE9dGhpcy5vbkZlYXR1cmVBZGQmJnRoaXMub25GZWF0dXJlQWRkKGUpLCFlLmdlb21ldHJ5Py5jb29yZHM/Lmxlbmd0aClyZXR1cm4gdGhpcy5fYm91bmRzU3RvcmUuc2V0KHIsbnVsbCksdm9pZCB0aGlzLl9mZWF0dXJlc0J5SWQuc2V0KHIsZSk7aT1hKG51bGwhPWk/aTpuKCksZS5nZW9tZXRyeSx0aGlzLmdlb21ldHJ5SW5mby5oYXNaLHRoaXMuZ2VvbWV0cnlJbmZvLmhhc00pLG51bGwhPWkmJnRoaXMuX2JvdW5kc1N0b3JlLnNldChyLGkpLHRoaXMuX2ZlYXR1cmVzQnlJZC5zZXQocixlKX1fdXBzZXJ0KGUpe2NvbnN0IHI9ZT8ub2JqZWN0SWQ7aWYobnVsbD09cilyZXR1cm4gcy5nZXRMb2dnZXIoXCJlc3JpLmxheWVycy5ncmFwaGljcy5kYXRhLkZlYXR1cmVTdG9yZVwiKS5lcnJvcihuZXcgdChcImZlYXR1cmVzdG9yZTppbnZhbGlkLWZlYXR1cmVcIixcImZlYXR1cmUgaWQgaXMgbWlzc2luZ1wiLHtmZWF0dXJlOmV9KSksbnVsbDtjb25zdCBvPXRoaXMuX2ZlYXR1cmVzQnlJZC5nZXQocik7aWYoIW8pcmV0dXJuIHRoaXMuX2FkZChlKSxlO3RoaXMuX21hcmtlZElkcy5hZGQocik7Y29uc3R7Z2VvbWV0cnk6aSxhdHRyaWJ1dGVzOmR9PWU7Zm9yKGNvbnN0IHQgaW4gZClvLmF0dHJpYnV0ZXNbdF09ZFt0XTtyZXR1cm4gaSYmKG8uZ2VvbWV0cnk9aSx0aGlzLl9ib3VuZHNTdG9yZS5zZXQocixhKG4oKSxpLHRoaXMuZ2VvbWV0cnlJbmZvLmhhc1osdGhpcy5nZW9tZXRyeUluZm8uaGFzTSk/P251bGwpKSxvfV9yZW1vdmUoZSl7bnVsbCE9dGhpcy5vbkZlYXR1cmVSZW1vdmUmJnRoaXMub25GZWF0dXJlUmVtb3ZlKGUpO2NvbnN0IHQ9ZS5vYmplY3RJZDtyZXR1cm4gdGhpcy5fbWFya2VkSWRzLmRlbGV0ZSh0KSx0aGlzLl9ib3VuZHNTdG9yZS5kZWxldGUodCksdGhpcy5fZmVhdHVyZXNCeUlkLmRlbGV0ZSh0KSxlfX1leHBvcnR7bSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBvKG8pe2NvbnN0IG49by5sYXllcjtpZihcImZsb29ySW5mb1wiaW4gbiYmbi5mbG9vckluZm8/LmZsb29yRmllbGQmJlwiZmxvb3JzXCJpbiBvLnZpZXcpe3JldHVybiBsKG8udmlldy5mbG9vcnMsbi5mbG9vckluZm8uZmxvb3JGaWVsZCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbihvLG4pe3JldHVyblwiZmxvb3JJbmZvXCJpbiBuJiZuLmZsb29ySW5mbz8uZmxvb3JGaWVsZD9sKG8sbi5mbG9vckluZm8uZmxvb3JGaWVsZCk6bnVsbH1mdW5jdGlvbiBsKG8sbil7aWYoIW8/Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBsPW8uZmlsdGVyKChvPT5cIlwiIT09bykpLm1hcCgobz0+YCcke299J2ApKTtyZXR1cm4gbC5wdXNoKFwiJydcIiksYCR7bn0gSU4gKCR7bC5qb2luKFwiLFwiKX0pIE9SICR7bn0gSVMgTlVMTGB9ZXhwb3J0e28gYXMgZ2V0Rmxvb3JGaWx0ZXJDbGF1c2UsbiBhcyBnZXRMYXllckZsb29yRmlsdGVyQ2xhdXNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Z2V0TWV0ZXJzUGVyVW5pdCBhcyBlfWZyb21cIi4uL3N5bWJvbHMvc3VwcG9ydC91bml0Q29udmVyc2lvblV0aWxzLmpzXCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZT95Olp9ZnVuY3Rpb24gdChlLHQpe3JldHVybiB0Py5tb2RlP3QubW9kZTpuKGUpLm1vZGV9ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBudWxsIT10P3Q6bihlKX1mdW5jdGlvbiByKGUsbil7cmV0dXJuIHQobnVsbCE9ZSYmZS5oYXNaLG4pfWZ1bmN0aW9uIHUoZSxuKXtyZXR1cm4gbyhudWxsIT1lJiYhIWUuaGFzWixuKX1mdW5jdGlvbiBsKGUpe2NvbnN0IG49YShlKTtyZXR1cm4gcihlLmdlb21ldHJ5LG4pfWZ1bmN0aW9uIHMobil7Y29uc3QgdD1hKG4pLG89cihuLmdlb21ldHJ5LHQpO3JldHVybnttb2RlOm8sb2Zmc2V0Om51bGwhPXQmJlwib24tdGhlLWdyb3VuZFwiIT09bz8odC5vZmZzZXQ/PzApKmUodC51bml0Pz9cIm1ldGVyc1wiKTowfX1mdW5jdGlvbiBpKGUpe2lmKFwib24tdGhlLWdyb3VuZFwiPT09bChlKSlyZXR1cm4hMTtjb25zdCBuPWEoZSksdD1uPy5mZWF0dXJlRXhwcmVzc2lvbkluZm8/bi5mZWF0dXJlRXhwcmVzc2lvbkluZm8uZXhwcmVzc2lvbjpudWxsO3JldHVybiEoIXR8fFwiMFwiPT09dCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZS5sYXllciYmXCJlbGV2YXRpb25JbmZvXCJpbiBlLmxheWVyP2UubGF5ZXIuZWxldmF0aW9uSW5mbzpudWxsfWZ1bmN0aW9uIGYoZSxuLHQpe2lmKCF0Py5tb2RlKXJldHVybjtjb25zdCBvPWUuaGFzWj9lLno6MCxyPW51bGwhPXQub2Zmc2V0P3Qub2Zmc2V0OjA7c3dpdGNoKHQubW9kZSl7Y2FzZVwiYWJzb2x1dGUtaGVpZ2h0XCI6cmV0dXJuIG8tcjtjYXNlXCJvbi10aGUtZ3JvdW5kXCI6cmV0dXJuIDA7Y2FzZVwicmVsYXRpdmUtdG8tZ3JvdW5kXCI6cmV0dXJuIG8tKChuLmVsZXZhdGlvblByb3ZpZGVyLmdldEVsZXZhdGlvbihlLngsZS55LG8sZS5zcGF0aWFsUmVmZXJlbmNlLFwiZ3JvdW5kXCIpPz8wKStyKTtjYXNlXCJyZWxhdGl2ZS10by1zY2VuZVwiOnJldHVybiBvLSgobi5lbGV2YXRpb25Qcm92aWRlci5nZXRFbGV2YXRpb24oZS54LGUueSxvLGUuc3BhdGlhbFJlZmVyZW5jZSxcInNjZW5lXCIpPz8wKStyKX19ZnVuY3Rpb24gYyhlLG4sdCxvPW51bGwpe3JldHVybiB2KGUsbi54LG4ueSxuLmhhc1o/bi56OjAsbi5zcGF0aWFsUmVmZXJlbmNlLHQsbyl9ZnVuY3Rpb24gZChlLG4sdCxvLHI9bnVsbCl7cmV0dXJuIHYoZSxuWzBdLG5bMV0sbi5sZW5ndGg+Mj9uWzJdOjAsdCxvLHIpfWZ1bmN0aW9uIHYoZSxuLHQsbyxyLHUsbD1udWxsKXtpZihudWxsPT11KXJldHVybjtjb25zdCBzPW51bGwhPWw/bC5tb2RlOlwiYWJzb2x1dGUtaGVpZ2h0XCI7aWYoXCJvbi10aGUtZ3JvdW5kXCI9PT1zKXJldHVybiAwO2NvbnN0e2Fic29sdXRlWjppfT1nKG4sdCxvLHIsZSx1KTtyZXR1cm4gaChpLG4sdCxvLHIsZSxsLHMpfWZ1bmN0aW9uIGcoZSxuLHQsbyxyLHUpe2NvbnN0IGw9bnVsbCE9dS5vZmZzZXQ/dS5vZmZzZXQ6MDtzd2l0Y2godS5tb2RlKXtjYXNlXCJhYnNvbHV0ZS1oZWlnaHRcIjpyZXR1cm57YWJzb2x1dGVaOnQrbCxlbGV2YXRpb246MH07Y2FzZVwib24tdGhlLWdyb3VuZFwiOntjb25zdCB0PXIuZWxldmF0aW9uUHJvdmlkZXIuZ2V0RWxldmF0aW9uKGUsbiwwLG8sXCJncm91bmRcIik/PzA7cmV0dXJue2Fic29sdXRlWjp0LGVsZXZhdGlvbjp0fX1jYXNlXCJyZWxhdGl2ZS10by1ncm91bmRcIjp7Y29uc3QgdT1yLmVsZXZhdGlvblByb3ZpZGVyLmdldEVsZXZhdGlvbihlLG4sdCxvLFwiZ3JvdW5kXCIpPz8wO3JldHVybnthYnNvbHV0ZVo6dCt1K2wsZWxldmF0aW9uOnV9fWNhc2VcInJlbGF0aXZlLXRvLXNjZW5lXCI6e2NvbnN0IHU9ci5lbGV2YXRpb25Qcm92aWRlci5nZXRFbGV2YXRpb24oZSxuLHQsbyxcInNjZW5lXCIpPz8wO3JldHVybnthYnNvbHV0ZVo6dCt1K2wsZWxldmF0aW9uOnV9fX19ZnVuY3Rpb24gaChlLG4sdCxvLHIsdSxsLHMpe2NvbnN0IGk9bnVsbCE9bD8ub2Zmc2V0P2wub2Zmc2V0OjA7c3dpdGNoKHMpe2Nhc2VcImFic29sdXRlLWhlaWdodFwiOnJldHVybiBlLWk7Y2FzZVwicmVsYXRpdmUtdG8tZ3JvdW5kXCI6cmV0dXJuIGUtKCh1LmVsZXZhdGlvblByb3ZpZGVyLmdldEVsZXZhdGlvbihuLHQsbyxyLFwiZ3JvdW5kXCIpPz8wKStpKTtjYXNlXCJyZWxhdGl2ZS10by1zY2VuZVwiOnJldHVybiBlLSgodS5lbGV2YXRpb25Qcm92aWRlci5nZXRFbGV2YXRpb24obix0LG8scixcInNjZW5lXCIpPz8wKStpKX19ZnVuY3Rpb24gbShlLG4pe2lmKG51bGw9PW4pcmV0dXJuITE7Y29uc3R7bW9kZTp0fT1uO3JldHVybiBudWxsIT10JiYoXCJzY2VuZVwiPT09ZSYmXCJyZWxhdGl2ZS10by1zY2VuZVwiPT09dHx8XCJncm91bmRcIj09PWUmJlwiYWJzb2x1dGUtaGVpZ2h0XCIhPT10KX1mdW5jdGlvbiBwKGUsbix0KXtyZXR1cm4gdCYmdC5tb2RlIT09bj9gJHtlfSBvbmx5IHN1cHBvcnQgJHtufSBlbGV2YXRpb24gbW9kZWA6bnVsbH1mdW5jdGlvbiBiKGUsbix0KXtyZXR1cm4gdD8ubW9kZT09PW4/YCR7ZX0gZG8gbm90IHN1cHBvcnQgJHtufSBlbGV2YXRpb24gbW9kZWA6bnVsbH1mdW5jdGlvbiBFKGUsbil7cmV0dXJuIG51bGwhPW4/LmZlYXR1cmVFeHByZXNzaW9uSW5mbyYmXCIwXCIhPT1uLmZlYXR1cmVFeHByZXNzaW9uSW5mby5leHByZXNzaW9uP2Ake2V9IGRvIG5vdCBzdXBwb3J0IGZlYXR1cmVFeHByZXNzaW9uSW5mb2A6bnVsbH1mdW5jdGlvbiB4KGUsbil7biYmZS53YXJuKFwiLmVsZXZhdGlvbkluZm89XCIsbil9Y29uc3QgeT17bW9kZTpcImFic29sdXRlLWhlaWdodFwiLG9mZnNldDowfSxaPXttb2RlOlwib24tdGhlLWdyb3VuZFwiLG9mZnNldDpudWxsfTtmdW5jdGlvbiBJKGUsbil7cmV0dXJuIGU9PT1ufHxudWxsIT1lJiZudWxsIT1uJiZlLm1vZGU9PT1uLm1vZGUmJmUub2Zmc2V0PT09bi5vZmZzZXR9ZXhwb3J0e3kgYXMgYWJzb2x1dGVIZWlnaHRFbGV2YXRpb25JbmZvLG0gYXMgZWxldmF0aW9uQ29udGV4dEFmZmVjdHNBbGlnbm1lbnQsSSBhcyBlbGV2YXRpb25JbmZvTGlrZUVxdWFscyxwIGFzIGVsZXZhdGlvbk1vZGVSZXF1aXJlZE1lc3NhZ2UsYiBhcyBlbGV2YXRpb25Nb2RlVW5zdXBwb3J0ZWRNZXNzYWdlLEUgYXMgZmVhdHVyZUV4cHJlc3Npb25VbnN1cHBvcnRlZE1lc3NhZ2UsYyBhcyBnZXRDb252ZXJ0ZWRFbGV2YXRpb24sZCBhcyBnZXRDb252ZXJ0ZWRFbGV2YXRpb25Gcm9tVmVjdG9yLG8gYXMgZ2V0RWZmZWN0aXZlRWxldmF0aW9uSW5mbyx0IGFzIGdldEVmZmVjdGl2ZUVsZXZhdGlvbk1vZGUsdSBhcyBnZXRHZW9tZXRyeUVmZmVjdGl2ZUVsZXZhdGlvbkluZm8sciBhcyBnZXRHZW9tZXRyeUVmZmVjdGl2ZUVsZXZhdGlvbk1vZGUscyBhcyBnZXRHcmFwaGljRWZmZWN0aXZlRWxldmF0aW9uSW5mbyxsIGFzIGdldEdyYXBoaWNFZmZlY3RpdmVFbGV2YXRpb25Nb2RlLGYgYXMgZ2V0WkZvckVsZXZhdGlvbk1vZGUsaSBhcyBoYXNHcmFwaGljRmVhdHVyZUV4cHJlc3Npb25JbmZvLHggYXMgbG9nSW52YWxpZEVsZXZhdGlvbkluZm9XYXJuaW5nLFogYXMgb25UaGVHcm91bmRFbGV2YXRpb25JbmZvLGcgYXMgelZhbHVlSW5BYnNvbHV0ZUhlaWdodE1vZGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtpbml0aWFsIGFzIHMsd2hlbk9uY2UgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgaX1mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIG59ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtoeWRyYXRlR3JhcGhpYyBhcyBhfWZyb21cIi4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9oeWRyYXRlZEZlYXR1cmVzLmpzXCI7aW1wb3J0e0ZlYXR1cmVUaWxlQ29udHJvbGxlcjNEIGFzIGx9ZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2NvbnRyb2xsZXJzL0ZlYXR1cmVUaWxlQ29udHJvbGxlcjNELmpzXCI7aW1wb3J0IHAgZnJvbVwiLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e3N5bWJvbEhhc0V4dHJ1ZGVTeW1ib2xMYXllciBhcyB1fWZyb21cIi4uLy4uLy4uL3N5bWJvbHMvc3VwcG9ydC91dGlscy5qc1wiO2ltcG9ydHtlbGV2YXRpb25BbGlnblBvaW50c0luRmVhdHVyZXMgYXMgY31mcm9tXCIuL2dyYXBoaWNzL2VsZXZhdGlvbkFsaWduUG9pbnRzSW5GZWF0dXJlcy5qc1wiO2ltcG9ydHtHcmFwaGljczNERmVhdHVyZVByb2Nlc3NvciBhcyBofWZyb21cIi4vZ3JhcGhpY3MvR3JhcGhpY3MzREZlYXR1cmVQcm9jZXNzb3IuanNcIjtpbXBvcnR7UXVlcnlFbmdpbmUgYXMgZH1mcm9tXCIuL2dyYXBoaWNzL1F1ZXJ5RW5naW5lLmpzXCI7aW1wb3J0e3F1ZXJ5Rm9yU3ltYm9sb2d5U25hcHBpbmcgYXMgeX1mcm9tXCIuL2dyYXBoaWNzL3F1ZXJ5Rm9yU3ltYm9sb2d5U25hcHBpbmcuanNcIjtpbXBvcnR7SGVhdG1hcEZlYXR1cmVQcm9jZXNzb3IgYXMgZ31mcm9tXCIuL3N1cHBvcnQvSGVhdG1hcEZlYXR1cmVQcm9jZXNzb3IuanNcIjtpbXBvcnR7dG9WaWV3SWZMb2NhbCBhcyBtfWZyb21cIi4vc3VwcG9ydC9wcm9qZWN0RXh0ZW50VXRpbHMuanNcIjtpbXBvcnR7VXBkYXRlUG9saWN5IGFzIGZ9ZnJvbVwiLi4vd2ViZ2wtZW5naW5lL2xpYi9VcGRhdGVQb2xpY3kuanNcIjtpbXBvcnR7VGFza1ByaW9yaXR5IGFzIGJ9ZnJvbVwiLi4vLi4vc3VwcG9ydC9TY2hlZHVsZXIuanNcIjtjb25zdCBFPUU9PntsZXQgdj1jbGFzcyBleHRlbmRzIEV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY29udHJvbGxlcj1udWxsLHRoaXMudXBkYXRlUG9saWN5PWYuU1lOQyx0aGlzLnN1c3BlbmRSZXN1bWVFeHRlbnRNb2RlPVwiY29tcHV0ZWRcIix0aGlzLnNsaWNlUGxhbmVFbmFibGVkPSExLHRoaXMuZnVsbEV4dGVudEluTG9jYWxWaWV3U3BhdGlhbFJlZmVyZW5jZT1udWxsLHRoaXMuc3VzcGVuZFJlc3VtZUV4dGVudD1udWxsLHRoaXMuX2NvbnRyb2xsZXJDcmVhdGVkPSExLHRoaXMuc3VwcG9ydHNIZWlnaHRVbml0Q29udmVyc2lvbj0hMCx0aGlzLl9wZW5kaW5nQ29udHJvbGxlcj1udWxsLHRoaXMucXVlcnlFbmdpbmU9bnVsbH1pbml0aWFsaXplKCl7Y29uc3QgZT10aGlzLmxheWVyO2lmKFwiaXNUYWJsZVwiaW4gZSYmZS5pc1RhYmxlKXJldHVybiB2b2lkIHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShQcm9taXNlLnJlamVjdChuZXcgcihcImZlYXR1cmVsYXllcnZpZXc6dGFibGUtbm90LXN1cHBvcnRlZFwiLFwidGFibGUgZmVhdHVyZSBsYXllciBjYW4ndCBiZSBkaXNwbGF5ZWRcIix7bGF5ZXI6ZX0pKSk7dGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMuX3ZhbGlkYXRlR2VvbWV0cnlUeXBlKCkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLmxheWVyLnJlbmRlcmVyKSwoZT0+dGhpcy5fcmVjcmVhdGVQcm9jZXNzb3IoZSkpLHMpLHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSgoYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgbSh0aGlzKTt0aGlzLmZ1bGxFeHRlbnRJbkxvY2FsVmlld1NwYXRpYWxSZWZlcmVuY2U9ZSxhd2FpdCB0aGlzLl9pbml0aWFsaXplQ29udHJvbGxlcigpfSkoKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMudXBkYXRlUG9saWN5KSwoZT0+dGhpcy5wcm9jZXNzb3IucHJlZmVycmVkVXBkYXRlUG9saWN5PWUpKTtjb25zdCB0PSgpPT50aGlzLnByb2Nlc3Nvci5mZWF0dXJlU3RvcmU7dGhpcy5xdWVyeUVuZ2luZT1uZXcgZCh7Y29udGV4dDp7c3BhdGlhbFJlZmVyZW5jZTp0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSxsYXllcjp0aGlzLmxheWVyLHNjaGVkdWxlcjp0aGlzLnZpZXcucmVzb3VyY2VDb250cm9sbGVyLnNjaGVkdWxlcixnZXQgZmVhdHVyZVN0b3JlKCl7cmV0dXJuIHQoKX0saGFzWjp0aGlzLmhhc1osaGFzTTp0aGlzLmhhc019LHByaW9yaXR5OmIuRkVBVFVSRV9RVUVSWV9FTkdJTkV9KSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpfWRlc3Ryb3koKXt0aGlzLl9kZXN0cm95UGVuZGluZ0NvbnRyb2xsZXIoKSx0aGlzLmNvbnRyb2xsZXI9dCh0aGlzLmNvbnRyb2xsZXIpLHRoaXMuX3NldChcInByb2Nlc3NvclwiLHQodGhpcy5wcm9jZXNzb3IpKSx0aGlzLnF1ZXJ5RW5naW5lPXQodGhpcy5xdWVyeUVuZ2luZSksdGhpcy5sb2FkZWRHcmFwaGljcz1udWxsfV9kZXN0cm95UGVuZGluZ0NvbnRyb2xsZXIoKXt0aGlzLl9wZW5kaW5nQ29udHJvbGxlcj10KHRoaXMuX3BlbmRpbmdDb250cm9sbGVyKX1nZXQgbGVnZW5kRW5hYmxlZCgpe3JldHVybiB0aGlzLmNhblJlc3VtZSgpJiZ0aGlzLnByb2Nlc3Nvcj8ubGVnZW5kRW5hYmxlZH1nZXQgZ3JhcGhpY3MzRFByb2Nlc3Nvcigpe3JldHVyblwiZ3JhcGhpY3MtM2RcIj09PXRoaXMucHJvY2Vzc29yPy50eXBlP3RoaXMucHJvY2Vzc29yOm51bGx9Z2V0IGhlYXRtYXBQcm9jZXNzb3IoKXtyZXR1cm5cImhlYXRtYXBcIj09PXRoaXMucHJvY2Vzc29yPy50eXBlP3RoaXMucHJvY2Vzc29yOm51bGx9Z2V0IHN5bWJvbG9neVNuYXBwaW5nU3VwcG9ydGVkKCl7Y29uc3QgZT10aGlzLmxheWVyPy5yZW5kZXJlcj8uZ2V0U3ltYm9scygpO3JldHVybiBlPy5zb21lKHUpPz8hMX1nZXRIaXQoZSl7bGV0IHI7cmV0dXJuIHRoaXMubG9hZGVkR3JhcGhpY3M/LmZvckVhY2goKHQ9Pnt0LnVpZD09PWUmJihyPWEodCx0aGlzLmxheWVyKSl9KSkscj97dHlwZTpcImdyYXBoaWNcIixncmFwaGljOnIsbGF5ZXI6ci5sYXllcn06bnVsbH13aGVuR3JhcGhpY0JvdW5kcyhlLHIpe3JldHVybiB0aGlzLnByb2Nlc3Nvcj8ud2hlbkdyYXBoaWNCb3VuZHMoZSxyKX1jb21wdXRlQXR0YWNobWVudE9yaWdpbihlLHIpe3JldHVybiB0aGlzLnByb2Nlc3Nvcj8uY29tcHV0ZUF0dGFjaG1lbnRPcmlnaW4oZSxyKX1hc3luYyBlbGV2YXRpb25BbGlnblBvaW50c0luRmVhdHVyZXMoZSx0KXtjb25zdCBzPXRoaXMuZ3JhcGhpY3MzRFByb2Nlc3NvcjtpZihudWxsPT1zKXRocm93IG5ldyByKFwiZmVhdHVyZWxheWVydmlldzNkOm1pc3NpbmctcHJvY2Vzc29yXCIsXCJBIEdyYXBoaWNzM0QgcHJvY2Vzc29yIGlzIG5lZWRlZCB0byByZXNvbHZlIGdyYXBoaWNzIGVsZXZhdGlvbi5cIik7cmV0dXJuIGModGhpcy52aWV3LHRoaXMubGF5ZXIsKGU9PnMuZ2V0R3JhcGhpY3MzREdyYXBoaWNCeU9iamVjdElkKGUpKSxlLHQpfWFzeW5jIHF1ZXJ5Rm9yU3ltYm9sb2d5U25hcHBpbmcoZSxyKXtyZXR1cm4gdGhpcy5zeW1ib2xvZ3lTbmFwcGluZ1N1cHBvcnRlZD95KHRoaXMuZ3JhcGhpY3MzRFByb2Nlc3NvcixlLHIpOntjYW5kaWRhdGVzOltdLHNvdXJjZUNhbmRpZGF0ZUluZGljZXM6W119fXF1ZXJ5RmVhdHVyZXMoZSxyKXtyZXR1cm4gdGhpcy5xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnkodGhpcy5fZW5zdXJlUXVlcnkoZSkscj8uc2lnbmFsKX1xdWVyeU9iamVjdElkcyhlLHIpe3JldHVybiB0aGlzLnF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvcklkcyh0aGlzLl9lbnN1cmVRdWVyeShlKSxyPy5zaWduYWwpfXF1ZXJ5RmVhdHVyZUNvdW50KGUscil7cmV0dXJuIHRoaXMucXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yQ291bnQodGhpcy5fZW5zdXJlUXVlcnkoZSkscj8uc2lnbmFsKX1xdWVyeUV4dGVudChlLHIpe3JldHVybiB0aGlzLnF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckV4dGVudCh0aGlzLl9lbnN1cmVRdWVyeShlKSxyPy5zaWduYWwpfV9lbnN1cmVRdWVyeShlKXtyZXR1cm4gbnVsbD09ZT90aGlzLmNyZWF0ZVF1ZXJ5KCk6cC5mcm9tKGUpfWhpZ2hsaWdodChlKXtyZXR1cm4gdGhpcy5wcm9jZXNzb3IuaGlnaGxpZ2h0KGUsdGhpcy5sYXllci5vYmplY3RJZEZpZWxkKX1tYXNrT2NjbHVkZWUoZSl7cmV0dXJuIHRoaXMucHJvY2Vzc29yLm1hc2tPY2NsdWRlZShlKX1jYW5SZXN1bWUoKXtyZXR1cm4gc3VwZXIuY2FuUmVzdW1lKCkmJiF0aGlzLnByb2Nlc3Nvcj8uc2NhbGVWaXNpYmlsaXR5U3VzcGVuZGVkfWdldFN1c3BlbmRJbmZvKCl7Y29uc3QgZT1zdXBlci5nZXRTdXNwZW5kSW5mbygpO3JldHVybiB0aGlzLnByb2Nlc3Nvcj97Li4uZSwuLi50aGlzLnByb2Nlc3Nvci5zdXNwZW5kSW5mb306ZX1pc1VwZGF0aW5nKCl7cmV0dXJuISghdGhpcy5wcm9jZXNzb3J8fHRoaXMucHJvY2Vzc29yLmRlc3Ryb3llZCkmJiEodGhpcy5fY29udHJvbGxlckNyZWF0ZWQmJiF0aGlzLmNvbnRyb2xsZXI/LnVwZGF0aW5nJiZ0aGlzLnZpZXc/LmJhc2VtYXBUZXJyYWluPy5yZWFkeSYmIXRoaXMucHJvY2Vzc29yLnVwZGF0aW5nKX1hc3luYyBfaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKXtjb25zdCBlPXRoaXMuY3JlYXRlQ29udHJvbGxlcigpO3RoaXMuX3BlbmRpbmdDb250cm9sbGVyPWUsYXdhaXQgZS53aGVuKCksdGhpcy5fc2V0Q29udHJvbGxlcldoZW5Jbml0aWFsaXplZChlKX1hc3luYyBfc2V0Q29udHJvbGxlcldoZW5Jbml0aWFsaXplZChlKXt0cnl7YXdhaXQgdGhpcy53aGVuKCl9Y2F0Y2gocil7fXRoaXMuX2NvbnRyb2xsZXJDcmVhdGVkPSEwLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksdGhpcy5pc1Jlc29sdmVkKCkmJiF0aGlzLmRlc3Ryb3llZD8oYXdhaXQgbygoKCk9PnRoaXMudmlldz8uYmFzZW1hcFRlcnJhaW4/LnJlYWR5KSksdGhpcy5iZWZvcmVTZXRDb250cm9sbGVyKGUpLHRoaXMuX3BlbmRpbmdDb250cm9sbGVyPW51bGwsdGhpcy5jb250cm9sbGVyPWUsdGhpcy5sb2FkZWRHcmFwaGljcz1lLmdyYXBoaWNzLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIikpOnRoaXMuX2Rlc3Ryb3lQZW5kaW5nQ29udHJvbGxlcigpfV91cGRhdGVDbGlwcGluZ0V4dGVudChlKXtpZih0aGlzLmNsaXBwaW5nRXh0ZW50PWUsIXRoaXMuY29udHJvbGxlcilyZXR1cm4hMTtzd2l0Y2godGhpcy5jb250cm9sbGVyLnR5cGUpe2Nhc2VcInN0cmVhbVwiOnJldHVybiExO2Nhc2VcImZlYXR1cmUtdGlsZS0zZFwiOnJldHVybiB0aGlzLmNvbnRyb2xsZXIuZXh0ZW50PWUsITB9fWFzeW5jIF92YWxpZGF0ZUdlb21ldHJ5VHlwZSgpe3N3aXRjaCh0aGlzLmxheWVyLmdlb21ldHJ5VHlwZSl7Y2FzZVwibXVsdGlwYXRjaFwiOmNhc2VcIm11bHRpcG9pbnRcIjp0aHJvdyBuZXcgcihcImZlYXR1cmVsYXllcnZpZXczZDp1bnN1cHBvcnRlZC1nZW9tZXRyeS10eXBlXCIsXCJVbnN1cHBvcnRlZCBnZW9tZXRyeSB0eXBlICR7Z2VvbWV0cnlUeXBlfVwiLHtnZW9tZXRyeVR5cGU6dGhpcy5sYXllci5nZW9tZXRyeVR5cGV9KX19X3JlY3JlYXRlUHJvY2Vzc29yKGUpe2NvbnN0IHI9XCJoZWF0bWFwXCI9PT1lPy50eXBlLHQ9XCJoZWF0bWFwXCI9PT10aGlzLnByb2Nlc3Nvcj8udHlwZSxzPXRoaXMucHJvY2Vzc29yO2lmKHMmJnI9PT10KXJldHVybjtjb25zdCBvPXI/bmV3IGcoe293bmVyOnRoaXN9KTpuZXcgaCh7b3duZXI6dGhpcyxmcnVzdHVtVmlzaWJpbGl0eUVuYWJsZWQ6ITAsc2NhbGVWaXNpYmlsaXR5RW5hYmxlZDohMCxmaWx0ZXJWaXNpYmlsaXR5RW5hYmxlZDohMCx0aW1lRXh0ZW50RW5hYmxlZDohMCxlbGV2YXRpb25BbGlnbm1lbnRFbmFibGVkOiEwLGVsZXZhdGlvbkZlYXR1cmVFeHByZXNzaW9uRW5hYmxlZDohMCxwcmVmZXJyZWRVcGRhdGVQb2xpY3k6dGhpcy51cGRhdGVQb2xpY3ksdXBkYXRlQ2xpcHBpbmdFeHRlbnQ6ZT0+dGhpcy5fdXBkYXRlQ2xpcHBpbmdFeHRlbnQoZSl9KTt0aGlzLl9zZXQoXCJwcm9jZXNzb3JcIixvKSxzPy5kZXN0cm95KCksdGhpcy5xdWVyeUVuZ2luZT8uY2xlYXIoKSx0aGlzLmFkZFJlc29sdmluZ1Byb21pc2Uoby5pbml0aWFsaXplUHJvbWlzZSl9X2dldFJlc291cmNlSW5mbygpe2NvbnN0IGU9dGhpcy5jb250cm9sbGVyIGluc3RhbmNlb2YgbD90aGlzLmNvbnRyb2xsZXI6bnVsbDtyZXR1cm57ZGlzcGxheWVkTnVtYmVyT2ZGZWF0dXJlczp0aGlzLmxvYWRlZEdyYXBoaWNzPy5sZW5ndGgsbWF4aW11bU51bWJlck9mRmVhdHVyZXM6ZT8ubWF4aW11bU51bWJlck9mRmVhdHVyZXM/Py0xLHRvdGFsTnVtYmVyT2ZGZWF0dXJlczplPy5zZXJ2aWNlRGF0YUNvdW50Pz8tMSxub2RlczowLC4uLnRoaXMucHJvY2Vzc29yLnBlcmZvcm1hbmNlSW5mb319Z2V0IHBlcmZvcm1hbmNlSW5mbygpe3JldHVybiB0aGlzLl9nZXRSZXNvdXJjZUluZm8oKX19O3JldHVybiBlKFtpKCldLHYucHJvdG90eXBlLFwibG9hZGVkR3JhcGhpY3NcIix2b2lkIDApLGUoW2koKV0sdi5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIix2b2lkIDApLGUoW2koe3JlYWRPbmx5OiEwfSldLHYucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW2koKV0sdi5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLHZvaWQgMCksZShbaSgpXSx2LnByb3RvdHlwZSxcImNvbnRyb2xsZXJcIix2b2lkIDApLGUoW2koKV0sdi5wcm90b3R5cGUsXCJwcm9jZXNzb3JcIix2b2lkIDApLGUoW2koe3JlYWRPbmx5OiEwfSldLHYucHJvdG90eXBlLFwidXBkYXRlUG9saWN5XCIsdm9pZCAwKSxlKFtpKHtyZWFkT25seTohMH0pXSx2LnByb3RvdHlwZSxcInN1c3BlbmRSZXN1bWVFeHRlbnRNb2RlXCIsdm9pZCAwKSxlKFtpKHt0eXBlOkJvb2xlYW59KV0sdi5wcm90b3R5cGUsXCJzbGljZVBsYW5lRW5hYmxlZFwiLHZvaWQgMCksZShbaSh7cmVhZE9ubHk6ITB9KV0sdi5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLHZvaWQgMCksZShbaSgpXSx2LnByb3RvdHlwZSxcImdyYXBoaWNzM0RQcm9jZXNzb3JcIixudWxsKSxlKFtpKCldLHYucHJvdG90eXBlLFwiaGVhdG1hcFByb2Nlc3NvclwiLG51bGwpLGUoW2koKV0sdi5wcm90b3R5cGUsXCJzeW1ib2xvZ3lTbmFwcGluZ1N1cHBvcnRlZFwiLG51bGwpLHY9ZShbbihcImVzcmkudmlld3MuM2QubGF5ZXJzLkZlYXR1cmVMaWtlTGF5ZXJWaWV3M0RcIildLHYpLHZ9O2V4cG9ydHtFIGFzIEZlYXR1cmVMaWtlTGF5ZXJWaWV3M0R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHttYWtlSGFuZGxlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRlZCBhcyB0fWZyb21cIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3doZW5PbmNlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIG99ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7c3VwcG9ydHNIZWlnaHRNb2RlbEluZm8gYXMgYSxyZWplY3RMYXllckVycm9yIGFzIGx9ZnJvbVwiLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9oZWlnaHRNb2RlbEluZm9VdGlscy5qc1wiO2NvbnN0IG49bj0+e2xldCBjPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5zbGljZVBsYW5lRW5hYmxlZD0hMSx0aGlzLnN1cHBvcnRzSGVpZ2h0VW5pdENvbnZlcnNpb249ITF9cG9zdHNjcmlwdChlKXtzdXBlci5wb3N0c2NyaXB0KGUpLGEodGhpcy5sYXllcikmJnRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLl92YWxpZGF0ZUhlaWdodE1vZGVsSW5mbygpKX1hc3luYyBfdmFsaWRhdGVIZWlnaHRNb2RlbEluZm8oKXtjb25zdCBlPW5ldyBBYm9ydENvbnRyb2xsZXIsbz1lLnNpZ25hbDt0aGlzLmFkZEhhbmRsZXMocygoKCk9PmUuYWJvcnQoKSkpKSxhd2FpdCByKCgoKT0+dGhpcy52aWV3LmRlZmF1bHRzRnJvbU1hcD8uaGVpZ2h0TW9kZWxJbmZvUmVhZHkpLG8pLHQobyk7Y29uc3QgaT1sKHRoaXMubGF5ZXIsdGhpcy52aWV3LmhlaWdodE1vZGVsSW5mbyx0aGlzLnN1cHBvcnRzSGVpZ2h0VW5pdENvbnZlcnNpb24pO2lmKGkpdGhyb3cgaX1jYW5SZXN1bWUoKXtjb25zdCBlPXRoaXMubGF5ZXImJlwiZWZmZWN0aXZlU2NhbGVSYW5nZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2U6bnVsbDtyZXR1cm4gc3VwZXIuY2FuUmVzdW1lKCkmJighZT8ubWluU2NhbGV8fCFlLm1heFNjYWxlfHxlLm1pblNjYWxlPj1lLm1heFNjYWxlKX1nZXRTdXNwZW5kSW5mbygpe2NvbnN0IGU9c3VwZXIuZ2V0U3VzcGVuZEluZm8oKSxzPXRoaXMubGF5ZXImJlwiZWZmZWN0aXZlU2NhbGVSYW5nZVwiaW4gdGhpcy5sYXllcj90aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2U6bnVsbDtyZXR1cm4gcyYmcy5taW5TY2FsZSYmcy5tYXhTY2FsZSYmcy5taW5TY2FsZTxzLm1heFNjYWxlJiYoZS5vdXRzaWRlU2NhbGVSYW5nZT0hMCksZX19O3JldHVybiBlKFtvKCldLGMucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbbygpXSxjLnByb3RvdHlwZSxcInNsaWNlUGxhbmVFbmFibGVkXCIsdm9pZCAwKSxjPWUoW2koXCJlc3JpLnZpZXdzLjNkLmxheWVycy5MYXllclZpZXczRFwiKV0sYyksY307ZXhwb3J0e24gYXMgTGF5ZXJWaWV3M0R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnR7WFhIIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vYXJjYWRlL2Z1bmN0aW9ucy9oYXNoLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtuZXZlclJlYWNoZWQgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2NvbXBpbGVyVXRpbHMuanNcIjtpbXBvcnR7bWFrZUhhbmRsZSBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvaGFuZGxlVXRpbHMuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtsb2dPbkVycm9yIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7d2F0Y2ggYXMgbCxpbml0aWFsIGFzIHAsd2hlbiBhcyBkfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyB1fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7ZGlmZiBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0e2NhblByb2plY3QgYXMgZyxwcm9qZWN0IGFzIG19ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC93ZWJNZXJjYXRvclV0aWxzLmpzXCI7aW1wb3J0e21hdGNoUmFuZG9tUm90YXRpb25FeHByZXNzaW9uIGFzIGJ9ZnJvbVwiLi4vLi4vLi4vLi4vcmVuZGVyZXJzL3N1cHBvcnQvcmFuZG9tUm90YXRpb25FeHByZXNzaW9uLmpzXCI7aW1wb3J0e2dldFJlbmRlcmluZ0luZm8gYXMgZixnZXRSZW5kZXJpbmdJbmZvQXN5bmMgYXMgRX1mcm9tXCIuLi8uLi8uLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9yZW5kZXJpbmdJbmZvVXRpbHMuanNcIjtpbXBvcnQgQyBmcm9tXCIuLi8uLi8uLi8uLi9yZXN0L3N1cHBvcnQvUXVlcnkuanNcIjtpbXBvcnR7RHJhcGVTb3VyY2VUeXBlIGFzIHh9ZnJvbVwiLi4vaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtzdXNwZW5kUmVzdW1lRXh0ZW50T3B0aW1pc20gYXMgd31mcm9tXCIuL2NvbnN0YW50cy5qc1wiO2ltcG9ydHtEaXNwbGF5RmVhdHVyZUxpbWl0IGFzIHZ9ZnJvbVwiLi9EaXNwbGF5RmVhdHVyZUxpbWl0LmpzXCI7aW1wb3J0e0dyYXBoaWNzM0RDb3JlIGFzIGp9ZnJvbVwiLi9HcmFwaGljczNEQ29yZS5qc1wiO2ltcG9ydHtHcmFwaGljczNERWxldmF0aW9uQWxpZ25tZW50IGFzIFZ9ZnJvbVwiLi9HcmFwaGljczNERWxldmF0aW9uQWxpZ25tZW50LmpzXCI7aW1wb3J0e0dyYXBoaWNzM0RGcnVzdHVtVmlzaWJpbGl0eSBhcyBTfWZyb21cIi4vR3JhcGhpY3MzREZydXN0dW1WaXNpYmlsaXR5LmpzXCI7aW1wb3J0e0dyYXBoaWNzM0RPYmplY3RTdGF0ZXMgYXMgUn1mcm9tXCIuL0dyYXBoaWNzM0RPYmplY3RTdGF0ZXMuanNcIjtpbXBvcnR7R3JhcGhpY3MzRFNjYWxlVmlzaWJpbGl0eSBhcyBffWZyb21cIi4vR3JhcGhpY3MzRFNjYWxlVmlzaWJpbGl0eS5qc1wiO2ltcG9ydHtlbmxhcmdlRXh0ZW50IGFzIE99ZnJvbVwiLi9ncmFwaGljVXRpbHMuanNcIjtpbXBvcnR7YXR0cmlidXRlTG9va3VwIGFzIEl9ZnJvbVwiLi4vc3VwcG9ydC9hdHRyaWJ1dGVVdGlscy5qc1wiO2ltcG9ydHtGZWF0dXJlVmlzaWJpbGl0eUZpbHRlciBhcyBHfWZyb21cIi4uL3N1cHBvcnQvRmVhdHVyZVZpc2liaWxpdHlGaWx0ZXIuanNcIjtpbXBvcnR7T2JqZWN0M0RTdGF0ZSBhcyBBfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvYmFzaWNJbnRlcmZhY2VzLmpzXCI7aW1wb3J0e1VwZGF0ZVBvbGljeSBhcyBVfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvVXBkYXRlUG9saWN5LmpzXCI7bGV0IFA9Y2xhc3MgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudHlwZT1cImdyYXBoaWNzLTNkXCIsdGhpcy5fcmFuZG9tUm90YXRpb25SZW5kZXJlcnM9bnVsbCx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IHksdGhpcy5lbGV2YXRpb25GZWF0dXJlRXhwcmVzc2lvbkVuYWJsZWQ9ITEsdGhpcy5zY2FsZVZpc2liaWxpdHlFbmFibGVkPSExLHRoaXMuZmlsdGVyVmlzaWJpbGl0eUVuYWJsZWQ9ITEsdGhpcy5mcnVzdHVtVmlzaWJpbGl0eUVuYWJsZWQ9ITEsdGhpcy5lbGV2YXRpb25BbGlnbm1lbnRFbmFibGVkPSExLHRoaXMudGltZUV4dGVudEVuYWJsZWQ9ITEsdGhpcy5zZXRVaWRUb0lkT25BZGQ9ITAsdGhpcy5kYXRhRXh0ZW50PW51bGwsdGhpcy5kcmFwZVNvdXJjZVR5cGU9eC5GZWF0dXJlcyx0aGlzLnByZWZlcnJlZFVwZGF0ZVBvbGljeT1VLkFTWU5DLHRoaXMuX3N1c3BlbmRSZXN1bWVFeHRlbnQ9bnVsbH1pbml0aWFsaXplKCl7Y29uc3QgZT10aGlzLm93bmVyLHQ9KHRoaXMuZmlsdGVyVmlzaWJpbGl0eUVuYWJsZWR8fHRoaXMudGltZUV4dGVudEVuYWJsZWQpJiZcIm11bHRpcGF0Y2hcIiE9PWUubGF5ZXIuZ2VvbWV0cnlUeXBlLGk9bmV3IGooe293bmVyOnRoaXMsbGF5ZXI6dGhpcy5sYXllcixwcmVmZXJyZWRVcGRhdGVQb2xpY3k6dGhpcy5wcmVmZXJyZWRVcGRhdGVQb2xpY3ksZWxldmF0aW9uRmVhdHVyZUV4cHJlc3Npb25FbmFibGVkOnRoaXMuZWxldmF0aW9uRmVhdHVyZUV4cHJlc3Npb25FbmFibGVkLGdyYXBoaWNTeW1ib2xTdXBwb3J0ZWQ6ITEsaGFzWjplLmhhc1osaGFzTTplLmhhc00sc2V0VWlkVG9JZE9uQWRkOnRoaXMuc2V0VWlkVG9JZE9uQWRkLGNvbXBvbmVudEZhY3Rvcmllczp7ZGVjb25mbGljdG9yOnQ9PmUudmlldy5kZWNvbmZsaWN0b3IuYWRkR3JhcGhpY3NPd25lcih0KSxsYWJlbGVyOih0LGkpPT5lLnZpZXcubGFiZWxlci5hZGRHcmFwaGljc093bmVyKHQsaSksZWxldmF0aW9uQWxpZ25tZW50OnRoaXMuZWxldmF0aW9uQWxpZ25tZW50RW5hYmxlZD8odCxpKT0+bmV3IFYoe2dyYXBoaWNzQ29yZU93bmVyOnRoaXMsZ3JhcGhpY3NDb3JlOnQscXVlcnlHcmFwaGljVUlEc0luRXh0ZW50OmksZWxldmF0aW9uUHJvdmlkZXI6ZS52aWV3LmVsZXZhdGlvblByb3ZpZGVyfSk6bnVsbCxzY2FsZVZpc2liaWxpdHk6dGhpcy5zY2FsZVZpc2liaWxpdHlFbmFibGVkPyh0LGkpPT5uZXcgXyh7Z3JhcGhpY3NDb3JlT3duZXI6dGhpcyxsYXllcjp0aGlzLmxheWVyLHF1ZXJ5R3JhcGhpY1VJRHNJbkV4dGVudDppLGdyYXBoaWNzQ29yZTp0LGJhc2VtYXBUZXJyYWluOmUudmlldy5iYXNlbWFwVGVycmFpbn0pOm51bGwsZmlsdGVyVmlzaWJpbGl0eTp0P3Q9Pm5ldyBHKHtjb250ZXh0OntsYXllclZpZXc6ZSwuLi50fX0pOm51bGwsb2JqZWN0U3RhdGVzOmU9Pm5ldyBSKGUpfX0pO3RoaXMuX3NldChcImdyYXBoaWNzQ29yZVwiLGkpLHRoaXMuZnJ1c3R1bVZpc2liaWxpdHlFbmFibGVkJiZ0aGlzLl9zZXQoXCJmcnVzdHVtVmlzaWJpbGl0eVwiLG5ldyBTKHtncmFwaGljc0NvcmVPd25lcjp0aGlzfSkpLHRoaXMuZWxldmF0aW9uQWxpZ25tZW50JiZ0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5sYXllci5lbGV2YXRpb25JbmZvKSwoKGUsdCk9PntjKGUsdCkmJnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuZ3JhcGhpY3NDb3JlLmVsZXZhdGlvbkluZm9DaGFuZ2UoKSl9KSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubGF5ZXIubGFiZWxzVmlzaWJsZSksKCgpPT50aGlzLmdyYXBoaWNzQ29yZS51cGRhdGVWaXNpYmlsaXR5SW5mbygpKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZCgoKCk9PnRoaXMubGF5ZXIubGFiZWxpbmdJbmZvKSwoKGUsdCk9PntjKGUsdCkmJnRoaXMuZ3JhcGhpY3NDb3JlLnVwZGF0ZUxhYmVsaW5nSW5mbygpfSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLnByZWZlcnJlZFVwZGF0ZVBvbGljeSksKGU9PnRoaXMuZ3JhcGhpY3NDb3JlLnByZWZlcnJlZFVwZGF0ZVBvbGljeT1lKSksdGhpcy5fc2V0KFwiaW5pdGlhbGl6ZVByb21pc2VcIix0aGlzLl9pbml0aWFsaXplQXN5bmMoKSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy5pbml0aWFsaXplUHJvbWlzZSl9YXN5bmMgX2luaXRpYWxpemVBc3luYygpe2F3YWl0IG8odGhpcy5ncmFwaGljc0NvcmUuaW5pdGlhbGl6ZVByb21pc2UpO2NvbnN0IGU9dGhpcy5vd25lcjt0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+dGhpcy5yZW5kZXJlciksKGU9PnRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuZ3JhcGhpY3NDb3JlLnJlbmRlcmVyQ2hhbmdlKGUpKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT5lLmZ1bGxPcGFjaXR5KSwoKCk9PnRoaXMuZ3JhcGhpY3NDb3JlLm9wYWNpdHlDaGFuZ2UoKSkpLHRoaXMuX3NldHVwU3VzcGVuZFJlc3VtZUV4dGVudCgpLHRoaXMudXBkYXRlQ2xpcHBpbmdFeHRlbnQmJih0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkKCgoKT0+ZS52aWV3LmNsaXBwaW5nQXJlYSksKCgpPT50aGlzLl91cGRhdGVDbGlwcGluZ0V4dGVudCgpKSksdGhpcy5fdXBkYXRlQ2xpcHBpbmdFeHRlbnQoKSksdGhpcy5ncmFwaGljc0NvcmUuc3RhcnRDcmVhdGVHcmFwaGljcygpLHRoaXMuZ3JhcGhpY3NDb3JlLmxhYmVsc0VuYWJsZWQmJmF3YWl0IG8odGhpcy5ncmFwaGljc0NvcmUudXBkYXRlTGFiZWxpbmdJbmZvKCkpfWRlc3Ryb3koKXt0aGlzLl91cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpLHRoaXMuX3NldChcImZydXN0dW1WaXNpYmlsaXR5XCIsYSh0aGlzLmZydXN0dW1WaXNpYmlsaXR5KSksdGhpcy5fc2V0KFwiZ3JhcGhpY3NDb3JlXCIsYSh0aGlzLmdyYXBoaWNzQ29yZSkpLHRoaXMuX3NldChcIm93bmVyXCIsbnVsbCl9Z2V0IGxheWVyKCl7cmV0dXJuIHRoaXMub3duZXIubGF5ZXJ9Z2V0IHJlbmRlcmVyKCl7Y29uc3R7cmVuZGVyZXI6ZSxvYmplY3RJZEZpZWxkOnR9PXRoaXMubGF5ZXI7aWYoIWV8fCF0fHxcImhlYXRtYXBcIj09PWUudHlwZXx8IWUudmlzdWFsVmFyaWFibGVzKXJldHVybiBlO2NvbnN0IGk9ZS52aXN1YWxWYXJpYWJsZXMuZmluZEluZGV4KChlPT5cInJvdGF0aW9uXCI9PT1lLnR5cGUmJm51bGwhPWUudmFsdWVFeHByZXNzaW9uJiZiKGUudmFsdWVFeHByZXNzaW9uKT09PXQmJihudWxsPT1lLmF4aXN8fFwiaGVhZGluZ1wiPT09ZS5heGlzKSYmXCJnZW9ncmFwaGljXCI9PT1lLnJvdGF0aW9uVHlwZSkpO2lmKGk8MClyZXR1cm4gZTtjb25zdCBzPWUuY2xvbmUoKTtyZXR1cm4gcy52aXN1YWxWYXJpYWJsZXMuc3BsaWNlKGksMSksdGhpcy5fcmFuZG9tUm90YXRpb25SZW5kZXJlcnN8fCh0aGlzLl9yYW5kb21Sb3RhdGlvblJlbmRlcmVycz1uZXcgV2Vha01hcCksdGhpcy5fcmFuZG9tUm90YXRpb25SZW5kZXJlcnMuc2V0KHMsdCksc31nZXQgc2NhbGVWaXNpYmlsaXR5KCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5zY2FsZVZpc2liaWxpdHl9Z2V0IGZpbHRlclZpc2liaWxpdHkoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LmZpbHRlclZpc2liaWxpdHl9Z2V0IGVsZXZhdGlvbkFsaWdubWVudCgpe3JldHVybiB0aGlzLmdyYXBoaWNzQ29yZT8uZWxldmF0aW9uQWxpZ25tZW50fWdldCBvYmplY3RTdGF0ZXMoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/Lm9iamVjdFN0YXRlc31nZXQgc3VzcGVuZFJlc3VtZUV4dGVudE1vZGUoKXtyZXR1cm5cInN1c3BlbmRSZXN1bWVFeHRlbnRNb2RlXCJpbiB0aGlzLm93bmVyP3RoaXMub3duZXIuc3VzcGVuZFJlc3VtZUV4dGVudE1vZGU6XCJjb21wdXRlZFwifWdldCBzY2FsZVZpc2liaWxpdHlTdXNwZW5kZWQoKXtyZXR1cm4gbnVsbCE9dGhpcy5zY2FsZVZpc2liaWxpdHkmJnRoaXMuc2NhbGVWaXNpYmlsaXR5LnN1c3BlbmRlZH1nZXQgc3VzcGVuZGVkKCl7cmV0dXJuIHRoaXMub3duZXIuc3VzcGVuZGVkfWdldCBsZWdlbmRFbmFibGVkKCl7cmV0dXJuIG51bGw9PXRoaXMuZnJ1c3R1bVZpc2liaWxpdHl8fCF0aGlzLmZydXN0dW1WaXNpYmlsaXR5LnN1c3BlbmRlZH1nZXQgc3VzcGVuZEluZm8oKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLnNjYWxlVmlzaWJpbGl0eVN1c3BlbmRlZCYmKGUub3V0c2lkZVNjYWxlUmFuZ2U9ITApLG51bGwhPXRoaXMuZnJ1c3R1bVZpc2liaWxpdHkmJnRoaXMuZnJ1c3R1bVZpc2liaWxpdHkuc3VzcGVuZGVkJiYoZS5vdXRzaWRlT2ZWaWV3PSEwKSxlfWdldCB1cGRhdGluZygpe3JldHVybiEhKHRoaXMuZ3JhcGhpY3NDb3JlPy51cGRhdGluZ3x8dGhpcy5mcnVzdHVtVmlzaWJpbGl0eT8udXBkYXRpbmd8fHRoaXMuX3VwZGF0aW5nSGFuZGxlcy51cGRhdGluZyl9Z2V0IHVwZGF0aW5nUmVtYWluaW5nKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy51cGRhdGluZ1JlbWFpbmluZz8/MH1nZXQgZmVhdHVyZVN0b3JlKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5mZWF0dXJlU3RvcmV9Z2V0IHZpZXcoKXtyZXR1cm4gdGhpcy5vd25lci52aWV3fWdldCBsb2FkZWRHcmFwaGljcygpe3JldHVybiB0aGlzLm93bmVyLmxvYWRlZEdyYXBoaWNzfWdldCBmdWxsT3BhY2l0eSgpe3JldHVybiB0aGlzLm93bmVyPy5mdWxsT3BhY2l0eX1nZXQgZmlsdGVyKCl7cmV0dXJuXCJmaWx0ZXJcImluIHRoaXMub3duZXI/dGhpcy5vd25lci5maWx0ZXI6bnVsbH1nZXQgc2xpY2VQbGFuZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5vd25lci5zbGljZVBsYW5lRW5hYmxlZH1nZXQgdXBkYXRlUG9saWN5KCl7cmV0dXJuIHRoaXMub3duZXIudXBkYXRlUG9saWN5fWdldCBmZWF0dXJlU3BhdGlhbFJlZmVyZW5jZSgpe3JldHVyblwiZmVhdHVyZVNwYXRpYWxSZWZlcmVuY2VcImluIHRoaXMub3duZXI/dGhpcy5vd25lci5mZWF0dXJlU3BhdGlhbFJlZmVyZW5jZTp0aGlzLm93bmVyLnZpZXcuc3BhdGlhbFJlZmVyZW5jZX1nZXQgZ3JhcGhpY3MzREdyYXBoaWNzKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5ncmFwaGljczNER3JhcGhpY3N9Z2V0IGdyYXBoaWNzM0RHcmFwaGljc0J5T2JqZWN0SUQoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LmdyYXBoaWNzM0RHcmFwaGljc0J5T2JqZWN0SUR9Z2V0IHN5bWJvbFVwZGF0ZVR5cGUoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LnN5bWJvbFVwZGF0ZVR5cGV9Z2V0IGRpc3BsYXlGZWF0dXJlTGltaXQoKXtjb25zdCBlPXRoaXMudmlldy5xdWFsaXR5LHQ9dGhpcy5ncmFwaGljc0NvcmU/LmRpc3BsYXlGZWF0dXJlTGltaXQ7aWYoMT09PWUpcmV0dXJuIHQ7Y29uc3QgaT1NYXRoLmNlaWwodC5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcyplKTtyZXR1cm4gbmV3IHYodC5tYXhpbXVtVG90YWxOdW1iZXJPZlZlcnRpY2VzLGksdC5hdmVyYWdlU3ltYm9sQ29tcGxleGl0eSl9Z2V0IHVzZWRNZW1vcnkoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LnVzZWRNZW1vcnk/PzB9Z2V0IGxvYWRlZEZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5udW1iZXJPZkdyYXBoaWNzPz8wfWdldCB1c2VkTWVtb3J5UGVyRmVhdHVyZSgpe3JldHVybiB0aGlzLmdyYXBoaWNzQ29yZT8udXNlZE1lbW9yeVBlckdyYXBoaWM/PzB9Z2V0IHVucHJvY2Vzc2VkTWVtb3J5RXN0aW1hdGUoKXtyZXR1cm4gdGhpcy5ncmFwaGljc0NvcmU/LnVucHJvY2Vzc2VkTWVtb3J5RXN0aW1hdGU/PzB9Z2V0IHBlcmZvcm1hbmNlSW5mbygpe3JldHVybntjb3JlOnRoaXMuZ3JhcGhpY3NDb3JlLnBlcmZvcm1hbmNlSW5mbyxlbGV2YXRpb25VcGRhdGluZzp0aGlzLmVsZXZhdGlvbkFsaWdubWVudC51cGRhdGluZyx2aXNpYmlsaXR5RnJ1c3R1bTpudWxsPT10aGlzLmZydXN0dW1WaXNpYmlsaXR5fHwhdGhpcy5mcnVzdHVtVmlzaWJpbGl0eS5zdXNwZW5kZWQsdmlzaWJpbGl0eVNjYWxlOiF0aGlzLnNjYWxlVmlzaWJpbGl0eVN1c3BlbmRlZH19bWFza09jY2x1ZGVlKGUpe2NvbnN0e3NldDp0LGhhbmRsZTppfT10aGlzLm9iamVjdFN0YXRlcy5hY3F1aXJlU2V0KEEuTWFza09jY2x1ZGVlLG51bGwpO3JldHVybiB0aGlzLm9iamVjdFN0YXRlcy5zZXRVaWQodCxlLnVpZCksaX1oaWdobGlnaHQoZSxpKXtpZihlIGluc3RhbmNlb2YgQyl7Y29uc3R7c2V0OnQsaGFuZGxlOnN9PXRoaXMub2JqZWN0U3RhdGVzLmFjcXVpcmVTZXQoQS5IaWdobGlnaHQsaSk7cmV0dXJuIHRoaXMub3duZXIucXVlcnlPYmplY3RJZHMoZSkudGhlbigoZT0+dGhpcy5vYmplY3RTdGF0ZXMuc2V0T2JqZWN0SWRzKHQsZSkpKSxzfWlmKFwibnVtYmVyXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gdGhpcy5oaWdobGlnaHQoW2VdLGkpO2lmKGUgaW5zdGFuY2VvZiB0KXJldHVybiB0aGlzLmhpZ2hsaWdodChbZV0saSk7aWYoXCJ0b0FycmF5XCJpbiBlJiYoZT1lLnRvQXJyYXkoKSksQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MCl7aWYoZVswXWluc3RhbmNlb2YgdCl7Y29uc3QgdD1lO2lmKG51bGw9PUkodGhpcy5sYXllci5maWVsZHNJbmRleCx0WzBdLmF0dHJpYnV0ZXMsaSkpe2NvbnN0IGU9dC5tYXAoKGU9PmUudWlkKSkse3NldDppLGhhbmRsZTpzfT10aGlzLm9iamVjdFN0YXRlcy5hY3F1aXJlU2V0KEEuSGlnaGxpZ2h0LG51bGwpO3JldHVybiB0aGlzLm9iamVjdFN0YXRlcy5zZXRVaWRzKGksZSksc31lPXQubWFwKChlPT5JKHRoaXMubGF5ZXIuZmllbGRzSW5kZXgsZS5hdHRyaWJ1dGVzLGkpKSl9aWYoQXJyYXkuaXNBcnJheShlKSYmKFwibnVtYmVyXCI9PXR5cGVvZiBlWzBdfHxcInN0cmluZ1wiPT10eXBlb2YgZVswXSkpe2NvbnN0IHQ9ZSx7c2V0OnMsaGFuZGxlOnJ9PXRoaXMub2JqZWN0U3RhdGVzLmFjcXVpcmVTZXQoQS5IaWdobGlnaHQsaSk7cmV0dXJuIHRoaXMub2JqZWN0U3RhdGVzLnNldE9iamVjdElkcyhzLHQpLHJ9fXJldHVybiBuKCl9cmVzZXRPYmplY3RTdGF0ZXMoKXt0aGlzLm9iamVjdFN0YXRlcy5yZXNldCgpfXdoZW5HcmFwaGljQm91bmRzKGUsdCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy53aGVuR3JhcGhpY0JvdW5kcyhlLHQpfWNvbXB1dGVBdHRhY2htZW50T3JpZ2luKGUsdCl7cmV0dXJuIHRoaXMuZ3JhcGhpY3NDb3JlPy5jb21wdXRlQXR0YWNobWVudE9yaWdpbihlLHQpfW5vdGlmeUdyYXBoaWNHZW9tZXRyeUNoYW5nZWQoZSl7dGhpcy5ncmFwaGljc0NvcmUubm90aWZ5R3JhcGhpY0dlb21ldHJ5Q2hhbmdlZChlKX1ub3RpZnlHcmFwaGljVmlzaWJpbGl0eUNoYW5nZWQoZSl7dGhpcy5ncmFwaGljc0NvcmUubm90aWZ5R3JhcGhpY1Zpc2liaWxpdHlDaGFuZ2VkKGUpfWdldFJlbmRlcmluZ0luZm8oZSx0LHMpe2NvbnN0IHI9ZihlLHtyZW5kZXJlcjp0LGFyY2FkZTpzfSk7aWYocj8uY29sb3Ipe2NvbnN0IGU9ci5jb2xvcjtlWzBdPWVbMF0vMjU1LGVbMV09ZVsxXS8yNTUsZVsyXT1lWzJdLzI1NX1pZihudWxsIT1yJiZudWxsIT10JiZ0aGlzLl9yYW5kb21Sb3RhdGlvblJlbmRlcmVycz8uaGFzKHQpKXtjb25zdCBzPXRoaXMuX3JhbmRvbVJvdGF0aW9uUmVuZGVyZXJzLmdldCh0KSxuPWUuYXR0cmlidXRlc1tzXSxhPW5ldyBpKDApO2EudXBkYXRlRmxvYXRBcnJheShbbl0pLGEudXBkYXRlVWludDhBcnJheShbMTczXSksci5oZWFkaW5nPTguMzgxZS04KmEuZGlnZXN0KCl9cmV0dXJuIHJ9Z2V0UmVuZGVyaW5nSW5mb0FzeW5jKGUsdCxpLHMpe3JldHVybiBFKGUse3JlbmRlcmVyOnQsYXJjYWRlOmksLi4uc30pfWdldFN5bWJvbExheWVyU2l6ZShlLHQpe3JldHVybiB0aGlzLmdyYXBoaWNzQ29yZT8uZ2V0U3ltYm9sTGF5ZXJTaXplKGUsdCl9c2V0T2JqZWN0SWRWaXNpYmlsaXR5KGUsdCl7dGhpcy5ncmFwaGljc0NvcmU/LnNldE9iamVjdElkVmlzaWJpbGl0eShlLHQpfXJlZnJlc2hGaWx0ZXIoKXtudWxsIT10aGlzLmZpbHRlclZpc2liaWxpdHkmJnRoaXMuZmlsdGVyVmlzaWJpbGl0eS5yZWFwcGx5KCl9Z2V0R3JhcGhpY3MzREdyYXBoaWNCeU9iamVjdElkKGUpe3JldHVybiB0aGlzLmdyYXBoaWNzQ29yZT8uZ2V0R3JhcGhpY3MzREdyYXBoaWNCeU9iamVjdElkKGUpfV91cGRhdGVDbGlwcGluZ0V4dGVudCgpe2NvbnN0IGU9dGhpcy5vd25lci52aWV3LmNsaXBwaW5nQXJlYTt0aGlzLmdyYXBoaWNzQ29yZS5zZXRDbGlwcGluZ0V4dGVudChlLHRoaXMub3duZXIudmlldy5zcGF0aWFsUmVmZXJlbmNlKSYmKHRoaXMudXBkYXRlQ2xpcHBpbmdFeHRlbnQoZSl8fHRoaXMuZ3JhcGhpY3NDb3JlLnJlY3JlYXRlQWxsR3JhcGhpY3MoKSl9X3NldHVwU3VzcGVuZFJlc3VtZUV4dGVudCgpeyh0aGlzLmZydXN0dW1WaXNpYmlsaXR5fHx0aGlzLnNjYWxlVmlzaWJpbGl0eSkmJnRoaXMuYWRkSGFuZGxlcyhsKCgoKT0+dGhpcy5zdXNwZW5kUmVzdW1lRXh0ZW50TW9kZSksKCgpPT57c3dpdGNoKHRoaXMucmVtb3ZlSGFuZGxlcyhGKSx0aGlzLnN1c3BlbmRSZXN1bWVFeHRlbnRNb2RlKXtjYXNlXCJjb21wdXRlZFwiOnRoaXMuYWRkSGFuZGxlcyhbbCgoKCk9PnRoaXMuZ3JhcGhpY3NDb3JlLmNvbXB1dGVkRXh0ZW50KSwoZT0+dGhpcy5fdXBkYXRlU3VzcGVuZFJlc3VtZUV4dGVudChlKSkscCksbCgoKCk9PnRoaXMuZ3JhcGhpY3NDb3JlLmV4dGVudFBhZGRpbmcpLCgoKT0+dGhpcy5fdXBkYXRlU3VzcGVuZFJlc3VtZUV4dGVudCh0aGlzLmdyYXBoaWNzQ29yZS5jb21wdXRlZEV4dGVudCkpKV0sRik7YnJlYWs7Y2FzZVwiZGF0YVwiOnRoaXMuYWRkSGFuZGxlcyhbZCgoKCk9PnRoaXMuZGF0YUV4dGVudCksKGU9PnRoaXMuX3VwZGF0ZVN1c3BlbmRSZXN1bWVFeHRlbnQoZSkpLHApLGwoKCgpPT50aGlzLmdyYXBoaWNzQ29yZS5leHRlbnRQYWRkaW5nKSwoKCk9PnRoaXMuX3VwZGF0ZVN1c3BlbmRSZXN1bWVFeHRlbnQodGhpcy5kYXRhRXh0ZW50KSkpXSxGKTticmVhaztkZWZhdWx0OnIodGhpcy5zdXNwZW5kUmVzdW1lRXh0ZW50TW9kZSl9fSkscCkpfV91cGRhdGVTdXNwZW5kUmVzdW1lRXh0ZW50KGUpe2U/dGhpcy5fc3VzcGVuZFJlc3VtZUV4dGVudENoYW5nZWQodGhpcy5fZXh0ZW50VG9TdXNwZW5kUmVzdW1lUmVjdChlLHRoaXMuX3N1c3BlbmRSZXN1bWVFeHRlbnQpKTp0aGlzLl9zdXNwZW5kUmVzdW1lRXh0ZW50Q2hhbmdlZChudWxsKX1fZXh0ZW50VG9TdXNwZW5kUmVzdW1lUmVjdChlLHQpe2NvbnN0IGk9dGhpcy5vd25lci52aWV3LnNwYXRpYWxSZWZlcmVuY2U7aWYoIWUuc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHMoaSkpe2lmKCFnKGUsaSkpcmV0dXJuO2U9bShlLGkpfXJldHVybiBPKGUsdCx3LHRoaXMuZ3JhcGhpY3NDb3JlLmV4dGVudFBhZGRpbmcpfV9zdXNwZW5kUmVzdW1lRXh0ZW50Q2hhbmdlZChlKXtudWxsIT10aGlzLmZydXN0dW1WaXNpYmlsaXR5JiZ0aGlzLmZydXN0dW1WaXNpYmlsaXR5LnNldEV4dGVudChlKSxudWxsIT10aGlzLnNjYWxlVmlzaWJpbGl0eSYmdGhpcy5zY2FsZVZpc2liaWxpdHkuc2V0RXh0ZW50KGUpfX07ZShbdSgpXSxQLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW3Uoe2NvbnN0cnVjdE9ubHk6ITB9KV0sUC5wcm90b3R5cGUsXCJvd25lclwiLHZvaWQgMCksZShbdSgpXSxQLnByb3RvdHlwZSxcImxheWVyXCIsbnVsbCksZShbdSgpXSxQLnByb3RvdHlwZSxcInJlbmRlcmVyXCIsbnVsbCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxQLnByb3RvdHlwZSxcInVwZGF0ZUNsaXBwaW5nRXh0ZW50XCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFAucHJvdG90eXBlLFwiZWxldmF0aW9uRmVhdHVyZUV4cHJlc3Npb25FbmFibGVkXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFAucHJvdG90eXBlLFwiZ3JhcGhpY3NDb3JlXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFAucHJvdG90eXBlLFwic2NhbGVWaXNpYmlsaXR5RW5hYmxlZFwiLHZvaWQgMCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxQLnByb3RvdHlwZSxcImZpbHRlclZpc2liaWxpdHlFbmFibGVkXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFAucHJvdG90eXBlLFwiZnJ1c3R1bVZpc2liaWxpdHlFbmFibGVkXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFAucHJvdG90eXBlLFwiZWxldmF0aW9uQWxpZ25tZW50RW5hYmxlZFwiLHZvaWQgMCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxQLnByb3RvdHlwZSxcInRpbWVFeHRlbnRFbmFibGVkXCIsdm9pZCAwKSxlKFt1KHtjb25zdHJ1Y3RPbmx5OiEwfSldLFAucHJvdG90eXBlLFwic2V0VWlkVG9JZE9uQWRkXCIsdm9pZCAwKSxlKFt1KCldLFAucHJvdG90eXBlLFwic2NhbGVWaXNpYmlsaXR5XCIsbnVsbCksZShbdSgpXSxQLnByb3RvdHlwZSxcImZpbHRlclZpc2liaWxpdHlcIixudWxsKSxlKFt1KCldLFAucHJvdG90eXBlLFwiZWxldmF0aW9uQWxpZ25tZW50XCIsbnVsbCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxQLnByb3RvdHlwZSxcImZydXN0dW1WaXNpYmlsaXR5XCIsdm9pZCAwKSxlKFt1KCldLFAucHJvdG90eXBlLFwib2JqZWN0U3RhdGVzXCIsbnVsbCksZShbdSgpXSxQLnByb3RvdHlwZSxcImluaXRpYWxpemVQcm9taXNlXCIsdm9pZCAwKSxlKFt1KCldLFAucHJvdG90eXBlLFwic3VzcGVuZFJlc3VtZUV4dGVudE1vZGVcIixudWxsKSxlKFt1KCldLFAucHJvdG90eXBlLFwiZGF0YUV4dGVudFwiLHZvaWQgMCksZShbdSgpXSxQLnByb3RvdHlwZSxcInNjYWxlVmlzaWJpbGl0eVN1c3BlbmRlZFwiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJzdXNwZW5kZWRcIixudWxsKSxlKFt1KCldLFAucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJ1cGRhdGluZ1JlbWFpbmluZ1wiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJmZWF0dXJlU3RvcmVcIixudWxsKSxlKFt1KCldLFAucHJvdG90eXBlLFwidmlld1wiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJsb2FkZWRHcmFwaGljc1wiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJmdWxsT3BhY2l0eVwiLG51bGwpLGUoW3UoKV0sUC5wcm90b3R5cGUsXCJmaWx0ZXJcIixudWxsKSxlKFt1KCldLFAucHJvdG90eXBlLFwic2xpY2VQbGFuZUVuYWJsZWRcIixudWxsKSxlKFt1KCldLFAucHJvdG90eXBlLFwiZHJhcGVTb3VyY2VUeXBlXCIsdm9pZCAwKSxlKFt1KCldLFAucHJvdG90eXBlLFwidXBkYXRlUG9saWN5XCIsbnVsbCksZShbdSgpXSxQLnByb3RvdHlwZSxcInByZWZlcnJlZFVwZGF0ZVBvbGljeVwiLHZvaWQgMCksZShbdSh7cmVhZE9ubHk6ITB9KV0sUC5wcm90b3R5cGUsXCJkaXNwbGF5RmVhdHVyZUxpbWl0XCIsbnVsbCksUD1lKFtoKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuZ3JhcGhpY3MuR3JhcGhpY3MzREZlYXR1cmVQcm9jZXNzb3JcIildLFApO2NvbnN0IEY9XCJzdXNwZW5kUmVzdW1lRXh0ZW50TW9kZVwiO2V4cG9ydHtQIGFzIEdyYXBoaWNzM0RGZWF0dXJlUHJvY2Vzc29yfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0e1F1ZXJ5RW5naW5lIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RhdGEvUXVlcnlFbmdpbmUuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9GaWVsZHNJbmRleC5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9GZWF0dXJlU2V0LmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e2ZlYXR1cmVHZW9tZXRyeVR5cGVLZWJhYkRpY3Rpb25hcnkgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3R5cGVVdGlscy5qc1wiO2NvbnN0IGM9YTtsZXQgbD1jbGFzcyBleHRlbmRzIHR7Z2V0IGxheWVyKCl7cmV0dXJuIHRoaXMuY29udGV4dC5sYXllcn1nZXQgc3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLmNvbnRleHQuc3BhdGlhbFJlZmVyZW5jZX1nZXQgX3F1ZXJ5R2VvbWV0cnlUeXBlKCl7c3dpdGNoKHRoaXMubGF5ZXIuZ2VvbWV0cnlUeXBlKXtjYXNlXCJtdWx0aXBvaW50XCI6Y2FzZVwicG9pbnRcIjpjYXNlXCJwb2x5Z29uXCI6Y2FzZVwicG9seWxpbmVcIjpyZXR1cm4gdGhpcy5sYXllci5nZW9tZXRyeVR5cGU7Y2FzZVwibWVzaFwiOnJldHVyblwicG9seWdvblwiO2RlZmF1bHQ6cmV0dXJufX1nZXQgZGVmYXVsdFF1ZXJ5SlNPTigpe3JldHVybiBuZXcgaSh7b3V0U3BhdGlhbFJlZmVyZW5jZTp0aGlzLnNwYXRpYWxSZWZlcmVuY2V9KS50b0pTT04oKX1nZXQgX2RhdGFRdWVyeUVuZ2luZSgpe3JldHVybiB0aGlzLl9lbnN1cmVEYXRhUXVlcnlFbmdpbmUoKX1jb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9kYXRhUXVlcnlFbmdpbmVJbnN0YW5jZT1udWxsfWRlc3Ryb3koKXt0aGlzLmNsZWFyKCl9Y2xlYXIoKXtyZXR1cm4hIXRoaXMuX2RhdGFRdWVyeUVuZ2luZUluc3RhbmNlJiYodGhpcy5fZGF0YVF1ZXJ5RW5naW5lSW5zdGFuY2UuZGVzdHJveSgpLHRoaXMuX2RhdGFRdWVyeUVuZ2luZUluc3RhbmNlPW51bGwsITApfWFzeW5jIGV4ZWN1dGVRdWVyeUZvcklkU2V0KGUsdCxyKXtyZXR1cm4gdGhpcy5fZGF0YVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvcklkU2V0KHRoaXMuX2Vuc3VyZVF1ZXJ5SlNPTihlLHQpLHIpfWFzeW5jIGV4ZWN1dGVRdWVyeUZvckNvdW50KGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JDb3VudCh0aGlzLl9lbnN1cmVRdWVyeUpTT04oZSksdCl9YXN5bmMgZXhlY3V0ZVF1ZXJ5Rm9yRXh0ZW50KGUsdCl7Y29uc3R7Y291bnQ6cixleHRlbnQ6c309YXdhaXQgdGhpcy5fZGF0YVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckV4dGVudCh0aGlzLl9lbnN1cmVRdWVyeUpTT04oZSksdCk7cmV0dXJue2NvdW50OnIsZXh0ZW50Om4uZnJvbUpTT04ocyl9fWFzeW5jIGV4ZWN1dGVRdWVyeUZvcklkcyhlLHQpe3JldHVybiB0aGlzLl9kYXRhUXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9ySWRzKHRoaXMuX2Vuc3VyZVF1ZXJ5SlNPTihlKSx0KX1hc3luYyBleGVjdXRlUXVlcnlGb3JMYXRlc3RPYnNlcnZhdGlvbnMoZSx0KXtjb25zdCByPWF3YWl0IHRoaXMuX2RhdGFRdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JMYXRlc3RPYnNlcnZhdGlvbnModGhpcy5fZW5zdXJlUXVlcnlKU09OKGUpLHQpLHM9dS5mcm9tSlNPTihyKTtyZXR1cm4gcy5mZWF0dXJlcy5mb3JFYWNoKChlPT57ZS5sYXllcj10aGlzLmxheWVyLGUuc291cmNlTGF5ZXI9dGhpcy5sYXllcn0pKSxzfWFzeW5jIGV4ZWN1dGVRdWVyeShlLHQpe2NvbnN0IHI9YXdhaXQgdGhpcy5fZGF0YVF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeSh0aGlzLl9lbnN1cmVRdWVyeUpTT04oZSksdCkscz11LmZyb21KU09OKHIpO3JldHVybiBzLmZlYXR1cmVzLmZvckVhY2goKGU9PntlLmxheWVyPXRoaXMubGF5ZXIsZS5zb3VyY2VMYXllcj10aGlzLmxheWVyfSkpLHN9X2Vuc3VyZVF1ZXJ5SlNPTihlLHQpe2xldCByPXRoaXMuZGVmYXVsdFF1ZXJ5SlNPTjtpZihudWxsIT1lJiYoXCJvdXRTcGF0aWFsUmVmZXJlbmNlXCJpbiBlJiYhZS5vdXRTcGF0aWFsUmVmZXJlbmNlJiYoZS5vdXRTcGF0aWFsUmVmZXJlbmNlPXRoaXMuc3BhdGlhbFJlZmVyZW5jZSkscj1lLnRvSlNPTigpKSxudWxsIT10KXtjb25zdCBlPXQuZ2VvbWV0cmllcy5tYXAoKGU9PmUudG9KU09OKCkpKS5yZWR1Y2UoKChlLHQpPT4oZS5yaW5ncz1lLnJpbmdzLmNvbmNhdCh0LnJpbmdzKSxlKSkpO3I9ey4uLnIsc2NlbmVGaWx0ZXI6ey4uLnQsZ2VvbWV0cnk6ZX19fXJldHVybiByfV9lbnN1cmVEYXRhUXVlcnlFbmdpbmUoKXtpZih0aGlzLl9kYXRhUXVlcnlFbmdpbmVJbnN0YW5jZSlyZXR1cm4gdGhpcy5fZGF0YVF1ZXJ5RW5naW5lSW5zdGFuY2U7Y29uc3QgZT1cInRpbWVJbmZvXCJpbiB0aGlzLmxheWVyJiZ0aGlzLmxheWVyLnRpbWVJbmZvPy50b0pTT04oKXx8bnVsbCx0PXRoaXMubGF5ZXIub2JqZWN0SWRGaWVsZCxyPXkudG9KU09OKHRoaXMuX3F1ZXJ5R2VvbWV0cnlUeXBlKSxzPXRoaXMubGF5ZXIuZmllbGRzSW5kZXg/LnRvSlNPTigpfHxuZXcgbyhbXSksbj10aGlzLnByaW9yaXR5LGE9dGhpcy5zcGF0aWFsUmVmZXJlbmNlLnRvSlNPTigpLHtoYXNaOnUsaGFzTTppLGZlYXR1cmVTdG9yZTpsLHNjaGVkdWxlcjpwfT10aGlzLmNvbnRleHQ7cmV0dXJuIHRoaXMuX2RhdGFRdWVyeUVuZ2luZUluc3RhbmNlPW5ldyBjKHtoYXNaOnUsaGFzTTppLGdlb21ldHJ5VHlwZTpyLGZpZWxkc0luZGV4OnMsdGltZUluZm86ZSxzcGF0aWFsUmVmZXJlbmNlOmEsb2JqZWN0SWRGaWVsZDp0LGZlYXR1cmVTdG9yZTpsLHNjaGVkdWxlcjpwLHByaW9yaXR5Om59KSx0aGlzLl9kYXRhUXVlcnlFbmdpbmVJbnN0YW5jZX19O2UoW3Ioe2NvbnN0cnVjdE9ubHk6ITB9KV0sbC5wcm90b3R5cGUsXCJjb250ZXh0XCIsdm9pZCAwKSxlKFtyKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGwucHJvdG90eXBlLFwicHJpb3JpdHlcIix2b2lkIDApLGUoW3IoKV0sbC5wcm90b3R5cGUsXCJsYXllclwiLG51bGwpLGUoW3IoKV0sbC5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsbnVsbCksZShbcigpXSxsLnByb3RvdHlwZSxcIl9xdWVyeUdlb21ldHJ5VHlwZVwiLG51bGwpLGUoW3IoKV0sbC5wcm90b3R5cGUsXCJkZWZhdWx0UXVlcnlKU09OXCIsbnVsbCksbD1lKFtzKFwiZXNyaS52aWV3cy4zZC5sYXllcnMuZ3JhcGhpY3MuUXVlcnlFbmdpbmVcIildLGwpO2V4cG9ydHtsIGFzIFF1ZXJ5RW5naW5lfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uL2dlb21ldHJ5LmpzXCI7aW1wb3J0e3Rocm93SWZBYm9ydGVkIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7cHJvamVjdFBvaW50VG9WZWN0b3JXaXRoRW5naW5lIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0UG9pbnRUb1ZlY3RvcldpdGhFbmdpbmUuanNcIjtpbXBvcnR7bWFrZURlaHlkcmF0ZWRQb2ludCBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkUG9pbnQuanNcIjtpbXBvcnR7Z2V0R2VvbWV0cnlFZmZlY3RpdmVFbGV2YXRpb25JbmZvIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vc3VwcG9ydC9lbGV2YXRpb25JbmZvVXRpbHMuanNcIjtpbXBvcnR7ZXZhbHVhdGVFbGV2YXRpb25JbmZvQXRQb2ludCBhcyBuLFNhbXBsZUVsZXZhdGlvbkluZm8gYXMgaX1mcm9tXCIuL2VsZXZhdGlvbkFsaWdubWVudFV0aWxzLmpzXCI7aW1wb3J0e0VsZXZhdGlvbkNvbnRleHQgYXMgc31mcm9tXCIuL0VsZXZhdGlvbkNvbnRleHQuanNcIjtpbXBvcnR7ZXh0cmFjdEV4cHJlc3Npb25JbmZvIGFzIGEsY3JlYXRlQ29udGV4dCBhcyBwfWZyb21cIi4vZmVhdHVyZUV4cHJlc3Npb25JbmZvVXRpbHMuanNcIjtpbXBvcnQgZiBmcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7YXN5bmMgZnVuY3Rpb24gYyh0LGkscyxjLHUpe2NvbnN0e2VsZXZhdGlvblByb3ZpZGVyOmcscmVuZGVyQ29vcmRzSGVscGVyOnZ9PXQse2VsZXZhdGlvbkluZm86eX09aSx7cG9pbnRzSW5GZWF0dXJlczpJLHNwYXRpYWxSZWZlcmVuY2U6aH09Yyx4PWYuZnJvbUpTT04oaCksdz1hKHksITApLEU9YXdhaXQgcCh3LHgsdSk7ZSh1KTtjb25zdCBSPVtdLFM9bmV3IFNldCx6PW5ldyBTZXQ7bC5zcGF0aWFsUmVmZXJlbmNlPXg7Y29uc3QgUD10LmVsZXZhdGlvblByb3ZpZGVyLnNwYXRpYWxSZWZlcmVuY2U/P3Quc3BhdGlhbFJlZmVyZW5jZTtmb3IoY29uc3R7b2JqZWN0SWQ6ZSxwb2ludHM6YX1vZiBJKXtjb25zdCB0PXMoZSk7aWYobnVsbD09dCl7Zm9yKGNvbnN0IGUgb2YgYSlSLnB1c2goZS56Pz8wKTtTLmFkZChlKTtjb250aW51ZX10LmlzRHJhcGVkJiZ6LmFkZChlKTtjb25zdCBwPXQuZ3JhcGhpYy5nZW9tZXRyeTttLnNldEZyb21FbGV2YXRpb25JbmZvKHIocCx5KSksbS51cGRhdGVGZWF0dXJlRXhwcmVzc2lvbkluZm9Db250ZXh0KEUsdC5ncmFwaGljLGkpO2Zvcihjb25zdHt4OmUseTpyLHo6aX1vZiBhKWwueD1lLGwueT1yLGwuej1pPz8wLGF3YWl0IG8obCxqLFAsMCx7c2lnbmFsOnV9KSxuKGosZyxtLHYsZCksUi5wdXNoKGQueil9cmV0dXJue2VsZXZhdGlvbnM6UixkcmFwZWRPYmplY3RJZHM6eixmYWlsZWRPYmplY3RJZHM6U319Y29uc3QgbT1uZXcgcyxsPXQoMCwwLDAsZi5XR1M4NCksZD1uZXcgaSxqPVswLDAsMF07ZXhwb3J0e2MgYXMgZWxldmF0aW9uQWxpZ25Qb2ludHNJbkZlYXR1cmVzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtsb2FkQXJjYWRlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vc3VwcG9ydC9hcmNhZGVPbkRlbWFuZC5qc1wiO2FzeW5jIGZ1bmN0aW9uIHIocixhLHMpe2lmKG51bGw9PXJ8fDA9PT1hLmNhbmRpZGF0ZXMubGVuZ3RoKXJldHVybiB0O2NvbnN0IGk9ci5ncmFwaGljczNER3JhcGhpY3NCeU9iamVjdElEPz9yLmdyYXBoaWNzM0RHcmFwaGljcyxjPVtdLG89W10se3JlbmRlcmVyOmR9PXIscD1udWxsIT1kJiZcImFyY2FkZVJlcXVpcmVkXCJpbiBkJiZkLmFyY2FkZVJlcXVpcmVkP2UoKTpudWxsLGw9YXN5bmMobix7Z3JhcGhpYzplLGdyYXBoaWNzM0RTeW1ib2w6dH0pPT57Y29uc3QgYT1hd2FpdCBwLGk9YXdhaXQgci5nZXRSZW5kZXJpbmdJbmZvQXN5bmMoZSxkLGEse3NpZ25hbDpzfSk7cmV0dXJuIG51bGw9PWk/W106dC5xdWVyeUZvclNuYXBwaW5nKG4sZyxpLHMpfSx7Y2FuZGlkYXRlczp1LHNwYXRpYWxSZWZlcmVuY2U6Z309YTtmb3IobGV0IG49MDtuPHUubGVuZ3RoOysrbil7Y29uc3QgZT11W25dLHtvYmplY3RJZDpyfT1lLHQ9XCJudW1iZXJcIj09dHlwZW9mIHI/aT8uZ2V0KHIpOnZvaWQgMDtpZihudWxsPT10KWNvbnRpbnVlO2NvbnN0e2dyYXBoaWNzM0RTeW1ib2w6YX09dDthLnN5bWJvbG9neVNuYXBwaW5nU3VwcG9ydGVkJiYoYy5wdXNoKGwoZSx0KSksby5wdXNoKG4pKX1pZigwPT09Yy5sZW5ndGgpcmV0dXJuIHQ7Y29uc3QgaD1hd2FpdCBQcm9taXNlLmFsbChjKTtuKHMpO2NvbnN0IGY9W10sbT1bXTtmb3IobGV0IG49MDtuPGgubGVuZ3RoOysrbil7Y29uc3QgZT1oW25dLHI9b1tuXTtmb3IoY29uc3QgbiBvZiBlKWYucHVzaChuKSxtLnB1c2gocil9cmV0dXJue2NhbmRpZGF0ZXM6Zixzb3VyY2VDYW5kaWRhdGVJbmRpY2VzOm19fWNvbnN0IHQ9e2NhbmRpZGF0ZXM6W10sc291cmNlQ2FuZGlkYXRlSW5kaWNlczpbXX07ZXhwb3J0e3IgYXMgcXVlcnlGb3JTeW1ib2xvZ3lTbmFwcGluZ307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3NodWZmbGUgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7Y3JlYXRlIGFzIGUsZnJvbUV4dGVudCBhcyBzLGludGVyc2VjdHMgYXMgaSxjb3B5IGFzIHIscG9zaXRpdmVJbmZpbml0eSBhcyB1LGludGVyc2VjdGlvbiBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7bnVtVmVydGljZXMgYXMgaCxlc3RpbWF0ZVNpemUgYXMgbixnZXRPYmplY3RJZCBhcyBmfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kZWh5ZHJhdGVkRmVhdHVyZXMuanNcIjtjb25zdCBfPTE2NDM4LGQ9bmV3IFNldDtjbGFzcyBse2dldCBkaXNwbGF5aW5nRmVhdHVyZXMoKXtyZXR1cm4gdGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVzfXNldCBkaXNwbGF5aW5nRmVhdHVyZXModCl7dGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVzPXQsdGhpcy5leHRlbnRJbmNsdWRpbmdCb3Jyb3dlZEZlYXR1cmVzPW51bGx9Z2V0IHBlclRpbGVNYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc0V4Y2VlZGVkKCl7cmV0dXJuIXRoaXMuZmlsdGVyZWQmJih0aGlzLmZlYXR1cmVzTWlzc2luZ3x8dGhpcy5mZWF0dXJlcyYmdGhpcy5mZWF0dXJlTGltaXQhPT10aGlzLmZlYXR1cmVzLmxlbmd0aCl9Z2V0IGZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVzfWdldCBmZWF0dXJlTGltaXQoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUxpbWl0fXNldCBmZWF0dXJlTGltaXQodCl7dGhpcy5fZmVhdHVyZUxpbWl0IT09dCYmKHRoaXMuX2ZlYXR1cmVMaW1pdD10LHRoaXMuX2VzdGltYXRlZFVudXNlZFNpemVEaXJ0eT0hMCl9Z2V0IGF2YWlsYWJsZUZpZWxkcygpe3JldHVybiB0aGlzLl9hdmFpbGFibGVGaWVsZHN9c2V0RmVhdHVyZXModCxlLHMpe3RoaXMuX2F2YWlsYWJsZUZpZWxkcz1zPz9kLHRoaXMuX2ZlYXR1cmVzPXQsdGhpcy5fc2h1ZmZsZWQ9ITEsdGhpcy5fZXN0aW1hdGVkU2l6ZT0tMSx0aGlzLl9lc3RpbWF0ZWRVbnVzZWRTaXplRGlydHk9ITAsdCYmdC5sZW5ndGg+MD8odGhpcy5fZW1wdHlGZWF0dXJlUmF0aW89ZS8odC5sZW5ndGgrZSksdGhpcy5fbnVtVmVydGljZXM9dC5yZWR1Y2UoKCh0LGUpPT50K2goZS5nZW9tZXRyeSkpLDApKToodGhpcy5fZW1wdHlGZWF0dXJlUmF0aW89MCx0aGlzLl9udW1WZXJ0aWNlcz0wKX1nZXQgZW1wdHlGZWF0dXJlUmF0aW8oKXtyZXR1cm4gdGhpcy5fZW1wdHlGZWF0dXJlUmF0aW99Z2V0IG51bUZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuaGFzUHJlY2lzZUZlYXR1cmVDb3VudD90aGlzLl9udW1GZWF0dXJlczp0aGlzLl9mZWF0dXJlcz90aGlzLl9mZWF0dXJlcy5sZW5ndGg6MH1zZXQgbnVtRmVhdHVyZXModCl7dGhpcy5fbnVtRmVhdHVyZXM9dH1nZXQgaGFzUHJlY2lzZUZlYXR1cmVDb3VudCgpe3JldHVybiB0aGlzLl9udW1GZWF0dXJlcz5tfWdldCBuZWVkc0ZlYXR1cmVDb3VudCgpe3JldHVybiB0aGlzLl9udW1GZWF0dXJlcz09PW19Z2V0IG51bVZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX251bVZlcnRpY2VzfWNvbnN0cnVjdG9yKHQpe3RoaXMuZGVzY3JpcHRvcj10LHRoaXMuZmV0Y2hTdGF0dXM9RS5GRVRDSF9ORUVERUQsdGhpcy5fZmVhdHVyZXM9bnVsbCx0aGlzLl9udW1WZXJ0aWNlcz0wLHRoaXMuX2ZlYXR1cmVMaW1pdD0wLHRoaXMuZmVhdHVyZXNNaXNzaW5nPSEwLHRoaXMuX3NodWZmbGVkPSExLHRoaXMuX251bUZlYXR1cmVzPW0sdGhpcy5fZW1wdHlGZWF0dXJlUmF0aW89MCx0aGlzLl9lc3RpbWF0ZWRTaXplPS0xLHRoaXMuX2VzdGltYXRlZFVudXNlZFNpemU9MCx0aGlzLl9lc3RpbWF0ZWRVbnVzZWRTaXplRGlydHk9ITEsdGhpcy5fYXZhaWxhYmxlRmllbGRzPWQsdGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVzPW51bGwsdGhpcy5hbGl2ZT0hMCx0aGlzLmZpbHRlcmVkPSExfWdldCBpZCgpe3JldHVybiB0aGlzLmRlc2NyaXB0b3IuaWR9Z2V0IGVzdGltYXRlZFNpemUoKXtyZXR1cm4gdGhpcy51cGRhdGVNZW1vcnlFc3RpbWF0ZXMoKSx0aGlzLl9lc3RpbWF0ZWRTaXplfWdldCBlc3RpbWF0ZWRVbnVzZWRTaXplKCl7cmV0dXJuIHRoaXMuX2VzdGltYXRlZFVudXNlZFNpemV9dXBkYXRlTWVtb3J5RXN0aW1hdGVzKCl7aWYodGhpcy5fZXN0aW1hdGVkU2l6ZTwwKXtpZih0aGlzLl9lc3RpbWF0ZWRTaXplPTAsdGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZT0wLHRoaXMuX2ZlYXR1cmVzKWZvcihsZXQgdD0wO3Q8dGhpcy5fZmVhdHVyZXMubGVuZ3RoOysrdCl7Y29uc3QgZT1uKHRoaXMuX2ZlYXR1cmVzW3RdKTt0aGlzLl9lc3RpbWF0ZWRTaXplKz1lLHQ+PXRoaXMuZmVhdHVyZUxpbWl0JiYodGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZSs9ZSl9cmV0dXJuITB9aWYodGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZURpcnR5KXtpZih0aGlzLl9lc3RpbWF0ZWRVbnVzZWRTaXplPTAsdGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZURpcnR5PSExLHRoaXMuX2ZlYXR1cmVzKWZvcihsZXQgdD10aGlzLmZlYXR1cmVMaW1pdDt0PHRoaXMuX2ZlYXR1cmVzLmxlbmd0aDsrK3QpdGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZSs9bih0aGlzLl9mZWF0dXJlc1t0XSk7cmV0dXJuITB9cmV0dXJuITF9Z2V0IGlzRmV0Y2hpbmcoKXtyZXR1cm4gdGhpcy5mZXRjaFN0YXR1cz09PUUuRkVUQ0hJTkd8fHRoaXMuZmV0Y2hTdGF0dXM9PT1FLlJFRkVUQ0hJTkd9Z2V0IGlzUmVmZXRjaGluZygpe3JldHVybiB0aGlzLmZldGNoU3RhdHVzPT09RS5SRUZFVENISU5HfWdldCBuZWVkc0ZldGNoaW5nKCl7cmV0dXJuIHRoaXMuZmV0Y2hTdGF0dXM9PT1FLkZFVENIX05FRURFRHx8dGhpcy5mZXRjaFN0YXR1cz09PUUuUkVGRVRDSF9ORUVERUR9Z2V0IG5lZWRzUmVmZXRjaGluZygpe3JldHVybiB0aGlzLmZldGNoU3RhdHVzPT09RS5SRUZFVENIX05FRURFRH1nZXQgaXNGZXRjaGVkKCl7cmV0dXJuIHRoaXMuZmV0Y2hTdGF0dXM9PT1FLkRPTkV8fHRoaXMuZmV0Y2hTdGF0dXM9PT1FLkZVTEx9cmVzZXRGZXRjaGluZygpe3RoaXMuZmV0Y2hTdGF0dXM9dGhpcy5mZXRjaFN0YXR1cz09PUUuUkVGRVRDSElORz9FLlJFRkVUQ0hfTkVFREVEOkUuRkVUQ0hfTkVFREVEfWdldCBuZWVkc0Rpc3BsYXlVcGRhdGUoKXtyZXR1cm4hIXRoaXMuX2ZlYXR1cmVzJiYhYyh0aGlzLl9mZWF0dXJlcyx0aGlzLmRpc3BsYXlpbmdGZWF0dXJlcyx0aGlzLmZlYXR1cmVMaW1pdCl9aW50ZXJzZWN0cyh0KXtyZXR1cm4gbnVsbD09dHx8IXRoaXMuZGVzY3JpcHRvci5leHRlbnR8fChzKHQsZyksaSh0aGlzLmRlc2NyaXB0b3IuZXh0ZW50LGcpKX1pbnRlcnNlY3Rpb25JbmNsdWRpbmdCb3Jyb3dlZCh0LGUpe2NvbnN0IGk9bnVsbCE9dGhpcy5leHRlbnRJbmNsdWRpbmdCb3Jyb3dlZEZlYXR1cmVzP3RoaXMuZXh0ZW50SW5jbHVkaW5nQm9ycm93ZWRGZWF0dXJlczp0aGlzLmRlc2NyaXB0b3IuZXh0ZW50O3JldHVybiB0fHxpPyhudWxsIT10PyhzKHQsZSksYShlLGksZSkpOnIoZSxpKSxlKToocihlLHUpLGUpfV9zaHVmZmxlKGUpe3RoaXMuX2ZlYXR1cmVzLnNvcnQoKCh0LHMpPT5mKHQsZSktZihzLGUpKSksdCh0aGlzLl9mZWF0dXJlcyxfKSx0aGlzLl9zaHVmZmxlZD0hMCx0aGlzLl9lc3RpbWF0ZWRVbnVzZWRTaXplRGlydHk9ITB9cmVkdWNlRmVhdHVyZXModCxlLHMpe2lmKHQ8PTApcmV0dXJuITE7aWYoIXRoaXMuX2ZlYXR1cmVzKXJldHVybiB0aGlzLmZlYXR1cmVMaW1pdD0wLCExO2xldCBpPSExO3RoaXMuZmVhdHVyZUxpbWl0PU1hdGguY2VpbCh0aGlzLm51bUZlYXR1cmVzKnQpLHRoaXMuZmVhdHVyZUxpbWl0PnRoaXMuX2ZlYXR1cmVzLmxlbmd0aCYmKHRoaXMuZmVhdHVyZUxpbWl0PXRoaXMuX2ZlYXR1cmVzLmxlbmd0aCx0aGlzLmZldGNoU3RhdHVzPT09RS5ET05FJiZ0aGlzLl9mZWF0dXJlcy5sZW5ndGg+MCYmKHRoaXMuZmV0Y2hTdGF0dXM9RS5SRUZFVENIX05FRURFRCxpPSEwKSksIXRoaXMuX3NodWZmbGVkJiZ0PDEmJnRoaXMuX3NodWZmbGUocyk7Y29uc3Qgcj1NYXRoLm1heCh0aGlzLmZlYXR1cmVMaW1pdCxNYXRoLmNlaWwoZSp0aGlzLm51bUZlYXR1cmVzKSk7cmV0dXJuIHRoaXMuX2ZlYXR1cmVzLmxlbmd0aD5yJiYodGhpcy5fZmVhdHVyZXMubGVuZ3RoPXIsdGhpcy5mZWF0dXJlc01pc3Npbmc9ITAsdGhpcy5mZXRjaFN0YXR1cz09PUUuRlVMTCYmKHRoaXMuZmV0Y2hTdGF0dXM9RS5ET05FKSksaX1nZXQgY2FjaGUoKXtyZXR1cm57YXZhaWxhYmxlRmllbGRzOnRoaXMuX2F2YWlsYWJsZUZpZWxkcyxmZWF0dXJlczp0aGlzLl9mZWF0dXJlcyxudW1GZWF0dXJlczp0aGlzLl9udW1GZWF0dXJlcyxlbXB0eUZlYXR1cmVSYXRpbzp0aGlzLl9lbXB0eUZlYXR1cmVSYXRpbyxmZXRjaFN0YXR1czp0aGlzLmZldGNoU3RhdHVzLGZlYXR1cmVzTWlzc2luZzp0aGlzLmZlYXR1cmVzTWlzc2luZ319c2V0IGNhY2hlKHQpe3RoaXMucmVxdWVzdENvbnRyb2xsZXI9bnVsbCx0aGlzLl9hdmFpbGFibGVGaWVsZHM9dC5hdmFpbGFibGVGaWVsZHMsdGhpcy5fZmVhdHVyZXM9dC5mZWF0dXJlcyx0aGlzLl9udW1GZWF0dXJlcz10Lm51bUZlYXR1cmVzLHRoaXMuX2VtcHR5RmVhdHVyZVJhdGlvPXQuZW1wdHlGZWF0dXJlUmF0aW8sdGhpcy5mZXRjaFN0YXR1cz10LmZldGNoU3RhdHVzLHRoaXMuZmVhdHVyZXNNaXNzaW5nPXQuZmVhdHVyZXNNaXNzaW5nLHRoaXMuX2VzdGltYXRlZFNpemU9LTEsdGhpcy5fZXN0aW1hdGVkVW51c2VkU2l6ZURpcnR5PSEwfX1jb25zdCBtPS0xLEY9LTI7dmFyIEU7ZnVuY3Rpb24gYyh0LGUscyl7aWYobnVsbD09ZXx8bnVsbD09dHx8cyE9PWUubGVuZ3RofHxzPnQubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgaT0wO2k8czsrK2kpaWYodFtpXSE9PWVbaV0pcmV0dXJuITE7cmV0dXJuITB9IWZ1bmN0aW9uKHQpe3RbdC5GRVRDSF9ORUVERUQ9MF09XCJGRVRDSF9ORUVERURcIix0W3QuUkVGRVRDSF9ORUVERUQ9MV09XCJSRUZFVENIX05FRURFRFwiLHRbdC5GRVRDSElORz0yXT1cIkZFVENISU5HXCIsdFt0LlJFRkVUQ0hJTkc9M109XCJSRUZFVENISU5HXCIsdFt0LkRPTkU9NF09XCJET05FXCIsdFt0LkZVTEw9NV09XCJGVUxMXCJ9KEV8fChFPXt9KSk7Y29uc3QgZz1lKCk7ZXhwb3J0e2wgYXMgRmVhdHVyZVRpbGUsRSBhcyBGZXRjaFN0YXR1cyxGIGFzIGZhaWxlZEZlYXR1cmVDb3VudH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e3NvbWVNYXAgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL01hcFV0aWxzLmpzXCI7aW1wb3J0e2lzQWJvcnRFcnJvciBhcyByLHRocm93SWZBYm9ydGVkIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7b24gYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7c2NoZWR1bGUgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3NjaGVkdWxpbmcuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgaCxlcXVhbHMgYXMgYyxjbG9uZSBhcyBkLGV4cGFuZCBhcyBwLHRvRXh0ZW50IGFzIGZ9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtnZXRPYmplY3RJZCBhcyBtLGhhc1ZlcnRpY2VzIGFzIF99ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RlaHlkcmF0ZWRGZWF0dXJlcy5qc1wiO2ltcG9ydCBnIGZyb21cIi4uLy4uLy4uLy4uL3Jlc3Qvc3VwcG9ydC9RdWFudGl6YXRpb25QYXJhbWV0ZXJzLmpzXCI7aW1wb3J0IEYgZnJvbVwiLi4vLi4vLi4vLi4vcmVzdC9zdXBwb3J0L1F1ZXJ5LmpzXCI7aW1wb3J0e1ZpZXdpbmdNb2RlIGFzIHl9ZnJvbVwiLi4vLi4vLi4vVmlld2luZ01vZGUuanNcIjtpbXBvcnR7TXVsdGlGZWF0dXJlUmVmZXJlbmNlIGFzIFQsU2luZ2xlRmVhdHVyZVJlZmVyZW5jZSBhcyB4fWZyb21cIi4vZmVhdHVyZVJlZmVyZW5jZS5qc1wiO2ltcG9ydHtmYWlsZWRGZWF0dXJlQ291bnQgYXMgRSxGZXRjaFN0YXR1cyBhcyBDLEZlYXR1cmVUaWxlIGFzIFJ9ZnJvbVwiLi9GZWF0dXJlVGlsZS5qc1wiO2ltcG9ydHt0aWxlc0FyZVJlbGF0ZWQgYXMgYn1mcm9tXCIuLi8uLi90ZXJyYWluL3RpbGVVdGlscy5qc1wiO2ltcG9ydHtJbW1lZGlhdGVUYXNrIGFzIHYsVGFza1ByaW9yaXR5IGFzIE19ZnJvbVwiLi4vLi4vLi4vc3VwcG9ydC9TY2hlZHVsZXIuanNcIjtjb25zdCB3PVwiZXNyaS52aWV3cy4zZC5sYXllcnMuc3VwcG9ydC5GZWF0dXJlVGlsZUZldGNoZXIzRFwiLEQ9cy5nZXRMb2dnZXIodyk7bGV0IGo9Y2xhc3MgZXh0ZW5kcyB0e3NldCBtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcyhlKXtlPWV8fDEvMDtjb25zdCB0PXRoaXMuX2dldChcIm1heGltdW1OdW1iZXJPZkZlYXR1cmVzXCIpO2U9PT10fHxlPDF8fCh0aGlzLl9zZXQoXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc1wiLGUpLHRoaXMuX21heGltdW1GZWF0dXJlc1VwZGF0ZWQodCxlKSl9c2V0IG1lbW9yeUZhY3RvcihlKXt0aGlzLm1lbW9yeUZhY3RvciE9PWUmJih0aGlzLl9zZXQoXCJtZW1vcnlGYWN0b3JcIixlKSx0aGlzLl9zZXREaXJ0eSgpKX1zZXQgbG9kRmFjdG9yKGUpe3RoaXMubG9kRmFjdG9yIT09ZSYmKHRoaXMuX3NldChcImxvZEZhY3RvclwiLGUpLHRoaXMuX3N1cHBvcnRzUmVzb2x1dGlvbiYmdGhpcy5yZWZldGNoKCkpfWdldCB1c2VUaWxlQ291bnQoKXtyZXR1cm4gdGhpcy5fdXNlVGlsZUNvdW50JiZudWxsIT10aGlzLmNvbnRleHQucXVlcnkucXVlcnlGZWF0dXJlQ291bnR9c2V0IHVzZVRpbGVDb3VudChlKXt0aGlzLl91c2VUaWxlQ291bnQ9ZSx0aGlzLm5vdGlmeUNoYW5nZShcInVzZVRpbGVDb3VudFwiKX1nZXQgbWVtb3J5Rm9yVW51c2VkRmVhdHVyZXMoKXtsZXQgZT0wO3JldHVybiB0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgodD0+ZSs9dC5lc3RpbWF0ZWRVbnVzZWRTaXplKSksZX1nZXQgdG90YWxWZXJ0aWNlcygpe2xldCBlPTA7cmV0dXJuIHRoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKCh0PT5lKz10Lm51bVZlcnRpY2VzKSksZX1nZXQgdG90YWxGZWF0dXJlcygpe2xldCBlPTA7cmV0dXJuIHRoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKCh0PT5lKz10Lm51bUZlYXR1cmVzKSksZX1zZXQgZmlsdGVyRXh0ZW50KGUpe2lmKG51bGwhPWUmJnRoaXMuY29udGV4dC50aWxpbmdTY2hlbWUmJiFlLnNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKHRoaXMuY29udGV4dC50aWxpbmdTY2hlbWUuc3BhdGlhbFJlZmVyZW5jZSkpcmV0dXJuIHZvaWQgRC5lcnJvcihcIiNmaWx0ZXJFeHRlbnQ9XCIsXCJleHRlbnQgbmVlZHMgdG8gYmUgaW4gdGhlIHNhbWUgc3BhdGlhbCByZWZlcmVuY2UgYXMgdGhlIHRpbGluZyBzY2hlbWVcIik7Y29uc3QgdD10aGlzLl9nZXQoXCJmaWx0ZXJFeHRlbnRcIik7aWYodD09PWV8fG51bGwhPXQmJmUmJnQuZXF1YWxzKGUpKXJldHVybjtjb25zdCBzPW51bGwhPWU/ZS5jbG9uZSgpOm51bGw7dGhpcy5fc2V0KFwiZmlsdGVyRXh0ZW50XCIscyksdGhpcy5fcmVjbGlwKHMsdCl9Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fdXNlVGlsZUNvdW50PSExLHRoaXMudXBkYXRpbmc9ITEsdGhpcy5ydW5uaW5nPSExLHRoaXMudXBkYXRpbmdUb3RhbD0wLHRoaXMudXBkYXRpbmdSZW1haW5pbmc9MCx0aGlzLmV4cGVjdGVkRmVhdHVyZURpZmY9MCx0aGlzLm1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWQ9ITEsdGhpcy5fZnVsbFJhdGlvPTEsdGhpcy5fZmFyUmF0aW89MSx0aGlzLl9jaGFuZ2VzPXt1cGRhdGVzOnthZGRzOm5ldyBBcnJheSxyZW1vdmVzOm5ldyBBcnJheX0sYWRkczpuZXcgQXJyYXkscmVtb3ZlczpuZXcgQXJyYXl9LHRoaXMuX2ZyYW1lVGFzaz12LHRoaXMuX2RpcnR5PSExLHRoaXMuX2ZlYXR1cmVUaWxlcz1uZXcgTWFwLHRoaXMuX2Rpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlcz1uZXcgTWFwLHRoaXMuX251bURpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlcz0wLHRoaXMuX3N1c3BlbmRlZD0hMCx0aGlzLl9wZW5kaW5nRWRpdHM9bnVsbH1pbml0aWFsaXplKCl7dGhpcy5hZGRIYW5kbGVzKG4oKCgpPT50aGlzLnRpbGVEZXNjcmlwdG9ycyksXCJjaGFuZ2VcIiwoKCk9PnRoaXMuX3NldERpcnR5KCkpLHtvbkxpc3RlbmVyQWRkOigpPT50aGlzLl9zZXREaXJ0eSgpfSkpLHRoaXMuX29iamVjdElkRmllbGQ9dGhpcy5jb250ZXh0Lm9iamVjdElkRmllbGQsdGhpcy5GZWF0dXJlUmVmZXJlbmNlQ2xhc3M9dGhpcy5jb250ZXh0LmNhcGFiaWxpdGllcy5zdXBwb3J0c011bHRpcGxlUmVzb2x1dGlvbnM/VDp4O2NvbnN0IGU9dGhpcy5jb250ZXh0LnNjaGVkdWxlcjtudWxsIT1lJiYodGhpcy5fZnJhbWVUYXNrPWUucmVnaXN0ZXJUYXNrKE0uRkVBVFVSRV9USUxFX0ZFVENIRVIsdGhpcykpLHRoaXMuX3NldERpcnR5KCl9ZGVzdHJveSgpe3RoaXMuX2ZyYW1lVGFzay5yZW1vdmUoKSx0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgoZT0+e3RoaXMuX2NhbmNlbEZldGNoVGlsZShlKSx0aGlzLl9yZW1vdmVUaWxlKGUpfSkpLHRoaXMuX2ZlYXR1cmVUaWxlcy5jbGVhcigpLHRoaXMuX2Rpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlcy5jbGVhcigpLHRoaXMuX3BlbmRpbmdFZGl0cz8uY29udHJvbGxlci5hYm9ydCgpLHRoaXMuX3BlbmRpbmdFZGl0cz1udWxsfWdldCBfcGF1c2VkKCl7cmV0dXJuIHRoaXMuX3N1c3BlbmRlZHx8ISF0aGlzLl9wZW5kaW5nRWRpdHN9cmVzdGFydCgpe3RoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKChlPT57dGhpcy5fY2FuY2VsRmV0Y2hUaWxlKGUpLHRoaXMuX2NsZWFyVGlsZShlKSx0aGlzLl9yZXNldEZldGNoVGlsZShlKX0pKSxudWxsIT10aGlzLmNvbnRleHQubWVtb3J5Q2FjaGUmJnRoaXMuY29udGV4dC5tZW1vcnlDYWNoZS5jbGVhcigpLHRoaXMuX3NldERpcnR5KCl9cmVmZXRjaCgpe3RoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKChlPT57dGhpcy5fY2FuY2VsRmV0Y2hUaWxlKGUpLHRoaXMuX3Jlc2V0RmV0Y2hUaWxlKGUpfSkpLG51bGwhPXRoaXMuY29udGV4dC5tZW1vcnlDYWNoZSYmdGhpcy5jb250ZXh0Lm1lbW9yeUNhY2hlLmNsZWFyKCksdGhpcy5fc2V0RGlydHkoKX1zdXNwZW5kKCl7dGhpcy5fc3VzcGVuZGVkfHwodGhpcy5fc3VzcGVuZGVkPSEwLHRoaXMuX3BhdXNlKCksdGhpcy5fc2V0RGlydHkoKSl9cmVzdW1lKCl7dGhpcy5fc3VzcGVuZGVkJiYodGhpcy5fc3VzcGVuZGVkPSExLHRoaXMuX3VucGF1c2UoKSl9X3BhdXNlKCl7dGhpcy5fcGF1c2VkJiYodGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKGU9PnRoaXMuX2NhbmNlbEZldGNoVGlsZShlKSkpLHRoaXMuX3VwZGF0ZWQoKSl9X3VucGF1c2UoKXt0aGlzLl9wYXVzZWR8fCh0aGlzLl9zZXREaXJ0eSgpLHRoaXMuX3VwZGF0ZWQoKSl9Z2V0IGF2YWlsYWJsZUZpZWxkcygpe2xldCBlPW51bGw7cmV0dXJuIHRoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKCh0PT57bnVsbCE9dC5kaXNwbGF5aW5nRmVhdHVyZXMmJjAhPT10LmRpc3BsYXlpbmdGZWF0dXJlcy5sZW5ndGgmJihudWxsPT1lP2U9bmV3IFNldCh0LmF2YWlsYWJsZUZpZWxkcyk6ZS5mb3JFYWNoKChzPT57dC5hdmFpbGFibGVGaWVsZHMuaGFzKHMpfHxlLmRlbGV0ZShzKX0pKSl9KSksbnVsbCE9ZT9lOm5ldyBTZXR9YXBwbHlFZGl0cyhlKXt0aGlzLl9wZW5kaW5nRWRpdHN8fCh0aGlzLl9wZW5kaW5nRWRpdHM9e2VkaXRzOlByb21pc2UucmVzb2x2ZSgpLGNvdW50OjAsY29udHJvbGxlcjpuZXcgQWJvcnRDb250cm9sbGVyfSx0aGlzLl9wYXVzZSgpKTtjb25zdCB0PXRoaXMuX3BlbmRpbmdFZGl0czt0LmNvdW50Kys7Y29uc3Qgcz10LmVkaXRzLnRoZW4oKCgpPT5lLnJlc3VsdC5jYXRjaCgoZT0+e2lmKHIoZSkpdGhyb3cgZTtyZXR1cm4gbnVsbH0pKS50aGVuKChlPT5lPyh0aGlzLl9hcHBseUVkaXRzRGVsZXRlRmVhdHVyZXMoZS5kZWxldGVkRmVhdHVyZXMpLHRoaXMuX2FwcGx5RWRpdHNBZGRVcGRhdGVGZWF0dXJlcyhlLmFkZGVkRmVhdHVyZXMsZS51cGRhdGVkRmVhdHVyZXMsdC5jb250cm9sbGVyLnNpZ25hbCkudGhlbigoKCk9PmUpKSk6ZSkpLnRoZW4oKGU9PigwPT0tLXQuY291bnQmJih0aGlzLl9wZW5kaW5nRWRpdHM9PT10JiYodGhpcy5fcGVuZGluZ0VkaXRzPW51bGwpLG51bGwhPXRoaXMuY29udGV4dC5tZW1vcnlDYWNoZSYmdGhpcy5jb250ZXh0Lm1lbW9yeUNhY2hlLmNsZWFyKCksdGhpcy5fdW5wYXVzZSgpLHRoaXMuX3VwZGF0ZWQoKSksZSkpKSkpO3JldHVybiB0LmVkaXRzPXMsdGhpcy5fdXBkYXRlZCgpLHN9X2FwcGx5RWRpdHNEZWxldGVGZWF0dXJlcyhlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9dGhpcy5jb250ZXh0Lmdsb2JhbElkRmllbGQscz10JiZ0aGlzLmF2YWlsYWJsZUZpZWxkcy5oYXModCksaT1uZXcgU2V0LHI9dGhpcy5fb2JqZWN0SWRGaWVsZDtlLmZvckVhY2goKCh7b2JqZWN0SWQ6ZSxnbG9iYWxJZDphfSk9PnsoIWV8fGU8MCkmJnQmJmEmJihzfHxELmVycm9yT25jZVBlclRpY2soYEVkaXRpbmcgdGhlIHNwZWNpZmllZCBzZXJ2aWNlIHJlcXVpcmVzIHRoZSBsYXllcidzIGdsb2JhbElkRmllbGQsICR7dH0gdG8gYmUgaW5jbHVkZWQgdGhlIGxheWVyJ3Mgb3V0RmllbGRzIGZvciB1cGRhdGVzIHRvIGJlIHJlZmxlY3RlZCBpbiB0aGUgdmlld2ApLGU9dGhpcy5fb2JqZWN0SWRGcm9tR2xvYmFsSWQoYSxyLHQpKSxudWxsIT1lJiZlPj0wJiZpLmFkZChlKX0pKSx0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgoZT0+e2lmKCFlLmZlYXR1cmVzKXJldHVybjtjb25zdCB0PWUuZmVhdHVyZXMuZmlsdGVyKChlPT4haS5oYXMobShlLHRoaXMuX29iamVjdElkRmllbGQpKSkpO3QubGVuZ3RoIT09ZS5mZWF0dXJlcy5sZW5ndGgmJihlLnNldEZlYXR1cmVzKHQsMCxlLmF2YWlsYWJsZUZpZWxkcyksdGhpcy5faW52YWxpZGF0ZUNvdW50cygpKX0pKX1fb2JqZWN0SWRGcm9tR2xvYmFsSWQoZSx0LHMpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7Y29uc3QgaT10aGlzLmZlYXR1cmVzLmZpbmQoKHQ9PnQuYXR0cmlidXRlcz8uW3NdPT09ZSkpO3JldHVybiBpP20oaSx0KTpudWxsfWFzeW5jIF9hcHBseUVkaXRzQWRkVXBkYXRlRmVhdHVyZXMoZSx0LHMpe2NvbnN0e29iamVjdElkRmllbGQ6aSxnbG9iYWxJZEZpZWxkOnJ9PXRoaXMuY29udGV4dCxhPXImJnRoaXMuYXZhaWxhYmxlRmllbGRzLmhhcyhyKSxuPW5ldyBTZXQsbz1uZXcgU2V0O2Zvcihjb25zdCBsIG9mIGUpe2NvbnN0IGU9bC5vYmplY3RJZDtudWxsIT1lJiZuLmFkZChlKX1mb3IoY29uc3R7b2JqZWN0SWQ6bCxnbG9iYWxJZDpofW9mIHQpe2xldCBlPWw7KG51bGw9PWV8fGU8MCkmJnImJihhfHxELmVycm9yT25jZVBlclRpY2soYEVkaXRpbmcgdGhlIHNwZWNpZmllZCBzZXJ2aWNlIHJlcXVpcmVzIHRoZSBsYXllcidzIGdsb2JhbElkRmllbGQsICR7cn0gdG8gYmUgaW5jbHVkZWQgdGhlIGxheWVyJ3Mgb3V0RmllbGRzIGZvciB1cGRhdGVzIHRvIGJlIHJlZmxlY3RlZCBpbiB0aGUgdmlld2ApLGU9dGhpcy5fb2JqZWN0SWRGcm9tR2xvYmFsSWQoaCxpLHIpKSxudWxsIT1lJiZlPj0wJiYobi5hZGQoZSksby5hZGQoZSkpfWlmKDA9PT1uLnNpemUpcmV0dXJuO2NvbnN0IHU9W107dGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMuX2FwcGx5RWRpdHNBZGRVcGRhdGVUaWxlKGUsbixvLHMpO3QmJnUucHVzaCh0KX0pKSxhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQodSl9YXN5bmMgX2FwcGx5RWRpdHNBZGRVcGRhdGVUaWxlKGUsdCxzLGkpe2lmKCFlLmZlYXR1cmVzKXJldHVybjtjb25zdCByPXRoaXMuX2NyZWF0ZVF1ZXJ5KGUpO3IucmVzdWx0VHlwZT12b2lkIDAsci5jYWNoZUhpbnQ9ITEsci5vYmplY3RJZHM9QXJyYXkuZnJvbSh0KTtjb25zdCBhPWF3YWl0IHRoaXMuX3F1ZXJ5RmVhdHVyZXMocixpKTtsZXQgbj1udWxsO2lmKHMuc2l6ZT4wKXtjb25zdCB0PWUuZmVhdHVyZXMuZmlsdGVyKChlPT4hcy5oYXMobShlLHRoaXMuX29iamVjdElkRmllbGQpKSkpO3QubGVuZ3RoIT09ZS5mZWF0dXJlcy5sZW5ndGgmJihuPXQpfWlmKGEuZmVhdHVyZXMubGVuZ3RoPjApe258fChuPWUuZmVhdHVyZXMuc2xpY2UoKSk7Zm9yKGNvbnN0IGUgb2YgYS5mZWF0dXJlcyluLnB1c2goZSl9biYmKGUuaGFzUHJlY2lzZUZlYXR1cmVDb3VudCYmKGUubnVtRmVhdHVyZXM9TWF0aC5tYXgoZS5udW1GZWF0dXJlcyxuLmxlbmd0aCkpLGUuc2V0RmVhdHVyZXMobiwwLHEoZS5hdmFpbGFibGVGaWVsZHMsYS5maWVsZHMpKSx0aGlzLl9pbnZhbGlkYXRlQ291bnRzKCkpfV9xdWVyeUZlYXR1cmVzKGUsdCl7cmV0dXJuIHRoaXMuY29udGV4dC5xdWVyeS5xdWVyeUZlYXR1cmVzRGVoeWRyYXRlZChlLHtzaWduYWw6dCx0aW1lb3V0OlF9KX1fc2V0RGlydHkoKXt0aGlzLl9kaXJ0eT0hMCx0aGlzLl91cGRhdGVkKCl9cnVuVGFzayhlKXtpZih0aGlzLl9mcmFtZVRhc2sucHJvY2Vzc1F1ZXVlKGUpLCF0aGlzLl9kaXJ0eXx8IXRoaXMuaW5pdGlhbGl6ZWQpcmV0dXJuO3RoaXMuX2RpcnR5PSExO2NvbnN0IHQ9dGhpcy5fZ2V0TGlzdE9mVGlsZXMoKTtpZih0aGlzLl9tYXJrVGlsZXNOb3RBbGl2ZSh0KSwhZS5ydW4oKCgpPT50aGlzLl9hZGRUaWxlcyh0LGUpKSl8fCFlLnJ1bigoKCk9PnRoaXMuX2ZpbHRlckV4dGVudFRpbGVzKHQsZSkpKXx8IWUucnVuKCgoKT0+dGhpcy5fcmVtb3ZlVGlsZXModCxlKSkpfHxlLmRvbmUpcmV0dXJuIHZvaWQgdGhpcy5fc2V0RGlydHkoKTtjb25zdCBzPXRoaXMuX3NvcnRUaWxlcyh0KTtlLnJ1bigoKCk9PnRoaXMuX3Nob3dUaWxlcyhzLGUpKSkmJmUucnVuKCgoKT0+dGhpcy5fZmV0Y2hUaWxlcyhzLGUpKSkmJmUucnVuKCgoKT0+dGhpcy5fdXBkYXRlTWVtb3J5RXN0aW1hdGVzKHMsZSkpKXx8dGhpcy5fc2V0RGlydHkoKSx0aGlzLl91cGRhdGVkKCksdGhpcy51cGRhdGluZ3x8dGhpcy5fdXBkYXRlTWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZCgpfV9tYXJrVGlsZXNOb3RBbGl2ZShlKXtmb3IoY29uc3QgdCBvZiBlKXQuYWxpdmU9ITF9X2FkZFRpbGVzKGUsdCl7cmV0dXJuISh0aGlzLl9zdXNwZW5kZWR8fCF0aGlzLnRpbGVEZXNjcmlwdG9ycykmJih0aGlzLnRpbGVEZXNjcmlwdG9ycy5mb3JFYWNoKChzPT57Y29uc3QgaT10aGlzLl9mZWF0dXJlVGlsZXMuZ2V0KHMuaWQpO2k/aS5hbGl2ZT0hMDp0LmRvbmV8fChlLnB1c2godGhpcy5fYWRkVGlsZShzKSksdC5tYWRlUHJvZ3Jlc3MoKSl9KSksdC5oYXNQcm9ncmVzc2VkKX1fZmlsdGVyRXh0ZW50VGlsZXMoZSx0KXtmb3IoY29uc3QgcyBvZiBlKXtpZih0LmRvbmUpYnJlYWs7cy5hbGl2ZSYmKHMuZmlsdGVyZWQ9IXMuaW50ZXJzZWN0cyh0aGlzLmZpbHRlckV4dGVudCkscy5maWx0ZXJlZCYmKHRoaXMuX2NsZWFyVGlsZShzKSx0Lm1hZGVQcm9ncmVzcygpKSl9cmV0dXJuIHQuaGFzUHJvZ3Jlc3NlZH1fcmVtb3ZlVGlsZXMoZSx0KXtmb3IobGV0IHM9ZS5sZW5ndGgtMTtzPj0wJiYhdC5kb25lO3MtLSl7Y29uc3QgaT1lW3NdO2kuYWxpdmV8fCh0aGlzLl9yZW1vdmVUaWxlKGkpLHMhPT1lLmxlbmd0aC0xJiYoZVtzXT1lW2UubGVuZ3RoLTFdKSxlLnBvcCgpLHQubWFkZVByb2dyZXNzKCkpfXJldHVybiB0Lmhhc1Byb2dyZXNzZWR9X3NvcnRUaWxlcyhlKXtyZXR1cm4gZS5zb3J0KCgoZSx0KT0+KGUuZGVzY3JpcHRvci5sb2FkUHJpb3JpdHk/PzApLSh0LmRlc2NyaXB0b3IubG9hZFByaW9yaXR5Pz8wKSkpLGV9X3Nob3dUaWxlcyhlLHQpe2NvbnN0IHM9dGhpcy5fdXBkYXRlUmF0aW8oZSksaT1lPT57Y29uc3QgdD10aGlzLl9mdWxsUmF0aW88MT9zKGUpKnRoaXMuX2ZhclJhdGlvOjE7cmV0dXJuIGUucmVkdWNlRmVhdHVyZXModCx0aGlzLm1lbW9yeUZhY3Rvcix0aGlzLl9vYmplY3RJZEZpZWxkKSYmdGhpcy5fc2V0RGlydHkoKSx0aGlzLl9zaG93VGlsZShlKX07Zm9yKGNvbnN0IHIgb2YgZSlpZighdC5ydW4oKCgpPT5pKHIpKSkpe3RoaXMuX3NldERpcnR5KCk7YnJlYWt9cmV0dXJuIHQuaGFzUHJvZ3Jlc3NlZH1fZmV0Y2hUaWxlcyhlLHQpe2lmKHRoaXMuX3BhdXNlZClyZXR1cm4hMTtsZXQgcz0hMTtmb3IoY29uc3QgaSBvZiBlKXtpZighaS5uZWVkc0ZldGNoaW5nKWNvbnRpbnVlO2NvbnN0IGU9bnVsbCE9dGhpcy5jb250ZXh0Lm1lbW9yeUNhY2hlP3RoaXMuY29udGV4dC5tZW1vcnlDYWNoZS5wb3AoaS5pZCk6bnVsbDtpZihudWxsPT1lKXtpZih0aGlzLl9uZWVkc051bUZlYXR1cmVzKGkpKXtjb25zdCBlPW5ldyBBYm9ydENvbnRyb2xsZXIscj10aGlzLl9mZXRjaFRpbGVDb3VudChpLGUuc2lnbmFsKTt0aGlzLl9oYW5kbGVSZXF1ZXN0KGkscixlLCgoKT0+aS5udW1GZWF0dXJlcz1FKSkscz0hMCx0Lm1hZGVQcm9ncmVzcygpfWlmKHQuZG9uZSlyZXR1cm4hMH1lbHNlIGkuY2FjaGU9ZSx0aGlzLl9zZXREaXJ0eSgpLHRoaXMuX3NjaGVkdWxlVXBkYXRlZCgpLHQubWFkZVByb2dyZXNzKCl9aWYocylyZXR1cm4gdC5oYXNQcm9ncmVzc2VkO2Zvcihjb25zdCBpIG9mIGUpaWYoaS5uZWVkc0ZldGNoaW5nKXtjb25zdCBlPW5ldyBBYm9ydENvbnRyb2xsZXIscz10aGlzLl9mZXRjaFRpbGUoaSxlLnNpZ25hbCk7aWYodGhpcy5faGFuZGxlUmVxdWVzdChpLHMsZSwoZT0+e2kuc2V0RmVhdHVyZXMoW10sMCxudWxsKSx0aGlzLl9pbnZhbGlkYXRlQ291bnRzKCksaS5mZWF0dXJlc01pc3Npbmc9ITEsdGhpcy5jb250ZXh0LmxvZ0ZldGNoRXJyb3IoRCxlKX0pKSx0Lm1hZGVQcm9ncmVzcygpKXJldHVybiEwfXJldHVybiB0Lmhhc1Byb2dyZXNzZWR9X3VwZGF0ZU1lbW9yeUVzdGltYXRlcyhlLHQpe3JldHVybiBlLnNvbWUoKGU9PiF0LnJ1bigoKCk9PmUudXBkYXRlTWVtb3J5RXN0aW1hdGVzKCkpKSYmKHRoaXMuX3NldERpcnR5KCksITApKSksdC5oYXNQcm9ncmVzc2VkfV9yZWNsaXAoZSx0KXtpZighdGhpcy5pbml0aWFsaXplZClyZXR1cm47Y29uc3Qgcz1uZXcgQXJyYXk7dGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKGk9PntudWxsIT1pLmRpc3BsYXlpbmdGZWF0dXJlcyYmMCE9PWkuZGlzcGxheWluZ0ZlYXR1cmVzLmxlbmd0aCYmKGkuaW50ZXJzZWN0aW9uSW5jbHVkaW5nQm9ycm93ZWQodCxMKSxpLmludGVyc2VjdGlvbkluY2x1ZGluZ0JvcnJvd2VkKGUsSCksYyhMLEgpfHxzLnB1c2goaSkpfSkpLHRoaXMuX3JlZnJlc2hEaXNwbGF5aW5nRmVhdHVyZXMocyksdGhpcy5fdXBkYXRlZCgpfV9yZWZyZXNoRGlzcGxheWluZ0ZlYXR1cmVzKGUpe2NvbnN0IHQ9bmV3IFNldCxzPXRoaXMuX2NoYW5nZXMudXBkYXRlcztmb3IoY29uc3QgaSBvZiBlKWlmKG51bGwhPWkuZGlzcGxheWluZ0ZlYXR1cmVzKWZvcihjb25zdCBlIG9mIGkuZGlzcGxheWluZ0ZlYXR1cmVzKXtjb25zdCBpPW0oZSx0aGlzLl9vYmplY3RJZEZpZWxkKTtpZih0LmhhcyhpKSljb250aW51ZTt0LmFkZChpKTtjb25zdCByPXRoaXMuX2Rpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlcy5nZXQoaSkuZmVhdHVyZTtzLnJlbW92ZXMucHVzaChyKSxzLmFkZHMucHVzaChyKX10aGlzLl9hcHBseUNoYW5nZXMoKX1fdXBkYXRlZCgpe2xldCBlPTA7dGhpcy5fcGF1c2VkfHx0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgodD0+dC5pc0ZldGNoaW5nPysrZTowKSk7Y29uc3QgdD10aGlzLl9kaXJ0eXx8ISF0aGlzLl9wZW5kaW5nRWRpdHN8fGU+MDtpZih0aGlzLl9zZXQoXCJydW5uaW5nXCIsdGhpcy5fZGlydHkpLHRoaXMuX3NldChcInVwZGF0aW5nXCIsdCksdCl7bGV0IHQ9MCxzPTAsaT0wLHI9MCxhPTA7Y29uc3Qgbj10aGlzLl9kaXNwbGF5aW5nRmVhdHVyZVJlZmVyZW5jZXMuc2l6ZS90aGlzLl9udW1EaXNwbGF5aW5nRmVhdHVyZVJlZmVyZW5jZXM7dGhpcy5fZmVhdHVyZVRpbGVzLmZvckVhY2goKGU9PntpZigrK3MsZS5pc0ZldGNoaW5nJiZlLmhhc1ByZWNpc2VGZWF0dXJlQ291bnQpe2NvbnN0IHQ9dGhpcy5fbWF4aW11bUZlYXR1cmVzRm9yVGlsZShlKSooMS1lLmVtcHR5RmVhdHVyZVJhdGlvKSxzPW51bGwhPWUuZGlzcGxheWluZ0ZlYXR1cmVzP2UuZGlzcGxheWluZ0ZlYXR1cmVzLmxlbmd0aCpuOjA7YSs9dC1zfWUubmVlZHNGZXRjaGluZz8rK3I6ZS5udW1GZWF0dXJlcz4wJiYoKytpLHQrPWUubnVtRmVhdHVyZXMpfSkpLHIrPWU7bGV0IG89MCx1PTA7dD8odT10LG89TWF0aC5taW4ocip0L2ksdCkpOih1PXMsbz1yKSxhPU1hdGgubWluKHRoaXMubWF4aW11bU51bWJlck9mRmVhdHVyZXMtdGhpcy5mZWF0dXJlcy5sZW5ndGgsYSksdGhpcy5fc2V0KFwidXBkYXRpbmdUb3RhbFwiLHUpLHRoaXMuX3NldChcInVwZGF0aW5nUmVtYWluaW5nXCIsbyksdGhpcy5fc2V0KFwiZXhwZWN0ZWRGZWF0dXJlRGlmZlwiLGEpfWVsc2UgdGhpcy5fc2V0KFwidXBkYXRpbmdUb3RhbFwiLDApLHRoaXMuX3NldChcInVwZGF0aW5nUmVtYWluaW5nXCIsMCksdGhpcy5fc2V0KFwiZXhwZWN0ZWRGZWF0dXJlRGlmZlwiLDApO3RoaXMuZGVidWdnZXImJnRoaXMuZGVidWdnZXIudXBkYXRlKCl9X3VwZGF0ZU1heGltdW1OdW1iZXJPZkZlYXR1cmVzRXhjZWVkZWQoKXtjb25zdCBlPWkodGhpcy5fZmVhdHVyZVRpbGVzLChlPT5lLnBlclRpbGVNYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc0V4Y2VlZGVkKSk7dGhpcy5fc2V0KFwibWF4aW11bU51bWJlck9mRmVhdHVyZXNFeGNlZWRlZFwiLGUpfV91cGRhdGVSYXRpbyhlKXtjb25zdCB0PVAoZSkscz1lPT4xLygxPDxNYXRoLm1heCgwLHQtZS5kZXNjcmlwdG9yLmxpalswXSkpO2xldCBpPTAscj0wO2Zvcihjb25zdCBhIG9mIGUpe2NvbnN0IGU9YS5udW1GZWF0dXJlcztpKz1lLHIrPWUqcyhhKX1yZXR1cm4gdGhpcy5fZnVsbFJhdGlvPU1hdGgubWluKDEsdGhpcy5tYXhpbXVtTnVtYmVyT2ZGZWF0dXJlcy9pKSx0aGlzLl9mYXJSYXRpbz10aGlzLm1heGltdW1OdW1iZXJPZkZlYXR1cmVzL3IsdGhpcy5fc2NoZWR1bGVVcGRhdGVkKCksc31fbWF4aW11bUZlYXR1cmVzVXBkYXRlZChlLHQpe2UhPT10JiYodD5lJiZ0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgoZT0+e2lmKCFlLmZlYXR1cmVzTWlzc2luZylyZXR1cm47Y29uc3QgdD10aGlzLl9tYXhpbXVtRmVhdHVyZXNGb3JUaWxlKGUpO2UuZmVhdHVyZXMmJihlLmZlYXR1cmVzLmxlbmd0aD49dHx8ZS5mZXRjaFN0YXR1cz09PUMuRlVMTCl8fCh0aGlzLl9jYW5jZWxGZXRjaFRpbGUoZSksdGhpcy5fcmVzZXRGZXRjaFRpbGUoZSkpfSkpLHRoaXMuX3NldERpcnR5KCkpfV9hZGRUaWxlKGUpe2NvbnN0IHQ9bmV3IFIoZSk7cmV0dXJuIHRoaXMuX2ZlYXR1cmVUaWxlcy5zZXQodC5pZCx0KSx0aGlzLl9yZXNldEZldGNoVGlsZSh0KSx0aGlzLl9yZWZlcmVuY2VEaXNwbGF5aW5nRmVhdHVyZXNGcm9tUmVsYXRlZFRpbGVzKHQpLHR9X3JlZmVyZW5jZURpc3BsYXlpbmdGZWF0dXJlc0Zyb21SZWxhdGVkVGlsZXMoZSl7Y29uc3QgdD1lLmRlc2NyaXB0b3IucmVzb2x1dGlvbjt0aGlzLl9mZWF0dXJlVGlsZXMuZm9yRWFjaCgocz0+e2lmKCEobnVsbD09cy5kaXNwbGF5aW5nRmVhdHVyZXN8fGU9PT1zfHxlLmRlc2NyaXB0b3IubGlqJiZzLmRlc2NyaXB0b3IubGlqJiYhYihlLmRlc2NyaXB0b3IubGlqLHMuZGVzY3JpcHRvci5saWopKSl7bnVsbD09ZS5kaXNwbGF5aW5nRmVhdHVyZXMmJihlLmRpc3BsYXlpbmdGZWF0dXJlcz1bXSksZS5kZXNjcmlwdG9yLmV4dGVudCYmcy5kZXNjcmlwdG9yLmV4dGVudCYmKG51bGw9PWUuZXh0ZW50SW5jbHVkaW5nQm9ycm93ZWRGZWF0dXJlcyYmKGUuZXh0ZW50SW5jbHVkaW5nQm9ycm93ZWRGZWF0dXJlcz1kKGUuZGVzY3JpcHRvci5leHRlbnQpKSxwKGUuZXh0ZW50SW5jbHVkaW5nQm9ycm93ZWRGZWF0dXJlcyxzLmRlc2NyaXB0b3IuZXh0ZW50LGUuZXh0ZW50SW5jbHVkaW5nQm9ycm93ZWRGZWF0dXJlcykpO2Zvcihjb25zdCBpIG9mIHMuZGlzcGxheWluZ0ZlYXR1cmVzKXtlLmRpc3BsYXlpbmdGZWF0dXJlcy5wdXNoKGkpO2NvbnN0IHM9dGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzLmdldChtKGksdGhpcy5fb2JqZWN0SWRGaWVsZCkpO3MucmVmKHMuZmVhdHVyZSx0KSx0aGlzLl9udW1EaXNwbGF5aW5nRmVhdHVyZVJlZmVyZW5jZXMrK319fSkpLGUuZmVhdHVyZUxpbWl0PW51bGwhPWUuZGlzcGxheWluZ0ZlYXR1cmVzP2UuZGlzcGxheWluZ0ZlYXR1cmVzLmxlbmd0aDowfV9yZW1vdmVUaWxlKGUpe3RoaXMuX2NsZWFyVGlsZShlKSx0aGlzLl9mZWF0dXJlVGlsZXMuZGVsZXRlKGUuaWQpfV9yZXNldEZldGNoVGlsZShlKXtlLmZpbHRlcmVkPSFlLmludGVyc2VjdHModGhpcy5maWx0ZXJFeHRlbnQpLGUuZmlsdGVyZWQ/ZS5uZWVkc0ZldGNoaW5nJiYoZS5mZXRjaFN0YXR1cz1DLkRPTkUpOmUuZmV0Y2hTdGF0dXM9Qy5GRVRDSF9ORUVERUR9X2NhbmNlbEZldGNoVGlsZShlKXtjb25zdCB0PWUucmVxdWVzdENvbnRyb2xsZXI7bnVsbCE9dCYmKGUucmVxdWVzdENvbnRyb2xsZXI9bnVsbCxlLnJlc2V0RmV0Y2hpbmcoKSx0LmFib3J0KCkpfWFzeW5jIF9mZXRjaFRpbGVDb3VudChlLHQpe3JldHVybiBlLm51bUZlYXR1cmVzPWF3YWl0IHRoaXMuX2ZldGNoQ291bnQoZSx0KSx0aGlzLl91cGRhdGVSYXRpbyh0aGlzLl9nZXRMaXN0T2ZUaWxlcygpKSxlLmZldGNoU3RhdHVzPT09Qy5SRUZFVENISU5HP0MuUkVGRVRDSF9ORUVERUQ6Qy5GRVRDSF9ORUVERUR9YXN5bmMgX2ZldGNoVGlsZShlLHQpe2NvbnN0IHM9dGhpcy5fbWF4aW11bUZlYXR1cmVzRm9yVGlsZShlKTtpZihzPD0wKXJldHVybiBVKGUpO2NvbnN0IGk9dGhpcy5fZ2V0TWF4UmVjb3JkQ291bnQoZSkscj1NYXRoLmNlaWwocy9pKTtpZihPKGUpfHwhdGhpcy5jb250ZXh0LmNhcGFiaWxpdGllcy5zdXBwb3J0c01heFJlY29yZENvdW50RmFjdG9yfHxlLm51bUZlYXR1cmVzPD1zJiZyPkYuTUFYX01BWF9SRUNPUkRfQ09VTlRfRkFDVE9SKXJldHVybiB0aGlzLl9mZXRjaFBhZ2VkVGlsZShlLHQpO2NvbnN0IG49dGhpcy5fY3JlYXRlUXVlcnkoZSk7aWYobi5tYXhSZWNvcmRDb3VudEZhY3Rvcj1NYXRoLmNlaWwocy9pKSxlLmlzUmVmZXRjaGluZyYmZS5mZWF0dXJlcyYmZS5mZWF0dXJlcy5sZW5ndGg+MCl7Y29uc3QgdD1NYXRoLmNlaWwoZS5mZWF0dXJlcy5sZW5ndGgvKDEtZS5lbXB0eUZlYXR1cmVSYXRpbykvaSk7bi5tYXhSZWNvcmRDb3VudEZhY3Rvcj1NYXRoLm1heCh0KzEsbi5tYXhSZWNvcmRDb3VudEZhY3Rvcil9Y29uc3R7ZmVhdHVyZXM6byxleGNlZWRlZFRyYW5zZmVyTGltaXQ6dSxmaWVsZHM6bH09YXdhaXQgdGhpcy5fcXVlcnlGZWF0dXJlcyhuLHQpLGg9dT9uLm1heFJlY29yZENvdW50RmFjdG9yPj1GLk1BWF9NQVhfUkVDT1JEX0NPVU5UX0ZBQ1RPUj9DLkZVTEw6Qy5ET05FOkMuRlVMTDtyZXR1cm4gYXdhaXQgdGhpcy5fZnJhbWVUYXNrLnNjaGVkdWxlKCgoKT0+e2UuZmVhdHVyZXNNaXNzaW5nPW8ubGVuZ3RoPGUubnVtRmVhdHVyZXN8fCEhdTtjb25zdCB0PXRoaXMuX3JlbW92ZUVtcHR5RmVhdHVyZXMobyk7ZS5zZXRGZWF0dXJlcyhvLHQsQShsKSl9KSx0KSxhKHQpLHRoaXMuX2ludmFsaWRhdGVDb3VudHMoKSxofWFzeW5jIF9mZXRjaENvdW50KGUsdCl7cmV0dXJuIHRoaXMuY29udGV4dC5xdWVyeS5xdWVyeUZlYXR1cmVDb3VudCh0aGlzLl9jcmVhdGVGZWF0dXJlQ291bnRRdWVyeShlKSx7c2lnbmFsOnR9KX1hc3luYyBfZmV0Y2hQYWdlZFRpbGUoZSx0KXtsZXQgcyxpPTAscj0wLG49MCxvPXRoaXMuX21heGltdW1GZWF0dXJlc0ZvclRpbGUoZSktbjtjb25zdCB1PXRoaXMuX2dldE1heFJlY29yZENvdW50KGUpO2xldCBsPW51bGw7Zm9yKDs7KXtjb25zdCBoPXRoaXMuX2NyZWF0ZVF1ZXJ5KGUpLGM9dGhpcy5fc2V0UGFnaW5nUGFyYW1ldGVycyhoLGksbyx1KSx7ZmVhdHVyZXM6ZCxleGNlZWRlZFRyYW5zZmVyTGltaXQ6cCxmaWVsZHM6Zn09YXdhaXQgdGhpcy5fcXVlcnlGZWF0dXJlcyhoLHQpO2lmKGF3YWl0IHRoaXMuX2ZyYW1lVGFzay5zY2hlZHVsZSgoKCk9PntjJiYoaSs9aC5udW0pLG4rPWQubGVuZ3RoLHIrPXRoaXMuX3JlbW92ZUVtcHR5RmVhdHVyZXMoZCksZS5mZWF0dXJlc01pc3Npbmc9aTxlLm51bUZlYXR1cmVzfHwhIXAscz1zP3MuY29uY2F0KGQpOmQsbD1xKGwsZiksZS5zZXRGZWF0dXJlcyhzLHIsbCl9KSx0KSxhKHQpLHRoaXMuX2ludmFsaWRhdGVDb3VudHMoKSx0aGlzLl9zZXREaXJ0eSgpLG89dGhpcy5fbWF4aW11bUZlYXR1cmVzRm9yVGlsZShlKS1uLCFjfHwhcHx8bzw9MClyZXR1cm4gcD9DLkRPTkU6Qy5GVUxMfX1fY3JlYXRlRmVhdHVyZUNvdW50UXVlcnkoZSl7Y29uc3QgdD10aGlzLl9jcmVhdGVRdWVyeShlKTtyZXR1cm4gdGhpcy5jb250ZXh0LmNhcGFiaWxpdGllcy5zdXBwb3J0c0NhY2hlSGludCYmKHQucmVzdWx0VHlwZT12b2lkIDAsdC5jYWNoZUhpbnQ9ITApLHR9X2NyZWF0ZVF1ZXJ5KGUpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LmNyZWF0ZVF1ZXJ5KCkscz1lLmRlc2NyaXB0b3IuZXh0ZW50O2lmKHMpe2NvbnN0IGU9dGhpcy5jb250ZXh0LnRpbGluZ1NjaGVtZS5zcGF0aWFsUmVmZXJlbmNlO3QuZ2VvbWV0cnk9ZihzLGUpfXJldHVybiB0aGlzLl9zZXRSZXNvbHV0aW9uUGFyYW1zKHQsZSksdGhpcy5fdXNlVGlsZVF1ZXJ5KGUpP3QucmVzdWx0VHlwZT1cInRpbGVcIjp0aGlzLmNvbnRleHQuY2FwYWJpbGl0aWVzLnN1cHBvcnRzQ2FjaGVIaW50JiYodC5jYWNoZUhpbnQ9ITApLHR9X3NldFBhZ2luZ1BhcmFtZXRlcnMoZSx0LHMsaSl7cmV0dXJuISF0aGlzLmNvbnRleHQuY2FwYWJpbGl0aWVzLnN1cHBvcnRzUGFnaW5hdGlvbiYmKGUuc3RhcnQ9dCxzPjAmJnRoaXMuY29udGV4dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNNYXhSZWNvcmRDb3VudEZhY3Rvcj8oZS5tYXhSZWNvcmRDb3VudEZhY3Rvcj1NYXRoLmNlaWwocy9pKSxlLm51bT1NYXRoLm1pbihlLm1heFJlY29yZENvdW50RmFjdG9yKmkscykpOmUubnVtPU1hdGgubWluKGkpLCEwKX1fZ2V0RWZmZWN0aXZlVGlsZVJlc29sdXRpb24oZSl7aWYobnVsbD09ZS5kZXNjcmlwdG9yLnJlc29sdXRpb24pcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLmNvbnRleHQudmlld2luZ01vZGU9PT15Lkdsb2JhbD90aGlzLmNvbnRleHQudGlsaW5nU2NoZW1lLnJlc29sdXRpb25BdExldmVsKDMpOjEvMDtyZXR1cm4gTWF0aC5taW4oZS5kZXNjcmlwdG9yLnJlc29sdXRpb24sdCkvdGhpcy5sb2RGYWN0b3J9Z2V0IF9zdXBwb3J0c1Jlc29sdXRpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LmNhcGFiaWxpdGllcy5zdXBwb3J0c011bHRpcGxlUmVzb2x1dGlvbnMmJlwicG9pbnRcIiE9PXRoaXMuY29udGV4dC5nZW9tZXRyeVR5cGV9X3NldFJlc29sdXRpb25QYXJhbXMoZSx0KXtpZighdGhpcy5fc3VwcG9ydHNSZXNvbHV0aW9uKXJldHVybjtjb25zdCBzPXRoaXMuX2dldEVmZmVjdGl2ZVRpbGVSZXNvbHV0aW9uKHQpO251bGwhPXMmJih0aGlzLmNvbnRleHQuY2FwYWJpbGl0aWVzLnN1cHBvcnRzUXVhbnRpemF0aW9uP2UucXVhbnRpemF0aW9uUGFyYW1ldGVycz1uZXcgZyh7bW9kZTpcInZpZXdcIixvcmlnaW5Qb3NpdGlvbjpcInVwcGVyLWxlZnRcIix0b2xlcmFuY2U6cyxleHRlbnQ6dGhpcy5jb250ZXh0LmZ1bGxFeHRlbnR9KTpcInBvbHlsaW5lXCI9PT10aGlzLmNvbnRleHQuZ2VvbWV0cnlUeXBlJiYoZS5tYXhBbGxvd2FibGVPZmZzZXQ9cykpfV9yZW1vdmVFbXB0eUZlYXR1cmVzKGUpe2NvbnN0IHQ9ZS5sZW5ndGg7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDspe2NvbnN0IHQ9ZVtzXTtfKHQuZ2VvbWV0cnkpPysrczooZVtzXT1lW2UubGVuZ3RoLTFdLC0tZS5sZW5ndGgpfXJldHVybiB0LWUubGVuZ3RofV9uZWVkc051bUZlYXR1cmVzKGUpe3JldHVybiB0aGlzLnVzZVRpbGVDb3VudCYmZS5uZWVkc0ZlYXR1cmVDb3VudCYmIU8oZSl9X2dldE1heFJlY29yZENvdW50KGUpe2NvbnN0e3RpbGVNYXhSZWNvcmRDb3VudDp0LG1heFJlY29yZENvdW50OnN9PXRoaXMuY29udGV4dDtyZXR1cm4gdGhpcy5fdXNlVGlsZVF1ZXJ5KGUpJiZudWxsIT10JiZ0PjAmJnRoaXMuY29udGV4dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNSZXN1bHRUeXBlP3Q6bnVsbCE9cyYmcz4wP3M6U31fdXNlVGlsZVF1ZXJ5KGUpe3JldHVybighTyhlKXx8IXRoaXMuY29udGV4dC5jYXBhYmlsaXRpZXMuc3VwcG9ydHNDYWNoZUhpbnQpJiZ0aGlzLmNvbnRleHQuY2FwYWJpbGl0aWVzLnN1cHBvcnRzUmVzdWx0VHlwZX1faGFuZGxlUmVxdWVzdChlLHQscyxpKXtlLmZldGNoU3RhdHVzPWUubmVlZHNSZWZldGNoaW5nP0MuUkVGRVRDSElORzpDLkZFVENISU5HLGUucmVxdWVzdENvbnRyb2xsZXI9cztsZXQgYT0hMTt0LnRoZW4oKHQ9PntlLnJlcXVlc3RDb250cm9sbGVyPW51bGwsZS5mZXRjaFN0YXR1cz10fSkpLmNhdGNoKCh0PT57ZS5yZXF1ZXN0Q29udHJvbGxlcj09PXMmJihlLnJlcXVlc3RDb250cm9sbGVyPW51bGwsZS5mZXRjaFN0YXR1cz1DLkRPTkUpLHIodCk/YT0hMDppKHQpfSkpLnRoZW4oKCgpPT57YXx8dGhpcy5fc2V0RGlydHkoKSx0aGlzLl9zY2hlZHVsZVVwZGF0ZWQoKX0pKX1fc2NoZWR1bGVVcGRhdGVkKCl7dGhpcy5oYXNIYW5kbGVzKFwic2NoZWR1bGVVcGRhdGVkXCIpfHx0aGlzLmFkZEhhbmRsZXMobygoKCk9Pnt0aGlzLnJlbW92ZUhhbmRsZXMoXCJzY2hlZHVsZVVwZGF0ZWRcIiksdGhpcy5fdXBkYXRlZCgpfSkpLFwic2NoZWR1bGVVcGRhdGVkXCIpfV9zaG93VGlsZShlKXtpZihudWxsIT1lLmRpc3BsYXlpbmdGZWF0dXJlcyYmIWUubmVlZHNEaXNwbGF5VXBkYXRlKXJldHVybiExO2NvbnN0IHQ9ZS5mZWF0dXJlcztpZigwPT09ZS5mZWF0dXJlTGltaXR8fCF0KXtjb25zdCB0PW51bGwhPWUuZGlzcGxheWluZ0ZlYXR1cmVzJiZlLmRpc3BsYXlpbmdGZWF0dXJlcy5sZW5ndGg+MDtyZXR1cm4gdGhpcy5faGlkZVRpbGVGZWF0dXJlcyhlKSxlLmRpc3BsYXlpbmdGZWF0dXJlcz1bXSx0fWNvbnN0IHM9ZS5kZXNjcmlwdG9yLnJlc29sdXRpb24saT10aGlzLl9jaGFuZ2VzLnVwZGF0ZXMscj10aGlzLl9jaGFuZ2VzLmFkZHMsYT1NYXRoLm1pbihlLmZlYXR1cmVMaW1pdCx0Lmxlbmd0aCk7ZS5mZWF0dXJlTGltaXQ9YTtmb3IobGV0IG49MDtuPGE7KytuKXtjb25zdCBlPXRbbl0sYT1tKGUsdGhpcy5fb2JqZWN0SWRGaWVsZCksbz10aGlzLl9kaXNwbGF5aW5nRmVhdHVyZVJlZmVyZW5jZXMuZ2V0KGEpO2lmKG8pe2NvbnN0IHQ9by5yZWYoZSxzKTt0Lm9sZFZlcnNpb24hPT10Lm5ld1ZlcnNpb24mJih0Lm9sZFZlcnNpb24mJmkucmVtb3Zlcy5wdXNoKHQub2xkVmVyc2lvbiksdC5uZXdWZXJzaW9uJiZpLmFkZHMucHVzaCh0Lm5ld1ZlcnNpb24pKX1lbHNlIHRoaXMuX2Rpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlcy5zZXQoYSxuZXcgdGhpcy5GZWF0dXJlUmVmZXJlbmNlQ2xhc3MoZSxzKSksci5wdXNoKGUpO3RoaXMuX251bURpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlcysrfXJldHVybiB0aGlzLl9oaWRlVGlsZUZlYXR1cmVzKGUpLHRoaXMuX2FwcGx5Q2hhbmdlcygpLGUuZGlzcGxheWluZ0ZlYXR1cmVzPXQuc2xpY2UoMCxhKSwhMH1faGlkZVRpbGUoZSl7dGhpcy5fY2FuY2VsRmV0Y2hUaWxlKGUpLHRoaXMuX2hpZGVUaWxlRmVhdHVyZXMoZSl9X2hpZGVUaWxlRmVhdHVyZXMoZSl7aWYobnVsbD09ZS5kaXNwbGF5aW5nRmVhdHVyZXMpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fY2hhbmdlcy51cGRhdGVzLHM9dGhpcy5fY2hhbmdlcy5yZW1vdmVzO2Zvcihjb25zdCBpIG9mIGUuZGlzcGxheWluZ0ZlYXR1cmVzKXtjb25zdCByPW0oaSx0aGlzLl9vYmplY3RJZEZpZWxkKSxhPXRoaXMuX2Rpc3BsYXlpbmdGZWF0dXJlUmVmZXJlbmNlcy5nZXQocik7aWYoIWEpY29udGludWU7Y29uc3Qgbj1hLnVucmVmKGUuZGVzY3JpcHRvci5yZXNvbHV0aW9uKTt0aGlzLl9udW1EaXNwbGF5aW5nRmVhdHVyZVJlZmVyZW5jZXMtLSxuP24ub2xkVmVyc2lvbiE9PW4ubmV3VmVyc2lvbiYmKG51bGw9PW4ubmV3VmVyc2lvbj8odGhpcy5fZGlzcGxheWluZ0ZlYXR1cmVSZWZlcmVuY2VzLmRlbGV0ZShyKSxuLm9sZFZlcnNpb24mJnMucHVzaChuLm9sZFZlcnNpb24pKToodC5hZGRzLnB1c2gobi5uZXdWZXJzaW9uKSxuLm9sZFZlcnNpb24mJnQucmVtb3Zlcy5wdXNoKG4ub2xkVmVyc2lvbikpKTpjb25zb2xlLmVycm9yKFwiSGlkaW5nIHVucmVmZXJlbmNlZCBmZWF0dXJlXCIpfXRoaXMuX2FwcGx5Q2hhbmdlcygpLGUuZGlzcGxheWluZ0ZlYXR1cmVzPW51bGx9X2FwcGx5Q2hhbmdlcygpe2NvbnN0IGU9dGhpcy5fY2hhbmdlcy51cGRhdGVzO2UucmVtb3Zlcy5sZW5ndGg+MCYmKHRoaXMuZmVhdHVyZXMucmVtb3ZlTWFueShlLnJlbW92ZXMpLGUucmVtb3Zlcy5sZW5ndGg9MCksZS5hZGRzLmxlbmd0aD4wJiYodGhpcy5mZWF0dXJlcy5hZGRNYW55KGUuYWRkcyksZS5hZGRzLmxlbmd0aD0wKTtjb25zdCB0PXRoaXMuX2NoYW5nZXMuYWRkcyxzPXRoaXMuX2NoYW5nZXMucmVtb3ZlcyxpPU1hdGgubWluKHQubGVuZ3RoLHMubGVuZ3RoKTtsZXQgcj0wO2Zvcig7cjxpOyl7Y29uc3QgZT1NYXRoLm1pbihyK1YsaSk7dGhpcy5mZWF0dXJlcy5hZGRNYW55KHQuc2xpY2UocixlKSksdGhpcy5mZWF0dXJlcy5yZW1vdmVNYW55KHMuc2xpY2UocixlKSkscj1lfXQubGVuZ3RoPmkmJnRoaXMuZmVhdHVyZXMuYWRkTWFueSgwPT09cj90OnQuc2xpY2UocikpLHMubGVuZ3RoPmkmJnRoaXMuZmVhdHVyZXMucmVtb3ZlTWFueSgwPT09cj9zOnMuc2xpY2UocikpLHQubGVuZ3RoPTAscy5sZW5ndGg9MH1fY2xlYXJUaWxlKGUpe2lmKHRoaXMuX2hpZGVUaWxlKGUpLGUuZmVhdHVyZXMmJm51bGwhPXRoaXMuY29udGV4dC5tZW1vcnlDYWNoZSl7Y29uc3QgdD0xNitlLmVzdGltYXRlZFNpemU7dGhpcy5jb250ZXh0Lm1lbW9yeUNhY2hlLnB1dChlLmlkLGUuY2FjaGUsdCl9ZS5zZXRGZWF0dXJlcyhudWxsLDAsbnVsbCksdGhpcy5faW52YWxpZGF0ZUNvdW50cygpfV9pbnZhbGlkYXRlQ291bnRzKCl7dGhpcy5ub3RpZnlDaGFuZ2UoXCJ0b3RhbFZlcnRpY2VzXCIpLHRoaXMubm90aWZ5Q2hhbmdlKFwidG90YWxGZWF0dXJlc1wiKSx0aGlzLm5vdGlmeUNoYW5nZShcIm1lbW9yeUZvclVudXNlZEZlYXR1cmVzXCIpfV9nZXRMaXN0T2ZUaWxlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2ZlYXR1cmVUaWxlcy52YWx1ZXMoKSl9Z2V0IHN0b3JlZEZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuX2dldExpc3RPZlRpbGVzKCkucmVkdWNlKCgoZSx0KT0+ZSsodC5mZWF0dXJlcz90LmZlYXR1cmVzLmxlbmd0aDowKSksMCl9Z2V0IG1pc3NpbmdUaWxlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2ZlYXR1cmVUaWxlcy52YWx1ZXMoKSkucmVkdWNlKCgoZSx0KT0+ZSsodC5uZWVkc0ZldGNoaW5nfHx0LmlzRmV0Y2hpbmc/MTowKSksMCl9X21heGltdW1GZWF0dXJlc0ZvclRpbGUoZSl7Y29uc3QgdD1lLmhhc1ByZWNpc2VGZWF0dXJlQ291bnQ/ZS5udW1GZWF0dXJlczoxLzAscz1lLmhhc1ByZWNpc2VGZWF0dXJlQ291bnQ/dDp0aGlzLm1heGltdW1OdW1iZXJPZkZlYXR1cmVzLGk9dGhpcy5fZnVsbFJhdGlvPDE/dGhpcy5fZmFyUmF0aW86MTtyZXR1cm4gTWF0aC5taW4oTWF0aC5jZWlsKHMqaS8oMS1lLmVtcHR5RmVhdHVyZVJhdGlvKSksdCl9Z2V0IHRlc3QoKXtyZXR1cm57cHJvY2VzczplPT50aGlzLnJ1blRhc2soZSksZ2V0RmVhdHVyZVRpbGVCeUlkOmU9PnRoaXMuX2ZlYXR1cmVUaWxlcy5nZXQoZSksZm9yRWFjaEZlYXR1cmVUaWxlOmU9PnRoaXMuX2ZlYXR1cmVUaWxlcy5mb3JFYWNoKGUpfX19O2Z1bmN0aW9uIE8oZSl7cmV0dXJuXCJkdW1teS10aWxlLWZ1bGwtZXh0ZW50XCI9PT1lLmlkfWZ1bmN0aW9uIFAoZSl7bGV0IHQ9MDtmb3IoY29uc3QgcyBvZiBlKXMuZmVhdHVyZXMmJnMuZmVhdHVyZXMubGVuZ3RoPjAmJnMuYWxpdmUmJih0PU1hdGgubWF4KHQscy5kZXNjcmlwdG9yLmxpalswXSkpO3JldHVybiB0fWZ1bmN0aW9uIEkoZSl7Y29uc3QgdD1lLmNhcGFiaWxpdGllcy5xdWVyeTtyZXR1cm57c3VwcG9ydHNNdWx0aXBsZVJlc29sdXRpb25zOk4oZSksc3VwcG9ydHNQYWdpbmF0aW9uOiEoIXR8fCF0LnN1cHBvcnRzUGFnaW5hdGlvbiksc3VwcG9ydHNSZXN1bHRUeXBlOiEoIXR8fCF0LnN1cHBvcnRzUmVzdWx0VHlwZSksc3VwcG9ydHNDYWNoZUhpbnQ6ISghdHx8IXQuc3VwcG9ydHNDYWNoZUhpbnQpLHN1cHBvcnRzUXVhbnRpemF0aW9uOiEoIXR8fCF0LnN1cHBvcnRzUXVhbnRpemF0aW9uKSxzdXBwb3J0c1F1YW50aXphdGlvbkVkaXRNb2RlOiEoIXR8fCF0LnN1cHBvcnRzUXVhbnRpemF0aW9uRWRpdE1vZGUpLHN1cHBvcnRzTWF4UmVjb3JkQ291bnRGYWN0b3I6ISghdHx8IXQuc3VwcG9ydHNNYXhSZWNvcmRDb3VudEZhY3Rvciksc3VwcG9ydHNGb3JtYXRQQkY6ISghdHx8IXQuc3VwcG9ydHNGb3JtYXRQQkYpfX1mdW5jdGlvbiBOKGUpe3N3aXRjaChlLmdlb21ldHJ5VHlwZSl7Y2FzZVwicG9seWxpbmVcIjpyZXR1cm4hMDtjYXNlXCJwb2x5Z29uXCI6cmV0dXJuIGUuY2FwYWJpbGl0aWVzJiZlLmNhcGFiaWxpdGllcy5xdWVyeSYmZS5jYXBhYmlsaXRpZXMucXVlcnkuc3VwcG9ydHNRdWFudGl6YXRpb247ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gVShlKXtyZXR1cm4gZS5zZXRGZWF0dXJlcyhbXSwwLG51bGwpLGUuZmVhdHVyZXNNaXNzaW5nPSExLEMuRE9ORX1mdW5jdGlvbiBBKGUpe3JldHVybiBudWxsPT1lP25ldyBTZXQ6bmV3IFNldChlLm1hcCgoZT0+ZS5uYW1lKSkpfWZ1bmN0aW9uIHEoZSx0KXtpZihudWxsPT1lfHxudWxsPT10KXJldHVybiBBKHQpO2NvbnN0IHM9bmV3IFNldDtmb3IoY29uc3R7bmFtZTppfW9mIHQpZS5oYXMoaSkmJnMuYWRkKGkpO3JldHVybiBzfWUoW3Uoe2NvbnN0cnVjdE9ubHk6ITB9KV0sai5wcm90b3R5cGUsXCJmZWF0dXJlc1wiLHZvaWQgMCksZShbdSgpXSxqLnByb3RvdHlwZSxcInRpbGVEZXNjcmlwdG9yc1wiLHZvaWQgMCksZShbdSh7dmFsdWU6MS8wfSldLGoucHJvdG90eXBlLFwibWF4aW11bU51bWJlck9mRmVhdHVyZXNcIixudWxsKSxlKFt1KHt2YWx1ZToxfSldLGoucHJvdG90eXBlLFwibWVtb3J5RmFjdG9yXCIsbnVsbCksZShbdSh7dmFsdWU6MX0pXSxqLnByb3RvdHlwZSxcImxvZEZhY3RvclwiLG51bGwpLGUoW3UoKV0sai5wcm90b3R5cGUsXCJ1c2VUaWxlQ291bnRcIixudWxsKSxlKFt1KHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsdm9pZCAwKSxlKFt1KHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcInJ1bm5pbmdcIix2b2lkIDApLGUoW3Uoe3JlYWRPbmx5OiEwfSldLGoucHJvdG90eXBlLFwidXBkYXRpbmdUb3RhbFwiLHZvaWQgMCksZShbdSh7cmVhZE9ubHk6ITB9KV0sai5wcm90b3R5cGUsXCJ1cGRhdGluZ1JlbWFpbmluZ1wiLHZvaWQgMCksZShbdSh7cmVhZE9ubHk6ITB9KV0sai5wcm90b3R5cGUsXCJleHBlY3RlZEZlYXR1cmVEaWZmXCIsdm9pZCAwKSxlKFt1KHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcIm1lbW9yeUZvclVudXNlZEZlYXR1cmVzXCIsbnVsbCksZShbdSh7cmVhZE9ubHk6ITB9KV0sai5wcm90b3R5cGUsXCJtYXhpbXVtTnVtYmVyT2ZGZWF0dXJlc0V4Y2VlZGVkXCIsdm9pZCAwKSxlKFt1KHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcInRvdGFsVmVydGljZXNcIixudWxsKSxlKFt1KHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcInRvdGFsRmVhdHVyZXNcIixudWxsKSxlKFt1KCldLGoucHJvdG90eXBlLFwiZmlsdGVyRXh0ZW50XCIsbnVsbCksZShbdSh7Y29uc3RydWN0T25seTohMH0pXSxqLnByb3RvdHlwZSxcImNvbnRleHRcIix2b2lkIDApLGo9ZShbbCh3KV0saik7Y29uc3QgUz0yZTMsTD1oKCksSD1oKCksUT02ZTUsVj0yMDA7ZXhwb3J0e2ogYXMgRmVhdHVyZVRpbGVGZXRjaGVyM0QsSSBhcyBjb250ZXh0Q2FwYWJpbGl0aWVzRnJvbUxheWVyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9HcmFwaGljLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9zeW1ib2xzLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Db2xsZWN0aW9uLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9seWdvbi5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvRmlsbFN5bWJvbDNETGF5ZXIuanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL1BvaW50U3ltYm9sM0QuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL1BvbHlnb25TeW1ib2wzRC5qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvVGV4dFN5bWJvbDNETGF5ZXIuanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL3N1cHBvcnQvU3ltYm9sM0RWZXJ0aWNhbE9mZnNldC5qc1wiO2ltcG9ydHtUaWxpbmdTY2hlbWUgYXMgaH1mcm9tXCIuLi8uLi90ZXJyYWluL1RpbGluZ1NjaGVtZS5qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvY2FsbG91dHMvTGluZUNhbGxvdXQzRC5qc1wiO2NvbnN0IGM9W1swLDE3OSwyNTVdLFsxMTcsNjIsMTI4XSxbMCwxMDQsMjU1XSxbMjE1LDE4OSwxNjZdLFszMiwwLDE5M10sWzk4LDE2MiwyMDZdLFsxMDIsMTEyLDEyOV0sWzUyLDEyNSwwXSxbMTQyLDExOCwyNDZdLFsxMzgsODMsMF0sWzkyLDEyMiwyNTVdLFsxMjIsNTUsODNdLFswLDE0MiwyNTVdLFs4MSw0MCwxNzldLFswLDIwMCwyNDRdLFsxMywyNCwxMjddLFswLDE3MCwxNDddLFsxOSw1OCwyNDFdLFsyMiw0NCwzNV1dO2NsYXNzIG17Y29uc3RydWN0b3IoZSxpLG8pe3RoaXMuX2xvYWRpbmdHcmFwaGljcz1uZXcgTWFwLHRoaXMuX2xvYWRlZEdyYXBoaWNzPW5ldyBNYXAsdGhpcy5fcGVuZGluZ0dyYXBoaWNzPW5ldyBNYXAsdGhpcy5fZGF0YUV4dGVudEdyYXBoaWM9bnVsbCx0aGlzLl9lbmFibGVkPSEwLHRoaXMuX3RpbGVGZXRjaGVyPWUsdGhpcy5fdmlldz1vLHRoaXMuX3RpbGluZ1NjaGVtZT1uZXcgaChpKSx0aGlzLl9sb2FkZWRTeW1ib2xzPWMubWFwKChlPT5uZXcgcih7c3ltYm9sTGF5ZXJzOm5ldyB0KFtuZXcgcyh7bWF0ZXJpYWw6e2NvbG9yOltlWzBdLGVbMV0sZVsyXSwuNl19LG91dGxpbmU6e2NvbG9yOlwiYmxhY2tcIixzaXplOjF9fSldKX0pKSksdGhpcy5fbG9hZGluZ1N5bWJvbHM9W25ldyByKHtzeW1ib2xMYXllcnM6bmV3IHQoW25ldyBzKHttYXRlcmlhbDp7Y29sb3I6WzIwMCwyMDAsMjAwLC40XX0sb3V0bGluZTp7Y29sb3I6WzMwLDMwLDMwXSxzaXplOjF9fSldKX0pXSx0aGlzLl9wZW5kaW5nU3ltYm9scz1bbmV3IHIoe3N5bWJvbExheWVyczpuZXcgdChbbmV3IHMoe21hdGVyaWFsOntjb2xvcjpbMTAwLDEwMCwxMDAsLjRdfSxvdXRsaW5lOntjb2xvcjpbMzAsMzAsMzBdLHNpemU6MX19KV0pfSldLHRoaXMuX2RhdGFFeHRlbnRTeW1ib2w9bmV3IHIoe3N5bWJvbExheWVyczpuZXcgdChbbmV3IHMoe21hdGVyaWFsOntjb2xvcjpbMCwwLDAsMF19LG91dGxpbmU6e2NvbG9yOlwiZ3JlZW5cIixzaXplOjR9fSldKX0pfWRlc3Ryb3koKXt0aGlzLmVuYWJsZWQ9ITF9Z2V0IGVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1zZXQgZW5hYmxlZChlKXt0aGlzLl9lbmFibGVkPWUsdGhpcy51cGRhdGUoKX11cGRhdGUoKXt0aGlzLl9lbmFibGVkPyh0aGlzLl9zeW5jaHJvbml6ZU1hcHModGhpcy5fbG9hZGluZ0dyYXBoaWNzLHtmaWx0ZXI6ZT0+ZS5pc0ZldGNoaW5nLHN5bWJvbHM6dGhpcy5fbG9hZGluZ1N5bWJvbHN9KSx0aGlzLl9zeW5jaHJvbml6ZU1hcHModGhpcy5fbG9hZGVkR3JhcGhpY3Mse2ZpbHRlcjplPT4hZS5pc0ZldGNoaW5nLHN5bWJvbHM6dGhpcy5fbG9hZGVkU3ltYm9sc30pLHRoaXMuX3N5bmNocm9uaXplTWFwcyh0aGlzLl9wZW5kaW5nR3JhcGhpY3Mse2ZpbHRlcjplPT4hZS5pc0ZldGNoaW5nLHN5bWJvbHM6dGhpcy5fcGVuZGluZ1N5bWJvbHN9KSx0aGlzLnNob3dEYXRhRXh0ZW50KHRoaXMuX3RpbGVGZXRjaGVyLmZpbHRlckV4dGVudCkpOih0aGlzLl9sb2FkaW5nR3JhcGhpY3MuZm9yRWFjaCgoZT0+e3RoaXMuX3ZpZXcuZ3JhcGhpY3MucmVtb3ZlTWFueShlKX0pKSx0aGlzLl9sb2FkaW5nR3JhcGhpY3MuY2xlYXIoKSx0aGlzLl9sb2FkZWRHcmFwaGljcy5mb3JFYWNoKChlPT57dGhpcy5fdmlldy5ncmFwaGljcy5yZW1vdmVNYW55KGUpfSkpLHRoaXMuX2xvYWRlZEdyYXBoaWNzLmNsZWFyKCksdGhpcy5fcGVuZGluZ0dyYXBoaWNzLmZvckVhY2goKGU9Pnt0aGlzLl92aWV3LmdyYXBoaWNzLnJlbW92ZU1hbnkoZSl9KSksdGhpcy5fcGVuZGluZ0dyYXBoaWNzLmNsZWFyKCksdGhpcy5fZGF0YUV4dGVudEdyYXBoaWMmJih0aGlzLl92aWV3LmdyYXBoaWNzLnJlbW92ZSh0aGlzLl9kYXRhRXh0ZW50R3JhcGhpYyksdGhpcy5fZGF0YUV4dGVudEdyYXBoaWM9bnVsbCkpfXNob3dEYXRhRXh0ZW50KHQpe2lmKHRoaXMuX2RhdGFFeHRlbnRHcmFwaGljJiYodGhpcy5fdmlldy5ncmFwaGljcy5yZW1vdmUodGhpcy5fZGF0YUV4dGVudEdyYXBoaWMpLHRoaXMuX2RhdGFFeHRlbnRHcmFwaGljPW51bGwpLG51bGw9PXQpcmV0dXJuO2NvbnN0IHM9aS5mcm9tRXh0ZW50KHQpO3RoaXMuX2RhdGFFeHRlbnRHcmFwaGljPW5ldyBlKHtnZW9tZXRyeTpzLHN5bWJvbDp0aGlzLl9kYXRhRXh0ZW50U3ltYm9sfSksdGhpcy5fdmlldy5ncmFwaGljcy5hZGQodGhpcy5fZGF0YUV4dGVudEdyYXBoaWMpfV9zeW5jaHJvbml6ZU1hcHMoaSxzKXtjb25zdCByPVtdO2kuZm9yRWFjaCgoKGUsdCk9Pntjb25zdCBpPXRoaXMuX3RpbGVGZXRjaGVyLnRlc3QuZ2V0RmVhdHVyZVRpbGVCeUlkKHQpO2kmJnMuZmlsdGVyKGkpfHwodGhpcy5fdmlldy5ncmFwaGljcy5yZW1vdmVNYW55KGUpLHIucHVzaCh0KSl9KSksci5mb3JFYWNoKChlPT5pLmRlbGV0ZShlKSkpLHRoaXMuX3RpbGVGZXRjaGVyLnRlc3QuZm9yRWFjaEZlYXR1cmVUaWxlKChyPT57aWYocy5maWx0ZXIocikmJiFpLmhhcyhyLmlkKSl7Y29uc3RbaCxjLG1dPXIuZGVzY3JpcHRvci5saWo7dGhpcy5fdGlsaW5nU2NoZW1lLmVuc3VyZU1heExvZChoKTtjb25zdCBwPXRoaXMuX3RpbGluZ1NjaGVtZS5nZXRFeHRlbnRHZW9tZXRyeShoLGMsbSkseT1bbmV3IGUoe2dlb21ldHJ5OnAsc3ltYm9sOnMuc3ltYm9sc1toJXMuc3ltYm9scy5sZW5ndGhdfSksbmV3IGUoe2dlb21ldHJ5OnAuY2VudGVyLHN5bWJvbDpuZXcgbyh7dmVydGljYWxPZmZzZXQ6bmV3IGwoe3NjcmVlbkxlbmd0aDo0MC8uNzV9KSxjYWxsb3V0Om5ldyBuKHtjb2xvcjpcIndoaXRlXCIsYm9yZGVyOntjb2xvcjpcImJsYWNrXCJ9fSksc3ltYm9sTGF5ZXJzOm5ldyB0KFtuZXcgYSh7dGV4dDpgJHtofS8ke2N9LyR7bX1gLGhhbG86e2NvbG9yOlwid2hpdGVcIixzaXplOjEvLjc1fSxtYXRlcmlhbDp7Y29sb3I6XCJibGFja1wifSxzaXplOjE2fSldKX0pfSldO2kuc2V0KHIuaWQseSksdGhpcy5fdmlldy5ncmFwaGljcy5hZGRNYW55KHkpfX0pKX19ZXhwb3J0e20gYXMgRmVhdHVyZVRpbGVGZXRjaGVyM0REZWJ1Z2dlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtjcmVhdGVUYXNrIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hc3luY1V0aWxzLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7YWJvcnRNYXliZSBhcyBzLHJlbW92ZU1heWJlIGFzIGwsZGVzdHJveU1heWJlIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt0aHJvd0lmQWJvcnRFcnJvciBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2luaXRpYWwgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgaH1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmVhdHVyZUZpbHRlci5qc1wiO2ltcG9ydHtnZXRGbG9vckZpbHRlckNsYXVzZSBhcyBffWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L2Zsb29yRmlsdGVyVXRpbHMuanNcIjtpbXBvcnR7UXVlcnlFbmdpbmUgYXMgZH1mcm9tXCIuLi9ncmFwaGljcy9RdWVyeUVuZ2luZS5qc1wiO2ltcG9ydHtUYXNrUHJpb3JpdHkgYXMgeX1mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L1NjaGVkdWxlci5qc1wiO2xldCBtPWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl91cGRhdGVUYXNrPW51bGwsdGhpcy5fZnJhbWVUYXNrPW51bGwsdGhpcy5fcXVlcnlFbmdpbmU9bnVsbCx0aGlzLl91cGRhdGVSZXF1ZXN0ZWQ9ITAsdGhpcy5fdXBkYXRpbmdIYW5kbGVzPW5ldyBoLHRoaXMuX3VwZGF0ZVZpc2liaWxpdHk9YXN5bmMgZT0+e2lmKG51bGw9PXRoaXMuX2NvbXBvc2l0ZWRGZWF0dXJlRmlsdGVyJiZudWxsPT10aGlzLl9zY2VuZUZpbHRlcnx8MD09PXRoaXMuY29udGV4dC5nZXRGZWF0dXJlQ291bnQoKSlyZXR1cm4gdGhpcy5fZnJhbWVUYXNrLnNjaGVkdWxlKCgoKT0+dGhpcy5jbGVhcigpKSxlKTt0cnl7Y29uc3QgdD1hd2FpdCB0aGlzLl9xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JJZFNldCh0aGlzLl9jb21wb3NpdGVkRmVhdHVyZUZpbHRlcix0aGlzLl9zY2VuZUZpbHRlcixlKTtyZXR1cm4gdGhpcy5fZnJhbWVUYXNrLnNjaGVkdWxlKCgoKT0+e3RoaXMuY29udGV4dC51cGRhdGVGZWF0dXJlVmlzaWJpbGl0aWVzKChlPT50LmhhcyhlKSkpfSksZSl9Y2F0Y2godCl7cmV0dXJuIG8odCksaS5nZXRMb2dnZXIodGhpcykud2FybihgRmVhdHVyZUZpbHRlciBxdWVyeSBmYWlsZWQ6ICR7dH1gLHtlcnJvcjp0fSksdGhpcy5fZnJhbWVUYXNrLnNjaGVkdWxlKCgoKT0+e3RoaXMuY29udGV4dC5zZXRBbGxGZWF0dXJlc1Zpc2liaWxpdHkoITApfSksZSl9fX1pbml0aWFsaXplKCl7Y29uc3QgZT15LkZJTFRFUl9WSVNJQklMSVRZLHtsYXllcjp0LHZpZXc6cn09dGhpcy5fbGF5ZXJWaWV3LHtmZWF0dXJlU3RvcmU6aX09dGhpcy5jb250ZXh0LHM9XCJoYXNaXCJpbiB0aGlzLl9sYXllclZpZXcmJnRoaXMuX2xheWVyVmlldy5oYXNaLGw9XCJoYXNNXCJpbiB0aGlzLl9sYXllclZpZXcmJnRoaXMuX2xheWVyVmlldy5oYXNNO3RoaXMuX3F1ZXJ5RW5naW5lPW5ldyBkKHtjb250ZXh0OntzcGF0aWFsUmVmZXJlbmNlOnIuc3BhdGlhbFJlZmVyZW5jZSxsYXllcjp0LHNjaGVkdWxlcjpyLnJlc291cmNlQ29udHJvbGxlci5zY2hlZHVsZXIsZmVhdHVyZVN0b3JlOmksaGFzTTpsLGhhc1o6c30scHJpb3JpdHk6ZX0pLHRoaXMuX2ZyYW1lVGFzaz10aGlzLl9sYXllclZpZXcudmlldy5yZXNvdXJjZUNvbnRyb2xsZXIuc2NoZWR1bGVyLnJlZ2lzdGVyVGFzayhlLHRoaXMpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT5bdGhpcy5fY29tcG9zaXRlZEZlYXR1cmVGaWx0ZXIsdGhpcy5fc2NlbmVGaWx0ZXJdKSwoKCk9PnRoaXMucmVhcHBseSgpKSx1KX1kZXN0cm95KCl7dGhpcy5fdXBkYXRlUmVxdWVzdGVkPSExLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5kZXN0cm95KCksdGhpcy5jbGVhcigpLHRoaXMuX3VwZGF0ZVRhc2s9cyh0aGlzLl91cGRhdGVUYXNrKSx0aGlzLl9mcmFtZVRhc2s9bCh0aGlzLl9mcmFtZVRhc2spLHRoaXMuX3F1ZXJ5RW5naW5lPWEodGhpcy5fcXVlcnlFbmdpbmUpLHRoaXMuX3NldChcImNvbnRleHRcIixudWxsKX1nZXQgdXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5ydW5uaW5nfHx0aGlzLl91cGRhdGluZ0hhbmRsZXMudXBkYXRpbmd8fG51bGwhPXRoaXMuX3VwZGF0ZVRhc2smJiF0aGlzLl91cGRhdGVUYXNrLmZpbmlzaGVkfWdldCBydW5uaW5nKCl7cmV0dXJuIHRoaXMuX3VwZGF0ZVJlcXVlc3RlZHx8dGhpcy5fZnJhbWVUYXNrLnVwZGF0aW5nfWdldCBkZWZhdWx0VmlzaWJpbGl0eSgpe3JldHVybiBudWxsPT10aGlzLl9jb21wb3NpdGVkRmVhdHVyZUZpbHRlciYmbnVsbD09dGhpcy5fc2NlbmVGaWx0ZXJ9Z2V0IF9mZWF0dXJlRmlsdGVyKCl7cmV0dXJuXCJmaWx0ZXJcImluIHRoaXMuX2xheWVyVmlldz90aGlzLl9sYXllclZpZXcuZmlsdGVyOm51bGx9Z2V0IF9zY2VuZUZpbHRlcigpe3JldHVyblwibGF5ZXJGaWx0ZXJcImluIHRoaXMuX2xheWVyVmlldz90aGlzLl9sYXllclZpZXcubGF5ZXJGaWx0ZXI6bnVsbH1nZXQgX2Zsb29yRmlsdGVyKCl7cmV0dXJuIF8odGhpcy5fbGF5ZXJWaWV3KX1nZXQgX3RpbWVFeHRlbnQoKXtyZXR1cm5cInRpbWVFeHRlbnRcImluIHRoaXMuX2xheWVyVmlldz90aGlzLl9sYXllclZpZXcudGltZUV4dGVudDpudWxsfWdldCBfY29tcG9zaXRlZEZlYXR1cmVGaWx0ZXIoKXtjb25zdHtfZmVhdHVyZUZpbHRlcjplLF90aW1lRXh0ZW50OnQsX2Zsb29yRmlsdGVyOnJ9PXRoaXM7aWYobnVsbD09dCYmbnVsbD09cilyZXR1cm4gZTtjb25zdCBpPW51bGwhPWU/ZS5jbG9uZSgpOm5ldyBjO2lmKG51bGwhPXQmJihpLnRpbWVFeHRlbnQ9bnVsbCE9aS50aW1lRXh0ZW50P2kudGltZUV4dGVudC5pbnRlcnNlY3Rpb24odCk6dCksbnVsbCE9cil7Y29uc3QgZT1udWxsPT1pLndoZXJlfHxcIlwiPT09aS53aGVyZTtpLndoZXJlPWU/cjpgKCR7aS53aGVyZX0pIEFORCAoJHtyfSlgfXJldHVybiBpfWdldCBfbGF5ZXJWaWV3KCl7cmV0dXJuIHRoaXMuY29udGV4dC5sYXllclZpZXd9cmVhcHBseSgpe3RoaXMuX3VwZGF0ZVJlcXVlc3RlZD0hMH1jbGVhcigpe3RoaXMuX3F1ZXJ5RW5naW5lLmNsZWFyKCksdGhpcy5jb250ZXh0LmNsZWFyRmVhdHVyZXNWaXNpYmlsaXR5KCl9cnVuVGFzayhlKXt0aGlzLl91cGRhdGVSZXF1ZXN0ZWQmJih0aGlzLl91cGRhdGVUYXNrPXModGhpcy5fdXBkYXRlVGFzayksdGhpcy5fdXBkYXRlVGFzaz1yKHRoaXMuX3VwZGF0ZVZpc2liaWxpdHkpLHRoaXMuX3VwZGF0ZVJlcXVlc3RlZD0hMSxlLm1hZGVQcm9ncmVzcygpKSx0aGlzLl9mcmFtZVRhc2sucHJvY2Vzc1F1ZXVlKGUpfX07ZShbbih7Y29uc3RydWN0T25seTohMH0pXSxtLnByb3RvdHlwZSxcImNvbnRleHRcIix2b2lkIDApLGUoW24oKV0sbS5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW24oKV0sbS5wcm90b3R5cGUsXCJydW5uaW5nXCIsbnVsbCksZShbbigpXSxtLnByb3RvdHlwZSxcImRlZmF1bHRWaXNpYmlsaXR5XCIsbnVsbCksZShbbigpXSxtLnByb3RvdHlwZSxcIl9mZWF0dXJlRmlsdGVyXCIsbnVsbCksZShbbigpXSxtLnByb3RvdHlwZSxcIl9zY2VuZUZpbHRlclwiLG51bGwpLGUoW24oKV0sbS5wcm90b3R5cGUsXCJfZmxvb3JGaWx0ZXJcIixudWxsKSxlKFtuKCldLG0ucHJvdG90eXBlLFwiX3RpbWVFeHRlbnRcIixudWxsKSxlKFtuKCldLG0ucHJvdG90eXBlLFwiX2NvbXBvc2l0ZWRGZWF0dXJlRmlsdGVyXCIsbnVsbCksZShbbigpXSxtLnByb3RvdHlwZSxcIl9sYXllclZpZXdcIixudWxsKSxlKFtuKCldLG0ucHJvdG90eXBlLFwiX3VwZGF0ZVRhc2tcIix2b2lkIDApLGUoW24oKV0sbS5wcm90b3R5cGUsXCJfdXBkYXRlUmVxdWVzdGVkXCIsdm9pZCAwKSxtPWUoW3AoXCJlc3JpLnZpZXdzLjNkLmxheWVycy5zdXBwb3J0LkZlYXR1cmVWaXNpYmlsaXR5RmlsdGVyXCIpXSxtKTtleHBvcnR7bSBhcyBGZWF0dXJlVmlzaWJpbGl0eUZpbHRlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtpc1NvbWUgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7ZXN0aW1hdGVBdHRyaWJ1dGVzT2JqZWN0U2l6ZSBhcyBpLGVzdGltYXRlRml4ZWRBcnJheVNpemUgYXMgYSxlc3RpbWF0ZU51bWJlckJ5dGVTaXplIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9ieXRlU2l6ZUVzdGltYXRpb25zLmpzXCI7aW1wb3J0e21ha2VIYW5kbGUgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhbmRsZVV0aWxzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7aW5pdGlhbCBhcyBsLHN5bmMgYXMgcCx3YXRjaCBhcyBkfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtwdDJweCBhcyB1fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBofWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Y31mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjM2Y2NC5qc1wiO2ltcG9ydHtVcGRhdGluZ0hhbmRsZXMgYXMgeX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL3N1cHBvcnQvVXBkYXRpbmdIYW5kbGVzLmpzXCI7aW1wb3J0e3Byb2plY3RQb2ludFRvVmVjdG9yIGFzIF99ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0UG9pbnRUb1ZlY3Rvci5qc1wiO2ltcG9ydHtnZXRDb250aW51b3VzSW5kZXhBcnJheSBhcyBmfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvSW5kaWNlcy5qc1wiO2ltcG9ydHtnZXRSZXNvbHV0aW9uRm9yU2NhbGUgYXMgZ31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NjYWxlVXRpbHMuanNcIjtpbXBvcnR7Z2V0T2JqZWN0SWQgYXMgRn1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGVoeWRyYXRlZEZlYXR1cmVzLmpzXCI7aW1wb3J0e2NvbnZlcnRGcm9tUG9pbnQgYXMgUn1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtPcHRpbWl6ZWRGZWF0dXJlIGFzIGJ9ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEZlYXR1cmUuanNcIjtpbXBvcnQgdiBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkR2VvbWV0cnkuanNcIjtpbXBvcnQgUyBmcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZGF0YS9GZWF0dXJlU3RvcmUuanNcIjtpbXBvcnR7aXNOdW1lcmljRmllbGQgYXMgd31mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvc3VwcG9ydC9maWVsZFV0aWxzLmpzXCI7aW1wb3J0e2dlbmVyYXRlR3JhZGllbnQgYXMgUH1mcm9tXCIuLi8uLi8uLi8uLi9yZW5kZXJlcnMvc3VwcG9ydC9oZWF0bWFwVXRpbHMuanNcIjtpbXBvcnR7RHJhcGVTb3VyY2VUeXBlIGFzIGp9ZnJvbVwiLi4vaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtEaXNwbGF5RmVhdHVyZUxpbWl0IGFzIFR9ZnJvbVwiLi4vZ3JhcGhpY3MvRGlzcGxheUZlYXR1cmVMaW1pdC5qc1wiO2ltcG9ydHtGZWF0dXJlVmlzaWJpbGl0eUZpbHRlciBhcyBWfWZyb21cIi4vRmVhdHVyZVZpc2liaWxpdHlGaWx0ZXIuanNcIjtpbXBvcnR7ZHJhcGVkWiBhcyBHfWZyb21cIi4uLy4uL3RlcnJhaW4vT3ZlcmxheVJlbmRlcmVyLmpzXCI7aW1wb3J0e0F0dHJpYnV0ZSBhcyBNfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvQXR0cmlidXRlLmpzXCI7aW1wb3J0e0NvbnRlbnRPYmplY3RUeXBlIGFzIHh9ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9Db250ZW50T2JqZWN0VHlwZS5qc1wiO2ltcG9ydHtEcmFwZWRIZWF0bWFwUmVuZGVyZXIgYXMgSX1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL0RyYXBlZEhlYXRtYXBSZW5kZXJlci5qc1wiO2ltcG9ydHtHZW9tZXRyeSBhcyBBfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvR2VvbWV0cnkuanNcIjtpbXBvcnR7RGlydHlPcGVyYXRpb24gYXMgTixEaXJ0eVN0YXRlIGFzIE99ZnJvbVwiLi4vLi4vd2ViZ2wtZW5naW5lL2xpYi9Nb2RlbERpcnR5VHlwZXMuanNcIjtpbXBvcnR7UmVuZGVyR2VvbWV0cnkgYXMgSH1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbGliL1JlbmRlckdlb21ldHJ5LmpzXCI7aW1wb3J0e1VwZGF0ZVBvbGljeSBhcyBVfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvVXBkYXRlUG9saWN5LmpzXCI7aW1wb3J0e1ZlcnRleEF0dHJpYnV0ZSBhcyBFfWZyb21cIi4uLy4uL3dlYmdsLWVuZ2luZS9saWIvVmVydGV4QXR0cmlidXRlLmpzXCI7aW1wb3J0e0hlYXRtYXBEZW5zaXR5TWF0ZXJpYWwgYXMgRH1mcm9tXCIuLi8uLi93ZWJnbC1lbmdpbmUvbWF0ZXJpYWxzL0hlYXRtYXBEZW5zaXR5TWF0ZXJpYWwuanNcIjtpbXBvcnR7c2NhbGVCb3VuZHNQcmVkaWNhdGUgYXMgTCxpc1NjYWxlUmFuZ2VBY3RpdmUgYXMgQ31mcm9tXCIuLi8uLi8uLi9zdXBwb3J0L2xheWVyVmlld1V0aWxzLmpzXCI7aW1wb3J0e1BpeGVsVHlwZSBhcyBCLFBpeGVsRm9ybWF0IGFzIFd9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7bG9hZEhlYXRtYXBUZXh0dXJlQ29uZmlndXJhdGlvbiBhcyBafWZyb21cIi4uLy4uLy4uL3dlYmdsL2hlYXRtYXBUZXh0dXJlVXRpbHMuanNcIjtjb25zdCB6PVwiZXNyaS52aWV3cy4zZC5sYXllcnMuc3VwcG9ydC5IZWF0bWFwRmVhdHVyZVByb2Nlc3NvclwiLCQ9bi5nZXRMb2dnZXIoeikscT0xMTI7bGV0IGs9Y2xhc3MgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudHlwZT1cImhlYXRtYXBcIix0aGlzLnByZWZlcnJlZFVwZGF0ZVBvbGljeT1VLkFTWU5DLHRoaXMuZGF0YUV4dGVudD1udWxsLHRoaXMuZHJhcGVTb3VyY2VUeXBlPWouRmVhdHVyZXMsdGhpcy5fcmVuZGVyR2VvbWV0cmllcz1uZXcgTWFwLHRoaXMuX2ZpZWxkVG90YWw9MCx0aGlzLl9kcmFwZVNvdXJjZVJlbmRlcmVyPW51bGwsdGhpcy5fZGF0YVR5cGU9Qi5IQUxGX0ZMT0FULHRoaXMuX3BpeGVsRm9ybWF0PVcuUkdCQSx0aGlzLl91cGRhdGluZ0hhbmRsZXM9bmV3IHksdGhpcy5pbml0aWFsaXplUHJvbWlzZT1Qcm9taXNlLnJlc29sdmUoKX1pbml0aWFsaXplKCl7dGhpcy5fZmVhdHVyZVN0b3JlPW5ldyBTKHtnZW9tZXRyeVR5cGU6XCJlc3JpR2VvbWV0cnlQb2ludFwiLGhhc1o6dGhpcy5oYXNaLGhhc006dGhpcy5oYXNNfSk7Y29uc3R7ZGF0YVR5cGU6ZSxzYW1wbGluZ01vZGU6dCxwaXhlbEZvcm1hdDpyLGludGVybmFsRm9ybWF0Oml9PVoodGhpcy5fcmVuZGVyVmlldy5yZW5kZXJpbmdDb250ZXh0LCQpO3RoaXMuX2RhdGFUeXBlPWUsdGhpcy5fcGl4ZWxGb3JtYXQ9cjtjb25zdCBhPWUhPT1CLkZMT0FUO3RoaXMuX2RyYXBlU291cmNlUmVuZGVyZXI9dGhpcy52aWV3LmJhc2VtYXBUZXJyYWluLm92ZXJsYXlNYW5hZ2VyLnJlZ2lzdGVyRHJhcGVTb3VyY2UodGhpcyxJLHsuLi50aGlzLl9yZW5kZXJlclBhcmFtZXRlcnMsZGF0YVR5cGU6ZSxzYW1wbGluZ01vZGU6dCxwaXhlbEZvcm1hdDpyLGludGVybmFsRm9ybWF0Oml9KSx0aGlzLl9tYXRlcmlhbD1uZXcgRCh7dXNlc0hhbGZGbG9hdHM6YX0pLHRoaXMuX21hdGVyaWFsV2l0aEZpZWxkPW5ldyBEKHt1c2VzSGFsZkZsb2F0czphLGlzQXR0cmlidXRlRHJpdmVuOiEwfSksdGhpcy5fZmlsdGVyVmlzaWJpbGl0eT1uZXcgVih7Y29udGV4dDp7bGF5ZXJWaWV3OnRoaXMub3duZXIsZmVhdHVyZVN0b3JlOnRoaXMuZmVhdHVyZVN0b3JlLGdldEZlYXR1cmVDb3VudDooKT0+dGhpcy5fbG9hZGVkUG9pbnRHcmFwaGljcy5sZW5ndGgsc2V0QWxsRmVhdHVyZXNWaXNpYmlsaXR5OmU9PnRoaXMuX3NldEFsbEZlYXR1cmVzVmlzaWJpbGl0eShlKSxjbGVhckZlYXR1cmVzVmlzaWJpbGl0eTooKT0+dGhpcy5fc2V0QWxsRmVhdHVyZXNWaXNpYmlsaXR5KCEwKSx1cGRhdGVGZWF0dXJlVmlzaWJpbGl0aWVzOmU9PnRoaXMuX3VwZGF0ZUZlYXR1cmVWaXNpYmlsaXRpZXMoZSl9fSksdGhpcy5fdXBkYXRpbmdIYW5kbGVzLmFkZE9uQ29sbGVjdGlvbkNoYW5nZSgoKCk9PnRoaXMuX2xvYWRlZFBvaW50R3JhcGhpY3MpLChlPT50aGlzLl9vbkxvYWRlZEZlYXR1cmVzQ2hhbmdlKGUpKSxsKSx0aGlzLl91cGRhdGluZ0hhbmRsZXMuYWRkV2hlbigoKCk9PnRoaXMuX21hdGVyaWFsUGFyYW1ldGVycyksKGU9PnRoaXMuX2ZvckVhY2hNYXRlcmlhbCgodD0+dC5zZXRQYXJhbWV0ZXJzKGUpKSkpLGwpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLl9yZW5kZXJlclBhcmFtZXRlcnMpLChlPT50aGlzLl9kcmFwZVNvdXJjZVJlbmRlcmVyLnNldChlKSkpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT50aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZCksKCgpPT57dGhpcy5fcmVjcmVhdGUoKX0pLHApLHRoaXMuX3VwZGF0aW5nSGFuZGxlcy5hZGQoKCgpPT4oe2ZpZWxkTmFtZTp0aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZE5hbWUsbnVtZXJpYzp0aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZElzTnVtZXJpY30pKSwoKHtmaWVsZE5hbWU6ZSxudW1lcmljOnR9KT0+e2lmKG51bGwhPWUmJnQpe2xldCB0PTA7dGhpcy5fZmVhdHVyZVN0b3JlLmZvckVhY2goKHI9PnQrPXIuYXR0cmlidXRlc1tlXT8/MCkpLHRoaXMuX2ZpZWxkVG90YWw9dH1lbHNlIHRoaXMuX2ZpZWxkVG90YWw9dGhpcy5fZmVhdHVyZVN0b3JlLm51bUZlYXR1cmVzfSksbCksdGhpcy5hZGRIYW5kbGVzKFtkKCgoKT0+KHtmaWVsZE5hbWU6dGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGROYW1lLGZpZWxkOnRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkfSkpLCgoe2ZpZWxkTmFtZTplLGZpZWxkOnR9KT0+e2UmJiF0JiYkLndhcm4oYEhlYXRtYXAgcmVuZGVyZXIgZmllbGQgJyR7ZX0nIGZvciBsYXllciAnJHt0aGlzLmxheWVyLnRpdGxlPz90aGlzLmxheWVyLmlkfScgbm90IGZvdW5kYCl9KSksZCgoKCk9Pih7ZmllbGQ6dGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGQsbnVtZXJpYzp0aGlzLl9oZWF0bWFwUmVuZGVyZXJGaWVsZElzTnVtZXJpY30pKSwoKHtmaWVsZDplLG51bWVyaWM6dH0pPT57bnVsbD09ZXx8dHx8JC53YXJuKGBIZWF0bWFwIHJlbmRlcmVyIGZpZWxkICcke2UubmFtZX0nIGZvciBsYXllciAnJHt0aGlzLmxheWVyLnRpdGxlPz90aGlzLmxheWVyLmlkfScgZG9lcyBub3QgY29udGFpbiBudW1lcmljIHZhbHVlcyBhbmQgY2Fubm90IGJlIHVzZWQgdG8gZHJpdmUgdGhlIGhlYXRtYXAgZGVuc2l0eWApfSkpLG8oKCgpPT50aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4ub3ZlcmxheU1hbmFnZXIudW5yZWdpc3RlckRyYXBlU291cmNlKHRoaXMpKSldKX1kZXN0cm95KCl7dGhpcy5fcmVuZGVyR2VvbWV0cmllcy5jbGVhcigpLHRoaXMuX21hdGVyaWFsPW51bGwsdGhpcy5fbWF0ZXJpYWxXaXRoRmllbGQ9bnVsbCx0aGlzLl9mZWF0dXJlU3RvcmUuY2xlYXIoKSx0aGlzLl9mZWF0dXJlU3RvcmU9bnVsbCx0aGlzLl91cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpfWdldCBsYXllcigpe3JldHVybiB0aGlzLm93bmVyLmxheWVyfWdldCBmZWF0dXJlU3RvcmUoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZVN0b3JlfWdldCB1cGRhdGluZygpe3JldHVybiB0aGlzLl91cGRhdGluZ0hhbmRsZXMudXBkYXRpbmd8fHRoaXMuZmlsdGVyVmlzaWJpbGl0eS51cGRhdGluZ31nZXQgdXBkYXRpbmdSZW1haW5pbmcoKXtyZXR1cm4gMH1nZXQgc3VzcGVuZEluZm8oKXtyZXR1cm57fX1nZXQgbGVnZW5kRW5hYmxlZCgpe3JldHVybiEwfWdldCBmaWx0ZXJWaXNpYmlsaXR5KCl7cmV0dXJuIHRoaXMuX2ZpbHRlclZpc2liaWxpdHl9Z2V0IGRpc3BsYXlGZWF0dXJlTGltaXQoKXtjb25zdCBlPXRoaXMub3duZXI/LnZpZXc/LnF1YWxpdHk/PzEsdD10aGlzLm93bmVyPy52aWV3Py5xdWFsaXR5U2V0dGluZ3Mscj10P01hdGguY2VpbCh0LmhlYXRtYXAubWF4VG90YWxOdW1iZXJPZkZlYXR1cmVzKmUpOjA7cmV0dXJuIG5ldyBUKHIqNixyKX1nZXQgaGFzWigpe3JldHVyblwiaGFzWlwiaW4gdGhpcy5sYXllciYmdGhpcy5sYXllci5oYXNafWdldCBoYXNNKCl7cmV0dXJuXCJoYXNNXCJpbiB0aGlzLmxheWVyJiZ0aGlzLmxheWVyLmhhc019Z2V0IHZpZXcoKXtyZXR1cm4gdGhpcy5vd25lci52aWV3fWdldCBmdWxsT3BhY2l0eSgpe3JldHVybiB0aGlzLm93bmVyLmZ1bGxPcGFjaXR5fWdldCB1cGRhdGVQb2xpY3koKXtyZXR1cm4gdGhpcy5vd25lci51cGRhdGVQb2xpY3l9Z2V0IHNjYWxlVmlzaWJpbGl0eVN1c3BlbmRlZCgpe2lmKCF0aGlzLl9pc1NjYWxlUmFuZ2VBY3RpdmUpcmV0dXJuITE7Y29uc3R7bWluU2NhbGU6ZSxtYXhTY2FsZTp0fT10aGlzLmxheWVyLmVmZmVjdGl2ZVNjYWxlUmFuZ2Use3NjYWxlOnJ9PXRoaXMudmlldztyZXR1cm4hTChyLGU/PzAsdD8/MCl9Z2V0IHVzZWRNZW1vcnkoKXtjb25zdCBlPXRoaXMudXNlZE1lbW9yeVBlckZlYXR1cmUqdGhpcy5fZmVhdHVyZVN0b3JlLm51bUZlYXR1cmVzLHQ9dGhpcy5fcGl4ZWxGb3JtYXQ9PT1XLlJFRD8xOjQscj10aGlzLl9kYXRhVHlwZT09PUIuRkxPQVQ/NDoyLGk9TWF0aC5jZWlsKCh0aGlzLl9vdmVybGF5UmVuZGVyZXI/Lm92ZXJsYXlzWzBdPy5yZXNvbHV0aW9uPz8wKSp0aGlzLl9kZW5zaXR5TWFwUGl4ZWxSYXRpbyk/PzA7cmV0dXJuIGkqaSp0KnIrZX1nZXQgdXNlZE1lbW9yeVBlckZlYXR1cmUoKXtjb25zdCBlPXRoaXMuX2xvYWRlZFBvaW50R3JhcGhpY3MuZmluZCgoKCk9PiEwKSk7aWYobnVsbD09ZSlyZXR1cm4gMDtjb25zdCB0PWkoZSkscj1zKCksbz02O3JldHVybiBvKmEoWzAsMCwwXSxyKStvKmEoWzAsMF0scikrKHRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkSXNOdW1lcmljP28qcjowKSt0fWdldCBsb2FkZWRGZWF0dXJlcygpe3JldHVybiB0aGlzLl9mZWF0dXJlU3RvcmUubnVtRmVhdHVyZXN9Z2V0IHVucHJvY2Vzc2VkTWVtb3J5RXN0aW1hdGUoKXtyZXR1cm4gMH1nZXQgcGVyZm9ybWFuY2VJbmZvKCl7cmV0dXJue2NvcmU6e3Zpc2libGU6dGhpcy5fdmlzaWJsZUZlYXR1cmVzLG1pc3Npbmc6MCxwZW5kaW5nOjB9LGVsZXZhdGlvblVwZGF0aW5nOiExLHZpc2liaWxpdHlGcnVzdHVtOiEwLHZpc2liaWxpdHlTY2FsZTohMH19Z2V0IHJlbmRlcmVyKCl7cmV0dXJuIHRoaXMuX2hlYXRtYXBSZW5kZXJlcn1nZXQgX292ZXJsYXlSZW5kZXJlcigpe3JldHVybiB0aGlzLnZpZXcuYmFzZW1hcFRlcnJhaW4ub3ZlcmxheU1hbmFnZXIucmVuZGVyZXJ9Z2V0IF9vdmVybGF5U3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLl9vdmVybGF5UmVuZGVyZXIuc3BhdGlhbFJlZmVyZW5jZX1nZXQgX3JlbmRlcmVyUGFyYW1ldGVycygpe3JldHVybnsuLi50aGlzLl9yYWRpdXNQYXJhbWV0ZXIsLi4udGhpcy5fZGVuc2l0eVBhcmFtZXRlcnMsLi4udGhpcy5fY29sb3JSYW1wUGFyYW1ldGVyLC4uLnRoaXMuX3BpeGVsUmF0aW9QYXJhbWV0ZXJ9fWdldCBfbWF0ZXJpYWxQYXJhbWV0ZXJzKCl7cmV0dXJuey4uLnRoaXMuX3JhZGl1c1BhcmFtZXRlciwuLi50aGlzLl9yZXNvbHV0aW9uRm9yU2NhbGVQYXJhbWV0ZXJ9fWdldCBfZGVuc2l0eVBhcmFtZXRlcnMoKXtjb25zdCBlPXRoaXMuX2hlYXRtYXBSZW5kZXJlcjtpZihudWxsPT1lKXJldHVybiBudWxsO2NvbnN0e21pbkRlbnNpdHk6dCxtYXhEZW5zaXR5OnJ9PWU7cmV0dXJue21pbkRlbnNpdHk6dCxtYXhEZW5zaXR5OnIsZmllbGRUb3RhbDp0aGlzLl9maWVsZFRvdGFsfX1nZXQgX3JhZGl1c1BhcmFtZXRlcigpe2NvbnN0IGU9dGhpcy5faGVhdG1hcFJlbmRlcmVyO3JldHVybiBlP3tzZWFyY2hSYWRpdXM6dSh0aGlzLl9jbGFtcFNlYXJjaFJhZGl1cyhlLnJhZGl1cykpfTpudWxsfWdldCBfcmVzb2x1dGlvbkZvclNjYWxlUGFyYW1ldGVyKCl7Y29uc3QgZT10aGlzLl9oZWF0bWFwUmVuZGVyZXI7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3R7cmVmZXJlbmNlU2NhbGU6dH09ZTtyZXR1cm57cmVzb2x1dGlvbkZvclNjYWxlOjA9PT10PzA6Zyh0LHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKX19Z2V0IF9jb2xvclJhbXBQYXJhbWV0ZXIoKXtjb25zdCBlPXRoaXMuX2hlYXRtYXBSZW5kZXJlcjtyZXR1cm4gZT97Y29sb3JSYW1wRGF0YTpQKGUuY29sb3JTdG9wcyl9Om51bGx9Z2V0IF9waXhlbFJhdGlvUGFyYW1ldGVyKCl7cmV0dXJue3BpeGVsUmF0aW86dGhpcy5fZGVuc2l0eU1hcFBpeGVsUmF0aW99fWdldCBfZGVuc2l0eU1hcFBpeGVsUmF0aW8oKXtyZXR1cm4gdGhpcy5vd25lcj8udmlldz8ucXVhbGl0eVNldHRpbmdzLmhlYXRtYXAucGl4ZWxSYXRpbz8/MX1nZXQgX3JlbmRlclZpZXcoKXtyZXR1cm4gdGhpcy52aWV3Ll9zdGFnZS5yZW5kZXJWaWV3fWdldCBfZmVhdHVyZXNBcmVQb2ludHMoKXtyZXR1cm5cInBvaW50XCI9PT10aGlzLmxheWVyLmdlb21ldHJ5VHlwZX1nZXQgX2xvYWRlZFBvaW50R3JhcGhpY3MoKXtyZXR1cm4gdGhpcy5vd25lci5sb2FkZWRHcmFwaGljc31nZXQgX2hlYXRtYXBSZW5kZXJlcigpe2NvbnN0IGU9dGhpcy5sYXllci5yZW5kZXJlcjtyZXR1cm5cImhlYXRtYXBcIj09PWU/LnR5cGU/ZTpudWxsfWdldCBfaGVhdG1hcFJlbmRlcmVyRmllbGROYW1lKCl7cmV0dXJuIHRoaXMuX2hlYXRtYXBSZW5kZXJlcj8uZmllbGR9Z2V0IF9oZWF0bWFwUmVuZGVyZXJGaWVsZCgpe2NvbnN0IGU9dGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGROYW1lO3JldHVybiBudWxsIT1lP3RoaXMubGF5ZXIuZmllbGRzSW5kZXguZ2V0KGUpOm51bGx9Z2V0IF9oZWF0bWFwUmVuZGVyZXJGaWVsZElzTnVtZXJpYygpe2NvbnN0IGU9dGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGQ7cmV0dXJuIG51bGwhPWUmJncoZSl9Z2V0IF9pc1NjYWxlUmFuZ2VBY3RpdmUoKXtjb25zdHtsYXllcjplfT10aGlzO2lmKCEoXCJlZmZlY3RpdmVTY2FsZVJhbmdlXCJpbiBlKSlyZXR1cm4hMTtjb25zdHttaW5TY2FsZTp0LG1heFNjYWxlOnJ9PWUuZWZmZWN0aXZlU2NhbGVSYW5nZTtyZXR1cm4gQyh0LHIpfWdldCBfdmlzaWJsZUZlYXR1cmVzKCl7bGV0IGU9MDtyZXR1cm4gdGhpcy5fcmVuZGVyR2VvbWV0cmllcy5mb3JFYWNoKCh0PT57dC52aXNpYmxlJiYrK2V9KSksZX1hc3luYyB3aGVuR3JhcGhpY0JvdW5kcygpe3JldHVybiBudWxsfWNvbXB1dGVBdHRhY2htZW50T3JpZ2luKCl7cmV0dXJuIG51bGx9aGlnaGxpZ2h0KCl7cmV0dXJuIG8oKX1tYXNrT2NjbHVkZWUoKXtyZXR1cm4gbygpfXNldE9iamVjdElkVmlzaWJpbGl0eSgpe31yZWZyZXNoRmlsdGVyKCl7dGhpcy5maWx0ZXJWaXNpYmlsaXR5LnJlYXBwbHkoKX1fb25Mb2FkZWRGZWF0dXJlc0NoYW5nZShlKXtpZighdGhpcy5fZmVhdHVyZXNBcmVQb2ludHMpcmV0dXJuO2NvbnN0e29iamVjdElkRmllbGQ6dH09dGhpcy5sYXllcjt0aGlzLl9mZWF0dXJlU3RvcmUucmVtb3ZlTWFueUJ5SWQoZS5yZW1vdmVkLm1hcCgoZT0+RihlLHQpKSkpLHRoaXMuX2ZlYXR1cmVTdG9yZS5hZGRNYW55KGUuYWRkZWQubWFwKChlPT57Y29uc3R7YXR0cmlidXRlczpyLGNlbnRyb2lkOmksZ2VvbWV0cnk6YX09ZSxzPW5ldyBiKFIobmV3IHYsYSkscixpP1IobmV3IHYsaSk6bnVsbCxGKGUsdCkpO3JldHVybiBzLmRpc3BsYXlJZD1lLnVpZCxzfSkpKTtjb25zdCBpPWUuYWRkZWQsYT1lLnJlbW92ZWQ7dGhpcy5fZmllbGRUb3RhbCs9dGhpcy5fY29tcHV0ZUZpZWxkVG90YWxDaGFuZ2UoaSxhKTtjb25zdCBzPWEubWFwKCgoe3VpZDplfSk9Pntjb25zdCB0PXRoaXMuX3JlbmRlckdlb21ldHJpZXMuZ2V0KGUpO3JldHVybiB0aGlzLl9yZW5kZXJHZW9tZXRyaWVzLmRlbGV0ZShlKSx0fSkpLmZpbHRlcihyKSxvPWkubWFwKChlPT57Y29uc3QgdD10aGlzLl9wb2ludEdyYXBoaWNUb1JlbmRlckdlb21ldHJ5KGUpO3JldHVybiB0aGlzLl9yZW5kZXJHZW9tZXRyaWVzLnNldChlLnVpZCx0KSx0fSkpO3MubGVuZ3RoPjAmJnRoaXMuX2RyYXBlU291cmNlUmVuZGVyZXIucmVtb3ZlR2VvbWV0cmllcyhzLE4uUkVNT1ZFKSxvLmxlbmd0aD4wJiZ0aGlzLl9kcmFwZVNvdXJjZVJlbmRlcmVyLmFkZEdlb21ldHJpZXMobyxOLkFERCksKG8ubGVuZ3RoPjB8fHMubGVuZ3RoPjApJiYodGhpcy5maWx0ZXJWaXNpYmlsaXR5LnJlYXBwbHkoKSx0aGlzLl9yZW5kZXJWaWV3LnJlcXVlc3RSZW5kZXIoKSl9X3JlY3JlYXRlKCl7aWYoIXRoaXMuX2xvYWRlZFBvaW50R3JhcGhpY3MpcmV0dXJuO2NvbnN0IGU9dGhpcy5fbG9hZGVkUG9pbnRHcmFwaGljcy50b0FycmF5KCk7dGhpcy5fb25Mb2FkZWRGZWF0dXJlc0NoYW5nZSh7YWRkZWQ6ZSxyZW1vdmVkOmV9KX1fcG9pbnRHcmFwaGljVG9SZW5kZXJHZW9tZXRyeShlKXtjb25zdCB0PXRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkTmFtZSxyPW51bGwhPXQ/dGhpcy5fbWF0ZXJpYWxXaXRoRmllbGQ6dGhpcy5fbWF0ZXJpYWwsaT1jKCk7XyhlLmdlb21ldHJ5LGksdGhpcy5fb3ZlcmxheVNwYXRpYWxSZWZlcmVuY2UpLGlbMl09Rztjb25zdCBhPWYoMSkscz1bW0UuUE9TSVRJT04sbmV3IE0oaSxhLGkubGVuZ3RoKV1dLG89dGhpcy5faGVhdG1hcFJlbmRlcmVyRmllbGRJc051bWVyaWM7bnVsbCE9dCYmcy5wdXNoKFtFLkZFQVRVUkVBVFRSSUJVVEUsbmV3IE0oW28/ZS5hdHRyaWJ1dGVzW3RdPz8wOjBdLGEsMSldKTtjb25zdCBuPW5ldyBIKG5ldyBBKHIscyxudWxsLHguUG9pbnQpLHtsYXllclVpZDp0aGlzLmxheWVyLnVpZCxncmFwaGljVWlkOmUudWlkfSk7cmV0dXJuIG4udmlzaWJsZT10aGlzLmZpbHRlclZpc2liaWxpdHkuZGVmYXVsdFZpc2liaWxpdHksbn1fZm9yRWFjaE1hdGVyaWFsKGUpe2UodGhpcy5fbWF0ZXJpYWwpLGUodGhpcy5fbWF0ZXJpYWxXaXRoRmllbGQpfV9jb21wdXRlRmllbGRUb3RhbENoYW5nZShlLHQpe2lmKG51bGw9PXRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkTmFtZXx8IXRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkSXNOdW1lcmljKXJldHVybiBlLmxlbmd0aC10Lmxlbmd0aDtjb25zdCByPXRoaXMuX2hlYXRtYXBSZW5kZXJlckZpZWxkTmFtZSxpPShlLHQpPT5lKyh0LmF0dHJpYnV0ZXNbcl0/PzApO3JldHVybiBlLnJlZHVjZShpLDApLXQucmVkdWNlKGksMCl9X2NsYW1wU2VhcmNoUmFkaXVzKGUpe3JldHVybiBlPnEmJiQud2Fybk9uY2UoYFNjZW5lVmlldyBzdXBwb3J0cyBhIG1heGltdW0gcmFkaXVzIG9mICR7cX0gcHQgZm9yIEhlYXRtYXBSZW5kZXJlci5gKSxNYXRoLm1pbihlLHEpfV91cGRhdGVGZWF0dXJlVmlzaWJpbGl0aWVzKGUpe2NvbnN0IHQ9W107dGhpcy5fZmVhdHVyZVN0b3JlLmZvckVhY2goKCh7b2JqZWN0SWQ6cixkaXNwbGF5SWQ6aX0pPT57Y29uc3QgYT1lKHIpLHM9dGhpcy5fcmVuZGVyR2VvbWV0cmllcy5nZXQoaSk7cyYmcy52aXNpYmxlIT09YSYmKHQucHVzaChzKSxzLnZpc2libGU9YSl9KSksdGhpcy5fZHJhcGVTb3VyY2VSZW5kZXJlci5tb2RpZnlHZW9tZXRyaWVzKHQsTy5WSVNJQklMSVRZKX1fc2V0QWxsRmVhdHVyZXNWaXNpYmlsaXR5KGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2YgdGhpcy5fcmVuZGVyR2VvbWV0cmllcy52YWx1ZXMoKSlyLnZpc2libGUhPT1lJiYodC5wdXNoKHIpLHIudmlzaWJsZT1lKTt0aGlzLl9kcmFwZVNvdXJjZVJlbmRlcmVyLm1vZGlmeUdlb21ldHJpZXModCxPLlZJU0lCSUxJVFkpfWdldCB0ZXN0KCl7cmV0dXJue3Zpc2libGVGZWF0dXJlQ291bnQ6dGhpcy5fdmlzaWJsZUZlYXR1cmVzfX19O2UoW20oKV0say5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxlKFttKHtjb25zdHJ1Y3RPbmx5OiEwfSldLGsucHJvdG90eXBlLFwib3duZXJcIix2b2lkIDApLGUoW20oKV0say5wcm90b3R5cGUsXCJsYXllclwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJmZWF0dXJlU3RvcmVcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwidXBkYXRpbmdSZW1haW5pbmdcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwic3VzcGVuZEluZm9cIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJmaWx0ZXJWaXNpYmlsaXR5XCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcImRpc3BsYXlGZWF0dXJlTGltaXRcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwicHJlZmVycmVkVXBkYXRlUG9saWN5XCIsdm9pZCAwKSxlKFttKCldLGsucHJvdG90eXBlLFwiaGFzWlwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJoYXNNXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcImRhdGFFeHRlbnRcIix2b2lkIDApLGUoW20oKV0say5wcm90b3R5cGUsXCJ2aWV3XCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcImZ1bGxPcGFjaXR5XCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcInVwZGF0ZVBvbGljeVwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJkcmFwZVNvdXJjZVR5cGVcIix2b2lkIDApLGUoW20oKV0say5wcm90b3R5cGUsXCJzY2FsZVZpc2liaWxpdHlTdXNwZW5kZWRcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwicmVuZGVyZXJcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiX2ZlYXR1cmVTdG9yZVwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9maWx0ZXJWaXNpYmlsaXR5XCIsdm9pZCAwKSxlKFttKCldLGsucHJvdG90eXBlLFwiX292ZXJsYXlSZW5kZXJlclwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfb3ZlcmxheVNwYXRpYWxSZWZlcmVuY2VcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiX3JlbmRlcmVyUGFyYW1ldGVyc1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfbWF0ZXJpYWxQYXJhbWV0ZXJzXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9kZW5zaXR5UGFyYW1ldGVyc1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfcmFkaXVzUGFyYW1ldGVyXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9yZXNvbHV0aW9uRm9yU2NhbGVQYXJhbWV0ZXJcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiX2NvbG9yUmFtcFBhcmFtZXRlclwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfcGl4ZWxSYXRpb1BhcmFtZXRlclwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfZGVuc2l0eU1hcFBpeGVsUmF0aW9cIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiX3JlbmRlckdlb21ldHJpZXNcIix2b2lkIDApLGUoW20oKV0say5wcm90b3R5cGUsXCJfbWF0ZXJpYWxcIix2b2lkIDApLGUoW20oKV0say5wcm90b3R5cGUsXCJfbWF0ZXJpYWxXaXRoRmllbGRcIix2b2lkIDApLGUoW20oKV0say5wcm90b3R5cGUsXCJfcmVuZGVyVmlld1wiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfZmVhdHVyZXNBcmVQb2ludHNcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiX2xvYWRlZFBvaW50R3JhcGhpY3NcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiX2hlYXRtYXBSZW5kZXJlclwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfaGVhdG1hcFJlbmRlcmVyRmllbGROYW1lXCIsbnVsbCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9oZWF0bWFwUmVuZGVyZXJGaWVsZFwiLG51bGwpLGUoW20oKV0say5wcm90b3R5cGUsXCJfaGVhdG1hcFJlbmRlcmVyRmllbGRJc051bWVyaWNcIixudWxsKSxlKFttKCldLGsucHJvdG90eXBlLFwiX2ZpZWxkVG90YWxcIix2b2lkIDApLGUoW20oKV0say5wcm90b3R5cGUsXCJfZHJhcGVTb3VyY2VSZW5kZXJlclwiLHZvaWQgMCksZShbbSgpXSxrLnByb3RvdHlwZSxcIl9pc1NjYWxlUmFuZ2VBY3RpdmVcIixudWxsKSxrPWUoW2goeildLGspO2V4cG9ydHtrIGFzIEhlYXRtYXBGZWF0dXJlUHJvY2Vzc29yLHEgYXMgbWF4UmFkaXVzUHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG4obix0LGUpe2lmKCFlfHxudWxsPT10KXJldHVybiBudWxsO2lmKCFuKXJldHVybiByKHQsZSk7Y29uc3Qgbz1uLmdldChlKTtyZXR1cm4gbz90W28ubmFtZV06bnVsbH1mdW5jdGlvbiByKG4scil7Y29uc3QgdD1yLnRvTG93ZXJDYXNlKCk7Zm9yKGNvbnN0IGUgaW4gbilpZihlLnRvTG93ZXJDYXNlKCk9PT10KXJldHVybiBuW2VdO3JldHVybiBudWxsfWV4cG9ydHtuIGFzIGF0dHJpYnV0ZUxvb2t1cH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nQm94LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvRXh0ZW50LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9HZW9tZXRyeS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvTXVsdGlwb2ludC5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2dlb21ldHJ5L1BvbHlnb24uanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2dlb21ldHJ5L1BvbHlsaW5lLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3R5cGVVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvRmllbGQuanNcIjtpbXBvcnR7ZXF1YWxzIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2RlaHlkcmF0ZWRGZWF0dXJlQ29tcGFyaXNvbi5qc1wiO2NsYXNzIHR7Z2V0IGlzUmVmZXJlbmNlZCgpe3JldHVybiAwIT09dGhpcy52ZXJzaW9ucy5sZW5ndGh9Z2V0IGlzU2luZ2xlKCl7cmV0dXJuIDE9PT10aGlzLnZlcnNpb25zLmxlbmd0aCYmMT09PXRoaXMudmVyc2lvbnNbMF0ucmVmQ291bnR9Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9oaWdoZXN0UmVzb2x1dGlvblZlcnNpb249bnVsbCx0aGlzLnZlcnNpb25zPVtdLHRoaXMucmVmKGUsdCl9cmVmKHQscyl7Y29uc3Qgcj10aGlzLmZlYXR1cmU7aS5vbGRWZXJzaW9uPXIsdGhpcy5mZWF0dXJlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInVpZFwiLHt2YWx1ZTp0aGlzLmZlYXR1cmUudWlkLGNvbmZpZ3VyYWJsZTohMH0pO2Zvcihjb25zdCBuIG9mIHRoaXMudmVyc2lvbnMpaWYobi5yZXNvbHV0aW9uPT09cyl7bi5yZWZDb3VudCsrO2NvbnN0IHM9dGhpcy5faGlnaGVzdFJlc29sdXRpb25WZXJzaW9uPT09biYmIWUodCxuLmZlYXR1cmUpO3JldHVybihzfHx0aGlzLl9oaWdoZXN0UmVzb2x1dGlvblZlcnNpb24hPT1uKSYmKG4uZmVhdHVyZT10KSxpLm5ld1ZlcnNpb249cz90OnIsaX1jb25zdCBvPXtmZWF0dXJlOnQscmVzb2x1dGlvbjpzLHJlZkNvdW50OjF9O3JldHVybiB0aGlzLnZlcnNpb25zLnB1c2gobyksIXRoaXMuX2hpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbnx8czx0aGlzLl9oaWdoZXN0UmVzb2x1dGlvblZlcnNpb24ucmVzb2x1dGlvbj8oaS5uZXdWZXJzaW9uPXQsdGhpcy5faGlnaGVzdFJlc29sdXRpb25WZXJzaW9uPW8pOmkubmV3VmVyc2lvbj1yLGl9dW5yZWYoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnZlcnNpb25zLmxlbmd0aDt0Kyspe2NvbnN0IHM9dGhpcy52ZXJzaW9uc1t0XTtpZihzLnJlc29sdXRpb249PT1lKXJldHVybiBzLnJlZkNvdW50LS0saS5vbGRWZXJzaW9uPXRoaXMuZmVhdHVyZSwwPT09cy5yZWZDb3VudCYmKHRoaXMudmVyc2lvbnNbdF09dGhpcy52ZXJzaW9uc1t0aGlzLnZlcnNpb25zLmxlbmd0aC0xXSx0aGlzLnZlcnNpb25zLmxlbmd0aC0tLHRoaXMuX2hpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbj09PXMmJih0aGlzLl9yZWNhbGN1bGF0ZUhpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbigpLGkub2xkVmVyc2lvbj1zLmZlYXR1cmUpKSxpLm5ld1ZlcnNpb249dGhpcy5mZWF0dXJlLGl9cmV0dXJuIG51bGx9Z2V0IGZlYXR1cmUoKXtyZXR1cm4gdGhpcy5faGlnaGVzdFJlc29sdXRpb25WZXJzaW9uP3RoaXMuX2hpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbi5mZWF0dXJlOm51bGx9X3JlY2FsY3VsYXRlSGlnaGVzdFJlc29sdXRpb25WZXJzaW9uKCl7aWYoMD09PXRoaXMudmVyc2lvbnMubGVuZ3RoKXJldHVybiB2b2lkKHRoaXMuX2hpZ2hlc3RSZXNvbHV0aW9uVmVyc2lvbj1udWxsKTtsZXQgZT10aGlzLnZlcnNpb25zWzBdO2ZvcihsZXQgdD0xO3Q8dGhpcy52ZXJzaW9ucy5sZW5ndGg7dCsrKXtjb25zdCBzPXRoaXMudmVyc2lvbnNbdF07cy5yZXNvbHV0aW9uPGUucmVzb2x1dGlvbiYmKGU9cyl9dGhpcy5faGlnaGVzdFJlc29sdXRpb25WZXJzaW9uPWV9fWNsYXNzIHN7Z2V0IGlzUmVmZXJlbmNlZCgpe3JldHVybiAwIT09dGhpcy5fcmVmQ291bnR9Z2V0IGlzU2luZ2xlKCl7cmV0dXJuIDE9PT10aGlzLl9yZWZDb3VudH1jb25zdHJ1Y3RvcihlKXt0aGlzLl9mZWF0dXJlPWUsdGhpcy5fcmVmQ291bnQ9MX1yZWYodCl7cmV0dXJuKyt0aGlzLl9yZWZDb3VudCxpLm9sZFZlcnNpb249dGhpcy5fZmVhdHVyZSx0aGlzLmZlYXR1cmUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwidWlkXCIse3ZhbHVlOnRoaXMuZmVhdHVyZS51aWQsY29uZmlndXJhYmxlOiEwfSksZSh0aGlzLl9mZWF0dXJlLHQpfHwodGhpcy5fZmVhdHVyZT10KSxpLm5ld1ZlcnNpb249dGhpcy5fZmVhdHVyZSxpfXVucmVmKCl7cmV0dXJuIGkub2xkVmVyc2lvbj10aGlzLl9mZWF0dXJlLHRoaXMuX3JlZkNvdW50PjAmJih0aGlzLl9yZWZDb3VudC0tLCF0aGlzLmlzUmVmZXJlbmNlZCk/KGkubmV3VmVyc2lvbj1udWxsLGkpOihpLm5ld1ZlcnNpb249dGhpcy5fZmVhdHVyZSxpKX1nZXQgZmVhdHVyZSgpe3JldHVybiB0aGlzLl9mZWF0dXJlfX1jb25zdCBpPXtvbGRWZXJzaW9uOm51bGwsbmV3VmVyc2lvbjpudWxsfTtleHBvcnR7dCBhcyBNdWx0aUZlYXR1cmVSZWZlcmVuY2UscyBhcyBTaW5nbGVGZWF0dXJlUmVmZXJlbmNlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7cHJvamVjdCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvd2ViTWVyY2F0b3JVdGlscy5qc1wiO2ltcG9ydHtwcm9qZWN0R2VvbWV0cnkgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9wb3J0YWwvc3VwcG9ydC9nZW9tZXRyeVNlcnZpY2VVdGlscy5qc1wiO2Z1bmN0aW9uIGwobCl7Y29uc3QgdD1sLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSxvPWwubGF5ZXIuZnVsbEV4dGVudCxzPW51bGwhPW8mJm8uc3BhdGlhbFJlZmVyZW5jZTtpZihudWxsPT1vfHwhcylyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO2lmKHMuZXF1YWxzKHQpKXJldHVybiBQcm9taXNlLnJlc29sdmUoby5jbG9uZSgpKTtjb25zdCBuPWUobyx0KTtyZXR1cm4gbnVsbCE9bj9Qcm9taXNlLnJlc29sdmUobik6bC52aWV3LnN0YXRlLmlzTG9jYWw/cihvLHQsbC5sYXllci5wb3J0YWxJdGVtKS50aGVuKChlPT4hbC5kZXN0cm95ZWQmJmU/ZTpudWxsKSkuY2F0Y2goKCgpPT5udWxsKSk6UHJvbWlzZS5yZXNvbHZlKG51bGwpfWV4cG9ydHtsIGFzIHRvVmlld0lmTG9jYWx9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtPYnNlcnZhYmxlQ2hhbmdlc1R5cGUgYXMgdH1mcm9tXCIuLi8uLi8uLi9jb3JlL09ic2VydmFibGVDaGFuZ2VzVHlwZS5qc1wiO2ltcG9ydHtzb21lU2V0IGFzIHN9ZnJvbVwiLi4vLi4vLi4vY29yZS9TZXRVdGlscy5qc1wiO2NsYXNzIHIgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9zZXQ9bmV3IFNldH1jbGVhcigpe2lmKHRoaXMuX3NldC5zaXplPjApe2NvbnN0IGU9dGhpcy50b0FycmF5KCk7dGhpcy5fc2V0LmNsZWFyKCksdGhpcy5lbWl0KFwiYWZ0ZXItY2hhbmdlc1wiLHt0eXBlOnQuUkVNT1ZFfSksdGhpcy5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOltdLHJlbW92ZWQ6ZX0pfX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX3NldC5zaXplfWFkZE1hbnkoZSl7aWYoMCE9PWUubGVuZ3RoKXtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX3NldC5hZGQodCk7dGhpcy5lbWl0KFwiYWZ0ZXItY2hhbmdlc1wiLHt0eXBlOnQuQUREfSksdGhpcy5lbWl0KFwiY2hhbmdlXCIse2FkZGVkOmUscmVtb3ZlZDpbXX0pfX1yZW1vdmUoZSl7dGhpcy5fc2V0LmRlbGV0ZShlKSYmKHRoaXMuZW1pdChcImFmdGVyLWNoYW5nZXNcIix7dHlwZTp0LlJFTU9WRX0pLHRoaXMuZW1pdChcImNoYW5nZVwiLHthZGRlZDpbXSxyZW1vdmVkOltlXX0pKX1yZW1vdmVNYW55KGUpe2NvbnN0IHM9W107Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl9zZXQuZGVsZXRlKHQpJiZzLnB1c2godCk7cy5sZW5ndGg+MCYmKHRoaXMuZW1pdChcImFmdGVyLWNoYW5nZXNcIix7dHlwZTp0LlJFTU9WRX0pLHRoaXMuZW1pdChcImNoYW5nZVwiLHthZGRlZDpbXSxyZW1vdmVkOnN9KSl9dG9BcnJheSgpe3JldHVyblsuLi50aGlzLl9zZXRdfWZpbmQoZSl7bGV0IHQ7cmV0dXJuIHModGhpcy5fc2V0LChzPT4hIWUocykmJih0PXMsITApKSksdH1mb3JFYWNoKGUpe3RoaXMuX3NldC5mb3JFYWNoKCh0PT5lKHQpKSl9fWV4cG9ydHtyIGFzIEV2ZW50ZWRTZXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtyZWxlYXNlTWF5YmUgYXMgZSxkaXNwb3NlTWF5YmUgYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Vmlld2luZ01vZGUgYXMgb31mcm9tXCIuLi8uLi8uLi9WaWV3aW5nTW9kZS5qc1wiO2ltcG9ydHtjcmVhdGVRdWFkVkFPIGFzIG59ZnJvbVwiLi9nbFV0aWwzRC5qc1wiO2ltcG9ydHtTb3J0ZWRSZW5kZXJHZW9tZXRyeVJlbmRlcmVyIGFzIGh9ZnJvbVwiLi9Tb3J0ZWRSZW5kZXJHZW9tZXRyeVJlbmRlcmVyLmpzXCI7aW1wb3J0e0hlYXRtYXBQYXNzUGFyYW1ldGVycyBhcyBwLEhlYXRtYXBUZWNobmlxdWVDb25maWd1cmF0aW9uIGFzIG0sSGVhdG1hcFRlY2huaXF1ZSBhcyBsfWZyb21cIi4uL3NoYWRlcnMvSGVhdG1hcFRlY2huaXF1ZS5qc1wiO2ltcG9ydHtUZXh0dXJlV3JhcE1vZGUgYXMgYyxQaXhlbFR5cGUgYXMgZCxDbGVhckJ1ZmZlckJpdCBhcyB1fWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e0ZyYW1lYnVmZmVyT2JqZWN0IGFzIHl9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvRnJhbWVidWZmZXJPYmplY3QuanNcIjtpbXBvcnR7VGV4dHVyZSBhcyBffWZyb21cIi4uLy4uLy4uL3dlYmdsL1RleHR1cmUuanNcIjtpbXBvcnR7VGV4dHVyZURlc2NyaXB0b3IgYXMgZn1mcm9tXCIuLi8uLi8uLi93ZWJnbC9UZXh0dXJlRGVzY3JpcHRvci5qc1wiO2ltcG9ydHt2ZXJ0ZXhDb3VudCBhcyBnfWZyb21cIi4uLy4uLy4uL3dlYmdsL1V0aWwuanNcIjtsZXQgeD1jbGFzcyBleHRlbmRzIGh7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5waXhlbFJhdGlvPTEsdGhpcy5fY29sb3JSYW1wRGF0YT1uZXcgVWludDhDbGFtcGVkQXJyYXkoNCksdGhpcy50eXBlPVwiZHJhcGVkLWhlYXRtYXBcIix0aGlzLl9oZWF0bWFwUGFyYW1ldGVycz1uZXcgcDtjb25zdCBlPW5ldyBmO2UucGl4ZWxGb3JtYXQ9dC5waXhlbEZvcm1hdCxlLmludGVybmFsRm9ybWF0PXQuaW50ZXJuYWxGb3JtYXQsZS5kYXRhVHlwZT10LmRhdGFUeXBlLGUuc2FtcGxpbmdNb2RlPXQuc2FtcGxpbmdNb2RlLGUud3JhcE1vZGU9Yy5DTEFNUF9UT19FREdFO2NvbnN0IHI9dC5yZW5kZXJlckNvbnRleHQucmN0eDt0aGlzLl9kZW5zaXR5TWFwPW5ldyB5KHIsZSksdGhpcy5fcXVhZD1uKHIpO2NvbnN0IGE9bmV3IG07YS51c2VzSGFsZkZsb2F0PXQuZGF0YVR5cGUhPT1kLkZMT0FULHRoaXMuX3RlY2huaXF1ZT1uZXcgbCh7cmN0eDpyLHZpZXdpbmdNb2RlOm8uTG9jYWx9LGEpfWluaXRpYWxpemUoKXtjb25zdCB0PXRoaXMuX2NvbG9yUmFtcERhdGEsZT1uZXcgZih0Lmxlbmd0aC80LDEpO2Uud3JhcE1vZGU9Yy5DTEFNUF9UT19FREdFLHRoaXMuX2NvbG9yUmFtcD1uZXcgXyh0aGlzLnJjdHgsZSx0KSx0aGlzLl9oZWF0bWFwUGFyYW1ldGVycy5kZW5zaXR5TWFwPXRoaXMuX2RlbnNpdHlNYXAuY29sb3JUZXh0dXJlLHRoaXMuYWRkSGFuZGxlcyhhKCgoKT0+W3RoaXMuY29sb3JSYW1wRGF0YSx0aGlzLm1pbkRlbnNpdHksdGhpcy5tYXhEZW5zaXR5LHRoaXMuZmllbGRUb3RhbCx0aGlzLnBpeGVsUmF0aW8sdGhpcy5zZWFyY2hSYWRpdXNdKSwoKCk9PnRoaXMucmVuZGVyZXJDb250ZXh0Lm5vdGlmeUNvbnRlbnRDaGFuZ2VkKCkpKSl9ZGVzdHJveSgpe3RoaXMuX3RlY2huaXF1ZT1lKHRoaXMuX3RlY2huaXF1ZSksdGhpcy5fZGVuc2l0eU1hcD1yKHRoaXMuX2RlbnNpdHlNYXApLHRoaXMuX3F1YWQ9cih0aGlzLl9xdWFkKSx0aGlzLl9jb2xvclJhbXA9cih0aGlzLl9jb2xvclJhbXApfWdldCBzZWFyY2hSYWRpdXMoKXtyZXR1cm4gdGhpcy5faGVhdG1hcFBhcmFtZXRlcnMuc2VhcmNoUmFkaXVzfXNldCBzZWFyY2hSYWRpdXModCl7dCE9PXRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLnNlYXJjaFJhZGl1cyYmKHRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLnNlYXJjaFJhZGl1cz10LHRoaXMubm90aWZ5Q2hhbmdlKFwic2VhcmNoUmFkaXVzXCIpKX1nZXQgbWluRGVuc2l0eSgpe3JldHVybiB0aGlzLl9oZWF0bWFwUGFyYW1ldGVycy5taW5EZW5zaXR5fXNldCBtaW5EZW5zaXR5KHQpe3QhPT10aGlzLl9oZWF0bWFwUGFyYW1ldGVycy5taW5EZW5zaXR5JiYodGhpcy5faGVhdG1hcFBhcmFtZXRlcnMubWluRGVuc2l0eT10LHRoaXMubm90aWZ5Q2hhbmdlKFwibWluRGVuc2l0eVwiKSl9Z2V0IG1heERlbnNpdHkoKXtyZXR1cm4gdGhpcy5faGVhdG1hcFBhcmFtZXRlcnMubWF4RGVuc2l0eX1zZXQgbWF4RGVuc2l0eSh0KXt0IT09dGhpcy5faGVhdG1hcFBhcmFtZXRlcnMubWF4RGVuc2l0eSYmKHRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLm1heERlbnNpdHk9dCx0aGlzLm5vdGlmeUNoYW5nZShcIm1heERlbnNpdHlcIikpfWdldCBmaWVsZFRvdGFsKCl7cmV0dXJuIHRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLmZpZWxkVG90YWx9c2V0IGZpZWxkVG90YWwodCl7dGhpcy5faGVhdG1hcFBhcmFtZXRlcnMuZmllbGRUb3RhbD10LHRoaXMubm90aWZ5Q2hhbmdlKFwiZmllbGRUb3RhbFwiKX1nZXQgY29sb3JSYW1wRGF0YSgpe3JldHVybiB0aGlzLl9jb2xvclJhbXBEYXRhfXNldCBjb2xvclJhbXBEYXRhKHQpe2NvbnN0e2NvbG9yUmFtcDplfT10aGlzLl9oZWF0bWFwUGFyYW1ldGVycztpZihudWxsIT1lJiZ0IT09dGhpcy5fY29sb3JSYW1wRGF0YSl7Y29uc3Qgcj1lLmRlc2NyaXB0b3Iud2lkdGgsYT10Lmxlbmd0aC80O2EhPT1yJiZlLnJlc2l6ZShhLDEpLGUuc2V0RGF0YSh0KX10aGlzLl9jb2xvclJhbXBEYXRhPXR9Z2V0IF9jb2xvclJhbXAoKXtyZXR1cm4gdGhpcy5faGVhdG1hcFBhcmFtZXRlcnMuY29sb3JSYW1wfXNldCBfY29sb3JSYW1wKHQpe3RoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLmNvbG9yUmFtcD10fWdldCBoYXNIaWdobGlnaHRzKCl7cmV0dXJuITF9Z2V0IGhhc1dhdGVyKCl7cmV0dXJuITF9Z2V0IHJlbmRlcnNPY2NsdWRlZCgpe3JldHVybiExfXJlbmRlcih0KXtjb25zdCBlPXRoaXMuX3NvcnRlZE1hdGVyaWFsUmVuZGVyZXJzO2lmKDA9PT1lLmxlbmd0aClyZXR1cm47Y29uc3Qgcj10aGlzLnJjdHguZ2V0Qm91bmRGcmFtZWJ1ZmZlck9iamVjdCgpLGE9dGhpcy5yY3R4LmdldFZpZXdwb3J0KCkse3BpeGVsUmF0aW86aX09dGhpcyxzPU1hdGguY2VpbChhLndpZHRoKmkpLG89TWF0aC5jZWlsKGEuaGVpZ2h0KmkpO3RoaXMuX2RlbnNpdHlNYXAucmVzaXplKHMsbyksdGhpcy5yY3R4LmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9kZW5zaXR5TWFwKSx0aGlzLnJjdHguc2V0Vmlld3BvcnQoMCwwLHMsbyksdGhpcy5yY3R4LmNsZWFyKHUuQ09MT1JfQlVGRkVSX0JJVCk7bGV0IG49ITE7ZS5mb3JBbGwoKGU9Pntjb25zdCByPWUucHJlcGFyZVRlY2huaXF1ZSh0KTtudWxsIT1yJiYoZS5yZW5kZXJOb2RlKHQsciksbj0hMCl9KSksdGhpcy5yY3R4LmJpbmRGcmFtZWJ1ZmZlcihyKSx0aGlzLnJjdHguc2V0Vmlld3BvcnQoYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0KSxuJiYodGhpcy5yY3R4LmJpbmRWQU8odGhpcy5fcXVhZCksdGhpcy5yY3R4LmJpbmRUZWNobmlxdWUodGhpcy5fdGVjaG5pcXVlLHRoaXMuX2hlYXRtYXBQYXJhbWV0ZXJzLHQuYmluZFBhcmFtZXRlcnMpLHRoaXMucmN0eC5kcmF3QXJyYXlzKHRoaXMuX3RlY2huaXF1ZS5wcmltaXRpdmVUeXBlLDAsZyh0aGlzLl9xdWFkLFwiZ2VvbWV0cnlcIikpKX19O3QoW2koKV0seC5wcm90b3R5cGUsXCJzZWFyY2hSYWRpdXNcIixudWxsKSx0KFtpKCldLHgucHJvdG90eXBlLFwibWluRGVuc2l0eVwiLG51bGwpLHQoW2koKV0seC5wcm90b3R5cGUsXCJtYXhEZW5zaXR5XCIsbnVsbCksdChbaSgpXSx4LnByb3RvdHlwZSxcImZpZWxkVG90YWxcIixudWxsKSx0KFtpKCldLHgucHJvdG90eXBlLFwicGl4ZWxSYXRpb1wiLHZvaWQgMCksdChbaSgpXSx4LnByb3RvdHlwZSxcImNvbG9yUmFtcERhdGFcIixudWxsKSx0KFtpKHtjb25zdHJ1Y3RPbmx5OiEwfSldLHgucHJvdG90eXBlLFwiZGF0YVR5cGVcIix2b2lkIDApLHQoW2koe2NvbnN0cnVjdE9ubHk6ITB9KV0seC5wcm90b3R5cGUsXCJzYW1wbGluZ01vZGVcIix2b2lkIDApLHQoW2koe2NvbnN0cnVjdE9ubHk6ITB9KV0seC5wcm90b3R5cGUsXCJwaXhlbEZvcm1hdFwiLHZvaWQgMCksdChbaSh7Y29uc3RydWN0T25seTohMH0pXSx4LnByb3RvdHlwZSxcImludGVybmFsRm9ybWF0XCIsdm9pZCAwKSx0KFtpKCldLHgucHJvdG90eXBlLFwiX2NvbG9yUmFtcERhdGFcIix2b2lkIDApLHg9dChbcyhcImVzcmkudmlld3MuM2Qud2ViZ2wtZW5naW5lLmxpYi5EcmFwZWRIZWF0bWFwUmVuZGVyZXJcIildLHgpO2V4cG9ydHt4IGFzIERyYXBlZEhlYXRtYXBSZW5kZXJlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3MgYXMgdCxrIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3ZlYzIuanNcIjtpbXBvcnR7YSBhcyByfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy92ZWMyZjY0LmpzXCI7aW1wb3J0e25ld0xheW91dCBhcyBzfWZyb21cIi4uLy4uL3N1cHBvcnQvYnVmZmVyL0ludGVybGVhdmVkTGF5b3V0LmpzXCI7aW1wb3J0e1NoYWRlck91dHB1dCBhcyBpfWZyb21cIi4uL2NvcmUvc2hhZGVyTGlicmFyeS9TaGFkZXJPdXRwdXQuanNcIjtpbXBvcnQgYSBmcm9tXCIuLi9saWIvR0xNYXRlcmlhbC5qc1wiO2ltcG9ydHtNYXRlcmlhbCBhcyBvfWZyb21cIi4uL2xpYi9NYXRlcmlhbC5qc1wiO2ltcG9ydHtSZW5kZXJTbG90IGFzIG59ZnJvbVwiLi4vbGliL1JlbmRlclNsb3QuanNcIjtpbXBvcnR7VmVydGV4QXR0cmlidXRlIGFzIHV9ZnJvbVwiLi4vbGliL1ZlcnRleEF0dHJpYnV0ZS5qc1wiO2ltcG9ydHt3cml0ZVBvc2l0aW9uIGFzIGwsd3JpdGVCdWZmZXJGbG9hdCBhcyBjfWZyb21cIi4vaW50ZXJuYWwvYnVmZmVyV3JpdGVyVXRpbHMuanNcIjtpbXBvcnR7SGVhdG1hcERlbnNpdHlQYXNzUGFyYW1ldGVycyBhcyBmLEhlYXRtYXBEZW5zaXR5VGVjaG5pcXVlQ29uZmlndXJhdGlvbiBhcyBtLEhlYXRtYXBEZW5zaXR5VGVjaG5pcXVlIGFzIHB9ZnJvbVwiLi4vc2hhZGVycy9IZWF0bWFwRGVuc2l0eVRlY2huaXF1ZS5qc1wiO2NvbnN0IGg9MjtjbGFzcyBUIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5pc0F0dHJpYnV0ZURyaXZlbj0hMSx0aGlzLnVzZXNIYWxmRmxvYXRzPSExfX1jbGFzcyBiIGV4dGVuZHMgb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LG5ldyBUKSx0aGlzLl9jb25maWd1cmF0aW9uPW5ldyBtfXByb2R1Y2VzKHQsZSl7cmV0dXJuIHQ9PT1uLkRSQVBFRF9NQVRFUklBTCYmZT09PWkuQ29sb3J9Z2V0Q29uZmlndXJhdGlvbigpe3JldHVybiB0aGlzLl9jb25maWd1cmF0aW9uLmlzQXR0cmlidXRlRHJpdmVuPXRoaXMucGFyYW1ldGVycy5pc0F0dHJpYnV0ZURyaXZlbix0aGlzLl9jb25maWd1cmF0aW9uLnVzZXNIYWxmRmxvYXQ9dGhpcy5wYXJhbWV0ZXJzLnVzZXNIYWxmRmxvYXRzLHRoaXMuX2NvbmZpZ3VyYXRpb259Y3JlYXRlR0xNYXRlcmlhbCh0KXtyZXR1cm4gbmV3IGQodCl9aW50ZXJzZWN0KCl7fWludGVyc2VjdERyYXBlZChyLHMsaSxhLG8sbil7Y29uc3QgbD1yLmF0dHJpYnV0ZXMuZ2V0KHUuUE9TSVRJT04pLHtwYXJhbWV0ZXJzOmN9PXRoaXMse3NlYXJjaFJhZGl1czpmfT1jLHtzY3JlZW5Ub1dvcmxkUmF0aW86bX09cixwPWYqbStoKm0sVD1wKnAsYj1sLmRhdGEubGVuZ3RoL2wuc2l6ZTtmb3IobGV0IHU9MDt1PGI7dSsrKXtjb25zdCByPXUqbC5zaXplLHM9dChFLGwuZGF0YVtyXSxsLmRhdGFbcisxXSk7ZShzLGEpPFQmJm8obi5kaXN0LG4ubm9ybWFsLC0xLCExKX19Y3JlYXRlQnVmZmVyV3JpdGVyKCl7cmV0dXJuIG5ldyBnKHRoaXMucGFyYW1ldGVycy5pc0F0dHJpYnV0ZURyaXZlbj9JOkEpfX1jbGFzcyBkIGV4dGVuZHMgYXtiZWdpblNsb3QodCl7cmV0dXJuIHRoaXMuZW5zdXJlVGVjaG5pcXVlKHAsdCl9fWNsYXNzIGd7Y29uc3RydWN0b3IodCl7dGhpcy52ZXJ0ZXhCdWZmZXJMYXlvdXQ9dH1lbGVtZW50Q291bnQodCl7cmV0dXJuIHQuYXR0cmlidXRlcy5nZXQodS5QT1NJVElPTikuaW5kaWNlcy5sZW5ndGgqdn13cml0ZSh0LGUscixzLGkpe2woci5hdHRyaWJ1dGVzLmdldCh1LlBPU0lUSU9OKSx0LHMucG9zaXRpb24saSx2KTtjb25zdCBhPXIuYXR0cmlidXRlcy5nZXQodS5QT1NJVElPTikuaW5kaWNlcy5sZW5ndGgsbz1zLnV2MDtsZXQgbj1pO2ZvcihsZXQgdT0wO3U8YTsrK3Upby5zZXRWYWx1ZXMobisrLC0xLC0xKSxvLnNldFZhbHVlcyhuKyssMSwtMSksby5zZXRWYWx1ZXMobisrLDEsMSksby5zZXRWYWx1ZXMobisrLDEsMSksby5zZXRWYWx1ZXMobisrLC0xLDEpLG8uc2V0VmFsdWVzKG4rKywtMSwtMSk7Y29uc3QgZj11LkZFQVRVUkVBVFRSSUJVVEUgaW4gcz9zLmZlYXR1cmVBdHRyaWJ1dGU6bnVsbDtmJiZjKHIuYXR0cmlidXRlcy5nZXQodS5GRUFUVVJFQVRUUklCVVRFKSxmLGksdil9fWNvbnN0IEE9cygpLnZlYzNmKHUuUE9TSVRJT04pLnZlYzJmKHUuVVYwKSxJPUEuY2xvbmUoKS5mMzIodS5GRUFUVVJFQVRUUklCVVRFKSx2PTYsRT1yKCk7ZXhwb3J0e2IgYXMgSGVhdG1hcERlbnNpdHlNYXRlcmlhbCxUIGFzIEhlYXRtYXBEZW5zaXR5TWF0ZXJpYWxQYXJhbWV0ZXJzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7UmVsb2FkYWJsZVNoYWRlck1vZHVsZSBhcyByfWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1JlbG9hZGFibGVTaGFkZXJNb2R1bGUuanNcIjtpbXBvcnR7U2hhZGVyVGVjaG5pcXVlIGFzIHR9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvU2hhZGVyVGVjaG5pcXVlLmpzXCI7aW1wb3J0e3BhcmFtZXRlciBhcyBpfWZyb21cIi4uL2NvcmUvc2hhZGVyVGVjaG5pcXVlL1NoYWRlclRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7RGVmYXVsdDNEIGFzIHN9ZnJvbVwiLi4vbGliL0RlZmF1bHRWZXJ0ZXhBdHRyaWJ1dGVMb2NhdGlvbnMuanNcIjtpbXBvcnR7TWF0ZXJpYWxQYXJhbWV0ZXJzIGFzIG99ZnJvbVwiLi4vbGliL01hdGVyaWFsLmpzXCI7aW1wb3J0e1Byb2dyYW0gYXMgYX1mcm9tXCIuLi9saWIvUHJvZ3JhbS5qc1wiO2ltcG9ydHtEZWZhdWx0VGVjaG5pcXVlQ29uZmlndXJhdGlvbiBhcyBufWZyb21cIi4uL21hdGVyaWFscy9EZWZhdWx0VGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtIIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL0hlYXRtYXBEZW5zaXR5Lmdsc2wuanNcIjtpbXBvcnR7QmxlbmRPcGVyYXRpb24gYXMgdSxCbGVuZEZhY3RvciBhcyBtfWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e21ha2VQaXBlbGluZVN0YXRlIGFzIHAsc2ltcGxlQmxlbmRpbmdQYXJhbXMgYXMgYyxkZWZhdWx0Q29sb3JXcml0ZVBhcmFtcyBhcyBofWZyb21cIi4uLy4uLy4uL3dlYmdsL3JlbmRlclN0YXRlLmpzXCI7Y2xhc3MgZCBleHRlbmRzIG97Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc2VhcmNoUmFkaXVzPTEyOCx0aGlzLnJlc29sdXRpb25Gb3JTY2FsZT0wfX1jbGFzcyBmIGV4dGVuZHMgdHtpbml0aWFsaXplUHJvZ3JhbShlKXtyZXR1cm4gbmV3IGEoZS5yY3R4LGYuc2hhZGVyLmdldCgpLmJ1aWxkKHRoaXMuY29uZmlndXJhdGlvbikscyl9aW5pdGlhbGl6ZVBpcGVsaW5lKCl7cmV0dXJuIHAoe2JsZW5kaW5nOmMobS5PTkUsbS5PTkUsdS5BREQpLGNvbG9yV3JpdGU6aCxkZXB0aFRlc3Q6bnVsbCxkZXB0aFdyaXRlOm51bGx9KX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpfX1mLnNoYWRlcj1uZXcgcihsLCgoKT0+aW1wb3J0KFwiLi9IZWF0bWFwRGVuc2l0eS5nbHNsLmpzXCIpKSk7Y2xhc3MgYiBleHRlbmRzIG57Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuaXNBdHRyaWJ1dGVEcml2ZW49ITEsdGhpcy51c2VzSGFsZkZsb2F0PSExfX1lKFtpKCldLGIucHJvdG90eXBlLFwiaXNBdHRyaWJ1dGVEcml2ZW5cIix2b2lkIDApLGUoW2koKV0sYi5wcm90b3R5cGUsXCJ1c2VzSGFsZkZsb2F0XCIsdm9pZCAwKTtleHBvcnR7ZCBhcyBIZWF0bWFwRGVuc2l0eVBhc3NQYXJhbWV0ZXJzLGYgYXMgSGVhdG1hcERlbnNpdHlUZWNobmlxdWUsYiBhcyBIZWF0bWFwRGVuc2l0eVRlY2huaXF1ZUNvbmZpZ3VyYXRpb259O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydHtOb1BhcmFtZXRlcnMgYXMgcn1mcm9tXCIuLi9jb3JlL3NoYWRlck1vZHVsZXMvaW50ZXJmYWNlcy5qc1wiO2ltcG9ydHtSZWxvYWRhYmxlU2hhZGVyTW9kdWxlIGFzIHR9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvUmVsb2FkYWJsZVNoYWRlck1vZHVsZS5qc1wiO2ltcG9ydHtTaGFkZXJUZWNobmlxdWUgYXMgc31mcm9tXCIuLi9jb3JlL3NoYWRlclRlY2huaXF1ZS9TaGFkZXJUZWNobmlxdWUuanNcIjtpbXBvcnR7cGFyYW1ldGVyIGFzIGl9ZnJvbVwiLi4vY29yZS9zaGFkZXJUZWNobmlxdWUvU2hhZGVyVGVjaG5pcXVlQ29uZmlndXJhdGlvbi5qc1wiO2ltcG9ydHtEZWZhdWx0M0QgYXMgb31mcm9tXCIuLi9saWIvRGVmYXVsdFZlcnRleEF0dHJpYnV0ZUxvY2F0aW9ucy5qc1wiO2ltcG9ydHtibGVuZGluZ0RlZmF1bHQgYXMgbn1mcm9tXCIuLi9saWIvT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeS5qc1wiO2ltcG9ydHtQcm9ncmFtIGFzIGF9ZnJvbVwiLi4vbGliL1Byb2dyYW0uanNcIjtpbXBvcnR7RGVmYXVsdFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24gYXMgbH1mcm9tXCIuLi9tYXRlcmlhbHMvRGVmYXVsdFRlY2huaXF1ZUNvbmZpZ3VyYXRpb24uanNcIjtpbXBvcnR7SCBhcyBtfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9IZWF0bWFwLmdsc2wuanNcIjtpbXBvcnR7UHJpbWl0aXZlVHlwZSBhcyB1fWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e21ha2VQaXBlbGluZVN0YXRlIGFzIHAsZGVmYXVsdENvbG9yV3JpdGVQYXJhbXMgYXMgY31mcm9tXCIuLi8uLi8uLi93ZWJnbC9yZW5kZXJTdGF0ZS5qc1wiO2NsYXNzIGggZXh0ZW5kcyBye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmNvbG9yUmFtcD1udWxsLHRoaXMuZGVuc2l0eU1hcD1udWxsLHRoaXMuc2VhcmNoUmFkaXVzPTEsdGhpcy5maWVsZFRvdGFsPTAsdGhpcy5taW5EZW5zaXR5PTAsdGhpcy5tYXhEZW5zaXR5PTEwMH19Y2xhc3MgZCBleHRlbmRzIHN7Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlLHIsKCgpPT50aGlzLmRlc3Ryb3koKSkpfWluaXRpYWxpemVQcm9ncmFtKGUpe3JldHVybiBuZXcgYShlLnJjdHgsZC5zaGFkZXIuZ2V0KCkuYnVpbGQodGhpcy5jb25maWd1cmF0aW9uKSxvKX1pbml0aWFsaXplUGlwZWxpbmUoKXtyZXR1cm4gcCh7YmxlbmRpbmc6bixjb2xvcldyaXRlOmMsZGVwdGhUZXN0Om51bGwsZGVwdGhXcml0ZTpudWxsfSl9Z2V0IHByaW1pdGl2ZVR5cGUoKXtyZXR1cm4gdS5UUklBTkdMRV9TVFJJUH19ZC5zaGFkZXI9bmV3IHQobSwoKCk9PmltcG9ydChcIi4vSGVhdG1hcC5nbHNsLmpzXCIpKSk7Y2xhc3MgZiBleHRlbmRzIGx7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudXNlc0hhbGZGbG9hdD0hMX19ZShbaSgpXSxmLnByb3RvdHlwZSxcInVzZXNIYWxmRmxvYXRcIix2b2lkIDApO2V4cG9ydHtoIGFzIEhlYXRtYXBQYXNzUGFyYW1ldGVycyxkIGFzIEhlYXRtYXBUZWNobmlxdWUsZiBhcyBIZWF0bWFwVGVjaG5pcXVlQ29uZmlndXJhdGlvbn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtJZGVudGlmaWFibGVNaXhpbiBhcyBzfWZyb21cIi4uLy4uL2NvcmUvSWRlbnRpZmlhYmxlLmpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIG99ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtFc3JpUHJvbWlzZU1peGluIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9Qcm9taXNlLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIGF9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBsfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7VXBkYXRpbmdIYW5kbGVzIGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9zdXBwb3J0L1VwZGF0aW5nSGFuZGxlcy5qc1wiO2xldCBkPWNsYXNzIGV4dGVuZHMocyhuKHIuRXZlbnRlZE1peGluKHQpKSkpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3VwZGF0aW5nSGFuZGxlcz1uZXcgcCx0aGlzLmxheWVyPW51bGwsdGhpcy5wYXJlbnQ9bnVsbH1pbml0aWFsaXplKCl7dGhpcy53aGVuKCkuY2F0Y2goKGU9PntpZihcImxheWVydmlldzpjcmVhdGUtZXJyb3JcIiE9PWUubmFtZSl7Y29uc3QgdD10aGlzLmxheWVyJiZ0aGlzLmxheWVyLmlkfHxcIm5vIGlkXCIscj10aGlzLmxheWVyPy50aXRsZXx8XCJubyB0aXRsZVwiO2kuZ2V0TG9nZ2VyKHRoaXMpLmVycm9yKFwiI3Jlc29sdmUoKVwiLGBGYWlsZWQgdG8gcmVzb2x2ZSBsYXllciB2aWV3IChsYXllciB0aXRsZTogJyR7cn0nLCBpZDogJyR7dH0nKWAsZSl9fSkpfWRlc3Ryb3koKXt0aGlzLl91cGRhdGluZ0hhbmRsZXM9byh0aGlzLl91cGRhdGluZ0hhbmRsZXMpfWdldCBmdWxsT3BhY2l0eSgpe3JldHVybih0aGlzLmxheWVyPy5vcGFjaXR5Pz8xKSoodGhpcy5wYXJlbnQ/LmZ1bGxPcGFjaXR5Pz8xKX1nZXQgc3VzcGVuZGVkKCl7cmV0dXJuIXRoaXMuY2FuUmVzdW1lKCl9Z2V0IHN1c3BlbmRJbmZvKCl7cmV0dXJuIHRoaXMuZ2V0U3VzcGVuZEluZm8oKX1nZXQgbGVnZW5kRW5hYmxlZCgpe3JldHVybiF0aGlzLnN1c3BlbmRlZCYmITA9PT10aGlzLmxheWVyPy5sZWdlbmRFbmFibGVkfWdldCB1cGRhdGluZygpe3JldHVybiEoIXRoaXMuX3VwZGF0aW5nSGFuZGxlcz8udXBkYXRpbmcmJiF0aGlzLmlzVXBkYXRpbmcoKSl9Z2V0IHVwZGF0aW5nUHJvZ3Jlc3MoKXtyZXR1cm4gdGhpcy51cGRhdGluZz8wOjF9Z2V0IHZpc2libGUoKXtyZXR1cm4hMD09PXRoaXMubGF5ZXI/LnZpc2libGV9c2V0IHZpc2libGUoZSl7dGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJ2aXNpYmxlXCIsZSl9Y2FuUmVzdW1lKCl7cmV0dXJuIHRoaXMudmlzaWJsZSYmdGhpcy5sYXllcj8ubG9hZGVkJiYhdGhpcy5wYXJlbnQ/LnN1c3BlbmRlZCYmdGhpcy52aWV3Py5yZWFkeXx8ITF9Z2V0U3VzcGVuZEluZm8oKXtjb25zdCBlPXRoaXMucGFyZW50Py5zdXNwZW5kZWQ/dGhpcy5wYXJlbnQuc3VzcGVuZEluZm86e30sdD10aGlzO3JldHVybiB0LnZpZXc/LnJlYWR5fHwoZS52aWV3Tm90UmVhZHk9ITApLHRoaXMubGF5ZXImJnRoaXMubGF5ZXIubG9hZGVkfHwoZS5sYXllck5vdExvYWRlZD0hMCksdGhpcy52aXNpYmxlfHwoZS5sYXllckludmlzaWJsZT0hMCksZX1pc1VwZGF0aW5nKCl7cmV0dXJuITF9fTtlKFthKCldLGQucHJvdG90eXBlLFwiZnVsbE9wYWNpdHlcIixudWxsKSxlKFthKCldLGQucHJvdG90eXBlLFwibGF5ZXJcIix2b2lkIDApLGUoW2EoKV0sZC5wcm90b3R5cGUsXCJwYXJlbnRcIix2b2lkIDApLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwic3VzcGVuZGVkXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJzdXNwZW5kSW5mb1wiLG51bGwpLGUoW2Eoe3JlYWRPbmx5OiEwfSldLGQucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLG51bGwpLGUoW2Eoe3R5cGU6Qm9vbGVhbixyZWFkT25seTohMH0pXSxkLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksZShbYSh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJ1cGRhdGluZ1Byb2dyZXNzXCIsbnVsbCksZShbYSgpXSxkLnByb3RvdHlwZSxcInZpc2libGVcIixudWxsKSxlKFthKCldLGQucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZD1lKFtsKFwiZXNyaS52aWV3cy5sYXllcnMuTGF5ZXJWaWV3XCIpXSxkKTtjb25zdCB1PWQ7ZXhwb3J0e3UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vY29yZS9FcnJvci5qc1wiO2ltcG9ydHtQaXhlbFR5cGUgYXMgdCxUZXh0dXJlU2FtcGxpbmdNb2RlIGFzIHIsUGl4ZWxGb3JtYXQgYXMgYSxTaXplZFBpeGVsRm9ybWF0IGFzIG99ZnJvbVwiLi9lbnVtcy5qc1wiO2NsYXNzIGx7Y29uc3RydWN0b3IoZSx0LHIsYSl7dGhpcy5kYXRhVHlwZT1lLHRoaXMuc2FtcGxpbmdNb2RlPXQsdGhpcy5waXhlbEZvcm1hdD1yLHRoaXMuaW50ZXJuYWxGb3JtYXQ9YX19ZnVuY3Rpb24gbihuLGkpe2NvbnN0e3RleHR1cmVGbG9hdDpmLGNvbG9yQnVmZmVyRmxvYXQ6c309bi5jYXBhYmlsaXRpZXMsdT1mPy50ZXh0dXJlRmxvYXQsXz1mPy50ZXh0dXJlRmxvYXRMaW5lYXIsbT1mPy50ZXh0dXJlSGFsZkZsb2F0LGg9Zj8udGV4dHVyZUhhbGZGbG9hdExpbmVhcixwPXM/LnRleHR1cmVGbG9hdCxkPXM/LnRleHR1cmVIYWxmRmxvYXQsYz1zPy5mbG9hdEJsZW5kLHg9bi5kcml2ZXJUZXN0LmZsb2F0QnVmZmVyQmxlbmQucmVzdWx0O2lmKCF1JiYhbSl0aHJvdyBuZXcgZShcImhlYXRtYXA6bWlzc2luZy10ZXh0dXJlLWZsb2F0XCIsXCJIZWF0bWFwUmVuZGVyZXIgcmVxdWlyZXMgV2ViR0wyIG9yIHRoZSBXZWJHTDEgZXh0ZW5zaW9uIE9FU190ZXh0dXJlX2Zsb2F0IG9yIE9FU190ZXh0dXJlX2hhbGZfZmxvYXQuXCIpO2lmKCFwJiYhZCl0aHJvdyBuZXcgZShcImhlYXRtYXA6bWlzc2luZy1jb2xvci1idWZmZXItZmxvYXRcIixcIkhlYXRtYXBSZW5kZXJlciByZXF1aXJlcyB0aGUgV2ViR0wgZXh0ZW5zaW9uIEVYVF9jb2xvcl9idWZmZXJfZmxvYXQgb3IgRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0IG9yIFdFQkdMX2NvbG9yX2J1ZmZlcl9mbG9hdC5cIik7aWYoIShjJiZ4fHxkKSl0aHJvdyBuZXcgZShcImhlYXRtYXA6bWlzc2luZy1mbG9hdC1ibGVuZFwiLFwiSGVhdG1hcFJlbmRlcmVyIHJlcXVpcmVzIHRoZSBXZWJHTCBleHRlbnNpb24gRVhUX2Zsb2F0X2JsZW5kIG9yIEVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdC5cIisoeD9cIlwiOlwiIFRoaXMgZGV2aWNlIGNsYWltcyBzdXBwb3J0IGZvciBFWFRfZmxvYXRfYmxlbmQsIGJ1dCBkb2VzIG5vdCBhY3R1YWxseSBzdXBwb3J0IGl0LlwiKSk7Y29uc3QgYj11JiZwJiZjJiZ4LEU9bSYmZCxSPV8sRj1oLEw9ISFzPy5SMzJGLHc9ISFzPy5SMTZGO2lmKGImJihSfHwhRikpcmV0dXJuIFJ8fGkud2Fybk9uY2UoXCJNaXNzaW5nIFdlYkdMIGV4dGVuc2lvbiBPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIuIEhlYXRtYXAgcXVhbGl0eSBtYXkgYmUgcmVkdWNlZC5cIiksbmV3IGwodC5GTE9BVCxSP3IuTElORUFSOnIuTkVBUkVTVCxMP2EuUkVEOmEuUkdCQSxMP28uUjMyRjphLlJHQkEpO2lmKEUpcmV0dXJuIEZ8fGkud2Fybk9uY2UoXCJNaXNzaW5nIFdlYkdMIGV4dGVuc2lvbiBPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhci4gSGVhdG1hcCBxdWFsaXR5IG1heSBiZSByZWR1Y2VkLlwiKSxuZXcgbCh0LkhBTEZfRkxPQVQsRj9yLkxJTkVBUjpyLk5FQVJFU1Qsdz9hLlJFRDphLlJHQkEsdz9vLlIxNkY6YS5SR0JBKTt0aHJvdyBuZXcgZShcImhlYXRtYXA6bWlzc2luZy1oYXJkd2FyZS1zdXBwb3J0XCIsXCJIZWF0bWFwUmVuZGVyZXIgcmVxdWlyZXMgV2ViR0wgZXh0ZW5zaW9ucyB0aGF0IGFsbG93IGl0IHRvIHJlbmRlciBhbmQgYmxlbmQgdG8gZmxvYXQgb3IgaGFsZiBmbG9hdCB0ZXh0dXJlcy5cIil9ZXhwb3J0e2wgYXMgSGVhdG1hcFRleHR1cmVDb25maWd1cmF0aW9uLG4gYXMgbG9hZEhlYXRtYXBUZXh0dXJlQ29uZmlndXJhdGlvbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=