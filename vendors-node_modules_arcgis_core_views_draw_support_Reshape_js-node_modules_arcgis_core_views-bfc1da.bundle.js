"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_views_draw_support_Reshape_js-node_modules_arcgis_core_views-bfc1da"],{

/***/ "./node_modules/@arcgis/core/chunks/earcut.js":
/*!****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/earcut.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   e: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _commonjsHelpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_commonjsHelpers.js */ "./node_modules/@arcgis/core/chunks/_commonjsHelpers.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var n,t,r,x={exports:{}};x.exports,n=x,t=function(){function e(e,t,x){x=x||2;var i,u,v,o,y,p,a,l=t&&t.length,h=l?t[0]*x:e.length,s=n(e,0,h,x,!0),c=[];if(!s||s.next===s.prev)return c;if(l&&(s=f(e,t,s,x)),e.length>80*x){i=v=e[0],u=o=e[1];for(var Z=x;Z<h;Z+=x)(y=e[Z])<i&&(i=y),(p=e[Z+1])<u&&(u=p),y>v&&(v=y),p>o&&(o=p);a=0!==(a=Math.max(v-i,o-u))?1/a:0}return r(s,c,x,i,u,a),c}function n(e,n,t,r,x){var i,u;if(x===C(e,n,t,r)>0)for(i=n;i<t;i+=r)u=q(i,e[i],e[i+1],u);else for(i=t-r;i>=n;i-=r)u=q(i,e[i],e[i+1],u);if(u&&m(u,u.next)){var v=u.next;A(u),u=v}return u}function t(e,n){if(!e)return e;n||(n=e);var t,r=e;do{if(t=!1,r.steiner||!m(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{var x=r.prev;if(A(r),(r=n=x)===r.next)break;t=!0}}while(t||r!==n);return n}function r(e,n,f,o,y,p,a){if(e){!a&&p&&h(e,o,y,p);for(var l,s,c=e;e.prev!==e.next;)if(l=e.prev,s=e.next,p?i(e,o,y,p):x(e))n.push(l.i/f),n.push(e.i/f),n.push(s.i/f),A(e),e=s.next,c=s.next;else if((e=s)===c){a?1===a?r(e=u(t(e),n,f),n,f,o,y,p,2):2===a&&v(e,n,f,o,y,p):r(t(e),n,f,o,y,p,1);break}}}function x(e){var n=e.prev,t=e,r=e.next;if(w(n,t,r)>=0)return!1;for(var x=e.next.next;x!==e.prev;){if(g(n.x,n.y,t.x,t.y,r.x,r.y,x.x,x.y)&&w(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function i(e,n,t,r){var x=e.prev,i=e,u=e.next;if(w(x,i,u)>=0)return!1;for(var v=x.x<i.x?x.x<u.x?x.x:u.x:i.x<u.x?i.x:u.x,f=x.y<i.y?x.y<u.y?x.y:u.y:i.y<u.y?i.y:u.y,o=x.x>i.x?x.x>u.x?x.x:u.x:i.x>u.x?i.x:u.x,y=x.y>i.y?x.y>u.y?x.y:u.y:i.y>u.y?i.y:u.y,p=c(v,f,n,t,r),a=c(o,y,n,t,r),l=e.prevZ,h=e.nextZ;l&&l.z>=p&&h&&h.z<=a;){if(l!==e.prev&&l!==e.next&&g(x.x,x.y,i.x,i.y,u.x,u.y,l.x,l.y)&&w(l.prev,l,l.next)>=0)return!1;if(l=l.prevZ,h!==e.prev&&h!==e.next&&g(x.x,x.y,i.x,i.y,u.x,u.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;l&&l.z>=p;){if(l!==e.prev&&l!==e.next&&g(x.x,x.y,i.x,i.y,u.x,u.y,l.x,l.y)&&w(l.prev,l,l.next)>=0)return!1;l=l.prevZ}for(;h&&h.z<=a;){if(h!==e.prev&&h!==e.next&&g(x.x,x.y,i.x,i.y,u.x,u.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function u(e,n,r){var x=e;do{var i=x.prev,u=x.next.next;!m(i,u)&&M(i,x,x.next,u)&&j(i,u)&&j(u,i)&&(n.push(i.i/r),n.push(x.i/r),n.push(u.i/r),A(x),A(x.next),x=e=u),x=x.next}while(x!==e);return t(x)}function v(e,n,x,i,u,v){var f=e;do{for(var o=f.next.next;o!==f.prev;){if(f.i!==o.i&&d(f,o)){var y=_(f,o);return f=t(f,f.next),y=t(y,y.next),r(f,n,x,i,u,v),void r(y,n,x,i,u,v)}o=o.next}f=f.next}while(f!==e)}function f(e,r,x,i){var u,v,f,y=[];for(u=0,v=r.length;u<v;u++)(f=n(e,r[u]*i,u<v-1?r[u+1]*i:e.length,i,!1))===f.next&&(f.steiner=!0),y.push(Z(f));for(y.sort(o),u=0;u<y.length;u++)x=t(x=p(y[u],x),x.next);return x}function o(e,n){return e.x-n.x}function y(e){if(e.next.prev===e)return e;let n=e;for(;;){const t=n.next;if(t.prev===n||t===n||t===e)break;n=t}return n}function p(e,n){var r=a(e,n);if(!r)return n;var x=_(r,e),i=t(r,r.next);let u=y(x);return t(u,u.next),i=y(i),y(n===r?i:n)}function a(e,n){var t,r=n,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var v=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(v<=x&&v>u){if(u=v,v===x){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!t)return null;if(x===u)return t;var f,o=t,y=t.x,p=t.y,a=1/0;r=t;do{x>=r.x&&r.x>=y&&x!==r.x&&g(i<p?x:u,i,y,p,i<p?u:x,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(x-r.x),j(r,e)&&(f<a||f===a&&(r.x>t.x||r.x===t.x&&l(t,r)))&&(t=r,a=f)),r=r.next}while(r!==o);return t}function l(e,n){return w(e.prev,e,n.prev)<0&&w(n.next,e,e.next)<0}function h(e,n,t,r){var x=e;do{null===x.z&&(x.z=c(x.x,x.y,n,t,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,s(x)}function s(e){var n,t,r,x,i,u,v,f,o=1;do{for(t=e,e=null,i=null,u=0;t;){for(u++,r=t,v=0,n=0;n<o&&(v++,r=r.nextZ);n++);for(f=o;v>0||f>0&&r;)0!==v&&(0===f||!r||t.z<=r.z)?(x=t,t=t.nextZ,v--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;t=r}i.nextZ=null,o*=2}while(u>1);return e}function c(e,n,t,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*x)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*x)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function Z(e){var n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function g(e,n,t,r,x,i,u,v){return(x-u)*(n-v)-(e-u)*(i-v)>=0&&(e-u)*(r-v)-(t-u)*(n-v)>=0&&(t-u)*(i-v)-(x-u)*(r-v)>=0}function d(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!k(e,n)&&(j(e,n)&&j(n,e)&&H(e,n)&&(w(e.prev,e,n.prev)||w(e,n.prev,n))||m(e,n)&&w(e.prev,e,e.next)>0&&w(n.prev,n,n.next)>0)}function w(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function m(e,n){return e.x===n.x&&e.y===n.y}function M(e,n,t,r){var x=b(w(e,n,t)),i=b(w(e,n,r)),u=b(w(t,r,e)),v=b(w(t,r,n));return x!==i&&u!==v||!(0!==x||!z(e,t,n))||!(0!==i||!z(e,r,n))||!(0!==u||!z(t,e,r))||!(0!==v||!z(t,n,r))}function z(e,n,t){return n.x<=Math.max(e.x,t.x)&&n.x>=Math.min(e.x,t.x)&&n.y<=Math.max(e.y,t.y)&&n.y>=Math.min(e.y,t.y)}function b(e){return e>0?1:e<0?-1:0}function k(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&M(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function j(e,n){return w(e.prev,e,e.next)<0?w(e,n,e.next)>=0&&w(e,e.prev,n)>=0:w(e,n,e.prev)<0||w(e,e.next,n)<0}function H(e,n){var t=e,r=!1,x=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&x<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}function _(e,n){var t=new B(e.i,e.x,e.y),r=new B(n.i,n.x,n.y),x=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=x,x.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function q(e,n,t,r){var x=new B(e,n,t);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function A(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function B(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(e,n,t,r){for(var x=0,i=n,u=t-r;i<t;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}return e.deviation=function(e,n,t,r){var x=n&&n.length,i=x?n[0]*t:e.length,u=Math.abs(C(e,0,i,t));if(x)for(var v=0,f=n.length;v<f;v++){var o=n[v]*t,y=v<f-1?n[v+1]*t:e.length;u-=Math.abs(C(e,o,y,t))}var p=0;for(v=0;v<r.length;v+=3){var a=r[v]*t,l=r[v+1]*t,h=r[v+2]*t;p+=Math.abs((e[a]-e[h])*(e[l+1]-e[a+1])-(e[a]-e[l])*(e[h+1]-e[a+1]))}return 0===u&&0===p?0:Math.abs((p-u)/u)},e.flatten=function(e){for(var n=e[0][0].length,t={vertices:[],holes:[],dimensions:n},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var u=0;u<n;u++)t.vertices.push(e[x][i][u]);x>0&&(r+=e[x-1].length,t.holes.push(r))}return t},e},void 0!==(r=t())&&(n.exports=r);const i=(0,_commonjsHelpers_js__WEBPACK_IMPORTED_MODULE_0__.g)(x.exports);


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/projection/projectPolygonToWGS84ComparableLonLat.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/projection/projectPolygonToWGS84ComparableLonLat.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   projectPolygonToWGS84ComparableLonLat: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _projectors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./projectors.js */ "./node_modules/@arcgis/core/geometry/projection/projectors.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n({hasZ:s,spatialReference:n,rings:c},f,e=0){const p=(0,_projectors_js__WEBPACK_IMPORTED_MODULE_2__.getWGS84ComparableLonLatProjector)(n);if(null==p)return!1;const u=s?o=>o:s=>(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(t,s[0],s[1],e);for(const o of c){const s=[];for(const r of o){const o=[0,0,e];p(u(r),0,o,0),s.push(o)}f.push(s)}return!0}const t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/lineSegment.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/lineSegment.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   closestLineSegmentDistance2: () => (/* binding */ S),
/* harmony export */   closestLineSegmentPoint: () => (/* binding */ k),
/* harmony export */   closestRayDistance2: () => (/* binding */ B),
/* harmony export */   copy: () => (/* binding */ p),
/* harmony export */   create: () => (/* binding */ v),
/* harmony export */   distance: () => (/* binding */ j),
/* harmony export */   distance2: () => (/* binding */ M),
/* harmony export */   fromPoints: () => (/* binding */ b),
/* harmony export */   fromValues: () => (/* binding */ h),
/* harmony export */   pointAt: () => (/* binding */ A),
/* harmony export */   projectPoint: () => (/* binding */ l),
/* harmony export */   projectPointClamp: () => (/* binding */ d),
/* harmony export */   wrap: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/ObjectStack.js */ "./node_modules/@arcgis/core/core/ObjectStack.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./vectorStacks.js */ "./node_modules/@arcgis/core/geometry/support/vectorStacks.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function v(t){return t?{origin:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.g)(t.origin),vector:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.g)(t.vector)}:{origin:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),vector:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()}}function m(t,r){const n=x.get();return n.origin=t,n.vector=r,n}function p(t,r=v()){return h(t.origin,t.vector,r)}function h(t,r,o=v()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(o.origin,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(o.vector,r),o}function b(t,r,i=v()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(i.origin,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(i.vector,r,t),i}function M(r,n){const c=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),n,r.origin),s=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.j)(r.vector,c),u=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.j)(r.vector,r.vector),a=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(s/u,0,1),g=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),r.vector,a),c);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.j)(g,g)}function j(t,r){return Math.sqrt(M(t,r))}function l(t,r,n){return d(t,r,0,1,n)}function A(t,r,n){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(n,t.origin,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(n,t.vector,r))}function d(r,n,u,a,g){const{vector:v,origin:m}=r,p=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),n,m),h=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.j)(v,p)/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.m)(v);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(g,v,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(h,u,a)),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(g,g,r.origin)}function B(t,r){if(q(t,m(r.origin,r.direction),!1,w)){const{tA:r,pB:n,distance2:o}=w;if(r>=0&&r<=1)return o;if(r<0)return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.a)(t.origin,n);if(r>1)return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.a)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),t.origin,t.vector),n)}return null}function k(t,r,o){return!!q(t,r,!0,w)&&((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(o,w.pA),!0)}function S(t,r){return q(t,r,!0,w)?w.distance2:null}function q(r,n,o,i){const e=1e-6,s=r.origin,a=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),s,r.vector),g=n.origin,v=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),g,n.vector),m=_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),p=_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get();if(m[0]=s[0]-g[0],m[1]=s[1]-g[1],m[2]=s[2]-g[2],p[0]=v[0]-g[0],p[1]=v[1]-g[1],p[2]=v[2]-g[2],Math.abs(p[0])<e&&Math.abs(p[1])<e&&Math.abs(p[2])<e)return!1;const h=_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get();if(h[0]=a[0]-s[0],h[1]=a[1]-s[1],h[2]=a[2]-s[2],Math.abs(h[0])<e&&Math.abs(h[1])<e&&Math.abs(h[2])<e)return!1;const b=m[0]*p[0]+m[1]*p[1]+m[2]*p[2],M=p[0]*h[0]+p[1]*h[1]+p[2]*h[2],j=m[0]*h[0]+m[1]*h[1]+m[2]*h[2],l=p[0]*p[0]+p[1]*p[1]+p[2]*p[2],A=(h[0]*h[0]+h[1]*h[1]+h[2]*h[2])*l-M*M;if(Math.abs(A)<e)return!1;let d=(b*M-j*l)/A,B=(b+M*d)/l;o&&(d=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(d,0,1),B=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(B,0,1));const k=_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),S=_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get();return k[0]=s[0]+d*h[0],k[1]=s[1]+d*h[1],k[2]=s[2]+d*h[2],S[0]=g[0]+B*p[0],S[1]=g[1]+B*p[1],S[2]=g[2]+B*p[2],i.tA=d,i.tB=B,i.pA=k,i.pB=S,i.distance2=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.a)(k,S),!0}const w={tA:0,tB:0,pA:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),pB:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),distance2:0},x=new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_1__.ObjectStack((()=>v()));


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/triangle.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/triangle.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   area2d: () => (/* binding */ d),
/* harmony export */   areaPoints2d: () => (/* binding */ S),
/* harmony export */   areaPoints3d: () => (/* binding */ w),
/* harmony export */   copy: () => (/* binding */ k),
/* harmony export */   create: () => (/* binding */ j),
/* harmony export */   distance2: () => (/* binding */ l),
/* harmony export */   fromValues: () => (/* binding */ b),
/* harmony export */   intersectRay: () => (/* binding */ v),
/* harmony export */   wrap: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/ObjectStack.js */ "./node_modules/@arcgis/core/core/ObjectStack.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _lineSegment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./vectorStacks.js */ "./node_modules/@arcgis/core/geometry/support/vectorStacks.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function j(t){return t?{p0:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.g)(t.p0),p1:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.g)(t.p1),p2:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.g)(t.p2)}:{p0:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),p1:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),p2:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)()}}function h(t,n,e){const r=x.get();return r.p0=t,r.p1=n,r.p2=e,r}function k(t,n=j()){return b(t.p0,t.p1,t.p2,n)}function b(t,e,r,o=j()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(o.p0,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(o.p1,e),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(o.p2,r),o}function l(t,n){const p=t.p0,c=t.p1,s=t.p2,i=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),c,p),u=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),s,c),f=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),p,s),j=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),n,p),h=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),n,c),k=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),n,s),b=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.b)(i,i,f),l=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.j)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.b)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),i,b),j),v=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.j)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.b)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),u,b),h),S=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.j)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.b)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__.sv3d.get(),f,b),k);if(l>0&&v>0&&S>0){const t=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.j)(b,j);return t*t/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.j)(b,b)}const d=(0,_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__.distance2)((0,_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(p,i,M.get()),n),w=(0,_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__.distance2)((0,_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(c,u,M.get()),n),x=(0,_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__.distance2)((0,_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(s,f,M.get()),n);return Math.min(d,w,x)}function v(t,n,e){const r=1e-5,{direction:o,origin:s}=n,{p0:i,p1:u,p2:f}=t,a=u[0]-i[0],g=u[1]-i[1],m=u[2]-i[2],j=f[0]-i[0],h=f[1]-i[1],k=f[2]-i[2],b=o[1]*k-h*o[2],l=o[2]*j-k*o[0],v=o[0]*h-j*o[1],S=a*b+g*l+m*v;if(S>-r&&S<r)return!1;const d=1/S,w=s[0]-i[0],M=s[1]-i[1],x=s[2]-i[2],O=d*(w*b+M*l+x*v);if(O<0||O>1)return!1;const V=M*m-g*x,q=x*a-m*w,y=w*g-a*M,z=d*(o[0]*V+o[1]*q+o[2]*y);if(z<0||O+z>1)return!1;if(e){(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.i)(e,o,d*(j*V+h*q+k*y)),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.g)(e,s,e)}return!0}function S(t,n,e){const r=n[0]-t[0],o=n[1]-t[1],p=e[0]-t[0],c=e[1]-t[1];return.5*Math.abs(r*c-o*p)}function d(t){return S(t.p0,t.p1,t.p2)}function w(t,n,o){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(O,n,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(V,o,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.l)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.b)(O,O,V))/2}const M=new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_0__.ObjectStack(_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__.create),x=new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_0__.ObjectStack((()=>j())),O=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),V=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/draw/support/Reshape.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/draw/support/Reshape.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ie)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/quantityUtils.js */ "./node_modules/@arcgis/core/core/quantityUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/support/coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _layers_GraphicsLayer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../layers/GraphicsLayer.js */ "./node_modules/@arcgis/core/layers/GraphicsLayer.js");
/* harmony import */ var _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../symbols/SimpleMarkerSymbol.js */ "./node_modules/@arcgis/core/symbols/SimpleMarkerSymbol.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _2d_interactive_SnappingVisualizer2D_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../2d/interactive/SnappingVisualizer2D.js */ "./node_modules/@arcgis/core/views/2d/interactive/SnappingVisualizer2D.js");
/* harmony import */ var _drawUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./drawUtils.js */ "./node_modules/@arcgis/core/views/draw/support/drawUtils.js");
/* harmony import */ var _GraphicMover_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./GraphicMover.js */ "./node_modules/@arcgis/core/views/draw/support/GraphicMover.js");
/* harmony import */ var _HighlightHelper_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./HighlightHelper.js */ "./node_modules/@arcgis/core/views/draw/support/HighlightHelper.js");
/* harmony import */ var _layerUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./layerUtils.js */ "./node_modules/@arcgis/core/views/draw/support/layerUtils.js");
/* harmony import */ var _settings_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./settings.js */ "./node_modules/@arcgis/core/views/draw/support/settings.js");
/* harmony import */ var _input_InputManager_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../input/InputManager.js */ "./node_modules/@arcgis/core/views/input/InputManager.js");
/* harmony import */ var _interactive_keybindings_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../interactive/keybindings.js */ "./node_modules/@arcgis/core/views/interactive/keybindings.js");
/* harmony import */ var _interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../interactive/editGeometry/EditGeometryOperations.js */ "./node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryOperations.js");
/* harmony import */ var _interactive_sketch_SketchTooltipOptions_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../interactive/sketch/SketchTooltipOptions.js */ "./node_modules/@arcgis/core/views/interactive/sketch/SketchTooltipOptions.js");
/* harmony import */ var _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../interactive/snapping/SnappingContext.js */ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js");
/* harmony import */ var _interactive_tooltip_Tooltip_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../interactive/tooltip/Tooltip.js */ "./node_modules/@arcgis/core/views/interactive/tooltip/Tooltip.js");
/* harmony import */ var _interactive_tooltip_TranslateTooltipInfos_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../interactive/tooltip/TranslateTooltipInfos.js */ "./node_modules/@arcgis/core/views/interactive/tooltip/TranslateTooltipInfos.js");
/* harmony import */ var _support_automaticAreaMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../support/automaticAreaMeasurementUtils.js */ "./node_modules/@arcgis/core/views/support/automaticAreaMeasurementUtils.js");
/* harmony import */ var _support_automaticLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../support/automaticLengthMeasurementUtils.js */ "./node_modules/@arcgis/core/views/support/automaticLengthMeasurementUtils.js");
/* harmony import */ var _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../geometry/Polyline.js */ "./node_modules/@arcgis/core/geometry/Polyline.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class q{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape-start"}}class K{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape"}}class N{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape-stop"}}class B{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move-start"}}class J{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move"}}class Q{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move-stop"}}class W{constructor(e){this.added=e,this.type="vertex-select"}}class X{constructor(e){this.removed=e,this.type="vertex-deselect"}}class Y{constructor(e,t,i,s){this.added=e,this.graphic=t,this.oldGraphic=i,this.vertices=s,this.type="vertex-add"}}class Z{constructor(e,t,i,s){this.removed=e,this.graphic=t,this.oldGraphic=i,this.vertices=s,this.type="vertex-remove"}}const $=_settings_js__WEBPACK_IMPORTED_MODULE_26__.settings.reshapeGraphics,ee={vertices:{default:new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_19__["default"]({style:"circle",size:$.vertex.size,color:$.vertex.color,outline:{color:$.vertex.outlineColor,width:1}}),hover:new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_19__["default"]({style:"circle",size:$.vertex.hoverSize,color:$.vertex.hoverColor,outline:{color:$.vertex.hoverOutlineColor,width:1}}),selected:new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_19__["default"]({style:"circle",size:$.selected.size,color:$.selected.color,outline:{color:$.selected.outlineColor,width:1}})},midpoints:{default:new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_19__["default"]({style:"circle",size:$.midpoint.size,color:$.midpoint.color,outline:{color:$.midpoint.outlineColor,width:1}}),hover:new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_19__["default"]({style:"circle",size:$.midpoint.size,color:$.midpoint.color,outline:{color:$.midpoint.outlineColor,width:1}})}};let te=class extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_6__["default"].EventedAccessor{constructor(e){super(e),this._activeOperationInfo=null,this._editGeometryOperations=null,this._graphicAttributes={esriSketchTool:"box"},this._mover=null,this._snappingContext=null,this._hoverGraphic=null,this._snappingTask=null,this._stagedVertex=null,this._tooltip=null,this._translateGraphicTooltipInfo=null,this._translateVertexTooltipInfo=null,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.enableMovement=!0,this.enableVertices=!0,this.graphic=null,this.layer=null,this.midpointGraphics=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_4__["default"],this.midpointSymbol=new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_19__["default"]({style:"circle",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedVertices=[],this.snappingManager=null,this.symbols=ee,this.tooltipOptions=new _interactive_sketch_SketchTooltipOptions_js__WEBPACK_IMPORTED_MODULE_30__["default"],this.type="reshape",this.vertexGraphics=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_4__["default"],this.view=null}initialize(){const e=this.view;this._highlightHelper=new _HighlightHelper_js__WEBPACK_IMPORTED_MODULE_24__["default"]({view:e}),this._setup(),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.when)((()=>e?.ready),(()=>{const{layer:e,view:t}=this;(0,_layerUtils_js__WEBPACK_IMPORTED_MODULE_25__.addUniqueLayer)(t,e),this.addHandles(t.on("key-down",(e=>this._keyDownHandler(e)),_input_InputManager_js__WEBPACK_IMPORTED_MODULE_27__.ViewEventPriorities.TOOL))}),{once:!0,initial:!0}),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.pausable)((()=>this.graphic),(()=>this.refresh())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.pausable)((()=>this.layer),((e,t)=>{t&&(this._clearSelection(),this._resetGraphics(t)),this.refresh()})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.pausable)((()=>this.enableMidpoints),(()=>this.refresh())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.watch)((()=>this.tooltipOptions.enabled),(e=>{this._tooltip=e?new _interactive_tooltip_Tooltip_js__WEBPACK_IMPORTED_MODULE_32__.Tooltip({view:this.view}):(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._tooltip)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.watch)((()=>this.view.effectiveTheme.accentColor),(()=>this._updateSymbolsForTheme()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_10__.initial)])}destroy(){this._reset(),this._mover?.destroy(),this._mover=null,this._tooltip=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._tooltip)}set highlightsEnabled(e){this._highlightHelper?.removeAll(),this._set("highlightsEnabled",e),this._setUpHighlights()}get state(){const e=this.view.ready,t=!(!this.graphic||!this.layer);return e&&t?"active":e?"ready":"disabled"}isUIGraphic(e){const t=[];return this.graphic&&t.push(this.graphic),t.concat(this.vertexGraphics.items,this.midpointGraphics.items),t.length>0&&t.includes(e)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedVertices(){this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_setup(){const{graphic:e,layer:t}=this;if(!t||null==e?.geometry)return;const i=e.geometry;"mesh"!==i.type&&"extent"!==i.type?("polygon"===i.type&&(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_17__.closeRingsAndFixWinding)(i),this._setUpHighlights(),this._setupGraphics(),this._setupMover()):this._logGeometryTypeError()}_setUpHighlights(){this.highlightsEnabled&&this.graphic&&this._highlightHelper?.add(this.graphic)}_setUpGeometryHelper(){const e=this.graphic.geometry;if(null==e||"mesh"===e.type||"extent"===e.type)return void this._logGeometryTypeError();const t="multipoint"===e.type?new _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_36__["default"]({paths:e.points,spatialReference:e.spatialReference}):e;this._editGeometryOperations=_interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_29__.EditGeometryOperations.fromGeometry(t,_ViewingMode_js__WEBPACK_IMPORTED_MODULE_20__.ViewingMode.Local)}_saveSnappingContextForHandle(e,t){this._snappingGraphicsLayer=new _layers_GraphicsLayer_js__WEBPACK_IMPORTED_MODULE_18__["default"]({listMode:"hide",internal:!0,title:"Reshape snapping layer"}),this.view.map.layers.add(this._snappingGraphicsLayer),this._snappingContext=new _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_31__.SnappingContext({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:"on-the-ground",offset:0},pointer:t.viewEvent?.pointerType||"mouse",excludeFeature:this.graphic,feature:this.graphic,visualizer:new _2d_interactive_SnappingVisualizer2D_js__WEBPACK_IMPORTED_MODULE_21__.SnappingVisualizer2D(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(e)})}_reset(){this._clearSelection(),this._highlightHelper?.removeAll(),this._updateTooltip(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor="default"}_resetSnappingStateVars(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),null!=this._snappingGraphicsLayer&&(this.view?.map&&this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.destroyMaybe)(this._editGeometryOperations),this._snappingTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.abortMaybe)(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphics(e){this._removeMidpointGraphics(e),this._removeVertexGraphics(e),this._set("selectedVertices",[])}_removeMidpointGraphics(e){const t=e||this.layer;t&&t.removeMany(this.midpointGraphics.items),this.midpointGraphics.items.forEach((e=>e.destroy())),this.midpointGraphics.removeAll()}_removeVertexGraphics(e){const t=e||this.layer;t&&t.removeMany(this.vertexGraphics.items),this.vertexGraphics.items.forEach((e=>e.destroy())),this.vertexGraphics.removeAll()}_getCoordinatesForUI(e){const t=(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_17__.geometryToCoordinates)(e.clone());if("polygon"===e.type)for(const i of t){const e=i[i.length-1];i[0][0]===e[0]&&i[0][1]===e[1]&&i.length>2&&i.pop()}return t}_setupGraphics(){const e=this.graphic.geometry;if(null!=e&&("polyline"===e.type||"polygon"===e.type)){const t=this._getCoordinatesForUI(e);this.enableMidpoints&&this._setUpMidpointGraphics(t),this.enableVertices&&this._setUpVertexGraphics(t)}}_setUpMidpointGraphics(e){this._removeMidpointGraphics();const t=this._createMidpointGraphics(e);this.midpointGraphics.addMany(t),this.layer.addMany(t)}_setUpVertexGraphics(e){this._removeVertexGraphics();const t=this._createVertexGraphics(e);this.vertexGraphics.addMany(t),this._storeRelatedVertexIndices(),this.layer.addMany(t)}_createVertexGraphics(e){const{_graphicAttributes:i,symbols:s,view:{spatialReference:o}}=this,r=[];return e?.forEach(((e,n)=>{e.forEach(((e,a)=>{const[h,p,c]=e;r.push(new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({geometry:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_37__["default"]({x:h,y:p,z:c,spatialReference:o}),symbol:s?.vertices?.default,attributes:{...i,pathIndex:n,pointIndex:a}}))}))})),r}_createMidpointGraphics(e){const{_graphicAttributes:i,symbols:s,view:{spatialReference:o}}=this,r=[];return e?.forEach(((e,n)=>{e.forEach(((a,h)=>{const[p,c,l]=a,d=e[h+1]?h+1:0;if("polygon"===this.graphic.geometry?.type||0!==d){const[a,m,v]=e[d],[y,_,g]=(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_17__.getMidpoint)([p,c,l],[a,m,v]);r.push(new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({geometry:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_37__["default"]({x:y,y:_,z:g,spatialReference:o}),symbol:s.midpoints.default,attributes:{...i,pathIndex:n,pointIndexStart:h,pointIndexEnd:d}}))}}))})),r}_updateSymbolsForTheme(){const e=this.view.effectiveTheme.accentColor;this.symbols={vertices:{...this.symbols.vertices,default:this.symbols.vertices.default.clone().set("color",e),hover:this.symbols.vertices.hover?.clone().set("color",e)},midpoints:{...this.symbols.midpoints}};for(const t of this.vertexGraphics)this._isSelected(t)?t.symbol=this.symbols.vertices.selected:this._hoverGraphic===t?t.symbol=this.symbols.vertices.hover:t.symbol=this.symbols.vertices.default}_storeRelatedVertexIndices(){const e=this.vertexGraphics.items;if(!e)return;const t=e.map((({geometry:e})=>({x:e.x,y:e.y})));for(let i=0;i<t.length;i++){const s=[];for(let e=0;e<t.length;e++){if(i===e)continue;const o=t[i],r=t[e];o.x===r.x&&o.y===r.y&&s.push(e)}e[i].attributes.relatedGraphicIndices=s}}_setupMover(){const{enableMovement:e,graphic:t,midpointGraphics:i,vertexGraphics:s,view:o}=this,r=s.concat(i).items;e&&r.push(t),this._mover=new _GraphicMover_js__WEBPACK_IMPORTED_MODULE_23__["default"]({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,graphics:r,view:o,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_onGraphicClickCallback(e){e.viewEvent.stopPropagation();const t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit("graphic-click",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;const i=this.graphic.clone(),s=this._createVertexFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],i,s)}else if(this._isVertex(t))if(e.viewEvent.stopPropagation(),2===e.viewEvent.button)this._removeVertices(t);else{e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedVertices.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)}}_setUpOperation(e){const{graphic:t,dx:i,dy:s}=e,o=t===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(t,e),this._activeOperationInfo={target:this.graphic,mover:t,operationType:o?"move":"reshape",totalDx:i,totalDy:s}}_onGraphicMoveStartCallback(e){const{dx:t,dy:i,graphic:s}=e;if(s===this.graphic){const{geometry:o}=s;return this._setUpOperation(e),this._emitMoveStartEvent(t,i),void(null!=o&&"point"===o.type&&this._onHandleMove(s,t,i,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(t,i)})))}if(!this.selectedVertices.includes(s)){if(this._clearSelection(),this._isMidpoint(s)){const e=this.graphic.clone(),t=this._createVertexFromMidpoint(s);this._emitVertexAddEvent([s],e,t)}this._addToSelection(s)}this._setUpOperation(e),this._emitReshapeStartEvent(s),this._onHandleMove(s,t,i,e,(()=>{this._updateTooltip(s,e.viewEvent),this._emitReshapeEvent(s)}))}_onGraphicMoveCallback(e){const t=this._activeOperationInfo;if(!t)return;const{dx:i,dy:s,graphic:o}=e;t.totalDx+=i,t.totalDy+=s;const{operationType:r}=t,{geometry:n}=o;if(null!=n)if("move"!==r)this._onHandleMove(o,i,s,e,(()=>{this._updateTooltip(o,e.viewEvent),this._emitReshapeEvent(o)}));else if("point"===n.type)this._onHandleMove(o,i,s,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(i,s)}));else if("polyline"===n.type||"polygon"===n.type){const t=this._getCoordinatesForUI(n);this._updateVertexGraphicLocations(t),this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(i,s)}}_onGraphicMoveStopCallback(e){const t=this._activeOperationInfo;if(!t)return;const{dx:i,dy:s,graphic:o}=e,{operationType:r}=t;t.totalDx+=i,t.totalDy+=s,this._onHandleMove(o,i,s,e,(()=>"move"===r?this._emitMoveStopEvent():this._emitReshapeStopEvent(o))),this._isMidpoint(o)?this.refresh():(this._updateTooltip(this._isVertex(o)?o:null),this._resetSnappingStateVars(),this._activeOperationInfo=null)}_updateVertexGraphicLocations(e){const t=this.view.spatialReference;for(const i of this.vertexGraphics){const{pathIndex:s,pointIndex:o}=i.attributes,[r,n,a]=e[s][o];i.geometry=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_37__["default"]({x:r,y:n,z:a,spatialReference:t})}this._updateMidpointGraphicLocations(e)}_updateMidpointGraphicLocations(e){for(const t of this.midpointGraphics){const{pathIndex:i,pointIndexStart:s,pointIndexEnd:o}=t.attributes,[r,n,a]=e[i][s],[h,p,c]=e[i][o],[l,d,m]=(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_17__.getMidpoint)([r,n,a],[h,p,c]);t.geometry=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_37__["default"]({x:l,y:d,z:m,spatialReference:this.view.spatialReference})}}_getIndicesForVertexGraphic({attributes:e}){return[e?.pathIndex||0,e?.pointIndex||0]}_getVertexFromEditGeometry(e){const[t,i]=this._getIndicesForVertexGraphic(e);return this._editGeometryOperations.data.components[t].vertices[i]}_onHandleMove(e,t,s,o,r){(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_8__.abortMaybe)(this._snappingTask);const n=this._snappingContext;if(!n)return;const a=e.geometry,p="graphic-move-stop"===o.type;if(null!=this.snappingManager&&this.selectedVertices.length<2&&!p){const o=this.snappingManager;this._stagedVertex=o.update({point:a,context:n}),this._syncGeometryAfterVertexMove(e,new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_37__["default"](this._stagedVertex),t,s,p),r(),this._snappingTask=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_3__.createTask)((async i=>{const h=await o.snap({point:a,context:n,signal:i});h.valid&&(this._stagedVertex=h.apply(),this._syncGeometryAfterVertexMove(e,new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_37__["default"](this._stagedVertex),t,s,p),r())}))}else{const i=null!=this._stagedVertex?new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_37__["default"](this._stagedVertex):a;this._syncGeometryAfterVertexMove(e,i,t,s,p),r()}}async _syncGeometryAfterVertexMove(e,t,i,s,o=!1){const r=this._editGeometryOperations.data.geometry;if("point"===r.type)e.geometry=t;else if("mesh"===r.type)e.geometry=r.centerAt(t),e.notifyGeometryChanged();else{const{x:n,y:a,z:h}=t,[p,c]=this._getIndicesForVertexGraphic(e);let l=(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_17__.geometryToCoordinates)(r);const d=l[p].length-1,m=null!=h?[n,a,h]:[n,a];l[p][c]=m,"polygon"===r.type&&(0===c?l[p][d]=m:c===d&&(l[p][0]=m)),this._isVertex(e)&&(l=this._moveRelatedCoordinates(l,e,m),l=this._moveSelectedHandleCoordinates(l,e,i,s,"polygon"===r.type),this._updateMidpointGraphicLocations(l)),this.graphic.geometry=r.clone();const v=this._getVertexFromEditGeometry(e),y=n-v.pos[0],_=a-v.pos[1];this._editGeometryOperations.moveVertices([v],y,_,0),o&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(e),t):e.geometry=t)}}_moveRelatedCoordinates(e,t,i){const{relatedGraphicIndices:s}=t.attributes;for(const o of s){const s=this.vertexGraphics.at(o),{pathIndex:r,pointIndex:n}=s.attributes;e[r][n]=i,s.geometry=t.geometry}return e}_moveSelectedHandleCoordinates(e,t,i,s,o){for(const r of this.selectedVertices)if(r!==t){const{pathIndex:t,pointIndex:n,relatedGraphicIndices:a}=r.attributes,h=(0,_drawUtils_js__WEBPACK_IMPORTED_MODULE_22__.cloneMove)(r.geometry,i,s,this.view),p=e[t].length-1;e[t][n]=[h.x,h.y],r.geometry=h,o&&(0===n?e[t][p]=[h.x,h.y]:n===p&&(e[t][0]=[h.x,h.y]));for(const i of a){const t=this.vertexGraphics.at(i),{pathIndex:s,pointIndex:o}=t.attributes;e[s][o]=[h.x,h.y],t.geometry=h}}return e}_onGraphicPointerOverCallback(e){const t=e.graphic;this._hoverGraphic=t;const i=this._isVertex(t);i&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateTooltip(i?t:null),this._updateHoverCursor(t)}_onGraphicPointerOutCallback(e){const t=e.graphic;this._hoverGraphic=null,this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor="default",this._updateTooltip()}_createVertexFromMidpoint(e){const{_graphicAttributes:t,graphic:i}=this,s=i.geometry;if(null==s||"polygon"!==s.type&&"polyline"!==s.type)return[];const o=s.clone(),r=[],{pathIndex:n,pointIndexStart:a,pointIndexEnd:h}=e.attributes,{x:p,y:c,z:l}=e.geometry,d=0===h?a+1:h,m=(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_17__.geometryToCoordinates)(o);return m[n].splice(d,0,null!=l?[p,c,l]:[p,c]),e.attributes={...t,pathIndex:n,pointIndex:d,relatedGraphicIndices:[]},r.push({coordinates:m[n][d],componentIndex:n,vertexIndex:d}),this.graphic.geometry=o,r}_addToSelection(e){e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]&&(e=[e]);for(const t of e)t.symbol=this.symbols.vertices.selected;this._set("selectedVertices",this.selectedVertices.concat(e)),this._emitSelectEvent(e)}_removeFromSelection(e,i){const{vertices:s}=this.symbols,o=i?s.hover:s.default;e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]&&(e=[e]);for(const t of e)this.selectedVertices.splice(this.selectedVertices.indexOf(t),1),this._set("selectedVertices",this.selectedVertices),t.set("symbol",o);this._emitDeselectEvent(e)}_clearSelection(){if(this.selectedVertices.length){const e=this.selectedVertices;for(const t of this.selectedVertices)t.set("symbol",this.symbols.vertices.default);this._set("selectedVertices",[]),this._emitDeselectEvent(e)}}_keyDownHandler(e){_interactive_keybindings_js__WEBPACK_IMPORTED_MODULE_28__.sketchKeys.delete.includes(e.key)&&!e.repeat&&this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_removeVertices(e){const i=this.graphic.geometry;if(null==i||"polygon"!==i.type&&"polyline"!==i.type)return;if("polygon"===i.type&&this.vertexGraphics.length<4||this.vertexGraphics.length<3)return;e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]&&(e=[e]);const s=this.graphic.clone(),o=i.clone();let r=(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_17__.geometryToCoordinates)(o);const n=[];e instanceof _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]&&(e=[e]);for(const t of e){const{x:e,y:i}=t.geometry;for(let t=0;t<r.length;t++){const s=r[t];for(let o=0;o<s.length;o++){const[a,h]=s[o];e===a&&i===h&&(n.push({coordinates:r[t][o],componentIndex:t,vertexIndex:o}),r[t].splice(Number(o),1))}}}if("polygon"===o.type)r=r.filter((e=>{if(e.length<2)return!1;const[t,i]=e[0],[s,o]=e[e.length-1];return(2!==e.length||t!==s||i!==o)&&(t===s&&i===o||e.push(e[0]),!0)})),o.rings=r;else{for(const e of r)1===e.length&&r.splice(r.indexOf(e),1);o.paths=r}this.graphic.geometry=o,this.refresh(),this._emitVertexRemoveEvent(e,s,n)}_isVertex(e){return this.vertexGraphics.includes(e)}_isSelected(e){return this._isVertex(e)&&this.selectedVertices.includes(e)}_isMidpoint(e){return this.midpointGraphics.includes(e)}_updateHoverCursor(e){this.view.cursor=this._isMidpoint(e)?"copy":"move"}_updateTooltip(e,t){null!=this._tooltip&&(e?e===this.graphic?this._updateMoveGraphicTooltip(t):this._updateMoveVertexTooltip(t):this._tooltip.clear())}_updateMoveGraphicTooltip(e){const{_tooltip:t,tooltipOptions:i,view:s}=this;if(null==t)return;const o=this._translateGraphicTooltipInfo??=new _interactive_tooltip_TranslateTooltipInfos_js__WEBPACK_IMPORTED_MODULE_33__.TranslateGraphicTooltipInfo({tooltipOptions:i});if(o.clear(),o.tooltipOptions=i,e){const{x:t,y:i}=e.origin,r=s.toMap(e),n=s.toMap((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_11__.createScreenPoint)(t,i)),a=(0,_support_automaticLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_35__.autoDistanceBetweenPoints2D)(n,r);o.distance=null!=a?a:_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_9__.zeroMeters}t.info=o}_updateMoveVertexTooltip(e){const{_tooltip:t,graphic:{geometry:i},tooltipOptions:s,view:o}=this;if(null==t)return;const r=this._translateVertexTooltipInfo??=new _interactive_tooltip_TranslateTooltipInfos_js__WEBPACK_IMPORTED_MODULE_33__.TranslateVertexTooltipInfo({tooltipOptions:s});if(r.clear(),r.tooltipOptions=s,"polygon"===i?.type?r.area=(0,_support_automaticAreaMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_34__.autoArea2D)(i):"polyline"===i?.type&&(r.totalLength=(0,_support_automaticLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_35__.autoLength2D)(i)),e){const{x:t,y:i}=e.origin,s=o.toMap(e),n=o.toMap((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_11__.createScreenPoint)(t,i)),a=(0,_support_automaticLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_35__.autoDistanceBetweenPoints2D)(n,s);r.distance=null!=a?a:_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_9__.zeroMeters}t.info=r}_emitMoveStartEvent(e,t){const i=new B(this.graphic,e,t);this.emit("move-start",i),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(i)}_emitMoveEvent(e,t){const i=new J(this.graphic,e,t);this.emit("move",i),this.callbacks.onMove&&this.callbacks.onMove(i)}_emitMoveStopEvent(){const e=this._activeOperationInfo;if(!e)return;const{totalDx:t,totalDy:i}=e,s=new Q(this.graphic,t,i);this.emit("move-stop",s),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(s)}_emitReshapeStartEvent(e){const t=new q(this.graphic,e,this.selectedVertices);this.emit("reshape-start",t),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(t)}_emitReshapeEvent(e){const t=new K(this.graphic,e,this.selectedVertices);this.emit("reshape",t),this.callbacks.onReshape&&this.callbacks.onReshape(t)}_emitReshapeStopEvent(e){const t=new N(this.graphic,e,this.selectedVertices);this.emit("reshape-stop",t),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(t)}_emitSelectEvent(e){const t=new W(e);this.emit("select",t),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(t)}_emitDeselectEvent(e){const t=new X(e);this.emit("deselect",t),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(t)}_emitVertexAddEvent(e,t,i){const s=new Y(e,this.graphic,t,i);this.emit("vertex-add",s),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(s)}_emitVertexRemoveEvent(e,t,i){const s=new Z(e,this.graphic,t,i);this.emit("vertex-remove",s),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(s)}_logGeometryTypeError(){_core_Logger_js__WEBPACK_IMPORTED_MODULE_7__["default"].getLogger(this).error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_5__["default"]("reshape:invalid-geometry","Reshape operation not supported for the provided graphic. The geometry type is not supported."))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],te.prototype,"_tooltip",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],te.prototype,"_translateGraphicTooltipInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],te.prototype,"_translateVertexTooltipInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],te.prototype,"callbacks",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],te.prototype,"enableMidpoints",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],te.prototype,"enableMovement",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],te.prototype,"enableVertices",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],te.prototype,"graphic",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({value:!0})],te.prototype,"highlightsEnabled",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],te.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],te.prototype,"midpointGraphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],te.prototype,"midpointSymbol",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],te.prototype,"selectedVertices",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],te.prototype,"snappingManager",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],te.prototype,"state",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],te.prototype,"symbols",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({type:_interactive_sketch_SketchTooltipOptions_js__WEBPACK_IMPORTED_MODULE_30__["default"]})],te.prototype,"tooltipOptions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],te.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)({readOnly:!0})],te.prototype,"vertexGraphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_12__.property)()],te.prototype,"view",void 0),te=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_16__.subclass)("esri.views.draw.support.Reshape")],te);const ie=te;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SnappingContext: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.feature=e.feature,this.visualizer=e.visualizer,this.selfSnappingZ=e.selfSnappingZ}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/SnappingVisualizer.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/SnappingVisualizer.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SnappingVisualizer: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "./node_modules/@arcgis/core/core/handleUtils.js");
/* harmony import */ var _hints_IntersectionSnappingHint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hints/IntersectionSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/IntersectionSnappingHint.js");
/* harmony import */ var _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hints/LineSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/LineSnappingHint.js");
/* harmony import */ var _hints_ParallelSnappingHint_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hints/ParallelSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/ParallelSnappingHint.js");
/* harmony import */ var _hints_PointSnappingHint_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hints/PointSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js");
/* harmony import */ var _hints_RightAngleSnappingHint_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hints/RightAngleSnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/RightAngleSnappingHint.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r{draw(r,a){const p=this._getUniqueHints(r),h=this.sortUniqueHints(p),u=[];for(const i of h)i instanceof _hints_IntersectionSnappingHint_js__WEBPACK_IMPORTED_MODULE_1__.IntersectionSnappingHint&&u.push(this.visualizeIntersectionPoint(i,a)),i instanceof _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_2__.LineSnappingHint&&u.push(this.visualizeLine(i,a)),i instanceof _hints_ParallelSnappingHint_js__WEBPACK_IMPORTED_MODULE_3__.ParallelSnappingHint&&u.push(this.visualizeParallelSign(i,a)),i instanceof _hints_RightAngleSnappingHint_js__WEBPACK_IMPORTED_MODULE_5__.RightAngleSnappingHint&&u.push(this.visualizeRightAngleQuad(i,a)),i instanceof _hints_PointSnappingHint_js__WEBPACK_IMPORTED_MODULE_4__.PointSnappingHint&&u.push(this.visualizePoint(i,a));return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.handlesGroup)(u)}sortUniqueHints(i){return i}_getUniqueHints(i){const n=[];for(const t of i){let i=!0;for(const s of n)if(t.equals(s)){i=!1;break}i&&n.push(t)}return n}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PointSnappingHint: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _SnappingHint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SnappingHint.js */ "./node_modules/@arcgis/core/views/interactive/snapping/hints/SnappingHint.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class n extends _SnappingHint_js__WEBPACK_IMPORTED_MODULE_1__.SnappingHint{constructor(t,s,n){super(s,n),this.point=t}equals(s){return s instanceof n&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.point,s.point)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/automaticAreaMeasurementUtils.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/automaticAreaMeasurementUtils.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   autoArea2D: () => (/* binding */ u),
/* harmony export */   autoAreaByElevationMode: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _euclideanAreaMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./euclideanAreaMeasurementUtils.js */ "./node_modules/@arcgis/core/views/support/euclideanAreaMeasurementUtils.js");
/* harmony import */ var _geodesicAreaMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./geodesicAreaMeasurementUtils.js */ "./node_modules/@arcgis/core/views/support/geodesicAreaMeasurementUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o,u,i=(0,_euclideanAreaMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__.createEuclideanPlanarAreaCache)()){if("on-the-ground"===u){const r=(0,_geodesicAreaMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_1__.geodesicArea)(o);return null!=r?r:(0,_euclideanAreaMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__.euclideanHorizontalPlanarArea)(o,i)}return (0,_euclideanAreaMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__.euclideanPlanarArea)(o,i)}function u(e,r=(0,_euclideanAreaMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__.createEuclideanPlanarAreaCache)()){return o(e,"on-the-ground",r)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/euclideanAreaMeasurementUtils.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/euclideanAreaMeasurementUtils.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   computeEuclideanPlanarArea: () => (/* binding */ j),
/* harmony export */   createEuclideanPlanarAreaCache: () => (/* binding */ k),
/* harmony export */   euclideanHorizontalPlanarArea: () => (/* binding */ h),
/* harmony export */   euclideanPlanarArea: () => (/* binding */ g),
/* harmony export */   triangulate: () => (/* binding */ U)
/* harmony export */ });
/* harmony import */ var _core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/quantityUtils.js */ "./node_modules/@arcgis/core/core/quantityUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _chunks_earcut_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunks/earcut.js */ "./node_modules/@arcgis/core/chunks/earcut.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../geometry/projection/projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _geometry_support_triangle_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/support/triangle.js */ "./node_modules/@arcgis/core/geometry/support/triangle.js");
/* harmony import */ var _measurementUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./measurementUtils.js */ "./node_modules/@arcgis/core/views/support/measurementUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function g(t,o=k()){return j(t,o)}function h(t,o=k()){return j(t,o,!1)}function j(r,g,h=r.hasZ){const j=(0,_measurementUtils_js__WEBPACK_IMPORTED_MODULE_8__.computeEuclideanMeasurementSR)(r.spatialReference),k=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.areaUnitFromSpatialReference)(j);if(null==k)return null;const q=(t,o)=>!(o.length<2)&&((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.s)(t,o[0],o[1],h&&o[2]||0),!0);let v=0;for(const t of r.rings){const o=t.length;if(o<3)continue;const{positionsWorldCoords:a}=g;for(;a.length<o;)a.push((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)());const h=y,k=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.s)(d,0,0,0),C=1/o;for(let n=0;n<o;n++){if(!q(h,t[n]))return null;if(!(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_5__.projectVectorToVector)(h,r.spatialReference,a[n],j))return null;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.q)(k,k,a[n],C)}const R=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__.fromPoints)(a[0],a[1],k,(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__.wrap)());if(0===(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.m)((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__.normal)(R)))continue;for(let t=0;t<o;t++)(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_6__.projectPointLocal)(R,k,a[t],a[t]);const V=U(a);for(let t=0;t<V.length;t+=3)v+=(0,_geometry_support_triangle_js__WEBPACK_IMPORTED_MODULE_7__.areaPoints2d)(a[V[t]],a[V[t+1]],a[V[t+2]])}return (0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__.createArea)(v,k)}const y=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),d=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)();function k(){return{positionsWorldCoords:[]}}function U(t){return (0,_chunks_earcut_js__WEBPACK_IMPORTED_MODULE_2__.e)(q(t),[],2)}function q(t){const o=new Float64Array(2*t.length);for(let r=0;r<t.length;++r){const n=t[r],e=2*r;o[e]=n[0],o[e+1]=n[1]}return o}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/geodesicAreaMeasurementUtils.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/geodesicAreaMeasurementUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   geodesicArea: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/quantityUtils.js */ "./node_modules/@arcgis/core/core/quantityUtils.js");
/* harmony import */ var _geometry_geometryEngine_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../geometry/geometryEngine.js */ "./node_modules/@arcgis/core/geometry/geometryEngine.js");
/* harmony import */ var _geometry_projection_projectPolygonToWGS84ComparableLonLat_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../geometry/projection/projectPolygonToWGS84ComparableLonLat.js */ "./node_modules/@arcgis/core/geometry/projection/projectPolygonToWGS84ComparableLonLat.js");
/* harmony import */ var _geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../geometry/support/geodesicUtils.js */ "./node_modules/@arcgis/core/geometry/support/geodesicUtils.js");
/* harmony import */ var _geodesicMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./geodesicMeasurementUtils.js */ "./node_modules/@arcgis/core/views/support/geodesicMeasurementUtils.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function m(e){const{spatialReference:r}=e;return (0,_geodesicMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_5__.geodesicMeasure)(r,a,i,u,e)}function a(r){return (0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__.createArea)(Math.abs((0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_4__.geodesicAreas)([r],"square-meters")[0]),"square-meters")}function i(t){try{return (0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__.createArea)(Math.abs((0,_geometry_geometryEngine_js__WEBPACK_IMPORTED_MODULE_2__.geodesicArea)(t,"square-meters")),"square-meters")}catch(o){return null}}function u(r){const s=[];return (0,_geometry_projection_projectPolygonToWGS84ComparableLonLat_js__WEBPACK_IMPORTED_MODULE_3__.projectPolygonToWGS84ComparableLonLat)(r,s)?(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__.createArea)(Math.abs((0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_4__.geodesicAreas)([{type:"polygon",rings:s,spatialReference:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_6__["default"].WGS84}],"square-meters")[0]),"square-meters"):null}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfdmlld3NfZHJhd19zdXBwb3J0X1Jlc2hhcGVfanMtbm9kZV9tb2R1bGVzX2FyY2dpc19jb3JlX3ZpZXdzLWJmYzFkYS5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUMwQyxhQUFhLFlBQVksMkJBQTJCLGtCQUFrQixPQUFPLHlFQUF5RSxnQ0FBZ0Msb0NBQW9DLGtCQUFrQixZQUFZLElBQUksaUVBQWlFLGtDQUFrQyx3QkFBd0Isc0JBQXNCLFFBQVEsNEJBQTRCLElBQUksMEJBQTBCLGVBQWUsS0FBSywwQkFBMEIsbUJBQW1CLGFBQWEsU0FBUyxTQUFTLGdCQUFnQixlQUFlLFNBQVMsVUFBVSxHQUFHLGlFQUFpRSxLQUFLLGFBQWEsK0JBQStCLE1BQU0sZ0JBQWdCLFNBQVMsMEJBQTBCLE1BQU0sa0JBQWtCLGdCQUFnQixnQkFBZ0IseUdBQXlHLG1CQUFtQiwrRUFBK0UsUUFBUSxjQUFjLDBCQUEwQix3QkFBd0Isc0JBQXNCLFdBQVcsRUFBRSxzRUFBc0UsU0FBUyxTQUFTLG9CQUFvQiwwQkFBMEIsd0JBQXdCLGtPQUFrTyxxQkFBcUIsRUFBRSw4RkFBOEYsd0dBQXdHLFVBQVUsS0FBSyxVQUFVLEVBQUUsOEZBQThGLFVBQVUsS0FBSyxVQUFVLEVBQUUsOEZBQThGLFVBQVUsU0FBUyxrQkFBa0IsUUFBUSxHQUFHLDJCQUEyQixvSEFBb0gsYUFBYSxZQUFZLHdCQUF3QixRQUFRLEdBQUcsc0JBQXNCLFdBQVcsRUFBRSxzQkFBc0IsYUFBYSxzRUFBc0UsU0FBUyxTQUFTLGFBQWEsb0JBQW9CLGVBQWUsbUJBQW1CLElBQUksdUZBQXVGLGtCQUFrQixXQUFXLDRCQUE0QixTQUFTLGdCQUFnQixlQUFlLGNBQWMsNEJBQTRCLFFBQVEsTUFBTSxFQUFFLGVBQWUsa0NBQWtDLElBQUksU0FBUyxnQkFBZ0IsYUFBYSxlQUFlLDJCQUEyQixXQUFXLHVDQUF1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Q0p6WjtBQUNBO0FBQ0E7QUFDQTtBQUMybEIsb0JBQW9CLGNBQWMsb0JBQW9CLGlCQUFpQix5QkFBeUIsUUFBUSxtRkFBQyx1QkFBdUIsZ0ZBQUMsSUFBSSx1QkFBdUIsK0JBQStCLGtEQUFDLDZCQUE2QixRQUFRLHdCQUF3QixpQkFBaUIsZ0JBQWdCLE1BQU0sdUJBQXVCLEdBQUcsS0FBSyxXQUFXLFFBQVEscURBQUMsSUFBSSxZQUFZLGtEQUFDLGdCQUFnQixZQUFZLElBQUksS0FBSywwQkFBMEIsSUFBSSxvR0FBQywwQ0FBMEMsa0RBQUMsYUFBYSxRQUFRLHNFQUFDLGFBQWEsZ0VBQUMsSUFBSSxPQUFPLGtEQUFDLENBQUMsa0VBQUMsY0FBYyxZQUFZLElBQUksSUFBSSw2RUFBQyxnQkFBZ0IsYUFBYSxZQUFZLFdBQVcsUUFBUSwyRUFBQyw4QkFBOEIsT0FBTyxrRUFBQyxNQUFNLFFBQVEscURBQUMsS0FBSyxxREFBQyxHQUFHLGFBQWEsT0FBTyx5QkFBeUIsY0FBYyxPQUFPLG9EQUFDLFlBQVksY0FBYyxxQ0FBcUMsWUFBWSxXQUFXLEtBQUssbUJBQW1CLHNCQUFzQixTQUFrSzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0p2bUQ7QUFDQTtBQUNBO0FBQ0E7QUFDd2MsY0FBYyxNQUFNLG1CQUFtQixHQUFHLE9BQU8sNkVBQUMsWUFBWSxjQUFjLE9BQU8sa0VBQUMsVUFBVSxpRkFBQywyQ0FBMkMsY0FBYyxJQUFJLE9BQU8sa0VBQUMsVUFBVSx5RUFBQyxzQ0FBc0MsU0FBUyxhQUFhLGNBQWMsV0FBVyxPQUFPLG9JQUFDLE1BQU0sa0VBQUMsVUFBVSxpRkFBQyxHQUFHLHdDQUF3QyxxRUFBQyxPQUFPLDZDQUF1RSIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy9lYXJjdXQuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvcHJvamVjdGlvbi9wcm9qZWN0UG9seWdvblRvV0dTODRDb21wYXJhYmxlTG9uTGF0LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2dlb21ldHJ5L3N1cHBvcnQvbGluZVNlZ21lbnQuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvZ2VvbWV0cnkvc3VwcG9ydC90cmlhbmdsZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9kcmF3L3N1cHBvcnQvUmVzaGFwZS5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9pbnRlcmFjdGl2ZS9zbmFwcGluZy9TbmFwcGluZ0NvbnRleHQuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvaW50ZXJhY3RpdmUvc25hcHBpbmcvU25hcHBpbmdWaXN1YWxpemVyLmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL2hpbnRzL1BvaW50U25hcHBpbmdIaW50LmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL3N1cHBvcnQvYXV0b21hdGljQXJlYU1lYXN1cmVtZW50VXRpbHMuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3Mvc3VwcG9ydC9ldWNsaWRlYW5BcmVhTWVhc3VyZW1lbnRVdGlscy5qcyIsIndlYnBhY2s6Ly9zeW52aWV3Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9zdXBwb3J0L2dlb2Rlc2ljQXJlYU1lYXN1cmVtZW50VXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnIGFzIGV9ZnJvbVwiLi9fY29tbW9uanNIZWxwZXJzLmpzXCI7dmFyIG4sdCxyLHg9e2V4cG9ydHM6e319O3guZXhwb3J0cyxuPXgsdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHgpe3g9eHx8Mjt2YXIgaSx1LHYsbyx5LHAsYSxsPXQmJnQubGVuZ3RoLGg9bD90WzBdKng6ZS5sZW5ndGgscz1uKGUsMCxoLHgsITApLGM9W107aWYoIXN8fHMubmV4dD09PXMucHJldilyZXR1cm4gYztpZihsJiYocz1mKGUsdCxzLHgpKSxlLmxlbmd0aD44MCp4KXtpPXY9ZVswXSx1PW89ZVsxXTtmb3IodmFyIFo9eDtaPGg7Wis9eCkoeT1lW1pdKTxpJiYoaT15KSwocD1lW1orMV0pPHUmJih1PXApLHk+diYmKHY9eSkscD5vJiYobz1wKTthPTAhPT0oYT1NYXRoLm1heCh2LWksby11KSk/MS9hOjB9cmV0dXJuIHIocyxjLHgsaSx1LGEpLGN9ZnVuY3Rpb24gbihlLG4sdCxyLHgpe3ZhciBpLHU7aWYoeD09PUMoZSxuLHQscik+MClmb3IoaT1uO2k8dDtpKz1yKXU9cShpLGVbaV0sZVtpKzFdLHUpO2Vsc2UgZm9yKGk9dC1yO2k+PW47aS09cil1PXEoaSxlW2ldLGVbaSsxXSx1KTtpZih1JiZtKHUsdS5uZXh0KSl7dmFyIHY9dS5uZXh0O0EodSksdT12fXJldHVybiB1fWZ1bmN0aW9uIHQoZSxuKXtpZighZSlyZXR1cm4gZTtufHwobj1lKTt2YXIgdCxyPWU7ZG97aWYodD0hMSxyLnN0ZWluZXJ8fCFtKHIsci5uZXh0KSYmMCE9PXcoci5wcmV2LHIsci5uZXh0KSlyPXIubmV4dDtlbHNle3ZhciB4PXIucHJldjtpZihBKHIpLChyPW49eCk9PT1yLm5leHQpYnJlYWs7dD0hMH19d2hpbGUodHx8ciE9PW4pO3JldHVybiBufWZ1bmN0aW9uIHIoZSxuLGYsbyx5LHAsYSl7aWYoZSl7IWEmJnAmJmgoZSxvLHkscCk7Zm9yKHZhciBsLHMsYz1lO2UucHJldiE9PWUubmV4dDspaWYobD1lLnByZXYscz1lLm5leHQscD9pKGUsbyx5LHApOngoZSkpbi5wdXNoKGwuaS9mKSxuLnB1c2goZS5pL2YpLG4ucHVzaChzLmkvZiksQShlKSxlPXMubmV4dCxjPXMubmV4dDtlbHNlIGlmKChlPXMpPT09Yyl7YT8xPT09YT9yKGU9dSh0KGUpLG4sZiksbixmLG8seSxwLDIpOjI9PT1hJiZ2KGUsbixmLG8seSxwKTpyKHQoZSksbixmLG8seSxwLDEpO2JyZWFrfX19ZnVuY3Rpb24geChlKXt2YXIgbj1lLnByZXYsdD1lLHI9ZS5uZXh0O2lmKHcobix0LHIpPj0wKXJldHVybiExO2Zvcih2YXIgeD1lLm5leHQubmV4dDt4IT09ZS5wcmV2Oyl7aWYoZyhuLngsbi55LHQueCx0Lnksci54LHIueSx4LngseC55KSYmdyh4LnByZXYseCx4Lm5leHQpPj0wKXJldHVybiExO3g9eC5uZXh0fXJldHVybiEwfWZ1bmN0aW9uIGkoZSxuLHQscil7dmFyIHg9ZS5wcmV2LGk9ZSx1PWUubmV4dDtpZih3KHgsaSx1KT49MClyZXR1cm4hMTtmb3IodmFyIHY9eC54PGkueD94Lng8dS54P3gueDp1Lng6aS54PHUueD9pLng6dS54LGY9eC55PGkueT94Lnk8dS55P3gueTp1Lnk6aS55PHUueT9pLnk6dS55LG89eC54PmkueD94Lng+dS54P3gueDp1Lng6aS54PnUueD9pLng6dS54LHk9eC55PmkueT94Lnk+dS55P3gueTp1Lnk6aS55PnUueT9pLnk6dS55LHA9Yyh2LGYsbix0LHIpLGE9YyhvLHksbix0LHIpLGw9ZS5wcmV2WixoPWUubmV4dFo7bCYmbC56Pj1wJiZoJiZoLno8PWE7KXtpZihsIT09ZS5wcmV2JiZsIT09ZS5uZXh0JiZnKHgueCx4LnksaS54LGkueSx1LngsdS55LGwueCxsLnkpJiZ3KGwucHJldixsLGwubmV4dCk+PTApcmV0dXJuITE7aWYobD1sLnByZXZaLGghPT1lLnByZXYmJmghPT1lLm5leHQmJmcoeC54LHgueSxpLngsaS55LHUueCx1LnksaC54LGgueSkmJncoaC5wcmV2LGgsaC5uZXh0KT49MClyZXR1cm4hMTtoPWgubmV4dFp9Zm9yKDtsJiZsLno+PXA7KXtpZihsIT09ZS5wcmV2JiZsIT09ZS5uZXh0JiZnKHgueCx4LnksaS54LGkueSx1LngsdS55LGwueCxsLnkpJiZ3KGwucHJldixsLGwubmV4dCk+PTApcmV0dXJuITE7bD1sLnByZXZafWZvcig7aCYmaC56PD1hOyl7aWYoaCE9PWUucHJldiYmaCE9PWUubmV4dCYmZyh4LngseC55LGkueCxpLnksdS54LHUueSxoLngsaC55KSYmdyhoLnByZXYsaCxoLm5leHQpPj0wKXJldHVybiExO2g9aC5uZXh0Wn1yZXR1cm4hMH1mdW5jdGlvbiB1KGUsbixyKXt2YXIgeD1lO2Rve3ZhciBpPXgucHJldix1PXgubmV4dC5uZXh0OyFtKGksdSkmJk0oaSx4LHgubmV4dCx1KSYmaihpLHUpJiZqKHUsaSkmJihuLnB1c2goaS5pL3IpLG4ucHVzaCh4Lmkvciksbi5wdXNoKHUuaS9yKSxBKHgpLEEoeC5uZXh0KSx4PWU9dSkseD14Lm5leHR9d2hpbGUoeCE9PWUpO3JldHVybiB0KHgpfWZ1bmN0aW9uIHYoZSxuLHgsaSx1LHYpe3ZhciBmPWU7ZG97Zm9yKHZhciBvPWYubmV4dC5uZXh0O28hPT1mLnByZXY7KXtpZihmLmkhPT1vLmkmJmQoZixvKSl7dmFyIHk9XyhmLG8pO3JldHVybiBmPXQoZixmLm5leHQpLHk9dCh5LHkubmV4dCkscihmLG4seCxpLHUsdiksdm9pZCByKHksbix4LGksdSx2KX1vPW8ubmV4dH1mPWYubmV4dH13aGlsZShmIT09ZSl9ZnVuY3Rpb24gZihlLHIseCxpKXt2YXIgdSx2LGYseT1bXTtmb3IodT0wLHY9ci5sZW5ndGg7dTx2O3UrKykoZj1uKGUsclt1XSppLHU8di0xP3JbdSsxXSppOmUubGVuZ3RoLGksITEpKT09PWYubmV4dCYmKGYuc3RlaW5lcj0hMCkseS5wdXNoKFooZikpO2Zvcih5LnNvcnQobyksdT0wO3U8eS5sZW5ndGg7dSsrKXg9dCh4PXAoeVt1XSx4KSx4Lm5leHQpO3JldHVybiB4fWZ1bmN0aW9uIG8oZSxuKXtyZXR1cm4gZS54LW4ueH1mdW5jdGlvbiB5KGUpe2lmKGUubmV4dC5wcmV2PT09ZSlyZXR1cm4gZTtsZXQgbj1lO2Zvcig7Oyl7Y29uc3QgdD1uLm5leHQ7aWYodC5wcmV2PT09bnx8dD09PW58fHQ9PT1lKWJyZWFrO249dH1yZXR1cm4gbn1mdW5jdGlvbiBwKGUsbil7dmFyIHI9YShlLG4pO2lmKCFyKXJldHVybiBuO3ZhciB4PV8ocixlKSxpPXQocixyLm5leHQpO2xldCB1PXkoeCk7cmV0dXJuIHQodSx1Lm5leHQpLGk9eShpKSx5KG49PT1yP2k6bil9ZnVuY3Rpb24gYShlLG4pe3ZhciB0LHI9bix4PWUueCxpPWUueSx1PS0xLzA7ZG97aWYoaTw9ci55JiZpPj1yLm5leHQueSYmci5uZXh0LnkhPT1yLnkpe3ZhciB2PXIueCsoaS1yLnkpKihyLm5leHQueC1yLngpLyhyLm5leHQueS1yLnkpO2lmKHY8PXgmJnY+dSl7aWYodT12LHY9PT14KXtpZihpPT09ci55KXJldHVybiByO2lmKGk9PT1yLm5leHQueSlyZXR1cm4gci5uZXh0fXQ9ci54PHIubmV4dC54P3I6ci5uZXh0fX1yPXIubmV4dH13aGlsZShyIT09bik7aWYoIXQpcmV0dXJuIG51bGw7aWYoeD09PXUpcmV0dXJuIHQ7dmFyIGYsbz10LHk9dC54LHA9dC55LGE9MS8wO3I9dDtkb3t4Pj1yLngmJnIueD49eSYmeCE9PXIueCYmZyhpPHA/eDp1LGkseSxwLGk8cD91OngsaSxyLngsci55KSYmKGY9TWF0aC5hYnMoaS1yLnkpLyh4LXIueCksaihyLGUpJiYoZjxhfHxmPT09YSYmKHIueD50Lnh8fHIueD09PXQueCYmbCh0LHIpKSkmJih0PXIsYT1mKSkscj1yLm5leHR9d2hpbGUociE9PW8pO3JldHVybiB0fWZ1bmN0aW9uIGwoZSxuKXtyZXR1cm4gdyhlLnByZXYsZSxuLnByZXYpPDAmJncobi5uZXh0LGUsZS5uZXh0KTwwfWZ1bmN0aW9uIGgoZSxuLHQscil7dmFyIHg9ZTtkb3tudWxsPT09eC56JiYoeC56PWMoeC54LHgueSxuLHQscikpLHgucHJldlo9eC5wcmV2LHgubmV4dFo9eC5uZXh0LHg9eC5uZXh0fXdoaWxlKHghPT1lKTt4LnByZXZaLm5leHRaPW51bGwseC5wcmV2Wj1udWxsLHMoeCl9ZnVuY3Rpb24gcyhlKXt2YXIgbix0LHIseCxpLHUsdixmLG89MTtkb3tmb3IodD1lLGU9bnVsbCxpPW51bGwsdT0wO3Q7KXtmb3IodSsrLHI9dCx2PTAsbj0wO248byYmKHYrKyxyPXIubmV4dFopO24rKyk7Zm9yKGY9bzt2PjB8fGY+MCYmcjspMCE9PXYmJigwPT09Znx8IXJ8fHQuejw9ci56KT8oeD10LHQ9dC5uZXh0Wix2LS0pOih4PXIscj1yLm5leHRaLGYtLSksaT9pLm5leHRaPXg6ZT14LHgucHJldlo9aSxpPXg7dD1yfWkubmV4dFo9bnVsbCxvKj0yfXdoaWxlKHU+MSk7cmV0dXJuIGV9ZnVuY3Rpb24gYyhlLG4sdCxyLHgpe3JldHVybihlPTE0MzE2NTU3NjUmKChlPTg1ODk5MzQ1OSYoKGU9MjUyNjQ1MTM1JigoZT0xNjcxMTkzNSYoKGU9MzI3NjcqKGUtdCkqeCl8ZTw8OCkpfGU8PDQpKXxlPDwyKSl8ZTw8MSkpfChuPTE0MzE2NTU3NjUmKChuPTg1ODk5MzQ1OSYoKG49MjUyNjQ1MTM1Jigobj0xNjcxMTkzNSYoKG49MzI3NjcqKG4tcikqeCl8bjw8OCkpfG48PDQpKXxuPDwyKSl8bjw8MSkpPDwxfWZ1bmN0aW9uIFooZSl7dmFyIG49ZSx0PWU7ZG97KG4ueDx0Lnh8fG4ueD09PXQueCYmbi55PHQueSkmJih0PW4pLG49bi5uZXh0fXdoaWxlKG4hPT1lKTtyZXR1cm4gdH1mdW5jdGlvbiBnKGUsbix0LHIseCxpLHUsdil7cmV0dXJuKHgtdSkqKG4tdiktKGUtdSkqKGktdik+PTAmJihlLXUpKihyLXYpLSh0LXUpKihuLXYpPj0wJiYodC11KSooaS12KS0oeC11KSooci12KT49MH1mdW5jdGlvbiBkKGUsbil7cmV0dXJuIGUubmV4dC5pIT09bi5pJiZlLnByZXYuaSE9PW4uaSYmIWsoZSxuKSYmKGooZSxuKSYmaihuLGUpJiZIKGUsbikmJih3KGUucHJldixlLG4ucHJldil8fHcoZSxuLnByZXYsbikpfHxtKGUsbikmJncoZS5wcmV2LGUsZS5uZXh0KT4wJiZ3KG4ucHJldixuLG4ubmV4dCk+MCl9ZnVuY3Rpb24gdyhlLG4sdCl7cmV0dXJuKG4ueS1lLnkpKih0Lngtbi54KS0obi54LWUueCkqKHQueS1uLnkpfWZ1bmN0aW9uIG0oZSxuKXtyZXR1cm4gZS54PT09bi54JiZlLnk9PT1uLnl9ZnVuY3Rpb24gTShlLG4sdCxyKXt2YXIgeD1iKHcoZSxuLHQpKSxpPWIodyhlLG4scikpLHU9Yih3KHQscixlKSksdj1iKHcodCxyLG4pKTtyZXR1cm4geCE9PWkmJnUhPT12fHwhKDAhPT14fHwheihlLHQsbikpfHwhKDAhPT1pfHwheihlLHIsbikpfHwhKDAhPT11fHwheih0LGUscikpfHwhKDAhPT12fHwheih0LG4scikpfWZ1bmN0aW9uIHooZSxuLHQpe3JldHVybiBuLng8PU1hdGgubWF4KGUueCx0LngpJiZuLng+PU1hdGgubWluKGUueCx0LngpJiZuLnk8PU1hdGgubWF4KGUueSx0LnkpJiZuLnk+PU1hdGgubWluKGUueSx0LnkpfWZ1bmN0aW9uIGIoZSl7cmV0dXJuIGU+MD8xOmU8MD8tMTowfWZ1bmN0aW9uIGsoZSxuKXt2YXIgdD1lO2Rve2lmKHQuaSE9PWUuaSYmdC5uZXh0LmkhPT1lLmkmJnQuaSE9PW4uaSYmdC5uZXh0LmkhPT1uLmkmJk0odCx0Lm5leHQsZSxuKSlyZXR1cm4hMDt0PXQubmV4dH13aGlsZSh0IT09ZSk7cmV0dXJuITF9ZnVuY3Rpb24gaihlLG4pe3JldHVybiB3KGUucHJldixlLGUubmV4dCk8MD93KGUsbixlLm5leHQpPj0wJiZ3KGUsZS5wcmV2LG4pPj0wOncoZSxuLGUucHJldik8MHx8dyhlLGUubmV4dCxuKTwwfWZ1bmN0aW9uIEgoZSxuKXt2YXIgdD1lLHI9ITEseD0oZS54K24ueCkvMixpPShlLnkrbi55KS8yO2Rve3QueT5pIT10Lm5leHQueT5pJiZ0Lm5leHQueSE9PXQueSYmeDwodC5uZXh0LngtdC54KSooaS10LnkpLyh0Lm5leHQueS10LnkpK3QueCYmKHI9IXIpLHQ9dC5uZXh0fXdoaWxlKHQhPT1lKTtyZXR1cm4gcn1mdW5jdGlvbiBfKGUsbil7dmFyIHQ9bmV3IEIoZS5pLGUueCxlLnkpLHI9bmV3IEIobi5pLG4ueCxuLnkpLHg9ZS5uZXh0LGk9bi5wcmV2O3JldHVybiBlLm5leHQ9bixuLnByZXY9ZSx0Lm5leHQ9eCx4LnByZXY9dCxyLm5leHQ9dCx0LnByZXY9cixpLm5leHQ9cixyLnByZXY9aSxyfWZ1bmN0aW9uIHEoZSxuLHQscil7dmFyIHg9bmV3IEIoZSxuLHQpO3JldHVybiByPyh4Lm5leHQ9ci5uZXh0LHgucHJldj1yLHIubmV4dC5wcmV2PXgsci5uZXh0PXgpOih4LnByZXY9eCx4Lm5leHQ9eCkseH1mdW5jdGlvbiBBKGUpe2UubmV4dC5wcmV2PWUucHJldixlLnByZXYubmV4dD1lLm5leHQsZS5wcmV2WiYmKGUucHJldloubmV4dFo9ZS5uZXh0WiksZS5uZXh0WiYmKGUubmV4dFoucHJldlo9ZS5wcmV2Wil9ZnVuY3Rpb24gQihlLG4sdCl7dGhpcy5pPWUsdGhpcy54PW4sdGhpcy55PXQsdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PW51bGwsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITF9ZnVuY3Rpb24gQyhlLG4sdCxyKXtmb3IodmFyIHg9MCxpPW4sdT10LXI7aTx0O2krPXIpeCs9KGVbdV0tZVtpXSkqKGVbaSsxXStlW3UrMV0pLHU9aTtyZXR1cm4geH1yZXR1cm4gZS5kZXZpYXRpb249ZnVuY3Rpb24oZSxuLHQscil7dmFyIHg9biYmbi5sZW5ndGgsaT14P25bMF0qdDplLmxlbmd0aCx1PU1hdGguYWJzKEMoZSwwLGksdCkpO2lmKHgpZm9yKHZhciB2PTAsZj1uLmxlbmd0aDt2PGY7disrKXt2YXIgbz1uW3ZdKnQseT12PGYtMT9uW3YrMV0qdDplLmxlbmd0aDt1LT1NYXRoLmFicyhDKGUsbyx5LHQpKX12YXIgcD0wO2Zvcih2PTA7djxyLmxlbmd0aDt2Kz0zKXt2YXIgYT1yW3ZdKnQsbD1yW3YrMV0qdCxoPXJbdisyXSp0O3ArPU1hdGguYWJzKChlW2FdLWVbaF0pKihlW2wrMV0tZVthKzFdKS0oZVthXS1lW2xdKSooZVtoKzFdLWVbYSsxXSkpfXJldHVybiAwPT09dSYmMD09PXA/MDpNYXRoLmFicygocC11KS91KX0sZS5mbGF0dGVuPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1lWzBdWzBdLmxlbmd0aCx0PXt2ZXJ0aWNlczpbXSxob2xlczpbXSxkaW1lbnNpb25zOm59LHI9MCx4PTA7eDxlLmxlbmd0aDt4Kyspe2Zvcih2YXIgaT0wO2k8ZVt4XS5sZW5ndGg7aSsrKWZvcih2YXIgdT0wO3U8bjt1KyspdC52ZXJ0aWNlcy5wdXNoKGVbeF1baV1bdV0pO3g+MCYmKHIrPWVbeC0xXS5sZW5ndGgsdC5ob2xlcy5wdXNoKHIpKX1yZXR1cm4gdH0sZX0sdm9pZCAwIT09KHI9dCgpKSYmKG4uZXhwb3J0cz1yKTtjb25zdCBpPWUoeC5leHBvcnRzKTtleHBvcnR7aSBhcyBlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7cyBhcyBvfWZyb21cIi4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2MgYXMgc31mcm9tXCIuLi8uLi9jaHVua3MvdmVjM2Y2NC5qc1wiO2ltcG9ydHtnZXRXR1M4NENvbXBhcmFibGVMb25MYXRQcm9qZWN0b3IgYXMgcn1mcm9tXCIuL3Byb2plY3RvcnMuanNcIjtmdW5jdGlvbiBuKHtoYXNaOnMsc3BhdGlhbFJlZmVyZW5jZTpuLHJpbmdzOmN9LGYsZT0wKXtjb25zdCBwPXIobik7aWYobnVsbD09cClyZXR1cm4hMTtjb25zdCB1PXM/bz0+bzpzPT5vKHQsc1swXSxzWzFdLGUpO2Zvcihjb25zdCBvIG9mIGMpe2NvbnN0IHM9W107Zm9yKGNvbnN0IHIgb2Ygbyl7Y29uc3Qgbz1bMCwwLGVdO3AodShyKSwwLG8sMCkscy5wdXNoKG8pfWYucHVzaChzKX1yZXR1cm4hMH1jb25zdCB0PXMoKTtleHBvcnR7biBhcyBwcm9qZWN0UG9seWdvblRvV0dTODRDb21wYXJhYmxlTG9uTGF0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y2xhbXAgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtPYmplY3RTdGFjayBhcyByfWZyb21cIi4uLy4uL2NvcmUvT2JqZWN0U3RhY2suanNcIjtpbXBvcnR7YyBhcyBuLGYgYXMgbyxqIGFzIGksaSBhcyBlLGcgYXMgYyxtIGFzIHMsYSBhcyB1fWZyb21cIi4uLy4uL2NodW5rcy92ZWMzLmpzXCI7aW1wb3J0e2cgYXMgYSxjIGFzIGd9ZnJvbVwiLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7c3YzZCBhcyBmfWZyb21cIi4vdmVjdG9yU3RhY2tzLmpzXCI7ZnVuY3Rpb24gdih0KXtyZXR1cm4gdD97b3JpZ2luOmEodC5vcmlnaW4pLHZlY3RvcjphKHQudmVjdG9yKX06e29yaWdpbjpnKCksdmVjdG9yOmcoKX19ZnVuY3Rpb24gbSh0LHIpe2NvbnN0IG49eC5nZXQoKTtyZXR1cm4gbi5vcmlnaW49dCxuLnZlY3Rvcj1yLG59ZnVuY3Rpb24gcCh0LHI9digpKXtyZXR1cm4gaCh0Lm9yaWdpbix0LnZlY3RvcixyKX1mdW5jdGlvbiBoKHQscixvPXYoKSl7cmV0dXJuIG4oby5vcmlnaW4sdCksbihvLnZlY3RvcixyKSxvfWZ1bmN0aW9uIGIodCxyLGk9digpKXtyZXR1cm4gbihpLm9yaWdpbix0KSxvKGkudmVjdG9yLHIsdCksaX1mdW5jdGlvbiBNKHIsbil7Y29uc3QgYz1vKGYuZ2V0KCksbixyLm9yaWdpbikscz1pKHIudmVjdG9yLGMpLHU9aShyLnZlY3RvcixyLnZlY3RvciksYT10KHMvdSwwLDEpLGc9byhmLmdldCgpLGUoZi5nZXQoKSxyLnZlY3RvcixhKSxjKTtyZXR1cm4gaShnLGcpfWZ1bmN0aW9uIGoodCxyKXtyZXR1cm4gTWF0aC5zcXJ0KE0odCxyKSl9ZnVuY3Rpb24gbCh0LHIsbil7cmV0dXJuIGQodCxyLDAsMSxuKX1mdW5jdGlvbiBBKHQscixuKXtyZXR1cm4gYyhuLHQub3JpZ2luLGUobix0LnZlY3RvcixyKSl9ZnVuY3Rpb24gZChyLG4sdSxhLGcpe2NvbnN0e3ZlY3Rvcjp2LG9yaWdpbjptfT1yLHA9byhmLmdldCgpLG4sbSksaD1pKHYscCkvcyh2KTtyZXR1cm4gZShnLHYsdChoLHUsYSkpLGMoZyxnLHIub3JpZ2luKX1mdW5jdGlvbiBCKHQscil7aWYocSh0LG0oci5vcmlnaW4sci5kaXJlY3Rpb24pLCExLHcpKXtjb25zdHt0QTpyLHBCOm4sZGlzdGFuY2UyOm99PXc7aWYocj49MCYmcjw9MSlyZXR1cm4gbztpZihyPDApcmV0dXJuIHUodC5vcmlnaW4sbik7aWYocj4xKXJldHVybiB1KGMoZi5nZXQoKSx0Lm9yaWdpbix0LnZlY3Rvciksbil9cmV0dXJuIG51bGx9ZnVuY3Rpb24gayh0LHIsbyl7cmV0dXJuISFxKHQsciwhMCx3KSYmKG4obyx3LnBBKSwhMCl9ZnVuY3Rpb24gUyh0LHIpe3JldHVybiBxKHQsciwhMCx3KT93LmRpc3RhbmNlMjpudWxsfWZ1bmN0aW9uIHEocixuLG8saSl7Y29uc3QgZT0xZS02LHM9ci5vcmlnaW4sYT1jKGYuZ2V0KCkscyxyLnZlY3RvciksZz1uLm9yaWdpbix2PWMoZi5nZXQoKSxnLG4udmVjdG9yKSxtPWYuZ2V0KCkscD1mLmdldCgpO2lmKG1bMF09c1swXS1nWzBdLG1bMV09c1sxXS1nWzFdLG1bMl09c1syXS1nWzJdLHBbMF09dlswXS1nWzBdLHBbMV09dlsxXS1nWzFdLHBbMl09dlsyXS1nWzJdLE1hdGguYWJzKHBbMF0pPGUmJk1hdGguYWJzKHBbMV0pPGUmJk1hdGguYWJzKHBbMl0pPGUpcmV0dXJuITE7Y29uc3QgaD1mLmdldCgpO2lmKGhbMF09YVswXS1zWzBdLGhbMV09YVsxXS1zWzFdLGhbMl09YVsyXS1zWzJdLE1hdGguYWJzKGhbMF0pPGUmJk1hdGguYWJzKGhbMV0pPGUmJk1hdGguYWJzKGhbMl0pPGUpcmV0dXJuITE7Y29uc3QgYj1tWzBdKnBbMF0rbVsxXSpwWzFdK21bMl0qcFsyXSxNPXBbMF0qaFswXStwWzFdKmhbMV0rcFsyXSpoWzJdLGo9bVswXSpoWzBdK21bMV0qaFsxXSttWzJdKmhbMl0sbD1wWzBdKnBbMF0rcFsxXSpwWzFdK3BbMl0qcFsyXSxBPShoWzBdKmhbMF0raFsxXSpoWzFdK2hbMl0qaFsyXSkqbC1NKk07aWYoTWF0aC5hYnMoQSk8ZSlyZXR1cm4hMTtsZXQgZD0oYipNLWoqbCkvQSxCPShiK00qZCkvbDtvJiYoZD10KGQsMCwxKSxCPXQoQiwwLDEpKTtjb25zdCBrPWYuZ2V0KCksUz1mLmdldCgpO3JldHVybiBrWzBdPXNbMF0rZCpoWzBdLGtbMV09c1sxXStkKmhbMV0sa1syXT1zWzJdK2QqaFsyXSxTWzBdPWdbMF0rQipwWzBdLFNbMV09Z1sxXStCKnBbMV0sU1syXT1nWzJdK0IqcFsyXSxpLnRBPWQsaS50Qj1CLGkucEE9ayxpLnBCPVMsaS5kaXN0YW5jZTI9dShrLFMpLCEwfWNvbnN0IHc9e3RBOjAsdEI6MCxwQTpnKCkscEI6ZygpLGRpc3RhbmNlMjowfSx4PW5ldyByKCgoKT0+digpKSk7ZXhwb3J0e1MgYXMgY2xvc2VzdExpbmVTZWdtZW50RGlzdGFuY2UyLGsgYXMgY2xvc2VzdExpbmVTZWdtZW50UG9pbnQsQiBhcyBjbG9zZXN0UmF5RGlzdGFuY2UyLHAgYXMgY29weSx2IGFzIGNyZWF0ZSxqIGFzIGRpc3RhbmNlLE0gYXMgZGlzdGFuY2UyLGIgYXMgZnJvbVBvaW50cyxoIGFzIGZyb21WYWx1ZXMsQSBhcyBwb2ludEF0LGwgYXMgcHJvamVjdFBvaW50LGQgYXMgcHJvamVjdFBvaW50Q2xhbXAsbSBhcyB3cmFwfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7T2JqZWN0U3RhY2sgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL09iamVjdFN0YWNrLmpzXCI7aW1wb3J0e2MgYXMgbixmIGFzIGUsYiBhcyByLGogYXMgbyxpIGFzIHAsZyBhcyBjLGwgYXMgc31mcm9tXCIuLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtnIGFzIGksYyBhcyB1fWZyb21cIi4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyBmLGRpc3RhbmNlMiBhcyBhLGZyb21WYWx1ZXMgYXMgZ31mcm9tXCIuL2xpbmVTZWdtZW50LmpzXCI7aW1wb3J0e3N2M2QgYXMgbX1mcm9tXCIuL3ZlY3RvclN0YWNrcy5qc1wiO2Z1bmN0aW9uIGoodCl7cmV0dXJuIHQ/e3AwOmkodC5wMCkscDE6aSh0LnAxKSxwMjppKHQucDIpfTp7cDA6dSgpLHAxOnUoKSxwMjp1KCl9fWZ1bmN0aW9uIGgodCxuLGUpe2NvbnN0IHI9eC5nZXQoKTtyZXR1cm4gci5wMD10LHIucDE9bixyLnAyPWUscn1mdW5jdGlvbiBrKHQsbj1qKCkpe3JldHVybiBiKHQucDAsdC5wMSx0LnAyLG4pfWZ1bmN0aW9uIGIodCxlLHIsbz1qKCkpe3JldHVybiBuKG8ucDAsdCksbihvLnAxLGUpLG4oby5wMixyKSxvfWZ1bmN0aW9uIGwodCxuKXtjb25zdCBwPXQucDAsYz10LnAxLHM9dC5wMixpPWUobS5nZXQoKSxjLHApLHU9ZShtLmdldCgpLHMsYyksZj1lKG0uZ2V0KCkscCxzKSxqPWUobS5nZXQoKSxuLHApLGg9ZShtLmdldCgpLG4sYyksaz1lKG0uZ2V0KCksbixzKSxiPXIoaSxpLGYpLGw9byhyKG0uZ2V0KCksaSxiKSxqKSx2PW8ocihtLmdldCgpLHUsYiksaCksUz1vKHIobS5nZXQoKSxmLGIpLGspO2lmKGw+MCYmdj4wJiZTPjApe2NvbnN0IHQ9byhiLGopO3JldHVybiB0KnQvbyhiLGIpfWNvbnN0IGQ9YShnKHAsaSxNLmdldCgpKSxuKSx3PWEoZyhjLHUsTS5nZXQoKSksbikseD1hKGcocyxmLE0uZ2V0KCkpLG4pO3JldHVybiBNYXRoLm1pbihkLHcseCl9ZnVuY3Rpb24gdih0LG4sZSl7Y29uc3Qgcj0xZS01LHtkaXJlY3Rpb246byxvcmlnaW46c309bix7cDA6aSxwMTp1LHAyOmZ9PXQsYT11WzBdLWlbMF0sZz11WzFdLWlbMV0sbT11WzJdLWlbMl0saj1mWzBdLWlbMF0saD1mWzFdLWlbMV0saz1mWzJdLWlbMl0sYj1vWzFdKmstaCpvWzJdLGw9b1syXSpqLWsqb1swXSx2PW9bMF0qaC1qKm9bMV0sUz1hKmIrZypsK20qdjtpZihTPi1yJiZTPHIpcmV0dXJuITE7Y29uc3QgZD0xL1Msdz1zWzBdLWlbMF0sTT1zWzFdLWlbMV0seD1zWzJdLWlbMl0sTz1kKih3KmIrTSpsK3gqdik7aWYoTzwwfHxPPjEpcmV0dXJuITE7Y29uc3QgVj1NKm0tZyp4LHE9eCphLW0qdyx5PXcqZy1hKk0sej1kKihvWzBdKlYrb1sxXSpxK29bMl0qeSk7aWYoejwwfHxPK3o+MSlyZXR1cm4hMTtpZihlKXtwKGUsbyxkKihqKlYraCpxK2sqeSkpLGMoZSxzLGUpfXJldHVybiEwfWZ1bmN0aW9uIFModCxuLGUpe2NvbnN0IHI9blswXS10WzBdLG89blsxXS10WzFdLHA9ZVswXS10WzBdLGM9ZVsxXS10WzFdO3JldHVybi41Kk1hdGguYWJzKHIqYy1vKnApfWZ1bmN0aW9uIGQodCl7cmV0dXJuIFModC5wMCx0LnAxLHQucDIpfWZ1bmN0aW9uIHcodCxuLG8pe3JldHVybiBlKE8sbix0KSxlKFYsbyx0KSxzKHIoTyxPLFYpKS8yfWNvbnN0IE09bmV3IHQoZikseD1uZXcgdCgoKCk9PmooKSkpLE89dSgpLFY9dSgpO2V4cG9ydHtkIGFzIGFyZWEyZCxTIGFzIGFyZWFQb2ludHMyZCx3IGFzIGFyZWFQb2ludHMzZCxrIGFzIGNvcHksaiBhcyBjcmVhdGUsbCBhcyBkaXN0YW5jZTIsYiBhcyBmcm9tVmFsdWVzLHYgYXMgaW50ZXJzZWN0UmF5LGggYXMgd3JhcH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL0dyYXBoaWMuanNcIjtpbXBvcnR7Y3JlYXRlVGFzayBhcyBpfWZyb21cIi4uLy4uLy4uL2NvcmUvYXN5bmNVdGlscy5qc1wiO2ltcG9ydCBzIGZyb21cIi4uLy4uLy4uL2NvcmUvQ29sbGVjdGlvbi5qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uL2NvcmUvRXJyb3IuanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi9jb3JlL0V2ZW50ZWQuanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi8uLi9jb3JlL0xvZ2dlci5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgYSxhYm9ydE1heWJlIGFzIGh9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt6ZXJvTWV0ZXJzIGFzIHB9ZnJvbVwiLi4vLi4vLi4vY29yZS9xdWFudGl0eVV0aWxzLmpzXCI7aW1wb3J0e3doZW4gYXMgYyxwYXVzYWJsZSBhcyBsLHdhdGNoIGFzIGQsc3luY0FuZEluaXRpYWwgYXMgbSxpbml0aWFsIGFzIHZ9ZnJvbVwiLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZVNjcmVlblBvaW50IGFzIHl9ZnJvbVwiLi4vLi4vLi4vY29yZS9zY3JlZW5VdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBffWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgZ31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2Nsb3NlUmluZ3NBbmRGaXhXaW5kaW5nIGFzIHUsZ2VvbWV0cnlUb0Nvb3JkaW5hdGVzIGFzIGYsZ2V0TWlkcG9pbnQgYXMgeH1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2Nvb3Jkc1V0aWxzLmpzXCI7aW1wb3J0IEcgZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL0dyYXBoaWNzTGF5ZXIuanNcIjtpbXBvcnQgYiBmcm9tXCIuLi8uLi8uLi9zeW1ib2xzL1NpbXBsZU1hcmtlclN5bWJvbC5qc1wiO2ltcG9ydHtWaWV3aW5nTW9kZSBhcyBWfWZyb21cIi4uLy4uL1ZpZXdpbmdNb2RlLmpzXCI7aW1wb3J0e1NuYXBwaW5nVmlzdWFsaXplcjJEIGFzIE19ZnJvbVwiLi4vLi4vMmQvaW50ZXJhY3RpdmUvU25hcHBpbmdWaXN1YWxpemVyMkQuanNcIjtpbXBvcnR7Y2xvbmVNb3ZlIGFzIHd9ZnJvbVwiLi9kcmF3VXRpbHMuanNcIjtpbXBvcnQgUyBmcm9tXCIuL0dyYXBoaWNNb3Zlci5qc1wiO2ltcG9ydCBFIGZyb21cIi4vSGlnaGxpZ2h0SGVscGVyLmpzXCI7aW1wb3J0e2FkZFVuaXF1ZUxheWVyIGFzIGt9ZnJvbVwiLi9sYXllclV0aWxzLmpzXCI7aW1wb3J0e3NldHRpbmdzIGFzIEl9ZnJvbVwiLi9zZXR0aW5ncy5qc1wiO2ltcG9ydHtWaWV3RXZlbnRQcmlvcml0aWVzIGFzIFR9ZnJvbVwiLi4vLi4vaW5wdXQvSW5wdXRNYW5hZ2VyLmpzXCI7aW1wb3J0e3NrZXRjaEtleXMgYXMgT31mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS9rZXliaW5kaW5ncy5qc1wiO2ltcG9ydHtFZGl0R2VvbWV0cnlPcGVyYXRpb25zIGFzIEN9ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvZWRpdEdlb21ldHJ5L0VkaXRHZW9tZXRyeU9wZXJhdGlvbnMuanNcIjtpbXBvcnQgaiBmcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS9za2V0Y2gvU2tldGNoVG9vbHRpcE9wdGlvbnMuanNcIjtpbXBvcnR7U25hcHBpbmdDb250ZXh0IGFzIFJ9ZnJvbVwiLi4vLi4vaW50ZXJhY3RpdmUvc25hcHBpbmcvU25hcHBpbmdDb250ZXh0LmpzXCI7aW1wb3J0e1Rvb2x0aXAgYXMgSH1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS90b29sdGlwL1Rvb2x0aXAuanNcIjtpbXBvcnR7VHJhbnNsYXRlR3JhcGhpY1Rvb2x0aXBJbmZvIGFzIFUsVHJhbnNsYXRlVmVydGV4VG9vbHRpcEluZm8gYXMgQX1mcm9tXCIuLi8uLi9pbnRlcmFjdGl2ZS90b29sdGlwL1RyYW5zbGF0ZVRvb2x0aXBJbmZvcy5qc1wiO2ltcG9ydHthdXRvQXJlYTJEIGFzIHp9ZnJvbVwiLi4vLi4vc3VwcG9ydC9hdXRvbWF0aWNBcmVhTWVhc3VyZW1lbnRVdGlscy5qc1wiO2ltcG9ydHthdXRvRGlzdGFuY2VCZXR3ZWVuUG9pbnRzMkQgYXMgRixhdXRvTGVuZ3RoMkQgYXMgTH1mcm9tXCIuLi8uLi9zdXBwb3J0L2F1dG9tYXRpY0xlbmd0aE1lYXN1cmVtZW50VXRpbHMuanNcIjtpbXBvcnQgRCBmcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9Qb2x5bGluZS5qc1wiO2ltcG9ydCBQIGZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L1BvaW50LmpzXCI7Y2xhc3MgcXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5ncmFwaGljPWUsdGhpcy5tb3Zlcj10LHRoaXMuc2VsZWN0ZWQ9aSx0aGlzLnR5cGU9XCJyZXNoYXBlLXN0YXJ0XCJ9fWNsYXNzIEt7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuZ3JhcGhpYz1lLHRoaXMubW92ZXI9dCx0aGlzLnNlbGVjdGVkPWksdGhpcy50eXBlPVwicmVzaGFwZVwifX1jbGFzcyBOe2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmdyYXBoaWM9ZSx0aGlzLm1vdmVyPXQsdGhpcy5zZWxlY3RlZD1pLHRoaXMudHlwZT1cInJlc2hhcGUtc3RvcFwifX1jbGFzcyBCe2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLm1vdmVyPWUsdGhpcy5keD10LHRoaXMuZHk9aSx0aGlzLnR5cGU9XCJtb3ZlLXN0YXJ0XCJ9fWNsYXNzIEp7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMubW92ZXI9ZSx0aGlzLmR4PXQsdGhpcy5keT1pLHRoaXMudHlwZT1cIm1vdmVcIn19Y2xhc3MgUXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5tb3Zlcj1lLHRoaXMuZHg9dCx0aGlzLmR5PWksdGhpcy50eXBlPVwibW92ZS1zdG9wXCJ9fWNsYXNzIFd7Y29uc3RydWN0b3IoZSl7dGhpcy5hZGRlZD1lLHRoaXMudHlwZT1cInZlcnRleC1zZWxlY3RcIn19Y2xhc3MgWHtjb25zdHJ1Y3RvcihlKXt0aGlzLnJlbW92ZWQ9ZSx0aGlzLnR5cGU9XCJ2ZXJ0ZXgtZGVzZWxlY3RcIn19Y2xhc3MgWXtjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLmFkZGVkPWUsdGhpcy5ncmFwaGljPXQsdGhpcy5vbGRHcmFwaGljPWksdGhpcy52ZXJ0aWNlcz1zLHRoaXMudHlwZT1cInZlcnRleC1hZGRcIn19Y2xhc3MgWntjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLnJlbW92ZWQ9ZSx0aGlzLmdyYXBoaWM9dCx0aGlzLm9sZEdyYXBoaWM9aSx0aGlzLnZlcnRpY2VzPXMsdGhpcy50eXBlPVwidmVydGV4LXJlbW92ZVwifX1jb25zdCAkPUkucmVzaGFwZUdyYXBoaWNzLGVlPXt2ZXJ0aWNlczp7ZGVmYXVsdDpuZXcgYih7c3R5bGU6XCJjaXJjbGVcIixzaXplOiQudmVydGV4LnNpemUsY29sb3I6JC52ZXJ0ZXguY29sb3Isb3V0bGluZTp7Y29sb3I6JC52ZXJ0ZXgub3V0bGluZUNvbG9yLHdpZHRoOjF9fSksaG92ZXI6bmV3IGIoe3N0eWxlOlwiY2lyY2xlXCIsc2l6ZTokLnZlcnRleC5ob3ZlclNpemUsY29sb3I6JC52ZXJ0ZXguaG92ZXJDb2xvcixvdXRsaW5lOntjb2xvcjokLnZlcnRleC5ob3Zlck91dGxpbmVDb2xvcix3aWR0aDoxfX0pLHNlbGVjdGVkOm5ldyBiKHtzdHlsZTpcImNpcmNsZVwiLHNpemU6JC5zZWxlY3RlZC5zaXplLGNvbG9yOiQuc2VsZWN0ZWQuY29sb3Isb3V0bGluZTp7Y29sb3I6JC5zZWxlY3RlZC5vdXRsaW5lQ29sb3Isd2lkdGg6MX19KX0sbWlkcG9pbnRzOntkZWZhdWx0Om5ldyBiKHtzdHlsZTpcImNpcmNsZVwiLHNpemU6JC5taWRwb2ludC5zaXplLGNvbG9yOiQubWlkcG9pbnQuY29sb3Isb3V0bGluZTp7Y29sb3I6JC5taWRwb2ludC5vdXRsaW5lQ29sb3Isd2lkdGg6MX19KSxob3ZlcjpuZXcgYih7c3R5bGU6XCJjaXJjbGVcIixzaXplOiQubWlkcG9pbnQuc2l6ZSxjb2xvcjokLm1pZHBvaW50LmNvbG9yLG91dGxpbmU6e2NvbG9yOiQubWlkcG9pbnQub3V0bGluZUNvbG9yLHdpZHRoOjF9fSl9fTtsZXQgdGU9Y2xhc3MgZXh0ZW5kcyByLkV2ZW50ZWRBY2Nlc3Nvcntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9hY3RpdmVPcGVyYXRpb25JbmZvPW51bGwsdGhpcy5fZWRpdEdlb21ldHJ5T3BlcmF0aW9ucz1udWxsLHRoaXMuX2dyYXBoaWNBdHRyaWJ1dGVzPXtlc3JpU2tldGNoVG9vbDpcImJveFwifSx0aGlzLl9tb3Zlcj1udWxsLHRoaXMuX3NuYXBwaW5nQ29udGV4dD1udWxsLHRoaXMuX2hvdmVyR3JhcGhpYz1udWxsLHRoaXMuX3NuYXBwaW5nVGFzaz1udWxsLHRoaXMuX3N0YWdlZFZlcnRleD1udWxsLHRoaXMuX3Rvb2x0aXA9bnVsbCx0aGlzLl90cmFuc2xhdGVHcmFwaGljVG9vbHRpcEluZm89bnVsbCx0aGlzLl90cmFuc2xhdGVWZXJ0ZXhUb29sdGlwSW5mbz1udWxsLHRoaXMuY2FsbGJhY2tzPXtvblJlc2hhcGVTdGFydCgpe30sb25SZXNoYXBlKCl7fSxvblJlc2hhcGVTdG9wKCl7fSxvbk1vdmVTdGFydCgpe30sb25Nb3ZlKCl7fSxvbk1vdmVTdG9wKCl7fSxvbkdyYXBoaWNDbGljaygpe319LHRoaXMuZW5hYmxlTWlkcG9pbnRzPSEwLHRoaXMuZW5hYmxlTW92ZW1lbnQ9ITAsdGhpcy5lbmFibGVWZXJ0aWNlcz0hMCx0aGlzLmdyYXBoaWM9bnVsbCx0aGlzLmxheWVyPW51bGwsdGhpcy5taWRwb2ludEdyYXBoaWNzPW5ldyBzLHRoaXMubWlkcG9pbnRTeW1ib2w9bmV3IGIoe3N0eWxlOlwiY2lyY2xlXCIsc2l6ZTo2LGNvbG9yOlsyMDAsMjAwLDIwMF0sb3V0bGluZTp7Y29sb3I6WzEwMCwxMDAsMTAwXSx3aWR0aDoxfX0pLHRoaXMuc2VsZWN0ZWRWZXJ0aWNlcz1bXSx0aGlzLnNuYXBwaW5nTWFuYWdlcj1udWxsLHRoaXMuc3ltYm9scz1lZSx0aGlzLnRvb2x0aXBPcHRpb25zPW5ldyBqLHRoaXMudHlwZT1cInJlc2hhcGVcIix0aGlzLnZlcnRleEdyYXBoaWNzPW5ldyBzLHRoaXMudmlldz1udWxsfWluaXRpYWxpemUoKXtjb25zdCBlPXRoaXMudmlldzt0aGlzLl9oaWdobGlnaHRIZWxwZXI9bmV3IEUoe3ZpZXc6ZX0pLHRoaXMuX3NldHVwKCksdGhpcy5hZGRIYW5kbGVzKFtjKCgoKT0+ZT8ucmVhZHkpLCgoKT0+e2NvbnN0e2xheWVyOmUsdmlldzp0fT10aGlzO2sodCxlKSx0aGlzLmFkZEhhbmRsZXModC5vbihcImtleS1kb3duXCIsKGU9PnRoaXMuX2tleURvd25IYW5kbGVyKGUpKSxULlRPT0wpKX0pLHtvbmNlOiEwLGluaXRpYWw6ITB9KSxsKCgoKT0+dGhpcy5ncmFwaGljKSwoKCk9PnRoaXMucmVmcmVzaCgpKSksbCgoKCk9PnRoaXMubGF5ZXIpLCgoZSx0KT0+e3QmJih0aGlzLl9jbGVhclNlbGVjdGlvbigpLHRoaXMuX3Jlc2V0R3JhcGhpY3ModCkpLHRoaXMucmVmcmVzaCgpfSkpLGwoKCgpPT50aGlzLmVuYWJsZU1pZHBvaW50cyksKCgpPT50aGlzLnJlZnJlc2goKSkpLGQoKCgpPT50aGlzLnRvb2x0aXBPcHRpb25zLmVuYWJsZWQpLChlPT57dGhpcy5fdG9vbHRpcD1lP25ldyBIKHt2aWV3OnRoaXMudmlld30pOmEodGhpcy5fdG9vbHRpcCl9KSxtKSxkKCgoKT0+dGhpcy52aWV3LmVmZmVjdGl2ZVRoZW1lLmFjY2VudENvbG9yKSwoKCk9PnRoaXMuX3VwZGF0ZVN5bWJvbHNGb3JUaGVtZSgpKSx2KV0pfWRlc3Ryb3koKXt0aGlzLl9yZXNldCgpLHRoaXMuX21vdmVyPy5kZXN0cm95KCksdGhpcy5fbW92ZXI9bnVsbCx0aGlzLl90b29sdGlwPWEodGhpcy5fdG9vbHRpcCl9c2V0IGhpZ2hsaWdodHNFbmFibGVkKGUpe3RoaXMuX2hpZ2hsaWdodEhlbHBlcj8ucmVtb3ZlQWxsKCksdGhpcy5fc2V0KFwiaGlnaGxpZ2h0c0VuYWJsZWRcIixlKSx0aGlzLl9zZXRVcEhpZ2hsaWdodHMoKX1nZXQgc3RhdGUoKXtjb25zdCBlPXRoaXMudmlldy5yZWFkeSx0PSEoIXRoaXMuZ3JhcGhpY3x8IXRoaXMubGF5ZXIpO3JldHVybiBlJiZ0P1wiYWN0aXZlXCI6ZT9cInJlYWR5XCI6XCJkaXNhYmxlZFwifWlzVUlHcmFwaGljKGUpe2NvbnN0IHQ9W107cmV0dXJuIHRoaXMuZ3JhcGhpYyYmdC5wdXNoKHRoaXMuZ3JhcGhpYyksdC5jb25jYXQodGhpcy52ZXJ0ZXhHcmFwaGljcy5pdGVtcyx0aGlzLm1pZHBvaW50R3JhcGhpY3MuaXRlbXMpLHQubGVuZ3RoPjAmJnQuaW5jbHVkZXMoZSl9cmVmcmVzaCgpe3RoaXMuX3Jlc2V0KCksdGhpcy5fc2V0dXAoKX1yZXNldCgpe3RoaXMuZ3JhcGhpYz1udWxsfWNsZWFyU2VsZWN0aW9uKCl7dGhpcy5fY2xlYXJTZWxlY3Rpb24oKX1yZW1vdmVTZWxlY3RlZFZlcnRpY2VzKCl7dGhpcy5zZWxlY3RlZFZlcnRpY2VzLmxlbmd0aCYmdGhpcy5fcmVtb3ZlVmVydGljZXModGhpcy5zZWxlY3RlZFZlcnRpY2VzKX1fc2V0dXAoKXtjb25zdHtncmFwaGljOmUsbGF5ZXI6dH09dGhpcztpZighdHx8bnVsbD09ZT8uZ2VvbWV0cnkpcmV0dXJuO2NvbnN0IGk9ZS5nZW9tZXRyeTtcIm1lc2hcIiE9PWkudHlwZSYmXCJleHRlbnRcIiE9PWkudHlwZT8oXCJwb2x5Z29uXCI9PT1pLnR5cGUmJnUoaSksdGhpcy5fc2V0VXBIaWdobGlnaHRzKCksdGhpcy5fc2V0dXBHcmFwaGljcygpLHRoaXMuX3NldHVwTW92ZXIoKSk6dGhpcy5fbG9nR2VvbWV0cnlUeXBlRXJyb3IoKX1fc2V0VXBIaWdobGlnaHRzKCl7dGhpcy5oaWdobGlnaHRzRW5hYmxlZCYmdGhpcy5ncmFwaGljJiZ0aGlzLl9oaWdobGlnaHRIZWxwZXI/LmFkZCh0aGlzLmdyYXBoaWMpfV9zZXRVcEdlb21ldHJ5SGVscGVyKCl7Y29uc3QgZT10aGlzLmdyYXBoaWMuZ2VvbWV0cnk7aWYobnVsbD09ZXx8XCJtZXNoXCI9PT1lLnR5cGV8fFwiZXh0ZW50XCI9PT1lLnR5cGUpcmV0dXJuIHZvaWQgdGhpcy5fbG9nR2VvbWV0cnlUeXBlRXJyb3IoKTtjb25zdCB0PVwibXVsdGlwb2ludFwiPT09ZS50eXBlP25ldyBEKHtwYXRoczplLnBvaW50cyxzcGF0aWFsUmVmZXJlbmNlOmUuc3BhdGlhbFJlZmVyZW5jZX0pOmU7dGhpcy5fZWRpdEdlb21ldHJ5T3BlcmF0aW9ucz1DLmZyb21HZW9tZXRyeSh0LFYuTG9jYWwpfV9zYXZlU25hcHBpbmdDb250ZXh0Rm9ySGFuZGxlKGUsdCl7dGhpcy5fc25hcHBpbmdHcmFwaGljc0xheWVyPW5ldyBHKHtsaXN0TW9kZTpcImhpZGVcIixpbnRlcm5hbDohMCx0aXRsZTpcIlJlc2hhcGUgc25hcHBpbmcgbGF5ZXJcIn0pLHRoaXMudmlldy5tYXAubGF5ZXJzLmFkZCh0aGlzLl9zbmFwcGluZ0dyYXBoaWNzTGF5ZXIpLHRoaXMuX3NuYXBwaW5nQ29udGV4dD1uZXcgUih7ZWRpdEdlb21ldHJ5T3BlcmF0aW9uczp0aGlzLl9lZGl0R2VvbWV0cnlPcGVyYXRpb25zLGVsZXZhdGlvbkluZm86e21vZGU6XCJvbi10aGUtZ3JvdW5kXCIsb2Zmc2V0OjB9LHBvaW50ZXI6dC52aWV3RXZlbnQ/LnBvaW50ZXJUeXBlfHxcIm1vdXNlXCIsZXhjbHVkZUZlYXR1cmU6dGhpcy5ncmFwaGljLGZlYXR1cmU6dGhpcy5ncmFwaGljLHZpc3VhbGl6ZXI6bmV3IE0odGhpcy5fc25hcHBpbmdHcmFwaGljc0xheWVyKSx2ZXJ0ZXhIYW5kbGU6dGhpcy5fZ2V0VmVydGV4RnJvbUVkaXRHZW9tZXRyeShlKX0pfV9yZXNldCgpe3RoaXMuX2NsZWFyU2VsZWN0aW9uKCksdGhpcy5faGlnaGxpZ2h0SGVscGVyPy5yZW1vdmVBbGwoKSx0aGlzLl91cGRhdGVUb29sdGlwKCksdGhpcy5fcmVzZXRHcmFwaGljcygpLHRoaXMuX3Jlc2V0U25hcHBpbmdTdGF0ZVZhcnMoKSx0aGlzLl9hY3RpdmVPcGVyYXRpb25JbmZvPW51bGwsdGhpcy5fbW92ZXImJnRoaXMuX21vdmVyLmRlc3Ryb3koKSx0aGlzLl9tb3Zlcj1udWxsLHRoaXMudmlldy5jdXJzb3I9XCJkZWZhdWx0XCJ9X3Jlc2V0U25hcHBpbmdTdGF0ZVZhcnMoKXtudWxsIT10aGlzLnNuYXBwaW5nTWFuYWdlciYmdGhpcy5zbmFwcGluZ01hbmFnZXIuZG9uZVNuYXBwaW5nKCksbnVsbCE9dGhpcy5fc25hcHBpbmdHcmFwaGljc0xheWVyJiYodGhpcy52aWV3Py5tYXAmJnRoaXMudmlldy5tYXAubGF5ZXJzLnJlbW92ZSh0aGlzLl9zbmFwcGluZ0dyYXBoaWNzTGF5ZXIpLHRoaXMuX3NuYXBwaW5nR3JhcGhpY3NMYXllci5kZXN0cm95KCkpLHRoaXMuX2VkaXRHZW9tZXRyeU9wZXJhdGlvbnM9YSh0aGlzLl9lZGl0R2VvbWV0cnlPcGVyYXRpb25zKSx0aGlzLl9zbmFwcGluZ1Rhc2s9aCh0aGlzLl9zbmFwcGluZ1Rhc2spLHRoaXMuX3NuYXBwaW5nVGFzaz1udWxsLHRoaXMuX3NuYXBwaW5nQ29udGV4dD1udWxsLHRoaXMuX3N0YWdlZFZlcnRleD1udWxsfV9yZXNldEdyYXBoaWNzKGUpe3RoaXMuX3JlbW92ZU1pZHBvaW50R3JhcGhpY3MoZSksdGhpcy5fcmVtb3ZlVmVydGV4R3JhcGhpY3MoZSksdGhpcy5fc2V0KFwic2VsZWN0ZWRWZXJ0aWNlc1wiLFtdKX1fcmVtb3ZlTWlkcG9pbnRHcmFwaGljcyhlKXtjb25zdCB0PWV8fHRoaXMubGF5ZXI7dCYmdC5yZW1vdmVNYW55KHRoaXMubWlkcG9pbnRHcmFwaGljcy5pdGVtcyksdGhpcy5taWRwb2ludEdyYXBoaWNzLml0ZW1zLmZvckVhY2goKGU9PmUuZGVzdHJveSgpKSksdGhpcy5taWRwb2ludEdyYXBoaWNzLnJlbW92ZUFsbCgpfV9yZW1vdmVWZXJ0ZXhHcmFwaGljcyhlKXtjb25zdCB0PWV8fHRoaXMubGF5ZXI7dCYmdC5yZW1vdmVNYW55KHRoaXMudmVydGV4R3JhcGhpY3MuaXRlbXMpLHRoaXMudmVydGV4R3JhcGhpY3MuaXRlbXMuZm9yRWFjaCgoZT0+ZS5kZXN0cm95KCkpKSx0aGlzLnZlcnRleEdyYXBoaWNzLnJlbW92ZUFsbCgpfV9nZXRDb29yZGluYXRlc0ZvclVJKGUpe2NvbnN0IHQ9ZihlLmNsb25lKCkpO2lmKFwicG9seWdvblwiPT09ZS50eXBlKWZvcihjb25zdCBpIG9mIHQpe2NvbnN0IGU9aVtpLmxlbmd0aC0xXTtpWzBdWzBdPT09ZVswXSYmaVswXVsxXT09PWVbMV0mJmkubGVuZ3RoPjImJmkucG9wKCl9cmV0dXJuIHR9X3NldHVwR3JhcGhpY3MoKXtjb25zdCBlPXRoaXMuZ3JhcGhpYy5nZW9tZXRyeTtpZihudWxsIT1lJiYoXCJwb2x5bGluZVwiPT09ZS50eXBlfHxcInBvbHlnb25cIj09PWUudHlwZSkpe2NvbnN0IHQ9dGhpcy5fZ2V0Q29vcmRpbmF0ZXNGb3JVSShlKTt0aGlzLmVuYWJsZU1pZHBvaW50cyYmdGhpcy5fc2V0VXBNaWRwb2ludEdyYXBoaWNzKHQpLHRoaXMuZW5hYmxlVmVydGljZXMmJnRoaXMuX3NldFVwVmVydGV4R3JhcGhpY3ModCl9fV9zZXRVcE1pZHBvaW50R3JhcGhpY3MoZSl7dGhpcy5fcmVtb3ZlTWlkcG9pbnRHcmFwaGljcygpO2NvbnN0IHQ9dGhpcy5fY3JlYXRlTWlkcG9pbnRHcmFwaGljcyhlKTt0aGlzLm1pZHBvaW50R3JhcGhpY3MuYWRkTWFueSh0KSx0aGlzLmxheWVyLmFkZE1hbnkodCl9X3NldFVwVmVydGV4R3JhcGhpY3MoZSl7dGhpcy5fcmVtb3ZlVmVydGV4R3JhcGhpY3MoKTtjb25zdCB0PXRoaXMuX2NyZWF0ZVZlcnRleEdyYXBoaWNzKGUpO3RoaXMudmVydGV4R3JhcGhpY3MuYWRkTWFueSh0KSx0aGlzLl9zdG9yZVJlbGF0ZWRWZXJ0ZXhJbmRpY2VzKCksdGhpcy5sYXllci5hZGRNYW55KHQpfV9jcmVhdGVWZXJ0ZXhHcmFwaGljcyhlKXtjb25zdHtfZ3JhcGhpY0F0dHJpYnV0ZXM6aSxzeW1ib2xzOnMsdmlldzp7c3BhdGlhbFJlZmVyZW5jZTpvfX09dGhpcyxyPVtdO3JldHVybiBlPy5mb3JFYWNoKCgoZSxuKT0+e2UuZm9yRWFjaCgoKGUsYSk9Pntjb25zdFtoLHAsY109ZTtyLnB1c2gobmV3IHQoe2dlb21ldHJ5Om5ldyBQKHt4OmgseTpwLHo6YyxzcGF0aWFsUmVmZXJlbmNlOm99KSxzeW1ib2w6cz8udmVydGljZXM/LmRlZmF1bHQsYXR0cmlidXRlczp7Li4uaSxwYXRoSW5kZXg6bixwb2ludEluZGV4OmF9fSkpfSkpfSkpLHJ9X2NyZWF0ZU1pZHBvaW50R3JhcGhpY3MoZSl7Y29uc3R7X2dyYXBoaWNBdHRyaWJ1dGVzOmksc3ltYm9sczpzLHZpZXc6e3NwYXRpYWxSZWZlcmVuY2U6b319PXRoaXMscj1bXTtyZXR1cm4gZT8uZm9yRWFjaCgoKGUsbik9PntlLmZvckVhY2goKChhLGgpPT57Y29uc3RbcCxjLGxdPWEsZD1lW2grMV0/aCsxOjA7aWYoXCJwb2x5Z29uXCI9PT10aGlzLmdyYXBoaWMuZ2VvbWV0cnk/LnR5cGV8fDAhPT1kKXtjb25zdFthLG0sdl09ZVtkXSxbeSxfLGddPXgoW3AsYyxsXSxbYSxtLHZdKTtyLnB1c2gobmV3IHQoe2dlb21ldHJ5Om5ldyBQKHt4OnkseTpfLHo6ZyxzcGF0aWFsUmVmZXJlbmNlOm99KSxzeW1ib2w6cy5taWRwb2ludHMuZGVmYXVsdCxhdHRyaWJ1dGVzOnsuLi5pLHBhdGhJbmRleDpuLHBvaW50SW5kZXhTdGFydDpoLHBvaW50SW5kZXhFbmQ6ZH19KSl9fSkpfSkpLHJ9X3VwZGF0ZVN5bWJvbHNGb3JUaGVtZSgpe2NvbnN0IGU9dGhpcy52aWV3LmVmZmVjdGl2ZVRoZW1lLmFjY2VudENvbG9yO3RoaXMuc3ltYm9scz17dmVydGljZXM6ey4uLnRoaXMuc3ltYm9scy52ZXJ0aWNlcyxkZWZhdWx0OnRoaXMuc3ltYm9scy52ZXJ0aWNlcy5kZWZhdWx0LmNsb25lKCkuc2V0KFwiY29sb3JcIixlKSxob3Zlcjp0aGlzLnN5bWJvbHMudmVydGljZXMuaG92ZXI/LmNsb25lKCkuc2V0KFwiY29sb3JcIixlKX0sbWlkcG9pbnRzOnsuLi50aGlzLnN5bWJvbHMubWlkcG9pbnRzfX07Zm9yKGNvbnN0IHQgb2YgdGhpcy52ZXJ0ZXhHcmFwaGljcyl0aGlzLl9pc1NlbGVjdGVkKHQpP3Quc3ltYm9sPXRoaXMuc3ltYm9scy52ZXJ0aWNlcy5zZWxlY3RlZDp0aGlzLl9ob3ZlckdyYXBoaWM9PT10P3Quc3ltYm9sPXRoaXMuc3ltYm9scy52ZXJ0aWNlcy5ob3Zlcjp0LnN5bWJvbD10aGlzLnN5bWJvbHMudmVydGljZXMuZGVmYXVsdH1fc3RvcmVSZWxhdGVkVmVydGV4SW5kaWNlcygpe2NvbnN0IGU9dGhpcy52ZXJ0ZXhHcmFwaGljcy5pdGVtcztpZighZSlyZXR1cm47Y29uc3QgdD1lLm1hcCgoKHtnZW9tZXRyeTplfSk9Pih7eDplLngseTplLnl9KSkpO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBzPVtdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtpZihpPT09ZSljb250aW51ZTtjb25zdCBvPXRbaV0scj10W2VdO28ueD09PXIueCYmby55PT09ci55JiZzLnB1c2goZSl9ZVtpXS5hdHRyaWJ1dGVzLnJlbGF0ZWRHcmFwaGljSW5kaWNlcz1zfX1fc2V0dXBNb3Zlcigpe2NvbnN0e2VuYWJsZU1vdmVtZW50OmUsZ3JhcGhpYzp0LG1pZHBvaW50R3JhcGhpY3M6aSx2ZXJ0ZXhHcmFwaGljczpzLHZpZXc6b309dGhpcyxyPXMuY29uY2F0KGkpLml0ZW1zO2UmJnIucHVzaCh0KSx0aGlzLl9tb3Zlcj1uZXcgUyh7ZW5hYmxlTW92ZUFsbEdyYXBoaWNzOiExLGhpZ2hsaWdodHNFbmFibGVkOiExLGluZGljYXRvcnNFbmFibGVkOiExLGdyYXBoaWNzOnIsdmlldzpvLGNhbGxiYWNrczp7b25HcmFwaGljQ2xpY2s6ZT0+dGhpcy5fb25HcmFwaGljQ2xpY2tDYWxsYmFjayhlKSxvbkdyYXBoaWNNb3ZlU3RhcnQ6ZT0+dGhpcy5fb25HcmFwaGljTW92ZVN0YXJ0Q2FsbGJhY2soZSksb25HcmFwaGljTW92ZTplPT50aGlzLl9vbkdyYXBoaWNNb3ZlQ2FsbGJhY2soZSksb25HcmFwaGljTW92ZVN0b3A6ZT0+dGhpcy5fb25HcmFwaGljTW92ZVN0b3BDYWxsYmFjayhlKSxvbkdyYXBoaWNQb2ludGVyT3ZlcjplPT50aGlzLl9vbkdyYXBoaWNQb2ludGVyT3ZlckNhbGxiYWNrKGUpLG9uR3JhcGhpY1BvaW50ZXJPdXQ6ZT0+dGhpcy5fb25HcmFwaGljUG9pbnRlck91dENhbGxiYWNrKGUpfX0pfV9vbkdyYXBoaWNDbGlja0NhbGxiYWNrKGUpe2Uudmlld0V2ZW50LnN0b3BQcm9wYWdhdGlvbigpO2NvbnN0IHQ9ZS5ncmFwaGljO2lmKHQ9PT10aGlzLmdyYXBoaWMpdGhpcy5jbGVhclNlbGVjdGlvbigpLHRoaXMuZW1pdChcImdyYXBoaWMtY2xpY2tcIixlKSx0aGlzLmNhbGxiYWNrcy5vbkdyYXBoaWNDbGljayYmdGhpcy5jYWxsYmFja3Mub25HcmFwaGljQ2xpY2soZSk7ZWxzZSBpZih0aGlzLl9pc01pZHBvaW50KHQpKXtpZigyPT09ZS52aWV3RXZlbnQuYnV0dG9uKXJldHVybjtjb25zdCBpPXRoaXMuZ3JhcGhpYy5jbG9uZSgpLHM9dGhpcy5fY3JlYXRlVmVydGV4RnJvbU1pZHBvaW50KHQpO3RoaXMucmVmcmVzaCgpLHRoaXMuX2VtaXRWZXJ0ZXhBZGRFdmVudChbdF0saSxzKX1lbHNlIGlmKHRoaXMuX2lzVmVydGV4KHQpKWlmKGUudmlld0V2ZW50LnN0b3BQcm9wYWdhdGlvbigpLDI9PT1lLnZpZXdFdmVudC5idXR0b24pdGhpcy5fcmVtb3ZlVmVydGljZXModCk7ZWxzZXtlLnZpZXdFdmVudC5uYXRpdmUuc2hpZnRLZXl8fHRoaXMuX2NsZWFyU2VsZWN0aW9uKCksdGhpcy5zZWxlY3RlZFZlcnRpY2VzLmluY2x1ZGVzKHQpP3RoaXMuX3JlbW92ZUZyb21TZWxlY3Rpb24odCwhMCk6dGhpcy5fYWRkVG9TZWxlY3Rpb24odCl9fV9zZXRVcE9wZXJhdGlvbihlKXtjb25zdHtncmFwaGljOnQsZHg6aSxkeTpzfT1lLG89dD09PXRoaXMuZ3JhcGhpYzt0aGlzLl9yZXNldFNuYXBwaW5nU3RhdGVWYXJzKCksdGhpcy5fc2V0VXBHZW9tZXRyeUhlbHBlcigpLHRoaXMuX3NhdmVTbmFwcGluZ0NvbnRleHRGb3JIYW5kbGUodCxlKSx0aGlzLl9hY3RpdmVPcGVyYXRpb25JbmZvPXt0YXJnZXQ6dGhpcy5ncmFwaGljLG1vdmVyOnQsb3BlcmF0aW9uVHlwZTpvP1wibW92ZVwiOlwicmVzaGFwZVwiLHRvdGFsRHg6aSx0b3RhbER5OnN9fV9vbkdyYXBoaWNNb3ZlU3RhcnRDYWxsYmFjayhlKXtjb25zdHtkeDp0LGR5OmksZ3JhcGhpYzpzfT1lO2lmKHM9PT10aGlzLmdyYXBoaWMpe2NvbnN0e2dlb21ldHJ5Om99PXM7cmV0dXJuIHRoaXMuX3NldFVwT3BlcmF0aW9uKGUpLHRoaXMuX2VtaXRNb3ZlU3RhcnRFdmVudCh0LGkpLHZvaWQobnVsbCE9byYmXCJwb2ludFwiPT09by50eXBlJiZ0aGlzLl9vbkhhbmRsZU1vdmUocyx0LGksZSwoKCk9Pnt0aGlzLl91cGRhdGVUb29sdGlwKHRoaXMuZ3JhcGhpYyxlLnZpZXdFdmVudCksdGhpcy5fZW1pdE1vdmVFdmVudCh0LGkpfSkpKX1pZighdGhpcy5zZWxlY3RlZFZlcnRpY2VzLmluY2x1ZGVzKHMpKXtpZih0aGlzLl9jbGVhclNlbGVjdGlvbigpLHRoaXMuX2lzTWlkcG9pbnQocykpe2NvbnN0IGU9dGhpcy5ncmFwaGljLmNsb25lKCksdD10aGlzLl9jcmVhdGVWZXJ0ZXhGcm9tTWlkcG9pbnQocyk7dGhpcy5fZW1pdFZlcnRleEFkZEV2ZW50KFtzXSxlLHQpfXRoaXMuX2FkZFRvU2VsZWN0aW9uKHMpfXRoaXMuX3NldFVwT3BlcmF0aW9uKGUpLHRoaXMuX2VtaXRSZXNoYXBlU3RhcnRFdmVudChzKSx0aGlzLl9vbkhhbmRsZU1vdmUocyx0LGksZSwoKCk9Pnt0aGlzLl91cGRhdGVUb29sdGlwKHMsZS52aWV3RXZlbnQpLHRoaXMuX2VtaXRSZXNoYXBlRXZlbnQocyl9KSl9X29uR3JhcGhpY01vdmVDYWxsYmFjayhlKXtjb25zdCB0PXRoaXMuX2FjdGl2ZU9wZXJhdGlvbkluZm87aWYoIXQpcmV0dXJuO2NvbnN0e2R4OmksZHk6cyxncmFwaGljOm99PWU7dC50b3RhbER4Kz1pLHQudG90YWxEeSs9cztjb25zdHtvcGVyYXRpb25UeXBlOnJ9PXQse2dlb21ldHJ5Om59PW87aWYobnVsbCE9bilpZihcIm1vdmVcIiE9PXIpdGhpcy5fb25IYW5kbGVNb3ZlKG8saSxzLGUsKCgpPT57dGhpcy5fdXBkYXRlVG9vbHRpcChvLGUudmlld0V2ZW50KSx0aGlzLl9lbWl0UmVzaGFwZUV2ZW50KG8pfSkpO2Vsc2UgaWYoXCJwb2ludFwiPT09bi50eXBlKXRoaXMuX29uSGFuZGxlTW92ZShvLGkscyxlLCgoKT0+e3RoaXMuX3VwZGF0ZVRvb2x0aXAodGhpcy5ncmFwaGljLGUudmlld0V2ZW50KSx0aGlzLl9lbWl0TW92ZUV2ZW50KGkscyl9KSk7ZWxzZSBpZihcInBvbHlsaW5lXCI9PT1uLnR5cGV8fFwicG9seWdvblwiPT09bi50eXBlKXtjb25zdCB0PXRoaXMuX2dldENvb3JkaW5hdGVzRm9yVUkobik7dGhpcy5fdXBkYXRlVmVydGV4R3JhcGhpY0xvY2F0aW9ucyh0KSx0aGlzLl91cGRhdGVUb29sdGlwKHRoaXMuZ3JhcGhpYyxlLnZpZXdFdmVudCksdGhpcy5fZW1pdE1vdmVFdmVudChpLHMpfX1fb25HcmFwaGljTW92ZVN0b3BDYWxsYmFjayhlKXtjb25zdCB0PXRoaXMuX2FjdGl2ZU9wZXJhdGlvbkluZm87aWYoIXQpcmV0dXJuO2NvbnN0e2R4OmksZHk6cyxncmFwaGljOm99PWUse29wZXJhdGlvblR5cGU6cn09dDt0LnRvdGFsRHgrPWksdC50b3RhbER5Kz1zLHRoaXMuX29uSGFuZGxlTW92ZShvLGkscyxlLCgoKT0+XCJtb3ZlXCI9PT1yP3RoaXMuX2VtaXRNb3ZlU3RvcEV2ZW50KCk6dGhpcy5fZW1pdFJlc2hhcGVTdG9wRXZlbnQobykpKSx0aGlzLl9pc01pZHBvaW50KG8pP3RoaXMucmVmcmVzaCgpOih0aGlzLl91cGRhdGVUb29sdGlwKHRoaXMuX2lzVmVydGV4KG8pP286bnVsbCksdGhpcy5fcmVzZXRTbmFwcGluZ1N0YXRlVmFycygpLHRoaXMuX2FjdGl2ZU9wZXJhdGlvbkluZm89bnVsbCl9X3VwZGF0ZVZlcnRleEdyYXBoaWNMb2NhdGlvbnMoZSl7Y29uc3QgdD10aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZTtmb3IoY29uc3QgaSBvZiB0aGlzLnZlcnRleEdyYXBoaWNzKXtjb25zdHtwYXRoSW5kZXg6cyxwb2ludEluZGV4Om99PWkuYXR0cmlidXRlcyxbcixuLGFdPWVbc11bb107aS5nZW9tZXRyeT1uZXcgUCh7eDpyLHk6bix6OmEsc3BhdGlhbFJlZmVyZW5jZTp0fSl9dGhpcy5fdXBkYXRlTWlkcG9pbnRHcmFwaGljTG9jYXRpb25zKGUpfV91cGRhdGVNaWRwb2ludEdyYXBoaWNMb2NhdGlvbnMoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5taWRwb2ludEdyYXBoaWNzKXtjb25zdHtwYXRoSW5kZXg6aSxwb2ludEluZGV4U3RhcnQ6cyxwb2ludEluZGV4RW5kOm99PXQuYXR0cmlidXRlcyxbcixuLGFdPWVbaV1bc10sW2gscCxjXT1lW2ldW29dLFtsLGQsbV09eChbcixuLGFdLFtoLHAsY10pO3QuZ2VvbWV0cnk9bmV3IFAoe3g6bCx5OmQsejptLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2V9KX19X2dldEluZGljZXNGb3JWZXJ0ZXhHcmFwaGljKHthdHRyaWJ1dGVzOmV9KXtyZXR1cm5bZT8ucGF0aEluZGV4fHwwLGU/LnBvaW50SW5kZXh8fDBdfV9nZXRWZXJ0ZXhGcm9tRWRpdEdlb21ldHJ5KGUpe2NvbnN0W3QsaV09dGhpcy5fZ2V0SW5kaWNlc0ZvclZlcnRleEdyYXBoaWMoZSk7cmV0dXJuIHRoaXMuX2VkaXRHZW9tZXRyeU9wZXJhdGlvbnMuZGF0YS5jb21wb25lbnRzW3RdLnZlcnRpY2VzW2ldfV9vbkhhbmRsZU1vdmUoZSx0LHMsbyxyKXtoKHRoaXMuX3NuYXBwaW5nVGFzayk7Y29uc3Qgbj10aGlzLl9zbmFwcGluZ0NvbnRleHQ7aWYoIW4pcmV0dXJuO2NvbnN0IGE9ZS5nZW9tZXRyeSxwPVwiZ3JhcGhpYy1tb3ZlLXN0b3BcIj09PW8udHlwZTtpZihudWxsIT10aGlzLnNuYXBwaW5nTWFuYWdlciYmdGhpcy5zZWxlY3RlZFZlcnRpY2VzLmxlbmd0aDwyJiYhcCl7Y29uc3Qgbz10aGlzLnNuYXBwaW5nTWFuYWdlcjt0aGlzLl9zdGFnZWRWZXJ0ZXg9by51cGRhdGUoe3BvaW50OmEsY29udGV4dDpufSksdGhpcy5fc3luY0dlb21ldHJ5QWZ0ZXJWZXJ0ZXhNb3ZlKGUsbmV3IFAodGhpcy5fc3RhZ2VkVmVydGV4KSx0LHMscCkscigpLHRoaXMuX3NuYXBwaW5nVGFzaz1pKChhc3luYyBpPT57Y29uc3QgaD1hd2FpdCBvLnNuYXAoe3BvaW50OmEsY29udGV4dDpuLHNpZ25hbDppfSk7aC52YWxpZCYmKHRoaXMuX3N0YWdlZFZlcnRleD1oLmFwcGx5KCksdGhpcy5fc3luY0dlb21ldHJ5QWZ0ZXJWZXJ0ZXhNb3ZlKGUsbmV3IFAodGhpcy5fc3RhZ2VkVmVydGV4KSx0LHMscCkscigpKX0pKX1lbHNle2NvbnN0IGk9bnVsbCE9dGhpcy5fc3RhZ2VkVmVydGV4P25ldyBQKHRoaXMuX3N0YWdlZFZlcnRleCk6YTt0aGlzLl9zeW5jR2VvbWV0cnlBZnRlclZlcnRleE1vdmUoZSxpLHQscyxwKSxyKCl9fWFzeW5jIF9zeW5jR2VvbWV0cnlBZnRlclZlcnRleE1vdmUoZSx0LGkscyxvPSExKXtjb25zdCByPXRoaXMuX2VkaXRHZW9tZXRyeU9wZXJhdGlvbnMuZGF0YS5nZW9tZXRyeTtpZihcInBvaW50XCI9PT1yLnR5cGUpZS5nZW9tZXRyeT10O2Vsc2UgaWYoXCJtZXNoXCI9PT1yLnR5cGUpZS5nZW9tZXRyeT1yLmNlbnRlckF0KHQpLGUubm90aWZ5R2VvbWV0cnlDaGFuZ2VkKCk7ZWxzZXtjb25zdHt4Om4seTphLHo6aH09dCxbcCxjXT10aGlzLl9nZXRJbmRpY2VzRm9yVmVydGV4R3JhcGhpYyhlKTtsZXQgbD1mKHIpO2NvbnN0IGQ9bFtwXS5sZW5ndGgtMSxtPW51bGwhPWg/W24sYSxoXTpbbixhXTtsW3BdW2NdPW0sXCJwb2x5Z29uXCI9PT1yLnR5cGUmJigwPT09Yz9sW3BdW2RdPW06Yz09PWQmJihsW3BdWzBdPW0pKSx0aGlzLl9pc1ZlcnRleChlKSYmKGw9dGhpcy5fbW92ZVJlbGF0ZWRDb29yZGluYXRlcyhsLGUsbSksbD10aGlzLl9tb3ZlU2VsZWN0ZWRIYW5kbGVDb29yZGluYXRlcyhsLGUsaSxzLFwicG9seWdvblwiPT09ci50eXBlKSx0aGlzLl91cGRhdGVNaWRwb2ludEdyYXBoaWNMb2NhdGlvbnMobCkpLHRoaXMuZ3JhcGhpYy5nZW9tZXRyeT1yLmNsb25lKCk7Y29uc3Qgdj10aGlzLl9nZXRWZXJ0ZXhGcm9tRWRpdEdlb21ldHJ5KGUpLHk9bi12LnBvc1swXSxfPWEtdi5wb3NbMV07dGhpcy5fZWRpdEdlb21ldHJ5T3BlcmF0aW9ucy5tb3ZlVmVydGljZXMoW3ZdLHksXywwKSxvJiYodGhpcy5fbW92ZXI/dGhpcy5fbW92ZXIudXBkYXRlR2VvbWV0cnkodGhpcy5fbW92ZXIuZ3JhcGhpY3MuaW5kZXhPZihlKSx0KTplLmdlb21ldHJ5PXQpfX1fbW92ZVJlbGF0ZWRDb29yZGluYXRlcyhlLHQsaSl7Y29uc3R7cmVsYXRlZEdyYXBoaWNJbmRpY2VzOnN9PXQuYXR0cmlidXRlcztmb3IoY29uc3QgbyBvZiBzKXtjb25zdCBzPXRoaXMudmVydGV4R3JhcGhpY3MuYXQobykse3BhdGhJbmRleDpyLHBvaW50SW5kZXg6bn09cy5hdHRyaWJ1dGVzO2Vbcl1bbl09aSxzLmdlb21ldHJ5PXQuZ2VvbWV0cnl9cmV0dXJuIGV9X21vdmVTZWxlY3RlZEhhbmRsZUNvb3JkaW5hdGVzKGUsdCxpLHMsbyl7Zm9yKGNvbnN0IHIgb2YgdGhpcy5zZWxlY3RlZFZlcnRpY2VzKWlmKHIhPT10KXtjb25zdHtwYXRoSW5kZXg6dCxwb2ludEluZGV4Om4scmVsYXRlZEdyYXBoaWNJbmRpY2VzOmF9PXIuYXR0cmlidXRlcyxoPXcoci5nZW9tZXRyeSxpLHMsdGhpcy52aWV3KSxwPWVbdF0ubGVuZ3RoLTE7ZVt0XVtuXT1baC54LGgueV0sci5nZW9tZXRyeT1oLG8mJigwPT09bj9lW3RdW3BdPVtoLngsaC55XTpuPT09cCYmKGVbdF1bMF09W2gueCxoLnldKSk7Zm9yKGNvbnN0IGkgb2YgYSl7Y29uc3QgdD10aGlzLnZlcnRleEdyYXBoaWNzLmF0KGkpLHtwYXRoSW5kZXg6cyxwb2ludEluZGV4Om99PXQuYXR0cmlidXRlcztlW3NdW29dPVtoLngsaC55XSx0Lmdlb21ldHJ5PWh9fXJldHVybiBlfV9vbkdyYXBoaWNQb2ludGVyT3ZlckNhbGxiYWNrKGUpe2NvbnN0IHQ9ZS5ncmFwaGljO3RoaXMuX2hvdmVyR3JhcGhpYz10O2NvbnN0IGk9dGhpcy5faXNWZXJ0ZXgodCk7aSYmIXRoaXMuX2lzU2VsZWN0ZWQodCkmJih0LnN5bWJvbD10aGlzLnN5bWJvbHMudmVydGljZXMuaG92ZXIpLHRoaXMuX3VwZGF0ZVRvb2x0aXAoaT90Om51bGwpLHRoaXMuX3VwZGF0ZUhvdmVyQ3Vyc29yKHQpfV9vbkdyYXBoaWNQb2ludGVyT3V0Q2FsbGJhY2soZSl7Y29uc3QgdD1lLmdyYXBoaWM7dGhpcy5faG92ZXJHcmFwaGljPW51bGwsdGhpcy5faXNWZXJ0ZXgodCkmJiF0aGlzLl9pc1NlbGVjdGVkKHQpJiYodC5zeW1ib2w9dGhpcy5zeW1ib2xzLnZlcnRpY2VzLmRlZmF1bHQpLHRoaXMudmlldy5jdXJzb3I9XCJkZWZhdWx0XCIsdGhpcy5fdXBkYXRlVG9vbHRpcCgpfV9jcmVhdGVWZXJ0ZXhGcm9tTWlkcG9pbnQoZSl7Y29uc3R7X2dyYXBoaWNBdHRyaWJ1dGVzOnQsZ3JhcGhpYzppfT10aGlzLHM9aS5nZW9tZXRyeTtpZihudWxsPT1zfHxcInBvbHlnb25cIiE9PXMudHlwZSYmXCJwb2x5bGluZVwiIT09cy50eXBlKXJldHVybltdO2NvbnN0IG89cy5jbG9uZSgpLHI9W10se3BhdGhJbmRleDpuLHBvaW50SW5kZXhTdGFydDphLHBvaW50SW5kZXhFbmQ6aH09ZS5hdHRyaWJ1dGVzLHt4OnAseTpjLHo6bH09ZS5nZW9tZXRyeSxkPTA9PT1oP2ErMTpoLG09ZihvKTtyZXR1cm4gbVtuXS5zcGxpY2UoZCwwLG51bGwhPWw/W3AsYyxsXTpbcCxjXSksZS5hdHRyaWJ1dGVzPXsuLi50LHBhdGhJbmRleDpuLHBvaW50SW5kZXg6ZCxyZWxhdGVkR3JhcGhpY0luZGljZXM6W119LHIucHVzaCh7Y29vcmRpbmF0ZXM6bVtuXVtkXSxjb21wb25lbnRJbmRleDpuLHZlcnRleEluZGV4OmR9KSx0aGlzLmdyYXBoaWMuZ2VvbWV0cnk9byxyfV9hZGRUb1NlbGVjdGlvbihlKXtlIGluc3RhbmNlb2YgdCYmKGU9W2VdKTtmb3IoY29uc3QgdCBvZiBlKXQuc3ltYm9sPXRoaXMuc3ltYm9scy52ZXJ0aWNlcy5zZWxlY3RlZDt0aGlzLl9zZXQoXCJzZWxlY3RlZFZlcnRpY2VzXCIsdGhpcy5zZWxlY3RlZFZlcnRpY2VzLmNvbmNhdChlKSksdGhpcy5fZW1pdFNlbGVjdEV2ZW50KGUpfV9yZW1vdmVGcm9tU2VsZWN0aW9uKGUsaSl7Y29uc3R7dmVydGljZXM6c309dGhpcy5zeW1ib2xzLG89aT9zLmhvdmVyOnMuZGVmYXVsdDtlIGluc3RhbmNlb2YgdCYmKGU9W2VdKTtmb3IoY29uc3QgdCBvZiBlKXRoaXMuc2VsZWN0ZWRWZXJ0aWNlcy5zcGxpY2UodGhpcy5zZWxlY3RlZFZlcnRpY2VzLmluZGV4T2YodCksMSksdGhpcy5fc2V0KFwic2VsZWN0ZWRWZXJ0aWNlc1wiLHRoaXMuc2VsZWN0ZWRWZXJ0aWNlcyksdC5zZXQoXCJzeW1ib2xcIixvKTt0aGlzLl9lbWl0RGVzZWxlY3RFdmVudChlKX1fY2xlYXJTZWxlY3Rpb24oKXtpZih0aGlzLnNlbGVjdGVkVmVydGljZXMubGVuZ3RoKXtjb25zdCBlPXRoaXMuc2VsZWN0ZWRWZXJ0aWNlcztmb3IoY29uc3QgdCBvZiB0aGlzLnNlbGVjdGVkVmVydGljZXMpdC5zZXQoXCJzeW1ib2xcIix0aGlzLnN5bWJvbHMudmVydGljZXMuZGVmYXVsdCk7dGhpcy5fc2V0KFwic2VsZWN0ZWRWZXJ0aWNlc1wiLFtdKSx0aGlzLl9lbWl0RGVzZWxlY3RFdmVudChlKX19X2tleURvd25IYW5kbGVyKGUpe08uZGVsZXRlLmluY2x1ZGVzKGUua2V5KSYmIWUucmVwZWF0JiZ0aGlzLnNlbGVjdGVkVmVydGljZXMubGVuZ3RoJiZ0aGlzLl9yZW1vdmVWZXJ0aWNlcyh0aGlzLnNlbGVjdGVkVmVydGljZXMpfV9yZW1vdmVWZXJ0aWNlcyhlKXtjb25zdCBpPXRoaXMuZ3JhcGhpYy5nZW9tZXRyeTtpZihudWxsPT1pfHxcInBvbHlnb25cIiE9PWkudHlwZSYmXCJwb2x5bGluZVwiIT09aS50eXBlKXJldHVybjtpZihcInBvbHlnb25cIj09PWkudHlwZSYmdGhpcy52ZXJ0ZXhHcmFwaGljcy5sZW5ndGg8NHx8dGhpcy52ZXJ0ZXhHcmFwaGljcy5sZW5ndGg8MylyZXR1cm47ZSBpbnN0YW5jZW9mIHQmJihlPVtlXSk7Y29uc3Qgcz10aGlzLmdyYXBoaWMuY2xvbmUoKSxvPWkuY2xvbmUoKTtsZXQgcj1mKG8pO2NvbnN0IG49W107ZSBpbnN0YW5jZW9mIHQmJihlPVtlXSk7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3R7eDplLHk6aX09dC5nZW9tZXRyeTtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyl7Y29uc3Qgcz1yW3RdO2ZvcihsZXQgbz0wO288cy5sZW5ndGg7bysrKXtjb25zdFthLGhdPXNbb107ZT09PWEmJmk9PT1oJiYobi5wdXNoKHtjb29yZGluYXRlczpyW3RdW29dLGNvbXBvbmVudEluZGV4OnQsdmVydGV4SW5kZXg6b30pLHJbdF0uc3BsaWNlKE51bWJlcihvKSwxKSl9fX1pZihcInBvbHlnb25cIj09PW8udHlwZSlyPXIuZmlsdGVyKChlPT57aWYoZS5sZW5ndGg8MilyZXR1cm4hMTtjb25zdFt0LGldPWVbMF0sW3Msb109ZVtlLmxlbmd0aC0xXTtyZXR1cm4oMiE9PWUubGVuZ3RofHx0IT09c3x8aSE9PW8pJiYodD09PXMmJmk9PT1vfHxlLnB1c2goZVswXSksITApfSkpLG8ucmluZ3M9cjtlbHNle2Zvcihjb25zdCBlIG9mIHIpMT09PWUubGVuZ3RoJiZyLnNwbGljZShyLmluZGV4T2YoZSksMSk7by5wYXRocz1yfXRoaXMuZ3JhcGhpYy5nZW9tZXRyeT1vLHRoaXMucmVmcmVzaCgpLHRoaXMuX2VtaXRWZXJ0ZXhSZW1vdmVFdmVudChlLHMsbil9X2lzVmVydGV4KGUpe3JldHVybiB0aGlzLnZlcnRleEdyYXBoaWNzLmluY2x1ZGVzKGUpfV9pc1NlbGVjdGVkKGUpe3JldHVybiB0aGlzLl9pc1ZlcnRleChlKSYmdGhpcy5zZWxlY3RlZFZlcnRpY2VzLmluY2x1ZGVzKGUpfV9pc01pZHBvaW50KGUpe3JldHVybiB0aGlzLm1pZHBvaW50R3JhcGhpY3MuaW5jbHVkZXMoZSl9X3VwZGF0ZUhvdmVyQ3Vyc29yKGUpe3RoaXMudmlldy5jdXJzb3I9dGhpcy5faXNNaWRwb2ludChlKT9cImNvcHlcIjpcIm1vdmVcIn1fdXBkYXRlVG9vbHRpcChlLHQpe251bGwhPXRoaXMuX3Rvb2x0aXAmJihlP2U9PT10aGlzLmdyYXBoaWM/dGhpcy5fdXBkYXRlTW92ZUdyYXBoaWNUb29sdGlwKHQpOnRoaXMuX3VwZGF0ZU1vdmVWZXJ0ZXhUb29sdGlwKHQpOnRoaXMuX3Rvb2x0aXAuY2xlYXIoKSl9X3VwZGF0ZU1vdmVHcmFwaGljVG9vbHRpcChlKXtjb25zdHtfdG9vbHRpcDp0LHRvb2x0aXBPcHRpb25zOmksdmlldzpzfT10aGlzO2lmKG51bGw9PXQpcmV0dXJuO2NvbnN0IG89dGhpcy5fdHJhbnNsYXRlR3JhcGhpY1Rvb2x0aXBJbmZvPz89bmV3IFUoe3Rvb2x0aXBPcHRpb25zOml9KTtpZihvLmNsZWFyKCksby50b29sdGlwT3B0aW9ucz1pLGUpe2NvbnN0e3g6dCx5Oml9PWUub3JpZ2luLHI9cy50b01hcChlKSxuPXMudG9NYXAoeSh0LGkpKSxhPUYobixyKTtvLmRpc3RhbmNlPW51bGwhPWE/YTpwfXQuaW5mbz1vfV91cGRhdGVNb3ZlVmVydGV4VG9vbHRpcChlKXtjb25zdHtfdG9vbHRpcDp0LGdyYXBoaWM6e2dlb21ldHJ5Oml9LHRvb2x0aXBPcHRpb25zOnMsdmlldzpvfT10aGlzO2lmKG51bGw9PXQpcmV0dXJuO2NvbnN0IHI9dGhpcy5fdHJhbnNsYXRlVmVydGV4VG9vbHRpcEluZm8/Pz1uZXcgQSh7dG9vbHRpcE9wdGlvbnM6c30pO2lmKHIuY2xlYXIoKSxyLnRvb2x0aXBPcHRpb25zPXMsXCJwb2x5Z29uXCI9PT1pPy50eXBlP3IuYXJlYT16KGkpOlwicG9seWxpbmVcIj09PWk/LnR5cGUmJihyLnRvdGFsTGVuZ3RoPUwoaSkpLGUpe2NvbnN0e3g6dCx5Oml9PWUub3JpZ2luLHM9by50b01hcChlKSxuPW8udG9NYXAoeSh0LGkpKSxhPUYobixzKTtyLmRpc3RhbmNlPW51bGwhPWE/YTpwfXQuaW5mbz1yfV9lbWl0TW92ZVN0YXJ0RXZlbnQoZSx0KXtjb25zdCBpPW5ldyBCKHRoaXMuZ3JhcGhpYyxlLHQpO3RoaXMuZW1pdChcIm1vdmUtc3RhcnRcIixpKSx0aGlzLmNhbGxiYWNrcy5vbk1vdmVTdGFydCYmdGhpcy5jYWxsYmFja3Mub25Nb3ZlU3RhcnQoaSl9X2VtaXRNb3ZlRXZlbnQoZSx0KXtjb25zdCBpPW5ldyBKKHRoaXMuZ3JhcGhpYyxlLHQpO3RoaXMuZW1pdChcIm1vdmVcIixpKSx0aGlzLmNhbGxiYWNrcy5vbk1vdmUmJnRoaXMuY2FsbGJhY2tzLm9uTW92ZShpKX1fZW1pdE1vdmVTdG9wRXZlbnQoKXtjb25zdCBlPXRoaXMuX2FjdGl2ZU9wZXJhdGlvbkluZm87aWYoIWUpcmV0dXJuO2NvbnN0e3RvdGFsRHg6dCx0b3RhbER5Oml9PWUscz1uZXcgUSh0aGlzLmdyYXBoaWMsdCxpKTt0aGlzLmVtaXQoXCJtb3ZlLXN0b3BcIixzKSx0aGlzLmNhbGxiYWNrcy5vbk1vdmVTdG9wJiZ0aGlzLmNhbGxiYWNrcy5vbk1vdmVTdG9wKHMpfV9lbWl0UmVzaGFwZVN0YXJ0RXZlbnQoZSl7Y29uc3QgdD1uZXcgcSh0aGlzLmdyYXBoaWMsZSx0aGlzLnNlbGVjdGVkVmVydGljZXMpO3RoaXMuZW1pdChcInJlc2hhcGUtc3RhcnRcIix0KSx0aGlzLmNhbGxiYWNrcy5vblJlc2hhcGVTdGFydCYmdGhpcy5jYWxsYmFja3Mub25SZXNoYXBlU3RhcnQodCl9X2VtaXRSZXNoYXBlRXZlbnQoZSl7Y29uc3QgdD1uZXcgSyh0aGlzLmdyYXBoaWMsZSx0aGlzLnNlbGVjdGVkVmVydGljZXMpO3RoaXMuZW1pdChcInJlc2hhcGVcIix0KSx0aGlzLmNhbGxiYWNrcy5vblJlc2hhcGUmJnRoaXMuY2FsbGJhY2tzLm9uUmVzaGFwZSh0KX1fZW1pdFJlc2hhcGVTdG9wRXZlbnQoZSl7Y29uc3QgdD1uZXcgTih0aGlzLmdyYXBoaWMsZSx0aGlzLnNlbGVjdGVkVmVydGljZXMpO3RoaXMuZW1pdChcInJlc2hhcGUtc3RvcFwiLHQpLHRoaXMuY2FsbGJhY2tzLm9uUmVzaGFwZVN0b3AmJnRoaXMuY2FsbGJhY2tzLm9uUmVzaGFwZVN0b3AodCl9X2VtaXRTZWxlY3RFdmVudChlKXtjb25zdCB0PW5ldyBXKGUpO3RoaXMuZW1pdChcInNlbGVjdFwiLHQpLHRoaXMuY2FsbGJhY2tzLm9uVmVydGV4U2VsZWN0JiZ0aGlzLmNhbGxiYWNrcy5vblZlcnRleFNlbGVjdCh0KX1fZW1pdERlc2VsZWN0RXZlbnQoZSl7Y29uc3QgdD1uZXcgWChlKTt0aGlzLmVtaXQoXCJkZXNlbGVjdFwiLHQpLHRoaXMuY2FsbGJhY2tzLm9uVmVydGV4RGVzZWxlY3QmJnRoaXMuY2FsbGJhY2tzLm9uVmVydGV4RGVzZWxlY3QodCl9X2VtaXRWZXJ0ZXhBZGRFdmVudChlLHQsaSl7Y29uc3Qgcz1uZXcgWShlLHRoaXMuZ3JhcGhpYyx0LGkpO3RoaXMuZW1pdChcInZlcnRleC1hZGRcIixzKSx0aGlzLmNhbGxiYWNrcy5vblZlcnRleEFkZCYmdGhpcy5jYWxsYmFja3Mub25WZXJ0ZXhBZGQocyl9X2VtaXRWZXJ0ZXhSZW1vdmVFdmVudChlLHQsaSl7Y29uc3Qgcz1uZXcgWihlLHRoaXMuZ3JhcGhpYyx0LGkpO3RoaXMuZW1pdChcInZlcnRleC1yZW1vdmVcIixzKSx0aGlzLmNhbGxiYWNrcy5vblZlcnRleFJlbW92ZSYmdGhpcy5jYWxsYmFja3Mub25WZXJ0ZXhSZW1vdmUocyl9X2xvZ0dlb21ldHJ5VHlwZUVycm9yKCl7bi5nZXRMb2dnZXIodGhpcykuZXJyb3IobmV3IG8oXCJyZXNoYXBlOmludmFsaWQtZ2VvbWV0cnlcIixcIlJlc2hhcGUgb3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIHRoZSBwcm92aWRlZCBncmFwaGljLiBUaGUgZ2VvbWV0cnkgdHlwZSBpcyBub3Qgc3VwcG9ydGVkLlwiKSl9fTtlKFtfKCldLHRlLnByb3RvdHlwZSxcIl90b29sdGlwXCIsdm9pZCAwKSxlKFtfKCldLHRlLnByb3RvdHlwZSxcIl90cmFuc2xhdGVHcmFwaGljVG9vbHRpcEluZm9cIix2b2lkIDApLGUoW18oKV0sdGUucHJvdG90eXBlLFwiX3RyYW5zbGF0ZVZlcnRleFRvb2x0aXBJbmZvXCIsdm9pZCAwKSxlKFtfKCldLHRlLnByb3RvdHlwZSxcImNhbGxiYWNrc1wiLHZvaWQgMCksZShbXygpXSx0ZS5wcm90b3R5cGUsXCJlbmFibGVNaWRwb2ludHNcIix2b2lkIDApLGUoW18oKV0sdGUucHJvdG90eXBlLFwiZW5hYmxlTW92ZW1lbnRcIix2b2lkIDApLGUoW18oKV0sdGUucHJvdG90eXBlLFwiZW5hYmxlVmVydGljZXNcIix2b2lkIDApLGUoW18oKV0sdGUucHJvdG90eXBlLFwiZ3JhcGhpY1wiLHZvaWQgMCksZShbXyh7dmFsdWU6ITB9KV0sdGUucHJvdG90eXBlLFwiaGlnaGxpZ2h0c0VuYWJsZWRcIixudWxsKSxlKFtfKCldLHRlLnByb3RvdHlwZSxcImxheWVyXCIsdm9pZCAwKSxlKFtfKHtyZWFkT25seTohMH0pXSx0ZS5wcm90b3R5cGUsXCJtaWRwb2ludEdyYXBoaWNzXCIsdm9pZCAwKSxlKFtfKCldLHRlLnByb3RvdHlwZSxcIm1pZHBvaW50U3ltYm9sXCIsdm9pZCAwKSxlKFtfKHtyZWFkT25seTohMH0pXSx0ZS5wcm90b3R5cGUsXCJzZWxlY3RlZFZlcnRpY2VzXCIsdm9pZCAwKSxlKFtfKCldLHRlLnByb3RvdHlwZSxcInNuYXBwaW5nTWFuYWdlclwiLHZvaWQgMCksZShbXyh7cmVhZE9ubHk6ITB9KV0sdGUucHJvdG90eXBlLFwic3RhdGVcIixudWxsKSxlKFtfKCldLHRlLnByb3RvdHlwZSxcInN5bWJvbHNcIix2b2lkIDApLGUoW18oe3R5cGU6an0pXSx0ZS5wcm90b3R5cGUsXCJ0b29sdGlwT3B0aW9uc1wiLHZvaWQgMCksZShbXyh7cmVhZE9ubHk6ITB9KV0sdGUucHJvdG90eXBlLFwidHlwZVwiLHZvaWQgMCksZShbXyh7cmVhZE9ubHk6ITB9KV0sdGUucHJvdG90eXBlLFwidmVydGV4R3JhcGhpY3NcIix2b2lkIDApLGUoW18oKV0sdGUucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksdGU9ZShbZyhcImVzcmkudmlld3MuZHJhdy5zdXBwb3J0LlJlc2hhcGVcIildLHRlKTtjb25zdCBpZT10ZTtleHBvcnR7aWUgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLnZlcnRleEhhbmRsZT1udWxsLHRoaXMuZXhjbHVkZUZlYXR1cmU9bnVsbCx0aGlzLnZpc3VhbGl6ZXI9bnVsbCx0aGlzLnNlbGZTbmFwcGluZ1o9bnVsbCx0aGlzLmVkaXRHZW9tZXRyeU9wZXJhdGlvbnM9ZS5lZGl0R2VvbWV0cnlPcGVyYXRpb25zLHRoaXMuZWxldmF0aW9uSW5mbz1lLmVsZXZhdGlvbkluZm8sdGhpcy5wb2ludGVyPWUucG9pbnRlcix0aGlzLnZlcnRleEhhbmRsZT1lLnZlcnRleEhhbmRsZSx0aGlzLmV4Y2x1ZGVGZWF0dXJlPWUuZXhjbHVkZUZlYXR1cmUsdGhpcy5mZWF0dXJlPWUuZmVhdHVyZSx0aGlzLnZpc3VhbGl6ZXI9ZS52aXN1YWxpemVyLHRoaXMuc2VsZlNuYXBwaW5nWj1lLnNlbGZTbmFwcGluZ1p9Z2V0IGNvb3JkaW5hdGVIZWxwZXIoKXtyZXR1cm4gdGhpcy5lZGl0R2VvbWV0cnlPcGVyYXRpb25zLmRhdGEuY29vcmRpbmF0ZUhlbHBlcn1nZXQgc3BhdGlhbFJlZmVyZW5jZSgpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVIZWxwZXIuc3BhdGlhbFJlZmVyZW5jZX19ZXhwb3J0e2UgYXMgU25hcHBpbmdDb250ZXh0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7aGFuZGxlc0dyb3VwIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9oYW5kbGVVdGlscy5qc1wiO2ltcG9ydHtJbnRlcnNlY3Rpb25TbmFwcGluZ0hpbnQgYXMgbn1mcm9tXCIuL2hpbnRzL0ludGVyc2VjdGlvblNuYXBwaW5nSGludC5qc1wiO2ltcG9ydHtMaW5lU25hcHBpbmdIaW50IGFzIHR9ZnJvbVwiLi9oaW50cy9MaW5lU25hcHBpbmdIaW50LmpzXCI7aW1wb3J0e1BhcmFsbGVsU25hcHBpbmdIaW50IGFzIHN9ZnJvbVwiLi9oaW50cy9QYXJhbGxlbFNuYXBwaW5nSGludC5qc1wiO2ltcG9ydHtQb2ludFNuYXBwaW5nSGludCBhcyBvfWZyb21cIi4vaGludHMvUG9pbnRTbmFwcGluZ0hpbnQuanNcIjtpbXBvcnR7UmlnaHRBbmdsZVNuYXBwaW5nSGludCBhcyBlfWZyb21cIi4vaGludHMvUmlnaHRBbmdsZVNuYXBwaW5nSGludC5qc1wiO2NsYXNzIHJ7ZHJhdyhyLGEpe2NvbnN0IHA9dGhpcy5fZ2V0VW5pcXVlSGludHMociksaD10aGlzLnNvcnRVbmlxdWVIaW50cyhwKSx1PVtdO2Zvcihjb25zdCBpIG9mIGgpaSBpbnN0YW5jZW9mIG4mJnUucHVzaCh0aGlzLnZpc3VhbGl6ZUludGVyc2VjdGlvblBvaW50KGksYSkpLGkgaW5zdGFuY2VvZiB0JiZ1LnB1c2godGhpcy52aXN1YWxpemVMaW5lKGksYSkpLGkgaW5zdGFuY2VvZiBzJiZ1LnB1c2godGhpcy52aXN1YWxpemVQYXJhbGxlbFNpZ24oaSxhKSksaSBpbnN0YW5jZW9mIGUmJnUucHVzaCh0aGlzLnZpc3VhbGl6ZVJpZ2h0QW5nbGVRdWFkKGksYSkpLGkgaW5zdGFuY2VvZiBvJiZ1LnB1c2godGhpcy52aXN1YWxpemVQb2ludChpLGEpKTtyZXR1cm4gaSh1KX1zb3J0VW5pcXVlSGludHMoaSl7cmV0dXJuIGl9X2dldFVuaXF1ZUhpbnRzKGkpe2NvbnN0IG49W107Zm9yKGNvbnN0IHQgb2YgaSl7bGV0IGk9ITA7Zm9yKGNvbnN0IHMgb2YgbilpZih0LmVxdWFscyhzKSl7aT0hMTticmVha31pJiZuLnB1c2godCl9cmV0dXJuIG59fWV4cG9ydHtyIGFzIFNuYXBwaW5nVmlzdWFsaXplcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2ggYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdmVjMy5qc1wiO2ltcG9ydHtTbmFwcGluZ0hpbnQgYXMgc31mcm9tXCIuL1NuYXBwaW5nSGludC5qc1wiO2NsYXNzIG4gZXh0ZW5kcyBze2NvbnN0cnVjdG9yKHQscyxuKXtzdXBlcihzLG4pLHRoaXMucG9pbnQ9dH1lcXVhbHMocyl7cmV0dXJuIHMgaW5zdGFuY2VvZiBuJiZ0KHRoaXMucG9pbnQscy5wb2ludCl9fWV4cG9ydHtuIGFzIFBvaW50U25hcHBpbmdIaW50fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7ZXVjbGlkZWFuSG9yaXpvbnRhbFBsYW5hckFyZWEgYXMgZSxldWNsaWRlYW5QbGFuYXJBcmVhIGFzIHIsY3JlYXRlRXVjbGlkZWFuUGxhbmFyQXJlYUNhY2hlIGFzIG59ZnJvbVwiLi9ldWNsaWRlYW5BcmVhTWVhc3VyZW1lbnRVdGlscy5qc1wiO2ltcG9ydHtnZW9kZXNpY0FyZWEgYXMgdH1mcm9tXCIuL2dlb2Rlc2ljQXJlYU1lYXN1cmVtZW50VXRpbHMuanNcIjtmdW5jdGlvbiBvKG8sdSxpPW4oKSl7aWYoXCJvbi10aGUtZ3JvdW5kXCI9PT11KXtjb25zdCByPXQobyk7cmV0dXJuIG51bGwhPXI/cjplKG8saSl9cmV0dXJuIHIobyxpKX1mdW5jdGlvbiB1KGUscj1uKCkpe3JldHVybiBvKGUsXCJvbi10aGUtZ3JvdW5kXCIscil9ZXhwb3J0e3UgYXMgYXV0b0FyZWEyRCxvIGFzIGF1dG9BcmVhQnlFbGV2YXRpb25Nb2RlfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y3JlYXRlQXJlYSBhcyB0fWZyb21cIi4uLy4uL2NvcmUvcXVhbnRpdHlVdGlscy5qc1wiO2ltcG9ydHthcmVhVW5pdEZyb21TcGF0aWFsUmVmZXJlbmNlIGFzIG99ZnJvbVwiLi4vLi4vY29yZS91bml0VXRpbHMuanNcIjtpbXBvcnR7ZSBhcyByfWZyb21cIi4uLy4uL2NodW5rcy9lYXJjdXQuanNcIjtpbXBvcnR7cyBhcyBuLHEgYXMgZSxtIGFzIHN9ZnJvbVwiLi4vLi4vY2h1bmtzL3ZlYzMuanNcIjtpbXBvcnR7YyBhcyBpfWZyb21cIi4uLy4uL2NodW5rcy92ZWMzZjY0LmpzXCI7aW1wb3J0e3Byb2plY3RWZWN0b3JUb1ZlY3RvciBhcyBjfWZyb21cIi4uLy4uL2dlb21ldHJ5L3Byb2plY3Rpb24vcHJvamVjdFZlY3RvclRvVmVjdG9yLmpzXCI7aW1wb3J0e2Zyb21Qb2ludHMgYXMgdSx3cmFwIGFzIGYsbm9ybWFsIGFzIGwscHJvamVjdFBvaW50TG9jYWwgYXMgbX1mcm9tXCIuLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3BsYW5lLmpzXCI7aW1wb3J0e2FyZWFQb2ludHMyZCBhcyBwfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvdHJpYW5nbGUuanNcIjtpbXBvcnR7Y29tcHV0ZUV1Y2xpZGVhbk1lYXN1cmVtZW50U1IgYXMgYX1mcm9tXCIuL21lYXN1cmVtZW50VXRpbHMuanNcIjtmdW5jdGlvbiBnKHQsbz1rKCkpe3JldHVybiBqKHQsbyl9ZnVuY3Rpb24gaCh0LG89aygpKXtyZXR1cm4gaih0LG8sITEpfWZ1bmN0aW9uIGoocixnLGg9ci5oYXNaKXtjb25zdCBqPWEoci5zcGF0aWFsUmVmZXJlbmNlKSxrPW8oaik7aWYobnVsbD09aylyZXR1cm4gbnVsbDtjb25zdCBxPSh0LG8pPT4hKG8ubGVuZ3RoPDIpJiYobih0LG9bMF0sb1sxXSxoJiZvWzJdfHwwKSwhMCk7bGV0IHY9MDtmb3IoY29uc3QgdCBvZiByLnJpbmdzKXtjb25zdCBvPXQubGVuZ3RoO2lmKG88Myljb250aW51ZTtjb25zdHtwb3NpdGlvbnNXb3JsZENvb3JkczphfT1nO2Zvcig7YS5sZW5ndGg8bzspYS5wdXNoKGkoKSk7Y29uc3QgaD15LGs9bihkLDAsMCwwKSxDPTEvbztmb3IobGV0IG49MDtuPG87bisrKXtpZighcShoLHRbbl0pKXJldHVybiBudWxsO2lmKCFjKGgsci5zcGF0aWFsUmVmZXJlbmNlLGFbbl0saikpcmV0dXJuIG51bGw7ZShrLGssYVtuXSxDKX1jb25zdCBSPXUoYVswXSxhWzFdLGssZigpKTtpZigwPT09cyhsKFIpKSljb250aW51ZTtmb3IobGV0IHQ9MDt0PG87dCsrKW0oUixrLGFbdF0sYVt0XSk7Y29uc3QgVj1VKGEpO2ZvcihsZXQgdD0wO3Q8Vi5sZW5ndGg7dCs9Myl2Kz1wKGFbVlt0XV0sYVtWW3QrMV1dLGFbVlt0KzJdXSl9cmV0dXJuIHQodixrKX1jb25zdCB5PWkoKSxkPWkoKTtmdW5jdGlvbiBrKCl7cmV0dXJue3Bvc2l0aW9uc1dvcmxkQ29vcmRzOltdfX1mdW5jdGlvbiBVKHQpe3JldHVybiByKHEodCksW10sMil9ZnVuY3Rpb24gcSh0KXtjb25zdCBvPW5ldyBGbG9hdDY0QXJyYXkoMip0Lmxlbmd0aCk7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDsrK3Ipe2NvbnN0IG49dFtyXSxlPTIqcjtvW2VdPW5bMF0sb1tlKzFdPW5bMV19cmV0dXJuIG99ZXhwb3J0e2ogYXMgY29tcHV0ZUV1Y2xpZGVhblBsYW5hckFyZWEsayBhcyBjcmVhdGVFdWNsaWRlYW5QbGFuYXJBcmVhQ2FjaGUsaCBhcyBldWNsaWRlYW5Ib3Jpem9udGFsUGxhbmFyQXJlYSxnIGFzIGV1Y2xpZGVhblBsYW5hckFyZWEsVSBhcyB0cmlhbmd1bGF0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydHtjcmVhdGVBcmVhIGFzIGV9ZnJvbVwiLi4vLi4vY29yZS9xdWFudGl0eVV0aWxzLmpzXCI7aW1wb3J0e2dlb2Rlc2ljQXJlYSBhcyByfWZyb21cIi4uLy4uL2dlb21ldHJ5L2dlb21ldHJ5RW5naW5lLmpzXCI7aW1wb3J0e3Byb2plY3RQb2x5Z29uVG9XR1M4NENvbXBhcmFibGVMb25MYXQgYXMgdH1mcm9tXCIuLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uL3Byb2plY3RQb2x5Z29uVG9XR1M4NENvbXBhcmFibGVMb25MYXQuanNcIjtpbXBvcnR7Z2VvZGVzaWNBcmVhcyBhcyBvfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvZ2VvZGVzaWNVdGlscy5qc1wiO2ltcG9ydHtnZW9kZXNpY01lYXN1cmUgYXMgc31mcm9tXCIuL2dlb2Rlc2ljTWVhc3VyZW1lbnRVdGlscy5qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uL2dlb21ldHJ5L1NwYXRpYWxSZWZlcmVuY2UuanNcIjtmdW5jdGlvbiBtKGUpe2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6cn09ZTtyZXR1cm4gcyhyLGEsaSx1LGUpfWZ1bmN0aW9uIGEocil7cmV0dXJuIGUoTWF0aC5hYnMobyhbcl0sXCJzcXVhcmUtbWV0ZXJzXCIpWzBdKSxcInNxdWFyZS1tZXRlcnNcIil9ZnVuY3Rpb24gaSh0KXt0cnl7cmV0dXJuIGUoTWF0aC5hYnMocih0LFwic3F1YXJlLW1ldGVyc1wiKSksXCJzcXVhcmUtbWV0ZXJzXCIpfWNhdGNoKG8pe3JldHVybiBudWxsfX1mdW5jdGlvbiB1KHIpe2NvbnN0IHM9W107cmV0dXJuIHQocixzKT9lKE1hdGguYWJzKG8oW3t0eXBlOlwicG9seWdvblwiLHJpbmdzOnMsc3BhdGlhbFJlZmVyZW5jZTpuLldHUzg0fV0sXCJzcXVhcmUtbWV0ZXJzXCIpWzBdKSxcInNxdWFyZS1tZXRlcnNcIik6bnVsbH1leHBvcnR7bSBhcyBnZW9kZXNpY0FyZWF9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9