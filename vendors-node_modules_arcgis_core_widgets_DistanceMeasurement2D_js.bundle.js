"use strict";
(self["webpackChunksynview"] = self["webpackChunksynview"] || []).push([["vendors-node_modules_arcgis_core_widgets_DistanceMeasurement2D_js"],{

/***/ "./node_modules/@arcgis/core/widgets/DistanceMeasurement2D.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/DistanceMeasurement2D.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _Widget_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Widget.js */ "./node_modules/@arcgis/core/widgets/Widget.js");
/* harmony import */ var _DistanceMeasurement2D_DistanceMeasurement2DViewModel_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./DistanceMeasurement2D/DistanceMeasurement2DViewModel.js */ "./node_modules/@arcgis/core/widgets/DistanceMeasurement2D/DistanceMeasurement2DViewModel.js");
/* harmony import */ var _support_globalCss_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./support/globalCss.js */ "./node_modules/@arcgis/core/widgets/support/globalCss.js");
/* harmony import */ var _support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./support/legacyIcon.js */ "./node_modules/@arcgis/core/widgets/support/legacyIcon.js");
/* harmony import */ var _support_MeasurementWidgetContent_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./support/MeasurementWidgetContent.js */ "./node_modules/@arcgis/core/widgets/support/MeasurementWidgetContent.js");
/* harmony import */ var _support_widgetUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./support/widgetUtils.js */ "./node_modules/@arcgis/core/widgets/support/widgetUtils.js");
/* harmony import */ var _support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./support/decorators/messageBundle.js */ "./node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js");
/* harmony import */ var _support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./support/jsxFactory.js */ "./node_modules/@arcgis/core/widgets/support/jsxFactory.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const m="esri-distance-measurement-2d",c={base:m,newMeasurementButton:`${m}__clear-button`,widgetIcon:_support_legacyIcon_js__WEBPACK_IMPORTED_MODULE_10__.legacyIcon.measureLine};let d=class extends _Widget_js__WEBPACK_IMPORTED_MODULE_7__["default"]{constructor(e,t){super(e,t),this.iconClass=c.widgetIcon,this.icon=null,this.messages=null,this.messagesCommon=null,this.viewModel=new _DistanceMeasurement2D_DistanceMeasurement2DViewModel_js__WEBPACK_IMPORTED_MODULE_8__["default"]}get active(){return this.viewModel.active}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get unit(){return this.viewModel.unit}set unit(e){this.viewModel.unit=e}get unitOptions(){return this.viewModel.unitOptions}set unitOptions(e){this.viewModel.unitOptions=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}render(){const{messages:e,messagesCommon:s,unit:i,unitOptions:o,viewModel:r}=this,{active:a,measurementLabel:p,state:m,supported:d}=r;return (0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_14__.tsx)("div",{"aria-label":this.messages.widgetLabel,class:this.classes(c.base,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_9__.globalCss.widget,_support_globalCss_js__WEBPACK_IMPORTED_MODULE_9__.globalCss.panel),key:this,role:"presentation"},this.visible?(0,_support_jsxFactory_js__WEBPACK_IMPORTED_MODULE_14__.tsx)(_support_MeasurementWidgetContent_js__WEBPACK_IMPORTED_MODULE_11__.MeasurementWidgetContent,{active:a,measurementItems:[{key:"distance",title:e.distance,value:p}],messages:{...e,notApplicable:s.notApplicable},newMeasurementButtonClass:c.newMeasurementButton,state:m,supported:d,unit:i,unitOptions:o,onNewMeasurementClick:()=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.ignoreAbortErrors)(this.viewModel.start())},onUnitChange:e=>{this.unit=e}}):null)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({readOnly:!0})],d.prototype,"active",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],d.prototype,"iconClass",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],d.prototype,"icon",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],d.prototype,"label",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],d.prototype,"uiStrings",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_13__.messageBundle)("esri/widgets/DistanceMeasurement2D/t9n/DistanceMeasurement2D")],d.prototype,"messages",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)(),(0,_support_decorators_messageBundle_js__WEBPACK_IMPORTED_MODULE_13__.messageBundle)("esri/t9n/common")],d.prototype,"messagesCommon",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],d.prototype,"unit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],d.prototype,"unitOptions",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)()],d.prototype,"view",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_DistanceMeasurement2D_DistanceMeasurement2DViewModel_js__WEBPACK_IMPORTED_MODULE_8__["default"]})],d.prototype,"viewModel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Boolean})],d.prototype,"visible",null),d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.widgets.DistanceMeasurement2D")],d);const v=d;


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/DistanceMeasurement2D/DistanceMeasurement2DTool.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/DistanceMeasurement2D/DistanceMeasurement2DTool.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DistanceMeasurement2DTool: () => (/* binding */ W),
/* harmony export */   createDistanceMeasurementInfo2D: () => (/* binding */ B),
/* harmony export */   createDistanceMeasurementLabel: () => (/* binding */ V),
/* harmony export */   isProjectionEngineRequired: () => (/* binding */ H),
/* harmony export */   isSupported: () => (/* binding */ F)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _intl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../intl.js */ "./node_modules/@arcgis/core/intl.js");
/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../symbols.js */ "./node_modules/@arcgis/core/symbols.js");
/* harmony import */ var _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/colorUtils.js */ "./node_modules/@arcgis/core/core/colorUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/unitFormatUtils.js */ "./node_modules/@arcgis/core/core/unitFormatUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_geometryEngine_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../geometry/geometryEngine.js */ "./node_modules/@arcgis/core/geometry/geometryEngine.js");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../geometry/support/geodesicUtils.js */ "./node_modules/@arcgis/core/geometry/support/geodesicUtils.js");
/* harmony import */ var _layers_GraphicsLayer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../layers/GraphicsLayer.js */ "./node_modules/@arcgis/core/layers/GraphicsLayer.js");
/* harmony import */ var _views_ViewingMode_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../views/ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _views_draw_Draw_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../views/draw/Draw.js */ "./node_modules/@arcgis/core/views/draw/Draw.js");
/* harmony import */ var _views_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../views/interactive/dragEventPipeline.js */ "./node_modules/@arcgis/core/views/interactive/dragEventPipeline.js");
/* harmony import */ var _views_interactive_GraphicManipulator_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../views/interactive/GraphicManipulator.js */ "./node_modules/@arcgis/core/views/interactive/GraphicManipulator.js");
/* harmony import */ var _views_interactive_InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../views/interactive/InteractiveToolBase.js */ "./node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js");
/* harmony import */ var _intl_messages_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../intl/messages.js */ "./node_modules/@arcgis/core/intl/messages.js");
/* harmony import */ var _intl_locale_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../intl/locale.js */ "./node_modules/@arcgis/core/intl/locale.js");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../geometry/Point.js */ "./node_modules/@arcgis/core/geometry/Point.js");
/* harmony import */ var _symbols_CIMSymbol_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../symbols/CIMSymbol.js */ "./node_modules/@arcgis/core/symbols/CIMSymbol.js");
/* harmony import */ var _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../symbols/TextSymbol.js */ "./node_modules/@arcgis/core/symbols/TextSymbol.js");
/* harmony import */ var _symbols_Font_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../symbols/Font.js */ "./node_modules/@arcgis/core/symbols/Font.js");
/* harmony import */ var _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../symbols/SimpleMarkerSymbol.js */ "./node_modules/@arcgis/core/symbols/SimpleMarkerSymbol.js");
/* harmony import */ var _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../geometry/Polyline.js */ "./node_modules/@arcgis/core/geometry/Polyline.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const z=1e5;let W=class extends _views_interactive_InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_23__.InteractiveToolBase{constructor(e){super(e),this._drawActive=!1,this._measurementLayer=new _layers_GraphicsLayer_js__WEBPACK_IMPORTED_MODULE_18__["default"]({internal:!0,listMode:"hide",visible:!1}),this._manipulatorLayer=new _layers_GraphicsLayer_js__WEBPACK_IMPORTED_MODULE_18__["default"]({internal:!0,listMode:"hide",visible:!1}),this._vertices=[],this.geodesicDistanceThreshold=1e5,this.measurement=null,this.measurementLabel=null}initialize(){(0,_intl_messages_js__WEBPACK_IMPORTED_MODULE_24__.fetchMessageBundle)("esri/core/t9n/Units").then((e=>{this.messages=e})),this.addHandles((0,_intl_locale_js__WEBPACK_IMPORTED_MODULE_25__.onLocaleChange)((async()=>{this.messages=await (0,_intl_messages_js__WEBPACK_IMPORTED_MODULE_24__.fetchMessageBundle)("esri/core/t9n/Units")})));const e=this.view;this._draw=new _views_draw_Draw_js__WEBPACK_IMPORTED_MODULE_20__["default"]({view:e}),e.map.addMany([this._measurementLayer,this._manipulatorLayer]),e.focus(),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>[this.unit,this.geodesicDistanceThreshold,this.messages]),(()=>{this._updatePolylines()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__.watch)((()=>[this.view.effectiveTheme.accentColor,this.view.effectiveTheme.textColor]),(()=>{if(!this._vertices.length)return;const e=this._vertices.map((({coord:e})=>e));for(const{handle:t}of this._vertices)t.remove();this._vertices=[],this._measurementLayer.removeAll(),this._manipulatorLayer.removeAll(),this.manipulators.removeAll(),this._updateSketch(e)}))])}destroy(){const{map:e}=this.view;this._draw.view=null,this._draw=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._draw),e.removeMany([this._measurementLayer,this._manipulatorLayer]),this._measurementLayer.removeAll(),this._manipulatorLayer.removeAll(),this._set("measurement",null),this._set("measurementLabel",null),this._measurementLayer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._measurementLayer),this._manipulatorLayer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__.destroyMaybe)(this._manipulatorLayer),this._resetVertices()}get cursor(){return this._drawActive?"crosshair":null}set editable(e){this._set("editable",e),e||this._draw.reset()}onActivate(){this._drawActive||0!==this._vertices.length||this._startSketch()}onShow(){this._measurementLayer.visible=!0,this._manipulatorLayer.visible=!0}onHide(){this._measurementLayer.visible=!1,this._manipulatorLayer.visible=!1}_resetVertices(){for(const{handle:e}of this._vertices)e.remove();this._vertices=[]}_startSketch(){this._drawActive=!0;const e=this._draw.create("polyline",{mode:"click"});e.on(["vertex-add","vertex-update","vertex-remove","cursor-update","undo","redo"],(e=>this._updateSketch(e.vertices))),e.on("draw-complete",(()=>{this._stopSketch()}))}_stopSketch(){this.manipulators.forEach((({manipulator:e})=>{e.interactive=!0})),this._drawActive=!1,this.finishToolCreation()}_updateSketch(e){const{spatialReference:t}=this.view;for(;this._vertices.length>e.length;){const{handle:e,manipulator:t}=this._vertices.pop();e.remove(),this.manipulators.remove(t)}for(let n=this._vertices.length;n<e.length;n++){const[r,s]=e[n],i=O(new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_26__["default"]({x:r,y:s,spatialReference:t}),this.view,this._manipulatorLayer);this.manipulators.add(i);const o=(0,_views_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_21__.createManipulatorDragEventPipeline)(i,((e,t)=>{t.next((0,_views_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_21__.screenToMap)(this.view)).next((0,_views_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_21__.dragGraphic)(e.graphic,_views_ViewingMode_js__WEBPACK_IMPORTED_MODULE_19__.ViewingMode.Local)).next((()=>{const t=e.graphic.geometry;this._vertices[n].coord=[t.x,t.y],this._updatePolylines()}))}));this._vertices.push({manipulator:i,coord:[r,s],handle:o})}const r=this._vertices.length-1,s=this._vertices[r],[i,o]=e[r];s.coord[0]===i&&s.coord[1]===o||(s.coord=[i,o],s.manipulator.graphic.geometry=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_26__["default"]({x:i,y:o,spatialReference:t}));const a=this._drawActive?this._vertices[r].manipulator:null;this.manipulators.forEach((({manipulator:e})=>{e.interactive=null==a||e!==a})),this._updatePolylines()}_updatePolylines(){if(this._vertices.length<2)return void this._measurementLayer.removeAll();const e=this._vertices.map((({coord:e})=>e)),{measurement:o,drawing:a,original:n}=B(e,this.view.spatialReference,this.geodesicDistanceThreshold);this._set("measurement",o);const l=V(this.messages,o,this.unit);let m,c;this._set("measurementLabel",l);const{graphics:h}=this._measurementLayer,p=2===h.length,{effectiveTheme:u}=this.view;p?(m=h.at(0),c=h.at(1)):(m=new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({symbol:new _symbols_CIMSymbol_js__WEBPACK_IMPORTED_MODULE_27__["default"]({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[14,12],lineDashEnding:"FullGap",controlPointEnding:"NoConstraint"}],enable:!0,capStyle:"Butt",joinStyle:"Round",width:3.5,color:(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_5__.getContrast)(u.accentColor).toArray()},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",width:5,color:u.accentColor.toArray()}]}}})}),c=new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({symbol:new _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_28__["default"]({color:u.textColor,haloColor:(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_5__.multiplyOpacity)((0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_5__.getContrast)(u.textColor,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_5__.BrightnessThreshold.Low),.5),haloSize:2,font:new _symbols_Font_js__WEBPACK_IMPORTED_MODULE_29__["default"]({size:14,family:"sans-serif"})})}),h.removeAll(),h.addMany([m,c])),m.geometry=a,c.geometry=n.extent?.center,c.symbol.text=l}};function O(e,r,i){const o=(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_5__.multiplyOpacity)(r.effectiveTheme.accentColor,.5),a={type:"simple-line",width:0},n=8,l=new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_30__["default"]({style:"circle",color:o,size:n,outline:a}),m=new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_30__["default"]({style:"circle",color:o,size:1.5*n,outline:a}),c=new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__["default"]({geometry:e,symbol:l});return new _views_interactive_GraphicManipulator_js__WEBPACK_IMPORTED_MODULE_22__.GraphicManipulator({view:r,layer:i,graphic:c,focusedSymbol:m})}function B(e,t,r){const s=new _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_31__["default"]({paths:[e],spatialReference:t});let i,o;if(t.isGeographic)if((0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_17__.isSupported)(t))i=(0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_17__.geodesicLengths)([s],"meters")[0],o=(0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_17__.geodesicDensify)(s,z);else{const e=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_16__.project)(s,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_32__["default"].WGS84),r=(0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_17__.geodesicDensify)(e,z);i=(0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_17__.geodesicLengths)([e],"meters")[0],o=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_16__.project)(r,t)}else if(t.isWebMercator)i=(0,_geometry_geometryEngine_js__WEBPACK_IMPORTED_MODULE_15__.geodesicLength)(s,"meters"),o=(0,_geometry_geometryEngine_js__WEBPACK_IMPORTED_MODULE_15__.geodesicDensify)(s,z,"meters");else{const e=(0,_geometry_geometryEngine_js__WEBPACK_IMPORTED_MODULE_15__.planarLength)(s,"meters");if(e>=r){const e=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_16__.project)(s,_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_32__["default"].WGS84),r=(0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_17__.geodesicDensify)(e,z);i=(0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_17__.geodesicLengths)([e],"meters")[0],o=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_16__.project)(r,t)}else i=e,o=s}return{measurement:{geometry:o,length:i},original:s,drawing:o}}function F(e){return null!=e}function H(e){if(!e)return!1;const{isGeographic:t,isWebMercator:r,isWGS84:s}=e;return t&&!s&&!(0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_17__.isSupported)(e)||!t&&!r}function V(e,t,r){if(!t||!e)return"";switch(r){case"metric":return (0,_core_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_8__.formatMetricLength)(e,t.length,"meters");case"imperial":return (0,_core_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_8__.formatImperialLength)(e,t.length,"meters");default:return (0,_core_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_8__.formatDecimal)(e,(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_9__.convertUnit)(t.length,"meters",r),r)}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],W.prototype,"_drawActive",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],W.prototype,"cursor",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({value:!0})],W.prototype,"editable",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({type:Number})],W.prototype,"geodesicDistanceThreshold",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],W.prototype,"measurement",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({readOnly:!0})],W.prototype,"measurementLabel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],W.prototype,"messages",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],W.prototype,"unit",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],W.prototype,"view",void 0),W=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__.subclass)("esri.widgets.DistanceMeasurement2D.DistanceMeasurement2DTool")],W);


/***/ }),

/***/ "./node_modules/@arcgis/core/widgets/DistanceMeasurement2D/DistanceMeasurement2DViewModel.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/DistanceMeasurement2D/DistanceMeasurement2DViewModel.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _properties_defaultUnit_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../properties/defaultUnit.js */ "./node_modules/@arcgis/core/properties/defaultUnit.js");
/* harmony import */ var _DistanceMeasurement2DTool_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DistanceMeasurement2DTool.js */ "./node_modules/@arcgis/core/widgets/DistanceMeasurement2D/DistanceMeasurement2DTool.js");
/* harmony import */ var _support_InteractiveToolViewModel_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../support/InteractiveToolViewModel.js */ "./node_modules/@arcgis/core/widgets/support/InteractiveToolViewModel.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let h=class extends _support_InteractiveToolViewModel_js__WEBPACK_IMPORTED_MODULE_11__.InteractiveToolViewModel{constructor(e){super(e),this.supportedViewType="2d",this.unsupportedErrorMessage="DistanceMeasurement2DViewModel is only supported in 2D views.",this.geodesicDistanceThreshold=1e5}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.watch)((()=>this.view?.spatialReference),(()=>this.clear())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.watch)((()=>this.unit),(e=>{null!=this.tool&&(this.tool.unit=e)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.initial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.watch)((()=>this.geodesicDistanceThreshold),(e=>{null!=this.tool&&(this.tool.geodesicDistanceThreshold=e)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.initial)])}get measurement(){return null!=this.tool?this.tool.measurement:null}get measurementLabel(){return null!=this.tool?this.tool.measurementLabel:null}get state(){return this.disabled||null==this.view||!(0,_DistanceMeasurement2DTool_js__WEBPACK_IMPORTED_MODULE_10__.isSupported)(this.view?.spatialReference)?"disabled":null!=this.tool&&this.measurement?this.tool.active?"measuring":"measured":"ready"}get unit(){return this._validateUnit(this.defaultUnit)}set unit(e){this._overrideIfSome("unit",this._validateUnit(e))}get unitOptions(){return _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__.measurementLengthUnits}set unitOptions(e){this._overrideIfSome("unitOptions",this._validateUnits(e))}async start(){const e=this.view;null!=e&&(await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__.whenOnce)((()=>e.ready)),(0,_DistanceMeasurement2DTool_js__WEBPACK_IMPORTED_MODULE_10__.isProjectionEngineRequired)(e.spatialReference)&&await (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_8__.load)()),this.createTool({interactive:!0})}clear(){this.removeTool()}constructTool(){return new _DistanceMeasurement2DTool_js__WEBPACK_IMPORTED_MODULE_10__.DistanceMeasurement2DTool({view:this.view,visible:this.visible,geodesicDistanceThreshold:this.geodesicDistanceThreshold,unit:this.unit})}_validateUnit(e){const{unitOptions:t,defaultUnit:i}=this;return null!=e&&t.includes(e)?e:t.includes(i)?i:t.length>0?t[0]:i}_validateUnits(e){if(null==e)return[];const t=e.filter((e=>_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__.measurementLengthUnits.includes(e)));return 0===t.length?_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__.measurementLengthUnits.slice():t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)(_properties_defaultUnit_js__WEBPACK_IMPORTED_MODULE_9__.defaultUnitPropertyMetadata)],h.prototype,"defaultUnit",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:Number})],h.prototype,"geodesicDistanceThreshold",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],h.prototype,"measurement",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],h.prototype,"measurementLabel",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({readOnly:!0})],h.prototype,"state",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:String})],h.prototype,"unit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:[String]})],h.prototype,"unitOptions",null),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.widgets.DistanceMeasurement2D.DistanceMeasurement2DViewModel")],h);const m=h;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX2NvcmVfd2lkZ2V0c19EaXN0YW5jZU1lYXN1cmVtZW50MkRfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNneEIsMENBQTBDLCtCQUErQixFQUFFLDJCQUEyQiwrREFBQyxjQUFjLG9CQUFvQixrREFBQyxDQUFDLGlCQUFpQixxSEFBcUgsZ0dBQUMsQ0FBQyxhQUFhLDZCQUE2QixZQUFZLHNDQUFzQyxhQUFhLGdDQUFnQyxXQUFXLDJCQUEyQixZQUFZLHNCQUFzQixrQkFBa0Isa0NBQWtDLG1CQUFtQiw2QkFBNkIsV0FBVywyQkFBMkIsWUFBWSxzQkFBc0IsY0FBYyw4QkFBOEIsZUFBZSx5QkFBeUIsU0FBUyxNQUFNLDZEQUE2RCxPQUFPLGdEQUFnRCxHQUFHLE9BQU8sNERBQUMsUUFBUSxpRUFBaUUsNERBQUMsUUFBUSw0REFBQyxxQ0FBcUMsY0FBYyw0REFBQyxDQUFDLDJGQUFDLEVBQUUsNEJBQTRCLHdDQUF3QyxZQUFZLG1DQUFtQyxzSEFBc0gsd0VBQUMseUJBQXlCLGtCQUFrQixhQUFhLFVBQVUsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksOEJBQThCLHVEQUFDLEVBQUUsc0ZBQUMsb0NBQW9DLHVEQUFDLEVBQUUsc0ZBQUMsK0JBQStCLHVEQUFDLEVBQUUsc0ZBQUMsOEJBQThCLHVEQUFDLEVBQUUsc0ZBQUMsb0NBQW9DLHVEQUFDLEVBQUUsc0ZBQUMsR0FBRyxvRkFBQyxpR0FBaUcsdURBQUMsRUFBRSxzRkFBQyxHQUFHLG9GQUFDLDBEQUEwRCx1REFBQyxFQUFFLHNGQUFDLDZCQUE2Qix1REFBQyxFQUFFLHNGQUFDLG9DQUFvQyx1REFBQyxFQUFFLHNGQUFDLDZCQUE2Qix1REFBQyxFQUFFLHNGQUFDLEVBQUUsS0FBSyxnR0FBQyxDQUFDLG1DQUFtQyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsYUFBYSxpQ0FB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REFBbUQsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksbUNBQW1DLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxZQUFZLHdDQUF3Qyx1REFBQyxFQUFFLHNGQUFDLEVBQUUsWUFBWSw2QkFBNkIsdURBQUMsRUFBRSxzRkFBQyxFQUFFLFlBQVksNEJBQTRCLHVEQUFDLEVBQUUsc0ZBQUMsRUFBRSxjQUFjLHFDQUFxQyx1REFBQyxFQUFFLHNGQUFDLDBFQUEwRSxVQUErQiIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvRGlzdGFuY2VNZWFzdXJlbWVudDJELmpzIiwid2VicGFjazovL3N5bnZpZXcvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3dpZGdldHMvRGlzdGFuY2VNZWFzdXJlbWVudDJEL0Rpc3RhbmNlTWVhc3VyZW1lbnQyRFRvb2wuanMiLCJ3ZWJwYWNrOi8vc3ludmlldy8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvd2lkZ2V0cy9EaXN0YW5jZU1lYXN1cmVtZW50MkQvRGlzdGFuY2VNZWFzdXJlbWVudDJEVmlld01vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI4L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnR7aWdub3JlQWJvcnRFcnJvcnMgYXMgdH1mcm9tXCIuLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyBzfWZyb21cIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgaX1mcm9tXCIuLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0IG8gZnJvbVwiLi9XaWRnZXQuanNcIjtpbXBvcnQgciBmcm9tXCIuL0Rpc3RhbmNlTWVhc3VyZW1lbnQyRC9EaXN0YW5jZU1lYXN1cmVtZW50MkRWaWV3TW9kZWwuanNcIjtpbXBvcnR7Z2xvYmFsQ3NzIGFzIG59ZnJvbVwiLi9zdXBwb3J0L2dsb2JhbENzcy5qc1wiO2ltcG9ydHtsZWdhY3lJY29uIGFzIGF9ZnJvbVwiLi9zdXBwb3J0L2xlZ2FjeUljb24uanNcIjtpbXBvcnR7TWVhc3VyZW1lbnRXaWRnZXRDb250ZW50IGFzIGx9ZnJvbVwiLi9zdXBwb3J0L01lYXN1cmVtZW50V2lkZ2V0Q29udGVudC5qc1wiO2ltcG9ydFwiLi9zdXBwb3J0L3dpZGdldFV0aWxzLmpzXCI7aW1wb3J0e21lc3NhZ2VCdW5kbGUgYXMgcH1mcm9tXCIuL3N1cHBvcnQvZGVjb3JhdG9ycy9tZXNzYWdlQnVuZGxlLmpzXCI7aW1wb3J0e3RzeCBhcyB1fWZyb21cIi4vc3VwcG9ydC9qc3hGYWN0b3J5LmpzXCI7Y29uc3QgbT1cImVzcmktZGlzdGFuY2UtbWVhc3VyZW1lbnQtMmRcIixjPXtiYXNlOm0sbmV3TWVhc3VyZW1lbnRCdXR0b246YCR7bX1fX2NsZWFyLWJ1dHRvbmAsd2lkZ2V0SWNvbjphLm1lYXN1cmVMaW5lfTtsZXQgZD1jbGFzcyBleHRlbmRzIG97Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuaWNvbkNsYXNzPWMud2lkZ2V0SWNvbix0aGlzLmljb249bnVsbCx0aGlzLm1lc3NhZ2VzPW51bGwsdGhpcy5tZXNzYWdlc0NvbW1vbj1udWxsLHRoaXMudmlld01vZGVsPW5ldyByfWdldCBhY3RpdmUoKXtyZXR1cm4gdGhpcy52aWV3TW9kZWwuYWN0aXZlfWdldCBsYWJlbCgpe3JldHVybiB0aGlzLm1lc3NhZ2VzPy53aWRnZXRMYWJlbD8/XCJcIn1zZXQgbGFiZWwoZSl7dGhpcy5fb3ZlcnJpZGVJZlNvbWUoXCJsYWJlbFwiLGUpfWdldCB1bml0KCl7cmV0dXJuIHRoaXMudmlld01vZGVsLnVuaXR9c2V0IHVuaXQoZSl7dGhpcy52aWV3TW9kZWwudW5pdD1lfWdldCB1bml0T3B0aW9ucygpe3JldHVybiB0aGlzLnZpZXdNb2RlbC51bml0T3B0aW9uc31zZXQgdW5pdE9wdGlvbnMoZSl7dGhpcy52aWV3TW9kZWwudW5pdE9wdGlvbnM9ZX1nZXQgdmlldygpe3JldHVybiB0aGlzLnZpZXdNb2RlbC52aWV3fXNldCB2aWV3KGUpe3RoaXMudmlld01vZGVsLnZpZXc9ZX1nZXQgdmlzaWJsZSgpe3JldHVybiB0aGlzLnZpZXdNb2RlbC52aXNpYmxlfXNldCB2aXNpYmxlKGUpe3RoaXMudmlld01vZGVsLnZpc2libGU9ZX1yZW5kZXIoKXtjb25zdHttZXNzYWdlczplLG1lc3NhZ2VzQ29tbW9uOnMsdW5pdDppLHVuaXRPcHRpb25zOm8sdmlld01vZGVsOnJ9PXRoaXMse2FjdGl2ZTphLG1lYXN1cmVtZW50TGFiZWw6cCxzdGF0ZTptLHN1cHBvcnRlZDpkfT1yO3JldHVybiB1KFwiZGl2XCIse1wiYXJpYS1sYWJlbFwiOnRoaXMubWVzc2FnZXMud2lkZ2V0TGFiZWwsY2xhc3M6dGhpcy5jbGFzc2VzKGMuYmFzZSxuLndpZGdldCxuLnBhbmVsKSxrZXk6dGhpcyxyb2xlOlwicHJlc2VudGF0aW9uXCJ9LHRoaXMudmlzaWJsZT91KGwse2FjdGl2ZTphLG1lYXN1cmVtZW50SXRlbXM6W3trZXk6XCJkaXN0YW5jZVwiLHRpdGxlOmUuZGlzdGFuY2UsdmFsdWU6cH1dLG1lc3NhZ2VzOnsuLi5lLG5vdEFwcGxpY2FibGU6cy5ub3RBcHBsaWNhYmxlfSxuZXdNZWFzdXJlbWVudEJ1dHRvbkNsYXNzOmMubmV3TWVhc3VyZW1lbnRCdXR0b24sc3RhdGU6bSxzdXBwb3J0ZWQ6ZCx1bml0OmksdW5pdE9wdGlvbnM6byxvbk5ld01lYXN1cmVtZW50Q2xpY2s6KCk9Pnt0KHRoaXMudmlld01vZGVsLnN0YXJ0KCkpfSxvblVuaXRDaGFuZ2U6ZT0+e3RoaXMudW5pdD1lfX0pOm51bGwpfX07ZShbcyh7cmVhZE9ubHk6ITB9KV0sZC5wcm90b3R5cGUsXCJhY3RpdmVcIixudWxsKSxlKFtzKCldLGQucHJvdG90eXBlLFwiaWNvbkNsYXNzXCIsdm9pZCAwKSxlKFtzKCldLGQucHJvdG90eXBlLFwiaWNvblwiLHZvaWQgMCksZShbcygpXSxkLnByb3RvdHlwZSxcImxhYmVsXCIsbnVsbCksZShbcygpXSxkLnByb3RvdHlwZSxcInVpU3RyaW5nc1wiLHZvaWQgMCksZShbcygpLHAoXCJlc3JpL3dpZGdldHMvRGlzdGFuY2VNZWFzdXJlbWVudDJEL3Q5bi9EaXN0YW5jZU1lYXN1cmVtZW50MkRcIildLGQucHJvdG90eXBlLFwibWVzc2FnZXNcIix2b2lkIDApLGUoW3MoKSxwKFwiZXNyaS90OW4vY29tbW9uXCIpXSxkLnByb3RvdHlwZSxcIm1lc3NhZ2VzQ29tbW9uXCIsdm9pZCAwKSxlKFtzKCldLGQucHJvdG90eXBlLFwidW5pdFwiLG51bGwpLGUoW3MoKV0sZC5wcm90b3R5cGUsXCJ1bml0T3B0aW9uc1wiLG51bGwpLGUoW3MoKV0sZC5wcm90b3R5cGUsXCJ2aWV3XCIsbnVsbCksZShbcyh7dHlwZTpyfSldLGQucHJvdG90eXBlLFwidmlld01vZGVsXCIsdm9pZCAwKSxlKFtzKHt0eXBlOkJvb2xlYW59KV0sZC5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsbnVsbCksZD1lKFtpKFwiZXNyaS53aWRnZXRzLkRpc3RhbmNlTWVhc3VyZW1lbnQyRFwiKV0sZCk7Y29uc3Qgdj1kO2V4cG9ydHt2IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtfIGFzIGV9ZnJvbVwiLi4vLi4vY2h1bmtzL3RzbGliLmVzNi5qc1wiO2ltcG9ydFwiLi4vLi4vZ2VvbWV0cnkuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi9HcmFwaGljLmpzXCI7aW1wb3J0XCIuLi8uLi9pbnRsLmpzXCI7aW1wb3J0XCIuLi8uLi9zeW1ib2xzLmpzXCI7aW1wb3J0e2dldENvbnRyYXN0IGFzIHIsbXVsdGlwbHlPcGFjaXR5IGFzIHMsQnJpZ2h0bmVzc1RocmVzaG9sZCBhcyBpfWZyb21cIi4uLy4uL2NvcmUvY29sb3JVdGlscy5qc1wiO2ltcG9ydHtkZXN0cm95TWF5YmUgYXMgb31mcm9tXCIuLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGEsaW5pdGlhbCBhcyBufWZyb21cIi4uLy4uL2NvcmUvcmVhY3RpdmVVdGlscy5qc1wiO2ltcG9ydHtmb3JtYXREZWNpbWFsIGFzIGwsZm9ybWF0SW1wZXJpYWxMZW5ndGggYXMgbSxmb3JtYXRNZXRyaWNMZW5ndGggYXMgY31mcm9tXCIuLi8uLi9jb3JlL3VuaXRGb3JtYXRVdGlscy5qc1wiO2ltcG9ydHtjb252ZXJ0VW5pdCBhcyBofWZyb21cIi4uLy4uL2NvcmUvdW5pdFV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHB9ZnJvbVwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9hcnJheVV0aWxzLmpzXCI7aW1wb3J0XCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyB1fWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnR7Z2VvZGVzaWNMZW5ndGggYXMgZCxnZW9kZXNpY0RlbnNpZnkgYXMgeSxwbGFuYXJMZW5ndGggYXMgdn1mcm9tXCIuLi8uLi9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZS5qc1wiO2ltcG9ydHtwcm9qZWN0IGFzIGZ9ZnJvbVwiLi4vLi4vZ2VvbWV0cnkvcHJvamVjdGlvbi5qc1wiO2ltcG9ydHtpc1N1cHBvcnRlZCBhcyBfLGdlb2Rlc2ljTGVuZ3RocyBhcyB3LGdlb2Rlc2ljRGVuc2lmeSBhcyBnfWZyb21cIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvZ2VvZGVzaWNVdGlscy5qc1wiO2ltcG9ydCBiIGZyb21cIi4uLy4uL2xheWVycy9HcmFwaGljc0xheWVyLmpzXCI7aW1wb3J0e1ZpZXdpbmdNb2RlIGFzIGp9ZnJvbVwiLi4vLi4vdmlld3MvVmlld2luZ01vZGUuanNcIjtpbXBvcnQgUyBmcm9tXCIuLi8uLi92aWV3cy9kcmF3L0RyYXcuanNcIjtpbXBvcnR7Y3JlYXRlTWFuaXB1bGF0b3JEcmFnRXZlbnRQaXBlbGluZSBhcyBMLHNjcmVlblRvTWFwIGFzIE0sZHJhZ0dyYXBoaWMgYXMgeH1mcm9tXCIuLi8uLi92aWV3cy9pbnRlcmFjdGl2ZS9kcmFnRXZlbnRQaXBlbGluZS5qc1wiO2ltcG9ydHtHcmFwaGljTWFuaXB1bGF0b3IgYXMgQX1mcm9tXCIuLi8uLi92aWV3cy9pbnRlcmFjdGl2ZS9HcmFwaGljTWFuaXB1bGF0b3IuanNcIjtpbXBvcnR7SW50ZXJhY3RpdmVUb29sQmFzZSBhcyBDfWZyb21cIi4uLy4uL3ZpZXdzL2ludGVyYWN0aXZlL0ludGVyYWN0aXZlVG9vbEJhc2UuanNcIjtpbXBvcnR7ZmV0Y2hNZXNzYWdlQnVuZGxlIGFzIFR9ZnJvbVwiLi4vLi4vaW50bC9tZXNzYWdlcy5qc1wiO2ltcG9ydHtvbkxvY2FsZUNoYW5nZSBhcyBrfWZyb21cIi4uLy4uL2ludGwvbG9jYWxlLmpzXCI7aW1wb3J0IEQgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvUG9pbnQuanNcIjtpbXBvcnQgRyBmcm9tXCIuLi8uLi9zeW1ib2xzL0NJTVN5bWJvbC5qc1wiO2ltcG9ydCBSIGZyb21cIi4uLy4uL3N5bWJvbHMvVGV4dFN5bWJvbC5qc1wiO2ltcG9ydCBQIGZyb21cIi4uLy4uL3N5bWJvbHMvRm9udC5qc1wiO2ltcG9ydCBVIGZyb21cIi4uLy4uL3N5bWJvbHMvU2ltcGxlTWFya2VyU3ltYm9sLmpzXCI7aW1wb3J0IEUgZnJvbVwiLi4vLi4vZ2VvbWV0cnkvUG9seWxpbmUuanNcIjtpbXBvcnQgSSBmcm9tXCIuLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7Y29uc3Qgej0xZTU7bGV0IFc9Y2xhc3MgZXh0ZW5kcyBDe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX2RyYXdBY3RpdmU9ITEsdGhpcy5fbWVhc3VyZW1lbnRMYXllcj1uZXcgYih7aW50ZXJuYWw6ITAsbGlzdE1vZGU6XCJoaWRlXCIsdmlzaWJsZTohMX0pLHRoaXMuX21hbmlwdWxhdG9yTGF5ZXI9bmV3IGIoe2ludGVybmFsOiEwLGxpc3RNb2RlOlwiaGlkZVwiLHZpc2libGU6ITF9KSx0aGlzLl92ZXJ0aWNlcz1bXSx0aGlzLmdlb2Rlc2ljRGlzdGFuY2VUaHJlc2hvbGQ9MWU1LHRoaXMubWVhc3VyZW1lbnQ9bnVsbCx0aGlzLm1lYXN1cmVtZW50TGFiZWw9bnVsbH1pbml0aWFsaXplKCl7VChcImVzcmkvY29yZS90OW4vVW5pdHNcIikudGhlbigoZT0+e3RoaXMubWVzc2FnZXM9ZX0pKSx0aGlzLmFkZEhhbmRsZXMoaygoYXN5bmMoKT0+e3RoaXMubWVzc2FnZXM9YXdhaXQgVChcImVzcmkvY29yZS90OW4vVW5pdHNcIil9KSkpO2NvbnN0IGU9dGhpcy52aWV3O3RoaXMuX2RyYXc9bmV3IFMoe3ZpZXc6ZX0pLGUubWFwLmFkZE1hbnkoW3RoaXMuX21lYXN1cmVtZW50TGF5ZXIsdGhpcy5fbWFuaXB1bGF0b3JMYXllcl0pLGUuZm9jdXMoKSx0aGlzLmFkZEhhbmRsZXMoW2EoKCgpPT5bdGhpcy51bml0LHRoaXMuZ2VvZGVzaWNEaXN0YW5jZVRocmVzaG9sZCx0aGlzLm1lc3NhZ2VzXSksKCgpPT57dGhpcy5fdXBkYXRlUG9seWxpbmVzKCl9KSxuKSxhKCgoKT0+W3RoaXMudmlldy5lZmZlY3RpdmVUaGVtZS5hY2NlbnRDb2xvcix0aGlzLnZpZXcuZWZmZWN0aXZlVGhlbWUudGV4dENvbG9yXSksKCgpPT57aWYoIXRoaXMuX3ZlcnRpY2VzLmxlbmd0aClyZXR1cm47Y29uc3QgZT10aGlzLl92ZXJ0aWNlcy5tYXAoKCh7Y29vcmQ6ZX0pPT5lKSk7Zm9yKGNvbnN0e2hhbmRsZTp0fW9mIHRoaXMuX3ZlcnRpY2VzKXQucmVtb3ZlKCk7dGhpcy5fdmVydGljZXM9W10sdGhpcy5fbWVhc3VyZW1lbnRMYXllci5yZW1vdmVBbGwoKSx0aGlzLl9tYW5pcHVsYXRvckxheWVyLnJlbW92ZUFsbCgpLHRoaXMubWFuaXB1bGF0b3JzLnJlbW92ZUFsbCgpLHRoaXMuX3VwZGF0ZVNrZXRjaChlKX0pKV0pfWRlc3Ryb3koKXtjb25zdHttYXA6ZX09dGhpcy52aWV3O3RoaXMuX2RyYXcudmlldz1udWxsLHRoaXMuX2RyYXc9byh0aGlzLl9kcmF3KSxlLnJlbW92ZU1hbnkoW3RoaXMuX21lYXN1cmVtZW50TGF5ZXIsdGhpcy5fbWFuaXB1bGF0b3JMYXllcl0pLHRoaXMuX21lYXN1cmVtZW50TGF5ZXIucmVtb3ZlQWxsKCksdGhpcy5fbWFuaXB1bGF0b3JMYXllci5yZW1vdmVBbGwoKSx0aGlzLl9zZXQoXCJtZWFzdXJlbWVudFwiLG51bGwpLHRoaXMuX3NldChcIm1lYXN1cmVtZW50TGFiZWxcIixudWxsKSx0aGlzLl9tZWFzdXJlbWVudExheWVyPW8odGhpcy5fbWVhc3VyZW1lbnRMYXllciksdGhpcy5fbWFuaXB1bGF0b3JMYXllcj1vKHRoaXMuX21hbmlwdWxhdG9yTGF5ZXIpLHRoaXMuX3Jlc2V0VmVydGljZXMoKX1nZXQgY3Vyc29yKCl7cmV0dXJuIHRoaXMuX2RyYXdBY3RpdmU/XCJjcm9zc2hhaXJcIjpudWxsfXNldCBlZGl0YWJsZShlKXt0aGlzLl9zZXQoXCJlZGl0YWJsZVwiLGUpLGV8fHRoaXMuX2RyYXcucmVzZXQoKX1vbkFjdGl2YXRlKCl7dGhpcy5fZHJhd0FjdGl2ZXx8MCE9PXRoaXMuX3ZlcnRpY2VzLmxlbmd0aHx8dGhpcy5fc3RhcnRTa2V0Y2goKX1vblNob3coKXt0aGlzLl9tZWFzdXJlbWVudExheWVyLnZpc2libGU9ITAsdGhpcy5fbWFuaXB1bGF0b3JMYXllci52aXNpYmxlPSEwfW9uSGlkZSgpe3RoaXMuX21lYXN1cmVtZW50TGF5ZXIudmlzaWJsZT0hMSx0aGlzLl9tYW5pcHVsYXRvckxheWVyLnZpc2libGU9ITF9X3Jlc2V0VmVydGljZXMoKXtmb3IoY29uc3R7aGFuZGxlOmV9b2YgdGhpcy5fdmVydGljZXMpZS5yZW1vdmUoKTt0aGlzLl92ZXJ0aWNlcz1bXX1fc3RhcnRTa2V0Y2goKXt0aGlzLl9kcmF3QWN0aXZlPSEwO2NvbnN0IGU9dGhpcy5fZHJhdy5jcmVhdGUoXCJwb2x5bGluZVwiLHttb2RlOlwiY2xpY2tcIn0pO2Uub24oW1widmVydGV4LWFkZFwiLFwidmVydGV4LXVwZGF0ZVwiLFwidmVydGV4LXJlbW92ZVwiLFwiY3Vyc29yLXVwZGF0ZVwiLFwidW5kb1wiLFwicmVkb1wiXSwoZT0+dGhpcy5fdXBkYXRlU2tldGNoKGUudmVydGljZXMpKSksZS5vbihcImRyYXctY29tcGxldGVcIiwoKCk9Pnt0aGlzLl9zdG9wU2tldGNoKCl9KSl9X3N0b3BTa2V0Y2goKXt0aGlzLm1hbmlwdWxhdG9ycy5mb3JFYWNoKCgoe21hbmlwdWxhdG9yOmV9KT0+e2UuaW50ZXJhY3RpdmU9ITB9KSksdGhpcy5fZHJhd0FjdGl2ZT0hMSx0aGlzLmZpbmlzaFRvb2xDcmVhdGlvbigpfV91cGRhdGVTa2V0Y2goZSl7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTp0fT10aGlzLnZpZXc7Zm9yKDt0aGlzLl92ZXJ0aWNlcy5sZW5ndGg+ZS5sZW5ndGg7KXtjb25zdHtoYW5kbGU6ZSxtYW5pcHVsYXRvcjp0fT10aGlzLl92ZXJ0aWNlcy5wb3AoKTtlLnJlbW92ZSgpLHRoaXMubWFuaXB1bGF0b3JzLnJlbW92ZSh0KX1mb3IobGV0IG49dGhpcy5fdmVydGljZXMubGVuZ3RoO248ZS5sZW5ndGg7bisrKXtjb25zdFtyLHNdPWVbbl0saT1PKG5ldyBEKHt4OnIseTpzLHNwYXRpYWxSZWZlcmVuY2U6dH0pLHRoaXMudmlldyx0aGlzLl9tYW5pcHVsYXRvckxheWVyKTt0aGlzLm1hbmlwdWxhdG9ycy5hZGQoaSk7Y29uc3Qgbz1MKGksKChlLHQpPT57dC5uZXh0KE0odGhpcy52aWV3KSkubmV4dCh4KGUuZ3JhcGhpYyxqLkxvY2FsKSkubmV4dCgoKCk9Pntjb25zdCB0PWUuZ3JhcGhpYy5nZW9tZXRyeTt0aGlzLl92ZXJ0aWNlc1tuXS5jb29yZD1bdC54LHQueV0sdGhpcy5fdXBkYXRlUG9seWxpbmVzKCl9KSl9KSk7dGhpcy5fdmVydGljZXMucHVzaCh7bWFuaXB1bGF0b3I6aSxjb29yZDpbcixzXSxoYW5kbGU6b30pfWNvbnN0IHI9dGhpcy5fdmVydGljZXMubGVuZ3RoLTEscz10aGlzLl92ZXJ0aWNlc1tyXSxbaSxvXT1lW3JdO3MuY29vcmRbMF09PT1pJiZzLmNvb3JkWzFdPT09b3x8KHMuY29vcmQ9W2ksb10scy5tYW5pcHVsYXRvci5ncmFwaGljLmdlb21ldHJ5PW5ldyBEKHt4OmkseTpvLHNwYXRpYWxSZWZlcmVuY2U6dH0pKTtjb25zdCBhPXRoaXMuX2RyYXdBY3RpdmU/dGhpcy5fdmVydGljZXNbcl0ubWFuaXB1bGF0b3I6bnVsbDt0aGlzLm1hbmlwdWxhdG9ycy5mb3JFYWNoKCgoe21hbmlwdWxhdG9yOmV9KT0+e2UuaW50ZXJhY3RpdmU9bnVsbD09YXx8ZSE9PWF9KSksdGhpcy5fdXBkYXRlUG9seWxpbmVzKCl9X3VwZGF0ZVBvbHlsaW5lcygpe2lmKHRoaXMuX3ZlcnRpY2VzLmxlbmd0aDwyKXJldHVybiB2b2lkIHRoaXMuX21lYXN1cmVtZW50TGF5ZXIucmVtb3ZlQWxsKCk7Y29uc3QgZT10aGlzLl92ZXJ0aWNlcy5tYXAoKCh7Y29vcmQ6ZX0pPT5lKSkse21lYXN1cmVtZW50Om8sZHJhd2luZzphLG9yaWdpbmFsOm59PUIoZSx0aGlzLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLmdlb2Rlc2ljRGlzdGFuY2VUaHJlc2hvbGQpO3RoaXMuX3NldChcIm1lYXN1cmVtZW50XCIsbyk7Y29uc3QgbD1WKHRoaXMubWVzc2FnZXMsbyx0aGlzLnVuaXQpO2xldCBtLGM7dGhpcy5fc2V0KFwibWVhc3VyZW1lbnRMYWJlbFwiLGwpO2NvbnN0e2dyYXBoaWNzOmh9PXRoaXMuX21lYXN1cmVtZW50TGF5ZXIscD0yPT09aC5sZW5ndGgse2VmZmVjdGl2ZVRoZW1lOnV9PXRoaXMudmlldztwPyhtPWguYXQoMCksYz1oLmF0KDEpKToobT1uZXcgdCh7c3ltYm9sOm5ldyBHKHtkYXRhOnt0eXBlOlwiQ0lNU3ltYm9sUmVmZXJlbmNlXCIsc3ltYm9sOnt0eXBlOlwiQ0lNTGluZVN5bWJvbFwiLHN5bWJvbExheWVyczpbe3R5cGU6XCJDSU1Tb2xpZFN0cm9rZVwiLGVmZmVjdHM6W3t0eXBlOlwiQ0lNR2VvbWV0cmljRWZmZWN0RGFzaGVzXCIsZGFzaFRlbXBsYXRlOlsxNCwxMl0sbGluZURhc2hFbmRpbmc6XCJGdWxsR2FwXCIsY29udHJvbFBvaW50RW5kaW5nOlwiTm9Db25zdHJhaW50XCJ9XSxlbmFibGU6ITAsY2FwU3R5bGU6XCJCdXR0XCIsam9pblN0eWxlOlwiUm91bmRcIix3aWR0aDozLjUsY29sb3I6cih1LmFjY2VudENvbG9yKS50b0FycmF5KCl9LHt0eXBlOlwiQ0lNU29saWRTdHJva2VcIixlbmFibGU6ITAsY2FwU3R5bGU6XCJCdXR0XCIsam9pblN0eWxlOlwiUm91bmRcIix3aWR0aDo1LGNvbG9yOnUuYWNjZW50Q29sb3IudG9BcnJheSgpfV19fX0pfSksYz1uZXcgdCh7c3ltYm9sOm5ldyBSKHtjb2xvcjp1LnRleHRDb2xvcixoYWxvQ29sb3I6cyhyKHUudGV4dENvbG9yLGkuTG93KSwuNSksaGFsb1NpemU6Mixmb250Om5ldyBQKHtzaXplOjE0LGZhbWlseTpcInNhbnMtc2VyaWZcIn0pfSl9KSxoLnJlbW92ZUFsbCgpLGguYWRkTWFueShbbSxjXSkpLG0uZ2VvbWV0cnk9YSxjLmdlb21ldHJ5PW4uZXh0ZW50Py5jZW50ZXIsYy5zeW1ib2wudGV4dD1sfX07ZnVuY3Rpb24gTyhlLHIsaSl7Y29uc3Qgbz1zKHIuZWZmZWN0aXZlVGhlbWUuYWNjZW50Q29sb3IsLjUpLGE9e3R5cGU6XCJzaW1wbGUtbGluZVwiLHdpZHRoOjB9LG49OCxsPW5ldyBVKHtzdHlsZTpcImNpcmNsZVwiLGNvbG9yOm8sc2l6ZTpuLG91dGxpbmU6YX0pLG09bmV3IFUoe3N0eWxlOlwiY2lyY2xlXCIsY29sb3I6byxzaXplOjEuNSpuLG91dGxpbmU6YX0pLGM9bmV3IHQoe2dlb21ldHJ5OmUsc3ltYm9sOmx9KTtyZXR1cm4gbmV3IEEoe3ZpZXc6cixsYXllcjppLGdyYXBoaWM6Yyxmb2N1c2VkU3ltYm9sOm19KX1mdW5jdGlvbiBCKGUsdCxyKXtjb25zdCBzPW5ldyBFKHtwYXRoczpbZV0sc3BhdGlhbFJlZmVyZW5jZTp0fSk7bGV0IGksbztpZih0LmlzR2VvZ3JhcGhpYylpZihfKHQpKWk9dyhbc10sXCJtZXRlcnNcIilbMF0sbz1nKHMseik7ZWxzZXtjb25zdCBlPWYocyxJLldHUzg0KSxyPWcoZSx6KTtpPXcoW2VdLFwibWV0ZXJzXCIpWzBdLG89ZihyLHQpfWVsc2UgaWYodC5pc1dlYk1lcmNhdG9yKWk9ZChzLFwibWV0ZXJzXCIpLG89eShzLHosXCJtZXRlcnNcIik7ZWxzZXtjb25zdCBlPXYocyxcIm1ldGVyc1wiKTtpZihlPj1yKXtjb25zdCBlPWYocyxJLldHUzg0KSxyPWcoZSx6KTtpPXcoW2VdLFwibWV0ZXJzXCIpWzBdLG89ZihyLHQpfWVsc2UgaT1lLG89c31yZXR1cm57bWVhc3VyZW1lbnQ6e2dlb21ldHJ5Om8sbGVuZ3RoOml9LG9yaWdpbmFsOnMsZHJhd2luZzpvfX1mdW5jdGlvbiBGKGUpe3JldHVybiBudWxsIT1lfWZ1bmN0aW9uIEgoZSl7aWYoIWUpcmV0dXJuITE7Y29uc3R7aXNHZW9ncmFwaGljOnQsaXNXZWJNZXJjYXRvcjpyLGlzV0dTODQ6c309ZTtyZXR1cm4gdCYmIXMmJiFfKGUpfHwhdCYmIXJ9ZnVuY3Rpb24gVihlLHQscil7aWYoIXR8fCFlKXJldHVyblwiXCI7c3dpdGNoKHIpe2Nhc2VcIm1ldHJpY1wiOnJldHVybiBjKGUsdC5sZW5ndGgsXCJtZXRlcnNcIik7Y2FzZVwiaW1wZXJpYWxcIjpyZXR1cm4gbShlLHQubGVuZ3RoLFwibWV0ZXJzXCIpO2RlZmF1bHQ6cmV0dXJuIGwoZSxoKHQubGVuZ3RoLFwibWV0ZXJzXCIscikscil9fWUoW3AoKV0sVy5wcm90b3R5cGUsXCJfZHJhd0FjdGl2ZVwiLHZvaWQgMCksZShbcCh7cmVhZE9ubHk6ITB9KV0sVy5wcm90b3R5cGUsXCJjdXJzb3JcIixudWxsKSxlKFtwKHt2YWx1ZTohMH0pXSxXLnByb3RvdHlwZSxcImVkaXRhYmxlXCIsbnVsbCksZShbcCh7dHlwZTpOdW1iZXJ9KV0sVy5wcm90b3R5cGUsXCJnZW9kZXNpY0Rpc3RhbmNlVGhyZXNob2xkXCIsdm9pZCAwKSxlKFtwKHtyZWFkT25seTohMH0pXSxXLnByb3RvdHlwZSxcIm1lYXN1cmVtZW50XCIsdm9pZCAwKSxlKFtwKHtyZWFkT25seTohMH0pXSxXLnByb3RvdHlwZSxcIm1lYXN1cmVtZW50TGFiZWxcIix2b2lkIDApLGUoW3AoKV0sVy5wcm90b3R5cGUsXCJtZXNzYWdlc1wiLHZvaWQgMCksZShbcCgpXSxXLnByb3RvdHlwZSxcInVuaXRcIix2b2lkIDApLGUoW3Aoe2NvbnN0cnVjdE9ubHk6ITB9KV0sVy5wcm90b3R5cGUsXCJ2aWV3XCIsdm9pZCAwKSxXPWUoW3UoXCJlc3JpLndpZGdldHMuRGlzdGFuY2VNZWFzdXJlbWVudDJELkRpc3RhbmNlTWVhc3VyZW1lbnQyRFRvb2xcIildLFcpO2V4cG9ydHtXIGFzIERpc3RhbmNlTWVhc3VyZW1lbnQyRFRvb2wsQiBhcyBjcmVhdGVEaXN0YW5jZU1lYXN1cmVtZW50SW5mbzJELFYgYXMgY3JlYXRlRGlzdGFuY2VNZWFzdXJlbWVudExhYmVsLEggYXMgaXNQcm9qZWN0aW9uRW5naW5lUmVxdWlyZWQsRiBhcyBpc1N1cHBvcnRlZH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e3dhdGNoIGFzIHQsaW5pdGlhbCBhcyBpLHdoZW5PbmNlIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e21lYXN1cmVtZW50TGVuZ3RoVW5pdHMgYXMgb31mcm9tXCIuLi8uLi9jb3JlL3VuaXRVdGlscy5qc1wiO2ltcG9ydHtwcm9wZXJ0eSBhcyByfWZyb21cIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvcHJvcGVydHkuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2Vuc3VyZVR5cGUuanNcIjtpbXBvcnRcIi4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7c3ViY2xhc3MgYXMgbn1mcm9tXCIuLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3N1YmNsYXNzLmpzXCI7aW1wb3J0e2xvYWQgYXMgbH1mcm9tXCIuLi8uLi9nZW9tZXRyeS9wcm9qZWN0aW9uLmpzXCI7aW1wb3J0e2RlZmF1bHRVbml0UHJvcGVydHlNZXRhZGF0YSBhcyBhfWZyb21cIi4uLy4uL3Byb3BlcnRpZXMvZGVmYXVsdFVuaXQuanNcIjtpbXBvcnR7aXNTdXBwb3J0ZWQgYXMgdSxpc1Byb2plY3Rpb25FbmdpbmVSZXF1aXJlZCBhcyBwLERpc3RhbmNlTWVhc3VyZW1lbnQyRFRvb2wgYXMgY31mcm9tXCIuL0Rpc3RhbmNlTWVhc3VyZW1lbnQyRFRvb2wuanNcIjtpbXBvcnR7SW50ZXJhY3RpdmVUb29sVmlld01vZGVsIGFzIGR9ZnJvbVwiLi4vc3VwcG9ydC9JbnRlcmFjdGl2ZVRvb2xWaWV3TW9kZWwuanNcIjtsZXQgaD1jbGFzcyBleHRlbmRzIGR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5zdXBwb3J0ZWRWaWV3VHlwZT1cIjJkXCIsdGhpcy51bnN1cHBvcnRlZEVycm9yTWVzc2FnZT1cIkRpc3RhbmNlTWVhc3VyZW1lbnQyRFZpZXdNb2RlbCBpcyBvbmx5IHN1cHBvcnRlZCBpbiAyRCB2aWV3cy5cIix0aGlzLmdlb2Rlc2ljRGlzdGFuY2VUaHJlc2hvbGQ9MWU1fWluaXRpYWxpemUoKXt0aGlzLmFkZEhhbmRsZXMoW3QoKCgpPT50aGlzLnZpZXc/LnNwYXRpYWxSZWZlcmVuY2UpLCgoKT0+dGhpcy5jbGVhcigpKSksdCgoKCk9PnRoaXMudW5pdCksKGU9PntudWxsIT10aGlzLnRvb2wmJih0aGlzLnRvb2wudW5pdD1lKX0pLGkpLHQoKCgpPT50aGlzLmdlb2Rlc2ljRGlzdGFuY2VUaHJlc2hvbGQpLChlPT57bnVsbCE9dGhpcy50b29sJiYodGhpcy50b29sLmdlb2Rlc2ljRGlzdGFuY2VUaHJlc2hvbGQ9ZSl9KSxpKV0pfWdldCBtZWFzdXJlbWVudCgpe3JldHVybiBudWxsIT10aGlzLnRvb2w/dGhpcy50b29sLm1lYXN1cmVtZW50Om51bGx9Z2V0IG1lYXN1cmVtZW50TGFiZWwoKXtyZXR1cm4gbnVsbCE9dGhpcy50b29sP3RoaXMudG9vbC5tZWFzdXJlbWVudExhYmVsOm51bGx9Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuZGlzYWJsZWR8fG51bGw9PXRoaXMudmlld3x8IXUodGhpcy52aWV3Py5zcGF0aWFsUmVmZXJlbmNlKT9cImRpc2FibGVkXCI6bnVsbCE9dGhpcy50b29sJiZ0aGlzLm1lYXN1cmVtZW50P3RoaXMudG9vbC5hY3RpdmU/XCJtZWFzdXJpbmdcIjpcIm1lYXN1cmVkXCI6XCJyZWFkeVwifWdldCB1bml0KCl7cmV0dXJuIHRoaXMuX3ZhbGlkYXRlVW5pdCh0aGlzLmRlZmF1bHRVbml0KX1zZXQgdW5pdChlKXt0aGlzLl9vdmVycmlkZUlmU29tZShcInVuaXRcIix0aGlzLl92YWxpZGF0ZVVuaXQoZSkpfWdldCB1bml0T3B0aW9ucygpe3JldHVybiBvfXNldCB1bml0T3B0aW9ucyhlKXt0aGlzLl9vdmVycmlkZUlmU29tZShcInVuaXRPcHRpb25zXCIsdGhpcy5fdmFsaWRhdGVVbml0cyhlKSl9YXN5bmMgc3RhcnQoKXtjb25zdCBlPXRoaXMudmlldztudWxsIT1lJiYoYXdhaXQgcygoKCk9PmUucmVhZHkpKSxwKGUuc3BhdGlhbFJlZmVyZW5jZSkmJmF3YWl0IGwoKSksdGhpcy5jcmVhdGVUb29sKHtpbnRlcmFjdGl2ZTohMH0pfWNsZWFyKCl7dGhpcy5yZW1vdmVUb29sKCl9Y29uc3RydWN0VG9vbCgpe3JldHVybiBuZXcgYyh7dmlldzp0aGlzLnZpZXcsdmlzaWJsZTp0aGlzLnZpc2libGUsZ2VvZGVzaWNEaXN0YW5jZVRocmVzaG9sZDp0aGlzLmdlb2Rlc2ljRGlzdGFuY2VUaHJlc2hvbGQsdW5pdDp0aGlzLnVuaXR9KX1fdmFsaWRhdGVVbml0KGUpe2NvbnN0e3VuaXRPcHRpb25zOnQsZGVmYXVsdFVuaXQ6aX09dGhpcztyZXR1cm4gbnVsbCE9ZSYmdC5pbmNsdWRlcyhlKT9lOnQuaW5jbHVkZXMoaSk/aTp0Lmxlbmd0aD4wP3RbMF06aX1fdmFsaWRhdGVVbml0cyhlKXtpZihudWxsPT1lKXJldHVybltdO2NvbnN0IHQ9ZS5maWx0ZXIoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gMD09PXQubGVuZ3RoP28uc2xpY2UoKTp0fX07ZShbcihhKV0saC5wcm90b3R5cGUsXCJkZWZhdWx0VW5pdFwiLHZvaWQgMCksZShbcih7dHlwZTpOdW1iZXJ9KV0saC5wcm90b3R5cGUsXCJnZW9kZXNpY0Rpc3RhbmNlVGhyZXNob2xkXCIsdm9pZCAwKSxlKFtyKHtyZWFkT25seTohMH0pXSxoLnByb3RvdHlwZSxcIm1lYXN1cmVtZW50XCIsbnVsbCksZShbcih7cmVhZE9ubHk6ITB9KV0saC5wcm90b3R5cGUsXCJtZWFzdXJlbWVudExhYmVsXCIsbnVsbCksZShbcih7cmVhZE9ubHk6ITB9KV0saC5wcm90b3R5cGUsXCJzdGF0ZVwiLG51bGwpLGUoW3Ioe3R5cGU6U3RyaW5nfSldLGgucHJvdG90eXBlLFwidW5pdFwiLG51bGwpLGUoW3Ioe3R5cGU6W1N0cmluZ119KV0saC5wcm90b3R5cGUsXCJ1bml0T3B0aW9uc1wiLG51bGwpLGg9ZShbbihcImVzcmkud2lkZ2V0cy5EaXN0YW5jZU1lYXN1cmVtZW50MkQuRGlzdGFuY2VNZWFzdXJlbWVudDJEVmlld01vZGVsXCIpXSxoKTtjb25zdCBtPWg7ZXhwb3J0e20gYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=